(function(){"use strict";(function(t,a){const i=setInterval(()=>{try{if(typeof document<"u"){const e=document.createElement("style");for(const r in a.attributes)e.setAttribute(r,a.attributes[r]);e.appendChild(document.createTextNode(t)),document.head.appendChild(e),clearInterval(i)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}},500)})('*,*:before,*:after{box-sizing:border-box}input,button,textarea,select{font:inherit}#hibisco-root,.hibisco-root{margin:0;font-family:var(--mantine-font-family);font-size:var(--mantine-font-size-md);line-height:var(--mantine-line-height);background-color:var(--mantine-color-body);color:var(--mantine-color-text);-webkit-font-smoothing:var(--mantine-webkit-font-smoothing);-moz-osx-font-smoothing:var(--mantine-moz-font-smoothing)}@media screen and (max-device-width: 31.25em){#hibisco-root,.hibisco-root{-webkit-text-size-adjust:100%}}@media (prefers-reduced-motion: reduce){[data-respect-reduced-motion] [data-reduce-motion]{transition:none;animation:none}}[data-mantine-color-scheme=light] .mantine-light-hidden,[data-mantine-color-scheme=dark] .mantine-dark-hidden{display:none}.mantine-focus-auto:focus-visible{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.mantine-focus-always:focus{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.mantine-focus-never:focus{outline:none}.mantine-active:active{transform:translateY(calc(.0625rem * var(--mantine-scale)))}fieldset:disabled .mantine-active:active{transform:none}:where([dir=rtl]) .mantine-rotate-rtl{transform:rotate(180deg)}#hibisco-root,.hibisco-root{color-scheme:var(--mantine-color-scheme);--mantine-z-index-app: 100;--mantine-z-index-modal: 200;--mantine-z-index-popover: 300;--mantine-z-index-overlay: 400;--mantine-z-index-max: 9999;--mantine-scale: 1;--mantine-cursor-type: default;--mantine-webkit-font-smoothing: antialiased;--mantine-color-scheme: light dark;--mantine-moz-font-smoothing: grayscale;--mantine-color-white: #fff;--mantine-color-black: #000;--mantine-line-height: 1.55;--mantine-font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;--mantine-font-family-monospace: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace;--mantine-font-family-headings: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji;--mantine-heading-font-weight: 700;--mantine-radius-default: calc(.25rem * var(--mantine-scale));--mantine-primary-color-0: var(--mantine-color-blue-0);--mantine-primary-color-1: var(--mantine-color-blue-1);--mantine-primary-color-2: var(--mantine-color-blue-2);--mantine-primary-color-3: var(--mantine-color-blue-3);--mantine-primary-color-4: var(--mantine-color-blue-4);--mantine-primary-color-5: var(--mantine-color-blue-5);--mantine-primary-color-6: var(--mantine-color-blue-6);--mantine-primary-color-7: var(--mantine-color-blue-7);--mantine-primary-color-8: var(--mantine-color-blue-8);--mantine-primary-color-9: var(--mantine-color-blue-9);--mantine-primary-color-filled: var(--mantine-color-blue-filled);--mantine-primary-color-filled-hover: var(--mantine-color-blue-filled-hover);--mantine-primary-color-light: var(--mantine-color-blue-light);--mantine-primary-color-light-hover: var(--mantine-color-blue-light-hover);--mantine-primary-color-light-color: var(--mantine-color-blue-light-color);--mantine-breakpoint-xs: 36em;--mantine-breakpoint-sm: 48em;--mantine-breakpoint-md: 62em;--mantine-breakpoint-lg: 75em;--mantine-breakpoint-xl: 88em;--mantine-spacing-xs: calc(.625rem * var(--mantine-scale));--mantine-spacing-sm: calc(.75rem * var(--mantine-scale));--mantine-spacing-md: calc(1rem * var(--mantine-scale));--mantine-spacing-lg: calc(1.25rem * var(--mantine-scale));--mantine-spacing-xl: calc(2rem * var(--mantine-scale));--mantine-font-size-xs: calc(.75rem * var(--mantine-scale));--mantine-font-size-sm: calc(.875rem * var(--mantine-scale));--mantine-font-size-md: calc(1rem * var(--mantine-scale));--mantine-font-size-lg: calc(1.125rem * var(--mantine-scale));--mantine-font-size-xl: calc(1.25rem * var(--mantine-scale));--mantine-line-height-xs: 1.4;--mantine-line-height-sm: 1.45;--mantine-line-height-md: 1.55;--mantine-line-height-lg: 1.6;--mantine-line-height-xl: 1.65;--mantine-shadow-xs: 0 calc(.0625rem * var(--mantine-scale)) calc(.1875rem * var(--mantine-scale)) rgba(0, 0, 0, .05), 0 calc(.0625rem * var(--mantine-scale)) calc(.125rem * var(--mantine-scale)) rgba(0, 0, 0, .1);--mantine-shadow-sm: 0 calc(.0625rem * var(--mantine-scale)) calc(.1875rem * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(.625rem * var(--mantine-scale)) calc(.9375rem * var(--mantine-scale)) calc(-.3125rem * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(.4375rem * var(--mantine-scale)) calc(.4375rem * var(--mantine-scale)) calc(-.3125rem * var(--mantine-scale));--mantine-shadow-md: 0 calc(.0625rem * var(--mantine-scale)) calc(.1875rem * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(1.25rem * var(--mantine-scale)) calc(1.5625rem * var(--mantine-scale)) calc(-.3125rem * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(.625rem * var(--mantine-scale)) calc(.625rem * var(--mantine-scale)) calc(-.3125rem * var(--mantine-scale));--mantine-shadow-lg: 0 calc(.0625rem * var(--mantine-scale)) calc(.1875rem * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(1.75rem * var(--mantine-scale)) calc(1.4375rem * var(--mantine-scale)) calc(-.4375rem * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(.75rem * var(--mantine-scale)) calc(.75rem * var(--mantine-scale)) calc(-.4375rem * var(--mantine-scale));--mantine-shadow-xl: 0 calc(.0625rem * var(--mantine-scale)) calc(.1875rem * var(--mantine-scale)) rgba(0, 0, 0, .05), rgba(0, 0, 0, .05) 0 calc(2.25rem * var(--mantine-scale)) calc(1.75rem * var(--mantine-scale)) calc(-.4375rem * var(--mantine-scale)), rgba(0, 0, 0, .04) 0 calc(1.0625rem * var(--mantine-scale)) calc(1.0625rem * var(--mantine-scale)) calc(-.4375rem * var(--mantine-scale));--mantine-radius-xs: calc(.125rem * var(--mantine-scale));--mantine-radius-sm: calc(.25rem * var(--mantine-scale));--mantine-radius-md: calc(.5rem * var(--mantine-scale));--mantine-radius-lg: calc(1rem * var(--mantine-scale));--mantine-radius-xl: calc(2rem * var(--mantine-scale));--mantine-color-dark-0: #c9c9c9;--mantine-color-dark-1: #b8b8b8;--mantine-color-dark-2: #828282;--mantine-color-dark-3: #696969;--mantine-color-dark-4: #424242;--mantine-color-dark-5: #3b3b3b;--mantine-color-dark-6: #2e2e2e;--mantine-color-dark-7: #242424;--mantine-color-dark-8: #1f1f1f;--mantine-color-dark-9: #141414;--mantine-color-gray-0: #f8f9fa;--mantine-color-gray-1: #f1f3f5;--mantine-color-gray-2: #e9ecef;--mantine-color-gray-3: #dee2e6;--mantine-color-gray-4: #ced4da;--mantine-color-gray-5: #adb5bd;--mantine-color-gray-6: #868e96;--mantine-color-gray-7: #495057;--mantine-color-gray-8: #343a40;--mantine-color-gray-9: #212529;--mantine-color-red-0: #fff5f5;--mantine-color-red-1: #ffe3e3;--mantine-color-red-2: #ffc9c9;--mantine-color-red-3: #ffa8a8;--mantine-color-red-4: #ff8787;--mantine-color-red-5: #ff6b6b;--mantine-color-red-6: #fa5252;--mantine-color-red-7: #f03e3e;--mantine-color-red-8: #e03131;--mantine-color-red-9: #c92a2a;--mantine-color-pink-0: #fff0f6;--mantine-color-pink-1: #ffdeeb;--mantine-color-pink-2: #fcc2d7;--mantine-color-pink-3: #faa2c1;--mantine-color-pink-4: #f783ac;--mantine-color-pink-5: #f06595;--mantine-color-pink-6: #e64980;--mantine-color-pink-7: #d6336c;--mantine-color-pink-8: #c2255c;--mantine-color-pink-9: #a61e4d;--mantine-color-grape-0: #f8f0fc;--mantine-color-grape-1: #f3d9fa;--mantine-color-grape-2: #eebefa;--mantine-color-grape-3: #e599f7;--mantine-color-grape-4: #da77f2;--mantine-color-grape-5: #cc5de8;--mantine-color-grape-6: #be4bdb;--mantine-color-grape-7: #ae3ec9;--mantine-color-grape-8: #9c36b5;--mantine-color-grape-9: #862e9c;--mantine-color-violet-0: #f3f0ff;--mantine-color-violet-1: #e5dbff;--mantine-color-violet-2: #d0bfff;--mantine-color-violet-3: #b197fc;--mantine-color-violet-4: #9775fa;--mantine-color-violet-5: #845ef7;--mantine-color-violet-6: #7950f2;--mantine-color-violet-7: #7048e8;--mantine-color-violet-8: #6741d9;--mantine-color-violet-9: #5f3dc4;--mantine-color-indigo-0: #edf2ff;--mantine-color-indigo-1: #dbe4ff;--mantine-color-indigo-2: #bac8ff;--mantine-color-indigo-3: #91a7ff;--mantine-color-indigo-4: #748ffc;--mantine-color-indigo-5: #5c7cfa;--mantine-color-indigo-6: #4c6ef5;--mantine-color-indigo-7: #4263eb;--mantine-color-indigo-8: #3b5bdb;--mantine-color-indigo-9: #364fc7;--mantine-color-blue-0: #e7f5ff;--mantine-color-blue-1: #d0ebff;--mantine-color-blue-2: #a5d8ff;--mantine-color-blue-3: #74c0fc;--mantine-color-blue-4: #4dabf7;--mantine-color-blue-5: #339af0;--mantine-color-blue-6: #228be6;--mantine-color-blue-7: #1c7ed6;--mantine-color-blue-8: #1971c2;--mantine-color-blue-9: #1864ab;--mantine-color-cyan-0: #e3fafc;--mantine-color-cyan-1: #c5f6fa;--mantine-color-cyan-2: #99e9f2;--mantine-color-cyan-3: #66d9e8;--mantine-color-cyan-4: #3bc9db;--mantine-color-cyan-5: #22b8cf;--mantine-color-cyan-6: #15aabf;--mantine-color-cyan-7: #1098ad;--mantine-color-cyan-8: #0c8599;--mantine-color-cyan-9: #0b7285;--mantine-color-teal-0: #e6fcf5;--mantine-color-teal-1: #c3fae8;--mantine-color-teal-2: #96f2d7;--mantine-color-teal-3: #63e6be;--mantine-color-teal-4: #38d9a9;--mantine-color-teal-5: #20c997;--mantine-color-teal-6: #12b886;--mantine-color-teal-7: #0ca678;--mantine-color-teal-8: #099268;--mantine-color-teal-9: #087f5b;--mantine-color-green-0: #ebfbee;--mantine-color-green-1: #d3f9d8;--mantine-color-green-2: #b2f2bb;--mantine-color-green-3: #8ce99a;--mantine-color-green-4: #69db7c;--mantine-color-green-5: #51cf66;--mantine-color-green-6: #40c057;--mantine-color-green-7: #37b24d;--mantine-color-green-8: #2f9e44;--mantine-color-green-9: #2b8a3e;--mantine-color-lime-0: #f4fce3;--mantine-color-lime-1: #e9fac8;--mantine-color-lime-2: #d8f5a2;--mantine-color-lime-3: #c0eb75;--mantine-color-lime-4: #a9e34b;--mantine-color-lime-5: #94d82d;--mantine-color-lime-6: #82c91e;--mantine-color-lime-7: #74b816;--mantine-color-lime-8: #66a80f;--mantine-color-lime-9: #5c940d;--mantine-color-yellow-0: #fff9db;--mantine-color-yellow-1: #fff3bf;--mantine-color-yellow-2: #ffec99;--mantine-color-yellow-3: #ffe066;--mantine-color-yellow-4: #ffd43b;--mantine-color-yellow-5: #fcc419;--mantine-color-yellow-6: #fab005;--mantine-color-yellow-7: #f59f00;--mantine-color-yellow-8: #f08c00;--mantine-color-yellow-9: #e67700;--mantine-color-orange-0: #fff4e6;--mantine-color-orange-1: #ffe8cc;--mantine-color-orange-2: #ffd8a8;--mantine-color-orange-3: #ffc078;--mantine-color-orange-4: #ffa94d;--mantine-color-orange-5: #ff922b;--mantine-color-orange-6: #fd7e14;--mantine-color-orange-7: #f76707;--mantine-color-orange-8: #e8590c;--mantine-color-orange-9: #d9480f;--mantine-h1-font-size: calc(2.125rem * var(--mantine-scale));--mantine-h1-line-height: 1.3;--mantine-h1-font-weight: 700;--mantine-h2-font-size: calc(1.625rem * var(--mantine-scale));--mantine-h2-line-height: 1.35;--mantine-h2-font-weight: 700;--mantine-h3-font-size: calc(1.375rem * var(--mantine-scale));--mantine-h3-line-height: 1.4;--mantine-h3-font-weight: 700;--mantine-h4-font-size: calc(1.125rem * var(--mantine-scale));--mantine-h4-line-height: 1.45;--mantine-h4-font-weight: 700;--mantine-h5-font-size: calc(1rem * var(--mantine-scale));--mantine-h5-line-height: 1.5;--mantine-h5-font-weight: 700;--mantine-h6-font-size: calc(.875rem * var(--mantine-scale));--mantine-h6-line-height: 1.5;--mantine-h6-font-weight: 700}#hibisco-root,.hibisco-root[data-mantine-color-scheme=dark]{--mantine-color-scheme: dark;--mantine-primary-color-contrast: var(--mantine-color-white);--mantine-color-bright: var(--mantine-color-white);--mantine-color-text: var(--mantine-color-dark-0);--mantine-color-body: var(--mantine-color-dark-7);--mantine-color-error: var(--mantine-color-red-8);--mantine-color-placeholder: var(--mantine-color-dark-3);--mantine-color-anchor: var(--mantine-color-blue-4);--mantine-color-default: var(--mantine-color-dark-6);--mantine-color-default-hover: var(--mantine-color-dark-5);--mantine-color-default-color: var(--mantine-color-white);--mantine-color-default-border: var(--mantine-color-dark-4);--mantine-color-dimmed: var(--mantine-color-dark-2);--mantine-color-dark-text: var(--mantine-color-dark-4);--mantine-color-dark-filled: var(--mantine-color-dark-8);--mantine-color-dark-filled-hover: var(--mantine-color-dark-7);--mantine-color-dark-light: rgba(36, 36, 36, .15);--mantine-color-dark-light-hover: rgba(36, 36, 36, .2);--mantine-color-dark-light-color: var(--mantine-color-dark-3);--mantine-color-dark-outline: var(--mantine-color-dark-4);--mantine-color-dark-outline-hover: rgba(36, 36, 36, .05);--mantine-color-gray-text: var(--mantine-color-gray-4);--mantine-color-gray-filled: var(--mantine-color-gray-8);--mantine-color-gray-filled-hover: var(--mantine-color-gray-9);--mantine-color-gray-light: rgba(134, 142, 150, .15);--mantine-color-gray-light-hover: rgba(134, 142, 150, .2);--mantine-color-gray-light-color: var(--mantine-color-gray-3);--mantine-color-gray-outline: var(--mantine-color-gray-4);--mantine-color-gray-outline-hover: rgba(206, 212, 218, .05);--mantine-color-red-text: var(--mantine-color-red-4);--mantine-color-red-filled: var(--mantine-color-red-8);--mantine-color-red-filled-hover: var(--mantine-color-red-9);--mantine-color-red-light: rgba(250, 82, 82, .15);--mantine-color-red-light-hover: rgba(250, 82, 82, .2);--mantine-color-red-light-color: var(--mantine-color-red-3);--mantine-color-red-outline: var(--mantine-color-red-4);--mantine-color-red-outline-hover: rgba(255, 135, 135, .05);--mantine-color-pink-text: var(--mantine-color-pink-4);--mantine-color-pink-filled: var(--mantine-color-pink-8);--mantine-color-pink-filled-hover: var(--mantine-color-pink-9);--mantine-color-pink-light: rgba(230, 73, 128, .15);--mantine-color-pink-light-hover: rgba(230, 73, 128, .2);--mantine-color-pink-light-color: var(--mantine-color-pink-3);--mantine-color-pink-outline: var(--mantine-color-pink-4);--mantine-color-pink-outline-hover: rgba(247, 131, 172, .05);--mantine-color-grape-text: var(--mantine-color-grape-4);--mantine-color-grape-filled: var(--mantine-color-grape-8);--mantine-color-grape-filled-hover: var(--mantine-color-grape-9);--mantine-color-grape-light: rgba(190, 75, 219, .15);--mantine-color-grape-light-hover: rgba(190, 75, 219, .2);--mantine-color-grape-light-color: var(--mantine-color-grape-3);--mantine-color-grape-outline: var(--mantine-color-grape-4);--mantine-color-grape-outline-hover: rgba(218, 119, 242, .05);--mantine-color-violet-text: var(--mantine-color-violet-4);--mantine-color-violet-filled: var(--mantine-color-violet-8);--mantine-color-violet-filled-hover: var(--mantine-color-violet-9);--mantine-color-violet-light: rgba(121, 80, 242, .15);--mantine-color-violet-light-hover: rgba(121, 80, 242, .2);--mantine-color-violet-light-color: var(--mantine-color-violet-3);--mantine-color-violet-outline: var(--mantine-color-violet-4);--mantine-color-violet-outline-hover: rgba(151, 117, 250, .05);--mantine-color-indigo-text: var(--mantine-color-indigo-4);--mantine-color-indigo-filled: var(--mantine-color-indigo-8);--mantine-color-indigo-filled-hover: var(--mantine-color-indigo-9);--mantine-color-indigo-light: rgba(76, 110, 245, .15);--mantine-color-indigo-light-hover: rgba(76, 110, 245, .2);--mantine-color-indigo-light-color: var(--mantine-color-indigo-3);--mantine-color-indigo-outline: var(--mantine-color-indigo-4);--mantine-color-indigo-outline-hover: rgba(116, 143, 252, .05);--mantine-color-blue-text: var(--mantine-color-blue-4);--mantine-color-blue-filled: var(--mantine-color-blue-8);--mantine-color-blue-filled-hover: var(--mantine-color-blue-9);--mantine-color-blue-light: rgba(34, 139, 230, .15);--mantine-color-blue-light-hover: rgba(34, 139, 230, .2);--mantine-color-blue-light-color: var(--mantine-color-blue-3);--mantine-color-blue-outline: var(--mantine-color-blue-4);--mantine-color-blue-outline-hover: rgba(77, 171, 247, .05);--mantine-color-cyan-text: var(--mantine-color-cyan-4);--mantine-color-cyan-filled: var(--mantine-color-cyan-8);--mantine-color-cyan-filled-hover: var(--mantine-color-cyan-9);--mantine-color-cyan-light: rgba(21, 170, 191, .15);--mantine-color-cyan-light-hover: rgba(21, 170, 191, .2);--mantine-color-cyan-light-color: var(--mantine-color-cyan-3);--mantine-color-cyan-outline: var(--mantine-color-cyan-4);--mantine-color-cyan-outline-hover: rgba(59, 201, 219, .05);--mantine-color-teal-text: var(--mantine-color-teal-4);--mantine-color-teal-filled: var(--mantine-color-teal-8);--mantine-color-teal-filled-hover: var(--mantine-color-teal-9);--mantine-color-teal-light: rgba(18, 184, 134, .15);--mantine-color-teal-light-hover: rgba(18, 184, 134, .2);--mantine-color-teal-light-color: var(--mantine-color-teal-3);--mantine-color-teal-outline: var(--mantine-color-teal-4);--mantine-color-teal-outline-hover: rgba(56, 217, 169, .05);--mantine-color-green-text: var(--mantine-color-green-4);--mantine-color-green-filled: var(--mantine-color-green-8);--mantine-color-green-filled-hover: var(--mantine-color-green-9);--mantine-color-green-light: rgba(64, 192, 87, .15);--mantine-color-green-light-hover: rgba(64, 192, 87, .2);--mantine-color-green-light-color: var(--mantine-color-green-3);--mantine-color-green-outline: var(--mantine-color-green-4);--mantine-color-green-outline-hover: rgba(105, 219, 124, .05);--mantine-color-lime-text: var(--mantine-color-lime-4);--mantine-color-lime-filled: var(--mantine-color-lime-8);--mantine-color-lime-filled-hover: var(--mantine-color-lime-9);--mantine-color-lime-light: rgba(130, 201, 30, .15);--mantine-color-lime-light-hover: rgba(130, 201, 30, .2);--mantine-color-lime-light-color: var(--mantine-color-lime-3);--mantine-color-lime-outline: var(--mantine-color-lime-4);--mantine-color-lime-outline-hover: rgba(169, 227, 75, .05);--mantine-color-yellow-text: var(--mantine-color-yellow-4);--mantine-color-yellow-filled: var(--mantine-color-yellow-8);--mantine-color-yellow-filled-hover: var(--mantine-color-yellow-9);--mantine-color-yellow-light: rgba(250, 176, 5, .15);--mantine-color-yellow-light-hover: rgba(250, 176, 5, .2);--mantine-color-yellow-light-color: var(--mantine-color-yellow-3);--mantine-color-yellow-outline: var(--mantine-color-yellow-4);--mantine-color-yellow-outline-hover: rgba(255, 212, 59, .05);--mantine-color-orange-text: var(--mantine-color-orange-4);--mantine-color-orange-filled: var(--mantine-color-orange-8);--mantine-color-orange-filled-hover: var(--mantine-color-orange-9);--mantine-color-orange-light: rgba(253, 126, 20, .15);--mantine-color-orange-light-hover: rgba(253, 126, 20, .2);--mantine-color-orange-light-color: var(--mantine-color-orange-3);--mantine-color-orange-outline: var(--mantine-color-orange-4);--mantine-color-orange-outline-hover: rgba(255, 169, 77, .05)}#hibisco-root,.hibisco-root[data-mantine-color-scheme=light]{--mantine-color-scheme: light;--mantine-color-bright: var(--mantine-color-black);--mantine-color-text: var(--mantine-color-black);--mantine-color-body: var(--mantine-color-white);--mantine-primary-color-contrast: var(--mantine-color-white);--mantine-color-error: var(--mantine-color-red-6);--mantine-color-placeholder: var(--mantine-color-gray-5);--mantine-color-anchor: var(--mantine-primary-color-filled);--mantine-color-default: var(--mantine-color-white);--mantine-color-default-hover: var(--mantine-color-gray-0);--mantine-color-default-color: var(--mantine-color-gray-9);--mantine-color-default-border: var(--mantine-color-gray-4);--mantine-color-dimmed: var(--mantine-color-gray-6);--mantine-color-dark-text: var(--mantine-color-dark-filled);--mantine-color-dark-filled: var(--mantine-color-dark-6);--mantine-color-dark-filled-hover: var(--mantine-color-dark-7);--mantine-color-dark-light: rgba(56, 56, 56, .1);--mantine-color-dark-light-hover: rgba(56, 56, 56, .12);--mantine-color-dark-light-color: var(--mantine-color-dark-6);--mantine-color-dark-outline: var(--mantine-color-dark-6);--mantine-color-dark-outline-hover: rgba(56, 56, 56, .05);--mantine-color-gray-text: var(--mantine-color-gray-filled);--mantine-color-gray-filled: var(--mantine-color-gray-6);--mantine-color-gray-filled-hover: var(--mantine-color-gray-7);--mantine-color-gray-light: rgba(134, 142, 150, .1);--mantine-color-gray-light-hover: rgba(134, 142, 150, .12);--mantine-color-gray-light-color: var(--mantine-color-gray-6);--mantine-color-gray-outline: var(--mantine-color-gray-6);--mantine-color-gray-outline-hover: rgba(134, 142, 150, .05);--mantine-color-red-text: var(--mantine-color-red-filled);--mantine-color-red-filled: var(--mantine-color-red-6);--mantine-color-red-filled-hover: var(--mantine-color-red-7);--mantine-color-red-light: rgba(250, 82, 82, .1);--mantine-color-red-light-hover: rgba(250, 82, 82, .12);--mantine-color-red-light-color: var(--mantine-color-red-6);--mantine-color-red-outline: var(--mantine-color-red-6);--mantine-color-red-outline-hover: rgba(250, 82, 82, .05);--mantine-color-pink-text: var(--mantine-color-pink-filled);--mantine-color-pink-filled: var(--mantine-color-pink-6);--mantine-color-pink-filled-hover: var(--mantine-color-pink-7);--mantine-color-pink-light: rgba(230, 73, 128, .1);--mantine-color-pink-light-hover: rgba(230, 73, 128, .12);--mantine-color-pink-light-color: var(--mantine-color-pink-6);--mantine-color-pink-outline: var(--mantine-color-pink-6);--mantine-color-pink-outline-hover: rgba(230, 73, 128, .05);--mantine-color-grape-text: var(--mantine-color-grape-filled);--mantine-color-grape-filled: var(--mantine-color-grape-6);--mantine-color-grape-filled-hover: var(--mantine-color-grape-7);--mantine-color-grape-light: rgba(190, 75, 219, .1);--mantine-color-grape-light-hover: rgba(190, 75, 219, .12);--mantine-color-grape-light-color: var(--mantine-color-grape-6);--mantine-color-grape-outline: var(--mantine-color-grape-6);--mantine-color-grape-outline-hover: rgba(190, 75, 219, .05);--mantine-color-violet-text: var(--mantine-color-violet-filled);--mantine-color-violet-filled: var(--mantine-color-violet-6);--mantine-color-violet-filled-hover: var(--mantine-color-violet-7);--mantine-color-violet-light: rgba(121, 80, 242, .1);--mantine-color-violet-light-hover: rgba(121, 80, 242, .12);--mantine-color-violet-light-color: var(--mantine-color-violet-6);--mantine-color-violet-outline: var(--mantine-color-violet-6);--mantine-color-violet-outline-hover: rgba(121, 80, 242, .05);--mantine-color-indigo-text: var(--mantine-color-indigo-filled);--mantine-color-indigo-filled: var(--mantine-color-indigo-6);--mantine-color-indigo-filled-hover: var(--mantine-color-indigo-7);--mantine-color-indigo-light: rgba(76, 110, 245, .1);--mantine-color-indigo-light-hover: rgba(76, 110, 245, .12);--mantine-color-indigo-light-color: var(--mantine-color-indigo-6);--mantine-color-indigo-outline: var(--mantine-color-indigo-6);--mantine-color-indigo-outline-hover: rgba(76, 110, 245, .05);--mantine-color-blue-text: var(--mantine-color-blue-filled);--mantine-color-blue-filled: var(--mantine-color-blue-6);--mantine-color-blue-filled-hover: var(--mantine-color-blue-7);--mantine-color-blue-light: rgba(34, 139, 230, .1);--mantine-color-blue-light-hover: rgba(34, 139, 230, .12);--mantine-color-blue-light-color: var(--mantine-color-blue-6);--mantine-color-blue-outline: var(--mantine-color-blue-6);--mantine-color-blue-outline-hover: rgba(34, 139, 230, .05);--mantine-color-cyan-text: var(--mantine-color-cyan-filled);--mantine-color-cyan-filled: var(--mantine-color-cyan-6);--mantine-color-cyan-filled-hover: var(--mantine-color-cyan-7);--mantine-color-cyan-light: rgba(21, 170, 191, .1);--mantine-color-cyan-light-hover: rgba(21, 170, 191, .12);--mantine-color-cyan-light-color: var(--mantine-color-cyan-6);--mantine-color-cyan-outline: var(--mantine-color-cyan-6);--mantine-color-cyan-outline-hover: rgba(21, 170, 191, .05);--mantine-color-teal-text: var(--mantine-color-teal-filled);--mantine-color-teal-filled: var(--mantine-color-teal-6);--mantine-color-teal-filled-hover: var(--mantine-color-teal-7);--mantine-color-teal-light: rgba(18, 184, 134, .1);--mantine-color-teal-light-hover: rgba(18, 184, 134, .12);--mantine-color-teal-light-color: var(--mantine-color-teal-6);--mantine-color-teal-outline: var(--mantine-color-teal-6);--mantine-color-teal-outline-hover: rgba(18, 184, 134, .05);--mantine-color-green-text: var(--mantine-color-green-filled);--mantine-color-green-filled: var(--mantine-color-green-6);--mantine-color-green-filled-hover: var(--mantine-color-green-7);--mantine-color-green-light: rgba(64, 192, 87, .1);--mantine-color-green-light-hover: rgba(64, 192, 87, .12);--mantine-color-green-light-color: var(--mantine-color-green-6);--mantine-color-green-outline: var(--mantine-color-green-6);--mantine-color-green-outline-hover: rgba(64, 192, 87, .05);--mantine-color-lime-text: var(--mantine-color-lime-filled);--mantine-color-lime-filled: var(--mantine-color-lime-6);--mantine-color-lime-filled-hover: var(--mantine-color-lime-7);--mantine-color-lime-light: rgba(130, 201, 30, .1);--mantine-color-lime-light-hover: rgba(130, 201, 30, .12);--mantine-color-lime-light-color: var(--mantine-color-lime-6);--mantine-color-lime-outline: var(--mantine-color-lime-6);--mantine-color-lime-outline-hover: rgba(130, 201, 30, .05);--mantine-color-yellow-text: var(--mantine-color-yellow-filled);--mantine-color-yellow-filled: var(--mantine-color-yellow-6);--mantine-color-yellow-filled-hover: var(--mantine-color-yellow-7);--mantine-color-yellow-light: rgba(250, 176, 5, .1);--mantine-color-yellow-light-hover: rgba(250, 176, 5, .12);--mantine-color-yellow-light-color: var(--mantine-color-yellow-6);--mantine-color-yellow-outline: var(--mantine-color-yellow-6);--mantine-color-yellow-outline-hover: rgba(250, 176, 5, .05);--mantine-color-orange-text: var(--mantine-color-orange-filled);--mantine-color-orange-filled: var(--mantine-color-orange-6);--mantine-color-orange-filled-hover: var(--mantine-color-orange-7);--mantine-color-orange-light: rgba(253, 126, 20, .1);--mantine-color-orange-light-hover: rgba(253, 126, 20, .12);--mantine-color-orange-light-color: var(--mantine-color-orange-6);--mantine-color-orange-outline: var(--mantine-color-orange-6);--mantine-color-orange-outline-hover: rgba(253, 126, 20, .05)}.m_d57069b5{--scrollarea-scrollbar-size: calc(.75rem * var(--mantine-scale));position:relative;overflow:hidden}.m_c0783ff9{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;width:100%;height:100%}.m_c0783ff9::-webkit-scrollbar{display:none}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=y]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=y]){padding-inline-end:var(--scrollarea-scrollbar-size);padding-inline-start:unset}.m_c0783ff9:where([data-scrollbars=xy],[data-scrollbars=x]):where([data-offset-scrollbars=xy],[data-offset-scrollbars=x]){padding-bottom:var(--scrollarea-scrollbar-size)}.m_f8f631dd{min-width:100%;display:table}.m_c44ba933{-webkit-user-select:none;user-select:none;touch-action:none;box-sizing:border-box;transition:background-color .15s ease,opacity .15s ease;padding:calc(var(--scrollarea-scrollbar-size) / 5);display:flex;background-color:transparent;flex-direction:row}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_c44ba933:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=light]) .m_c44ba933:hover>.m_d8b5e363{background-color:#00000080}:where([data-mantine-color-scheme=dark]) .m_c44ba933:hover{background-color:var(--mantine-color-dark-8)}:where([data-mantine-color-scheme=dark]) .m_c44ba933:hover>.m_d8b5e363{background-color:#ffffff80}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_c44ba933:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=light]) .m_c44ba933:active>.m_d8b5e363{background-color:#00000080}:where([data-mantine-color-scheme=dark]) .m_c44ba933:active{background-color:var(--mantine-color-dark-8)}:where([data-mantine-color-scheme=dark]) .m_c44ba933:active>.m_d8b5e363{background-color:#ffffff80}}.m_c44ba933:where([data-hidden],[data-state=hidden]){display:none}.m_c44ba933:where([data-orientation=vertical]){width:var(--scrollarea-scrollbar-size);top:0;bottom:var(--sa-corner-width);inset-inline-end:0}.m_c44ba933:where([data-orientation=horizontal]){height:var(--scrollarea-scrollbar-size);flex-direction:column;bottom:0;inset-inline-start:0;inset-inline-end:var(--sa-corner-width)}.m_d8b5e363{flex:1;border-radius:var(--scrollarea-scrollbar-size);position:relative;transition:background-color .15s ease;overflow:hidden}.m_d8b5e363:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;min-width:calc(2.75rem * var(--mantine-scale));min-height:calc(2.75rem * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_d8b5e363{background-color:#0006}:where([data-mantine-color-scheme=dark]) .m_d8b5e363{background-color:#fff6}.m_21657268{position:absolute;opacity:0;transition:opacity .15s ease;display:block;inset-inline-end:0;bottom:0}:where([data-mantine-color-scheme=light]) .m_21657268{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_21657268{background-color:var(--mantine-color-dark-8)}.m_21657268:where([data-hovered]){opacity:1}.m_21657268:where([data-hidden]){display:none}.m_87cf2631{background-color:transparent;cursor:pointer;border:0;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:var(--mantine-font-size-md);text-align:left;text-decoration:none;color:inherit;touch-action:manipulation;-webkit-tap-highlight-color:transparent}:where([dir=rtl]) .m_87cf2631{text-align:right}.m_515a97f8{border:0;clip:rect(0 0 0 0);height:calc(.0625rem * var(--mantine-scale));width:calc(.0625rem * var(--mantine-scale));margin:calc(-.0625rem * var(--mantine-scale));overflow:hidden;padding:0;position:absolute;white-space:nowrap}.m_1b7284a3{--paper-radius: var(--mantine-radius-default);outline:0;-webkit-tap-highlight-color:transparent;display:block;touch-action:manipulation;text-decoration:none;border-radius:var(--paper-radius);box-shadow:var(--paper-shadow);background-color:var(--mantine-color-body)}:where([data-mantine-color-scheme=light]) .m_1b7284a3:where([data-with-border]){border:calc(.0625rem * var(--mantine-scale)) solid var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_1b7284a3:where([data-with-border]){border:calc(.0625rem * var(--mantine-scale)) solid var(--mantine-color-dark-4)}.m_38a85659{position:absolute;border:1px solid var(--popover-border-color);padding:var(--mantine-spacing-sm) var(--mantine-spacing-md);box-shadow:var(--popover-shadow, none);border-radius:var(--popover-radius, var(--mantine-radius-default))}.m_38a85659:where([data-fixed]){position:fixed}.m_38a85659:focus{outline:none}:where([data-mantine-color-scheme=light]) .m_38a85659{--popover-border-color: var(--mantine-color-gray-2);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_38a85659{--popover-border-color: var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}.m_a31dc6c1{background-color:inherit;border:1px solid var(--popover-border-color);z-index:1}.m_5ae2e3c{--loader-size-xs: calc(1.125rem * var(--mantine-scale));--loader-size-sm: calc(1.375rem * var(--mantine-scale));--loader-size-md: calc(2.25rem * var(--mantine-scale));--loader-size-lg: calc(2.75rem * var(--mantine-scale));--loader-size-xl: calc(3.625rem * var(--mantine-scale));--loader-size: var(--loader-size-md);--loader-color: var(--mantine-primary-color-filled)}@keyframes m_5d2b3b9d{0%{transform:scale(.6);opacity:0}50%,to{transform:scale(1)}}.m_7a2bd4cd{position:relative;width:var(--loader-size);height:var(--loader-size);display:flex;gap:calc(var(--loader-size) / 5)}.m_870bb79{flex:1;background:var(--loader-color);animation:m_5d2b3b9d 1.2s cubic-bezier(0,.5,.5,1) infinite;border-radius:calc(.125rem * var(--mantine-scale))}.m_870bb79:nth-of-type(1){animation-delay:-.24s}.m_870bb79:nth-of-type(2){animation-delay:-.12s}.m_870bb79:nth-of-type(3){animation-delay:0}@keyframes m_aac34a1{0%,to{transform:scale(1);opacity:1}50%{transform:scale(.6);opacity:.5}}.m_4e3f22d7{display:flex;justify-content:center;align-items:center;gap:calc(var(--loader-size) / 10);position:relative;width:var(--loader-size);height:var(--loader-size)}.m_870c4af{width:calc(var(--loader-size) / 3 - var(--loader-size) / 15);height:calc(var(--loader-size) / 3 - var(--loader-size) / 15);border-radius:50%;background:var(--loader-color);animation:m_aac34a1 .8s infinite linear}.m_870c4af:nth-child(2){animation-delay:.4s}@keyframes m_f8e89c4b{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.m_b34414df{display:inline-block;width:var(--loader-size);height:var(--loader-size)}.m_b34414df:after{content:"";display:block;width:var(--loader-size);height:var(--loader-size);border-radius:calc(625rem * var(--mantine-scale));border-width:calc(var(--loader-size) / 8);border-style:solid;border-color:var(--loader-color) var(--loader-color) var(--loader-color) transparent;animation:m_f8e89c4b 1.2s linear infinite}.m_8d3f4000{--ai-size-xs: calc(1.125rem * var(--mantine-scale));--ai-size-sm: calc(1.375rem * var(--mantine-scale));--ai-size-md: calc(1.75rem * var(--mantine-scale));--ai-size-lg: calc(2.125rem * var(--mantine-scale));--ai-size-xl: calc(2.75rem * var(--mantine-scale));--ai-size-input-xs: calc(1.875rem * var(--mantine-scale));--ai-size-input-sm: calc(2.25rem * var(--mantine-scale));--ai-size-input-md: calc(2.625rem * var(--mantine-scale));--ai-size-input-lg: calc(3.125rem * var(--mantine-scale));--ai-size-input-xl: calc(3.75rem * var(--mantine-scale));--ai-size: var(--ai-size-md);--ai-color: var(--mantine-color-white);line-height:1;display:inline-flex;align-items:center;justify-content:center;position:relative;-webkit-user-select:none;user-select:none;overflow:hidden;width:var(--ai-size);height:var(--ai-size);min-width:var(--ai-size);min-height:var(--ai-size);border-radius:var(--ai-radius, var(--mantine-radius-default));background:var(--ai-bg, var(--mantine-primary-color-filled));color:var(--ai-color, var(--mantine-color-white));border:var(--ai-bd, calc(.0625rem * var(--mantine-scale)) solid transparent);cursor:pointer}@media (hover: hover){.m_8d3f4000:hover:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--ai-hover, var(--mantine-primary-color-filled-hover));color:var(--ai-hover-color, var(--ai-color))}}@media (hover: none){.m_8d3f4000:active:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--ai-hover, var(--mantine-primary-color-filled-hover));color:var(--ai-hover-color, var(--ai-color))}}.m_8d3f4000[data-loading]{cursor:not-allowed}.m_8d3f4000[data-loading] .m_8d3afb97{opacity:0;transform:translateY(100%)}.m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){cursor:not-allowed;border:calc(.0625rem * var(--mantine-scale)) solid transparent}:where([data-mantine-color-scheme=light]) .m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){background-color:var(--mantine-color-gray-1);color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) .m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){background-color:var(--mantine-color-dark-6);color:var(--mantine-color-dark-3)}.m_8d3f4000:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])):active{transform:none}.m_302b9fb1{inset:calc(-.0625rem * var(--mantine-scale));position:absolute;border-radius:var(--ai-radius, var(--mantine-radius-default));display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_302b9fb1{background-color:#ffffff26}:where([data-mantine-color-scheme=dark]) .m_302b9fb1{background-color:#00000026}.m_1a0f1b21{--ai-border-width: calc(.0625rem * var(--mantine-scale));display:flex}.m_1a0f1b21 :where(*):focus{position:relative;z-index:1}.m_1a0f1b21[data-orientation=horizontal]{flex-direction:row}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):first-child{border-end-end-radius:0;border-start-end-radius:0;border-inline-end-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):last-child{border-end-start-radius:0;border-start-start-radius:0;border-inline-start-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=horizontal] .m_8d3f4000:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-inline-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=vertical]{flex-direction:column}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):first-child{border-end-start-radius:0;border-end-end-radius:0;border-bottom-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):last-child{border-start-start-radius:0;border-start-end-radius:0;border-top-width:calc(var(--ai-border-width) / 2)}.m_1a0f1b21[data-orientation=vertical] .m_8d3f4000:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-bottom-width:calc(var(--ai-border-width) / 2);border-top-width:calc(var(--ai-border-width) / 2)}.m_8d3afb97{display:flex;align-items:center;justify-content:center;transition:transform .15s ease,opacity .1s ease;width:100%;height:100%}.m_86a44da5{--cb-size-xs: calc(1.125rem * var(--mantine-scale));--cb-size-sm: calc(1.375rem * var(--mantine-scale));--cb-size-md: calc(1.75rem * var(--mantine-scale));--cb-size-lg: calc(2.125rem * var(--mantine-scale));--cb-size-xl: calc(2.75rem * var(--mantine-scale));--cb-size: var(--cb-size-md);--cb-icon-size: 70%;--cb-radius: var(--mantine-radius-default);line-height:1;display:inline-flex;align-items:center;justify-content:center;position:relative;-webkit-user-select:none;user-select:none;width:var(--cb-size);height:var(--cb-size);min-width:var(--cb-size);min-height:var(--cb-size);border-radius:var(--cb-radius)}:where([data-mantine-color-scheme=light]) .m_86a44da5{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_86a44da5{color:var(--mantine-color-dark-1)}.m_86a44da5[data-disabled],.m_86a44da5:disabled{cursor:not-allowed;opacity:.6}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_220c80f2:where(:not([data-disabled],:disabled)):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_220c80f2:where(:not([data-disabled],:disabled)):hover{background-color:var(--mantine-color-dark-6)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_220c80f2:where(:not([data-disabled],:disabled)):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_220c80f2:where(:not([data-disabled],:disabled)):active{background-color:var(--mantine-color-dark-6)}}.m_4081bf90{display:flex;flex-direction:row;flex-wrap:var(--group-wrap, wrap);justify-content:var(--group-justify, flex-start);align-items:var(--group-align, center);gap:var(--group-gap, var(--mantine-spacing-md))}.m_4081bf90:where([data-grow])>*{flex-grow:1;max-width:var(--group-child-width)}.m_9814e45f{top:0;right:0;bottom:0;left:0;position:absolute;background:var(--overlay-bg, rgba(0, 0, 0, .6));backdrop-filter:var(--overlay-filter);-webkit-backdrop-filter:var(--overlay-filter);border-radius:var(--overlay-radius, 0);z-index:var(--overlay-z-index)}.m_9814e45f:where([data-fixed]){position:fixed}.m_9814e45f:where([data-center]){display:flex;align-items:center;justify-content:center}.m_615af6c9{line-height:1;padding:0;margin:0;font-weight:400;font-size:var(--mantine-font-size-md)}.m_b5489c3c{display:flex;justify-content:space-between;align-items:center;padding:var(--mb-padding, var(--mantine-spacing-md));padding-inline-end:calc(var(--mb-padding, var(--mantine-spacing-md)) - .3125rem * var(--mantine-scale));position:sticky;top:0;background-color:var(--mantine-color-body);z-index:1000;min-height:calc(3.75rem * var(--mantine-scale));transition:padding-inline-end .1s}.m_60c222c7{position:fixed;width:100%;top:0;bottom:0;z-index:var(--mb-z-index);pointer-events:none}.m_fd1ab0aa{pointer-events:all;box-shadow:var(--mb-shadow, var(--mantine-shadow-xl))}.m_fd1ab0aa [data-mantine-scrollbar]{z-index:1001}.m_fd1ab0aa:has([data-mantine-scrollbar][data-state=visible]) .m_b5489c3c{padding-inline-end:calc(var(--mb-padding, var(--mantine-spacing-md)) + .3125rem * var(--mantine-scale))}.m_606cb269{margin-inline-start:auto}.m_5df29311{padding:var(--mb-padding, var(--mantine-spacing-md));padding-top:var(--mb-padding, var(--mantine-spacing-md))}.m_5df29311:where(:not(:only-child)){padding-top:0}.m_6c018570{position:relative;margin-top:var(--input-margin-top, 0rem);margin-bottom:var(--input-margin-bottom, 0rem);--input-height-xs: calc(1.875rem * var(--mantine-scale));--input-height-sm: calc(2.25rem * var(--mantine-scale));--input-height-md: calc(2.625rem * var(--mantine-scale));--input-height-lg: calc(3.125rem * var(--mantine-scale));--input-height-xl: calc(3.75rem * var(--mantine-scale));--input-padding-y-xs: calc(.3125rem * var(--mantine-scale));--input-padding-y-sm: calc(.375rem * var(--mantine-scale));--input-padding-y-md: calc(.5rem * var(--mantine-scale));--input-padding-y-lg: calc(.625rem * var(--mantine-scale));--input-padding-y-xl: calc(.8125rem * var(--mantine-scale));--input-height: var(--input-height-sm);--input-radius: var(--mantine-radius-default);--input-cursor: text;--input-text-align: left;--input-line-height: calc(var(--input-height) - calc(.125rem * var(--mantine-scale)));--input-padding: calc(var(--input-height) / 3);--input-padding-inline-start: var(--input-padding);--input-padding-inline-end: var(--input-padding);--input-placeholder-color: var(--mantine-color-placeholder);--input-color: var(--mantine-color-text);--input-left-section-size: var(--input-left-section-width, calc(var(--input-height) - calc(.125rem * var(--mantine-scale))));--input-right-section-size: var( --input-right-section-width, calc(var(--input-height) - calc(.125rem * var(--mantine-scale))) );--input-size: var(--input-height);--section-y: calc(.0625rem * var(--mantine-scale));--left-section-start: calc(.0625rem * var(--mantine-scale));--left-section-border-radius: var(--input-radius) 0 0 var(--input-radius);--right-section-end: calc(.0625rem * var(--mantine-scale));--right-section-border-radius: 0 var(--input-radius) var(--input-radius) 0}.m_6c018570[data-variant=unstyled]{--input-padding: 0;--input-padding-y: 0;--input-padding-inline-start: 0;--input-padding-inline-end: 0}.m_6c018570[data-pointer]{--input-cursor: pointer}.m_6c018570[data-multiline]{--input-padding-y-xs: calc(.28125rem * var(--mantine-scale));--input-padding-y-sm: calc(.34375rem * var(--mantine-scale));--input-padding-y-md: calc(.4375rem * var(--mantine-scale));--input-padding-y-lg: calc(.59375rem * var(--mantine-scale));--input-padding-y-xl: calc(.8125rem * var(--mantine-scale));--input-size: auto;--input-line-height: var(--mantine-line-height);--input-padding-y: var(--input-padding-y-sm)}.m_6c018570[data-with-left-section]{--input-padding-inline-start: var(--input-left-section-size)}.m_6c018570[data-with-right-section]{--input-padding-inline-end: var(--input-right-section-size)}[data-mantine-color-scheme=light] .m_6c018570{--input-disabled-bg: var(--mantine-color-gray-1);--input-disabled-color: var(--mantine-color-gray-6)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=default]{--input-bd: var(--mantine-color-gray-4);--input-bg: var(--mantine-color-white);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=filled]{--input-bd: transparent;--input-bg: var(--mantine-color-gray-1);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=light] .m_6c018570[data-variant=unstyled]{--input-bd: transparent;--input-bg: transparent;--input-bd-focus: transparent}[data-mantine-color-scheme=dark] .m_6c018570{--input-disabled-bg: var(--mantine-color-dark-6);--input-disabled-color: var(--mantine-color-dark-2)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=default]{--input-bd: var(--mantine-color-dark-4);--input-bg: var(--mantine-color-dark-6);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=filled]{--input-bd: transparent;--input-bg: var(--mantine-color-dark-5);--input-bd-focus: var(--mantine-primary-color-filled)}[data-mantine-color-scheme=dark] .m_6c018570[data-variant=unstyled]{--input-bd: transparent;--input-bg: transparent;--input-bd-focus: transparent}[data-mantine-color-scheme] .m_6c018570[data-error]:not([data-variant=unstyled]){--input-bd: var(--mantine-color-error)}[data-mantine-color-scheme] .m_6c018570[data-error]{--input-color: var(--mantine-color-error);--input-placeholder-color: var(--mantine-color-error);--input-section-color: var(--mantine-color-error)}:where([dir=rtl]) .m_6c018570{--input-text-align: right;--left-section-border-radius: 0 var(--input-radius) var(--input-radius) 0;--right-section-border-radius: var(--input-radius) 0 0 var(--input-radius)}.m_8fb7ebe7{-webkit-tap-highlight-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;resize:var(--input-resize, none);display:block;width:100%;transition:border-color .1s ease;text-align:var(--input-text-align);color:var(--input-color);border:calc(.0625rem * var(--mantine-scale)) solid var(--input-bd);background-color:var(--input-bg);font-family:var(--input-font-family, var(--mantine-font-family));height:var(--input-size);min-height:var(--input-height);line-height:var(--input-line-height);font-size:var(--input-fz, var(--input-fz, var(--mantine-font-size-sm)));border-radius:var(--input-radius);padding-inline-start:var(--input-padding-inline-start);padding-inline-end:var(--input-padding-inline-end);padding-top:var(--input-padding-y, 0rem);padding-bottom:var(--input-padding-y, 0rem);cursor:var(--input-cursor);overflow:var(--input-overflow)}.m_8fb7ebe7[data-no-overflow]{--input-overflow: hidden}.m_8fb7ebe7[data-monospace]{--input-font-family: var(--mantine-font-family-monospace);--input-fz: calc(var(--input-fz, var(--mantine-font-size-sm)) - calc(.125rem * var(--mantine-scale)))}.m_8fb7ebe7:focus,.m_8fb7ebe7:focus-within{outline:none;--input-bd: var(--input-bd-focus)}[data-error] .m_8fb7ebe7:focus,[data-error] .m_8fb7ebe7:focus-within{--input-bd: var(--mantine-color-error)}.m_8fb7ebe7::placeholder{color:var(--input-placeholder-color);opacity:1}.m_8fb7ebe7::-webkit-inner-spin-button,.m_8fb7ebe7::-webkit-outer-spin-button,.m_8fb7ebe7::-webkit-search-decoration,.m_8fb7ebe7::-webkit-search-cancel-button,.m_8fb7ebe7::-webkit-search-results-button,.m_8fb7ebe7::-webkit-search-results-decoration{-webkit-appearance:none;-moz-appearance:none;appearance:none}.m_8fb7ebe7[type=number]{-moz-appearance:textfield}.m_8fb7ebe7:disabled,.m_8fb7ebe7[data-disabled]{cursor:not-allowed;opacity:.6;background-color:var(--input-disabled-bg);color:var(--input-disabled-color)}.m_8fb7ebe7:has(input:disabled){cursor:not-allowed;opacity:.6;background-color:var(--input-disabled-bg);color:var(--input-disabled-color)}.m_82577fc2{pointer-events:var(--section-pointer-events);position:absolute;z-index:1;inset-inline-start:var(--section-start);inset-inline-end:var(--section-end);bottom:var(--section-y);top:var(--section-y);display:flex;align-items:center;justify-content:center;width:var(--section-size);border-radius:var(--section-border-radius);color:var(--input-section-color, var(--mantine-color-dimmed))}.m_82577fc2[data-position=right]{--section-pointer-events: var(--input-right-section-pointer-events);--section-end: var(--right-section-end);--section-size: var(--input-right-section-size);--section-border-radius: var(--right-section-border-radius)}.m_82577fc2[data-position=left]{--section-pointer-events: var(--input-left-section-pointer-events);--section-start: var(--left-section-start);--section-size: var(--input-left-section-size);--section-border-radius: var(--left-section-border-radius)}.m_88bacfd0{color:var(--input-placeholder-color, var(--mantine-color-placeholder))}[data-error] .m_88bacfd0{--input-placeholder-color: var(--input-color, var(--mantine-color-placeholder))}.m_46b77525{line-height:var(--mantine-line-height)}.m_8fdc1311{display:inline-block;font-weight:500;word-break:break-word;cursor:default;-webkit-tap-highlight-color:transparent;font-size:var(--input-label-size, var(--mantine-font-size-sm))}.m_78a94662{color:var(--input-asterisk-color, var(--mantine-color-error))}.m_8f816625,.m_fe47ce59{word-wrap:break-word;line-height:1.2;display:block;margin:0;padding:0}.m_8f816625{color:var(--mantine-color-error);font-size:var(--input-error-size, calc(var(--mantine-font-size-sm) - .125rem * var(--mantine-scale)))}.m_fe47ce59{color:var(--mantine-color-dimmed);font-size:var(--input-description-size, calc(var(--mantine-font-size-sm) - .125rem * var(--mantine-scale)))}.m_8bffd616{display:flex}.m_96b553a6{--transition-duration: .15s;top:0;left:0;position:absolute;z-index:0;transition-property:transform,width,height;transition-timing-function:ease;transition-duration:0ms}.m_96b553a6:where([data-initialized]){transition-duration:var(--transition-duration)}.m_96b553a6:where([data-hidden]){background-color:red;display:none}.m_9bdbb667{--accordion-radius: var(--mantine-radius-default)}.m_df78851f{word-break:break-word}.m_4ba554d4{padding:var(--mantine-spacing-md);padding-top:calc(var(--mantine-spacing-xs) / 2)}.m_8fa820a0{margin:0;padding:0}.m_4ba585b8{width:100%;display:flex;align-items:center;flex-direction:row-reverse;padding-inline:var(--mantine-spacing-md);opacity:1;cursor:pointer;background-color:transparent}.m_4ba585b8:where([data-chevron-position=left]){flex-direction:row;padding-inline-start:0}:where([data-mantine-color-scheme=light]) .m_4ba585b8{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_4ba585b8{color:var(--mantine-color-dark-0)}.m_4ba585b8:where(:disabled,[data-disabled]){opacity:.4;cursor:not-allowed}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):hover,:where([data-mantine-color-scheme=light]) .m_4271d21b:where(:not(:disabled,[data-disabled])):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):hover,:where([data-mantine-color-scheme=dark]) .m_4271d21b:where(:not(:disabled,[data-disabled])):hover{background-color:var(--mantine-color-dark-6)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):active,:where([data-mantine-color-scheme=light]) .m_4271d21b:where(:not(:disabled,[data-disabled])):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_6939a5e9:where(:not(:disabled,[data-disabled])):active,:where([data-mantine-color-scheme=dark]) .m_4271d21b:where(:not(:disabled,[data-disabled])):active{background-color:var(--mantine-color-dark-6)}}.m_df3ffa0f{color:inherit;font-weight:400;flex:1;overflow:hidden;text-overflow:ellipsis;padding-top:var(--mantine-spacing-sm);padding-bottom:var(--mantine-spacing-sm)}.m_3f35ae96{display:flex;align-items:center;justify-content:flex-start;transition:transform var(--accordion-transition-duration, .2s) ease;width:var(--accordion-chevron-size, calc(.9375rem * var(--mantine-scale)));min-width:var(--accordion-chevron-size, calc(.9375rem * var(--mantine-scale)));transform:rotate(0)}.m_3f35ae96:where([data-rotate]){transform:rotate(180deg)}.m_3f35ae96:where([data-position=left]){margin-inline-end:var(--mantine-spacing-md);margin-inline-start:var(--mantine-spacing-md)}.m_9bd771fe{display:flex;align-items:center;justify-content:center;margin-inline-end:var(--mantine-spacing-sm)}.m_9bd771fe:where([data-chevron-position=left]){margin-inline-end:0;margin-inline-start:var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_9bd7b098{--item-border-color: var(--mantine-color-gray-3);--item-filled-color: var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_9bd7b098{--item-border-color: var(--mantine-color-dark-4);--item-filled-color: var(--mantine-color-dark-6)}.m_fe19b709{border-bottom:1px solid var(--item-border-color)}.m_1f921b3b{border:1px solid var(--item-border-color);transition:background-color .15s ease}.m_1f921b3b:where([data-active]){background-color:var(--item-filled-color)}.m_1f921b3b:first-of-type{border-start-start-radius:var(--accordion-radius);border-start-end-radius:var(--accordion-radius)}.m_1f921b3b:first-of-type>[data-accordion-control]{border-start-start-radius:var(--accordion-radius);border-start-end-radius:var(--accordion-radius)}.m_1f921b3b:last-of-type{border-end-start-radius:var(--accordion-radius);border-end-end-radius:var(--accordion-radius)}.m_1f921b3b:last-of-type>[data-accordion-control]{border-end-start-radius:var(--accordion-radius);border-end-end-radius:var(--accordion-radius)}.m_1f921b3b+.m_1f921b3b{border-top:0}.m_2cdf939a{border-radius:var(--accordion-radius)}.m_2cdf939a:where([data-active]){background-color:var(--item-filled-color)}.m_9f59b069{background-color:var(--item-filled-color);border-radius:var(--accordion-radius);border:calc(.0625rem * var(--mantine-scale)) solid transparent;transition:background-color .15s ease}.m_9f59b069[data-active]{border-color:var(--item-border-color)}:where([data-mantine-color-scheme=light]) .m_9f59b069[data-active]{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_9f59b069[data-active]{background-color:var(--mantine-color-dark-7)}.m_9f59b069+.m_9f59b069{margin-top:var(--mantine-spacing-md)}.m_7f854edf{position:fixed;z-index:var(--affix-z-index);inset-inline-start:var(--affix-left);inset-inline-end:var(--affix-right);top:var(--affix-top);bottom:var(--affix-bottom)}.m_66836ed3{--alert-radius: var(--mantine-radius-default);--alert-bg: var(--mantine-primary-color-light);--alert-bd: calc(.0625rem * var(--mantine-scale)) solid transparent;--alert-color: var(--mantine-primary-color-light-color);padding:var(--mantine-spacing-md) var(--mantine-spacing-md);border-radius:var(--alert-radius);position:relative;overflow:hidden;background-color:var(--alert-bg);border:var(--alert-bd);color:var(--alert-color)}.m_a5d60502{display:flex}.m_667c2793{flex:1;display:flex;flex-direction:column;gap:var(--mantine-spacing-xs)}.m_6a03f287{display:flex;align-items:center;justify-content:space-between;font-size:var(--mantine-font-size-sm);font-weight:700}.m_6a03f287:where([data-with-close-button]){padding-inline-end:var(--mantine-spacing-md)}.m_698f4f23{display:block;overflow:hidden;text-overflow:ellipsis}.m_667f2a6a{line-height:1;width:calc(1.25rem * var(--mantine-scale));height:calc(1.25rem * var(--mantine-scale));display:flex;align-items:center;justify-content:flex-start;margin-inline-end:var(--mantine-spacing-md);margin-top:calc(.0625rem * var(--mantine-scale))}.m_7fa78076{text-overflow:ellipsis;overflow:hidden;font-size:var(--mantine-font-size-sm)}:where([data-mantine-color-scheme=light]) .m_7fa78076{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_7fa78076{color:var(--mantine-color-white)}.m_7fa78076:where([data-variant=filled]){color:var(--alert-color)}.m_7fa78076:where([data-variant=white]){color:var(--mantine-color-black)}.m_87f54839{width:calc(1.25rem * var(--mantine-scale));height:calc(1.25rem * var(--mantine-scale));color:var(--alert-color)}.m_b6d8b162{-webkit-tap-highlight-color:transparent;text-decoration:none;font-size:var(--text-fz, var(--mantine-font-size-md));line-height:var(--text-lh, var(--mantine-line-height-md));font-weight:400;margin:0;padding:0;color:var(--text-color)}.m_b6d8b162:where([data-truncate]){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.m_b6d8b162:where([data-truncate=start]){direction:rtl;text-align:right}:where([dir=rtl]) .m_b6d8b162:where([data-truncate=start]){direction:ltr;text-align:left}.m_b6d8b162:where([data-variant=gradient]){background-image:var(--text-gradient);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.m_b6d8b162:where([data-line-clamp]){overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:var(--text-line-clamp);-webkit-box-orient:vertical}.m_b6d8b162:where([data-inherit]){line-height:inherit;font-weight:inherit;font-size:inherit}.m_b6d8b162:where([data-inline]){line-height:1}.m_849cf0da{color:var(--mantine-color-anchor);text-decoration:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;display:inline;padding:0;margin:0;background-color:transparent;cursor:pointer}@media (hover: hover){.m_849cf0da:where([data-underline=hover]):hover{text-decoration:underline}}@media (hover: none){.m_849cf0da:where([data-underline=hover]):active{text-decoration:underline}}.m_849cf0da:where([data-underline=always]){text-decoration:underline}.m_849cf0da:where([data-variant=gradient]),.m_849cf0da:where([data-variant=gradient]):hover{text-decoration:none}.m_849cf0da:where([data-line-clamp]){display:-webkit-box}.m_89ab340[data-resizing]{--app-shell-transition-duration: 0ms !important}.m_89ab340[data-disabled]{--app-shell-header-offset: 0rem !important;--app-shell-navbar-offset: 0rem !important}[data-mantine-color-scheme=light] .m_89ab340{--app-shell-border-color: var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_89ab340{--app-shell-border-color: var(--mantine-color-dark-4)}.m_45252eee,.m_9cdde9a,.m_3b16f56b,.m_8983817,.m_3840c879{transition-duration:var(--app-shell-transition-duration);transition-timing-function:var(--app-shell-transition-timing-function)}.m_45252eee,.m_9cdde9a{position:fixed;display:flex;flex-direction:column;top:var(--app-shell-header-offset, 0rem);height:calc(100dvh - var(--app-shell-header-offset, 0rem) - var(--app-shell-footer-offset, 0rem));background-color:var(--mantine-color-body);transition-property:transform,top,height}:where([data-layout=alt]) .m_45252eee,:where([data-layout=alt]) .m_9cdde9a{top:0rem;height:100dvh}.m_45252eee{inset-inline-start:0;width:var(--app-shell-navbar-width);transition-property:transform,top,height;transform:var(--app-shell-navbar-transform);z-index:var(--app-shell-navbar-z-index)}:where([dir=rtl]) .m_45252eee{transform:var(--app-shell-navbar-transform-rtl)}.m_45252eee:where([data-with-border]){border-inline-end:1px solid var(--app-shell-border-color)}.m_9cdde9a{inset-inline-end:0;width:var(--app-shell-aside-width);transform:var(--app-shell-aside-transform);z-index:var(--app-shell-aside-z-index)}:where([dir=rtl]) .m_9cdde9a{transform:var(--app-shell-aside-transform-rtl)}.m_9cdde9a:where([data-with-border]){border-inline-start:1px solid var(--app-shell-border-color)}.m_8983817{padding-inline-start:calc(var(--app-shell-navbar-offset, 0rem) + var(--app-shell-padding));padding-inline-end:calc(var(--app-shell-aside-offset, 0rem) + var(--app-shell-padding));padding-top:calc(var(--app-shell-header-offset, 0rem) + var(--app-shell-padding));padding-bottom:calc(var(--app-shell-footer-offset, 0rem) + var(--app-shell-padding));min-height:100dvh;transition-property:padding}.m_3b16f56b,.m_3840c879{position:fixed;inset-inline:0;transition-property:transform,left,right;background-color:var(--mantine-color-body)}:where([data-layout=alt]) .m_3b16f56b,:where([data-layout=alt]) .m_3840c879{inset-inline-start:var(--app-shell-navbar-offset, 0rem);inset-inline-end:var(--app-shell-aside-offset, 0rem)}.m_3b16f56b{top:0;height:var(--app-shell-header-height);background-color:var(--mantine-color-body);transform:var(--app-shell-header-transform);z-index:var(--app-shell-header-z-index)}.m_3b16f56b:where([data-with-border]){border-bottom:1px solid var(--app-shell-border-color)}.m_3840c879{bottom:0;height:calc(var(--app-shell-footer-height) + env(safe-area-inset-bottom));padding-bottom:env(safe-area-inset-bottom);transform:var(--app-shell-footer-transform);z-index:var(--app-shell-footer-z-index)}.m_3840c879:where([data-with-border]){border-top:1px solid var(--app-shell-border-color)}.m_6dcfc7c7{flex-grow:0}.m_6dcfc7c7:where([data-grow]){flex-grow:1}.m_71ac47fc{--ar-ratio: 1;max-width:100%}.m_71ac47fc>:where(*:not(style)){aspect-ratio:var(--ar-ratio);width:100%}.m_71ac47fc>:where(img,video){object-fit:cover}.m_88b62a41{--combobox-padding: calc(.25rem * var(--mantine-scale));padding:var(--combobox-padding)}.m_88b62a41:has([data-mantine-scrollbar]){padding-inline-end:0}.m_88b62a41:has([data-mantine-scrollbar]) .m_985517d8{max-width:calc(100% + var(--combobox-padding))}.m_88b62a41[data-hidden]{display:none}.m_88b62a41,.m_b2821a6e{--combobox-option-padding-xs: calc(.25rem * var(--mantine-scale)) calc(.5rem * var(--mantine-scale));--combobox-option-padding-sm: calc(.375rem * var(--mantine-scale)) calc(.625rem * var(--mantine-scale));--combobox-option-padding-md: calc(.5rem * var(--mantine-scale)) calc(.75rem * var(--mantine-scale));--combobox-option-padding-lg: calc(.625rem * var(--mantine-scale)) calc(1rem * var(--mantine-scale));--combobox-option-padding-xl: calc(.875rem * var(--mantine-scale)) calc(1.25rem * var(--mantine-scale));--combobox-option-padding: var(--combobox-option-padding-sm)}.m_92253aa5{padding:var(--combobox-option-padding);font-size:var(--combobox-option-fz, var(--mantine-font-size-sm));border-radius:var(--mantine-radius-default);background-color:transparent;color:inherit;cursor:pointer;word-break:break-word}.m_92253aa5:where([data-combobox-selected]){background-color:var(--mantine-primary-color-filled);color:var(--mantine-color-white)}.m_92253aa5:where([data-combobox-disabled]){cursor:not-allowed;opacity:.35}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_92253aa5:hover:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_92253aa5:hover:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-dark-7)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_92253aa5:active:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_92253aa5:active:where(:not([data-combobox-selected],[data-combobox-disabled])){background-color:var(--mantine-color-dark-7)}}.m_985517d8{margin-inline:calc(var(--combobox-padding) * -1);margin-top:calc(var(--combobox-padding) * -1);width:calc(100% + var(--combobox-padding) * 2);border-top-width:0;border-inline-width:0;border-end-start-radius:0;border-end-end-radius:0;margin-bottom:var(--combobox-padding);position:relative}:where([data-mantine-color-scheme=light]) .m_985517d8,:where([data-mantine-color-scheme=light]) .m_985517d8:focus{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_985517d8,:where([data-mantine-color-scheme=dark]) .m_985517d8:focus{border-color:var(--mantine-color-dark-4)}:where([data-mantine-color-scheme=light]) .m_985517d8{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_985517d8{background-color:var(--mantine-color-dark-7)}.m_2530cd1d{font-size:var(--combobox-option-fz, var(--mantine-font-size-sm));text-align:center;padding:var(--combobox-option-padding);color:var(--mantine-color-dimmed)}.m_858f94bd,.m_82b967cb{font-size:var(--combobox-option-fz, var(--mantine-font-size-sm));border:0 solid transparent;margin-inline:calc(var(--combobox-padding) * -1);padding:var(--combobox-option-padding)}:where([data-mantine-color-scheme=light]) .m_858f94bd,:where([data-mantine-color-scheme=light]) .m_82b967cb{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_858f94bd,:where([data-mantine-color-scheme=dark]) .m_82b967cb{border-color:var(--mantine-color-dark-4)}.m_82b967cb{border-top-width:calc(.0625rem * var(--mantine-scale));margin-top:var(--combobox-padding);margin-bottom:calc(var(--combobox-padding) * -1)}.m_858f94bd{border-bottom-width:calc(.0625rem * var(--mantine-scale));margin-bottom:var(--combobox-padding);margin-top:calc(var(--combobox-padding) * -1)}.m_254f3e4f:has(.m_2bb2e9e5:only-child){display:none}.m_2bb2e9e5{color:var(--mantine-color-dimmed);font-size:calc(var(--combobox-option-fz, var(--mantine-font-size-sm)) * .85);padding:var(--combobox-option-padding);font-weight:500;position:relative;display:flex;align-items:center}.m_2bb2e9e5:after{content:"";flex:1;inset-inline:0;height:calc(.0625rem * var(--mantine-scale));margin-inline-start:var(--mantine-spacing-xs)}:where([data-mantine-color-scheme=light]) .m_2bb2e9e5:after{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_2bb2e9e5:after{background-color:var(--mantine-color-dark-4)}.m_2bb2e9e5:only-child{display:none}.m_2943220b{--combobox-chevron-size-xs: calc(.875rem * var(--mantine-scale));--combobox-chevron-size-sm: calc(1.125rem * var(--mantine-scale));--combobox-chevron-size-md: calc(1.25rem * var(--mantine-scale));--combobox-chevron-size-lg: calc(1.5rem * var(--mantine-scale));--combobox-chevron-size-xl: calc(1.75rem * var(--mantine-scale));--combobox-chevron-size: var(--combobox-chevron-size-sm);width:var(--combobox-chevron-size);height:var(--combobox-chevron-size)}:where([data-mantine-color-scheme=light]) .m_2943220b{color:var(--mantine-color-gray-6)}:where([data-mantine-color-scheme=dark]) .m_2943220b{color:var(--mantine-color-dark-3)}.m_2943220b:where([data-error]){color:var(--mantine-color-error)}.m_390b5f4{display:flex;align-items:center;gap:calc(.5rem * var(--mantine-scale))}.m_390b5f4:where([data-reverse]){justify-content:space-between}.m_8ee53fc2{opacity:.4;width:.8em;min-width:.8em;height:.8em}:where([data-combobox-selected]) .m_8ee53fc2{opacity:1}.m_5f75b09e{--label-lh-xs: calc(1rem * var(--mantine-scale));--label-lh-sm: calc(1.25rem * var(--mantine-scale));--label-lh-md: calc(1.5rem * var(--mantine-scale));--label-lh-lg: calc(1.875rem * var(--mantine-scale));--label-lh-xl: calc(2.25rem * var(--mantine-scale));--label-lh: var(--label-lh-sm)}.m_5f75b09e[data-label-position=left]{--label-order: 1;--label-offset-end: var(--mantine-spacing-sm);--label-offset-start: 0}.m_5f75b09e[data-label-position=right]{--label-order: 2;--label-offset-end: 0;--label-offset-start: var(--mantine-spacing-sm)}.m_5f6e695e{display:flex}.m_d3ea56bb{--label-cursor: var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;display:inline-flex;flex-direction:column;font-size:var(--label-fz, var(--mantine-font-size-sm));line-height:var(--label-lh);cursor:var(--label-cursor);order:var(--label-order)}fieldset:disabled .m_d3ea56bb,.m_d3ea56bb[data-disabled]{--label-cursor: not-allowed}.m_8ee546b8{cursor:var(--label-cursor);color:inherit;padding-inline-start:var(--label-offset-start);padding-inline-end:var(--label-offset-end)}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_8ee546b8,:where([data-mantine-color-scheme=light]) .m_8ee546b8:where([data-disabled]){color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_8ee546b8,:where([data-mantine-color-scheme=dark]) .m_8ee546b8:where([data-disabled]){color:var(--mantine-color-dark-3)}.m_328f68c0,.m_8e8a99cc{margin-top:calc(var(--mantine-spacing-xs) / 2);padding-inline-start:var(--label-offset-start);padding-inline-end:var(--label-offset-end)}.m_26775b0a{--card-radius: var(--mantine-radius-default);display:block;width:100%;border-radius:var(--card-radius);cursor:pointer}.m_26775b0a :where(*){cursor:inherit}.m_26775b0a:where([data-with-border]){border:calc(.0625rem * var(--mantine-scale)) solid transparent}:where([data-mantine-color-scheme=light]) .m_26775b0a:where([data-with-border]){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_26775b0a:where([data-with-border]){border-color:var(--mantine-color-dark-4)}.m_5e5256ee{--checkbox-size-xs: calc(1rem * var(--mantine-scale));--checkbox-size-sm: calc(1.25rem * var(--mantine-scale));--checkbox-size-md: calc(1.5rem * var(--mantine-scale));--checkbox-size-lg: calc(1.875rem * var(--mantine-scale));--checkbox-size-xl: calc(2.25rem * var(--mantine-scale));--checkbox-size: var(--checkbox-size-sm);--checkbox-color: var(--mantine-primary-color-filled);--checkbox-icon-color: var(--mantine-color-white);position:relative;border:calc(.0625rem * var(--mantine-scale)) solid transparent;width:var(--checkbox-size);min-width:var(--checkbox-size);height:var(--checkbox-size);min-height:var(--checkbox-size);border-radius:var(--checkbox-radius, var(--mantine-radius-default));transition:border-color .1s ease,background-color .1s ease;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_5e5256ee{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_5e5256ee{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_5e5256ee[data-indeterminate],.m_5e5256ee[data-checked]{background-color:var(--checkbox-color);border-color:var(--checkbox-color)}.m_5e5256ee[data-indeterminate]>.m_1b1c543a,.m_5e5256ee[data-checked]>.m_1b1c543a{opacity:1;transform:none;color:var(--checkbox-icon-color)}.m_5e5256ee[data-disabled]{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_5e5256ee[data-disabled]{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_5e5256ee[data-disabled]{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_5e5256ee[data-disabled][data-checked]>.m_1b1c543a{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_5e5256ee[data-disabled][data-checked]>.m_1b1c543a{color:var(--mantine-color-dark-3)}.m_76e20374[data-indeterminate]:not([data-disabled]),.m_76e20374[data-checked]:not([data-disabled]){background-color:transparent;border-color:var(--checkbox-color)}.m_76e20374[data-indeterminate]:not([data-disabled])>.m_1b1c543a,.m_76e20374[data-checked]:not([data-disabled])>.m_1b1c543a{color:var(--checkbox-color);opacity:1;transform:none}.m_1b1c543a{display:block;width:60%;color:transparent;pointer-events:none;transform:translateY(calc(.3125rem * var(--mantine-scale))) scale(.5);opacity:1;transition:transform .1s ease,opacity .1s ease}.m_bf2d988c{--checkbox-size-xs: calc(1rem * var(--mantine-scale));--checkbox-size-sm: calc(1.25rem * var(--mantine-scale));--checkbox-size-md: calc(1.5rem * var(--mantine-scale));--checkbox-size-lg: calc(1.875rem * var(--mantine-scale));--checkbox-size-xl: calc(2.25rem * var(--mantine-scale));--checkbox-size: var(--checkbox-size-sm);--checkbox-color: var(--mantine-primary-color-filled);--checkbox-icon-color: var(--mantine-color-white)}.m_26062bec{position:relative;width:var(--checkbox-size);height:var(--checkbox-size);order:1}.m_26062bec:where([data-label-position=left]){order:2}.m_26063560{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:calc(.0625rem * var(--mantine-scale)) solid transparent;width:var(--checkbox-size);height:var(--checkbox-size);border-radius:var(--checkbox-radius, var(--mantine-radius-default));padding:0;display:block;margin:0;transition:border-color .1s ease,background-color .1s ease;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent}:where([data-mantine-color-scheme=light]) .m_26063560{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_26063560{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_26063560:where([data-error]){border-color:var(--mantine-color-error)}.m_26063560[data-indeterminate],.m_26063560:checked{background-color:var(--checkbox-color);border-color:var(--checkbox-color)}.m_26063560[data-indeterminate]+.m_bf295423,.m_26063560:checked+.m_bf295423{opacity:1;transform:none}.m_26063560:disabled{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_26063560:disabled{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_26063560:disabled{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_26063560:disabled+.m_bf295423{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_26063560:disabled+.m_bf295423{color:var(--mantine-color-dark-3)}.m_215c4542+.m_bf295423{color:var(--checkbox-color)}.m_215c4542[data-indeterminate]:not(:disabled),.m_215c4542:checked:not(:disabled){background-color:transparent;border-color:var(--checkbox-color)}.m_215c4542[data-indeterminate]:not(:disabled)+.m_bf295423,.m_215c4542:checked:not(:disabled)+.m_bf295423{color:var(--checkbox-color);opacity:1;transform:none}.m_bf295423{position:absolute;top:0;right:0;bottom:0;left:0;width:60%;margin:auto;color:var(--checkbox-icon-color);pointer-events:none;transform:translateY(calc(.3125rem * var(--mantine-scale))) scale(.5);opacity:0;transition:transform .1s ease,opacity .1s ease}.m_11def92b{--ag-spacing: var(--mantine-spacing-sm);--ag-offset: calc(var(--ag-spacing) * -1);display:flex;padding-inline-start:var(--ag-spacing)}.m_f85678b6{--avatar-size-xs: calc(1rem * var(--mantine-scale));--avatar-size-sm: calc(1.625rem * var(--mantine-scale));--avatar-size-md: calc(2.375rem * var(--mantine-scale));--avatar-size-lg: calc(3.5rem * var(--mantine-scale));--avatar-size-xl: calc(5.25rem * var(--mantine-scale));--avatar-size: var(--avatar-size-md);--avatar-radius: calc(62.5rem * var(--mantine-scale));--avatar-bg: var(--mantine-color-gray-light);--avatar-bd: calc(.0625rem * var(--mantine-scale)) solid transparent;--avatar-color: var(--mantine-color-gray-light-color);--avatar-placeholder-fz: calc(var(--avatar-size) / 2.5);-webkit-tap-highlight-color:transparent;position:relative;display:block;-webkit-user-select:none;user-select:none;overflow:hidden;border-radius:var(--avatar-radius);text-decoration:none;padding:0;width:var(--avatar-size);height:var(--avatar-size);min-width:var(--avatar-size)}.m_f85678b6:where([data-within-group]){margin-inline-start:var(--ag-offset);border:2px solid var(--mantine-color-body);background:var(--mantine-color-body)}.m_11f8ac07{object-fit:cover;width:100%;height:100%;display:block}.m_104cd71f{font-weight:700;display:flex;align-items:center;justify-content:center;width:100%;height:100%;-webkit-user-select:none;user-select:none;border-radius:var(--avatar-radius);font-size:var(--avatar-placeholder-fz);background:var(--avatar-bg);border:var(--avatar-bd);color:var(--avatar-color)}.m_104cd71f>[data-avatar-placeholder-icon]{width:70%;height:70%}.m_2ce0de02{background-size:cover;background-position:center;display:block;width:100%;border:0;text-decoration:none;border-radius:var(--bi-radius, 0)}.m_347db0ec{--badge-height-xs: calc(1rem * var(--mantine-scale));--badge-height-sm: calc(1.125rem * var(--mantine-scale));--badge-height-md: calc(1.25rem * var(--mantine-scale));--badge-height-lg: calc(1.625rem * var(--mantine-scale));--badge-height-xl: calc(2rem * var(--mantine-scale));--badge-fz-xs: calc(.5625rem * var(--mantine-scale));--badge-fz-sm: calc(.625rem * var(--mantine-scale));--badge-fz-md: calc(.6875rem * var(--mantine-scale));--badge-fz-lg: calc(.8125rem * var(--mantine-scale));--badge-fz-xl: calc(1rem * var(--mantine-scale));--badge-padding-x-xs: calc(.375rem * var(--mantine-scale));--badge-padding-x-sm: calc(.5rem * var(--mantine-scale));--badge-padding-x-md: calc(.625rem * var(--mantine-scale));--badge-padding-x-lg: calc(.75rem * var(--mantine-scale));--badge-padding-x-xl: calc(1rem * var(--mantine-scale));--badge-height: var(--badge-height-md);--badge-fz: var(--badge-fz-md);--badge-padding-x: var(--badge-padding-x-md);--badge-radius: calc(62.5rem * var(--mantine-scale));--badge-lh: calc(var(--badge-height) - calc(.125rem * var(--mantine-scale)));--badge-color: var(--mantine-color-white);--badge-bg: var(--mantine-primary-color-filled);--badge-border-width: calc(.0625rem * var(--mantine-scale));--badge-bd: var(--badge-border-width) solid transparent;-webkit-tap-highlight-color:transparent;font-size:var(--badge-fz);border-radius:var(--badge-radius);height:var(--badge-height);line-height:var(--badge-lh);text-decoration:none;padding:0 var(--badge-padding-x);display:inline-grid;align-items:center;justify-content:center;width:fit-content;text-transform:uppercase;font-weight:700;letter-spacing:calc(.015625rem * var(--mantine-scale));cursor:inherit;text-overflow:ellipsis;overflow:hidden;color:var(--badge-color);background:var(--badge-bg);border:var(--badge-bd)}.m_347db0ec:where([data-with-right-section]){grid-template-columns:1fr auto}.m_347db0ec:where([data-with-left-section],[data-variant=dot]){grid-template-columns:auto 1fr}.m_347db0ec:where([data-with-left-section][data-with-right-section]){grid-template-columns:auto 1fr auto}.m_347db0ec:where([data-block]){display:flex;width:100%}.m_347db0ec:where([data-circle]){padding-inline:calc(.125rem * var(--mantine-scale));display:flex;width:var(--badge-height)}.m_fbd81e3d{--badge-dot-size: calc(var(--badge-height) / 3.4)}:where([data-mantine-color-scheme=light]) .m_fbd81e3d{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4);color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_fbd81e3d{background-color:var(--mantine-color-dark-5);border-color:var(--mantine-color-dark-5);color:var(--mantine-color-white)}.m_fbd81e3d:before{content:"";display:block;width:var(--badge-dot-size);height:var(--badge-dot-size);border-radius:var(--badge-dot-size);background-color:var(--badge-dot-color);margin-inline-end:var(--badge-dot-size)}.m_5add502a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}.m_91fdda9b{--badge-section-margin: calc(var(--mantine-spacing-xs) / 2);display:inline-flex;justify-content:center;align-items:center;max-height:calc(var(--badge-height) - var(--badge-border-width) * 2)}.m_91fdda9b:where([data-position=left]){margin-inline-end:var(--badge-section-margin)}.m_91fdda9b:where([data-position=right]){margin-inline-start:var(--badge-section-margin)}.m_ddec01c0{--blockquote-border: 3px solid var(--bq-bd);position:relative;margin:0;border-inline-start:var(--blockquote-border);border-start-end-radius:var(--bq-radius);border-end-end-radius:var(--bq-radius);padding:var(--mantine-spacing-xl) calc(2.375rem * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_ddec01c0{background-color:var(--bq-bg-light)}:where([data-mantine-color-scheme=dark]) .m_ddec01c0{background-color:var(--bq-bg-dark)}.m_dde7bd57{--blockquote-icon-offset: calc(var(--bq-icon-size) / -2);position:absolute;color:var(--bq-bd);background-color:var(--mantine-color-body);display:flex;align-items:center;justify-content:center;top:var(--blockquote-icon-offset);inset-inline-start:var(--blockquote-icon-offset);width:var(--bq-icon-size);height:var(--bq-icon-size);border-radius:var(--bq-icon-size)}.m_dde51a35{display:block;margin-top:var(--mantine-spacing-md);opacity:.6;font-size:85%}.m_8b3717df{display:flex;align-items:center}.m_f678d540{line-height:1;white-space:nowrap;-webkit-tap-highlight-color:transparent}.m_3b8f2208{margin-inline:var(--bc-separator-margin, var(--mantine-spacing-xs));line-height:1;display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_3b8f2208{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_3b8f2208{color:var(--mantine-color-dark-2)}.m_fea6bf1a{--burger-size-xs: calc(.75rem * var(--mantine-scale));--burger-size-sm: calc(1.125rem * var(--mantine-scale));--burger-size-md: calc(1.5rem * var(--mantine-scale));--burger-size-lg: calc(2.125rem * var(--mantine-scale));--burger-size-xl: calc(2.625rem * var(--mantine-scale));--burger-size: var(--burger-size-md);--burger-line-size: calc(var(--burger-size) / 12);width:calc(var(--burger-size) + var(--mantine-spacing-xs));height:calc(var(--burger-size) + var(--mantine-spacing-xs));padding:calc(var(--mantine-spacing-xs) / 2);cursor:pointer}:where([data-mantine-color-scheme=light]) .m_fea6bf1a{--burger-color: var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_fea6bf1a{--burger-color: var(--mantine-color-white)}.m_d4fb9cad{position:relative;-webkit-user-select:none;user-select:none}.m_d4fb9cad,.m_d4fb9cad:before,.m_d4fb9cad:after{display:block;width:var(--burger-size);height:var(--burger-line-size);background-color:var(--burger-color);outline:calc(.0625rem * var(--mantine-scale)) solid transparent;transition-property:background-color,transform;transition-duration:var(--burger-transition-duration, .3s);transition-timing-function:var(--burger-transition-timing-function, ease)}.m_d4fb9cad:before,.m_d4fb9cad:after{position:absolute;content:"";inset-inline-start:0}.m_d4fb9cad:before{top:calc(var(--burger-size) / -3)}.m_d4fb9cad:after{top:calc(var(--burger-size) / 3)}.m_d4fb9cad[data-opened]{background-color:transparent}.m_d4fb9cad[data-opened]:before{transform:translateY(calc(var(--burger-size) / 3)) rotate(45deg)}.m_d4fb9cad[data-opened]:after{transform:translateY(calc(var(--burger-size) / -3)) rotate(-45deg)}.m_77c9d27d{--button-height-xs: calc(1.875rem * var(--mantine-scale));--button-height-sm: calc(2.25rem * var(--mantine-scale));--button-height-md: calc(2.625rem * var(--mantine-scale));--button-height-lg: calc(3.125rem * var(--mantine-scale));--button-height-xl: calc(3.75rem * var(--mantine-scale));--button-height-compact-xs: calc(1.375rem * var(--mantine-scale));--button-height-compact-sm: calc(1.625rem * var(--mantine-scale));--button-height-compact-md: calc(1.875rem * var(--mantine-scale));--button-height-compact-lg: calc(2.125rem * var(--mantine-scale));--button-height-compact-xl: calc(2.5rem * var(--mantine-scale));--button-padding-x-xs: calc(.875rem * var(--mantine-scale));--button-padding-x-sm: calc(1.125rem * var(--mantine-scale));--button-padding-x-md: calc(1.375rem * var(--mantine-scale));--button-padding-x-lg: calc(1.625rem * var(--mantine-scale));--button-padding-x-xl: calc(2rem * var(--mantine-scale));--button-padding-x-compact-xs: calc(.4375rem * var(--mantine-scale));--button-padding-x-compact-sm: calc(.5rem * var(--mantine-scale));--button-padding-x-compact-md: calc(.625rem * var(--mantine-scale));--button-padding-x-compact-lg: calc(.75rem * var(--mantine-scale));--button-padding-x-compact-xl: calc(.875rem * var(--mantine-scale));--button-height: var(--button-height-sm);--button-padding-x: var(--button-padding-x-sm);--button-color: var(--mantine-color-white);-webkit-user-select:none;user-select:none;font-weight:600;position:relative;line-height:1;text-align:center;overflow:hidden;width:auto;cursor:pointer;display:inline-block;border-radius:var(--button-radius, var(--mantine-radius-default));font-size:var(--button-fz, var(--mantine-font-size-sm));background:var(--button-bg, var(--mantine-primary-color-filled));border:var(--button-bd, calc(.0625rem * var(--mantine-scale)) solid transparent);color:var(--button-color, var(--mantine-color-white));height:var(--button-height, var(--button-height-sm));padding-inline:var(--button-padding-x, var(--button-padding-x-sm));vertical-align:middle}.m_77c9d27d:where([data-block]){display:block;width:100%}.m_77c9d27d:where([data-with-left-section]){padding-inline-start:calc(var(--button-padding-x) / 1.5)}.m_77c9d27d:where([data-with-right-section]){padding-inline-end:calc(var(--button-padding-x) / 1.5)}.m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){cursor:not-allowed;border:calc(.0625rem * var(--mantine-scale)) solid transparent;transform:none}:where([data-mantine-color-scheme=light]) .m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){color:var(--mantine-color-gray-5);background:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_77c9d27d:where(:disabled:not([data-loading]),[data-disabled]:not([data-loading])){color:var(--mantine-color-dark-3);background:var(--mantine-color-dark-6)}.m_77c9d27d:before{content:"";pointer-events:none;position:absolute;inset:calc(-.0625rem * var(--mantine-scale));border-radius:var(--button-radius, var(--mantine-radius-default));transform:translateY(-100%);opacity:0;filter:blur(12px);transition:transform .15s ease,opacity .1s ease}:where([data-mantine-color-scheme=light]) .m_77c9d27d:before{background-color:#ffffff26}:where([data-mantine-color-scheme=dark]) .m_77c9d27d:before{background-color:#00000026}.m_77c9d27d:where([data-loading]){cursor:not-allowed;transform:none}.m_77c9d27d:where([data-loading]):before{transform:translateY(0);opacity:1}.m_77c9d27d:where([data-loading]) .m_80f1301b{opacity:0;transform:translateY(100%)}@media (hover: hover){.m_77c9d27d:hover:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--button-hover, var(--mantine-primary-color-filled-hover));color:var(--button-hover-color, var(--button-color))}}@media (hover: none){.m_77c9d27d:active:where(:not([data-loading],:disabled,[data-disabled])){background-color:var(--button-hover, var(--mantine-primary-color-filled-hover));color:var(--button-hover-color, var(--button-color))}}.m_80f1301b{display:flex;align-items:center;justify-content:var(--button-justify, center);height:100%;overflow:visible;transition:transform .15s ease,opacity .1s ease}.m_811560b9{white-space:nowrap;height:100%;overflow:hidden;display:flex;align-items:center;opacity:1}.m_811560b9:where([data-loading]){opacity:.2}.m_a74036a{display:flex;align-items:center}.m_a74036a:where([data-position=left]){margin-inline-end:var(--mantine-spacing-xs)}.m_a74036a:where([data-position=right]){margin-inline-start:var(--mantine-spacing-xs)}.m_a25b86ee{position:absolute;left:50%;top:50%}.m_80d6d844{--button-border-width: calc(.0625rem * var(--mantine-scale));display:flex}.m_80d6d844 :where(*):focus{position:relative;z-index:1}.m_80d6d844[data-orientation=horizontal]{flex-direction:row}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):first-child{border-end-end-radius:0;border-start-end-radius:0;border-inline-end-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):last-child{border-end-start-radius:0;border-start-start-radius:0;border-inline-start-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=horizontal] .m_77c9d27d:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-inline-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=vertical]{flex-direction:column}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):first-child{border-end-start-radius:0;border-end-end-radius:0;border-bottom-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):last-child{border-start-start-radius:0;border-start-end-radius:0;border-top-width:calc(var(--button-border-width) / 2)}.m_80d6d844[data-orientation=vertical] .m_77c9d27d:not(:only-child):not(:first-child):not(:last-child){border-radius:0;border-bottom-width:calc(var(--button-border-width) / 2);border-top-width:calc(var(--button-border-width) / 2)}.m_e615b15f{--card-padding: var(--mantine-spacing-md);position:relative;overflow:hidden;display:flex;flex-direction:column;padding:var(--card-padding);color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_e615b15f{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_e615b15f{background-color:var(--mantine-color-dark-6)}.m_599a2148{display:block;margin-inline:calc(var(--card-padding) * -1)}.m_599a2148:where(:first-child){margin-top:calc(var(--card-padding) * -1);border-top:none!important}.m_599a2148:where(:last-child){margin-bottom:calc(var(--card-padding) * -1);border-bottom:none!important}.m_599a2148:where([data-inherit-padding]){padding-inline:var(--card-padding)}.m_599a2148:where([data-with-border]){border-top:calc(.0625rem * var(--mantine-scale)) solid;border-bottom:calc(.0625rem * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_599a2148{border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_599a2148{border-color:var(--mantine-color-dark-4)}.m_599a2148+.m_599a2148{border-top:none!important}.m_4451eb3a{display:flex;align-items:center;justify-content:center}.m_4451eb3a:where([data-inline]){display:inline-flex}.m_f59ffda3{--chip-size-xs: calc(1.4375rem * var(--mantine-scale));--chip-size-sm: calc(1.75rem * var(--mantine-scale));--chip-size-md: calc(2rem * var(--mantine-scale));--chip-size-lg: calc(2.25rem * var(--mantine-scale));--chip-size-xl: calc(2.5rem * var(--mantine-scale));--chip-icon-size-xs: calc(.625rem * var(--mantine-scale));--chip-icon-size-sm: calc(.75rem * var(--mantine-scale));--chip-icon-size-md: calc(.875rem * var(--mantine-scale));--chip-icon-size-lg: calc(1rem * var(--mantine-scale));--chip-icon-size-xl: calc(1.125rem * var(--mantine-scale));--chip-padding-xs: calc(1rem * var(--mantine-scale));--chip-padding-sm: calc(1.25rem * var(--mantine-scale));--chip-padding-md: calc(1.5rem * var(--mantine-scale));--chip-padding-lg: calc(1.75rem * var(--mantine-scale));--chip-padding-xl: calc(2rem * var(--mantine-scale));--chip-checked-padding-xs: calc(.46875rem * var(--mantine-scale));--chip-checked-padding-sm: calc(.625rem * var(--mantine-scale));--chip-checked-padding-md: calc(.73125rem * var(--mantine-scale));--chip-checked-padding-lg: calc(.84375rem * var(--mantine-scale));--chip-checked-padding-xl: calc(.98125rem * var(--mantine-scale));--chip-spacing-xs: calc(.625rem * var(--mantine-scale));--chip-spacing-sm: calc(.75rem * var(--mantine-scale));--chip-spacing-md: calc(1rem * var(--mantine-scale));--chip-spacing-lg: calc(1.25rem * var(--mantine-scale));--chip-spacing-xl: calc(1.375rem * var(--mantine-scale));--chip-size: var(--chip-size-sm);--chip-icon-size: var(--chip-icon-size-sm);--chip-padding: var(--chip-padding-sm);--chip-spacing: var(--chip-spacing-sm);--chip-checked-padding: var(--chip-checked-padding-sm);--chip-bg: var(--mantine-primary-color-filled);--chip-hover: var(--mantine-primary-color-filled-hover);--chip-color: var(--mantine-color-white);--chip-bd: calc(.0625rem * var(--mantine-scale)) solid transparent}.m_be049a53{display:inline-flex;align-items:center;-webkit-user-select:none;user-select:none;border-radius:var(--chip-radius, 1000rem);height:var(--chip-size);font-size:var(--chip-fz, var(--mantine-font-size-sm));line-height:calc(var(--chip-size) - .125rem * var(--mantine-scale));padding-inline:var(--chip-padding);cursor:pointer;white-space:nowrap;-webkit-tap-highlight-color:transparent;border:calc(.0625rem * var(--mantine-scale)) solid transparent;color:var(--mantine-color-text)}.m_be049a53:where([data-checked]){padding:var(--chip-checked-padding)}.m_be049a53:where([data-disabled]){cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_be049a53:where([data-disabled]){background-color:var(--mantine-color-gray-2);color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) .m_be049a53:where([data-disabled]){background-color:var(--mantine-color-dark-6);color:var(--mantine-color-dark-3)}:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]){background-color:var(--mantine-color-white);border:1px solid var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]){background-color:var(--mantine-color-dark-6);border:1px solid var(--mantine-color-dark-4)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]):hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]):hover{background-color:var(--mantine-color-dark-5)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_3904c1af:not([data-disabled]):active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_3904c1af:not([data-disabled]):active{background-color:var(--mantine-color-dark-5)}}.m_3904c1af:not([data-disabled]):where([data-checked]){--chip-icon-color: var(--chip-color);border:var(--chip-bd)}@media (hover: hover){.m_3904c1af:not([data-disabled]):where([data-checked]):hover{background-color:var(--chip-hover)}}@media (hover: none){.m_3904c1af:not([data-disabled]):where([data-checked]):active{background-color:var(--chip-hover)}}.m_fa109255:not([data-disabled]),.m_f7e165c3:not([data-disabled]){border:calc(.0625rem * var(--mantine-scale)) solid transparent;color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]),:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]),:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]){background-color:var(--mantine-color-dark-5)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]):hover,:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]):hover{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]):hover,:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]):hover{background-color:var(--mantine-color-dark-4)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_fa109255:not([data-disabled]):active,:where([data-mantine-color-scheme=light]) .m_f7e165c3:not([data-disabled]):active{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa109255:not([data-disabled]):active,:where([data-mantine-color-scheme=dark]) .m_f7e165c3:not([data-disabled]):active{background-color:var(--mantine-color-dark-4)}}.m_fa109255:not([data-disabled]):where([data-checked]),.m_f7e165c3:not([data-disabled]):where([data-checked]){--chip-icon-color: var(--chip-color);color:var(--chip-color);background-color:var(--chip-bg)}@media (hover: hover){.m_fa109255:not([data-disabled]):where([data-checked]):hover,.m_f7e165c3:not([data-disabled]):where([data-checked]):hover{background-color:var(--chip-hover)}}@media (hover: none){.m_fa109255:not([data-disabled]):where([data-checked]):active,.m_f7e165c3:not([data-disabled]):where([data-checked]):active{background-color:var(--chip-hover)}}.m_9ac86df9{width:calc(var(--chip-icon-size) + var(--chip-spacing) / 1.5);max-width:calc(var(--chip-icon-size) + var(--chip-spacing) / 1.5);height:var(--chip-icon-size);display:flex;align-items:center;overflow:hidden}.m_d6d72580{width:var(--chip-icon-size);height:var(--chip-icon-size);display:block;color:var(--chip-icon-color, inherit)}.m_bde07329{width:0;height:0;padding:0;opacity:0;margin:0}.m_bde07329:focus-visible+.m_be049a53{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.m_b183c0a2{font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);padding:2px calc(var(--mantine-spacing-xs) / 2);border-radius:var(--mantine-radius-sm);font-size:var(--mantine-font-size-xs);margin:0;overflow:auto}:where([data-mantine-color-scheme=light]) .m_b183c0a2{background-color:var(--code-bg, var(--mantine-color-gray-1));color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_b183c0a2{background-color:var(--code-bg, var(--mantine-color-dark-5));color:var(--mantine-color-white)}.m_b183c0a2[data-block]{padding:var(--mantine-spacing-xs)}.m_de3d2490{--cs-size: calc(1.75rem * var(--mantine-scale));--cs-radius: calc(62.5rem * var(--mantine-scale));-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:block;line-height:1;position:relative;width:var(--cs-size);height:var(--cs-size);min-width:var(--cs-size);min-height:var(--cs-size);border-radius:var(--cs-radius);color:inherit;text-decoration:none}[data-mantine-color-scheme=light] .m_de3d2490{--alpha-overlay-color: var(--mantine-color-gray-3);--alpha-overlay-bg: var(--mantine-color-white)}[data-mantine-color-scheme=dark] .m_de3d2490{--alpha-overlay-color: var(--mantine-color-dark-4);--alpha-overlay-bg: var(--mantine-color-dark-7)}.m_862f3d1b{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:var(--cs-radius)}.m_98ae7f22{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:var(--cs-radius);z-index:1;box-shadow:#0000001a 0 0 0 calc(.0625rem * var(--mantine-scale)) inset,#00000026 0 0 calc(.25rem * var(--mantine-scale)) inset}.m_95709ac0{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:var(--cs-radius);background-size:calc(.5rem * var(--mantine-scale)) calc(.5rem * var(--mantine-scale));background-position:0 0,0 calc(.25rem * var(--mantine-scale)),calc(.25rem * var(--mantine-scale)) calc(-.25rem * var(--mantine-scale)),calc(-.25rem * var(--mantine-scale)) 0;background-image:linear-gradient(45deg,var(--alpha-overlay-color) 25%,transparent 25%),linear-gradient(-45deg,var(--alpha-overlay-color) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,var(--alpha-overlay-color) 75%),linear-gradient(-45deg,var(--alpha-overlay-bg) 75%,var(--alpha-overlay-color) 75%)}.m_93e74e3{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:var(--cs-radius);z-index:2;display:flex;align-items:center;justify-content:center}.m_fee9c77{--cp-width-xs: calc(11.25rem * var(--mantine-scale));--cp-width-sm: calc(12.5rem * var(--mantine-scale));--cp-width-md: calc(15rem * var(--mantine-scale));--cp-width-lg: calc(17.5rem * var(--mantine-scale));--cp-width-xl: calc(20rem * var(--mantine-scale));--cp-preview-size-xs: calc(1.625rem * var(--mantine-scale));--cp-preview-size-sm: calc(2.125rem * var(--mantine-scale));--cp-preview-size-md: calc(2.625rem * var(--mantine-scale));--cp-preview-size-lg: calc(3.125rem * var(--mantine-scale));--cp-preview-size-xl: calc(3.375rem * var(--mantine-scale));--cp-thumb-size-xs: calc(.5rem * var(--mantine-scale));--cp-thumb-size-sm: calc(.75rem * var(--mantine-scale));--cp-thumb-size-md: calc(1rem * var(--mantine-scale));--cp-thumb-size-lg: calc(1.25rem * var(--mantine-scale));--cp-thumb-size-xl: calc(1.375rem * var(--mantine-scale));--cp-saturation-height-xs: calc(6.25rem * var(--mantine-scale));--cp-saturation-height-sm: calc(6.875rem * var(--mantine-scale));--cp-saturation-height-md: calc(7.5rem * var(--mantine-scale));--cp-saturation-height-lg: calc(8.75rem * var(--mantine-scale));--cp-saturation-height-xl: calc(10rem * var(--mantine-scale));--cp-preview-size: var(--cp-preview-size-sm);--cp-thumb-size: var(--cp-thumb-size-sm);--cp-saturation-height: var(--cp-saturation-height-sm);--cp-width: var(--cp-width-sm);--cp-body-spacing: var(--mantine-spacing-sm);width:var(--cp-width);padding:calc(.0625rem * var(--mantine-scale))}.m_fee9c77:where([data-full-width]){width:100%}.m_9dddfbac{width:var(--cp-preview-size);height:var(--cp-preview-size)}.m_bffecc3e{display:flex;padding-top:calc(var(--cp-body-spacing) / 2)}.m_3283bb96{flex:1}.m_3283bb96:not(:only-child){margin-inline-end:var(--mantine-spacing-xs)}.m_40d572ba{overflow:hidden;position:absolute;box-shadow:0 0 1px #0009;border:2px solid var(--mantine-color-white);width:var(--cp-thumb-size);height:var(--cp-thumb-size);border-radius:var(--cp-thumb-size);left:calc(var(--thumb-x-offset) - var(--cp-thumb-size) / 2);top:calc(var(--thumb-y-offset) - var(--cp-thumb-size) / 2)}.m_d8ee6fd8{height:unset!important;width:unset!important;min-width:0!important;min-height:0!important;margin:calc(.125rem * var(--mantine-scale));cursor:pointer;padding-bottom:calc(var(--cp-swatch-size) - .25rem * var(--mantine-scale));flex:0 0 calc(var(--cp-swatch-size) - .25rem * var(--mantine-scale))}.m_5711e686{margin-top:calc(.3125rem * var(--mantine-scale));margin-inline:calc(-.125rem * var(--mantine-scale));display:flex;flex-wrap:wrap}.m_202a296e{--cp-thumb-size-xs: calc(.5rem * var(--mantine-scale));--cp-thumb-size-sm: calc(.75rem * var(--mantine-scale));--cp-thumb-size-md: calc(1rem * var(--mantine-scale));--cp-thumb-size-lg: calc(1.25rem * var(--mantine-scale));--cp-thumb-size-xl: calc(1.375rem * var(--mantine-scale));-webkit-tap-highlight-color:transparent;position:relative;height:var(--cp-saturation-height);border-radius:var(--mantine-radius-sm);margin:calc(var(--cp-thumb-size) / 2)}.m_202a296e:where([data-focus-ring=auto]):focus:focus-visible .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_202a296e:where([data-focus-ring=always]):focus .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_11b3db02{position:absolute;border-radius:var(--mantine-radius-sm);inset:calc(var(--cp-thumb-size) * -1 / 2 - .0625rem * var(--mantine-scale))}.m_d856d47d{--cp-thumb-size-xs: calc(.5rem * var(--mantine-scale));--cp-thumb-size-sm: calc(.75rem * var(--mantine-scale));--cp-thumb-size-md: calc(1rem * var(--mantine-scale));--cp-thumb-size-lg: calc(1.25rem * var(--mantine-scale));--cp-thumb-size-xl: calc(1.375rem * var(--mantine-scale));--cp-thumb-size: var(--cp-thumb-size, calc(.75rem * var(--mantine-scale)));position:relative;height:calc(var(--cp-thumb-size) + .125rem * var(--mantine-scale));margin-inline:calc(var(--cp-thumb-size) / 2);outline:none}.m_d856d47d+.m_d856d47d{margin-top:calc(.375rem * var(--mantine-scale))}.m_d856d47d:where([data-focus-ring=auto]):focus:focus-visible .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}.m_d856d47d:where([data-focus-ring=always]):focus .m_40d572ba{outline:2px solid var(--mantine-color-blue-filled)}:where([data-mantine-color-scheme=light]) .m_d856d47d{--slider-checkers: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d856d47d{--slider-checkers: var(--mantine-color-dark-4)}.m_8f327113{position:absolute;top:0;bottom:0;inset-inline:calc(var(--cp-thumb-size) * -1 / 2 - .0625rem * var(--mantine-scale));border-radius:10000rem}.m_b077c2bc{--ci-eye-dropper-icon-size-xs: calc(.875rem * var(--mantine-scale));--ci-eye-dropper-icon-size-sm: calc(1rem * var(--mantine-scale));--ci-eye-dropper-icon-size-md: calc(1.125rem * var(--mantine-scale));--ci-eye-dropper-icon-size-lg: calc(1.25rem * var(--mantine-scale));--ci-eye-dropper-icon-size-xl: calc(1.375rem * var(--mantine-scale));--ci-eye-dropper-icon-size: var(--ci-eye-dropper-icon-size-sm)}.m_c5ccdcab{--ci-preview-size-xs: calc(1rem * var(--mantine-scale));--ci-preview-size-sm: calc(1.125rem * var(--mantine-scale));--ci-preview-size-md: calc(1.375rem * var(--mantine-scale));--ci-preview-size-lg: calc(1.75rem * var(--mantine-scale));--ci-preview-size-xl: calc(2.25rem * var(--mantine-scale));--ci-preview-size: var(--ci-preview-size-sm)}.m_5ece2cd7{padding:calc(.5rem * var(--mantine-scale))}.m_7485cace{--container-size-xs: calc(33.75rem * var(--mantine-scale));--container-size-sm: calc(45rem * var(--mantine-scale));--container-size-md: calc(60rem * var(--mantine-scale));--container-size-lg: calc(71.25rem * var(--mantine-scale));--container-size-xl: calc(82.5rem * var(--mantine-scale));--container-size: var(--container-size-md);max-width:var(--container-size);padding-inline:var(--mantine-spacing-md);margin-inline:auto}.m_7485cace:where([data-fluid]){max-width:100%}.m_e2125a27{--dialog-size-xs: calc(10rem * var(--mantine-scale));--dialog-size-sm: calc(12.5rem * var(--mantine-scale));--dialog-size-md: calc(21.25rem * var(--mantine-scale));--dialog-size-lg: calc(25rem * var(--mantine-scale));--dialog-size-xl: calc(31.25rem * var(--mantine-scale));--dialog-size: var(--dialog-size-md);position:relative;width:var(--dialog-size);max-width:calc(100vw - var(--mantine-spacing-xl) * 2);min-height:calc(3.125rem * var(--mantine-scale))}.m_5abab665{position:absolute;top:calc(var(--mantine-spacing-md) / 2);inset-inline-end:calc(var(--mantine-spacing-md) / 2)}.m_3eebeb36{--divider-size-xs: calc(.0625rem * var(--mantine-scale));--divider-size-sm: calc(.125rem * var(--mantine-scale));--divider-size-md: calc(.1875rem * var(--mantine-scale));--divider-size-lg: calc(.25rem * var(--mantine-scale));--divider-size-xl: calc(.3125rem * var(--mantine-scale));--divider-size: var(--divider-size-xs)}:where([data-mantine-color-scheme=light]) .m_3eebeb36{--divider-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_3eebeb36{--divider-color: var(--mantine-color-dark-4)}.m_3eebeb36:where([data-orientation=horizontal]){border-top:var(--divider-size) var(--divider-border-style, solid) var(--divider-color)}.m_3eebeb36:where([data-orientation=vertical]){border-inline-start:var(--divider-size) var(--divider-border-style, solid) var(--divider-color);height:auto;align-self:stretch}.m_3eebeb36:where([data-with-label]){border:0}.m_9e365f20{display:flex;align-items:center;font-size:var(--mantine-font-size-xs);color:var(--mantine-color-dimmed);white-space:nowrap}.m_9e365f20:where([data-position=left]):before{display:none}.m_9e365f20:where([data-position=right]):after{display:none}.m_9e365f20:before{content:"";flex:1;height:calc(.0625rem * var(--mantine-scale));border-top:var(--divider-size) var(--divider-border-style, solid) var(--divider-color);margin-inline-end:var(--mantine-spacing-xs)}.m_9e365f20:after{content:"";flex:1;height:calc(.0625rem * var(--mantine-scale));border-top:var(--divider-size) var(--divider-border-style, solid) var(--divider-color);margin-inline-start:var(--mantine-spacing-xs)}.m_f11b401e{--drawer-size-xs: calc(20rem * var(--mantine-scale));--drawer-size-sm: calc(23.75rem * var(--mantine-scale));--drawer-size-md: calc(27.5rem * var(--mantine-scale));--drawer-size-lg: calc(38.75rem * var(--mantine-scale));--drawer-size-xl: calc(48.75rem * var(--mantine-scale));--drawer-size: var(--drawer-size-md);--drawer-offset: 0rem}.m_5a7c2c9{z-index:1000}.m_b8a05bbd{flex:var(--drawer-flex, 0 0 var(--drawer-size));height:var(--drawer-height, calc(100% - var(--drawer-offset) * 2));margin:var(--drawer-offset);max-width:calc(100% - var(--drawer-offset) * 2);max-height:calc(100% - var(--drawer-offset) * 2);overflow-y:auto}.m_31cd769a{display:flex;justify-content:var(--drawer-justify, flex-start);align-items:var(--drawer-align, flex-start)}.m_e9408a47{padding:var(--mantine-spacing-lg);padding-top:var(--mantine-spacing-xs);border-radius:var(--fieldset-radius, var(--mantine-radius-default));min-inline-size:auto}.m_84c9523a{border:calc(.0625rem * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_84c9523a{border-color:var(--mantine-color-gray-3);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_84c9523a{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-7)}.m_ef274e49{border:calc(.0625rem * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_ef274e49{border-color:var(--mantine-color-gray-3);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_ef274e49{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}.m_eda993d3{padding:0;border:0;border-radius:0}.m_90794832{font-size:var(--mantine-font-size-sm)}.m_74ca27fe{padding:0;margin-bottom:var(--mantine-spacing-sm)}.m_410352e9{--grid-overflow: visible;--grid-margin: calc(var(--grid-gutter) / -2);--grid-col-padding: calc(var(--grid-gutter) / 2);overflow:var(--grid-overflow)}.m_dee7bd2f{width:calc(100% + var(--grid-gutter));display:flex;flex-wrap:wrap;justify-content:var(--grid-justify);align-items:var(--grid-align);margin:var(--grid-margin)}.m_96bdd299{--col-flex-grow: 0;--col-offset: 0rem;flex-shrink:0;order:var(--col-order);flex-basis:var(--col-flex-basis);width:var(--col-width);max-width:var(--col-max-width);flex-grow:var(--col-flex-grow);margin-inline-start:var(--col-offset);padding:var(--grid-col-padding)}.m_bcb3f3c2{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=light]) .m_bcb3f3c2{background-color:var(--mark-bg-light)}:where([data-mantine-color-scheme=dark]) .m_bcb3f3c2{background-color:var(--mark-bg-dark)}.m_9e117634{display:block;flex:0;object-fit:var(--image-object-fit, cover);width:100%;border-radius:var(--image-radius, 0)}@keyframes m_885901b1{0%{opacity:.6;transform:scale(0)}to{opacity:0;transform:scale(2.8)}}.m_e5262200{--indicator-size: calc(.625rem * var(--mantine-scale));--indicator-color: var(--mantine-primary-color-filled);position:relative;display:block}.m_e5262200:where([data-inline]){display:inline-block}.m_760d1fb1{position:absolute;top:var(--indicator-top);left:var(--indicator-left);right:var(--indicator-right);bottom:var(--indicator-bottom);transform:translate(var(--indicator-translate-x),var(--indicator-translate-y));min-width:var(--indicator-size);height:var(--indicator-size);border-radius:var(--indicator-radius, 1000rem);z-index:var(--indicator-z-index, 200);display:flex;align-items:center;justify-content:center;font-size:var(--mantine-font-size-xs);background-color:var(--indicator-color);color:var(--indicator-text-color, var(--mantine-color-white));white-space:nowrap}.m_760d1fb1:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-color:var(--indicator-color);border-radius:var(--indicator-radius, 1000rem);z-index:-1}.m_760d1fb1:where([data-with-label]){padding-inline:calc(var(--mantine-spacing-xs) / 2)}.m_760d1fb1:where([data-with-border]){border:2px solid var(--mantine-color-body)}.m_760d1fb1[data-processing]:before{animation:m_885901b1 1s linear infinite}.m_dc6f14e2{--kbd-fz-xs: calc(.625rem * var(--mantine-scale));--kbd-fz-sm: calc(.75rem * var(--mantine-scale));--kbd-fz-md: calc(.875rem * var(--mantine-scale));--kbd-fz-lg: calc(1rem * var(--mantine-scale));--kbd-fz-xl: calc(1.25rem * var(--mantine-scale));--kbd-fz: var(--kbd-fz-sm);--kbd-padding-xs: calc(.125rem * var(--mantine-scale)) calc(.25rem * var(--mantine-scale));--kbd-padding-sm: calc(.1875rem * var(--mantine-scale)) calc(.3125rem * var(--mantine-scale));--kbd-padding-md: calc(.25rem * var(--mantine-scale)) calc(.4375rem * var(--mantine-scale));--kbd-padding-lg: calc(.3125rem * var(--mantine-scale)) calc(.5625rem * var(--mantine-scale));--kbd-padding-xl: calc(.5rem * var(--mantine-scale)) calc(.875rem * var(--mantine-scale));--kbd-padding: var(--kbd-padding-sm);font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);font-weight:700;padding:var(--kbd-padding);font-size:var(--kbd-fz);border-radius:var(--mantine-radius-sm);border:calc(.0625rem * var(--mantine-scale)) solid;border-bottom-width:calc(.1875rem * var(--mantine-scale));unicode-bidi:embed}:where([data-mantine-color-scheme=light]) .m_dc6f14e2{border-color:var(--mantine-color-gray-3);color:var(--mantine-color-gray-7);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_dc6f14e2{border-color:var(--mantine-color-dark-4);color:var(--mantine-color-dark-0);background-color:var(--mantine-color-dark-6)}.m_abbac491{--list-fz: var(--mantine-font-size-md);--list-lh: var(--mantine-line-height-md);list-style-position:inside;font-size:var(--list-fz);line-height:var(--list-lh);margin:0;padding:0}.m_abbac491:where([data-with-padding]){padding-inline-start:var(--mantine-spacing-md)}.m_abb6bec2{white-space:nowrap;line-height:var(--list-lh)}.m_abb6bec2:where([data-with-icon]){list-style:none}.m_abb6bec2:where([data-with-icon]) .m_75cd9f71{--li-direction: row;--li-align: center}.m_abb6bec2:where(:not(:first-of-type)){margin-top:var(--list-spacing, 0)}.m_abb6bec2:where([data-centered]){line-height:1}.m_75cd9f71{display:inline-flex;flex-direction:var(--li-direction, column);align-items:var(--li-align, flex-start);white-space:normal}.m_60f83e5b{display:inline-block;vertical-align:middle;margin-inline-end:var(--mantine-spacing-sm)}.m_6e45937b{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;overflow:hidden;z-index:var(--lo-z-index)}.m_e8eb006c{position:relative;z-index:calc(var(--lo-z-index) + 1)}.m_df587f17{z-index:var(--lo-z-index)}.m_dc9b7c9f{padding:calc(.25rem * var(--mantine-scale))}.m_9bfac126{color:var(--mantine-color-dimmed);font-weight:500;font-size:var(--mantine-font-size-xs);padding:calc(var(--mantine-spacing-xs) / 2) var(--mantine-spacing-sm);cursor:default}.m_efdf90cb{margin-top:calc(.25rem * var(--mantine-scale));margin-bottom:calc(.25rem * var(--mantine-scale));border-top:calc(.0625rem * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_efdf90cb{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_efdf90cb{border-color:var(--mantine-color-dark-4)}.m_99ac2aa1{font-size:var(--mantine-font-size-sm);width:100%;padding:calc(var(--mantine-spacing-xs) / 1.5) var(--mantine-spacing-sm);border-radius:var(--popover-radius, var(--mantine-radius-default));color:var(--menu-item-color, var(--mantine-color-text));display:flex;align-items:center;-webkit-user-select:none;user-select:none}.m_99ac2aa1:where([data-disabled],:disabled){color:var(--mantine-color-dimmed);opacity:.6;pointer-events:none}:where([data-mantine-color-scheme=light]) .m_99ac2aa1:where([data-hovered]){background-color:var(--menu-item-hover, var(--mantine-color-gray-1))}:where([data-mantine-color-scheme=dark]) .m_99ac2aa1:where([data-hovered]){background-color:var(--menu-item-hover, var(--mantine-color-dark-4))}.m_5476e0d3{flex:1}.m_8b75e504{display:flex;justify-content:center;align-items:center}.m_8b75e504:where([data-position=left]){margin-inline-end:var(--mantine-spacing-xs)}.m_8b75e504:where([data-position=right]){margin-inline-start:var(--mantine-spacing-xs)}.m_9df02822{--modal-size-xs: calc(20rem * var(--mantine-scale));--modal-size-sm: calc(23.75rem * var(--mantine-scale));--modal-size-md: calc(27.5rem * var(--mantine-scale));--modal-size-lg: calc(38.75rem * var(--mantine-scale));--modal-size-xl: calc(48.75rem * var(--mantine-scale));--modal-size: var(--modal-size-md);--modal-y-offset: 5dvh;--modal-x-offset: 5vw}.m_9df02822[data-full-screen]{--modal-border-radius: 0 !important}.m_9df02822[data-full-screen] .m_54c44539{--modal-content-flex: 0 0 100%;--modal-content-max-height: auto;--modal-content-height: 100dvh}.m_9df02822[data-full-screen] .m_1f958f16{--modal-inner-y-offset: 0;--modal-inner-x-offset: 0}.m_9df02822[data-centered] .m_1f958f16{--modal-inner-align: center}.m_d0e2b9cd{border-start-start-radius:var(--modal-radius, var(--mantine-radius-default));border-start-end-radius:var(--modal-radius, var(--mantine-radius-default))}.m_54c44539{flex:var(--modal-content-flex, 0 0 var(--modal-size));max-width:100%;max-height:var(--modal-content-max-height, calc(100dvh - var(--modal-y-offset) * 2));height:var(--modal-content-height, auto);overflow-y:auto}.m_54c44539[data-full-screen]{border-radius:0}.m_1f958f16{display:flex;justify-content:center;align-items:var(--modal-inner-align, flex-start);padding-top:var(--modal-inner-y-offset, var(--modal-y-offset));padding-bottom:var(--modal-inner-y-offset, var(--modal-y-offset));padding-inline:var(--modal-inner-x-offset, var(--modal-x-offset))}.m_7cda1cd6{--pill-fz-xs: calc(.625rem * var(--mantine-scale));--pill-fz-sm: calc(.75rem * var(--mantine-scale));--pill-fz-md: calc(.875rem * var(--mantine-scale));--pill-fz-lg: calc(1rem * var(--mantine-scale));--pill-fz-xl: calc(1.125rem * var(--mantine-scale));--pill-height-xs: calc(1.125rem * var(--mantine-scale));--pill-height-sm: calc(1.375rem * var(--mantine-scale));--pill-height-md: calc(1.5625rem * var(--mantine-scale));--pill-height-lg: calc(1.75rem * var(--mantine-scale));--pill-height-xl: calc(2rem * var(--mantine-scale));--pill-fz: var(--pill-fz-sm);--pill-height: var(--pill-height-sm);font-size:var(--pill-fz);flex:0;height:var(--pill-height);padding-inline:.8em;display:inline-flex;align-items:center;border-radius:var(--pill-radius, 1000rem);line-height:1;white-space:nowrap;user-select:none;-webkit-user-select:none;max-width:100%}:where([data-mantine-color-scheme=dark]) .m_7cda1cd6{background-color:var(--mantine-color-dark-7);color:var(--mantine-color-dark-0)}:where([data-mantine-color-scheme=light]) .m_7cda1cd6{color:var(--mantine-color-black)}.m_7cda1cd6:where([data-with-remove]:not(:has(button:disabled))){padding-inline-end:0}.m_7cda1cd6:where([data-disabled],:has(button:disabled)){cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_44da308b{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=light]) .m_44da308b:where([data-disabled],:has(button:disabled)){background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=light]) .m_e3a01f8{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=light]) .m_e3a01f8:where([data-disabled],:has(button:disabled)){background-color:var(--mantine-color-gray-3)}.m_1e0e6180{cursor:inherit;overflow:hidden;height:100%;line-height:var(--pill-height);text-overflow:ellipsis}.m_ae386778{color:inherit;font-size:inherit;height:100%;min-height:unset;min-width:2em;width:unset;border-radius:0;padding-inline-start:.1em;padding-inline-end:.3em;flex:0;border-end-end-radius:var(--pill-radius, 50%);border-start-end-radius:var(--pill-radius, 50%)}.m_7cda1cd6[data-disabled]>.m_ae386778,.m_ae386778:disabled{display:none;background-color:transparent;width:.8em;min-width:.8em;padding:0;cursor:not-allowed}.m_7cda1cd6[data-disabled]>.m_ae386778>svg,.m_ae386778:disabled>svg{display:none}.m_ae386778>svg{pointer-events:none}.m_1dcfd90b{--pg-gap-xs: calc(.375rem * var(--mantine-scale));--pg-gap-sm: calc(.5rem * var(--mantine-scale));--pg-gap-md: calc(.625rem * var(--mantine-scale));--pg-gap-lg: calc(.75rem * var(--mantine-scale));--pg-gap-xl: calc(.75rem * var(--mantine-scale));--pg-gap: var(--pg-gap-sm);display:flex;align-items:center;gap:var(--pg-gap);flex-wrap:wrap}.m_45c4369d{background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;min-width:calc(6.25rem * var(--mantine-scale));flex:1;border:0;font-size:inherit;height:1.6em;color:inherit;padding:0}.m_45c4369d::placeholder{color:var(--input-placeholder-color);opacity:1}.m_45c4369d:where([data-type=hidden],[data-type=auto]){height:calc(.0625rem * var(--mantine-scale));width:calc(.0625rem * var(--mantine-scale));top:0;left:0;pointer-events:none;position:absolute;opacity:0}.m_45c4369d:focus{outline:none}.m_45c4369d:where([data-type=auto]:focus){height:1.6em;visibility:visible;opacity:1;position:static}.m_45c4369d:where([data-pointer]:not([data-disabled],:disabled)){cursor:pointer}.m_45c4369d:where([data-disabled],:disabled){cursor:not-allowed}.m_f0824112{--nl-bg: var(--mantine-primary-color-light);--nl-hover: var(--mantine-primary-color-light-hover);--nl-color: var(--mantine-primary-color-light-color);display:flex;align-items:center;width:100%;padding:8px var(--mantine-spacing-sm);-webkit-user-select:none;user-select:none}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_f0824112:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_f0824112:hover{background-color:var(--mantine-color-dark-6)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_f0824112:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_f0824112:active{background-color:var(--mantine-color-dark-6)}}.m_f0824112:where([data-disabled]){opacity:.4;pointer-events:none}.m_f0824112:where([data-active],[aria-current=page]){background-color:var(--nl-bg);color:var(--nl-color)}@media (hover: hover){.m_f0824112:where([data-active],[aria-current=page]):hover{background-color:var(--nl-hover)}}@media (hover: none){.m_f0824112:where([data-active],[aria-current=page]):active{background-color:var(--nl-hover)}}.m_f0824112:where([data-active],[aria-current=page]) .m_57492dcc{--description-opacity: .9;--description-color: var(--nl-color)}.m_690090b5{display:flex;align-items:center;justify-content:center;transition:transform .15s ease}.m_690090b5>svg{display:block}.m_690090b5:where([data-position=left]){margin-inline-end:var(--mantine-spacing-sm)}.m_690090b5:where([data-position=right]){margin-inline-start:var(--mantine-spacing-sm)}.m_690090b5:where([data-rotate]){transform:rotate(90deg)}.m_1f6ac4c4{font-size:var(--mantine-font-size-sm)}.m_f07af9d2{flex:1;overflow:hidden;text-overflow:ellipsis}.m_f07af9d2:where([data-no-wrap]){white-space:nowrap}.m_57492dcc{display:block;font-size:var(--mantine-font-size-xs);opacity:var(--description-opacity, 1);color:var(--description-color, var(--mantine-color-dimmed));overflow:hidden;text-overflow:ellipsis}:where([data-no-wrap]) .m_57492dcc{white-space:nowrap}.m_e17b862f{padding-inline-start:var(--nl-offset, var(--mantine-spacing-lg))}.m_1fd8a00b{transform:rotate(-90deg)}.m_a513464{--notification-radius: var(--mantine-radius-default);--notification-color: var(--mantine-primary-color-filled);overflow:hidden;box-sizing:border-box;position:relative;display:flex;align-items:center;padding-inline-start:calc(1.375rem * var(--mantine-scale));padding-inline-end:var(--mantine-spacing-xs);padding-top:var(--mantine-spacing-xs);padding-bottom:var(--mantine-spacing-xs);border-radius:var(--notification-radius);box-shadow:var(--mantine-shadow-lg)}.m_a513464:before{content:"";display:block;position:absolute;width:calc(.375rem * var(--mantine-scale));top:var(--notification-radius);bottom:var(--notification-radius);inset-inline-start:calc(.25rem * var(--mantine-scale));border-radius:var(--notification-radius);background-color:var(--notification-color)}:where([data-mantine-color-scheme=light]) .m_a513464{background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_a513464{background-color:var(--mantine-color-dark-6)}.m_a513464:where([data-with-icon]){padding-inline-start:var(--mantine-spacing-xs)}.m_a513464:where([data-with-icon]):before{display:none}:where([data-mantine-color-scheme=light]) .m_a513464:where([data-with-border]){border:1px solid var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_a513464:where([data-with-border]){border:1px solid var(--mantine-color-dark-4)}.m_a4ceffb{box-sizing:border-box;margin-inline-end:var(--mantine-spacing-md);width:calc(1.75rem * var(--mantine-scale));height:calc(1.75rem * var(--mantine-scale));border-radius:calc(1.75rem * var(--mantine-scale));display:flex;align-items:center;justify-content:center;background-color:var(--notification-color);color:var(--mantine-color-white)}.m_b0920b15{margin-inline-end:var(--mantine-spacing-md)}.m_a49ed24{flex:1;overflow:hidden;margin-inline-end:var(--mantine-spacing-xs)}.m_3feedf16{margin-bottom:calc(.125rem * var(--mantine-scale));overflow:hidden;text-overflow:ellipsis;font-size:var(--mantine-font-size-sm);line-height:var(--mantine-line-height-sm);font-weight:500}:where([data-mantine-color-scheme=light]) .m_3feedf16{color:var(--mantine-color-gray-9)}:where([data-mantine-color-scheme=dark]) .m_3feedf16{color:var(--mantine-color-white)}.m_3d733a3a{font-size:var(--mantine-font-size-sm);line-height:var(--mantine-line-height-sm);overflow:hidden;text-overflow:ellipsis}:where([data-mantine-color-scheme=light]) .m_3d733a3a{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_3d733a3a{color:var(--mantine-color-dark-0)}:where([data-mantine-color-scheme=light]) .m_3d733a3a:where([data-with-title]){color:var(--mantine-color-gray-6)}:where([data-mantine-color-scheme=dark]) .m_3d733a3a:where([data-with-title]){color:var(--mantine-color-dark-2)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_919a4d88:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_919a4d88:hover{background-color:var(--mantine-color-dark-8)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_919a4d88:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_919a4d88:active{background-color:var(--mantine-color-dark-8)}}.m_e2f5cd4e{--ni-right-section-width-xs: calc(1.0625rem * var(--mantine-scale));--ni-right-section-width-sm: calc(1.5rem * var(--mantine-scale));--ni-right-section-width-md: calc(1.6875rem * var(--mantine-scale));--ni-right-section-width-lg: calc(1.9375rem * var(--mantine-scale));--ni-right-section-width-xl: calc(2.125rem * var(--mantine-scale))}.m_95e17d22{--ni-chevron-size-xs: calc(.625rem * var(--mantine-scale));--ni-chevron-size-sm: calc(.875rem * var(--mantine-scale));--ni-chevron-size-md: calc(1rem * var(--mantine-scale));--ni-chevron-size-lg: calc(1.125rem * var(--mantine-scale));--ni-chevron-size-xl: calc(1.25rem * var(--mantine-scale));--ni-chevron-size: var(--ni-chevron-size-sm);display:flex;flex-direction:column;width:100%;height:calc(var(--input-height) - .125rem * var(--mantine-scale));max-width:calc(var(--ni-chevron-size) * 1.7);margin-inline-start:auto}.m_80b4b171{--control-border: 1px solid var(--input-bd);--control-radius: calc(var(--input-radius) - calc(.0625rem * var(--mantine-scale)));flex:0 0 50%;width:100%;padding:0;height:calc(var(--input-height) / 2 - .0625rem * var(--mantine-scale));border-inline-start:var(--control-border);display:flex;align-items:center;justify-content:center;color:var(--mantine-color-text);background-color:transparent;cursor:pointer}.m_80b4b171:where(:disabled){background-color:transparent;cursor:not-allowed;opacity:.6}:where([data-mantine-color-scheme=light]) .m_80b4b171:where(:disabled){color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:where(:disabled){color:var(--mantine-color-dark-3)}.m_e2f5cd4e[data-error] :where(.m_80b4b171){color:var(--mantine-color-error)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_80b4b171:hover{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:hover{background-color:var(--mantine-color-dark-4)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_80b4b171:active{background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_80b4b171:active{background-color:var(--mantine-color-dark-4)}}.m_80b4b171:where(:first-of-type){border-radius:0;border-start-end-radius:var(--control-radius)}.m_80b4b171:last-of-type{border-radius:0;border-end-end-radius:var(--control-radius)}.m_4addd315{--pagination-control-size-xs: calc(1.375rem * var(--mantine-scale));--pagination-control-size-sm: calc(1.625rem * var(--mantine-scale));--pagination-control-size-md: calc(2rem * var(--mantine-scale));--pagination-control-size-lg: calc(2.375rem * var(--mantine-scale));--pagination-control-size-xl: calc(2.75rem * var(--mantine-scale));--pagination-control-size: var(--pagination-control-size-md);--pagination-control-fz: var(--mantine-font-size-md);--pagination-active-bg: var(--mantine-primary-color-filled)}.m_326d024a{display:flex;align-items:center;justify-content:center;border:calc(.0625rem * var(--mantine-scale)) solid;cursor:pointer;color:var(--mantine-color-text);height:var(--pagination-control-size);min-width:var(--pagination-control-size);font-size:var(--pagination-control-fz);line-height:1;border-radius:var(--pagination-control-radius, var(--mantine-radius-default))}.m_326d024a:where([data-with-padding]){padding:calc(var(--pagination-control-size) / 4)}.m_326d024a:where(:disabled,[data-disabled]){cursor:not-allowed;opacity:.4}:where([data-mantine-color-scheme=light]) .m_326d024a{border-color:var(--mantine-color-gray-4);background-color:var(--mantine-color-white)}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_326d024a:hover:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-gray-0)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_326d024a:active:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-gray-0)}}:where([data-mantine-color-scheme=dark]) .m_326d024a{border-color:var(--mantine-color-dark-4);background-color:var(--mantine-color-dark-6)}@media (hover: hover){:where([data-mantine-color-scheme=dark]) .m_326d024a:hover:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-dark-5)}}@media (hover: none){:where([data-mantine-color-scheme=dark]) .m_326d024a:active:where(:not(:disabled,[data-disabled])){background-color:var(--mantine-color-dark-5)}}.m_326d024a:where([data-active]){background-color:var(--pagination-active-bg);border-color:var(--pagination-active-bg);color:var(--pagination-active-color, var(--mantine-color-white))}@media (hover: hover){.m_326d024a:where([data-active]):hover{background-color:var(--pagination-active-bg)}}@media (hover: none){.m_326d024a:where([data-active]):active{background-color:var(--pagination-active-bg)}}.m_4ad7767d{height:var(--pagination-control-size);min-width:var(--pagination-control-size);display:flex;align-items:center;justify-content:center;pointer-events:none}.m_f61ca620{--psi-button-size-xs: calc(1.375rem * var(--mantine-scale));--psi-button-size-sm: calc(1.625rem * var(--mantine-scale));--psi-button-size-md: calc(1.75rem * var(--mantine-scale));--psi-button-size-lg: calc(2rem * var(--mantine-scale));--psi-button-size-xl: calc(2.5rem * var(--mantine-scale));--psi-icon-size-xs: calc(.75rem * var(--mantine-scale));--psi-icon-size-sm: calc(.9375rem * var(--mantine-scale));--psi-icon-size-md: calc(1.0625rem * var(--mantine-scale));--psi-icon-size-lg: calc(1.1875rem * var(--mantine-scale));--psi-icon-size-xl: calc(1.3125rem * var(--mantine-scale));--psi-button-size: var(--psi-button-size-sm);--psi-icon-size: var(--psi-icon-size-sm)}.m_ccf8da4c{position:relative;overflow:hidden}.m_f2d85dd2{font-family:var(--mantine-font-family);background-color:transparent;border:0;padding-inline-end:var(--input-padding-inline-end);padding-inline-start:var(--input-padding-inline-start);position:absolute;top:0;right:0;bottom:0;left:0;outline:0;font-size:inherit;line-height:var(--mantine-line-height);height:100%;width:100%;color:inherit}.m_ccf8da4c[data-disabled] .m_f2d85dd2,.m_f2d85dd2:disabled{cursor:not-allowed}.m_f2d85dd2::placeholder{color:var(--input-placeholder-color);opacity:1}.m_f2d85dd2::-ms-reveal{display:none}.m_b1072d44{width:var(--psi-button-size);height:var(--psi-button-size);min-width:var(--psi-button-size);min-height:var(--psi-button-size)}.m_b1072d44:disabled{display:none}.m_f1cb205a{--pin-input-size-xs: calc(1.875rem * var(--mantine-scale));--pin-input-size-sm: calc(2.25rem * var(--mantine-scale));--pin-input-size-md: calc(2.625rem * var(--mantine-scale));--pin-input-size-lg: calc(3.125rem * var(--mantine-scale));--pin-input-size-xl: calc(3.75rem * var(--mantine-scale));--pin-input-size: var(--pin-input-size-sm)}.m_cb288ead{width:var(--pin-input-size);height:var(--pin-input-size)}@keyframes m_81a374bd{0%{background-position:0 0}to{background-position:calc(2.5rem * var(--mantine-scale)) 0}}.m_db6d6462{--progress-radius: var(--mantine-radius-default);--progress-size: var(--progress-size-md);--progress-size-xs: calc(.1875rem * var(--mantine-scale));--progress-size-sm: calc(.3125rem * var(--mantine-scale));--progress-size-md: calc(.5rem * var(--mantine-scale));--progress-size-lg: calc(.75rem * var(--mantine-scale));--progress-size-xl: calc(1rem * var(--mantine-scale));position:relative;height:var(--progress-size);border-radius:var(--progress-radius);overflow:hidden;display:flex}:where([data-mantine-color-scheme=light]) .m_db6d6462{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_db6d6462{background-color:var(--mantine-color-dark-4)}.m_2242eb65{background-color:var(--progress-section-color);height:100%;width:var(--progress-section-width);display:flex;align-items:center;justify-content:center;overflow:hidden;background-size:calc(1.25rem * var(--mantine-scale)) calc(1.25rem * var(--mantine-scale));transition:width var(--progress-transition-duration, .1s) ease}.m_2242eb65:where([data-striped]){background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.m_2242eb65:where([data-animated]){animation:m_81a374bd 1s linear infinite}.m_2242eb65:where(:last-of-type){border-radius:0;border-start-end-radius:var(--progress-radius);border-end-end-radius:var(--progress-radius)}.m_2242eb65:where(:first-of-type){border-radius:0;border-start-start-radius:var(--progress-radius);border-end-start-radius:var(--progress-radius)}.m_91e40b74{color:var(--progress-label-color, var(--mantine-color-white));font-weight:700;-webkit-user-select:none;user-select:none;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:min(var(--progress-size) * .65,1.125rem * var(--mantine-scale));line-height:1;padding-inline:calc(.25rem * var(--mantine-scale))}.m_9dc8ae12{--card-radius: var(--mantine-radius-default);display:block;width:100%;border-radius:var(--card-radius);cursor:pointer}.m_9dc8ae12 :where(*){cursor:inherit}.m_9dc8ae12:where([data-with-border]){border:calc(.0625rem * var(--mantine-scale)) solid transparent}:where([data-mantine-color-scheme=light]) .m_9dc8ae12:where([data-with-border]){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_9dc8ae12:where([data-with-border]){border-color:var(--mantine-color-dark-4)}.m_717d7ff6{--radio-size-xs: calc(1rem * var(--mantine-scale));--radio-size-sm: calc(1.25rem * var(--mantine-scale));--radio-size-md: calc(1.5rem * var(--mantine-scale));--radio-size-lg: calc(1.875rem * var(--mantine-scale));--radio-size-xl: calc(2.25rem * var(--mantine-scale));--radio-icon-size-xs: calc(.375rem * var(--mantine-scale));--radio-icon-size-sm: calc(.5rem * var(--mantine-scale));--radio-icon-size-md: calc(.625rem * var(--mantine-scale));--radio-icon-size-lg: calc(.875rem * var(--mantine-scale));--radio-icon-size-xl: calc(1rem * var(--mantine-scale));--radio-icon-size: var(--radio-icon-size-sm);--radio-size: var(--radio-size-sm);--radio-color: var(--mantine-primary-color-filled);--radio-icon-color: var(--mantine-color-white);position:relative;border:calc(.0625rem * var(--mantine-scale)) solid transparent;width:var(--radio-size);min-width:var(--radio-size);height:var(--radio-size);min-height:var(--radio-size);border-radius:var(--radio-radius, 10000px);transition:border-color .1s ease,background-color .1s ease;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent;display:flex;align-items:center;justify-content:center}:where([data-mantine-color-scheme=light]) .m_717d7ff6{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_717d7ff6{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_717d7ff6[data-indeterminate],.m_717d7ff6[data-checked]{background-color:var(--radio-color);border-color:var(--radio-color)}.m_717d7ff6[data-indeterminate]>.m_3e4da632,.m_717d7ff6[data-checked]>.m_3e4da632{opacity:1;transform:none;color:var(--radio-icon-color)}.m_717d7ff6[data-disabled]{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_717d7ff6[data-disabled]{background-color:var(--mantine-color-gray-2);border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_717d7ff6[data-disabled]{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-6)}[data-mantine-color-scheme=light] .m_717d7ff6[data-disabled][data-checked]>.m_3e4da632{color:var(--mantine-color-gray-5)}[data-mantine-color-scheme=dark] .m_717d7ff6[data-disabled][data-checked]>.m_3e4da632{color:var(--mantine-color-dark-3)}.m_2980836c[data-indeterminate]:not([data-disabled]),.m_2980836c[data-checked]:not([data-disabled]){background-color:transparent;border-color:var(--radio-color)}.m_2980836c[data-indeterminate]:not([data-disabled])>.m_3e4da632,.m_2980836c[data-checked]:not([data-disabled])>.m_3e4da632{color:var(--radio-color);opacity:1;transform:none}.m_3e4da632{display:block;width:var(--radio-icon-size);height:var(--radio-icon-size);color:transparent;pointer-events:none;transform:translateY(calc(.3125rem * var(--mantine-scale))) scale(.5);opacity:1;transition:transform .1s ease,opacity .1s ease}.m_f3f1af94{--radio-size-xs: calc(1rem * var(--mantine-scale));--radio-size-sm: calc(1.25rem * var(--mantine-scale));--radio-size-md: calc(1.5rem * var(--mantine-scale));--radio-size-lg: calc(1.875rem * var(--mantine-scale));--radio-size-xl: calc(2.25rem * var(--mantine-scale));--radio-size: var(--radio-size-sm);--radio-icon-size-xs: calc(.375rem * var(--mantine-scale));--radio-icon-size-sm: calc(.5rem * var(--mantine-scale));--radio-icon-size-md: calc(.625rem * var(--mantine-scale));--radio-icon-size-lg: calc(.875rem * var(--mantine-scale));--radio-icon-size-xl: calc(1rem * var(--mantine-scale));--radio-icon-size: var(--radio-icon-size-sm);--radio-icon-color: var(--mantine-color-white)}.m_89c4f5e4{position:relative;width:var(--radio-size);height:var(--radio-size);order:1}.m_89c4f5e4:where([data-label-position=left]){order:2}.m_f3ed6b2b{color:var(--radio-icon-color);opacity:var(--radio-icon-opacity, 0);transform:var(--radio-icon-transform, scale(.2) translateY(calc(.625rem * var(--mantine-scale))));transition:opacity .1s ease,transform .2s ease;pointer-events:none;width:var(--radio-icon-size);height:var(--radio-icon-size);position:absolute;top:calc(50% - var(--radio-icon-size) / 2);left:calc(50% - var(--radio-icon-size) / 2)}.m_8a3dbb89{border:calc(.0625rem * var(--mantine-scale)) solid;position:relative;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:var(--radio-size);height:var(--radio-size);border-radius:var(--radio-radius, var(--radio-size));margin:0;display:flex;align-items:center;justify-content:center;transition-property:background-color,border-color;transition-timing-function:ease;transition-duration:.1s;cursor:var(--mantine-cursor-type);-webkit-tap-highlight-color:transparent}:where([data-mantine-color-scheme=light]) .m_8a3dbb89{background-color:var(--mantine-color-white);border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89{background-color:var(--mantine-color-dark-6);border-color:var(--mantine-color-dark-4)}.m_8a3dbb89:checked{background-color:var(--radio-color, var(--mantine-primary-color-filled));border-color:var(--radio-color, var(--mantine-primary-color-filled))}.m_8a3dbb89:checked+.m_f3ed6b2b{--radio-icon-opacity: 1;--radio-icon-transform: scale(1)}.m_8a3dbb89:disabled{cursor:not-allowed}:where([data-mantine-color-scheme=light]) .m_8a3dbb89:disabled{background-color:var(--mantine-color-gray-1);border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=light]) .m_8a3dbb89:disabled+.m_f3ed6b2b{--radio-icon-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89:disabled{background-color:var(--mantine-color-dark-5);border-color:var(--mantine-color-dark-4)}:where([data-mantine-color-scheme=dark]) .m_8a3dbb89:disabled+.m_f3ed6b2b{--radio-icon-color: var(--mantine-color-dark-7)}.m_8a3dbb89:where([data-error]){border-color:var(--mantine-color-error)}.m_1bfe9d39+.m_f3ed6b2b{--radio-icon-color: var(--radio-color)}.m_1bfe9d39:checked:not(:disabled){background-color:transparent;border-color:var(--radio-color)}.m_1bfe9d39:checked:not(:disabled)+.m_f3ed6b2b{--radio-icon-color: var(--radio-color);--radio-icon-opacity: 1;--radio-icon-transform: none}.m_f8d312f2{--rating-size-xs: calc(.875rem * var(--mantine-scale));--rating-size-sm: calc(1.125rem * var(--mantine-scale));--rating-size-md: calc(1.25rem * var(--mantine-scale));--rating-size-lg: calc(1.75rem * var(--mantine-scale));--rating-size-xl: calc(2rem * var(--mantine-scale));display:flex;width:max-content}.m_f8d312f2:where(:has(input:disabled)){pointer-events:none}.m_61734bb7{position:relative;transition:transform .1s ease}.m_61734bb7:where([data-active]){z-index:1;transform:scale(1.1)}.m_5662a89a{width:var(--rating-size);height:var(--rating-size);display:block}:where([data-mantine-color-scheme=light]) .m_5662a89a{fill:var(--mantine-color-gray-3);stroke:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_5662a89a{fill:var(--mantine-color-dark-3);stroke:var(--mantine-color-dark-3)}.m_5662a89a:where([data-filled]){fill:var(--rating-color);stroke:var(--rating-color)}.m_211007ba{height:0;width:0;position:absolute;overflow:hidden;white-space:nowrap;opacity:0;-webkit-tap-highlight-color:transparent}.m_211007ba:focus-visible+label{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.m_21342ee4{display:block;cursor:pointer;position:absolute;top:0;left:0;z-index:var(--rating-item-z-index, 0);-webkit-tap-highlight-color:transparent}.m_21342ee4:where([data-read-only]){cursor:default}.m_21342ee4:where(:last-of-type){position:relative}.m_fae05d6a{clip-path:var(--rating-symbol-clip-path)}.m_1b3c8819{--tooltip-radius: var(--mantine-radius-default);position:absolute;padding:calc(var(--mantine-spacing-xs) / 2) var(--mantine-spacing-xs);pointer-events:none;font-size:var(--mantine-font-size-sm);white-space:nowrap;border-radius:var(--tooltip-radius)}:where([data-mantine-color-scheme=light]) .m_1b3c8819{background-color:var(--tooltip-bg, var(--mantine-color-gray-9));color:var(--tooltip-color, var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_1b3c8819{background-color:var(--tooltip-bg, var(--mantine-color-gray-2));color:var(--tooltip-color, var(--mantine-color-black))}.m_1b3c8819:where([data-multiline]){white-space:normal}.m_1b3c8819:where([data-fixed]){position:fixed}.m_f898399f{background-color:inherit;border:0;z-index:1}.m_b32e4812{position:relative;width:var(--rp-size);height:var(--rp-size);min-width:var(--rp-size);min-height:var(--rp-size)}.m_d43b5134{width:var(--rp-size);height:var(--rp-size);min-width:var(--rp-size);min-height:var(--rp-size);transform:rotate(-90deg)}.m_b1ca1fbf{stroke:var(--curve-color, var(--rp-curve-root-color))}[data-mantine-color-scheme=light] .m_b1ca1fbf{--rp-curve-root-color: var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_b1ca1fbf{--rp-curve-root-color: var(--mantine-color-dark-4)}.m_b23f9dc4{position:absolute;top:50%;transform:translateY(-50%);inset-inline:var(--rp-label-offset)}.m_cf365364{--sc-padding-xs: calc(.1875rem * var(--mantine-scale)) calc(.375rem * var(--mantine-scale));--sc-padding-sm: calc(.3125rem * var(--mantine-scale)) calc(.625rem * var(--mantine-scale));--sc-padding-md: calc(.4375rem * var(--mantine-scale)) calc(.875rem * var(--mantine-scale));--sc-padding-lg: calc(.5625rem * var(--mantine-scale)) calc(1rem * var(--mantine-scale));--sc-padding-xl: calc(.75rem * var(--mantine-scale)) calc(1.25rem * var(--mantine-scale));--sc-transition-duration: .2s;--sc-padding: var(--sc-padding-sm);--sc-transition-timing-function: ease;--sc-font-size: var(--mantine-font-size-sm);position:relative;display:inline-flex;flex-direction:row;width:auto;border-radius:var(--sc-radius, var(--mantine-radius-default));overflow:hidden;padding:calc(.25rem * var(--mantine-scale))}.m_cf365364:where([data-full-width]){display:flex}.m_cf365364:where([data-orientation=vertical]){display:flex;flex-direction:column;width:max-content}.m_cf365364:where([data-orientation=vertical]):where([data-full-width]){width:auto}:where([data-mantine-color-scheme=light]) .m_cf365364{background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_cf365364{background-color:var(--mantine-color-dark-8)}.m_9e182ccd{position:absolute;display:block;z-index:1;border-radius:var(--sc-radius, var(--mantine-radius-default))}:where([data-mantine-color-scheme=light]) .m_9e182ccd{box-shadow:var(--sc-shadow, none);background-color:var(--sc-color, var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_9e182ccd{box-shadow:none;background-color:var(--sc-color, var(--mantine-color-dark-5))}.m_1738fcb2{-webkit-tap-highlight-color:transparent;font-weight:500;display:block;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-user-select:none;user-select:none;border-radius:var(--sc-radius, var(--mantine-radius-default));font-size:var(--sc-font-size);padding:var(--sc-padding);transition:color var(--sc-transition-duration) var(--sc-transition-timing-function);cursor:pointer;outline:var(--segmented-control-outline, none)}:where([data-mantine-color-scheme=light]) .m_1738fcb2{color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2{color:var(--mantine-color-dark-1)}.m_1738fcb2:where([data-read-only]){cursor:default}fieldset:disabled .m_1738fcb2,.m_1738fcb2:where([data-disabled]){cursor:not-allowed}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2,:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-disabled]){color:var(--mantine-color-gray-5)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2,:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-disabled]){color:var(--mantine-color-dark-3)}:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-active]){color:var(--sc-label-color, var(--mantine-color-black))}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-active]){color:var(--sc-label-color, var(--mantine-color-white))}.m_cf365364:where([data-initialized]) .m_1738fcb2:where([data-active]):before{display:none}.m_1738fcb2:where([data-active]):before{content:"";top:0;right:0;bottom:0;left:0;z-index:0;position:absolute;border-radius:var(--sc-radius, var(--mantine-radius-default))}:where([data-mantine-color-scheme=light]) .m_1738fcb2:where([data-active]):before{box-shadow:var(--sc-shadow, none);background-color:var(--sc-color, var(--mantine-color-white))}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where([data-active]):before{box-shadow:none;background-color:var(--sc-color, var(--mantine-color-dark-5))}@media (hover: hover){:where([data-mantine-color-scheme=light]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):hover{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):hover{color:var(--mantine-color-white)}}@media (hover: none){:where([data-mantine-color-scheme=light]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):active{color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_1738fcb2:where(:not([data-disabled],[data-active],[data-read-only])):active{color:var(--mantine-color-white)}}@media (hover: hover){:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2:hover{color:var(--mantine-color-gray-5)!important}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2:hover{color:var(--mantine-color-dark-3)!important}}@media (hover: none){:where([data-mantine-color-scheme=light]) fieldset:disabled .m_1738fcb2:active{color:var(--mantine-color-gray-5)!important}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_1738fcb2:active{color:var(--mantine-color-dark-3)!important}}.m_1714d588{height:0;width:0;position:absolute;overflow:hidden;white-space:nowrap;opacity:0}.m_1714d588[data-focus-ring=auto]:focus:focus-visible+.m_1738fcb2{--segmented-control-outline: 2px solid var(--mantine-primary-color-filled)}.m_1714d588[data-focus-ring=always]:focus+.m_1738fcb2{--segmented-control-outline: 2px solid var(--mantine-primary-color-filled)}.m_69686b9b{position:relative;flex:1;z-index:2;transition:border-color var(--sc-transition-duration) var(--sc-transition-timing-function)}.m_cf365364[data-with-items-borders] :where(.m_69686b9b):before{content:"";position:absolute;top:0;bottom:0;inset-inline-start:0;background-color:var(--separator-color);width:calc(.0625rem * var(--mantine-scale));transition:background-color var(--sc-transition-duration) var(--sc-transition-timing-function)}.m_69686b9b[data-orientation=vertical]:before{top:0;inset-inline:0;bottom:auto;height:calc(.0625rem * var(--mantine-scale));width:auto}:where([data-mantine-color-scheme=light]) .m_69686b9b{--separator-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_69686b9b{--separator-color: var(--mantine-color-dark-4)}.m_69686b9b:first-of-type:before{--separator-color: transparent}[data-mantine-color-scheme] .m_69686b9b[data-active]:before,[data-mantine-color-scheme] .m_69686b9b[data-active]+.m_69686b9b:before{--separator-color: transparent}.m_78882f40{position:relative;z-index:2}.m_fa528724{--scp-filled-segment-color: var(--mantine-primary-color-filled);--scp-transition-duration: 0ms;--scp-thickness: calc(.625rem * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_fa528724{--scp-empty-segment-color: var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_fa528724{--scp-empty-segment-color: var(--mantine-color-dark-4)}.m_fa528724{position:relative;width:fit-content}.m_62e9e7e2{display:block;transform:var(--scp-rotation);overflow:hidden}.m_c573fb6f{transition:stroke-dashoffset var(--scp-transition-duration) ease,stroke-dasharray var(--scp-transition-duration) ease,stroke var(--scp-transition-duration)}.m_4fa340f2{position:absolute;margin:0;padding:0;inset-inline:0;text-align:center;z-index:1}.m_4fa340f2:where([data-position=bottom]){bottom:0;padding-inline:calc(var(--scp-thickness) * 2)}.m_4fa340f2:where([data-position=bottom]):where([data-orientation=down]){bottom:auto;top:0}.m_4fa340f2:where([data-position=center]){top:50%;padding-inline:calc(var(--scp-thickness) * 3)}.m_925c2d2c{container:simple-grid/inline-size}.m_2415a157{display:grid;grid-template-columns:repeat(var(--sg-cols),minmax(0,1fr));gap:var(--sg-spacing-y) var(--sg-spacing-x)}@keyframes m_299c329c{0%,to{opacity:.4}50%{opacity:1}}.m_18320242{height:var(--skeleton-height, auto);width:var(--skeleton-width, 100%);border-radius:var(--skeleton-radius, var(--mantine-radius-default));position:relative;transform:translateZ(0);-webkit-transform:translateZ(0)}.m_18320242:where([data-animate]):after{animation:m_299c329c 1.5s linear infinite}.m_18320242:where([data-visible]){overflow:hidden}.m_18320242:where([data-visible]):before{position:absolute;content:"";top:0;right:0;bottom:0;left:0;z-index:10;background-color:var(--mantine-color-body)}.m_18320242:where([data-visible]):after{position:absolute;content:"";top:0;right:0;bottom:0;left:0;z-index:11}:where([data-mantine-color-scheme=light]) .m_18320242:where([data-visible]):after{background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_18320242:where([data-visible]):after{background-color:var(--mantine-color-dark-4)}.m_dd36362e{--slider-size-xs: calc(.25rem * var(--mantine-scale));--slider-size-sm: calc(.375rem * var(--mantine-scale));--slider-size-md: calc(.5rem * var(--mantine-scale));--slider-size-lg: calc(.625rem * var(--mantine-scale));--slider-size-xl: calc(.75rem * var(--mantine-scale));--slider-size: var(--slider-size-md);--slider-radius: calc(62.5rem * var(--mantine-scale));--slider-color: var(--mantine-primary-color-filled);-webkit-tap-highlight-color:transparent;outline:none;height:calc(var(--slider-size) * 2);padding-inline:var(--slider-size);display:flex;flex-direction:column;align-items:center;touch-action:none;position:relative}[data-mantine-color-scheme=light] .m_dd36362e{--slider-track-bg: var(--mantine-color-gray-2);--slider-track-disabled-bg: var(--mantine-color-gray-4)}[data-mantine-color-scheme=dark] .m_dd36362e{--slider-track-bg: var(--mantine-color-dark-4);--slider-track-disabled-bg: var(--mantine-color-dark-3)}.m_c9357328{position:absolute;top:calc(-2.25rem * var(--mantine-scale));font-size:var(--mantine-font-size-xs);color:var(--mantine-color-white);padding:calc(var(--mantine-spacing-xs) / 2);border-radius:var(--mantine-radius-sm);white-space:nowrap;pointer-events:none;-webkit-user-select:none;user-select:none;touch-action:none}:where([data-mantine-color-scheme=light]) .m_c9357328{background-color:var(--mantine-color-gray-9)}:where([data-mantine-color-scheme=dark]) .m_c9357328{background-color:var(--mantine-color-dark-4)}.m_c9a9a60a{position:absolute;display:flex;height:var(--slider-thumb-size);width:var(--slider-thumb-size);border:calc(.25rem * var(--mantine-scale)) solid;transform:translate(-50%,-50%);color:var(--slider-color);top:50%;cursor:pointer;border-radius:var(--slider-radius);align-items:center;justify-content:center;transition:box-shadow .1s ease,transform .1s ease;z-index:3;-webkit-user-select:none;user-select:none;touch-action:none;outline-offset:calc(.125rem * var(--mantine-scale));left:var(--slider-thumb-offset)}:where([dir=rtl]) .m_c9a9a60a{left:auto;right:calc(var(--slider-thumb-offset) - var(--slider-thumb-size))}fieldset:disabled .m_c9a9a60a,.m_c9a9a60a:where([data-disabled]){display:none}.m_c9a9a60a:where([data-dragging]){transform:translate(-50%,-50%) scale(1.05);box-shadow:var(--mantine-shadow-sm)}:where([data-mantine-color-scheme=light]) .m_c9a9a60a{border-color:var(--slider-color);background-color:var(--mantine-color-white)}:where([data-mantine-color-scheme=dark]) .m_c9a9a60a{border-color:var(--mantine-color-white);background-color:var(--slider-color)}.m_a8645c2{display:flex;align-items:center;width:100%;height:calc(var(--slider-size) * 2);cursor:pointer}fieldset:disabled .m_a8645c2,.m_a8645c2:where([data-disabled]){cursor:not-allowed}.m_c9ade57f{position:relative;width:100%;height:var(--slider-size)}.m_c9ade57f:where([data-inverted]:not([data-disabled])){--track-bg: var(--slider-color)}fieldset:disabled .m_c9ade57f:where([data-inverted]),.m_c9ade57f:where([data-inverted][data-disabled]){--track-bg: var(--slider-track-disabled-bg)}.m_c9ade57f:before{content:"";position:absolute;top:0;bottom:0;border-radius:var(--slider-radius);inset-inline:calc(var(--slider-size) * -1);background-color:var(--track-bg, var(--slider-track-bg));z-index:0}.m_38aeed47{position:absolute;z-index:1;top:0;bottom:0;background-color:var(--slider-color);border-radius:var(--slider-radius);width:var(--slider-bar-width);inset-inline-start:var(--slider-bar-offset)}.m_38aeed47:where([data-inverted]){background-color:var(--slider-track-bg)}:where([data-mantine-color-scheme=light]) fieldset:disabled .m_38aeed47:where(:not([data-inverted])),:where([data-mantine-color-scheme=light]) .m_38aeed47:where([data-disabled]:not([data-inverted])){background-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) fieldset:disabled .m_38aeed47:where(:not([data-inverted])),:where([data-mantine-color-scheme=dark]) .m_38aeed47:where([data-disabled]:not([data-inverted])){background-color:var(--mantine-color-dark-3)}.m_b7b0423a{position:absolute;inset-inline-start:calc(var(--mark-offset) - var(--slider-size) / 2);top:0;z-index:2;height:0;pointer-events:none}.m_dd33bc19{border:calc(.125rem * var(--mantine-scale)) solid;height:var(--slider-size);width:var(--slider-size);border-radius:calc(62.5rem * var(--mantine-scale));transform:translate(calc(var(--slider-size) / -2));background-color:var(--mantine-color-white);pointer-events:none}:where([data-mantine-color-scheme=light]) .m_dd33bc19{border-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_dd33bc19{border-color:var(--mantine-color-dark-4)}.m_dd33bc19:where([data-filled]){border-color:var(--slider-color)}:where([data-mantine-color-scheme=light]) .m_dd33bc19:where([data-filled]):where([data-disabled]){border-color:var(--mantine-color-gray-4)}:where([data-mantine-color-scheme=dark]) .m_dd33bc19:where([data-filled]):where([data-disabled]){border-color:var(--mantine-color-dark-3)}.m_68c77a5b{transform:translate(calc(-50% + var(--slider-size) / 2),calc(var(--mantine-spacing-xs) / 2));font-size:var(--mantine-font-size-sm);white-space:nowrap;cursor:pointer;-webkit-user-select:none;user-select:none}:where([data-mantine-color-scheme=light]) .m_68c77a5b{color:var(--mantine-color-gray-6)}:where([data-mantine-color-scheme=dark]) .m_68c77a5b{color:var(--mantine-color-dark-2)}.m_559cce2d{position:relative}.m_559cce2d:where([data-has-spoiler]){margin-bottom:calc(1.5rem * var(--mantine-scale))}.m_b912df4e{display:flex;flex-direction:column;overflow:hidden;transition:max-height var(--spoiler-transition-duration, .2s) ease}.m_b9131032{position:absolute;inset-inline-start:0;top:100%;height:calc(1.5rem * var(--mantine-scale))}.m_6d731127{display:flex;flex-direction:column;align-items:var(--stack-align, stretch);justify-content:var(--stack-justify, flex-start);gap:var(--stack-gap, var(--mantine-spacing-md))}.m_cbb4ea7e{--stepper-icon-size-xs: calc(2.125rem * var(--mantine-scale));--stepper-icon-size-sm: calc(2.25rem * var(--mantine-scale));--stepper-icon-size-md: calc(2.625rem * var(--mantine-scale));--stepper-icon-size-lg: calc(3rem * var(--mantine-scale));--stepper-icon-size-xl: calc(3.25rem * var(--mantine-scale));--stepper-icon-size: var(--stepper-icon-size-md);--stepper-color: var(--mantine-primary-color-filled);--stepper-content-padding: var(--mantine-spacing-md);--stepper-spacing: var(--mantine-spacing-md);--stepper-radius: calc(62.5rem * var(--mantine-scale));--stepper-fz: var(--mantine-font-size-md)}.m_aaf89d0b{display:flex;flex-wrap:nowrap;align-items:center}.m_aaf89d0b:where([data-wrap]){flex-wrap:wrap;gap:var(--mantine-spacing-md) 0}.m_aaf89d0b:where([data-orientation=vertical]){flex-direction:column}.m_aaf89d0b:where([data-orientation=vertical]):where([data-icon-position=left]){align-items:flex-start}.m_aaf89d0b:where([data-orientation=vertical]):where([data-icon-position=right]){align-items:flex-end}.m_aaf89d0b:where([data-orientation=horizontal]){flex-direction:row}.m_2a371ac9{--separator-offset: calc(var(--stepper-icon-size) / 2 - calc(.0625rem * var(--mantine-scale)));transition:background-color .15s ease;flex:1}:where([data-mantine-color-scheme=light]) .m_2a371ac9{background-color:var(--mantine-color-gray-2)}:where([data-mantine-color-scheme=dark]) .m_2a371ac9{background-color:var(--mantine-color-dark-2)}.m_2a371ac9:where([data-active]){background-color:var(--stepper-color)}.m_2a371ac9:where([data-orientation=horizontal]){height:calc(.125rem * var(--mantine-scale));margin-inline:var(--mantine-spacing-md)}.m_2a371ac9:where([data-orientation=vertical]){width:calc(.125rem * var(--mantine-scale));margin-top:calc(var(--mantine-spacing-xs) / 2);margin-bottom:calc(var(--mantine-spacing-xs) - .125rem * var(--mantine-scale))}.m_2a371ac9:where([data-orientation=vertical]):where([data-icon-position=left]){margin-inline-start:var(--separator-offset)}.m_2a371ac9:where([data-orientation=vertical]):where([data-icon-position=right]){margin-inline-end:var(--separator-offset)}.m_78da155d{padding-top:var(--stepper-content-padding)}.m_cbb57068{--step-color: var(--stepper-color);display:flex;cursor:default}.m_cbb57068:where([data-allow-click]){cursor:pointer}.m_cbb57068:where([data-icon-position=left]){flex-direction:row}.m_cbb57068:where([data-icon-position=right]){flex-direction:row-reverse}.m_f56b1e2c{align-items:center}.m_833edb7e{--separator-spacing: calc(var(--mantine-spacing-xs) / 2);justify-content:flex-start;min-height:calc(var(--stepper-icon-size) + var(--mantine-spacing-xl) + var(--separator-spacing));margin-top:var(--separator-spacing);overflow:hidden}.m_833edb7e:where(:first-of-type){margin-top:0}.m_833edb7e:where(:last-of-type) .m_6496b3f3{display:none}.m_818e70b{position:relative}.m_6496b3f3{top:calc(var(--stepper-icon-size) + var(--separator-spacing));inset-inline-start:calc(var(--stepper-icon-size) / 2);height:100vh;position:absolute;border-inline-start:calc(.125rem * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_6496b3f3{border-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_6496b3f3{border-color:var(--mantine-color-dark-5)}.m_6496b3f3:where([data-active]){border-color:var(--stepper-color)}.m_1959ad01{height:var(--stepper-icon-size);width:var(--stepper-icon-size);min-height:var(--stepper-icon-size);min-width:var(--stepper-icon-size);border-radius:var(--stepper-radius);font-size:var(--stepper-fz);display:flex;align-items:center;justify-content:center;position:relative;font-weight:700;transition:background-color .15s ease,border-color .15s ease;border:calc(.125rem * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_1959ad01{background-color:var(--mantine-color-gray-1);border-color:var(--mantine-color-gray-1);color:var(--mantine-color-gray-7)}:where([data-mantine-color-scheme=dark]) .m_1959ad01{background-color:var(--mantine-color-dark-5);border-color:var(--mantine-color-dark-5);color:var(--mantine-color-dark-1)}.m_1959ad01:where([data-progress]){border-color:var(--step-color)}.m_1959ad01:where([data-completed]){color:var(--stepper-icon-color, var(--mantine-color-white));background-color:var(--step-color);border-color:var(--step-color)}.m_a79331dc{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;color:var(--stepper-icon-color, var(--mantine-color-white))}.m_1956aa2a{display:flex;flex-direction:column}.m_1956aa2a:where([data-icon-position=left]){margin-inline-start:var(--mantine-spacing-sm)}.m_1956aa2a:where([data-icon-position=right]){text-align:right;margin-inline-end:var(--mantine-spacing-sm)}:where([dir=rtl]) .m_1956aa2a:where([data-icon-position=right]){text-align:left}.m_12051f6c{font-weight:500;font-size:var(--stepper-fz);line-height:1}.m_164eea74{margin-top:calc(var(--stepper-spacing) / 3);margin-bottom:calc(var(--stepper-spacing) / 3);font-size:calc(var(--stepper-fz) - .125rem * var(--mantine-scale));line-height:1;color:var(--mantine-color-dimmed)}.m_5f93f3bb{--switch-height-xs: calc(1rem * var(--mantine-scale));--switch-height-sm: calc(1.25rem * var(--mantine-scale));--switch-height-md: calc(1.5rem * var(--mantine-scale));--switch-height-lg: calc(1.875rem * var(--mantine-scale));--switch-height-xl: calc(2.25rem * var(--mantine-scale));--switch-width-xs: calc(2rem * var(--mantine-scale));--switch-width-sm: calc(2.375rem * var(--mantine-scale));--switch-width-md: calc(2.875rem * var(--mantine-scale));--switch-width-lg: calc(3.5rem * var(--mantine-scale));--switch-width-xl: calc(4.5rem * var(--mantine-scale));--switch-thumb-size-xs: calc(.75rem * var(--mantine-scale));--switch-thumb-size-sm: calc(.875rem * var(--mantine-scale));--switch-thumb-size-md: calc(1.125rem * var(--mantine-scale));--switch-thumb-size-lg: calc(1.375rem * var(--mantine-scale));--switch-thumb-size-xl: calc(1.75rem * var(--mantine-scale));--switch-label-font-size-xs: calc(.3125rem * var(--mantine-scale));--switch-label-font-size-sm: calc(.375rem * var(--mantine-scale));--switch-label-font-size-md: calc(.4375rem * var(--mantine-scale));--switch-label-font-size-lg: calc(.5625rem * var(--mantine-scale));--switch-label-font-size-xl: calc(.6875rem * var(--mantine-scale));--switch-track-label-padding-xs: calc(.0625rem * var(--mantine-scale));--switch-track-label-padding-sm: calc(.125rem * var(--mantine-scale));--switch-track-label-padding-md: calc(.125rem * var(--mantine-scale));--switch-track-label-padding-lg: calc(.1875rem * var(--mantine-scale));--switch-track-label-padding-xl: calc(.1875rem * var(--mantine-scale));--switch-height: var(--switch-height-sm);--switch-width: var(--switch-width-sm);--switch-thumb-size: var(--switch-thumb-size-sm);--switch-label-font-size: var(--switch-label-font-size-sm);--switch-track-label-padding: var(--switch-track-label-padding-sm);--switch-radius: calc(62.5rem * var(--mantine-scale));--switch-color: var(--mantine-primary-color-filled);position:relative}.m_926b4011{height:0;width:0;opacity:0;margin:0;padding:0;position:absolute;overflow:hidden;white-space:nowrap}.m_9307d992{-webkit-tap-highlight-color:transparent;cursor:var(--switch-cursor, var(--mantine-cursor-type));overflow:hidden;position:relative;border-radius:var(--switch-radius);background-color:var(--switch-bg);border:1px solid var(--switch-bd);height:var(--switch-height);min-width:var(--switch-width);margin:0;transition:background-color .15s ease,border-color .15s ease;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:flex;align-items:center;font-size:var(--switch-label-font-size);font-weight:600;order:var(--switch-order, 1);-webkit-user-select:none;user-select:none;z-index:0;line-height:0;color:var(--switch-text-color)}.m_9307d992:where([data-without-labels]){width:var(--switch-width)}.m_926b4011:focus-visible+.m_9307d992{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.m_926b4011:checked+.m_9307d992{--switch-bg: var(--switch-color);--switch-bd: var(--switch-color);--switch-text-color: var(--mantine-color-white)}.m_926b4011:disabled+.m_9307d992,.m_926b4011[data-disabled]+.m_9307d992{--switch-bg: var(--switch-disabled-color);--switch-bd: var(--switch-disabled-color);--switch-cursor: not-allowed}[data-mantine-color-scheme=light] .m_9307d992{--switch-bg: var(--mantine-color-gray-2);--switch-bd: var(--mantine-color-gray-3);--switch-text-color: var(--mantine-color-gray-6);--switch-disabled-color: var(--mantine-color-gray-2)}[data-mantine-color-scheme=dark] .m_9307d992{--switch-bg: var(--mantine-color-dark-6);--switch-bd: var(--mantine-color-dark-4);--switch-text-color: var(--mantine-color-dark-1);--switch-disabled-color: var(--mantine-color-dark-4)}.m_9307d992[data-error]{--switch-bd: var(--mantine-color-error)}.m_9307d992[data-label-position=left]{--switch-order: 2}.m_93039a1d{position:absolute;z-index:1;border-radius:var(--switch-radius);display:flex;background-color:var(--switch-thumb-bg, var(--mantine-color-white));height:var(--switch-thumb-size);width:var(--switch-thumb-size);border:1px solid var(--switch-thumb-bd);inset-inline-start:var(--switch-thumb-start, var(--switch-track-label-padding));transition:inset-inline-start .15s ease}.m_93039a1d>*{margin:auto}.m_926b4011:checked+*>.m_93039a1d{--switch-thumb-start: calc(100% - var(--switch-thumb-size) - var(--switch-track-label-padding));--switch-thumb-bd: var(--mantine-color-white)}.m_926b4011:disabled+*>.m_93039a1d,.m_926b4011[data-disabled]+*>.m_93039a1d{--switch-thumb-bd: var(--switch-thumb-bg-disabled);--switch-thumb-bg: var(--switch-thumb-bg-disabled)}[data-mantine-color-scheme=light] .m_93039a1d{--switch-thumb-bd: var(--mantine-color-gray-3);--switch-thumb-bg-disabled: var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_93039a1d{--switch-thumb-bd: var(--mantine-color-white);--switch-thumb-bg-disabled: var(--mantine-color-dark-3)}.m_8277e082{height:100%;display:grid;place-content:center;min-width:calc(var(--switch-width) - var(--switch-thumb-size));padding-inline:var(--switch-track-label-padding);margin-inline-start:calc(var(--switch-thumb-size) + var(--switch-track-label-padding));transition:margin .15s ease}.m_926b4011:checked+*>.m_8277e082{margin-inline-end:calc(var(--switch-thumb-size) + var(--switch-track-label-padding));margin-inline-start:0}.m_b23fa0ef{width:100%;border-collapse:collapse;line-height:var(--mantine-line-height);font-size:var(--mantine-font-size-sm);table-layout:var(--table-layout, auto);caption-side:var(--table-caption-side, bottom);border:none}:where([data-mantine-color-scheme=light]) .m_b23fa0ef{--table-hover-color: var(--mantine-color-gray-1);--table-striped-color: var(--mantine-color-gray-0);--table-border-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_b23fa0ef{--table-hover-color: var(--mantine-color-dark-5);--table-striped-color: var(--mantine-color-dark-6);--table-border-color: var(--mantine-color-dark-4)}.m_b23fa0ef:where([data-with-table-border]){border:calc(.0625rem * var(--mantine-scale)) solid var(--table-border-color)}.m_4e7aa4f3{text-align:left}:where([dir=rtl]) .m_4e7aa4f3{text-align:right}.m_4e7aa4fd{border-bottom:none;background-color:transparent}@media (hover: hover){.m_4e7aa4fd:hover:where([data-hover]){background-color:var(--tr-hover-bg)}}@media (hover: none){.m_4e7aa4fd:active:where([data-hover]){background-color:var(--tr-hover-bg)}}.m_4e7aa4fd:where([data-with-row-border]){border-bottom:calc(.0625rem * var(--mantine-scale)) solid var(--table-border-color)}.m_4e7aa4ef,.m_4e7aa4f3{padding:var(--table-vertical-spacing) var(--table-horizontal-spacing, var(--mantine-spacing-xs))}.m_4e7aa4ef:where([data-with-column-border]:not(:last-child)),.m_4e7aa4f3:where([data-with-column-border]:not(:last-child)){border-inline-end:calc(.0625rem * var(--mantine-scale)) solid var(--table-border-color)}.m_b2404537 :where(tr):where([data-with-row-border]:last-of-type){border-bottom:none}.m_b2404537 :where(tr):where([data-striped=odd]:nth-of-type(odd)){background-color:var(--table-striped-color)}.m_b2404537 :where(tr):where([data-striped=even]:nth-of-type(2n)){background-color:var(--table-striped-color)}.m_b2404537 :where(tr)[data-hover]{--tr-hover-bg: var(--table-highlight-on-hover-color, var(--table-hover-color))}.m_b242d975{top:var(--table-sticky-header-offset, 0);z-index:1}.m_b242d975:where([data-sticky]){position:sticky;background-color:var(--mantine-color-body)}.m_9e5a3ac7{color:var(--mantine-color-dimmed)}.m_9e5a3ac7:where([data-side=top]){margin-bottom:var(--mantine-spacing-xs)}.m_9e5a3ac7:where([data-side=bottom]){margin-top:var(--mantine-spacing-xs)}.m_a100c15{overflow-x:var(--table-overflow)}.m_62259741{min-width:var(--table-min-width)}.m_89d60db1{display:var(--tabs-display);flex-direction:var(--tabs-flex-direction);--tab-justify: flex-start;--tabs-list-direction: row;--tabs-panel-grow: unset;--tabs-display: block;--tabs-flex-direction: row;--tabs-list-border-width: 0;--tabs-list-border-size: 0 0 var(--tabs-list-border-width) 0;--tabs-list-gap: unset;--tabs-list-line-bottom: 0;--tabs-list-line-top: unset;--tabs-list-line-start: 0;--tabs-list-line-end: 0;--tab-radius: var(--tabs-radius) var(--tabs-radius) 0 0;--tab-border-width: 0 0 var(--tabs-list-border-width) 0}.m_89d60db1[data-inverted]{--tabs-list-line-bottom: unset;--tabs-list-line-top: 0;--tab-radius: 0 0 var(--tabs-radius) var(--tabs-radius);--tab-border-width: var(--tabs-list-border-width) 0 0 0}.m_89d60db1[data-inverted] .m_576c9d4:before{top:0;bottom:unset}.m_89d60db1[data-orientation=vertical]{--tabs-list-line-start: unset;--tabs-list-line-end: 0;--tabs-list-line-top: 0;--tabs-list-line-bottom: 0;--tabs-list-border-size: 0 var(--tabs-list-border-width) 0 0;--tab-border-width: 0 var(--tabs-list-border-width) 0 0;--tab-radius: var(--tabs-radius) 0 0 var(--tabs-radius);--tabs-list-direction: column;--tabs-panel-grow: 1;--tabs-display: flex}[dir=rtl] .m_89d60db1[data-orientation=vertical]{--tabs-list-border-size: 0 0 0 var(--tabs-list-border-width);--tab-border-width: 0 0 0 var(--tabs-list-border-width);--tab-radius: 0 var(--tabs-radius) var(--tabs-radius) 0}.m_89d60db1[data-orientation=vertical][data-placement=right]{--tabs-flex-direction: row-reverse;--tabs-list-line-start: 0;--tabs-list-line-end: unset;--tabs-list-border-size: 0 0 0 var(--tabs-list-border-width);--tab-border-width: 0 0 0 var(--tabs-list-border-width);--tab-radius: 0 var(--tabs-radius) var(--tabs-radius) 0}[dir=rtl] .m_89d60db1[data-orientation=vertical][data-placement=right]{--tabs-list-border-size: 0 var(--tabs-list-border-width) 0 0;--tab-border-width: 0 var(--tabs-list-border-width) 0 0;--tab-radius: var(--tabs-radius) 0 0 var(--tabs-radius)}[data-mantine-color-scheme=light] .m_89d60db1{--tab-border-color: var(--mantine-color-gray-3)}[data-mantine-color-scheme=dark] .m_89d60db1{--tab-border-color: var(--mantine-color-dark-4)}.m_89d60db1[data-orientation=horizontal]{--tab-justify: center}.m_89d60db1[data-variant=default]{--tabs-list-border-width: calc(.125rem * var(--mantine-scale))}[data-mantine-color-scheme=light] .m_89d60db1[data-variant=default]{--tab-hover-color: var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_89d60db1[data-variant=default]{--tab-hover-color: var(--mantine-color-dark-6)}.m_89d60db1[data-variant=outline]{--tabs-list-border-width: calc(.0625rem * var(--mantine-scale))}.m_89d60db1[data-variant=pills]{--tabs-list-gap: calc(var(--mantine-spacing-sm) / 2)}[data-mantine-color-scheme=light] .m_89d60db1[data-variant=pills]{--tab-hover-color: var(--mantine-color-gray-0)}[data-mantine-color-scheme=dark] .m_89d60db1[data-variant=pills]{--tab-hover-color: var(--mantine-color-dark-6)}.m_89d33d6d{display:flex;flex-wrap:wrap;justify-content:var(--tabs-justify, flex-start);flex-direction:var(--tabs-list-direction);gap:var(--tabs-list-gap);--tab-grow: unset}.m_89d33d6d[data-grow]{--tab-grow: 1}.m_b0c91715{flex-grow:var(--tabs-panel-grow)}.m_4ec4dce6{position:relative;padding:var(--mantine-spacing-xs) var(--mantine-spacing-md);font-size:var(--mantine-font-size-sm);white-space:nowrap;z-index:0;display:flex;align-items:center;line-height:1;-webkit-user-select:none;user-select:none;flex-grow:var(--tab-grow);justify-content:var(--tab-justify)}.m_4ec4dce6:disabled,.m_4ec4dce6[data-disabled]{opacity:.5;cursor:not-allowed}.m_4ec4dce6:focus{z-index:1}.m_fc420b1f{display:flex;align-items:center;justify-content:center;margin-left:var(--tab-section-margin-left, 0);margin-right:var(--tab-section-margin-right, 0)}.m_fc420b1f[data-position=left]:not(:only-child){--tab-section-margin-right: var(--mantine-spacing-xs)}[dir=rtl] .m_fc420b1f[data-position=left]:not(:only-child){--tab-section-margin-right: 0rem;--tab-section-margin-left: var(--mantine-spacing-xs)}.m_fc420b1f[data-position=right]:not(:only-child){--tab-section-margin-left: var(--mantine-spacing-xs)}[dir=rtl] .m_fc420b1f[data-position=right]:not(:only-child){--tab-section-margin-left: 0rem;--tab-section-margin-right: var(--mantine-spacing-xs)}.m_576c9d4{position:relative}.m_576c9d4:before{content:"";position:absolute;border-color:var(--tab-border-color);border-width:var(--tabs-list-border-size);border-style:solid;bottom:var(--tabs-list-line-bottom);inset-inline-start:var(--tabs-list-line-start);inset-inline-end:var(--tabs-list-line-end);top:var(--tabs-list-line-top)}.m_539e827b{border-radius:var(--tab-radius);border-width:var(--tab-border-width);border-style:solid;border-color:transparent;background-color:var(--tab-bg);--tab-bg: transparent}.m_539e827b:where([data-active]){border-color:var(--tabs-color)}@media (hover: hover){.m_539e827b:hover{--tab-bg: var(--tab-hover-color)}.m_539e827b:hover:where(:not([data-active])){border-color:var(--tab-border-color)}}@media (hover: none){.m_539e827b:active{--tab-bg: var(--tab-hover-color)}.m_539e827b:active:where(:not([data-active])){border-color:var(--tab-border-color)}}@media (hover: hover){.m_539e827b:disabled:hover,.m_539e827b[data-disabled]:hover{--tab-bg: transparent}}@media (hover: none){.m_539e827b:disabled:active,.m_539e827b[data-disabled]:active{--tab-bg: transparent}}.m_6772fbd5{position:relative}.m_6772fbd5:before{content:"";position:absolute;border-color:var(--tab-border-color);border-width:var(--tabs-list-border-size);border-style:solid;bottom:var(--tabs-list-line-bottom);inset-inline-start:var(--tabs-list-line-start);inset-inline-end:var(--tabs-list-line-end);top:var(--tabs-list-line-top)}.m_b59ab47c{border-top:calc(.0625rem * var(--mantine-scale)) solid transparent;border-bottom:calc(.0625rem * var(--mantine-scale)) solid transparent;border-right:calc(.0625rem * var(--mantine-scale)) solid transparent;border-left:calc(.0625rem * var(--mantine-scale)) solid transparent;border-top-color:var(--tab-border-top-color);border-bottom-color:var(--tab-border-bottom-color);border-radius:var(--tab-radius);position:relative;--tab-border-bottom-color: transparent;--tab-border-top-color: transparent;--tab-border-inline-end-color: transparent;--tab-border-inline-start-color: transparent}.m_b59ab47c:where([data-active]):before{content:"";position:absolute;background-color:var(--tab-border-color);bottom:var(--tab-before-bottom, calc(-.0625rem * var(--mantine-scale)));left:var(--tab-before-left, calc(-.0625rem * var(--mantine-scale)));right:var(--tab-before-right, auto);top:var(--tab-before-top, auto);width:calc(.0625rem * var(--mantine-scale));height:calc(.0625rem * var(--mantine-scale))}.m_b59ab47c:where([data-active]):after{content:"";position:absolute;background-color:var(--tab-border-color);bottom:var(--tab-after-bottom, calc(-.0625rem * var(--mantine-scale)));right:var(--tab-after-right, calc(-.0625rem * var(--mantine-scale)));left:var(--tab-after-left, auto);top:var(--tab-after-top, auto);width:calc(.0625rem * var(--mantine-scale));height:calc(.0625rem * var(--mantine-scale))}.m_b59ab47c:where([data-active]){border-top-color:var(--tab-border-top-color);border-bottom-color:var(--tab-border-bottom-color);border-inline-start-color:var(--tab-border-inline-start-color);border-inline-end-color:var(--tab-border-inline-end-color);--tab-border-top-color: var(--tab-border-color);--tab-border-inline-start-color: var(--tab-border-color);--tab-border-inline-end-color: var(--tab-border-color);--tab-border-bottom-color: var(--mantine-color-body)}.m_b59ab47c:where([data-active])[data-inverted]{--tab-border-bottom-color: var(--tab-border-color);--tab-border-top-color: var(--mantine-color-body);--tab-before-bottom: auto;--tab-before-top: calc(-.0625rem * var(--mantine-scale));--tab-after-bottom: auto;--tab-after-top: calc(-.0625rem * var(--mantine-scale))}.m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=left]{--tab-border-inline-end-color: var(--mantine-color-body);--tab-border-inline-start-color: var(--tab-border-color);--tab-border-bottom-color: var(--tab-border-color);--tab-before-right: calc(-.0625rem * var(--mantine-scale));--tab-before-left: auto;--tab-before-bottom: auto;--tab-before-top: calc(-.0625rem * var(--mantine-scale));--tab-after-left: auto;--tab-after-right: calc(-.0625rem * var(--mantine-scale))}[dir=rtl] .m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=left]{--tab-before-right: auto;--tab-before-left: calc(-.0625rem * var(--mantine-scale));--tab-after-left: calc(-.0625rem * var(--mantine-scale));--tab-after-right: auto}.m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=right]{--tab-border-inline-start-color: var(--mantine-color-body);--tab-border-inline-end-color: var(--tab-border-color);--tab-border-bottom-color: var(--tab-border-color);--tab-before-left: calc(-.0625rem * var(--mantine-scale));--tab-before-right: auto;--tab-before-bottom: auto;--tab-before-top: calc(-.0625rem * var(--mantine-scale));--tab-after-right: auto;--tab-after-left: calc(-.0625rem * var(--mantine-scale))}[dir=rtl] .m_b59ab47c:where([data-active])[data-orientation=vertical][data-placement=right]{--tab-before-left: auto;--tab-before-right: calc(-.0625rem * var(--mantine-scale));--tab-after-right: calc(-.0625rem * var(--mantine-scale));--tab-after-left: auto}.m_c3381914{border-radius:var(--tabs-radius);background-color:var(--tab-bg);color:var(--tab-color);--tab-bg: transparent;--tab-color: inherit}@media (hover: hover){.m_c3381914:not([data-disabled]):hover{--tab-bg: var(--tab-hover-color)}}@media (hover: none){.m_c3381914:not([data-disabled]):active{--tab-bg: var(--tab-hover-color)}}.m_c3381914[data-active][data-active]{--tab-bg: var(--tabs-color);--tab-color: var(--tabs-text-color, var(--mantine-color-white))}@media (hover: hover){.m_c3381914[data-active][data-active]:hover{--tab-bg: var(--tabs-color)}}@media (hover: none){.m_c3381914[data-active][data-active]:active{--tab-bg: var(--tabs-color)}}.m_7341320d{--ti-size-xs: calc(1.125rem * var(--mantine-scale));--ti-size-sm: calc(1.375rem * var(--mantine-scale));--ti-size-md: calc(1.75rem * var(--mantine-scale));--ti-size-lg: calc(2.125rem * var(--mantine-scale));--ti-size-xl: calc(2.75rem * var(--mantine-scale));--ti-size: var(--ti-size-md);line-height:1;display:inline-flex;align-items:center;justify-content:center;position:relative;-webkit-user-select:none;user-select:none;width:var(--ti-size);height:var(--ti-size);min-width:var(--ti-size);min-height:var(--ti-size);border-radius:var(--ti-radius, var(--mantine-radius-default));background:var(--ti-bg, var(--mantine-primary-color-filled));color:var(--ti-color, var(--mantine-color-white));border:var(--ti-bd, 1px solid transparent)}.m_43657ece{--offset: calc(var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2);--tl-bullet-size: calc(1.25rem * var(--mantine-scale));--tl-line-width: calc(.25rem * var(--mantine-scale));--tl-radius: calc(62.5rem * var(--mantine-scale));--tl-color: var(--mantine-primary-color-filled)}.m_43657ece:where([data-align=left]){padding-inline-start:var(--offset)}.m_43657ece:where([data-align=right]){padding-inline-end:var(--offset)}.m_2ebe8099{font-weight:500;line-height:1;margin-bottom:calc(var(--mantine-spacing-xs) / 2)}.m_436178ff{--item-border: var(--tl-line-width) var(--tli-border-style, solid) var(--item-border-color);position:relative;color:var(--mantine-color-text)}.m_436178ff:before{content:"";pointer-events:none;position:absolute;top:0;left:var(--timeline-line-left, 0);right:var(--timeline-line-right, 0);bottom:calc(var(--mantine-spacing-xl) * -1);border-inline-start:var(--item-border);display:var(--timeline-line-display, none)}.m_43657ece[data-align=left] .m_436178ff:before{--timeline-line-left: calc(var(--tl-line-width) * -1);--timeline-line-right: auto}[dir=rtl] .m_43657ece[data-align=left] .m_436178ff:before{--timeline-line-left: auto;--timeline-line-right: calc(var(--tl-line-width) * -1)}.m_43657ece[data-align=right] .m_436178ff:before{--timeline-line-left: auto;--timeline-line-right: calc(var(--tl-line-width) * -1)}[dir=rtl] .m_43657ece[data-align=right] .m_436178ff:before{--timeline-line-left: calc(var(--tl-line-width) * -1);--timeline-line-right: auto}.m_43657ece:where([data-align=left]) .m_436178ff{padding-inline-start:var(--offset);text-align:left}.m_43657ece:where([data-align=right]) .m_436178ff{padding-inline-end:var(--offset);text-align:right}:where([data-mantine-color-scheme=light]) .m_436178ff{--item-border-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_436178ff{--item-border-color: var(--mantine-color-dark-4)}.m_436178ff:where([data-line-active]):before{border-color:var(--tli-color, var(--tl-color))}.m_436178ff:where(:not(:last-of-type)){--timeline-line-display: block}.m_436178ff:where(:not(:first-of-type)){margin-top:var(--mantine-spacing-xl)}.m_8affcee1{width:var(--tl-bullet-size);height:var(--tl-bullet-size);border-radius:var(--tli-radius, var(--tl-radius));border:var(--tl-line-width) solid;background-color:var(--mantine-color-body);position:absolute;top:0;display:flex;align-items:center;justify-content:center;color:var(--mantine-color-text)}:where([data-mantine-color-scheme=light]) .m_8affcee1{border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8affcee1{border-color:var(--mantine-color-dark-4)}.m_43657ece:where([data-align=left]) .m_8affcee1{left:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1);right:auto}:where([dir=rtl]) .m_43657ece:where([data-align=left]) .m_8affcee1{left:auto;right:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1)}.m_43657ece:where([data-align=right]) .m_8affcee1{left:auto;right:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1)}:where([dir=rtl]) .m_43657ece:where([data-align=right]) .m_8affcee1{left:calc((var(--tl-bullet-size) / 2 + var(--tl-line-width) / 2) * -1);right:auto}.m_8affcee1:where([data-with-child]){border-width:var(--tl-line-width)}:where([data-mantine-color-scheme=light]) .m_8affcee1:where([data-with-child]){background-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_8affcee1:where([data-with-child]){background-color:var(--mantine-color-dark-4)}.m_8affcee1:where([data-active]){border-color:var(--tli-color, var(--tl-color));background-color:var(--mantine-color-white);color:var(--tl-icon-color, var(--mantine-color-white))}.m_8affcee1:where([data-active]):where([data-with-child]){background-color:var(--tli-color, var(--tl-color));color:var(--tl-icon-color, var(--mantine-color-white))}.m_43657ece:where([data-align=left]) .m_540e8f41{padding-inline-start:var(--offset);text-align:left}:where([dir=rtl]) .m_43657ece:where([data-align=left]) .m_540e8f41{text-align:right}.m_43657ece:where([data-align=right]) .m_540e8f41{padding-inline-end:var(--offset);text-align:right}:where([dir=rtl]) .m_43657ece:where([data-align=right]) .m_540e8f41{text-align:left}.m_8a5d1357{margin:0;font-weight:var(--title-fw);font-size:var(--title-fz);line-height:var(--title-lh);font-family:var(--mantine-font-family-headings);text-wrap:var(--title-text-wrap, var(--mantine-heading-text-wrap))}.m_8a5d1357:where([data-line-clamp]){overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:var(--title-line-clamp);-webkit-box-orient:vertical}.m_f698e191{--level-offset: var(--mantine-spacing-lg);margin:0;padding:0;-webkit-user-select:none;user-select:none}.m_75f3ecf{margin:0;padding:0}.m_f6970eb1{cursor:pointer;list-style:none;margin:0;padding:0;outline:0}.m_f6970eb1:focus-visible>.m_dc283425{outline:2px solid var(--mantine-primary-color-filled);outline-offset:calc(.125rem * var(--mantine-scale))}.m_dc283425{padding-inline-start:var(--label-offset)}:where([data-mantine-color-scheme=light]) .m_dc283425:where([data-selected]){background-color:var(--mantine-color-gray-1)}:where([data-mantine-color-scheme=dark]) .m_dc283425:where([data-selected]){background-color:var(--mantine-color-dark-5)}.m_d6493fad :first-child{margin-top:0}.m_d6493fad :last-child{margin-bottom:0}.m_d6493fad :where(h1,h2,h3,h4,h5,h6){margin-bottom:var(--mantine-spacing-xs);text-wrap:var(--mantine-heading-text-wrap)}.m_d6493fad :where(h1){margin-top:calc(1.5 * var(--mantine-spacing-xl));font-size:var(--mantine-h1-font-size);line-height:var(--mantine-h1-line-height);font-weight:var(--mantine-h1-font-weight)}.m_d6493fad :where(h2){margin-top:var(--mantine-spacing-xl);font-size:var(--mantine-h2-font-size);line-height:var(--mantine-h2-line-height);font-weight:var(--mantine-h2-font-weight)}.m_d6493fad :where(h3){margin-top:calc(.8 * var(--mantine-spacing-xl));font-size:var(--mantine-h3-font-size);line-height:var(--mantine-h3-line-height);font-weight:var(--mantine-h3-font-weight)}.m_d6493fad :where(h4){margin-top:calc(.8 * var(--mantine-spacing-xl));font-size:var(--mantine-h4-font-size);line-height:var(--mantine-h4-line-height);font-weight:var(--mantine-h4-font-weight)}.m_d6493fad :where(h5){margin-top:calc(.5 * var(--mantine-spacing-xl));font-size:var(--mantine-h5-font-size);line-height:var(--mantine-h5-line-height);font-weight:var(--mantine-h5-font-weight)}.m_d6493fad :where(h6){margin-top:calc(.5 * var(--mantine-spacing-xl));font-size:var(--mantine-h6-font-size);line-height:var(--mantine-h6-line-height);font-weight:var(--mantine-h6-font-weight)}.m_d6493fad :where(img){max-width:100%;margin-bottom:var(--mantine-spacing-xs)}.m_d6493fad :where(p){margin-top:0;margin-bottom:var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(mark){background-color:var(--mantine-color-yellow-2);color:inherit}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(mark){background-color:var(--mantine-color-yellow-5);color:var(--mantine-color-black)}.m_d6493fad :where(a){color:var(--mantine-color-anchor);text-decoration:none}@media (hover: hover){.m_d6493fad :where(a):hover{text-decoration:underline}}@media (hover: none){.m_d6493fad :where(a):active{text-decoration:underline}}.m_d6493fad :where(hr){margin-top:var(--mantine-spacing-md);margin-bottom:var(--mantine-spacing-md);border:0;border-top:calc(.0625rem * var(--mantine-scale)) solid}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(hr){border-color:var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(hr){border-color:var(--mantine-color-dark-3)}.m_d6493fad :where(pre){padding:var(--mantine-spacing-xs);line-height:var(--mantine-line-height);margin:0;margin-top:var(--mantine-spacing-md);margin-bottom:var(--mantine-spacing-md);overflow-x:auto;font-family:var(--mantine-font-family-monospace);font-size:var(--mantine-font-size-xs);border-radius:var(--mantine-radius-sm)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(pre){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(pre){background-color:var(--mantine-color-dark-8)}.m_d6493fad :where(pre) :where(code){background-color:transparent;padding:0;border-radius:0;color:inherit;border:0}.m_d6493fad :where(kbd){--kbd-fz: calc(.75rem * var(--mantine-scale));--kbd-padding: calc(.1875rem * var(--mantine-scale)) calc(.3125rem * var(--mantine-scale));font-family:var(--mantine-font-family-monospace);line-height:var(--mantine-line-height);font-weight:700;padding:var(--kbd-padding);font-size:var(--kbd-fz);border-radius:var(--mantine-radius-sm);border:calc(.0625rem * var(--mantine-scale)) solid;border-bottom-width:calc(.1875rem * var(--mantine-scale))}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(kbd){border-color:var(--mantine-color-gray-3);color:var(--mantine-color-gray-7);background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(kbd){border-color:var(--mantine-color-dark-3);color:var(--mantine-color-dark-0);background-color:var(--mantine-color-dark-5)}.m_d6493fad :where(code){line-height:var(--mantine-line-height);padding:calc(.0625rem * var(--mantine-scale)) calc(.3125rem * var(--mantine-scale));border-radius:var(--mantine-radius-sm);font-family:var(--mantine-font-family-monospace);font-size:var(--mantine-font-size-xs)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(code){background-color:var(--mantine-color-gray-0);color:var(--mantine-color-black)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(code){background-color:var(--mantine-color-dark-5);color:var(--mantine-color-white)}.m_d6493fad :where(ul,ol):not([data-type=taskList]){margin-bottom:var(--mantine-spacing-md);padding-inline-start:calc(2.375rem * var(--mantine-scale))}.m_d6493fad :where(ul,ol):not([data-type=taskList]) :where(li){margin-bottom:var(--mantine-spacing-xs)}.m_d6493fad :where(table){width:100%;border-collapse:collapse;caption-side:bottom;margin-bottom:var(--mantine-spacing-md)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(table){--table-border-color: var(--mantine-color-gray-3)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(table){--table-border-color: var(--mantine-color-dark-4)}.m_d6493fad :where(table) :where(caption){margin-top:var(--mantine-spacing-xs);font-size:var(--mantine-font-size-sm);color:var(--mantine-color-dimmed)}.m_d6493fad :where(table) :where(th){text-align:left;font-weight:700;font-size:var(--mantine-font-size-sm);padding:var(--mantine-spacing-xs) var(--mantine-spacing-sm)}.m_d6493fad :where(table) :where(thead th){border-bottom:calc(.0625rem * var(--mantine-scale)) solid;border-color:var(--table-border-color)}.m_d6493fad :where(table) :where(tfoot th){border-top:calc(.0625rem * var(--mantine-scale)) solid;border-color:var(--table-border-color)}.m_d6493fad :where(table) :where(td){padding:var(--mantine-spacing-xs) var(--mantine-spacing-sm);border-bottom:calc(.0625rem * var(--mantine-scale)) solid;border-color:var(--table-border-color);font-size:var(--mantine-font-size-sm)}.m_d6493fad :where(table) :where(tr:last-of-type td){border-bottom:0}.m_d6493fad :where(blockquote){font-size:var(--mantine-font-size-lg);line-height:var(--mantine-line-height);margin:var(--mantine-spacing-md) 0;border-radius:var(--mantine-radius-sm);padding:var(--mantine-spacing-md) var(--mantine-spacing-lg)}:where([data-mantine-color-scheme=light]) .m_d6493fad :where(blockquote){background-color:var(--mantine-color-gray-0)}:where([data-mantine-color-scheme=dark]) .m_d6493fad :where(blockquote){background-color:var(--mantine-color-dark-8)}*:where(#hibisco-root,#hibisco-root *),:where(#hibisco-root,#hibisco-root *):before,:where(#hibisco-root,#hibisco-root *):after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:where(#hibisco-root,#hibisco-root *):before,:where(#hibisco-root,#hibisco-root *):after{--tw-content: ""}#hibisco-root{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}#hibisco-root{margin:0;line-height:inherit}hr:where(#hibisco-root,#hibisco-root *){height:0;color:inherit;border-top-width:1px}abbr:where([title]):where(#hibisco-root,#hibisco-root *){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1:where(#hibisco-root,#hibisco-root *),h2:where(#hibisco-root,#hibisco-root *),h3:where(#hibisco-root,#hibisco-root *),h4:where(#hibisco-root,#hibisco-root *),h5:where(#hibisco-root,#hibisco-root *),h6:where(#hibisco-root,#hibisco-root *){font-size:inherit;font-weight:inherit}a:where(#hibisco-root,#hibisco-root *){color:inherit;text-decoration:inherit}b:where(#hibisco-root,#hibisco-root *),strong:where(#hibisco-root,#hibisco-root *){font-weight:bolder}code:where(#hibisco-root,#hibisco-root *),kbd:where(#hibisco-root,#hibisco-root *),samp:where(#hibisco-root,#hibisco-root *),pre:where(#hibisco-root,#hibisco-root *){font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small:where(#hibisco-root,#hibisco-root *){font-size:80%}sub:where(#hibisco-root,#hibisco-root *),sup:where(#hibisco-root,#hibisco-root *){font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub:where(#hibisco-root,#hibisco-root *){bottom:-.25em}sup:where(#hibisco-root,#hibisco-root *){top:-.5em}table:where(#hibisco-root,#hibisco-root *){text-indent:0;border-color:inherit;border-collapse:collapse}button:where(#hibisco-root,#hibisco-root *),input:where(#hibisco-root,#hibisco-root *),optgroup:where(#hibisco-root,#hibisco-root *),select:where(#hibisco-root,#hibisco-root *),textarea:where(#hibisco-root,#hibisco-root *){font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button:where(#hibisco-root,#hibisco-root *),select:where(#hibisco-root,#hibisco-root *){text-transform:none}button:where(#hibisco-root,#hibisco-root *),input:where([type=button]):where(#hibisco-root,#hibisco-root *),input:where([type=reset]):where(#hibisco-root,#hibisco-root *),input:where([type=submit]):where(#hibisco-root,#hibisco-root *){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring:where(#hibisco-root,#hibisco-root *){outline:auto}:-moz-ui-invalid:where(#hibisco-root,#hibisco-root *){box-shadow:none}progress:where(#hibisco-root,#hibisco-root *){vertical-align:baseline}:where(#hibisco-root,#hibisco-root *) ::-webkit-inner-spin-button,:where(#hibisco-root,#hibisco-root *) ::-webkit-outer-spin-button{height:auto}[type=search]:where(#hibisco-root,#hibisco-root *){-webkit-appearance:textfield;outline-offset:-2px}:where(#hibisco-root,#hibisco-root *) ::-webkit-search-decoration{-webkit-appearance:none}:where(#hibisco-root,#hibisco-root *) ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary:where(#hibisco-root,#hibisco-root *){display:list-item}blockquote:where(#hibisco-root,#hibisco-root *),dl:where(#hibisco-root,#hibisco-root *),dd:where(#hibisco-root,#hibisco-root *),h1:where(#hibisco-root,#hibisco-root *),h2:where(#hibisco-root,#hibisco-root *),h3:where(#hibisco-root,#hibisco-root *),h4:where(#hibisco-root,#hibisco-root *),h5:where(#hibisco-root,#hibisco-root *),h6:where(#hibisco-root,#hibisco-root *),hr:where(#hibisco-root,#hibisco-root *),figure:where(#hibisco-root,#hibisco-root *),p:where(#hibisco-root,#hibisco-root *),pre:where(#hibisco-root,#hibisco-root *){margin:0}fieldset:where(#hibisco-root,#hibisco-root *){margin:0;padding:0}legend:where(#hibisco-root,#hibisco-root *){padding:0}ol:where(#hibisco-root,#hibisco-root *),ul:where(#hibisco-root,#hibisco-root *),menu:where(#hibisco-root,#hibisco-root *){list-style:none;margin:0;padding:0}dialog:where(#hibisco-root,#hibisco-root *){padding:0}textarea:where(#hibisco-root,#hibisco-root *){resize:vertical}:where(#hibisco-root,#hibisco-root *) input::placeholder,:where(#hibisco-root,#hibisco-root *) textarea::placeholder{opacity:1;color:#9ca3af}button:where(#hibisco-root,#hibisco-root *),[role=button]:where(#hibisco-root,#hibisco-root *){cursor:pointer}:disabled:where(#hibisco-root,#hibisco-root *){cursor:default}img:where(#hibisco-root,#hibisco-root *),svg:where(#hibisco-root,#hibisco-root *),video:where(#hibisco-root,#hibisco-root *),canvas:where(#hibisco-root,#hibisco-root *),audio:where(#hibisco-root,#hibisco-root *),iframe:where(#hibisco-root,#hibisco-root *),embed:where(#hibisco-root,#hibisco-root *),object:where(#hibisco-root,#hibisco-root *){display:block;vertical-align:middle}img:where(#hibisco-root,#hibisco-root *),video:where(#hibisco-root,#hibisco-root *){max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])):where(#hibisco-root,#hibisco-root *){display:none}*{scrollbar-color:initial;scrollbar-width:initial}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.end-0{inset-inline-end:0px}.right-0{right:0}.top-0{top:0}.float-left{float:left}.mx-0{margin-left:0;margin-right:0}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-top:.5rem;margin-bottom:.5rem}.mb-4{margin-bottom:1rem}.mt-2{margin-top:.5rem}.mt-auto{margin-top:auto}.box-border{box-sizing:border-box}.block{display:block}.inline{display:inline}.flex{display:flex}.grid{display:grid}.contents{display:contents}.\\!hidden{display:none!important}.hidden{display:none}.h-\\[28\\.9px\\]{height:28.9px}.h-fit{height:fit-content}.h-full{height:100%}.min-h-\\[28\\.9px\\]{min-height:28.9px}.w-full{width:100%}.max-w-full{max-width:100%}.grow{flex-grow:1}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.select-none{-webkit-user-select:none;user-select:none}.resize{resize:both}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.justify-end{justify-content:flex-end}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.text-wrap{text-wrap:wrap}.rounded{border-radius:.25rem}.border{border-width:1px}.border-2{border-width:2px}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.p-0{padding:0}.px-1{padding-left:.25rem;padding-right:.25rem}.px-\\[8px\\]{padding-left:8px;padding-right:8px}.py-\\[4px\\]{padding-top:4px;padding-bottom:4px}.text-center{text-align:center}.text-\\[12px\\]{font-size:12px}.text-\\[13px\\]{font-size:13px}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.opacity-25{opacity:.25}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.hibiscus-icon{aspect-ratio:1 / 1;width:42px;background-size:cover;border-radius:6px}.guardian-icon{width:45px;height:41px;background-size:contain;border-radius:6px;transform:translateY(2px)}.room-panel-icon{width:32px;height:33px;background-size:contain}#hibisco-root{font-family:Ubuntu Leet,sans-serif!important;background:none}.ReactCollapse--collapse{transition:height .3s;width:inherit;height:inherit;padding-left:1.25rem;font-size:.9em;font-style:italic}.nitro-catalog .layout-grid-item .catalog-buy-container{visibility:hidden;position:absolute}.nitro-catalog:not(:has(.catalog-teaser-image)) .layout-grid-item:hover .catalog-buy-container{visibility:visible;position:relative}.nitro-catalog:not(:has(.catalog-teaser-image)) .layout-grid-item:hover .catalog-buy-container .rs-input-number .rs-input{padding-left:.25rem;padding-right:.25rem}.rs-input{font-size:11px!important}.chat-bubble{border-radius:7px}.ping-once{animation:horizontal-shaking .35s 1}@keyframes horizontal-shaking{0%{transform:translate(0)}25%{transform:translate(3px)}50%{transform:translate(-3px)}75%{transform:translate(0)}to{transform:translate(0)}}@keyframes load{0%{filter:brightness(1.4);box-shadow:0 0 #fff9}70%,to{filter:brightness(1);box-shadow:0 0 0 6px #fff0}}.nitro-notification-bubble{background-color:#2e2e2cb3!important;box-shadow:inset 0 5px #2222270d,inset 0 -4px #1212150d!important}._App_1lcm7_1{transition-duration:.2s;--tw-bg-opacity: 1;background-color:rgb(61 61 61 / var(--tw-bg-opacity, 1))}._App_1lcm7_1.translucent{--tw-bg-opacity: 1;background-color:rgb(44 44 44 / var(--tw-bg-opacity, 1));--tw-backdrop-blur: blur(2px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}._App_1lcm7_1{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;justify-content:flex-start;overflow:hidden;gap:0px;border-width:0px;border-style:none;container-type:inline-size;container-name:app}._MiddleContent_1aop2_1{--tw-bg-opacity: 1;background-color:rgb(44 44 44 / var(--tw-bg-opacity, 1));width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;overflow:hidden;border-top-left-radius:.5rem;border-top-right-radius:.5rem;border-width:0px;padding:.5rem}._SettingsPane_kwkwz_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;justify-content:flex-start}._Tab_kwkwz_10{z-index:0;height:2rem;border-radius:.5rem;padding-left:.5rem;padding-right:.5rem;transition-duration:.2s}@container app (min-width: 32rem){._Tab_kwkwz_10{height:1.75rem}}._Tab_kwkwz_10{transition-property:transform,color}._Tab_kwkwz_10[data-active]{--tw-translate-y: .5rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-text-opacity: 1;color:rgb(251 143 179 / var(--tw-text-opacity, 1))}@container app (min-width: 32rem){._Tab_kwkwz_10[data-active]{--tw-translate-y: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}}._Tab_kwkwz_10:hover{--tw-text-opacity: 1;color:rgb(251 143 179 / var(--tw-text-opacity, 1))}._Tab_kwkwz_10:hover:not([data-active]){background-color:transparent}._TabRoot_kwkwz_24{display:flex;height:100%;width:100%;flex-direction:column}._TabList_kwkwz_28{display:flex;height:2.25rem;width:100%;flex-direction:row;justify-content:center}._TabPanel_kwkwz_32{z-index:10;height:100%;width:100%;overflow:auto}._TabPanel_kwkwz_32::-webkit-scrollbar-track{background-color:var(--scrollbar-track);border-radius:var(--scrollbar-track-radius)}._TabPanel_kwkwz_32::-webkit-scrollbar-track:hover{background-color:var(--scrollbar-track-hover, var(--scrollbar-track))}._TabPanel_kwkwz_32::-webkit-scrollbar-track:active{background-color:var(--scrollbar-track-active, var(--scrollbar-track-hover, var(--scrollbar-track)))}._TabPanel_kwkwz_32::-webkit-scrollbar-thumb{background-color:var(--scrollbar-thumb);border-radius:var(--scrollbar-thumb-radius)}._TabPanel_kwkwz_32::-webkit-scrollbar-thumb:hover{background-color:var(--scrollbar-thumb-hover, var(--scrollbar-thumb))}._TabPanel_kwkwz_32::-webkit-scrollbar-thumb:active{background-color:var(--scrollbar-thumb-active, var(--scrollbar-thumb-hover, var(--scrollbar-thumb)))}._TabPanel_kwkwz_32::-webkit-scrollbar-corner{background-color:var(--scrollbar-corner);border-radius:var(--scrollbar-corner-radius)}._TabPanel_kwkwz_32::-webkit-scrollbar-corner:hover{background-color:var(--scrollbar-corner-hover, var(--scrollbar-corner))}._TabPanel_kwkwz_32::-webkit-scrollbar-corner:active{background-color:var(--scrollbar-corner-active, var(--scrollbar-corner-hover, var(--scrollbar-corner)))}._TabPanel_kwkwz_32{scrollbar-width:auto;scrollbar-color:var(--scrollbar-thumb, initial) var(--scrollbar-track, initial)}._TabPanel_kwkwz_32::-webkit-scrollbar{display:block;width:var(--scrollbar-width, 16px);height:var(--scrollbar-height, 16px)}._TabPanel_kwkwz_32{--scrollbar-track: transparent;--scrollbar-thumb: rgb(156 163 175 / .2)}._Disabled_kwkwz_37{pointer-events:none;opacity:.5}._container_1l81n_1{width:100%}@media (min-width: 640px){._container_1l81n_1{max-width:640px}}@media (min-width: 768px){._container_1l81n_1{max-width:768px}}@media (min-width: 1024px){._container_1l81n_1{max-width:1024px}}@media (min-width: 1280px){._container_1l81n_1{max-width:1280px}}@media (min-width: 1536px){._container_1l81n_1{max-width:1536px}}._pointer-events-none_1l81n_1{pointer-events:none}._visible_1l81n_1{visibility:visible}._absolute_1l81n_1{position:absolute}._relative_1l81n_1{position:relative}._end-0_1l81n_1{inset-inline-end:0px}._mx-auto_1l81n_1{margin-left:auto;margin-right:auto}._ms-1_1l81n_1{margin-inline-start:.25rem}._flex_1l81n_1{display:flex}._hidden_1l81n_1{display:none}._h-full_1l81n_1{height:100%}._w-full_1l81n_1{width:100%}._max-w-full_1l81n_1{max-width:100%}._flex-shrink-0_1l81n_1{flex-shrink:0}._cursor-pointer_1l81n_1{cursor:pointer}._select-none_1l81n_1{-webkit-user-select:none;user-select:none}._flex-col_1l81n_1{flex-direction:column}._gap-1_1l81n_1{gap:.25rem}._gap-2_1l81n_1{gap:.5rem}._overflow-auto_1l81n_1{overflow:auto}._overflow-hidden_1l81n_1{overflow:hidden}._border_1l81n_1{border-width:1px}._p-0_1l81n_1{padding:0}._italic_1l81n_1{font-style:italic}._text-black_1l81n_1{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}._outline_1l81n_1{outline-style:solid}._filter_1l81n_1{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._Nitropedia_1l81n_4{width:100%;align-items:center;justify-content:center;justify-content:flex-start;height:500px;width:350px;border-width:0px;position:relative;display:flex;height:100%;min-height:50px;-webkit-user-select:none;user-select:none;resize:both;flex-direction:column;overflow:hidden;border-radius:.5rem;padding:0;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);max-width:100vw;max-height:80vh;font-size:9px;--rs-input-bg: #2d2d2d}._Header_1l81n_40{pointer-events:all;width:100%}@media (min-width: 640px){._Header_1l81n_40{max-width:640px}}@media (min-width: 768px){._Header_1l81n_40{max-width:768px}}@media (min-width: 1024px){._Header_1l81n_40{max-width:1024px}}@media (min-width: 1280px){._Header_1l81n_40{max-width:1280px}}@media (min-width: 1536px){._Header_1l81n_40{max-width:1536px}}._Header_1l81n_40{position:relative;margin-left:auto;margin-right:auto;display:flex;max-width:100%;flex-direction:column;align-items:center;justify-content:center;gap:.5rem;border-radius:6px 6px 0 0;min-height:25px;max-height:25px;font-size:14px;color:#fff;font-weight:700}._Title_1l81n_51{display:flex;width:100%;align-items:center;justify-content:center;gap:.25rem;font-size:.9rem;z-index:2;height:100%}._Title_1l81n_51 ._version_1l81n_56{font-size:.7rem}._container_tie1d_1{width:100%}@media (min-width: 640px){._container_tie1d_1{max-width:640px}}@media (min-width: 768px){._container_tie1d_1{max-width:768px}}@media (min-width: 1024px){._container_tie1d_1{max-width:1024px}}@media (min-width: 1280px){._container_tie1d_1{max-width:1280px}}@media (min-width: 1536px){._container_tie1d_1{max-width:1536px}}._pointer-events-none_tie1d_1{pointer-events:none}._visible_tie1d_1{visibility:visible}._absolute_tie1d_1{position:absolute}._relative_tie1d_1{position:relative}._end-0_tie1d_1{inset-inline-end:0px}._mx-auto_tie1d_1{margin-left:auto;margin-right:auto}._ms-1_tie1d_1{margin-inline-start:.25rem}._flex_tie1d_1{display:flex}._hidden_tie1d_1{display:none}._h-full_tie1d_1{height:100%}._w-full_tie1d_1{width:100%}._max-w-full_tie1d_1{max-width:100%}._flex-shrink-0_tie1d_1{flex-shrink:0}._cursor-pointer_tie1d_1{cursor:pointer}._select-none_tie1d_1{-webkit-user-select:none;user-select:none}._flex-col_tie1d_1{flex-direction:column}._gap-1_tie1d_1{gap:.25rem}._gap-2_tie1d_1{gap:.5rem}._overflow-auto_tie1d_1{overflow:auto}._overflow-hidden_tie1d_1{overflow:hidden}._border_tie1d_1{border-width:1px}._p-0_tie1d_1{padding:0}._italic_tie1d_1{font-style:italic}._text-black_tie1d_1{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}._outline_tie1d_1{outline-style:solid}._filter_tie1d_1{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._CategoryIcon_tie1d_25{background-color:#cdd3d9;border:2px solid #b6bec5!important;cursor:pointer;-webkit-user-select:none;user-select:none;--tw-bg-opacity: 1;background-color:rgb(205 211 217 / var(--tw-bg-opacity, 1));transition-duration:.2s}._CategoryIcon_tie1d_25:hover{--tw-bg-opacity: 1;background-color:rgb(183 191 200 / var(--tw-bg-opacity, 1))}._CategoryIcon_tie1d_25{aspect-ratio:1 / 1;width:100px;border-radius:.5rem}._CategoryIcon_tie1d_25 img{height:50px}._CategoryTitle_tie1d_35{position:sticky;top:0;z-index:100;padding-top:4px;padding-bottom:4px;padding-left:4px;transition-duration:.1s}._CategoryTitle_tie1d_35:hover{padding-left:2px}._Hidden_tie1d_40{position:absolute;visibility:hidden;pointer-events:none}._container_rfyos_1{width:100%}@media (min-width: 640px){._container_rfyos_1{max-width:640px}}@media (min-width: 768px){._container_rfyos_1{max-width:768px}}@media (min-width: 1024px){._container_rfyos_1{max-width:1024px}}@media (min-width: 1280px){._container_rfyos_1{max-width:1280px}}@media (min-width: 1536px){._container_rfyos_1{max-width:1536px}}._pointer-events-none_rfyos_1{pointer-events:none}._visible_rfyos_1{visibility:visible}._absolute_rfyos_1{position:absolute}._relative_rfyos_1{position:relative}._end-0_rfyos_1{inset-inline-end:0px}._mx-auto_rfyos_1{margin-left:auto;margin-right:auto}._ms-1_rfyos_1{margin-inline-start:.25rem}._flex_rfyos_1{display:flex}._hidden_rfyos_1{display:none}._h-full_rfyos_1{height:100%}._w-full_rfyos_1{width:100%}._max-w-full_rfyos_1{max-width:100%}._flex-shrink-0_rfyos_1{flex-shrink:0}._cursor-pointer_rfyos_1{cursor:pointer}._select-none_rfyos_1{-webkit-user-select:none;user-select:none}._flex-col_rfyos_1{flex-direction:column}._gap-1_rfyos_1{gap:.25rem}._gap-2_rfyos_1{gap:.5rem}._overflow-auto_rfyos_1{overflow:auto}._overflow-hidden_rfyos_1{overflow:hidden}._border_rfyos_1{border-width:1px}._p-0_rfyos_1{padding:0}._italic_rfyos_1{font-style:italic}._text-black_rfyos_1{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}._outline_rfyos_1{outline-style:solid}._filter_rfyos_1{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._Page_rfyos_25{width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column!important;height:min-content;gap:.5rem;padding-left:.5rem;padding-right:.5rem;padding-bottom:2rem;justify-content:flex-start}._container_dc959_1{width:100%}@media (min-width: 640px){._container_dc959_1{max-width:640px}}@media (min-width: 768px){._container_dc959_1{max-width:768px}}@media (min-width: 1024px){._container_dc959_1{max-width:1024px}}@media (min-width: 1280px){._container_dc959_1{max-width:1280px}}@media (min-width: 1536px){._container_dc959_1{max-width:1536px}}._pointer-events-none_dc959_1{pointer-events:none}._visible_dc959_1{visibility:visible}._absolute_dc959_1{position:absolute}._relative_dc959_1{position:relative}._end-0_dc959_1{inset-inline-end:0px}._mx-auto_dc959_1{margin-left:auto;margin-right:auto}._ms-1_dc959_1{margin-inline-start:.25rem}._flex_dc959_1{display:flex}._hidden_dc959_1{display:none}._h-full_dc959_1{height:100%}._w-full_dc959_1{width:100%}._max-w-full_dc959_1{max-width:100%}._flex-shrink-0_dc959_1{flex-shrink:0}._cursor-pointer_dc959_1{cursor:pointer}._select-none_dc959_1{-webkit-user-select:none;user-select:none}._flex-col_dc959_1{flex-direction:column}._gap-1_dc959_1{gap:.25rem}._gap-2_dc959_1{gap:.5rem}._overflow-auto_dc959_1{overflow:auto}._overflow-hidden_dc959_1{overflow:hidden}._border_dc959_1{border-width:1px}._p-0_dc959_1{padding:0}._italic_dc959_1{font-style:italic}._text-black_dc959_1{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}._outline_dc959_1{outline-style:solid}._filter_dc959_1{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._Section_dc959_4,._Content_dc959_4,._Title_dc959_4{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}._Title_dc959_4{flex-direction:row}._Section_dc959_4{height:fit-content}._Title_dc959_4{position:relative;padding-left:.5rem;padding-right:.5rem;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAIAAAASFvFNAAAACXBIWXMAABYlAAAWJQFJUiTwAAAF0GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuYjBmOGJlOTAsIDIwMjEvMTIvMTUtMjE6MjU6MTUgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMy4yIChNYWNpbnRvc2gpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMi0wMy0yNlQxMjoyNzo0OSswMTowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMi0wMy0yNlQxMjoyNzo0OSswMTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjItMDMtMjZUMTI6Mjc6NDkrMDE6MDAiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Njg1ZGE1MTktMTcxOC00OGViLWI4OWMtYTgwYzBkYTkwMGRlIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NjJhMTRlMTYtYzBhNy03NDRhLTk0ZWUtM2VhNWNjZmMxNTE5IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6OGQyODhlNzYtOTc2MC00NmM0LWJkYzYtZTczOTRmNzEzZTRjIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OGQyODhlNzYtOTc2MC00NmM0LWJkYzYtZTczOTRmNzEzZTRjIiBzdEV2dDp3aGVuPSIyMDIyLTAzLTI2VDEyOjI3OjQ5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjMuMiAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Njg1ZGE1MTktMTcxOC00OGViLWI4OWMtYTgwYzBkYTkwMGRlIiBzdEV2dDp3aGVuPSIyMDIyLTAzLTI2VDEyOjI3OjQ5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjMuMiAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Pf8DzAAAAHUlEQVQImWPcsmUrA+M/RgZGxs+fvjAw/WdgYAAATxMG+8T+G0EAAAAASUVORK5CYII=);background-repeat:repeat-x;background-position:center;background-clip:content-box;text-align:center;margin:4px;height:fit-content;font-size:.85rem;font-weight:600;opacity:.75}._Title_dc959_4 hr{position:absolute;z-index:0;display:none;width:100%;--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}._Title_dc959_4 span{color:#5d5d5c;margin-bottom:0;background-color:#e8eae1;display:inline-block;padding-right:5px;padding-left:5px}._Content_dc959_4{height:fit-content}._container_en1hz_1{width:100%}@media (min-width: 640px){._container_en1hz_1{max-width:640px}}@media (min-width: 768px){._container_en1hz_1{max-width:768px}}@media (min-width: 1024px){._container_en1hz_1{max-width:1024px}}@media (min-width: 1280px){._container_en1hz_1{max-width:1280px}}@media (min-width: 1536px){._container_en1hz_1{max-width:1536px}}._pointer-events-none_en1hz_1{pointer-events:none}._visible_en1hz_1{visibility:visible}._absolute_en1hz_1{position:absolute}._relative_en1hz_1{position:relative}._end-0_en1hz_1{inset-inline-end:0px}._mx-auto_en1hz_1{margin-left:auto;margin-right:auto}._ms-1_en1hz_1{margin-inline-start:.25rem}._flex_en1hz_1{display:flex}._hidden_en1hz_1{display:none}._h-full_en1hz_1{height:100%}._w-full_en1hz_1{width:100%}._max-w-full_en1hz_1{max-width:100%}._flex-shrink-0_en1hz_1{flex-shrink:0}._cursor-pointer_en1hz_1{cursor:pointer}._select-none_en1hz_1{-webkit-user-select:none;user-select:none}._flex-col_en1hz_1{flex-direction:column}._gap-1_en1hz_1{gap:.25rem}._gap-2_en1hz_1{gap:.5rem}._overflow-auto_en1hz_1{overflow:auto}._overflow-hidden_en1hz_1{overflow:hidden}._border_en1hz_1{border-width:1px}._p-0_en1hz_1{padding:0}._italic_en1hz_1{font-style:italic}._text-black_en1hz_1{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}._outline_en1hz_1{outline-style:solid}._filter_en1hz_1{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._GroupedSettings_en1hz_4{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}._CaretIcon_en1hz_30{transition-duration:.2s}._CaretIconRotated_en1hz_34{--tw-rotate: -180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._container_iuu9u_1{width:100%}@media (min-width: 640px){._container_iuu9u_1{max-width:640px}}@media (min-width: 768px){._container_iuu9u_1{max-width:768px}}@media (min-width: 1024px){._container_iuu9u_1{max-width:1024px}}@media (min-width: 1280px){._container_iuu9u_1{max-width:1280px}}@media (min-width: 1536px){._container_iuu9u_1{max-width:1536px}}._pointer-events-none_iuu9u_1{pointer-events:none}._visible_iuu9u_1{visibility:visible}._absolute_iuu9u_1{position:absolute}._relative_iuu9u_1{position:relative}._end-0_iuu9u_1{inset-inline-end:0px}._mx-auto_iuu9u_1{margin-left:auto;margin-right:auto}._ms-1_iuu9u_1{margin-inline-start:.25rem}._flex_iuu9u_1{display:flex}._hidden_iuu9u_1{display:none}._h-full_iuu9u_1{height:100%}._w-full_iuu9u_1{width:100%}._max-w-full_iuu9u_1{max-width:100%}._flex-shrink-0_iuu9u_1{flex-shrink:0}._cursor-pointer_iuu9u_1{cursor:pointer}._select-none_iuu9u_1{-webkit-user-select:none;user-select:none}._flex-col_iuu9u_1{flex-direction:column}._gap-1_iuu9u_1{gap:.25rem}._gap-2_iuu9u_1{gap:.5rem}._overflow-auto_iuu9u_1{overflow:auto}._overflow-hidden_iuu9u_1{overflow:hidden}._border_iuu9u_1{border-width:1px}._p-0_iuu9u_1{padding:0}._italic_iuu9u_1{font-style:italic}._text-black_iuu9u_1{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}._outline_iuu9u_1{outline-style:solid}._filter_iuu9u_1{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._SettingCommon_iuu9u_4{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;flex-direction:row;height:fit-content;align-items:center;justify-content:space-between;padding:.25rem .5rem;transition-duration:.2s}._SettingCommon_iuu9u_4:hover{background-color:#0000001a;border-radius:.5rem}._SettingCommon_iuu9u_4{-webkit-user-select:none;user-select:none}._CaretIcon_iuu9u_43{transition-duration:.2s}._CaretIconRotated_iuu9u_47{--tw-rotate: -180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._InputNumber_iuu9u_51{width:6rem}._InputText_iuu9u_55{width:13rem}._SwitchTrackOff_iuu9u_59{background-color:#2d2d2d;border-color:#fff5}._Switch_iuu9u_59 input:not(:checked)+.mantine-Switch-track{background-color:#acacac}._Switch_iuu9u_59 input:checked+.mantine-Switch-track{box-shadow:#00000040 0 1px,#0000000a 0 -5px inset,#ffffff21 0 8px inset,#00000080 0 1px 3px inset}._TextInput_iuu9u_71,._TextInput_iuu9u_71 .mantine-Switch-root,._TextInput_iuu9u_71 .mantine-Switch-body,._TextInput_iuu9u_71 .mantine-Switch-labelWrapper,._TextInput_iuu9u_71 .mantine-Switch-label{width:100%!important}._TextInput_iuu9u_71 .mantine-Switch-label{padding-inline-start:6px}._NumberInput_iuu9u_81,._NumberInput_iuu9u_81 .mantine-Switch-root,._NumberInput_iuu9u_81 .mantine-Switch-body,._NumberInput_iuu9u_81 .mantine-Switch-labelWrapper,._NumberInput_iuu9u_81 .mantine-Switch-label{width:100%!important}._NumberInput_iuu9u_81 .mantine-Switch-label{padding-inline-start:6px}._container_178dm_1{width:100%}@media (min-width: 640px){._container_178dm_1{max-width:640px}}@media (min-width: 768px){._container_178dm_1{max-width:768px}}@media (min-width: 1024px){._container_178dm_1{max-width:1024px}}@media (min-width: 1280px){._container_178dm_1{max-width:1280px}}@media (min-width: 1536px){._container_178dm_1{max-width:1536px}}._pointer-events-none_178dm_1{pointer-events:none}._visible_178dm_1{visibility:visible}._absolute_178dm_1{position:absolute}._relative_178dm_1{position:relative}._end-0_178dm_1{inset-inline-end:0px}._mx-auto_178dm_1{margin-left:auto;margin-right:auto}._ms-1_178dm_1{margin-inline-start:.25rem}._flex_178dm_1{display:flex}._hidden_178dm_1{display:none}._h-full_178dm_1{height:100%}._w-full_178dm_1{width:100%}._max-w-full_178dm_1{max-width:100%}._flex-shrink-0_178dm_1{flex-shrink:0}._cursor-pointer_178dm_1{cursor:pointer}._select-none_178dm_1{-webkit-user-select:none;user-select:none}._flex-col_178dm_1{flex-direction:column}._gap-1_178dm_1{gap:.25rem}._gap-2_178dm_1{gap:.5rem}._overflow-auto_178dm_1{overflow:auto}._overflow-hidden_178dm_1{overflow:hidden}._border_178dm_1{border-width:1px}._p-0_178dm_1{padding:0}._italic_178dm_1{font-style:italic}._text-black_178dm_1{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}._outline_178dm_1{outline-style:solid}._filter_178dm_1{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._OpenCollapsedSettingsHandler_178dm_4,._IconContainer_178dm_4{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}._IconContainer_178dm_4{flex-direction:row}._OpenCollapsedSettingsHandler_178dm_4{width:fit-content}._IconContainer_178dm_4{height:1.5rem;width:1.5rem;cursor:pointer;border-radius:.375rem;transition-duration:.2s}._IconContainer_178dm_4:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));background-color:#0000001a}._CaretIcon_178dm_43{transition-duration:.2s}._CaretIconRotated_178dm_47{--tw-rotate: -180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._container_1jx4d_1{width:100%}@media (min-width: 640px){._container_1jx4d_1{max-width:640px}}@media (min-width: 768px){._container_1jx4d_1{max-width:768px}}@media (min-width: 1024px){._container_1jx4d_1{max-width:1024px}}@media (min-width: 1280px){._container_1jx4d_1{max-width:1280px}}@media (min-width: 1536px){._container_1jx4d_1{max-width:1536px}}._pointer-events-none_1jx4d_1{pointer-events:none}._visible_1jx4d_1{visibility:visible}._absolute_1jx4d_1{position:absolute}._relative_1jx4d_1{position:relative}._end-0_1jx4d_1{inset-inline-end:0px}._mx-auto_1jx4d_1{margin-left:auto;margin-right:auto}._ms-1_1jx4d_1{margin-inline-start:.25rem}._flex_1jx4d_1{display:flex}._hidden_1jx4d_1{display:none}._h-full_1jx4d_1{height:100%}._w-full_1jx4d_1{width:100%}._max-w-full_1jx4d_1{max-width:100%}._flex-shrink-0_1jx4d_1{flex-shrink:0}._cursor-pointer_1jx4d_1{cursor:pointer}._select-none_1jx4d_1{-webkit-user-select:none;user-select:none}._flex-col_1jx4d_1{flex-direction:column}._gap-1_1jx4d_1{gap:.25rem}._gap-2_1jx4d_1{gap:.5rem}._overflow-auto_1jx4d_1{overflow:auto}._overflow-hidden_1jx4d_1{overflow:hidden}._border_1jx4d_1{border-width:1px}._p-0_1jx4d_1{padding:0}._italic_1jx4d_1{font-style:italic}._text-black_1jx4d_1{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}._outline_1jx4d_1{outline-style:solid}._filter_1jx4d_1{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._InventorySearchShortcuts_1jx4d_4{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}._container_2zcfz_25{width:100%}@media (min-width: 640px){._container_2zcfz_25{max-width:640px}}@media (min-width: 768px){._container_2zcfz_25{max-width:768px}}@media (min-width: 1024px){._container_2zcfz_25{max-width:1024px}}@media (min-width: 1280px){._container_2zcfz_25{max-width:1280px}}@media (min-width: 1536px){._container_2zcfz_25{max-width:1536px}}._pointer-events-none_2zcfz_1{pointer-events:none}._visible_2zcfz_1{visibility:visible}._absolute_2zcfz_1{position:absolute}._relative_2zcfz_1{position:relative}._end-0_2zcfz_1{inset-inline-end:0px}._mx-auto_2zcfz_1{margin-left:auto;margin-right:auto}._ms-1_2zcfz_1{margin-inline-start:.25rem}._flex_2zcfz_1{display:flex}._hidden_2zcfz_1{display:none}._h-full_2zcfz_1{height:100%}._w-full_2zcfz_1{width:100%}._max-w-full_2zcfz_1{max-width:100%}._flex-shrink-0_2zcfz_1{flex-shrink:0}._cursor-pointer_2zcfz_1{cursor:pointer}._select-none_2zcfz_1{-webkit-user-select:none;user-select:none}._flex-col_2zcfz_1{flex-direction:column}._gap-1_2zcfz_1{gap:.25rem}._gap-2_2zcfz_1{gap:.5rem}._overflow-auto_2zcfz_1{overflow:auto}._overflow-hidden_2zcfz_1{overflow:hidden}._border_2zcfz_1{border-width:1px}._p-0_2zcfz_1{padding:0}._italic_2zcfz_1{font-style:italic}._text-black_2zcfz_1{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}._outline_2zcfz_1{outline-style:solid}._filter_2zcfz_1{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._container_2zcfz_25{container-type:inline-size}@container (max-width: 420px){._UserInfoTable_2zcfz_30{visibility:hidden;position:absolute}}._ActionButtons_2zcfz_36 span{visibility:hidden;position:absolute}@container (max-width: 420px){._ActionButtons_2zcfz_36{flex-direction:column}._ActionButtons_2zcfz_36 span{visibility:inherit;position:inherit}}._SendAlertHeader_2zcfz_50{width:100%;gap:0;display:flex;flex-direction:row;justify-content:space-between;align-items:center}@container (max-width: 420px){._SendAlertHeader_2zcfz_50{flex-direction:column}}._TemplatePick_2zcfz_64{position:absolute;top:0;right:0}@container (max-width: 420px){._TemplatePick_2zcfz_64{position:relative}}._container_1k59w_25{width:100%}@media (min-width: 640px){._container_1k59w_25{max-width:640px}}@media (min-width: 768px){._container_1k59w_25{max-width:768px}}@media (min-width: 1024px){._container_1k59w_25{max-width:1024px}}@media (min-width: 1280px){._container_1k59w_25{max-width:1280px}}@media (min-width: 1536px){._container_1k59w_25{max-width:1536px}}._pointer-events-none_1k59w_1{pointer-events:none}._visible_1k59w_1{visibility:visible}._absolute_1k59w_1{position:absolute}._relative_1k59w_1{position:relative}._end-0_1k59w_1{inset-inline-end:0px}._mx-auto_1k59w_1{margin-left:auto;margin-right:auto}._ms-1_1k59w_1{margin-inline-start:.25rem}._flex_1k59w_1{display:flex}._hidden_1k59w_30{display:none}._h-full_1k59w_1{height:100%}._w-full_1k59w_1{width:100%}._max-w-full_1k59w_1{max-width:100%}._flex-shrink-0_1k59w_1{flex-shrink:0}._cursor-pointer_1k59w_1{cursor:pointer}._select-none_1k59w_1{-webkit-user-select:none;user-select:none}._flex-col_1k59w_1{flex-direction:column}._gap-1_1k59w_1{gap:.25rem}._gap-2_1k59w_1{gap:.5rem}._overflow-auto_1k59w_1{overflow:auto}._overflow-hidden_1k59w_1{overflow:hidden}._border_1k59w_1{border-width:1px}._p-0_1k59w_1{padding:0}._italic_1k59w_1{font-style:italic}._text-black_1k59w_1{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}._outline_1k59w_1{outline-style:solid}._filter_1k59w_1{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._container_1k59w_25{container-type:inline-size}@container (max-width: 400px){._hiddenOnContainerNarrow_1k59w_30{visibility:hidden;position:absolute}}._container_ndgvq_1{width:100%}@media (min-width: 640px){._container_ndgvq_1{max-width:640px}}@media (min-width: 768px){._container_ndgvq_1{max-width:768px}}@media (min-width: 1024px){._container_ndgvq_1{max-width:1024px}}@media (min-width: 1280px){._container_ndgvq_1{max-width:1280px}}@media (min-width: 1536px){._container_ndgvq_1{max-width:1536px}}._pointer-events-none_ndgvq_1{pointer-events:none}._visible_ndgvq_1{visibility:visible}._absolute_ndgvq_1{position:absolute}._relative_ndgvq_1{position:relative}._end-0_ndgvq_1{inset-inline-end:0px}._mx-auto_ndgvq_1{margin-left:auto;margin-right:auto}._ms-1_ndgvq_1{margin-inline-start:.25rem}._flex_ndgvq_1{display:flex}._hidden_ndgvq_1{display:none}._h-full_ndgvq_1{height:100%}._w-full_ndgvq_1{width:100%}._max-w-full_ndgvq_1{max-width:100%}._flex-shrink-0_ndgvq_1{flex-shrink:0}._cursor-pointer_ndgvq_1{cursor:pointer}._select-none_ndgvq_1{-webkit-user-select:none;user-select:none}._flex-col_ndgvq_1{flex-direction:column}._gap-1_ndgvq_1{gap:.25rem}._gap-2_ndgvq_1{gap:.5rem}._overflow-auto_ndgvq_1{overflow:auto}._overflow-hidden_ndgvq_1{overflow:hidden}._border_ndgvq_1{border-width:1px}._p-0_ndgvq_1{padding:0}._italic_ndgvq_1{font-style:italic}._text-black_ndgvq_1{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}._outline_ndgvq_1{outline-style:solid}._filter_ndgvq_1{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._CollapseContainer_ndgvq_25{width:max-content;height:max-content;position:absolute;left:0;top:0;pointer-events:none;z-index:400}._CollapseContainer_ndgvq_25 ._Collapse_ndgvq_25{transition:all .2s ease-in-out;pointer-events:all}._CollapseContainer_ndgvq_25 ._Collapsed_ndgvq_38{transform:translate(-110%);pointer-events:none;opacity:0}._RadioBackground_ndgvq_44{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYEAAABnCAYAAADmM/4PAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTZFRTc1NzJENjcyMTFFRkE5NThCNzhBRkY3REU3NUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTZFRTc1NzNENjcyMTFFRkE5NThCNzhBRkY3REU3NUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxNkVFNzU3MEQ2NzIxMUVGQTk1OEI3OEFGRjdERTc1QSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxNkVFNzU3MUQ2NzIxMUVGQTk1OEI3OEFGRjdERTc1QSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ph/YYxsAAAJVSURBVHja7NqxSltRGMDxc5OQqTqYUe6YoZNrfQYnt3bWF/AR+h46CIJL5z6EheCgiFqoIUgcmgwlU0Cv34lG7dyCcO/vByeHm2T6hvPPTVKklC53dndTNhqNEgD1VpblYj/Y308t4wBoLhEAEAEARAAAEQBABAAQAQBEAAAR4P9ot9tFVVWFSQAi0MwIpIiAQQAi0MjBt1oiAIhAU3U6HV8HAe9/FhnB+5jNZg8RAoMA3AkAIAIAiAAAIgCACAAgAgCIAAAiAIAIACACAIgAACIAgAgAIAIAiAAAIgCACAAgAgAiYAQAIgCACAAgAgCIAAAiAIAIACACAIgAACIAgAgAIAIAiAAAIgCACAAgAgCIAAAiAIAIACACAIgAACIAgAgAIAIAiAAAIgCACAAgAgCIAAAiAIAIACACAIgAACIAgAgAIAIAiACACAAgAgCIAAAiAIAIACACAIgAACIAgAgAIAIAiAAAIgCACAAgAgCIAAAiAIAIACACAIgAACIAgAgAIAIAiAAAIgCACAAgAgD8u/l8/hqB5QUAzTCdTPJ2nyNw/3wBQM2VZbnYJ0/n/u8cgdub4fCvFwGot+HTuX+aI/Dt+uoqTafTlxCIAUD97gCWZ/vdeJzGscJREQ+rsX50u930aXMz9ft90wKoqfOzszQYDPJvwT+rqtoq4iEVRfE5Xvua3/BhZSX11tZSr9czLYCayL8B5E//b/4ItBfn//dFBLIIwUZsX2JtGxdAbR3HOoyz/9fi7F9GYClisB7bx+cFQD1cxDqJM//P2ycfBRgAsIBuzJ74FmQAAAAOZVhJZk1NACoAAAAIAAAAAAAAANJTkwAAAABJRU5ErkJggg==)}._RadioItemsWithIcon_ndgvq_48{height:19px;gap:4px;font-size:12px;line-height:normal;align-items:center;display:flex}._RadioItemsWithIcon_ndgvq_48 img{object-fit:scale-down;width:24px}._RadioItemsWithIcon_ndgvq_48 ._Inner_ndgvq_60{display:flex;flex-direction:row;align-items:center;justify:start;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}._Button_ndgvq_70{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiBAMAAADIaRbxAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAC1QTFRFAAAAIyQkDw8PAAAAMzQ0FhcXODg4Xl5eenp6FhcXMzQ0UFBQeHh4Y2NjWVlZS4Uj5wAAAA90Uk5TALbd/+LO////5s3/////xCuw1gAAAFJJREFUeJxjZGBUEmCAg//3PjCyBKGIPDJnZN18gQEJMLMyipUFIau5PZNRPS0RWc2rWYwWYQnIIr9mj4oMahHMGMSMZc716CmBq+cRWmrBSFEAt45XcXDyDQoAAAAASUVORK5CYII=);background-size:contain;width:34px;aspect-ratio:1/1;padding:4px;display:flex;justify-content:center;align-items:center;cursor:pointer}._Button_ndgvq_70 img{object-fit:scale-down;width:24px}._RadioIcon_ndgvq_86{width:28px;aspect-ratio:1/1;padding:0;display:flex;justify-content:center;align-items:center;cursor:pointer;box-sizing:border-box;transition:all .1s ease-in-out;border:0px solid rgba(0,0,0,0);background:transparent;border-radius:5px}._RadioIcon_ndgvq_86:hover{background:#6a6a6a55}._RadioIcon_ndgvq_86 img{object-fit:scale-down}._RadioIcon_ndgvq_86._RadioIconSelected_ndgvq_106{background:#6a6a6a55;border:2px solid #6a6a6a}._FollowButton_ndgvq_111{filter:brightness(1);transition:all .1s ease-in-out}._FollowButton_ndgvq_111:hover{filter:brightness(1.12)}._FollowButton_ndgvq_111:active{filter:brightness(.9);transform:scale(.98)}._RadioLink_ndgvq_123{position:relative}._RadioLink_ndgvq_123 ._LinkOverlay_ndgvq_126{opacity:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;position:absolute;z-index:4;background-color:#5a5a5acc;border-radius:6px;transition:all .2s ease-in-out}._RadioLink_ndgvq_123 ._LinkOverlay_ndgvq_126 img{z-index:5}._RadioLink_ndgvq_123 ._LinkOverlay_ndgvq_126>*{width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}._RadioLink_ndgvq_123 ._LinkOverlay_ndgvq_126:hover{opacity:1}._RadioLink_ndgvq_123 ._LinkOverlay_ndgvq_126:hover>*{pointer-events:auto}._RadioLink_ndgvq_123>img{object-fit:scale-down;z-index:3}._RadioLink_ndgvq_123 ._Filter_ndgvq_160{width:100%;height:100%;position:absolute;z-index:2;opacity:.2;border-radius:6px}._RadioLink_ndgvq_123 ._HabbonceFilter_ndgvq_168{background:#7121af}._RadioLink_ndgvq_123 ._DreamsFilter_ndgvq_171{background:#f847e8}._RadioLink_ndgvq_123 ._RhFilter_ndgvq_174{background:#19bae2}._RadioLink_ndgvq_123 ._BubletFilter_ndgvq_177{background:#ffc941}._Handler_ndgvq_181{pointer-events:all;display:flex;height:103px;flex-direction:column;align-items:center;justify-content:center;transition-duration:.2s;margin-top:5px;background-color:#2e2e2e97;cursor:pointer;z-index:70;border-top-right-radius:4px;border-bottom-right-radius:4px}._Handler_ndgvq_181:hover{background-color:#2e2e2eaa}._Spin_ndgvq_195{animation:_spin_ndgvq_1 1s linear infinite;animation-duration:7s}@keyframes _spin_ndgvq_1{to{transform:rotate(360deg)}}._SpinFast_ndgvq_200{animation:_spin_ndgvq_1 1s linear infinite;animation-duration:1s}._Disabled_ndgvq_205{pointer-events:none;opacity:.5;cursor:not-allowed}._HiddenUp_ndgvq_211{opacity:1;transform:translateY(0);transition:all .2s ease-in-out;margin-bottom:2px}._HiddenUp_ndgvq_211._Hidden_ndgvq_211{height:0!important;margin-bottom:0;opacity:0;transform:translateY(-100%)}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}._container_n7wls_1{width:100%}@media (min-width: 640px){._container_n7wls_1{max-width:640px}}@media (min-width: 768px){._container_n7wls_1{max-width:768px}}@media (min-width: 1024px){._container_n7wls_1{max-width:1024px}}@media (min-width: 1280px){._container_n7wls_1{max-width:1280px}}@media (min-width: 1536px){._container_n7wls_1{max-width:1536px}}._pointer-events-none_n7wls_1{pointer-events:none}._visible_n7wls_1{visibility:visible}._absolute_n7wls_1{position:absolute}._relative_n7wls_1{position:relative}._end-0_n7wls_1{inset-inline-end:0px}._mx-auto_n7wls_1{margin-left:auto;margin-right:auto}._ms-1_n7wls_1{margin-inline-start:.25rem}._flex_n7wls_1{display:flex}._hidden_n7wls_1{display:none}._h-full_n7wls_1{height:100%}._w-full_n7wls_1{width:100%}._max-w-full_n7wls_1{max-width:100%}._flex-shrink-0_n7wls_1{flex-shrink:0}._cursor-pointer_n7wls_1{cursor:pointer}._select-none_n7wls_1{-webkit-user-select:none;user-select:none}._flex-col_n7wls_1{flex-direction:column}._gap-1_n7wls_1{gap:.25rem}._gap-2_n7wls_1{gap:.5rem}._overflow-auto_n7wls_1{overflow:auto}._overflow-hidden_n7wls_1{overflow:hidden}._border_n7wls_1{border-width:1px}._p-0_n7wls_1{padding:0}._italic_n7wls_1{font-style:italic}._text-black_n7wls_1{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1))}._outline_n7wls_1{outline-style:solid}._filter_n7wls_1{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.ReactCollapse--collapse{transition:height .3s;width:inherit;height:inherit;padding-left:1.25rem;font-size:.9em;font-style:italic;border-radius:.5rem;background-color:#0000000d;background-origin:content-box}.mantine-Switch-label{padding-left:8px!important}.chat-input{color:#1a1a1a}body{--mantine-color-body: #000;--track-bg: #505050}._Container_n7wls_25{position:relative;pointer-events:all;width:450px;height:65px;border-radius:5px;overflow:hidden;background-color:#2e2e2ee6;color:#fff}._Container_n7wls_25>*{height:100%}._Progress_n7wls_39{position:absolute;top:0;left:0;z-index:20;width:100%;opacity:.7}._Center_n7wls_43{flex-grow:1;font-weight:700;max-width:100%;text-wrap:wrap!important;text-align:center;white-space:break-word;max-width:330px;padding:0 10px;position:relative;display:flex;align-items:center;justify-content:center;font-size:13px;overflow:hidden;word-break:break-all}._Center_n7wls_43>p{width:100%;text-wrap:wrap!important;z-index:1;overflow:hidden;word-break:break-all}._VoteButton_n7wls_65{z-index:10;display:flex;width:60px;flex-direction:column;align-items:center;justify-content:center;gap:0px;cursor:pointer;transition:all .1s ease-in-out}._VoteButton_n7wls_65:not(._DidVote_n7wls_70):hover{filter:brightness(1.1)}._VoteButton_n7wls_65:not(._DidVote_n7wls_70):active{filter:brightness(.9)}._VoteButton_n7wls_65._DidVote_n7wls_70{cursor:default}._VoteButton_n7wls_65 ._VoteCount_n7wls_79{font-size:.8rem;font-weight:900}._Green_n7wls_84{background-color:#20bf6baa}._Red_n7wls_88{background-color:#eb3b5acc}._Symbol_n7wls_92,._Dislike_n7wls_92,._Like_n7wls_92{width:35px;height:35px;background-repeat:no-repeat;background-position:center}._Like_n7wls_92{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAiCAYAAACnSgJKAAAAAXNSR0IArs4c6QAAAOFJREFUWEftlmsSgyAMhMmZ2vufoJ4pnTjaiZjwiAk4U/2L4duFJQDJ+CEi7qUAAJZpTEUcTNCpcKsAF+fT4RYBbs6nw3sFmJynlF6I+JGOV0/y3eE97q1wYqjuWwWEwVsErPC8Y1lapVZTygBEgrkgScT/wE8XUi21XvtPyy7Cc4DWQK4I0eChaecPjpPzkWl/4L+teNJ+5Ri11N7vqEXfasVzvg0WHwYty1r7R112SjwvHtpeR7gvOV/5ka323vCIbgcA721bF+k+51k7BK+W4M7xJQ+29HT2FkDQ/TvM/QWBkMtB6y+LsgAAAABJRU5ErkJggg==)}._Dislike_n7wls_92{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAiCAYAAACnSgJKAAAAAXNSR0IArs4c6QAAAPBJREFUWEftlmEShCAIheVMu/c/wXYmGhxtDMWIlJrZ+ldpHw8eJAR2ISLyZ1fuAQDyfv7t7QUtGA0ug6YgXnjOyC7tIYRPSv/vSp1be7tpn1lvCkaEzwa/cKnVotGKYeBnuNtq7gEWDfe/cJpqiDjcYHzKSUNm53T38epR96ZyD/Aj3J7/mtsv1VN5BZ/tdgD4JqVL1QE8mjOHiKMWLcD02SacXlTtpgmiB+8plo5RGmZc0/OKBhw7QE1jCyW4FmyGK1RX9W0eKi3KD1SrwMOVp5T7w8+Chyq/DW4Bm5XzkewOZ12iNlm5zzxk2Eg2wVdxKtZB3CvaPgAAAABJRU5ErkJggg==)}._Overlay_n7wls_107,._RedOverlay_n7wls_107,._GreenOverlay_n7wls_107{pointer-events:none;position:absolute;top:0;z-index:0;height:100%;opacity:.5;transition:all .5s ease-out}._GreenOverlay_n7wls_107{right:0;background:#218c74}._RedOverlay_n7wls_107{left:0;background:#b33939}._Buy_g59tb_1,._BuyContainer_g59tb_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}._BuyContainer_g59tb_1{flex-direction:row;width:fit-content;justify-content:flex-end;gap:2px}._Buy_g59tb_1{border-top-right-radius:.5rem;border-bottom-right-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(250 204 21 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:none;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}._Buy_g59tb_1:hover{--tw-bg-opacity: 1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}._Buy_g59tb_1{height:28px;width:1.5rem}._SettingCommon_svxh6_1{height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;flex-direction:row;height:fit-content;align-items:center;justify-content:space-between;padding:.25rem .5rem;border-bottom-width:.5px;border-color:rgb(255 255 255 / var(--tw-border-opacity, 1));--tw-border-opacity: .05;transition-duration:.2s}._SettingCommon_svxh6_1:hover{background-color:#0000001a}._SettingCommon_svxh6_1{border-radius:.5rem}._CaretIcon_svxh6_19{transition-duration:.2s}._CaretIconRotated_svxh6_23{--tw-rotate: -180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._InputNumber_svxh6_27{width:6rem}._InputText_svxh6_31{width:13rem}._SubSetting_svxh6_35{background-color:#0000001a}._SwitchTrackOff_svxh6_39{background-color:#2d2d2d;border-color:#fff5}._Switch_svxh6_39{width:100%!important}._Switch_svxh6_39 .mantine-Switch-track,._Switch_svxh6_39 .mantine-Switch-thumb{display:none}._Switch_svxh6_39 .mantine-Switch-input{--handleoffset: .5rem !important;height:1rem!important;width:1.5rem!important}._Switch_svxh6_39 .mantine-Switch-root,._Switch_svxh6_39 .mantine-Switch-body,._Switch_svxh6_39 .mantine-Switch-labelWrapper,._Switch_svxh6_39 .mantine-Switch-label{width:100%!important}._Switch_svxh6_39 .mantine-Switch-labelWrapper{justify-content:center}._Switch_svxh6_39 .mantine-Switch-label{padding-inline-start:6px}._TextInput_svxh6_66,._TextInput_svxh6_66 .mantine-Switch-root,._TextInput_svxh6_66 .mantine-Switch-body,._TextInput_svxh6_66 .mantine-Switch-labelWrapper,._TextInput_svxh6_66 .mantine-Switch-label{width:100%!important}._TextInput_svxh6_66 .mantine-Switch-label{padding-inline-start:6px}._NumberInput_svxh6_76,._NumberInput_svxh6_76 .mantine-Switch-root,._NumberInput_svxh6_76 .mantine-Switch-body,._NumberInput_svxh6_76 .mantine-Switch-labelWrapper,._NumberInput_svxh6_76 .mantine-Switch-label{width:100%!important}._NumberInput_svxh6_76 .mantine-Switch-label{padding-inline-start:6px}._Horizontal_4og4d_1,._Vertical_4og4d_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}._Vertical_4og4d_1{flex-direction:row}._Vertical_4og4d_1,._Horizontal_4og4d_1{transition-duration:.2s;background-color:#2e2e2e97;cursor:pointer;z-index:70}._Vertical_4og4d_1:hover,._Horizontal_4og4d_1:hover{background-color:#2e2e2eaa}._Horizontal_4og4d_1._isClosed_4og4d_20,._Horizontal_4og4d_1._Rounded_4og4d_20{border-top-right-radius:4px;border-bottom-right-radius:4px}._Horizontal_4og4d_1._isClosed_4og4d_20._Right_4og4d_23,._Horizontal_4og4d_1._Rounded_4og4d_20._Right_4og4d_23{border-radius:4px 0 0 4px/4px 0px 0px 4px}._Vertical_4og4d_1{padding-left:4px;padding-right:4px}._Vertical_4og4d_1._isClosed_4og4d_20,._Vertical_4og4d_1._Rounded_4og4d_20{border-bottom-right-radius:4px;border-bottom-left-radius:4px}._Vertical_4og4d_1._isClosed_4og4d_20._Bottom_4og4d_33,._Vertical_4og4d_1._Rounded_4og4d_20._Bottom_4og4d_33{border-radius:4px 4px 0 0/4px 4px 0px 0px}._ColorPicker_lp19u_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}._ColorPicker_lp19u_1 .mantine-ColorInput-eyeDropperIcon{color:#000}._CopyPasteWiredComponent_csqt7_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;flex-direction:row;justify-content:flex-start;gap:.5rem}._Icon_csqt7_14{--tw-text-opacity: 1;color:rgb(233 233 225 / var(--tw-text-opacity, 1));display:flex;align-items:center;justify-content:center;border-radius:.5rem;background-color:#ffffff0d;pointer-events:auto;cursor:pointer;transition-duration:.15s}._Icon_csqt7_14:hover{--tw-brightness: brightness(.9);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}._Icon_csqt7_14:active{--tw-scale-x: .9;--tw-scale-y: .9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._IconSourceSelect_1ortx_1,._Row_1ortx_1,._SwitchContainer_1ortx_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}._Row_1ortx_1,._SwitchContainer_1ortx_1{flex-direction:row}._IconSourceSelect_1ortx_1{gap:.125rem;position:relative}._Row_1ortx_1{gap:.5rem}._Icon_1ortx_1{display:flex;align-items:center;justify-content:center;background-color:#0000000d;border-radius:.5rem;padding:.25rem;color:#1e7295cc;cursor:pointer;transition-duration:.2s;box-sizing:border-box;border-width:2px;border-style:solid;border-color:transparent;transition-property:background-color,color,transform}._Icon_1ortx_1:hover{background-color:#0000001a}._Icon_1ortx_1:active{background-color:#0000001a;--tw-scale-x: .9;--tw-scale-y: .9;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._Icon_1ortx_1._Active_1ortx_37{--tw-border-opacity: 1;border-color:rgb(30 114 149 / var(--tw-border-opacity, 1));background-color:#0000001a;--tw-text-opacity: 1;color:rgb(30 114 149 / var(--tw-text-opacity, 1))}._Text_1ortx_42{font-size:13px;--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity, 1));font-weight:400;min-height:14px}._SwitchContainer_1ortx_1{justify-content:flex-end;height:1rem;position:absolute;top:-1rem}._Switch_1ortx_1{display:flex;align-items:center;justify-content:center;gap:0px;overflow:hidden;border-radius:.5rem}._SwitchButton_1ortx_61{display:flex;align-items:center;justify-content:center;height:1rem;width:1.25rem;color:#ffffffb3;--tw-bg-opacity: 1;background-color:rgb(182 190 197 / var(--tw-bg-opacity, 1))}._SwitchButton_1ortx_61._Active_1ortx_37{--tw-bg-opacity: 1;background-color:rgb(30 114 149 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(233 233 225 / var(--tw-text-opacity, 1))}._ListToGridSwitch_g6hrx_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;flex-direction:row;justify-content:flex-start;border-radius:1rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(96 165 250 / var(--tw-border-opacity, 1))}._Grid_g6hrx_14,._List_g6hrx_1{display:flex;height:1rem;width:1.5rem;cursor:pointer;align-items:center;justify-content:center;border-radius:1rem;--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}._Grid_g6hrx_14:hover,._List_g6hrx_1:hover{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}._Active_g6hrx_18{--tw-bg-opacity: 1;background-color:rgb(30 114 149 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}._Active_g6hrx_18:hover{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}._NeighbourhoodCoreDuoCanvas_dhb5a_1{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;width:100%;aspect-ratio:276/141}._RefreshFriendRoomListButton_zx7vh_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;aspect-ratio:1 / 1;width:fit-content;cursor:pointer;overflow:hidden;border-radius:.375rem;transition-duration:.2s}._RefreshFriendRoomListButton_zx7vh_1:active{--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._RefreshFriendRoomListButton_zx7vh_1{pointer-events:all}@keyframes _spin_zx7vh_1{to{transform:rotate(360deg)}}._Spinning_zx7vh_11{animation:_spin_zx7vh_1 1s linear infinite}._PointerNone_zx7vh_15{pointer-events:none}._BasicSettings_1juqq_1{height:100%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column!important}@container app (min-width: 32rem){._BasicSettings_1juqq_1{flex-wrap:wrap}}._BasicSettings_1juqq_1{height:100%;gap:.5rem;justify-content:flex-start}._Section_17oyk_1,._Content_17oyk_1,._Title_17oyk_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}._Title_17oyk_1{flex-direction:row}._Section_17oyk_1{height:fit-content;width:100%;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(60 60 60 / var(--tw-bg-opacity, 1));padding:.5rem .25rem}@container app (min-width: 32rem){._Section_17oyk_1{max-width:49%}}@container app (min-width: 50rem){._Section_17oyk_1{max-width:32%}}._Title_17oyk_1{font-size:.85rem;opacity:.5}._GroupedSettings_1bjf9_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}._CaretIcon_1bjf9_6{transition-duration:.2s}._CaretIconRotated_1bjf9_10{--tw-rotate: -180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._OpenCollapsedSettingsHandler_kkzoi_1,._IconContainer_kkzoi_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}._IconContainer_kkzoi_1{flex-direction:row}._OpenCollapsedSettingsHandler_kkzoi_1{width:fit-content}._IconContainer_kkzoi_1{height:1.5rem;width:1.5rem;cursor:pointer;border-radius:.375rem;transition-duration:.2s}._IconContainer_kkzoi_1:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));background-color:#0000001a}._CaretIcon_kkzoi_19{transition-duration:.2s}._CaretIconRotated_kkzoi_23{--tw-rotate: -180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}._RenderingSettings_56l16_1{height:100%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column!important}@container app (min-width: 32rem){._RenderingSettings_56l16_1{flex-wrap:wrap}}._RenderingSettings_56l16_1{height:100%;gap:.5rem;justify-content:flex-start}._InventorySearchShortcuts_1s2sv_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}._UiChangesSettings_5qufg_1{height:100%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column!important}@container app (min-width: 32rem){._UiChangesSettings_5qufg_1{flex-wrap:wrap}}._UiChangesSettings_5qufg_1{height:100%;gap:.5rem;justify-content:flex-start}._ExperimentalSettings_e46xq_1{height:100%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column!important}@container app (min-width: 32rem){._ExperimentalSettings_e46xq_1{flex-wrap:wrap}}._ExperimentalSettings_e46xq_1{height:100%;gap:.5rem;justify-content:flex-start}._ConsolePane_qpr2g_1{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}',{})})();
var $3=Object.defineProperty;var H3=(LI,QI,EO)=>QI in LI?$3(LI,QI,{enumerable:!0,configurable:!0,writable:!0,value:EO}):LI[QI]=EO;var dE=(LI,QI,EO)=>H3(LI,typeof QI!="symbol"?QI+"":QI,EO);(function(){"use strict";var nM,aM,IO,KD;function _mergeNamespaces(ie,ee){for(var te=0;te<ee.length;te++){const se=ee[te];if(typeof se!="string"&&!Array.isArray(se)){for(const ne in se)if(ne!=="default"&&!(ne in ie)){const le=Object.getOwnPropertyDescriptor(se,ne);le&&Object.defineProperty(ie,ne,le.get?le:{enumerable:!0,get:()=>se[ne]})}}}return Object.freeze(Object.defineProperty(ie,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ie){return ie&&ie.__esModule&&Object.prototype.hasOwnProperty.call(ie,"default")?ie.default:ie}function getAugmentedNamespace(ie){if(ie.__esModule)return ie;var ee=ie.default;if(typeof ee=="function"){var te=function se(){return this instanceof se?Reflect.construct(ee,arguments,this.constructor):ee.apply(this,arguments)};te.prototype=ee.prototype}else te={};return Object.defineProperty(te,"__esModule",{value:!0}),Object.keys(ie).forEach(function(se){var ne=Object.getOwnPropertyDescriptor(ie,se);Object.defineProperty(te,se,ne.get?ne:{enumerable:!0,get:function(){return ie[se]}})}),te}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var ie=Symbol.for("react.element"),ee=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),ue=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),de=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),fe=Symbol.iterator;function ye(md){return md===null||typeof md!="object"?null:(md=fe&&md[fe]||md["@@iterator"],typeof md=="function"?md:null)}var be={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pe=Object.assign,Ne={};function we(md,eE,hE){this.props=md,this.context=eE,this.refs=Ne,this.updater=hE||be}we.prototype.isReactComponent={},we.prototype.setState=function(md,eE){if(typeof md!="object"&&typeof md!="function"&&md!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,md,eE,"setState")},we.prototype.forceUpdate=function(md){this.updater.enqueueForceUpdate(this,md,"forceUpdate")};function De(){}De.prototype=we.prototype;function $e(md,eE,hE){this.props=md,this.context=eE,this.refs=Ne,this.updater=hE||be}var Ge=$e.prototype=new De;Ge.constructor=$e,Pe(Ge,we.prototype),Ge.isPureReactComponent=!0;var Be=Array.isArray,ze=Object.prototype.hasOwnProperty,$t={current:null},ut={key:!0,ref:!0,__self:!0,__source:!0};function Ti(md,eE,hE){var mE,fE={},yE=null,AE=null;if(eE!=null)for(mE in eE.ref!==void 0&&(AE=eE.ref),eE.key!==void 0&&(yE=""+eE.key),eE)ze.call(eE,mE)&&!ut.hasOwnProperty(mE)&&(fE[mE]=eE[mE]);var bE=arguments.length-2;if(bE===1)fE.children=hE;else if(1<bE){for(var ME=Array(bE),SE=0;SE<bE;SE++)ME[SE]=arguments[SE+2];fE.children=ME}if(md&&md.defaultProps)for(mE in bE=md.defaultProps,bE)fE[mE]===void 0&&(fE[mE]=bE[mE]);return{$$typeof:ie,type:md,key:yE,ref:AE,props:fE,_owner:$t.current}}function Hi(md,eE){return{$$typeof:ie,type:md.type,key:eE,ref:md.ref,props:md.props,_owner:md._owner}}function bn(md){return typeof md=="object"&&md!==null&&md.$$typeof===ie}function gd(md){var eE={"=":"=0",":":"=2"};return"$"+md.replace(/[=:]/g,function(hE){return eE[hE]})}var Pm=/\/+/g;function oE(md,eE){return typeof md=="object"&&md!==null&&md.key!=null?gd(""+md.key):eE.toString(36)}function aE(md,eE,hE,mE,fE){var yE=typeof md;(yE==="undefined"||yE==="boolean")&&(md=null);var AE=!1;if(md===null)AE=!0;else switch(yE){case"string":case"number":AE=!0;break;case"object":switch(md.$$typeof){case ie:case ee:AE=!0}}if(AE)return AE=md,fE=fE(AE),md=mE===""?"."+oE(AE,0):mE,Be(fE)?(hE="",md!=null&&(hE=md.replace(Pm,"$&/")+"/"),aE(fE,eE,hE,"",function(SE){return SE})):fE!=null&&(bn(fE)&&(fE=Hi(fE,hE+(!fE.key||AE&&AE.key===fE.key?"":(""+fE.key).replace(Pm,"$&/")+"/")+md)),eE.push(fE)),1;if(AE=0,mE=mE===""?".":mE+":",Be(md))for(var bE=0;bE<md.length;bE++){yE=md[bE];var ME=mE+oE(yE,bE);AE+=aE(yE,eE,hE,ME,fE)}else if(ME=ye(md),typeof ME=="function")for(md=ME.call(md),bE=0;!(yE=md.next()).done;)yE=yE.value,ME=mE+oE(yE,bE++),AE+=aE(yE,eE,hE,ME,fE);else if(yE==="object")throw eE=String(md),Error("Objects are not valid as a React child (found: "+(eE==="[object Object]"?"object with keys {"+Object.keys(md).join(", ")+"}":eE)+"). If you meant to render a collection of children, use an array instead.");return AE}function nE(md,eE,hE){if(md==null)return md;var mE=[],fE=0;return aE(md,mE,"","",function(yE){return eE.call(hE,yE,fE++)}),mE}function On(md){if(md._status===-1){var eE=md._result;eE=eE(),eE.then(function(hE){(md._status===0||md._status===-1)&&(md._status=1,md._result=hE)},function(hE){(md._status===0||md._status===-1)&&(md._status=2,md._result=hE)}),md._status===-1&&(md._status=0,md._result=eE)}if(md._status===1)return md._result.default;throw md._result}var nh={current:null},Hn={transition:null},Xp={ReactCurrentDispatcher:nh,ReactCurrentBatchConfig:Hn,ReactCurrentOwner:$t};function Jp(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:nE,forEach:function(md,eE,hE){nE(md,function(){eE.apply(this,arguments)},hE)},count:function(md){var eE=0;return nE(md,function(){eE++}),eE},toArray:function(md){return nE(md,function(eE){return eE})||[]},only:function(md){if(!bn(md))throw Error("React.Children.only expected to receive a single React element child.");return md}},react_production_min.Component=we,react_production_min.Fragment=te,react_production_min.Profiler=ne,react_production_min.PureComponent=$e,react_production_min.StrictMode=se,react_production_min.Suspense=he,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xp,react_production_min.act=Jp,react_production_min.cloneElement=function(md,eE,hE){if(md==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+md+".");var mE=Pe({},md.props),fE=md.key,yE=md.ref,AE=md._owner;if(eE!=null){if(eE.ref!==void 0&&(yE=eE.ref,AE=$t.current),eE.key!==void 0&&(fE=""+eE.key),md.type&&md.type.defaultProps)var bE=md.type.defaultProps;for(ME in eE)ze.call(eE,ME)&&!ut.hasOwnProperty(ME)&&(mE[ME]=eE[ME]===void 0&&bE!==void 0?bE[ME]:eE[ME])}var ME=arguments.length-2;if(ME===1)mE.children=hE;else if(1<ME){bE=Array(ME);for(var SE=0;SE<ME;SE++)bE[SE]=arguments[SE+2];mE.children=bE}return{$$typeof:ie,type:md.type,key:fE,ref:yE,props:mE,_owner:AE}},react_production_min.createContext=function(md){return md={$$typeof:ue,_currentValue:md,_currentValue2:md,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},md.Provider={$$typeof:le,_context:md},md.Consumer=md},react_production_min.createElement=Ti,react_production_min.createFactory=function(md){var eE=Ti.bind(null,md);return eE.type=md,eE},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(md){return{$$typeof:ce,render:md}},react_production_min.isValidElement=bn,react_production_min.lazy=function(md){return{$$typeof:_e,_payload:{_status:-1,_result:md},_init:On}},react_production_min.memo=function(md,eE){return{$$typeof:de,type:md,compare:eE===void 0?null:eE}},react_production_min.startTransition=function(md){var eE=Hn.transition;Hn.transition={};try{md()}finally{Hn.transition=eE}},react_production_min.unstable_act=Jp,react_production_min.useCallback=function(md,eE){return nh.current.useCallback(md,eE)},react_production_min.useContext=function(md){return nh.current.useContext(md)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(md){return nh.current.useDeferredValue(md)},react_production_min.useEffect=function(md,eE){return nh.current.useEffect(md,eE)},react_production_min.useId=function(){return nh.current.useId()},react_production_min.useImperativeHandle=function(md,eE,hE){return nh.current.useImperativeHandle(md,eE,hE)},react_production_min.useInsertionEffect=function(md,eE){return nh.current.useInsertionEffect(md,eE)},react_production_min.useLayoutEffect=function(md,eE){return nh.current.useLayoutEffect(md,eE)},react_production_min.useMemo=function(md,eE){return nh.current.useMemo(md,eE)},react_production_min.useReducer=function(md,eE,hE){return nh.current.useReducer(md,eE,hE)},react_production_min.useRef=function(md){return nh.current.useRef(md)},react_production_min.useState=function(md){return nh.current.useState(md)},react_production_min.useSyncExternalStore=function(md,eE,hE){return nh.current.useSyncExternalStore(md,eE,hE)},react_production_min.useTransition=function(){return nh.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var ie=requireReact(),ee=Symbol.for("react.element"),te=Symbol.for("react.fragment"),se=Object.prototype.hasOwnProperty,ne=ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,le={key:!0,ref:!0,__self:!0,__source:!0};function ue(ce,he,de){var _e,fe={},ye=null,be=null;de!==void 0&&(ye=""+de),he.key!==void 0&&(ye=""+he.key),he.ref!==void 0&&(be=he.ref);for(_e in he)se.call(he,_e)&&!le.hasOwnProperty(_e)&&(fe[_e]=he[_e]);if(ce&&ce.defaultProps)for(_e in he=ce.defaultProps,he)fe[_e]===void 0&&(fe[_e]=he[_e]);return{$$typeof:ee,type:ce,key:ye,ref:be,props:fe,_owner:ne.current}}return reactJsxRuntime_production_min.Fragment=te,reactJsxRuntime_production_min.jsx=ue,reactJsxRuntime_production_min.jsxs=ue,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime();function r$6(ie){var ee,te,se="";if(typeof ie=="string"||typeof ie=="number")se+=ie;else if(typeof ie=="object")if(Array.isArray(ie)){var ne=ie.length;for(ee=0;ee<ne;ee++)ie[ee]&&(te=r$6(ie[ee]))&&(se&&(se+=" "),se+=te)}else for(te in ie)ie[te]&&(se&&(se+=" "),se+=te);return se}function clsx(){for(var ie,ee,te=0,se="",ne=arguments.length;te<ne;te++)(ie=arguments[te])&&(ee=r$6(ie))&&(se&&(se+=" "),se+=ee);return se}const App$1="_App_1lcm7_1",styles$k={App:App$1},MiddleContent$1="_MiddleContent_1aop2_1",styles$j={MiddleContent:MiddleContent$1},SettingsPane$1="_SettingsPane_kwkwz_1",Tab="_Tab_kwkwz_10",TabRoot="_TabRoot_kwkwz_24",TabList="_TabList_kwkwz_28",TabPanel="_TabPanel_kwkwz_32",Disabled="_Disabled_kwkwz_37",styles$i={SettingsPane:SettingsPane$1,Tab,TabRoot,TabList,TabPanel,Disabled};var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(ie){function ee(Hn,Xp){var Jp=Hn.length;Hn.push(Xp);e:for(;0<Jp;){var md=Jp-1>>>1,eE=Hn[md];if(0<ne(eE,Xp))Hn[md]=Xp,Hn[Jp]=eE,Jp=md;else break e}}function te(Hn){return Hn.length===0?null:Hn[0]}function se(Hn){if(Hn.length===0)return null;var Xp=Hn[0],Jp=Hn.pop();if(Jp!==Xp){Hn[0]=Jp;e:for(var md=0,eE=Hn.length,hE=eE>>>1;md<hE;){var mE=2*(md+1)-1,fE=Hn[mE],yE=mE+1,AE=Hn[yE];if(0>ne(fE,Jp))yE<eE&&0>ne(AE,fE)?(Hn[md]=AE,Hn[yE]=Jp,md=yE):(Hn[md]=fE,Hn[mE]=Jp,md=mE);else if(yE<eE&&0>ne(AE,Jp))Hn[md]=AE,Hn[yE]=Jp,md=yE;else break e}}return Xp}function ne(Hn,Xp){var Jp=Hn.sortIndex-Xp.sortIndex;return Jp!==0?Jp:Hn.id-Xp.id}if(typeof performance=="object"&&typeof performance.now=="function"){var le=performance;ie.unstable_now=function(){return le.now()}}else{var ue=Date,ce=ue.now();ie.unstable_now=function(){return ue.now()-ce}}var he=[],de=[],_e=1,fe=null,ye=3,be=!1,Pe=!1,Ne=!1,we=typeof setTimeout=="function"?setTimeout:null,De=typeof clearTimeout=="function"?clearTimeout:null,$e=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ge(Hn){for(var Xp=te(de);Xp!==null;){if(Xp.callback===null)se(de);else if(Xp.startTime<=Hn)se(de),Xp.sortIndex=Xp.expirationTime,ee(he,Xp);else break;Xp=te(de)}}function Be(Hn){if(Ne=!1,Ge(Hn),!Pe)if(te(he)!==null)Pe=!0,On(ze);else{var Xp=te(de);Xp!==null&&nh(Be,Xp.startTime-Hn)}}function ze(Hn,Xp){Pe=!1,Ne&&(Ne=!1,De(Ti),Ti=-1),be=!0;var Jp=ye;try{for(Ge(Xp),fe=te(he);fe!==null&&(!(fe.expirationTime>Xp)||Hn&&!gd());){var md=fe.callback;if(typeof md=="function"){fe.callback=null,ye=fe.priorityLevel;var eE=md(fe.expirationTime<=Xp);Xp=ie.unstable_now(),typeof eE=="function"?fe.callback=eE:fe===te(he)&&se(he),Ge(Xp)}else se(he);fe=te(he)}if(fe!==null)var hE=!0;else{var mE=te(de);mE!==null&&nh(Be,mE.startTime-Xp),hE=!1}return hE}finally{fe=null,ye=Jp,be=!1}}var $t=!1,ut=null,Ti=-1,Hi=5,bn=-1;function gd(){return!(ie.unstable_now()-bn<Hi)}function Pm(){if(ut!==null){var Hn=ie.unstable_now();bn=Hn;var Xp=!0;try{Xp=ut(!0,Hn)}finally{Xp?oE():($t=!1,ut=null)}}else $t=!1}var oE;if(typeof $e=="function")oE=function(){$e(Pm)};else if(typeof MessageChannel<"u"){var aE=new MessageChannel,nE=aE.port2;aE.port1.onmessage=Pm,oE=function(){nE.postMessage(null)}}else oE=function(){we(Pm,0)};function On(Hn){ut=Hn,$t||($t=!0,oE())}function nh(Hn,Xp){Ti=we(function(){Hn(ie.unstable_now())},Xp)}ie.unstable_IdlePriority=5,ie.unstable_ImmediatePriority=1,ie.unstable_LowPriority=4,ie.unstable_NormalPriority=3,ie.unstable_Profiling=null,ie.unstable_UserBlockingPriority=2,ie.unstable_cancelCallback=function(Hn){Hn.callback=null},ie.unstable_continueExecution=function(){Pe||be||(Pe=!0,On(ze))},ie.unstable_forceFrameRate=function(Hn){0>Hn||125<Hn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Hi=0<Hn?Math.floor(1e3/Hn):5},ie.unstable_getCurrentPriorityLevel=function(){return ye},ie.unstable_getFirstCallbackNode=function(){return te(he)},ie.unstable_next=function(Hn){switch(ye){case 1:case 2:case 3:var Xp=3;break;default:Xp=ye}var Jp=ye;ye=Xp;try{return Hn()}finally{ye=Jp}},ie.unstable_pauseExecution=function(){},ie.unstable_requestPaint=function(){},ie.unstable_runWithPriority=function(Hn,Xp){switch(Hn){case 1:case 2:case 3:case 4:case 5:break;default:Hn=3}var Jp=ye;ye=Hn;try{return Xp()}finally{ye=Jp}},ie.unstable_scheduleCallback=function(Hn,Xp,Jp){var md=ie.unstable_now();switch(typeof Jp=="object"&&Jp!==null?(Jp=Jp.delay,Jp=typeof Jp=="number"&&0<Jp?md+Jp:md):Jp=md,Hn){case 1:var eE=-1;break;case 2:eE=250;break;case 5:eE=1073741823;break;case 4:eE=1e4;break;default:eE=5e3}return eE=Jp+eE,Hn={id:_e++,callback:Xp,priorityLevel:Hn,startTime:Jp,expirationTime:eE,sortIndex:-1},Jp>md?(Hn.sortIndex=Jp,ee(de,Hn),te(he)===null&&Hn===te(de)&&(Ne?(De(Ti),Ti=-1):Ne=!0,nh(Be,Jp-md))):(Hn.sortIndex=eE,ee(he,Hn),Pe||be||(Pe=!0,On(ze))),Hn},ie.unstable_shouldYield=gd,ie.unstable_wrapCallback=function(Hn){var Xp=ye;return function(){var Jp=ye;ye=Xp;try{return Hn.apply(this,arguments)}finally{ye=Jp}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var ie=requireReact(),ee=requireScheduler();function te(Se){for(var Ie="https://reactjs.org/docs/error-decoder.html?invariant="+Se,Fe=1;Fe<arguments.length;Fe++)Ie+="&args[]="+encodeURIComponent(arguments[Fe]);return"Minified React error #"+Se+"; visit "+Ie+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var se=new Set,ne={};function le(Se,Ie){ue(Se,Ie),ue(Se+"Capture",Ie)}function ue(Se,Ie){for(ne[Se]=Ie,Se=0;Se<Ie.length;Se++)se.add(Ie[Se])}var ce=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),he=Object.prototype.hasOwnProperty,de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_e={},fe={};function ye(Se){return he.call(fe,Se)?!0:he.call(_e,Se)?!1:de.test(Se)?fe[Se]=!0:(_e[Se]=!0,!1)}function be(Se,Ie,Fe,Ot){if(Fe!==null&&Fe.type===0)return!1;switch(typeof Ie){case"function":case"symbol":return!0;case"boolean":return Ot?!1:Fe!==null?!Fe.acceptsBooleans:(Se=Se.toLowerCase().slice(0,5),Se!=="data-"&&Se!=="aria-");default:return!1}}function Pe(Se,Ie,Fe,Ot){if(Ie===null||typeof Ie>"u"||be(Se,Ie,Fe,Ot))return!0;if(Ot)return!1;if(Fe!==null)switch(Fe.type){case 3:return!Ie;case 4:return Ie===!1;case 5:return isNaN(Ie);case 6:return isNaN(Ie)||1>Ie}return!1}function Ne(Se,Ie,Fe,Ot,gn,th,lE){this.acceptsBooleans=Ie===2||Ie===3||Ie===4,this.attributeName=Ot,this.attributeNamespace=gn,this.mustUseProperty=Fe,this.propertyName=Se,this.type=Ie,this.sanitizeURL=th,this.removeEmptyString=lE}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(Se){we[Se]=new Ne(Se,0,!1,Se,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(Se){var Ie=Se[0];we[Ie]=new Ne(Ie,1,!1,Se[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(Se){we[Se]=new Ne(Se,2,!1,Se.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(Se){we[Se]=new Ne(Se,2,!1,Se,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(Se){we[Se]=new Ne(Se,3,!1,Se.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(Se){we[Se]=new Ne(Se,3,!0,Se,null,!1,!1)}),["capture","download"].forEach(function(Se){we[Se]=new Ne(Se,4,!1,Se,null,!1,!1)}),["cols","rows","size","span"].forEach(function(Se){we[Se]=new Ne(Se,6,!1,Se,null,!1,!1)}),["rowSpan","start"].forEach(function(Se){we[Se]=new Ne(Se,5,!1,Se.toLowerCase(),null,!1,!1)});var De=/[\-:]([a-z])/g;function $e(Se){return Se[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(Se){var Ie=Se.replace(De,$e);we[Ie]=new Ne(Ie,1,!1,Se,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(Se){var Ie=Se.replace(De,$e);we[Ie]=new Ne(Ie,1,!1,Se,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(Se){var Ie=Se.replace(De,$e);we[Ie]=new Ne(Ie,1,!1,Se,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(Se){we[Se]=new Ne(Se,1,!1,Se.toLowerCase(),null,!1,!1)}),we.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(Se){we[Se]=new Ne(Se,1,!1,Se.toLowerCase(),null,!0,!0)});function Ge(Se,Ie,Fe,Ot){var gn=we.hasOwnProperty(Ie)?we[Ie]:null;(gn!==null?gn.type!==0:Ot||!(2<Ie.length)||Ie[0]!=="o"&&Ie[0]!=="O"||Ie[1]!=="n"&&Ie[1]!=="N")&&(Pe(Ie,Fe,gn,Ot)&&(Fe=null),Ot||gn===null?ye(Ie)&&(Fe===null?Se.removeAttribute(Ie):Se.setAttribute(Ie,""+Fe)):gn.mustUseProperty?Se[gn.propertyName]=Fe===null?gn.type===3?!1:"":Fe:(Ie=gn.attributeName,Ot=gn.attributeNamespace,Fe===null?Se.removeAttribute(Ie):(gn=gn.type,Fe=gn===3||gn===4&&Fe===!0?"":""+Fe,Ot?Se.setAttributeNS(Ot,Ie,Fe):Se.setAttribute(Ie,Fe))))}var Be=ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ze=Symbol.for("react.element"),$t=Symbol.for("react.portal"),ut=Symbol.for("react.fragment"),Ti=Symbol.for("react.strict_mode"),Hi=Symbol.for("react.profiler"),bn=Symbol.for("react.provider"),gd=Symbol.for("react.context"),Pm=Symbol.for("react.forward_ref"),oE=Symbol.for("react.suspense"),aE=Symbol.for("react.suspense_list"),nE=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),nh=Symbol.for("react.offscreen"),Hn=Symbol.iterator;function Xp(Se){return Se===null||typeof Se!="object"?null:(Se=Hn&&Se[Hn]||Se["@@iterator"],typeof Se=="function"?Se:null)}var Jp=Object.assign,md;function eE(Se){if(md===void 0)try{throw Error()}catch(Fe){var Ie=Fe.stack.trim().match(/\n( *(at )?)/);md=Ie&&Ie[1]||""}return`
`+md+Se}var hE=!1;function mE(Se,Ie){if(!Se||hE)return"";hE=!0;var Fe=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Ie)if(Ie=function(){throw Error()},Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(UE){var Ot=UE}Reflect.construct(Se,[],Ie)}else{try{Ie.call()}catch(UE){Ot=UE}Se.call(Ie.prototype)}else{try{throw Error()}catch(UE){Ot=UE}Se()}}catch(UE){if(UE&&Ot&&typeof UE.stack=="string"){for(var gn=UE.stack.split(`
`),th=Ot.stack.split(`
`),lE=gn.length-1,gE=th.length-1;1<=lE&&0<=gE&&gn[lE]!==th[gE];)gE--;for(;1<=lE&&0<=gE;lE--,gE--)if(gn[lE]!==th[gE]){if(lE!==1||gE!==1)do if(lE--,gE--,0>gE||gn[lE]!==th[gE]){var EE=`
`+gn[lE].replace(" at new "," at ");return Se.displayName&&EE.includes("<anonymous>")&&(EE=EE.replace("<anonymous>",Se.displayName)),EE}while(1<=lE&&0<=gE);break}}}finally{hE=!1,Error.prepareStackTrace=Fe}return(Se=Se?Se.displayName||Se.name:"")?eE(Se):""}function fE(Se){switch(Se.tag){case 5:return eE(Se.type);case 16:return eE("Lazy");case 13:return eE("Suspense");case 19:return eE("SuspenseList");case 0:case 2:case 15:return Se=mE(Se.type,!1),Se;case 11:return Se=mE(Se.type.render,!1),Se;case 1:return Se=mE(Se.type,!0),Se;default:return""}}function yE(Se){if(Se==null)return null;if(typeof Se=="function")return Se.displayName||Se.name||null;if(typeof Se=="string")return Se;switch(Se){case ut:return"Fragment";case $t:return"Portal";case Hi:return"Profiler";case Ti:return"StrictMode";case oE:return"Suspense";case aE:return"SuspenseList"}if(typeof Se=="object")switch(Se.$$typeof){case gd:return(Se.displayName||"Context")+".Consumer";case bn:return(Se._context.displayName||"Context")+".Provider";case Pm:var Ie=Se.render;return Se=Se.displayName,Se||(Se=Ie.displayName||Ie.name||"",Se=Se!==""?"ForwardRef("+Se+")":"ForwardRef"),Se;case nE:return Ie=Se.displayName||null,Ie!==null?Ie:yE(Se.type)||"Memo";case On:Ie=Se._payload,Se=Se._init;try{return yE(Se(Ie))}catch{}}return null}function AE(Se){var Ie=Se.type;switch(Se.tag){case 24:return"Cache";case 9:return(Ie.displayName||"Context")+".Consumer";case 10:return(Ie._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Se=Ie.render,Se=Se.displayName||Se.name||"",Ie.displayName||(Se!==""?"ForwardRef("+Se+")":"ForwardRef");case 7:return"Fragment";case 5:return Ie;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yE(Ie);case 8:return Ie===Ti?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Ie=="function")return Ie.displayName||Ie.name||null;if(typeof Ie=="string")return Ie}return null}function bE(Se){switch(typeof Se){case"boolean":case"number":case"string":case"undefined":return Se;case"object":return Se;default:return""}}function ME(Se){var Ie=Se.type;return(Se=Se.nodeName)&&Se.toLowerCase()==="input"&&(Ie==="checkbox"||Ie==="radio")}function SE(Se){var Ie=ME(Se)?"checked":"value",Fe=Object.getOwnPropertyDescriptor(Se.constructor.prototype,Ie),Ot=""+Se[Ie];if(!Se.hasOwnProperty(Ie)&&typeof Fe<"u"&&typeof Fe.get=="function"&&typeof Fe.set=="function"){var gn=Fe.get,th=Fe.set;return Object.defineProperty(Se,Ie,{configurable:!0,get:function(){return gn.call(this)},set:function(lE){Ot=""+lE,th.call(this,lE)}}),Object.defineProperty(Se,Ie,{enumerable:Fe.enumerable}),{getValue:function(){return Ot},setValue:function(lE){Ot=""+lE},stopTracking:function(){Se._valueTracker=null,delete Se[Ie]}}}}function jE(Se){Se._valueTracker||(Se._valueTracker=SE(Se))}function $E(Se){if(!Se)return!1;var Ie=Se._valueTracker;if(!Ie)return!0;var Fe=Ie.getValue(),Ot="";return Se&&(Ot=ME(Se)?Se.checked?"true":"false":Se.value),Se=Ot,Se!==Fe?(Ie.setValue(Se),!0):!1}function zE(Se){if(Se=Se||(typeof document<"u"?document:void 0),typeof Se>"u")return null;try{return Se.activeElement||Se.body}catch{return Se.body}}function YE(Se,Ie){var Fe=Ie.checked;return Jp({},Ie,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:Fe??Se._wrapperState.initialChecked})}function HE(Se,Ie){var Fe=Ie.defaultValue==null?"":Ie.defaultValue,Ot=Ie.checked!=null?Ie.checked:Ie.defaultChecked;Fe=bE(Ie.value!=null?Ie.value:Fe),Se._wrapperState={initialChecked:Ot,initialValue:Fe,controlled:Ie.type==="checkbox"||Ie.type==="radio"?Ie.checked!=null:Ie.value!=null}}function VE(Se,Ie){Ie=Ie.checked,Ie!=null&&Ge(Se,"checked",Ie,!1)}function TE(Se,Ie){VE(Se,Ie);var Fe=bE(Ie.value),Ot=Ie.type;if(Fe!=null)Ot==="number"?(Fe===0&&Se.value===""||Se.value!=Fe)&&(Se.value=""+Fe):Se.value!==""+Fe&&(Se.value=""+Fe);else if(Ot==="submit"||Ot==="reset"){Se.removeAttribute("value");return}Ie.hasOwnProperty("value")?BE(Se,Ie.type,Fe):Ie.hasOwnProperty("defaultValue")&&BE(Se,Ie.type,bE(Ie.defaultValue)),Ie.checked==null&&Ie.defaultChecked!=null&&(Se.defaultChecked=!!Ie.defaultChecked)}function xE(Se,Ie,Fe){if(Ie.hasOwnProperty("value")||Ie.hasOwnProperty("defaultValue")){var Ot=Ie.type;if(!(Ot!=="submit"&&Ot!=="reset"||Ie.value!==void 0&&Ie.value!==null))return;Ie=""+Se._wrapperState.initialValue,Fe||Ie===Se.value||(Se.value=Ie),Se.defaultValue=Ie}Fe=Se.name,Fe!==""&&(Se.name=""),Se.defaultChecked=!!Se._wrapperState.initialChecked,Fe!==""&&(Se.name=Fe)}function BE(Se,Ie,Fe){(Ie!=="number"||zE(Se.ownerDocument)!==Se)&&(Fe==null?Se.defaultValue=""+Se._wrapperState.initialValue:Se.defaultValue!==""+Fe&&(Se.defaultValue=""+Fe))}var eR=Array.isArray;function sR(Se,Ie,Fe,Ot){if(Se=Se.options,Ie){Ie={};for(var gn=0;gn<Fe.length;gn++)Ie["$"+Fe[gn]]=!0;for(Fe=0;Fe<Se.length;Fe++)gn=Ie.hasOwnProperty("$"+Se[Fe].value),Se[Fe].selected!==gn&&(Se[Fe].selected=gn),gn&&Ot&&(Se[Fe].defaultSelected=!0)}else{for(Fe=""+bE(Fe),Ie=null,gn=0;gn<Se.length;gn++){if(Se[gn].value===Fe){Se[gn].selected=!0,Ot&&(Se[gn].defaultSelected=!0);return}Ie!==null||Se[gn].disabled||(Ie=Se[gn])}Ie!==null&&(Ie.selected=!0)}}function ZE(Se,Ie){if(Ie.dangerouslySetInnerHTML!=null)throw Error(te(91));return Jp({},Ie,{value:void 0,defaultValue:void 0,children:""+Se._wrapperState.initialValue})}function vE(Se,Ie){var Fe=Ie.value;if(Fe==null){if(Fe=Ie.children,Ie=Ie.defaultValue,Fe!=null){if(Ie!=null)throw Error(te(92));if(eR(Fe)){if(1<Fe.length)throw Error(te(93));Fe=Fe[0]}Ie=Fe}Ie==null&&(Ie=""),Fe=Ie}Se._wrapperState={initialValue:bE(Fe)}}function XE(Se,Ie){var Fe=bE(Ie.value),Ot=bE(Ie.defaultValue);Fe!=null&&(Fe=""+Fe,Fe!==Se.value&&(Se.value=Fe),Ie.defaultValue==null&&Se.defaultValue!==Fe&&(Se.defaultValue=Fe)),Ot!=null&&(Se.defaultValue=""+Ot)}function pR(Se){var Ie=Se.textContent;Ie===Se._wrapperState.initialValue&&Ie!==""&&Ie!==null&&(Se.value=Ie)}function CR(Se){switch(Se){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function MR(Se,Ie){return Se==null||Se==="http://www.w3.org/1999/xhtml"?CR(Ie):Se==="http://www.w3.org/2000/svg"&&Ie==="foreignObject"?"http://www.w3.org/1999/xhtml":Se}var yR,VR=function(Se){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(Ie,Fe,Ot,gn){MSApp.execUnsafeLocalFunction(function(){return Se(Ie,Fe,Ot,gn)})}:Se}(function(Se,Ie){if(Se.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in Se)Se.innerHTML=Ie;else{for(yR=yR||document.createElement("div"),yR.innerHTML="<svg>"+Ie.valueOf().toString()+"</svg>",Ie=yR.firstChild;Se.firstChild;)Se.removeChild(Se.firstChild);for(;Ie.firstChild;)Se.appendChild(Ie.firstChild)}});function jR(Se,Ie){if(Ie){var Fe=Se.firstChild;if(Fe&&Fe===Se.lastChild&&Fe.nodeType===3){Fe.nodeValue=Ie;return}}Se.textContent=Ie}var AO={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pM=["Webkit","ms","Moz","O"];Object.keys(AO).forEach(function(Se){pM.forEach(function(Ie){Ie=Ie+Se.charAt(0).toUpperCase()+Se.substring(1),AO[Ie]=AO[Se]})});function HI(Se,Ie,Fe){return Ie==null||typeof Ie=="boolean"||Ie===""?"":Fe||typeof Ie!="number"||Ie===0||AO.hasOwnProperty(Se)&&AO[Se]?(""+Ie).trim():Ie+"px"}function xO(Se,Ie){Se=Se.style;for(var Fe in Ie)if(Ie.hasOwnProperty(Fe)){var Ot=Fe.indexOf("--")===0,gn=HI(Fe,Ie[Fe],Ot);Fe==="float"&&(Fe="cssFloat"),Ot?Se.setProperty(Fe,gn):Se[Fe]=gn}}var PE=Jp({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function LE(Se,Ie){if(Ie){if(PE[Se]&&(Ie.children!=null||Ie.dangerouslySetInnerHTML!=null))throw Error(te(137,Se));if(Ie.dangerouslySetInnerHTML!=null){if(Ie.children!=null)throw Error(te(60));if(typeof Ie.dangerouslySetInnerHTML!="object"||!("__html"in Ie.dangerouslySetInnerHTML))throw Error(te(61))}if(Ie.style!=null&&typeof Ie.style!="object")throw Error(te(62))}}function GR(Se,Ie){if(Se.indexOf("-")===-1)return typeof Ie.is=="string";switch(Se){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zR=null;function DR(Se){return Se=Se.target||Se.srcElement||window,Se.correspondingUseElement&&(Se=Se.correspondingUseElement),Se.nodeType===3?Se.parentNode:Se}var TR=null,cT=null,PR=null;function nT(Se){if(Se=fL(Se)){if(typeof TR!="function")throw Error(te(280));var Ie=Se.stateNode;Ie&&(Ie=MU(Ie),TR(Se.stateNode,Se.type,Ie))}}function AT(Se){cT?PR?PR.push(Se):PR=[Se]:cT=Se}function gI(){if(cT){var Se=cT,Ie=PR;if(PR=cT=null,nT(Se),Ie)for(Se=0;Se<Ie.length;Se++)nT(Ie[Se])}}function _T(Se,Ie){return Se(Ie)}function fT(){}var FT=!1;function PC(Se,Ie,Fe){if(FT)return Se(Ie,Fe);FT=!0;try{return _T(Se,Ie,Fe)}finally{FT=!1,(cT!==null||PR!==null)&&(fT(),gI())}}function mI(Se,Ie){var Fe=Se.stateNode;if(Fe===null)return null;var Ot=MU(Fe);if(Ot===null)return null;Fe=Ot[Ie];e:switch(Ie){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Ot=!Ot.disabled)||(Se=Se.type,Ot=!(Se==="button"||Se==="input"||Se==="select"||Se==="textarea")),Se=!Ot;break e;default:Se=!1}if(Se)return null;if(Fe&&typeof Fe!="function")throw Error(te(231,Ie,typeof Fe));return Fe}var eI=!1;if(ce)try{var EI={};Object.defineProperty(EI,"passive",{get:function(){eI=!0}}),window.addEventListener("test",EI,EI),window.removeEventListener("test",EI,EI)}catch{eI=!1}function OO(Se,Ie,Fe,Ot,gn,th,lE,gE,EE){var UE=Array.prototype.slice.call(arguments,3);try{Ie.apply(Fe,UE)}catch(qE){this.onError(qE)}}var vI=!1,aO=null,CO=!1,VI=null,NC={onError:function(Se){vI=!0,aO=Se}};function MO(Se,Ie,Fe,Ot,gn,th,lE,gE,EE){vI=!1,aO=null,OO.apply(NC,arguments)}function PO(Se,Ie,Fe,Ot,gn,th,lE,gE,EE){if(MO.apply(this,arguments),vI){if(vI){var UE=aO;vI=!1,aO=null}else throw Error(te(198));CO||(CO=!0,VI=UE)}}function yI(Se){var Ie=Se,Fe=Se;if(Se.alternate)for(;Ie.return;)Ie=Ie.return;else{Se=Ie;do Ie=Se,Ie.flags&4098&&(Fe=Ie.return),Se=Ie.return;while(Se)}return Ie.tag===3?Fe:null}function oO(Se){if(Se.tag===13){var Ie=Se.memoizedState;if(Ie===null&&(Se=Se.alternate,Se!==null&&(Ie=Se.memoizedState)),Ie!==null)return Ie.dehydrated}return null}function UC(Se){if(yI(Se)!==Se)throw Error(te(188))}function RI(Se){var Ie=Se.alternate;if(!Ie){if(Ie=yI(Se),Ie===null)throw Error(te(188));return Ie!==Se?null:Se}for(var Fe=Se,Ot=Ie;;){var gn=Fe.return;if(gn===null)break;var th=gn.alternate;if(th===null){if(Ot=gn.return,Ot!==null){Fe=Ot;continue}break}if(gn.child===th.child){for(th=gn.child;th;){if(th===Fe)return UC(gn),Se;if(th===Ot)return UC(gn),Ie;th=th.sibling}throw Error(te(188))}if(Fe.return!==Ot.return)Fe=gn,Ot=th;else{for(var lE=!1,gE=gn.child;gE;){if(gE===Fe){lE=!0,Fe=gn,Ot=th;break}if(gE===Ot){lE=!0,Ot=gn,Fe=th;break}gE=gE.sibling}if(!lE){for(gE=th.child;gE;){if(gE===Fe){lE=!0,Fe=th,Ot=gn;break}if(gE===Ot){lE=!0,Ot=th,Fe=gn;break}gE=gE.sibling}if(!lE)throw Error(te(189))}}if(Fe.alternate!==Ot)throw Error(te(190))}if(Fe.tag!==3)throw Error(te(188));return Fe.stateNode.current===Fe?Se:Ie}function TI(Se){return Se=RI(Se),Se!==null?lO(Se):null}function lO(Se){if(Se.tag===5||Se.tag===6)return Se;for(Se=Se.child;Se!==null;){var Ie=lO(Se);if(Ie!==null)return Ie;Se=Se.sibling}return null}var uO=ee.unstable_scheduleCallback,DP=ee.unstable_cancelCallback,DN=ee.unstable_shouldYield,LN=ee.unstable_requestPaint,JR=ee.unstable_now,NT=ee.unstable_getCurrentPriorityLevel,zM=ee.unstable_ImmediatePriority,WM=ee.unstable_UserBlockingPriority,jC=ee.unstable_NormalPriority,UN=ee.unstable_LowPriority,wO=ee.unstable_IdlePriority,zI=null,tI=null;function _M(Se){if(tI&&typeof tI.onCommitFiberRoot=="function")try{tI.onCommitFiberRoot(zI,Se,void 0,(Se.current.flags&128)===128)}catch{}}var yT=Math.clz32?Math.clz32:FP,LP=Math.log,UP=Math.LN2;function FP(Se){return Se>>>=0,Se===0?32:31-(LP(Se)/UP|0)|0}var NO=64,gM=4194304;function GC(Se){switch(Se&-Se){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Se&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Se&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Se}}function kC(Se,Ie){var Fe=Se.pendingLanes;if(Fe===0)return 0;var Ot=0,gn=Se.suspendedLanes,th=Se.pingedLanes,lE=Fe&268435455;if(lE!==0){var gE=lE&~gn;gE!==0?Ot=GC(gE):(th&=lE,th!==0&&(Ot=GC(th)))}else lE=Fe&~gn,lE!==0?Ot=GC(lE):th!==0&&(Ot=GC(th));if(Ot===0)return 0;if(Ie!==0&&Ie!==Ot&&!(Ie&gn)&&(gn=Ot&-Ot,th=Ie&-Ie,gn>=th||gn===16&&(th&4194240)!==0))return Ie;if(Ot&4&&(Ot|=Fe&16),Ie=Se.entangledLanes,Ie!==0)for(Se=Se.entanglements,Ie&=Ot;0<Ie;)Fe=31-yT(Ie),gn=1<<Fe,Ot|=Se[Fe],Ie&=~gn;return Ot}function zn(Se,Ie){switch(Se){case 1:case 2:case 4:return Ie+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ie+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iE(Se,Ie){for(var Fe=Se.suspendedLanes,Ot=Se.pingedLanes,gn=Se.expirationTimes,th=Se.pendingLanes;0<th;){var lE=31-yT(th),gE=1<<lE,EE=gn[lE];EE===-1?(!(gE&Fe)||gE&Ot)&&(gn[lE]=zn(gE,Ie)):EE<=Ie&&(Se.expiredLanes|=gE),th&=~gE}}function cE(Se){return Se=Se.pendingLanes&-1073741825,Se!==0?Se:Se&1073741824?1073741824:0}function _E(){var Se=NO;return NO<<=1,!(NO&4194240)&&(NO=64),Se}function wE(Se){for(var Ie=[],Fe=0;31>Fe;Fe++)Ie.push(Se);return Ie}function IE(Se,Ie,Fe){Se.pendingLanes|=Ie,Ie!==536870912&&(Se.suspendedLanes=0,Se.pingedLanes=0),Se=Se.eventTimes,Ie=31-yT(Ie),Se[Ie]=Fe}function GE(Se,Ie){var Fe=Se.pendingLanes&~Ie;Se.pendingLanes=Ie,Se.suspendedLanes=0,Se.pingedLanes=0,Se.expiredLanes&=Ie,Se.mutableReadLanes&=Ie,Se.entangledLanes&=Ie,Ie=Se.entanglements;var Ot=Se.eventTimes;for(Se=Se.expirationTimes;0<Fe;){var gn=31-yT(Fe),th=1<<gn;Ie[gn]=0,Ot[gn]=-1,Se[gn]=-1,Fe&=~th}}function ly(Se,Ie){var Fe=Se.entangledLanes|=Ie;for(Se=Se.entanglements;Fe;){var Ot=31-yT(Fe),gn=1<<Ot;gn&Ie|Se[Ot]&Ie&&(Se[Ot]|=Ie),Fe&=~gn}}var rR=0;function RR(Se){return Se&=-Se,1<Se?4<Se?Se&268435455?16:536870912:4:1}var OR,ZR,SI,bI,BT,DO=!1,II=[],AI=null,jT=null,WI=null,xI=new Map,HC=new Map,VC=[],VF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _U(Se,Ie){switch(Se){case"focusin":case"focusout":AI=null;break;case"dragenter":case"dragleave":jT=null;break;case"mouseover":case"mouseout":WI=null;break;case"pointerover":case"pointerout":xI.delete(Ie.pointerId);break;case"gotpointercapture":case"lostpointercapture":HC.delete(Ie.pointerId)}}function BP(Se,Ie,Fe,Ot,gn,th){return Se===null||Se.nativeEvent!==th?(Se={blockedOn:Ie,domEventName:Fe,eventSystemFlags:Ot,nativeEvent:th,targetContainers:[gn]},Ie!==null&&(Ie=fL(Ie),Ie!==null&&ZR(Ie)),Se):(Se.eventSystemFlags|=Ot,Ie=Se.targetContainers,gn!==null&&Ie.indexOf(gn)===-1&&Ie.push(gn),Se)}function zF(Se,Ie,Fe,Ot,gn){switch(Ie){case"focusin":return AI=BP(AI,Se,Ie,Fe,Ot,gn),!0;case"dragenter":return jT=BP(jT,Se,Ie,Fe,Ot,gn),!0;case"mouseover":return WI=BP(WI,Se,Ie,Fe,Ot,gn),!0;case"pointerover":var th=gn.pointerId;return xI.set(th,BP(xI.get(th)||null,Se,Ie,Fe,Ot,gn)),!0;case"gotpointercapture":return th=gn.pointerId,HC.set(th,BP(HC.get(th)||null,Se,Ie,Fe,Ot,gn)),!0}return!1}function cO(Se){var Ie=WP(Se.target);if(Ie!==null){var Fe=yI(Ie);if(Fe!==null){if(Ie=Fe.tag,Ie===13){if(Ie=oO(Fe),Ie!==null){Se.blockedOn=Ie,BT(Se.priority,function(){SI(Fe)});return}}else if(Ie===3&&Fe.stateNode.current.memoizedState.isDehydrated){Se.blockedOn=Fe.tag===3?Fe.stateNode.containerInfo:null;return}}}Se.blockedOn=null}function YM(Se){if(Se.blockedOn!==null)return!1;for(var Ie=Se.targetContainers;0<Ie.length;){var Fe=GP(Se.domEventName,Se.eventSystemFlags,Ie[0],Se.nativeEvent);if(Fe===null){Fe=Se.nativeEvent;var Ot=new Fe.constructor(Fe.type,Fe);zR=Ot,Fe.target.dispatchEvent(Ot),zR=null}else return Ie=fL(Fe),Ie!==null&&ZR(Ie),Se.blockedOn=Fe,!1;Ie.shift()}return!0}function jP(Se,Ie,Fe){YM(Se)&&Fe.delete(Ie)}function QR(){DO=!1,AI!==null&&YM(AI)&&(AI=null),jT!==null&&YM(jT)&&(jT=null),WI!==null&&YM(WI)&&(WI=null),xI.forEach(jP),HC.forEach(jP)}function LO(Se,Ie){Se.blockedOn===Ie&&(Se.blockedOn=null,DO||(DO=!0,ee.unstable_scheduleCallback(ee.unstable_NormalPriority,QR)))}function WC(Se){function Ie(gn){return LO(gn,Se)}if(0<II.length){LO(II[0],Se);for(var Fe=1;Fe<II.length;Fe++){var Ot=II[Fe];Ot.blockedOn===Se&&(Ot.blockedOn=null)}}for(AI!==null&&LO(AI,Se),jT!==null&&LO(jT,Se),WI!==null&&LO(WI,Se),xI.forEach(Ie),HC.forEach(Ie),Fe=0;Fe<VC.length;Fe++)Ot=VC[Fe],Ot.blockedOn===Se&&(Ot.blockedOn=null);for(;0<VC.length&&(Fe=VC[0],Fe.blockedOn===null);)cO(Fe),Fe.blockedOn===null&&VC.shift()}var hO=Be.ReactCurrentBatchConfig,YI=!0;function FN(Se,Ie,Fe,Ot){var gn=rR,th=hO.transition;hO.transition=null;try{rR=1,BN(Se,Ie,Fe,Ot)}finally{rR=gn,hO.transition=th}}function mM(Se,Ie,Fe,Ot){var gn=rR,th=hO.transition;hO.transition=null;try{rR=4,BN(Se,Ie,Fe,Ot)}finally{rR=gn,hO.transition=th}}function BN(Se,Ie,Fe,Ot){if(YI){var gn=GP(Se,Ie,Fe,Ot);if(gn===null)sB(Se,Ie,Ot,qM,Fe),_U(Se,Ot);else if(zF(gn,Se,Ie,Fe,Ot))Ot.stopPropagation();else if(_U(Se,Ot),Ie&4&&-1<VF.indexOf(Se)){for(;gn!==null;){var th=fL(gn);if(th!==null&&OR(th),th=GP(Se,Ie,Fe,Ot),th===null&&sB(Se,Ie,Ot,qM,Fe),th===gn)break;gn=th}gn!==null&&Ot.stopPropagation()}else sB(Se,Ie,Ot,null,Fe)}}var qM=null;function GP(Se,Ie,Fe,Ot){if(qM=null,Se=DR(Ot),Se=WP(Se),Se!==null)if(Ie=yI(Se),Ie===null)Se=null;else if(Fe=Ie.tag,Fe===13){if(Se=oO(Ie),Se!==null)return Se;Se=null}else if(Fe===3){if(Ie.stateNode.current.memoizedState.isDehydrated)return Ie.tag===3?Ie.stateNode.containerInfo:null;Se=null}else Ie!==Se&&(Se=null);return qM=Se,null}function ZD(Se){switch(Se){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NT()){case zM:return 1;case WM:return 4;case jC:case UN:return 16;case wO:return 536870912;default:return 16}default:return 16}}var UO=null,jN=null,GN=null;function gU(){if(GN)return GN;var Se,Ie=jN,Fe=Ie.length,Ot,gn="value"in UO?UO.value:UO.textContent,th=gn.length;for(Se=0;Se<Fe&&Ie[Se]===gn[Se];Se++);var lE=Fe-Se;for(Ot=1;Ot<=lE&&Ie[Fe-Ot]===gn[th-Ot];Ot++);return GN=gn.slice(Se,1<Ot?1-Ot:void 0)}function EM(Se){var Ie=Se.keyCode;return"charCode"in Se?(Se=Se.charCode,Se===0&&Ie===13&&(Se=13)):Se=Ie,Se===10&&(Se=13),32<=Se||Se===13?Se:0}function kP(){return!0}function $P(){return!1}function DT(Se){function Ie(Fe,Ot,gn,th,lE){this._reactName=Fe,this._targetInst=gn,this.type=Ot,this.nativeEvent=th,this.target=lE,this.currentTarget=null;for(var gE in Se)Se.hasOwnProperty(gE)&&(Fe=Se[gE],this[gE]=Fe?Fe(th):th[gE]);return this.isDefaultPrevented=(th.defaultPrevented!=null?th.defaultPrevented:th.returnValue===!1)?kP:$P,this.isPropagationStopped=$P,this}return Jp(Ie.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Fe=this.nativeEvent;Fe&&(Fe.preventDefault?Fe.preventDefault():typeof Fe.returnValue!="unknown"&&(Fe.returnValue=!1),this.isDefaultPrevented=kP)},stopPropagation:function(){var Fe=this.nativeEvent;Fe&&(Fe.stopPropagation?Fe.stopPropagation():typeof Fe.cancelBubble!="unknown"&&(Fe.cancelBubble=!0),this.isPropagationStopped=kP)},persist:function(){},isPersistent:kP}),Ie}var XM={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Se){return Se.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vM=DT(XM),HP=Jp({},XM,{view:0,detail:0}),QD=DT(HP),KM,yM,YC,VP=Jp({},HP,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zN,button:0,buttons:0,relatedTarget:function(Se){return Se.relatedTarget===void 0?Se.fromElement===Se.srcElement?Se.toElement:Se.fromElement:Se.relatedTarget},movementX:function(Se){return"movementX"in Se?Se.movementX:(Se!==YC&&(YC&&Se.type==="mousemove"?(KM=Se.screenX-YC.screenX,yM=Se.screenY-YC.screenY):yM=KM=0,YC=Se),KM)},movementY:function(Se){return"movementY"in Se?Se.movementY:yM}}),JD=DT(VP),mU=Jp({},VP,{dataTransfer:0}),eL=DT(mU),sI=Jp({},HP,{relatedTarget:0}),kN=DT(sI),tL=Jp({},XM,{animationName:0,elapsedTime:0,pseudoElement:0}),WF=DT(tL),EU=Jp({},XM,{clipboardData:function(Se){return"clipboardData"in Se?Se.clipboardData:window.clipboardData}}),$N=DT(EU),vU=Jp({},XM,{data:0}),sL=DT(vU),HN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RU(Se){var Ie=this.nativeEvent;return Ie.getModifierState?Ie.getModifierState(Se):(Se=yU[Se])?!!Ie[Se]:!1}function zN(){return RU}var rL=Jp({},HP,{key:function(Se){if(Se.key){var Ie=HN[Se.key]||Se.key;if(Ie!=="Unidentified")return Ie}return Se.type==="keypress"?(Se=EM(Se),Se===13?"Enter":String.fromCharCode(Se)):Se.type==="keydown"||Se.type==="keyup"?VN[Se.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zN,charCode:function(Se){return Se.type==="keypress"?EM(Se):0},keyCode:function(Se){return Se.type==="keydown"||Se.type==="keyup"?Se.keyCode:0},which:function(Se){return Se.type==="keypress"?EM(Se):Se.type==="keydown"||Se.type==="keyup"?Se.keyCode:0}}),TU=DT(rL),eh=Jp({},VP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rE=DT(eh),uE=Jp({},HP,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zN}),pE=DT(uE),DE=Jp({},XM,{propertyName:0,elapsedTime:0,pseudoElement:0}),CE=DT(DE),kE=Jp({},VP,{deltaX:function(Se){return"deltaX"in Se?Se.deltaX:"wheelDeltaX"in Se?-Se.wheelDeltaX:0},deltaY:function(Se){return"deltaY"in Se?Se.deltaY:"wheelDeltaY"in Se?-Se.wheelDeltaY:"wheelDelta"in Se?-Se.wheelDelta:0},deltaZ:0,deltaMode:0}),QE=DT(kE),mR=[9,13,27,32],wR=ce&&"CompositionEvent"in window,bR=null;ce&&"documentMode"in document&&(bR=document.documentMode);var eT=ce&&"TextEvent"in window&&!bR,GT=ce&&(!wR||bR&&8<bR&&11>=bR),OI=" ",CI=!1;function zP(Se,Ie){switch(Se){case"keyup":return mR.indexOf(Ie.keyCode)!==-1;case"keydown":return Ie.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iL(Se){return Se=Se.detail,typeof Se=="object"&&"data"in Se?Se.data:null}var qC=!1;function Gk(Se,Ie){switch(Se){case"compositionend":return iL(Ie);case"keypress":return Ie.which!==32?null:(CI=!0,OI);case"textInput":return Se=Ie.data,Se===OI&&CI?null:Se;default:return null}}function kk(Se,Ie){if(qC)return Se==="compositionend"||!wR&&zP(Se,Ie)?(Se=gU(),GN=jN=UO=null,qC=!1,Se):null;switch(Se){case"paste":return null;case"keypress":if(!(Ie.ctrlKey||Ie.altKey||Ie.metaKey)||Ie.ctrlKey&&Ie.altKey){if(Ie.char&&1<Ie.char.length)return Ie.char;if(Ie.which)return String.fromCharCode(Ie.which)}return null;case"compositionend":return GT&&Ie.locale!=="ko"?null:Ie.data;default:return null}}var $k={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vj(Se){var Ie=Se&&Se.nodeName&&Se.nodeName.toLowerCase();return Ie==="input"?!!$k[Se.type]:Ie==="textarea"}function yj(Se,Ie,Fe,Ot){AT(Ot),Ie=xU(Ie,"onChange"),0<Ie.length&&(Fe=new vM("onChange","change",null,Fe,Ot),Se.push({event:Fe,listeners:Ie}))}var nL=null,aL=null;function Hk(Se){Bj(Se,0)}function SU(Se){var Ie=KN(Se);if($E(Ie))return Se}function Vk(Se,Ie){if(Se==="change")return Ie}var Rj=!1;if(ce){var YF;if(ce){var qF="oninput"in document;if(!qF){var Tj=document.createElement("div");Tj.setAttribute("oninput","return;"),qF=typeof Tj.oninput=="function"}YF=qF}else YF=!1;Rj=YF&&(!document.documentMode||9<document.documentMode)}function Sj(){nL&&(nL.detachEvent("onpropertychange",bj),aL=nL=null)}function bj(Se){if(Se.propertyName==="value"&&SU(aL)){var Ie=[];yj(Ie,aL,Se,DR(Se)),PC(Hk,Ie)}}function zk(Se,Ie,Fe){Se==="focusin"?(Sj(),nL=Ie,aL=Fe,nL.attachEvent("onpropertychange",bj)):Se==="focusout"&&Sj()}function Wk(Se){if(Se==="selectionchange"||Se==="keyup"||Se==="keydown")return SU(aL)}function Yk(Se,Ie){if(Se==="click")return SU(Ie)}function qk(Se,Ie){if(Se==="input"||Se==="change")return SU(Ie)}function Xk(Se,Ie){return Se===Ie&&(Se!==0||1/Se===1/Ie)||Se!==Se&&Ie!==Ie}var FO=typeof Object.is=="function"?Object.is:Xk;function oL(Se,Ie){if(FO(Se,Ie))return!0;if(typeof Se!="object"||Se===null||typeof Ie!="object"||Ie===null)return!1;var Fe=Object.keys(Se),Ot=Object.keys(Ie);if(Fe.length!==Ot.length)return!1;for(Ot=0;Ot<Fe.length;Ot++){var gn=Fe[Ot];if(!he.call(Ie,gn)||!FO(Se[gn],Ie[gn]))return!1}return!0}function Ij(Se){for(;Se&&Se.firstChild;)Se=Se.firstChild;return Se}function Aj(Se,Ie){var Fe=Ij(Se);Se=0;for(var Ot;Fe;){if(Fe.nodeType===3){if(Ot=Se+Fe.textContent.length,Se<=Ie&&Ot>=Ie)return{node:Fe,offset:Ie-Se};Se=Ot}e:{for(;Fe;){if(Fe.nextSibling){Fe=Fe.nextSibling;break e}Fe=Fe.parentNode}Fe=void 0}Fe=Ij(Fe)}}function xj(Se,Ie){return Se&&Ie?Se===Ie?!0:Se&&Se.nodeType===3?!1:Ie&&Ie.nodeType===3?xj(Se,Ie.parentNode):"contains"in Se?Se.contains(Ie):Se.compareDocumentPosition?!!(Se.compareDocumentPosition(Ie)&16):!1:!1}function Oj(){for(var Se=window,Ie=zE();Ie instanceof Se.HTMLIFrameElement;){try{var Fe=typeof Ie.contentWindow.location.href=="string"}catch{Fe=!1}if(Fe)Se=Ie.contentWindow;else break;Ie=zE(Se.document)}return Ie}function XF(Se){var Ie=Se&&Se.nodeName&&Se.nodeName.toLowerCase();return Ie&&(Ie==="input"&&(Se.type==="text"||Se.type==="search"||Se.type==="tel"||Se.type==="url"||Se.type==="password")||Ie==="textarea"||Se.contentEditable==="true")}function Kk(Se){var Ie=Oj(),Fe=Se.focusedElem,Ot=Se.selectionRange;if(Ie!==Fe&&Fe&&Fe.ownerDocument&&xj(Fe.ownerDocument.documentElement,Fe)){if(Ot!==null&&XF(Fe)){if(Ie=Ot.start,Se=Ot.end,Se===void 0&&(Se=Ie),"selectionStart"in Fe)Fe.selectionStart=Ie,Fe.selectionEnd=Math.min(Se,Fe.value.length);else if(Se=(Ie=Fe.ownerDocument||document)&&Ie.defaultView||window,Se.getSelection){Se=Se.getSelection();var gn=Fe.textContent.length,th=Math.min(Ot.start,gn);Ot=Ot.end===void 0?th:Math.min(Ot.end,gn),!Se.extend&&th>Ot&&(gn=Ot,Ot=th,th=gn),gn=Aj(Fe,th);var lE=Aj(Fe,Ot);gn&&lE&&(Se.rangeCount!==1||Se.anchorNode!==gn.node||Se.anchorOffset!==gn.offset||Se.focusNode!==lE.node||Se.focusOffset!==lE.offset)&&(Ie=Ie.createRange(),Ie.setStart(gn.node,gn.offset),Se.removeAllRanges(),th>Ot?(Se.addRange(Ie),Se.extend(lE.node,lE.offset)):(Ie.setEnd(lE.node,lE.offset),Se.addRange(Ie)))}}for(Ie=[],Se=Fe;Se=Se.parentNode;)Se.nodeType===1&&Ie.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof Fe.focus=="function"&&Fe.focus(),Fe=0;Fe<Ie.length;Fe++)Se=Ie[Fe],Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}var Zk=ce&&"documentMode"in document&&11>=document.documentMode,WN=null,KF=null,lL=null,ZF=!1;function Cj(Se,Ie,Fe){var Ot=Fe.window===Fe?Fe.document:Fe.nodeType===9?Fe:Fe.ownerDocument;ZF||WN==null||WN!==zE(Ot)||(Ot=WN,"selectionStart"in Ot&&XF(Ot)?Ot={start:Ot.selectionStart,end:Ot.selectionEnd}:(Ot=(Ot.ownerDocument&&Ot.ownerDocument.defaultView||window).getSelection(),Ot={anchorNode:Ot.anchorNode,anchorOffset:Ot.anchorOffset,focusNode:Ot.focusNode,focusOffset:Ot.focusOffset}),lL&&oL(lL,Ot)||(lL=Ot,Ot=xU(KF,"onSelect"),0<Ot.length&&(Ie=new vM("onSelect","select",null,Ie,Fe),Se.push({event:Ie,listeners:Ot}),Ie.target=WN)))}function bU(Se,Ie){var Fe={};return Fe[Se.toLowerCase()]=Ie.toLowerCase(),Fe["Webkit"+Se]="webkit"+Ie,Fe["Moz"+Se]="moz"+Ie,Fe}var YN={animationend:bU("Animation","AnimationEnd"),animationiteration:bU("Animation","AnimationIteration"),animationstart:bU("Animation","AnimationStart"),transitionend:bU("Transition","TransitionEnd")},QF={},Mj={};ce&&(Mj=document.createElement("div").style,"AnimationEvent"in window||(delete YN.animationend.animation,delete YN.animationiteration.animation,delete YN.animationstart.animation),"TransitionEvent"in window||delete YN.transitionend.transition);function IU(Se){if(QF[Se])return QF[Se];if(!YN[Se])return Se;var Ie=YN[Se],Fe;for(Fe in Ie)if(Ie.hasOwnProperty(Fe)&&Fe in Mj)return QF[Se]=Ie[Fe];return Se}var Pj=IU("animationend"),wj=IU("animationiteration"),Nj=IU("animationstart"),Dj=IU("transitionend"),Lj=new Map,Uj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ZM(Se,Ie){Lj.set(Se,Ie),le(Ie,[Se])}for(var JF=0;JF<Uj.length;JF++){var eB=Uj[JF],Qk=eB.toLowerCase(),Jk=eB[0].toUpperCase()+eB.slice(1);ZM(Qk,"on"+Jk)}ZM(Pj,"onAnimationEnd"),ZM(wj,"onAnimationIteration"),ZM(Nj,"onAnimationStart"),ZM("dblclick","onDoubleClick"),ZM("focusin","onFocus"),ZM("focusout","onBlur"),ZM(Dj,"onTransitionEnd"),ue("onMouseEnter",["mouseout","mouseover"]),ue("onMouseLeave",["mouseout","mouseover"]),ue("onPointerEnter",["pointerout","pointerover"]),ue("onPointerLeave",["pointerout","pointerover"]),le("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),le("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),le("onBeforeInput",["compositionend","keypress","textInput","paste"]),le("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),le("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uL="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e3=new Set("cancel close invalid load scroll toggle".split(" ").concat(uL));function Fj(Se,Ie,Fe){var Ot=Se.type||"unknown-event";Se.currentTarget=Fe,PO(Ot,Ie,void 0,Se),Se.currentTarget=null}function Bj(Se,Ie){Ie=(Ie&4)!==0;for(var Fe=0;Fe<Se.length;Fe++){var Ot=Se[Fe],gn=Ot.event;Ot=Ot.listeners;e:{var th=void 0;if(Ie)for(var lE=Ot.length-1;0<=lE;lE--){var gE=Ot[lE],EE=gE.instance,UE=gE.currentTarget;if(gE=gE.listener,EE!==th&&gn.isPropagationStopped())break e;Fj(gn,gE,UE),th=EE}else for(lE=0;lE<Ot.length;lE++){if(gE=Ot[lE],EE=gE.instance,UE=gE.currentTarget,gE=gE.listener,EE!==th&&gn.isPropagationStopped())break e;Fj(gn,gE,UE),th=EE}}}if(CO)throw Se=VI,CO=!1,VI=null,Se}function sT(Se,Ie){var Fe=Ie[lB];Fe===void 0&&(Fe=Ie[lB]=new Set);var Ot=Se+"__bubble";Fe.has(Ot)||(jj(Ie,Se,2,!1),Fe.add(Ot))}function tB(Se,Ie,Fe){var Ot=0;Ie&&(Ot|=4),jj(Fe,Se,Ot,Ie)}var AU="_reactListening"+Math.random().toString(36).slice(2);function cL(Se){if(!Se[AU]){Se[AU]=!0,se.forEach(function(Fe){Fe!=="selectionchange"&&(e3.has(Fe)||tB(Fe,!1,Se),tB(Fe,!0,Se))});var Ie=Se.nodeType===9?Se:Se.ownerDocument;Ie===null||Ie[AU]||(Ie[AU]=!0,tB("selectionchange",!1,Ie))}}function jj(Se,Ie,Fe,Ot){switch(ZD(Ie)){case 1:var gn=FN;break;case 4:gn=mM;break;default:gn=BN}Fe=gn.bind(null,Ie,Fe,Se),gn=void 0,!eI||Ie!=="touchstart"&&Ie!=="touchmove"&&Ie!=="wheel"||(gn=!0),Ot?gn!==void 0?Se.addEventListener(Ie,Fe,{capture:!0,passive:gn}):Se.addEventListener(Ie,Fe,!0):gn!==void 0?Se.addEventListener(Ie,Fe,{passive:gn}):Se.addEventListener(Ie,Fe,!1)}function sB(Se,Ie,Fe,Ot,gn){var th=Ot;if(!(Ie&1)&&!(Ie&2)&&Ot!==null)e:for(;;){if(Ot===null)return;var lE=Ot.tag;if(lE===3||lE===4){var gE=Ot.stateNode.containerInfo;if(gE===gn||gE.nodeType===8&&gE.parentNode===gn)break;if(lE===4)for(lE=Ot.return;lE!==null;){var EE=lE.tag;if((EE===3||EE===4)&&(EE=lE.stateNode.containerInfo,EE===gn||EE.nodeType===8&&EE.parentNode===gn))return;lE=lE.return}for(;gE!==null;){if(lE=WP(gE),lE===null)return;if(EE=lE.tag,EE===5||EE===6){Ot=th=lE;continue e}gE=gE.parentNode}}Ot=Ot.return}PC(function(){var UE=th,qE=DR(Fe),KE=[];e:{var WE=Lj.get(Se);if(WE!==void 0){var oR=vM,uR=Se;switch(Se){case"keypress":if(EM(Fe)===0)break e;case"keydown":case"keyup":oR=TU;break;case"focusin":uR="focus",oR=kN;break;case"focusout":uR="blur",oR=kN;break;case"beforeblur":case"afterblur":oR=kN;break;case"click":if(Fe.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oR=JD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oR=eL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oR=pE;break;case Pj:case wj:case Nj:oR=WF;break;case Dj:oR=CE;break;case"scroll":oR=QD;break;case"wheel":oR=QE;break;case"copy":case"cut":case"paste":oR=$N;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oR=rE}var cR=(Ie&4)!==0,pT=!cR&&Se==="scroll",OE=cR?WE!==null?WE+"Capture":null:WE;cR=[];for(var RE=UE,NE;RE!==null;){NE=RE;var JE=NE.stateNode;if(NE.tag===5&&JE!==null&&(NE=JE,OE!==null&&(JE=mI(RE,OE),JE!=null&&cR.push(hL(RE,JE,NE)))),pT)break;RE=RE.return}0<cR.length&&(WE=new oR(WE,uR,null,Fe,qE),KE.push({event:WE,listeners:cR}))}}if(!(Ie&7)){e:{if(WE=Se==="mouseover"||Se==="pointerover",oR=Se==="mouseout"||Se==="pointerout",WE&&Fe!==zR&&(uR=Fe.relatedTarget||Fe.fromElement)&&(WP(uR)||uR[RM]))break e;if((oR||WE)&&(WE=qE.window===qE?qE:(WE=qE.ownerDocument)?WE.defaultView||WE.parentWindow:window,oR?(uR=Fe.relatedTarget||Fe.toElement,oR=UE,uR=uR?WP(uR):null,uR!==null&&(pT=yI(uR),uR!==pT||uR.tag!==5&&uR.tag!==6)&&(uR=null)):(oR=null,uR=UE),oR!==uR)){if(cR=JD,JE="onMouseLeave",OE="onMouseEnter",RE="mouse",(Se==="pointerout"||Se==="pointerover")&&(cR=rE,JE="onPointerLeave",OE="onPointerEnter",RE="pointer"),pT=oR==null?WE:KN(oR),NE=uR==null?WE:KN(uR),WE=new cR(JE,RE+"leave",oR,Fe,qE),WE.target=pT,WE.relatedTarget=NE,JE=null,WP(qE)===UE&&(cR=new cR(OE,RE+"enter",uR,Fe,qE),cR.target=NE,cR.relatedTarget=pT,JE=cR),pT=JE,oR&&uR)t:{for(cR=oR,OE=uR,RE=0,NE=cR;NE;NE=qN(NE))RE++;for(NE=0,JE=OE;JE;JE=qN(JE))NE++;for(;0<RE-NE;)cR=qN(cR),RE--;for(;0<NE-RE;)OE=qN(OE),NE--;for(;RE--;){if(cR===OE||OE!==null&&cR===OE.alternate)break t;cR=qN(cR),OE=qN(OE)}cR=null}else cR=null;oR!==null&&Gj(KE,WE,oR,cR,!1),uR!==null&&pT!==null&&Gj(KE,pT,uR,cR,!0)}}e:{if(WE=UE?KN(UE):window,oR=WE.nodeName&&WE.nodeName.toLowerCase(),oR==="select"||oR==="input"&&WE.type==="file")var hR=Vk;else if(vj(WE))if(Rj)hR=qk;else{hR=Wk;var _R=zk}else(oR=WE.nodeName)&&oR.toLowerCase()==="input"&&(WE.type==="checkbox"||WE.type==="radio")&&(hR=Yk);if(hR&&(hR=hR(Se,UE))){yj(KE,hR,Fe,qE);break e}_R&&_R(Se,WE,UE),Se==="focusout"&&(_R=WE._wrapperState)&&_R.controlled&&WE.type==="number"&&BE(WE,"number",WE.value)}switch(_R=UE?KN(UE):window,Se){case"focusin":(vj(_R)||_R.contentEditable==="true")&&(WN=_R,KF=UE,lL=null);break;case"focusout":lL=KF=WN=null;break;case"mousedown":ZF=!0;break;case"contextmenu":case"mouseup":case"dragend":ZF=!1,Cj(KE,Fe,qE);break;case"selectionchange":if(Zk)break;case"keydown":case"keyup":Cj(KE,Fe,qE)}var gR;if(wR)e:{switch(Se){case"compositionstart":var IR="onCompositionStart";break e;case"compositionend":IR="onCompositionEnd";break e;case"compositionupdate":IR="onCompositionUpdate";break e}IR=void 0}else qC?zP(Se,Fe)&&(IR="onCompositionEnd"):Se==="keydown"&&Fe.keyCode===229&&(IR="onCompositionStart");IR&&(GT&&Fe.locale!=="ko"&&(qC||IR!=="onCompositionStart"?IR==="onCompositionEnd"&&qC&&(gR=gU()):(UO=qE,jN="value"in UO?UO.value:UO.textContent,qC=!0)),_R=xU(UE,IR),0<_R.length&&(IR=new sL(IR,Se,null,Fe,qE),KE.push({event:IR,listeners:_R}),gR?IR.data=gR:(gR=iL(Fe),gR!==null&&(IR.data=gR)))),(gR=eT?Gk(Se,Fe):kk(Se,Fe))&&(UE=xU(UE,"onBeforeInput"),0<UE.length&&(qE=new sL("onBeforeInput","beforeinput",null,Fe,qE),KE.push({event:qE,listeners:UE}),qE.data=gR))}Bj(KE,Ie)})}function hL(Se,Ie,Fe){return{instance:Se,listener:Ie,currentTarget:Fe}}function xU(Se,Ie){for(var Fe=Ie+"Capture",Ot=[];Se!==null;){var gn=Se,th=gn.stateNode;gn.tag===5&&th!==null&&(gn=th,th=mI(Se,Fe),th!=null&&Ot.unshift(hL(Se,th,gn)),th=mI(Se,Ie),th!=null&&Ot.push(hL(Se,th,gn))),Se=Se.return}return Ot}function qN(Se){if(Se===null)return null;do Se=Se.return;while(Se&&Se.tag!==5);return Se||null}function Gj(Se,Ie,Fe,Ot,gn){for(var th=Ie._reactName,lE=[];Fe!==null&&Fe!==Ot;){var gE=Fe,EE=gE.alternate,UE=gE.stateNode;if(EE!==null&&EE===Ot)break;gE.tag===5&&UE!==null&&(gE=UE,gn?(EE=mI(Fe,th),EE!=null&&lE.unshift(hL(Fe,EE,gE))):gn||(EE=mI(Fe,th),EE!=null&&lE.push(hL(Fe,EE,gE)))),Fe=Fe.return}lE.length!==0&&Se.push({event:Ie,listeners:lE})}var t3=/\r\n?/g,s3=/\u0000|\uFFFD/g;function kj(Se){return(typeof Se=="string"?Se:""+Se).replace(t3,`
`).replace(s3,"")}function OU(Se,Ie,Fe){if(Ie=kj(Ie),kj(Se)!==Ie&&Fe)throw Error(te(425))}function CU(){}var rB=null,iB=null;function nB(Se,Ie){return Se==="textarea"||Se==="noscript"||typeof Ie.children=="string"||typeof Ie.children=="number"||typeof Ie.dangerouslySetInnerHTML=="object"&&Ie.dangerouslySetInnerHTML!==null&&Ie.dangerouslySetInnerHTML.__html!=null}var aB=typeof setTimeout=="function"?setTimeout:void 0,r3=typeof clearTimeout=="function"?clearTimeout:void 0,$j=typeof Promise=="function"?Promise:void 0,i3=typeof queueMicrotask=="function"?queueMicrotask:typeof $j<"u"?function(Se){return $j.resolve(null).then(Se).catch(n3)}:aB;function n3(Se){setTimeout(function(){throw Se})}function oB(Se,Ie){var Fe=Ie,Ot=0;do{var gn=Fe.nextSibling;if(Se.removeChild(Fe),gn&&gn.nodeType===8)if(Fe=gn.data,Fe==="/$"){if(Ot===0){Se.removeChild(gn),WC(Ie);return}Ot--}else Fe!=="$"&&Fe!=="$?"&&Fe!=="$!"||Ot++;Fe=gn}while(Fe);WC(Ie)}function QM(Se){for(;Se!=null;Se=Se.nextSibling){var Ie=Se.nodeType;if(Ie===1||Ie===3)break;if(Ie===8){if(Ie=Se.data,Ie==="$"||Ie==="$!"||Ie==="$?")break;if(Ie==="/$")return null}}return Se}function Hj(Se){Se=Se.previousSibling;for(var Ie=0;Se;){if(Se.nodeType===8){var Fe=Se.data;if(Fe==="$"||Fe==="$!"||Fe==="$?"){if(Ie===0)return Se;Ie--}else Fe==="/$"&&Ie++}Se=Se.previousSibling}return null}var XN=Math.random().toString(36).slice(2),XC="__reactFiber$"+XN,dL="__reactProps$"+XN,RM="__reactContainer$"+XN,lB="__reactEvents$"+XN,a3="__reactListeners$"+XN,o3="__reactHandles$"+XN;function WP(Se){var Ie=Se[XC];if(Ie)return Ie;for(var Fe=Se.parentNode;Fe;){if(Ie=Fe[RM]||Fe[XC]){if(Fe=Ie.alternate,Ie.child!==null||Fe!==null&&Fe.child!==null)for(Se=Hj(Se);Se!==null;){if(Fe=Se[XC])return Fe;Se=Hj(Se)}return Ie}Se=Fe,Fe=Se.parentNode}return null}function fL(Se){return Se=Se[XC]||Se[RM],!Se||Se.tag!==5&&Se.tag!==6&&Se.tag!==13&&Se.tag!==3?null:Se}function KN(Se){if(Se.tag===5||Se.tag===6)return Se.stateNode;throw Error(te(33))}function MU(Se){return Se[dL]||null}var uB=[],ZN=-1;function JM(Se){return{current:Se}}function rT(Se){0>ZN||(Se.current=uB[ZN],uB[ZN]=null,ZN--)}function tT(Se,Ie){ZN++,uB[ZN]=Se.current,Se.current=Ie}var eP={},kT=JM(eP),MI=JM(!1),YP=eP;function QN(Se,Ie){var Fe=Se.type.contextTypes;if(!Fe)return eP;var Ot=Se.stateNode;if(Ot&&Ot.__reactInternalMemoizedUnmaskedChildContext===Ie)return Ot.__reactInternalMemoizedMaskedChildContext;var gn={},th;for(th in Fe)gn[th]=Ie[th];return Ot&&(Se=Se.stateNode,Se.__reactInternalMemoizedUnmaskedChildContext=Ie,Se.__reactInternalMemoizedMaskedChildContext=gn),gn}function PI(Se){return Se=Se.childContextTypes,Se!=null}function PU(){rT(MI),rT(kT)}function Vj(Se,Ie,Fe){if(kT.current!==eP)throw Error(te(168));tT(kT,Ie),tT(MI,Fe)}function zj(Se,Ie,Fe){var Ot=Se.stateNode;if(Ie=Ie.childContextTypes,typeof Ot.getChildContext!="function")return Fe;Ot=Ot.getChildContext();for(var gn in Ot)if(!(gn in Ie))throw Error(te(108,AE(Se)||"Unknown",gn));return Jp({},Fe,Ot)}function wU(Se){return Se=(Se=Se.stateNode)&&Se.__reactInternalMemoizedMergedChildContext||eP,YP=kT.current,tT(kT,Se),tT(MI,MI.current),!0}function Wj(Se,Ie,Fe){var Ot=Se.stateNode;if(!Ot)throw Error(te(169));Fe?(Se=zj(Se,Ie,YP),Ot.__reactInternalMemoizedMergedChildContext=Se,rT(MI),rT(kT),tT(kT,Se)):rT(MI),tT(MI,Fe)}var TM=null,NU=!1,cB=!1;function Yj(Se){TM===null?TM=[Se]:TM.push(Se)}function l3(Se){NU=!0,Yj(Se)}function tP(){if(!cB&&TM!==null){cB=!0;var Se=0,Ie=rR;try{var Fe=TM;for(rR=1;Se<Fe.length;Se++){var Ot=Fe[Se];do Ot=Ot(!0);while(Ot!==null)}TM=null,NU=!1}catch(gn){throw TM!==null&&(TM=TM.slice(Se+1)),uO(zM,tP),gn}finally{rR=Ie,cB=!1}}return null}var JN=[],eD=0,DU=null,LU=0,dO=[],fO=0,qP=null,SM=1,bM="";function XP(Se,Ie){JN[eD++]=LU,JN[eD++]=DU,DU=Se,LU=Ie}function qj(Se,Ie,Fe){dO[fO++]=SM,dO[fO++]=bM,dO[fO++]=qP,qP=Se;var Ot=SM;Se=bM;var gn=32-yT(Ot)-1;Ot&=~(1<<gn),Fe+=1;var th=32-yT(Ie)+gn;if(30<th){var lE=gn-gn%5;th=(Ot&(1<<lE)-1).toString(32),Ot>>=lE,gn-=lE,SM=1<<32-yT(Ie)+gn|Fe<<gn|Ot,bM=th+Se}else SM=1<<th|Fe<<gn|Ot,bM=Se}function hB(Se){Se.return!==null&&(XP(Se,1),qj(Se,1,0))}function dB(Se){for(;Se===DU;)DU=JN[--eD],JN[eD]=null,LU=JN[--eD],JN[eD]=null;for(;Se===qP;)qP=dO[--fO],dO[fO]=null,bM=dO[--fO],dO[fO]=null,SM=dO[--fO],dO[fO]=null}var qI=null,XI=null,aT=!1,BO=null;function Xj(Se,Ie){var Fe=mO(5,null,null,0);Fe.elementType="DELETED",Fe.stateNode=Ie,Fe.return=Se,Ie=Se.deletions,Ie===null?(Se.deletions=[Fe],Se.flags|=16):Ie.push(Fe)}function Kj(Se,Ie){switch(Se.tag){case 5:var Fe=Se.type;return Ie=Ie.nodeType!==1||Fe.toLowerCase()!==Ie.nodeName.toLowerCase()?null:Ie,Ie!==null?(Se.stateNode=Ie,qI=Se,XI=QM(Ie.firstChild),!0):!1;case 6:return Ie=Se.pendingProps===""||Ie.nodeType!==3?null:Ie,Ie!==null?(Se.stateNode=Ie,qI=Se,XI=null,!0):!1;case 13:return Ie=Ie.nodeType!==8?null:Ie,Ie!==null?(Fe=qP!==null?{id:SM,overflow:bM}:null,Se.memoizedState={dehydrated:Ie,treeContext:Fe,retryLane:1073741824},Fe=mO(18,null,null,0),Fe.stateNode=Ie,Fe.return=Se,Se.child=Fe,qI=Se,XI=null,!0):!1;default:return!1}}function fB(Se){return(Se.mode&1)!==0&&(Se.flags&128)===0}function pB(Se){if(aT){var Ie=XI;if(Ie){var Fe=Ie;if(!Kj(Se,Ie)){if(fB(Se))throw Error(te(418));Ie=QM(Fe.nextSibling);var Ot=qI;Ie&&Kj(Se,Ie)?Xj(Ot,Fe):(Se.flags=Se.flags&-4097|2,aT=!1,qI=Se)}}else{if(fB(Se))throw Error(te(418));Se.flags=Se.flags&-4097|2,aT=!1,qI=Se}}}function Zj(Se){for(Se=Se.return;Se!==null&&Se.tag!==5&&Se.tag!==3&&Se.tag!==13;)Se=Se.return;qI=Se}function UU(Se){if(Se!==qI)return!1;if(!aT)return Zj(Se),aT=!0,!1;var Ie;if((Ie=Se.tag!==3)&&!(Ie=Se.tag!==5)&&(Ie=Se.type,Ie=Ie!=="head"&&Ie!=="body"&&!nB(Se.type,Se.memoizedProps)),Ie&&(Ie=XI)){if(fB(Se))throw Qj(),Error(te(418));for(;Ie;)Xj(Se,Ie),Ie=QM(Ie.nextSibling)}if(Zj(Se),Se.tag===13){if(Se=Se.memoizedState,Se=Se!==null?Se.dehydrated:null,!Se)throw Error(te(317));e:{for(Se=Se.nextSibling,Ie=0;Se;){if(Se.nodeType===8){var Fe=Se.data;if(Fe==="/$"){if(Ie===0){XI=QM(Se.nextSibling);break e}Ie--}else Fe!=="$"&&Fe!=="$!"&&Fe!=="$?"||Ie++}Se=Se.nextSibling}XI=null}}else XI=qI?QM(Se.stateNode.nextSibling):null;return!0}function Qj(){for(var Se=XI;Se;)Se=QM(Se.nextSibling)}function tD(){XI=qI=null,aT=!1}function _B(Se){BO===null?BO=[Se]:BO.push(Se)}var u3=Be.ReactCurrentBatchConfig;function pL(Se,Ie,Fe){if(Se=Fe.ref,Se!==null&&typeof Se!="function"&&typeof Se!="object"){if(Fe._owner){if(Fe=Fe._owner,Fe){if(Fe.tag!==1)throw Error(te(309));var Ot=Fe.stateNode}if(!Ot)throw Error(te(147,Se));var gn=Ot,th=""+Se;return Ie!==null&&Ie.ref!==null&&typeof Ie.ref=="function"&&Ie.ref._stringRef===th?Ie.ref:(Ie=function(lE){var gE=gn.refs;lE===null?delete gE[th]:gE[th]=lE},Ie._stringRef=th,Ie)}if(typeof Se!="string")throw Error(te(284));if(!Fe._owner)throw Error(te(290,Se))}return Se}function FU(Se,Ie){throw Se=Object.prototype.toString.call(Ie),Error(te(31,Se==="[object Object]"?"object with keys {"+Object.keys(Ie).join(", ")+"}":Se))}function Jj(Se){var Ie=Se._init;return Ie(Se._payload)}function eG(Se){function Ie(OE,RE){if(Se){var NE=OE.deletions;NE===null?(OE.deletions=[RE],OE.flags|=16):NE.push(RE)}}function Fe(OE,RE){if(!Se)return null;for(;RE!==null;)Ie(OE,RE),RE=RE.sibling;return null}function Ot(OE,RE){for(OE=new Map;RE!==null;)RE.key!==null?OE.set(RE.key,RE):OE.set(RE.index,RE),RE=RE.sibling;return OE}function gn(OE,RE){return OE=uP(OE,RE),OE.index=0,OE.sibling=null,OE}function th(OE,RE,NE){return OE.index=NE,Se?(NE=OE.alternate,NE!==null?(NE=NE.index,NE<RE?(OE.flags|=2,RE):NE):(OE.flags|=2,RE)):(OE.flags|=1048576,RE)}function lE(OE){return Se&&OE.alternate===null&&(OE.flags|=2),OE}function gE(OE,RE,NE,JE){return RE===null||RE.tag!==6?(RE=aj(NE,OE.mode,JE),RE.return=OE,RE):(RE=gn(RE,NE),RE.return=OE,RE)}function EE(OE,RE,NE,JE){var hR=NE.type;return hR===ut?qE(OE,RE,NE.props.children,JE,NE.key):RE!==null&&(RE.elementType===hR||typeof hR=="object"&&hR!==null&&hR.$$typeof===On&&Jj(hR)===RE.type)?(JE=gn(RE,NE.props),JE.ref=pL(OE,RE,NE),JE.return=OE,JE):(JE=oF(NE.type,NE.key,NE.props,null,OE.mode,JE),JE.ref=pL(OE,RE,NE),JE.return=OE,JE)}function UE(OE,RE,NE,JE){return RE===null||RE.tag!==4||RE.stateNode.containerInfo!==NE.containerInfo||RE.stateNode.implementation!==NE.implementation?(RE=oj(NE,OE.mode,JE),RE.return=OE,RE):(RE=gn(RE,NE.children||[]),RE.return=OE,RE)}function qE(OE,RE,NE,JE,hR){return RE===null||RE.tag!==7?(RE=rN(NE,OE.mode,JE,hR),RE.return=OE,RE):(RE=gn(RE,NE),RE.return=OE,RE)}function KE(OE,RE,NE){if(typeof RE=="string"&&RE!==""||typeof RE=="number")return RE=aj(""+RE,OE.mode,NE),RE.return=OE,RE;if(typeof RE=="object"&&RE!==null){switch(RE.$$typeof){case ze:return NE=oF(RE.type,RE.key,RE.props,null,OE.mode,NE),NE.ref=pL(OE,null,RE),NE.return=OE,NE;case $t:return RE=oj(RE,OE.mode,NE),RE.return=OE,RE;case On:var JE=RE._init;return KE(OE,JE(RE._payload),NE)}if(eR(RE)||Xp(RE))return RE=rN(RE,OE.mode,NE,null),RE.return=OE,RE;FU(OE,RE)}return null}function WE(OE,RE,NE,JE){var hR=RE!==null?RE.key:null;if(typeof NE=="string"&&NE!==""||typeof NE=="number")return hR!==null?null:gE(OE,RE,""+NE,JE);if(typeof NE=="object"&&NE!==null){switch(NE.$$typeof){case ze:return NE.key===hR?EE(OE,RE,NE,JE):null;case $t:return NE.key===hR?UE(OE,RE,NE,JE):null;case On:return hR=NE._init,WE(OE,RE,hR(NE._payload),JE)}if(eR(NE)||Xp(NE))return hR!==null?null:qE(OE,RE,NE,JE,null);FU(OE,NE)}return null}function oR(OE,RE,NE,JE,hR){if(typeof JE=="string"&&JE!==""||typeof JE=="number")return OE=OE.get(NE)||null,gE(RE,OE,""+JE,hR);if(typeof JE=="object"&&JE!==null){switch(JE.$$typeof){case ze:return OE=OE.get(JE.key===null?NE:JE.key)||null,EE(RE,OE,JE,hR);case $t:return OE=OE.get(JE.key===null?NE:JE.key)||null,UE(RE,OE,JE,hR);case On:var _R=JE._init;return oR(OE,RE,NE,_R(JE._payload),hR)}if(eR(JE)||Xp(JE))return OE=OE.get(NE)||null,qE(RE,OE,JE,hR,null);FU(RE,JE)}return null}function uR(OE,RE,NE,JE){for(var hR=null,_R=null,gR=RE,IR=RE=0,CT=null;gR!==null&&IR<NE.length;IR++){gR.index>IR?(CT=gR,gR=null):CT=gR.sibling;var YR=WE(OE,gR,NE[IR],JE);if(YR===null){gR===null&&(gR=CT);break}Se&&gR&&YR.alternate===null&&Ie(OE,gR),RE=th(YR,RE,IR),_R===null?hR=YR:_R.sibling=YR,_R=YR,gR=CT}if(IR===NE.length)return Fe(OE,gR),aT&&XP(OE,IR),hR;if(gR===null){for(;IR<NE.length;IR++)gR=KE(OE,NE[IR],JE),gR!==null&&(RE=th(gR,RE,IR),_R===null?hR=gR:_R.sibling=gR,_R=gR);return aT&&XP(OE,IR),hR}for(gR=Ot(OE,gR);IR<NE.length;IR++)CT=oR(gR,OE,IR,NE[IR],JE),CT!==null&&(Se&&CT.alternate!==null&&gR.delete(CT.key===null?IR:CT.key),RE=th(CT,RE,IR),_R===null?hR=CT:_R.sibling=CT,_R=CT);return Se&&gR.forEach(function(cP){return Ie(OE,cP)}),aT&&XP(OE,IR),hR}function cR(OE,RE,NE,JE){var hR=Xp(NE);if(typeof hR!="function")throw Error(te(150));if(NE=hR.call(NE),NE==null)throw Error(te(151));for(var _R=hR=null,gR=RE,IR=RE=0,CT=null,YR=NE.next();gR!==null&&!YR.done;IR++,YR=NE.next()){gR.index>IR?(CT=gR,gR=null):CT=gR.sibling;var cP=WE(OE,gR,YR.value,JE);if(cP===null){gR===null&&(gR=CT);break}Se&&gR&&cP.alternate===null&&Ie(OE,gR),RE=th(cP,RE,IR),_R===null?hR=cP:_R.sibling=cP,_R=cP,gR=CT}if(YR.done)return Fe(OE,gR),aT&&XP(OE,IR),hR;if(gR===null){for(;!YR.done;IR++,YR=NE.next())YR=KE(OE,YR.value,JE),YR!==null&&(RE=th(YR,RE,IR),_R===null?hR=YR:_R.sibling=YR,_R=YR);return aT&&XP(OE,IR),hR}for(gR=Ot(OE,gR);!YR.done;IR++,YR=NE.next())YR=oR(gR,OE,IR,YR.value,JE),YR!==null&&(Se&&YR.alternate!==null&&gR.delete(YR.key===null?IR:YR.key),RE=th(YR,RE,IR),_R===null?hR=YR:_R.sibling=YR,_R=YR);return Se&&gR.forEach(function(k3){return Ie(OE,k3)}),aT&&XP(OE,IR),hR}function pT(OE,RE,NE,JE){if(typeof NE=="object"&&NE!==null&&NE.type===ut&&NE.key===null&&(NE=NE.props.children),typeof NE=="object"&&NE!==null){switch(NE.$$typeof){case ze:e:{for(var hR=NE.key,_R=RE;_R!==null;){if(_R.key===hR){if(hR=NE.type,hR===ut){if(_R.tag===7){Fe(OE,_R.sibling),RE=gn(_R,NE.props.children),RE.return=OE,OE=RE;break e}}else if(_R.elementType===hR||typeof hR=="object"&&hR!==null&&hR.$$typeof===On&&Jj(hR)===_R.type){Fe(OE,_R.sibling),RE=gn(_R,NE.props),RE.ref=pL(OE,_R,NE),RE.return=OE,OE=RE;break e}Fe(OE,_R);break}else Ie(OE,_R);_R=_R.sibling}NE.type===ut?(RE=rN(NE.props.children,OE.mode,JE,NE.key),RE.return=OE,OE=RE):(JE=oF(NE.type,NE.key,NE.props,null,OE.mode,JE),JE.ref=pL(OE,RE,NE),JE.return=OE,OE=JE)}return lE(OE);case $t:e:{for(_R=NE.key;RE!==null;){if(RE.key===_R)if(RE.tag===4&&RE.stateNode.containerInfo===NE.containerInfo&&RE.stateNode.implementation===NE.implementation){Fe(OE,RE.sibling),RE=gn(RE,NE.children||[]),RE.return=OE,OE=RE;break e}else{Fe(OE,RE);break}else Ie(OE,RE);RE=RE.sibling}RE=oj(NE,OE.mode,JE),RE.return=OE,OE=RE}return lE(OE);case On:return _R=NE._init,pT(OE,RE,_R(NE._payload),JE)}if(eR(NE))return uR(OE,RE,NE,JE);if(Xp(NE))return cR(OE,RE,NE,JE);FU(OE,NE)}return typeof NE=="string"&&NE!==""||typeof NE=="number"?(NE=""+NE,RE!==null&&RE.tag===6?(Fe(OE,RE.sibling),RE=gn(RE,NE),RE.return=OE,OE=RE):(Fe(OE,RE),RE=aj(NE,OE.mode,JE),RE.return=OE,OE=RE),lE(OE)):Fe(OE,RE)}return pT}var sD=eG(!0),tG=eG(!1),BU=JM(null),jU=null,rD=null,gB=null;function mB(){gB=rD=jU=null}function EB(Se){var Ie=BU.current;rT(BU),Se._currentValue=Ie}function vB(Se,Ie,Fe){for(;Se!==null;){var Ot=Se.alternate;if((Se.childLanes&Ie)!==Ie?(Se.childLanes|=Ie,Ot!==null&&(Ot.childLanes|=Ie)):Ot!==null&&(Ot.childLanes&Ie)!==Ie&&(Ot.childLanes|=Ie),Se===Fe)break;Se=Se.return}}function iD(Se,Ie){jU=Se,gB=rD=null,Se=Se.dependencies,Se!==null&&Se.firstContext!==null&&(Se.lanes&Ie&&(wI=!0),Se.firstContext=null)}function pO(Se){var Ie=Se._currentValue;if(gB!==Se)if(Se={context:Se,memoizedValue:Ie,next:null},rD===null){if(jU===null)throw Error(te(308));rD=Se,jU.dependencies={lanes:0,firstContext:Se}}else rD=rD.next=Se;return Ie}var KP=null;function yB(Se){KP===null?KP=[Se]:KP.push(Se)}function sG(Se,Ie,Fe,Ot){var gn=Ie.interleaved;return gn===null?(Fe.next=Fe,yB(Ie)):(Fe.next=gn.next,gn.next=Fe),Ie.interleaved=Fe,IM(Se,Ot)}function IM(Se,Ie){Se.lanes|=Ie;var Fe=Se.alternate;for(Fe!==null&&(Fe.lanes|=Ie),Fe=Se,Se=Se.return;Se!==null;)Se.childLanes|=Ie,Fe=Se.alternate,Fe!==null&&(Fe.childLanes|=Ie),Fe=Se,Se=Se.return;return Fe.tag===3?Fe.stateNode:null}var sP=!1;function RB(Se){Se.updateQueue={baseState:Se.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rG(Se,Ie){Se=Se.updateQueue,Ie.updateQueue===Se&&(Ie.updateQueue={baseState:Se.baseState,firstBaseUpdate:Se.firstBaseUpdate,lastBaseUpdate:Se.lastBaseUpdate,shared:Se.shared,effects:Se.effects})}function AM(Se,Ie){return{eventTime:Se,lane:Ie,tag:0,payload:null,callback:null,next:null}}function rP(Se,Ie,Fe){var Ot=Se.updateQueue;if(Ot===null)return null;if(Ot=Ot.shared,WR&2){var gn=Ot.pending;return gn===null?Ie.next=Ie:(Ie.next=gn.next,gn.next=Ie),Ot.pending=Ie,IM(Se,Fe)}return gn=Ot.interleaved,gn===null?(Ie.next=Ie,yB(Ot)):(Ie.next=gn.next,gn.next=Ie),Ot.interleaved=Ie,IM(Se,Fe)}function GU(Se,Ie,Fe){if(Ie=Ie.updateQueue,Ie!==null&&(Ie=Ie.shared,(Fe&4194240)!==0)){var Ot=Ie.lanes;Ot&=Se.pendingLanes,Fe|=Ot,Ie.lanes=Fe,ly(Se,Fe)}}function iG(Se,Ie){var Fe=Se.updateQueue,Ot=Se.alternate;if(Ot!==null&&(Ot=Ot.updateQueue,Fe===Ot)){var gn=null,th=null;if(Fe=Fe.firstBaseUpdate,Fe!==null){do{var lE={eventTime:Fe.eventTime,lane:Fe.lane,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null};th===null?gn=th=lE:th=th.next=lE,Fe=Fe.next}while(Fe!==null);th===null?gn=th=Ie:th=th.next=Ie}else gn=th=Ie;Fe={baseState:Ot.baseState,firstBaseUpdate:gn,lastBaseUpdate:th,shared:Ot.shared,effects:Ot.effects},Se.updateQueue=Fe;return}Se=Fe.lastBaseUpdate,Se===null?Fe.firstBaseUpdate=Ie:Se.next=Ie,Fe.lastBaseUpdate=Ie}function kU(Se,Ie,Fe,Ot){var gn=Se.updateQueue;sP=!1;var th=gn.firstBaseUpdate,lE=gn.lastBaseUpdate,gE=gn.shared.pending;if(gE!==null){gn.shared.pending=null;var EE=gE,UE=EE.next;EE.next=null,lE===null?th=UE:lE.next=UE,lE=EE;var qE=Se.alternate;qE!==null&&(qE=qE.updateQueue,gE=qE.lastBaseUpdate,gE!==lE&&(gE===null?qE.firstBaseUpdate=UE:gE.next=UE,qE.lastBaseUpdate=EE))}if(th!==null){var KE=gn.baseState;lE=0,qE=UE=EE=null,gE=th;do{var WE=gE.lane,oR=gE.eventTime;if((Ot&WE)===WE){qE!==null&&(qE=qE.next={eventTime:oR,lane:0,tag:gE.tag,payload:gE.payload,callback:gE.callback,next:null});e:{var uR=Se,cR=gE;switch(WE=Ie,oR=Fe,cR.tag){case 1:if(uR=cR.payload,typeof uR=="function"){KE=uR.call(oR,KE,WE);break e}KE=uR;break e;case 3:uR.flags=uR.flags&-65537|128;case 0:if(uR=cR.payload,WE=typeof uR=="function"?uR.call(oR,KE,WE):uR,WE==null)break e;KE=Jp({},KE,WE);break e;case 2:sP=!0}}gE.callback!==null&&gE.lane!==0&&(Se.flags|=64,WE=gn.effects,WE===null?gn.effects=[gE]:WE.push(gE))}else oR={eventTime:oR,lane:WE,tag:gE.tag,payload:gE.payload,callback:gE.callback,next:null},qE===null?(UE=qE=oR,EE=KE):qE=qE.next=oR,lE|=WE;if(gE=gE.next,gE===null){if(gE=gn.shared.pending,gE===null)break;WE=gE,gE=WE.next,WE.next=null,gn.lastBaseUpdate=WE,gn.shared.pending=null}}while(!0);if(qE===null&&(EE=KE),gn.baseState=EE,gn.firstBaseUpdate=UE,gn.lastBaseUpdate=qE,Ie=gn.shared.interleaved,Ie!==null){gn=Ie;do lE|=gn.lane,gn=gn.next;while(gn!==Ie)}else th===null&&(gn.shared.lanes=0);JP|=lE,Se.lanes=lE,Se.memoizedState=KE}}function nG(Se,Ie,Fe){if(Se=Ie.effects,Ie.effects=null,Se!==null)for(Ie=0;Ie<Se.length;Ie++){var Ot=Se[Ie],gn=Ot.callback;if(gn!==null){if(Ot.callback=null,Ot=Fe,typeof gn!="function")throw Error(te(191,gn));gn.call(Ot)}}}var _L={},KC=JM(_L),gL=JM(_L),mL=JM(_L);function ZP(Se){if(Se===_L)throw Error(te(174));return Se}function TB(Se,Ie){switch(tT(mL,Ie),tT(gL,Se),tT(KC,_L),Se=Ie.nodeType,Se){case 9:case 11:Ie=(Ie=Ie.documentElement)?Ie.namespaceURI:MR(null,"");break;default:Se=Se===8?Ie.parentNode:Ie,Ie=Se.namespaceURI||null,Se=Se.tagName,Ie=MR(Ie,Se)}rT(KC),tT(KC,Ie)}function nD(){rT(KC),rT(gL),rT(mL)}function aG(Se){ZP(mL.current);var Ie=ZP(KC.current),Fe=MR(Ie,Se.type);Ie!==Fe&&(tT(gL,Se),tT(KC,Fe))}function SB(Se){gL.current===Se&&(rT(KC),rT(gL))}var lT=JM(0);function $U(Se){for(var Ie=Se;Ie!==null;){if(Ie.tag===13){var Fe=Ie.memoizedState;if(Fe!==null&&(Fe=Fe.dehydrated,Fe===null||Fe.data==="$?"||Fe.data==="$!"))return Ie}else if(Ie.tag===19&&Ie.memoizedProps.revealOrder!==void 0){if(Ie.flags&128)return Ie}else if(Ie.child!==null){Ie.child.return=Ie,Ie=Ie.child;continue}if(Ie===Se)break;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===Se)return null;Ie=Ie.return}Ie.sibling.return=Ie.return,Ie=Ie.sibling}return null}var bB=[];function IB(){for(var Se=0;Se<bB.length;Se++)bB[Se]._workInProgressVersionPrimary=null;bB.length=0}var HU=Be.ReactCurrentDispatcher,AB=Be.ReactCurrentBatchConfig,QP=0,uT=null,RT=null,xT=null,VU=!1,EL=!1,vL=0,c3=0;function $T(){throw Error(te(321))}function xB(Se,Ie){if(Ie===null)return!1;for(var Fe=0;Fe<Ie.length&&Fe<Se.length;Fe++)if(!FO(Se[Fe],Ie[Fe]))return!1;return!0}function OB(Se,Ie,Fe,Ot,gn,th){if(QP=th,uT=Ie,Ie.memoizedState=null,Ie.updateQueue=null,Ie.lanes=0,HU.current=Se===null||Se.memoizedState===null?p3:_3,Se=Fe(Ot,gn),EL){th=0;do{if(EL=!1,vL=0,25<=th)throw Error(te(301));th+=1,xT=RT=null,Ie.updateQueue=null,HU.current=g3,Se=Fe(Ot,gn)}while(EL)}if(HU.current=YU,Ie=RT!==null&&RT.next!==null,QP=0,xT=RT=uT=null,VU=!1,Ie)throw Error(te(300));return Se}function CB(){var Se=vL!==0;return vL=0,Se}function ZC(){var Se={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xT===null?uT.memoizedState=xT=Se:xT=xT.next=Se,xT}function _O(){if(RT===null){var Se=uT.alternate;Se=Se!==null?Se.memoizedState:null}else Se=RT.next;var Ie=xT===null?uT.memoizedState:xT.next;if(Ie!==null)xT=Ie,RT=Se;else{if(Se===null)throw Error(te(310));RT=Se,Se={memoizedState:RT.memoizedState,baseState:RT.baseState,baseQueue:RT.baseQueue,queue:RT.queue,next:null},xT===null?uT.memoizedState=xT=Se:xT=xT.next=Se}return xT}function yL(Se,Ie){return typeof Ie=="function"?Ie(Se):Ie}function MB(Se){var Ie=_O(),Fe=Ie.queue;if(Fe===null)throw Error(te(311));Fe.lastRenderedReducer=Se;var Ot=RT,gn=Ot.baseQueue,th=Fe.pending;if(th!==null){if(gn!==null){var lE=gn.next;gn.next=th.next,th.next=lE}Ot.baseQueue=gn=th,Fe.pending=null}if(gn!==null){th=gn.next,Ot=Ot.baseState;var gE=lE=null,EE=null,UE=th;do{var qE=UE.lane;if((QP&qE)===qE)EE!==null&&(EE=EE.next={lane:0,action:UE.action,hasEagerState:UE.hasEagerState,eagerState:UE.eagerState,next:null}),Ot=UE.hasEagerState?UE.eagerState:Se(Ot,UE.action);else{var KE={lane:qE,action:UE.action,hasEagerState:UE.hasEagerState,eagerState:UE.eagerState,next:null};EE===null?(gE=EE=KE,lE=Ot):EE=EE.next=KE,uT.lanes|=qE,JP|=qE}UE=UE.next}while(UE!==null&&UE!==th);EE===null?lE=Ot:EE.next=gE,FO(Ot,Ie.memoizedState)||(wI=!0),Ie.memoizedState=Ot,Ie.baseState=lE,Ie.baseQueue=EE,Fe.lastRenderedState=Ot}if(Se=Fe.interleaved,Se!==null){gn=Se;do th=gn.lane,uT.lanes|=th,JP|=th,gn=gn.next;while(gn!==Se)}else gn===null&&(Fe.lanes=0);return[Ie.memoizedState,Fe.dispatch]}function PB(Se){var Ie=_O(),Fe=Ie.queue;if(Fe===null)throw Error(te(311));Fe.lastRenderedReducer=Se;var Ot=Fe.dispatch,gn=Fe.pending,th=Ie.memoizedState;if(gn!==null){Fe.pending=null;var lE=gn=gn.next;do th=Se(th,lE.action),lE=lE.next;while(lE!==gn);FO(th,Ie.memoizedState)||(wI=!0),Ie.memoizedState=th,Ie.baseQueue===null&&(Ie.baseState=th),Fe.lastRenderedState=th}return[th,Ot]}function oG(){}function lG(Se,Ie){var Fe=uT,Ot=_O(),gn=Ie(),th=!FO(Ot.memoizedState,gn);if(th&&(Ot.memoizedState=gn,wI=!0),Ot=Ot.queue,wB(hG.bind(null,Fe,Ot,Se),[Se]),Ot.getSnapshot!==Ie||th||xT!==null&&xT.memoizedState.tag&1){if(Fe.flags|=2048,RL(9,cG.bind(null,Fe,Ot,gn,Ie),void 0,null),OT===null)throw Error(te(349));QP&30||uG(Fe,Ie,gn)}return gn}function uG(Se,Ie,Fe){Se.flags|=16384,Se={getSnapshot:Ie,value:Fe},Ie=uT.updateQueue,Ie===null?(Ie={lastEffect:null,stores:null},uT.updateQueue=Ie,Ie.stores=[Se]):(Fe=Ie.stores,Fe===null?Ie.stores=[Se]:Fe.push(Se))}function cG(Se,Ie,Fe,Ot){Ie.value=Fe,Ie.getSnapshot=Ot,dG(Ie)&&fG(Se)}function hG(Se,Ie,Fe){return Fe(function(){dG(Ie)&&fG(Se)})}function dG(Se){var Ie=Se.getSnapshot;Se=Se.value;try{var Fe=Ie();return!FO(Se,Fe)}catch{return!0}}function fG(Se){var Ie=IM(Se,1);Ie!==null&&$O(Ie,Se,1,-1)}function pG(Se){var Ie=ZC();return typeof Se=="function"&&(Se=Se()),Ie.memoizedState=Ie.baseState=Se,Se={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yL,lastRenderedState:Se},Ie.queue=Se,Se=Se.dispatch=f3.bind(null,uT,Se),[Ie.memoizedState,Se]}function RL(Se,Ie,Fe,Ot){return Se={tag:Se,create:Ie,destroy:Fe,deps:Ot,next:null},Ie=uT.updateQueue,Ie===null?(Ie={lastEffect:null,stores:null},uT.updateQueue=Ie,Ie.lastEffect=Se.next=Se):(Fe=Ie.lastEffect,Fe===null?Ie.lastEffect=Se.next=Se:(Ot=Fe.next,Fe.next=Se,Se.next=Ot,Ie.lastEffect=Se)),Se}function _G(){return _O().memoizedState}function zU(Se,Ie,Fe,Ot){var gn=ZC();uT.flags|=Se,gn.memoizedState=RL(1|Ie,Fe,void 0,Ot===void 0?null:Ot)}function WU(Se,Ie,Fe,Ot){var gn=_O();Ot=Ot===void 0?null:Ot;var th=void 0;if(RT!==null){var lE=RT.memoizedState;if(th=lE.destroy,Ot!==null&&xB(Ot,lE.deps)){gn.memoizedState=RL(Ie,Fe,th,Ot);return}}uT.flags|=Se,gn.memoizedState=RL(1|Ie,Fe,th,Ot)}function gG(Se,Ie){return zU(8390656,8,Se,Ie)}function wB(Se,Ie){return WU(2048,8,Se,Ie)}function mG(Se,Ie){return WU(4,2,Se,Ie)}function EG(Se,Ie){return WU(4,4,Se,Ie)}function vG(Se,Ie){if(typeof Ie=="function")return Se=Se(),Ie(Se),function(){Ie(null)};if(Ie!=null)return Se=Se(),Ie.current=Se,function(){Ie.current=null}}function yG(Se,Ie,Fe){return Fe=Fe!=null?Fe.concat([Se]):null,WU(4,4,vG.bind(null,Ie,Se),Fe)}function NB(){}function RG(Se,Ie){var Fe=_O();Ie=Ie===void 0?null:Ie;var Ot=Fe.memoizedState;return Ot!==null&&Ie!==null&&xB(Ie,Ot[1])?Ot[0]:(Fe.memoizedState=[Se,Ie],Se)}function TG(Se,Ie){var Fe=_O();Ie=Ie===void 0?null:Ie;var Ot=Fe.memoizedState;return Ot!==null&&Ie!==null&&xB(Ie,Ot[1])?Ot[0]:(Se=Se(),Fe.memoizedState=[Se,Ie],Se)}function SG(Se,Ie,Fe){return QP&21?(FO(Fe,Ie)||(Fe=_E(),uT.lanes|=Fe,JP|=Fe,Se.baseState=!0),Ie):(Se.baseState&&(Se.baseState=!1,wI=!0),Se.memoizedState=Fe)}function h3(Se,Ie){var Fe=rR;rR=Fe!==0&&4>Fe?Fe:4,Se(!0);var Ot=AB.transition;AB.transition={};try{Se(!1),Ie()}finally{rR=Fe,AB.transition=Ot}}function bG(){return _O().memoizedState}function d3(Se,Ie,Fe){var Ot=oP(Se);if(Fe={lane:Ot,action:Fe,hasEagerState:!1,eagerState:null,next:null},IG(Se))AG(Ie,Fe);else if(Fe=sG(Se,Ie,Fe,Ot),Fe!==null){var gn=iI();$O(Fe,Se,Ot,gn),xG(Fe,Ie,Ot)}}function f3(Se,Ie,Fe){var Ot=oP(Se),gn={lane:Ot,action:Fe,hasEagerState:!1,eagerState:null,next:null};if(IG(Se))AG(Ie,gn);else{var th=Se.alternate;if(Se.lanes===0&&(th===null||th.lanes===0)&&(th=Ie.lastRenderedReducer,th!==null))try{var lE=Ie.lastRenderedState,gE=th(lE,Fe);if(gn.hasEagerState=!0,gn.eagerState=gE,FO(gE,lE)){var EE=Ie.interleaved;EE===null?(gn.next=gn,yB(Ie)):(gn.next=EE.next,EE.next=gn),Ie.interleaved=gn;return}}catch{}finally{}Fe=sG(Se,Ie,gn,Ot),Fe!==null&&(gn=iI(),$O(Fe,Se,Ot,gn),xG(Fe,Ie,Ot))}}function IG(Se){var Ie=Se.alternate;return Se===uT||Ie!==null&&Ie===uT}function AG(Se,Ie){EL=VU=!0;var Fe=Se.pending;Fe===null?Ie.next=Ie:(Ie.next=Fe.next,Fe.next=Ie),Se.pending=Ie}function xG(Se,Ie,Fe){if(Fe&4194240){var Ot=Ie.lanes;Ot&=Se.pendingLanes,Fe|=Ot,Ie.lanes=Fe,ly(Se,Fe)}}var YU={readContext:pO,useCallback:$T,useContext:$T,useEffect:$T,useImperativeHandle:$T,useInsertionEffect:$T,useLayoutEffect:$T,useMemo:$T,useReducer:$T,useRef:$T,useState:$T,useDebugValue:$T,useDeferredValue:$T,useTransition:$T,useMutableSource:$T,useSyncExternalStore:$T,useId:$T,unstable_isNewReconciler:!1},p3={readContext:pO,useCallback:function(Se,Ie){return ZC().memoizedState=[Se,Ie===void 0?null:Ie],Se},useContext:pO,useEffect:gG,useImperativeHandle:function(Se,Ie,Fe){return Fe=Fe!=null?Fe.concat([Se]):null,zU(4194308,4,vG.bind(null,Ie,Se),Fe)},useLayoutEffect:function(Se,Ie){return zU(4194308,4,Se,Ie)},useInsertionEffect:function(Se,Ie){return zU(4,2,Se,Ie)},useMemo:function(Se,Ie){var Fe=ZC();return Ie=Ie===void 0?null:Ie,Se=Se(),Fe.memoizedState=[Se,Ie],Se},useReducer:function(Se,Ie,Fe){var Ot=ZC();return Ie=Fe!==void 0?Fe(Ie):Ie,Ot.memoizedState=Ot.baseState=Ie,Se={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Se,lastRenderedState:Ie},Ot.queue=Se,Se=Se.dispatch=d3.bind(null,uT,Se),[Ot.memoizedState,Se]},useRef:function(Se){var Ie=ZC();return Se={current:Se},Ie.memoizedState=Se},useState:pG,useDebugValue:NB,useDeferredValue:function(Se){return ZC().memoizedState=Se},useTransition:function(){var Se=pG(!1),Ie=Se[0];return Se=h3.bind(null,Se[1]),ZC().memoizedState=Se,[Ie,Se]},useMutableSource:function(){},useSyncExternalStore:function(Se,Ie,Fe){var Ot=uT,gn=ZC();if(aT){if(Fe===void 0)throw Error(te(407));Fe=Fe()}else{if(Fe=Ie(),OT===null)throw Error(te(349));QP&30||uG(Ot,Ie,Fe)}gn.memoizedState=Fe;var th={value:Fe,getSnapshot:Ie};return gn.queue=th,gG(hG.bind(null,Ot,th,Se),[Se]),Ot.flags|=2048,RL(9,cG.bind(null,Ot,th,Fe,Ie),void 0,null),Fe},useId:function(){var Se=ZC(),Ie=OT.identifierPrefix;if(aT){var Fe=bM,Ot=SM;Fe=(Ot&~(1<<32-yT(Ot)-1)).toString(32)+Fe,Ie=":"+Ie+"R"+Fe,Fe=vL++,0<Fe&&(Ie+="H"+Fe.toString(32)),Ie+=":"}else Fe=c3++,Ie=":"+Ie+"r"+Fe.toString(32)+":";return Se.memoizedState=Ie},unstable_isNewReconciler:!1},_3={readContext:pO,useCallback:RG,useContext:pO,useEffect:wB,useImperativeHandle:yG,useInsertionEffect:mG,useLayoutEffect:EG,useMemo:TG,useReducer:MB,useRef:_G,useState:function(){return MB(yL)},useDebugValue:NB,useDeferredValue:function(Se){var Ie=_O();return SG(Ie,RT.memoizedState,Se)},useTransition:function(){var Se=MB(yL)[0],Ie=_O().memoizedState;return[Se,Ie]},useMutableSource:oG,useSyncExternalStore:lG,useId:bG,unstable_isNewReconciler:!1},g3={readContext:pO,useCallback:RG,useContext:pO,useEffect:wB,useImperativeHandle:yG,useInsertionEffect:mG,useLayoutEffect:EG,useMemo:TG,useReducer:PB,useRef:_G,useState:function(){return PB(yL)},useDebugValue:NB,useDeferredValue:function(Se){var Ie=_O();return RT===null?Ie.memoizedState=Se:SG(Ie,RT.memoizedState,Se)},useTransition:function(){var Se=PB(yL)[0],Ie=_O().memoizedState;return[Se,Ie]},useMutableSource:oG,useSyncExternalStore:lG,useId:bG,unstable_isNewReconciler:!1};function jO(Se,Ie){if(Se&&Se.defaultProps){Ie=Jp({},Ie),Se=Se.defaultProps;for(var Fe in Se)Ie[Fe]===void 0&&(Ie[Fe]=Se[Fe]);return Ie}return Ie}function DB(Se,Ie,Fe,Ot){Ie=Se.memoizedState,Fe=Fe(Ot,Ie),Fe=Fe==null?Ie:Jp({},Ie,Fe),Se.memoizedState=Fe,Se.lanes===0&&(Se.updateQueue.baseState=Fe)}var qU={isMounted:function(Se){return(Se=Se._reactInternals)?yI(Se)===Se:!1},enqueueSetState:function(Se,Ie,Fe){Se=Se._reactInternals;var Ot=iI(),gn=oP(Se),th=AM(Ot,gn);th.payload=Ie,Fe!=null&&(th.callback=Fe),Ie=rP(Se,th,gn),Ie!==null&&($O(Ie,Se,gn,Ot),GU(Ie,Se,gn))},enqueueReplaceState:function(Se,Ie,Fe){Se=Se._reactInternals;var Ot=iI(),gn=oP(Se),th=AM(Ot,gn);th.tag=1,th.payload=Ie,Fe!=null&&(th.callback=Fe),Ie=rP(Se,th,gn),Ie!==null&&($O(Ie,Se,gn,Ot),GU(Ie,Se,gn))},enqueueForceUpdate:function(Se,Ie){Se=Se._reactInternals;var Fe=iI(),Ot=oP(Se),gn=AM(Fe,Ot);gn.tag=2,Ie!=null&&(gn.callback=Ie),Ie=rP(Se,gn,Ot),Ie!==null&&($O(Ie,Se,Ot,Fe),GU(Ie,Se,Ot))}};function OG(Se,Ie,Fe,Ot,gn,th,lE){return Se=Se.stateNode,typeof Se.shouldComponentUpdate=="function"?Se.shouldComponentUpdate(Ot,th,lE):Ie.prototype&&Ie.prototype.isPureReactComponent?!oL(Fe,Ot)||!oL(gn,th):!0}function CG(Se,Ie,Fe){var Ot=!1,gn=eP,th=Ie.contextType;return typeof th=="object"&&th!==null?th=pO(th):(gn=PI(Ie)?YP:kT.current,Ot=Ie.contextTypes,th=(Ot=Ot!=null)?QN(Se,gn):eP),Ie=new Ie(Fe,th),Se.memoizedState=Ie.state!==null&&Ie.state!==void 0?Ie.state:null,Ie.updater=qU,Se.stateNode=Ie,Ie._reactInternals=Se,Ot&&(Se=Se.stateNode,Se.__reactInternalMemoizedUnmaskedChildContext=gn,Se.__reactInternalMemoizedMaskedChildContext=th),Ie}function MG(Se,Ie,Fe,Ot){Se=Ie.state,typeof Ie.componentWillReceiveProps=="function"&&Ie.componentWillReceiveProps(Fe,Ot),typeof Ie.UNSAFE_componentWillReceiveProps=="function"&&Ie.UNSAFE_componentWillReceiveProps(Fe,Ot),Ie.state!==Se&&qU.enqueueReplaceState(Ie,Ie.state,null)}function LB(Se,Ie,Fe,Ot){var gn=Se.stateNode;gn.props=Fe,gn.state=Se.memoizedState,gn.refs={},RB(Se);var th=Ie.contextType;typeof th=="object"&&th!==null?gn.context=pO(th):(th=PI(Ie)?YP:kT.current,gn.context=QN(Se,th)),gn.state=Se.memoizedState,th=Ie.getDerivedStateFromProps,typeof th=="function"&&(DB(Se,Ie,th,Fe),gn.state=Se.memoizedState),typeof Ie.getDerivedStateFromProps=="function"||typeof gn.getSnapshotBeforeUpdate=="function"||typeof gn.UNSAFE_componentWillMount!="function"&&typeof gn.componentWillMount!="function"||(Ie=gn.state,typeof gn.componentWillMount=="function"&&gn.componentWillMount(),typeof gn.UNSAFE_componentWillMount=="function"&&gn.UNSAFE_componentWillMount(),Ie!==gn.state&&qU.enqueueReplaceState(gn,gn.state,null),kU(Se,Fe,gn,Ot),gn.state=Se.memoizedState),typeof gn.componentDidMount=="function"&&(Se.flags|=4194308)}function aD(Se,Ie){try{var Fe="",Ot=Ie;do Fe+=fE(Ot),Ot=Ot.return;while(Ot);var gn=Fe}catch(th){gn=`
Error generating stack: `+th.message+`
`+th.stack}return{value:Se,source:Ie,stack:gn,digest:null}}function UB(Se,Ie,Fe){return{value:Se,source:null,stack:Fe??null,digest:Ie??null}}function FB(Se,Ie){try{console.error(Ie.value)}catch(Fe){setTimeout(function(){throw Fe})}}var m3=typeof WeakMap=="function"?WeakMap:Map;function PG(Se,Ie,Fe){Fe=AM(-1,Fe),Fe.tag=3,Fe.payload={element:null};var Ot=Ie.value;return Fe.callback=function(){tF||(tF=!0,QB=Ot),FB(Se,Ie)},Fe}function wG(Se,Ie,Fe){Fe=AM(-1,Fe),Fe.tag=3;var Ot=Se.type.getDerivedStateFromError;if(typeof Ot=="function"){var gn=Ie.value;Fe.payload=function(){return Ot(gn)},Fe.callback=function(){FB(Se,Ie)}}var th=Se.stateNode;return th!==null&&typeof th.componentDidCatch=="function"&&(Fe.callback=function(){FB(Se,Ie),typeof Ot!="function"&&(nP===null?nP=new Set([this]):nP.add(this));var lE=Ie.stack;this.componentDidCatch(Ie.value,{componentStack:lE!==null?lE:""})}),Fe}function NG(Se,Ie,Fe){var Ot=Se.pingCache;if(Ot===null){Ot=Se.pingCache=new m3;var gn=new Set;Ot.set(Ie,gn)}else gn=Ot.get(Ie),gn===void 0&&(gn=new Set,Ot.set(Ie,gn));gn.has(Fe)||(gn.add(Fe),Se=P3.bind(null,Se,Ie,Fe),Ie.then(Se,Se))}function DG(Se){do{var Ie;if((Ie=Se.tag===13)&&(Ie=Se.memoizedState,Ie=Ie!==null?Ie.dehydrated!==null:!0),Ie)return Se;Se=Se.return}while(Se!==null);return null}function LG(Se,Ie,Fe,Ot,gn){return Se.mode&1?(Se.flags|=65536,Se.lanes=gn,Se):(Se===Ie?Se.flags|=65536:(Se.flags|=128,Fe.flags|=131072,Fe.flags&=-52805,Fe.tag===1&&(Fe.alternate===null?Fe.tag=17:(Ie=AM(-1,1),Ie.tag=2,rP(Fe,Ie,1))),Fe.lanes|=1),Se)}var E3=Be.ReactCurrentOwner,wI=!1;function rI(Se,Ie,Fe,Ot){Ie.child=Se===null?tG(Ie,null,Fe,Ot):sD(Ie,Se.child,Fe,Ot)}function UG(Se,Ie,Fe,Ot,gn){Fe=Fe.render;var th=Ie.ref;return iD(Ie,gn),Ot=OB(Se,Ie,Fe,Ot,th,gn),Fe=CB(),Se!==null&&!wI?(Ie.updateQueue=Se.updateQueue,Ie.flags&=-2053,Se.lanes&=~gn,xM(Se,Ie,gn)):(aT&&Fe&&hB(Ie),Ie.flags|=1,rI(Se,Ie,Ot,gn),Ie.child)}function FG(Se,Ie,Fe,Ot,gn){if(Se===null){var th=Fe.type;return typeof th=="function"&&!nj(th)&&th.defaultProps===void 0&&Fe.compare===null&&Fe.defaultProps===void 0?(Ie.tag=15,Ie.type=th,BG(Se,Ie,th,Ot,gn)):(Se=oF(Fe.type,null,Ot,Ie,Ie.mode,gn),Se.ref=Ie.ref,Se.return=Ie,Ie.child=Se)}if(th=Se.child,!(Se.lanes&gn)){var lE=th.memoizedProps;if(Fe=Fe.compare,Fe=Fe!==null?Fe:oL,Fe(lE,Ot)&&Se.ref===Ie.ref)return xM(Se,Ie,gn)}return Ie.flags|=1,Se=uP(th,Ot),Se.ref=Ie.ref,Se.return=Ie,Ie.child=Se}function BG(Se,Ie,Fe,Ot,gn){if(Se!==null){var th=Se.memoizedProps;if(oL(th,Ot)&&Se.ref===Ie.ref)if(wI=!1,Ie.pendingProps=Ot=th,(Se.lanes&gn)!==0)Se.flags&131072&&(wI=!0);else return Ie.lanes=Se.lanes,xM(Se,Ie,gn)}return BB(Se,Ie,Fe,Ot,gn)}function jG(Se,Ie,Fe){var Ot=Ie.pendingProps,gn=Ot.children,th=Se!==null?Se.memoizedState:null;if(Ot.mode==="hidden")if(!(Ie.mode&1))Ie.memoizedState={baseLanes:0,cachePool:null,transitions:null},tT(lD,KI),KI|=Fe;else{if(!(Fe&1073741824))return Se=th!==null?th.baseLanes|Fe:Fe,Ie.lanes=Ie.childLanes=1073741824,Ie.memoizedState={baseLanes:Se,cachePool:null,transitions:null},Ie.updateQueue=null,tT(lD,KI),KI|=Se,null;Ie.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot=th!==null?th.baseLanes:Fe,tT(lD,KI),KI|=Ot}else th!==null?(Ot=th.baseLanes|Fe,Ie.memoizedState=null):Ot=Fe,tT(lD,KI),KI|=Ot;return rI(Se,Ie,gn,Fe),Ie.child}function GG(Se,Ie){var Fe=Ie.ref;(Se===null&&Fe!==null||Se!==null&&Se.ref!==Fe)&&(Ie.flags|=512,Ie.flags|=2097152)}function BB(Se,Ie,Fe,Ot,gn){var th=PI(Fe)?YP:kT.current;return th=QN(Ie,th),iD(Ie,gn),Fe=OB(Se,Ie,Fe,Ot,th,gn),Ot=CB(),Se!==null&&!wI?(Ie.updateQueue=Se.updateQueue,Ie.flags&=-2053,Se.lanes&=~gn,xM(Se,Ie,gn)):(aT&&Ot&&hB(Ie),Ie.flags|=1,rI(Se,Ie,Fe,gn),Ie.child)}function kG(Se,Ie,Fe,Ot,gn){if(PI(Fe)){var th=!0;wU(Ie)}else th=!1;if(iD(Ie,gn),Ie.stateNode===null)KU(Se,Ie),CG(Ie,Fe,Ot),LB(Ie,Fe,Ot,gn),Ot=!0;else if(Se===null){var lE=Ie.stateNode,gE=Ie.memoizedProps;lE.props=gE;var EE=lE.context,UE=Fe.contextType;typeof UE=="object"&&UE!==null?UE=pO(UE):(UE=PI(Fe)?YP:kT.current,UE=QN(Ie,UE));var qE=Fe.getDerivedStateFromProps,KE=typeof qE=="function"||typeof lE.getSnapshotBeforeUpdate=="function";KE||typeof lE.UNSAFE_componentWillReceiveProps!="function"&&typeof lE.componentWillReceiveProps!="function"||(gE!==Ot||EE!==UE)&&MG(Ie,lE,Ot,UE),sP=!1;var WE=Ie.memoizedState;lE.state=WE,kU(Ie,Ot,lE,gn),EE=Ie.memoizedState,gE!==Ot||WE!==EE||MI.current||sP?(typeof qE=="function"&&(DB(Ie,Fe,qE,Ot),EE=Ie.memoizedState),(gE=sP||OG(Ie,Fe,gE,Ot,WE,EE,UE))?(KE||typeof lE.UNSAFE_componentWillMount!="function"&&typeof lE.componentWillMount!="function"||(typeof lE.componentWillMount=="function"&&lE.componentWillMount(),typeof lE.UNSAFE_componentWillMount=="function"&&lE.UNSAFE_componentWillMount()),typeof lE.componentDidMount=="function"&&(Ie.flags|=4194308)):(typeof lE.componentDidMount=="function"&&(Ie.flags|=4194308),Ie.memoizedProps=Ot,Ie.memoizedState=EE),lE.props=Ot,lE.state=EE,lE.context=UE,Ot=gE):(typeof lE.componentDidMount=="function"&&(Ie.flags|=4194308),Ot=!1)}else{lE=Ie.stateNode,rG(Se,Ie),gE=Ie.memoizedProps,UE=Ie.type===Ie.elementType?gE:jO(Ie.type,gE),lE.props=UE,KE=Ie.pendingProps,WE=lE.context,EE=Fe.contextType,typeof EE=="object"&&EE!==null?EE=pO(EE):(EE=PI(Fe)?YP:kT.current,EE=QN(Ie,EE));var oR=Fe.getDerivedStateFromProps;(qE=typeof oR=="function"||typeof lE.getSnapshotBeforeUpdate=="function")||typeof lE.UNSAFE_componentWillReceiveProps!="function"&&typeof lE.componentWillReceiveProps!="function"||(gE!==KE||WE!==EE)&&MG(Ie,lE,Ot,EE),sP=!1,WE=Ie.memoizedState,lE.state=WE,kU(Ie,Ot,lE,gn);var uR=Ie.memoizedState;gE!==KE||WE!==uR||MI.current||sP?(typeof oR=="function"&&(DB(Ie,Fe,oR,Ot),uR=Ie.memoizedState),(UE=sP||OG(Ie,Fe,UE,Ot,WE,uR,EE)||!1)?(qE||typeof lE.UNSAFE_componentWillUpdate!="function"&&typeof lE.componentWillUpdate!="function"||(typeof lE.componentWillUpdate=="function"&&lE.componentWillUpdate(Ot,uR,EE),typeof lE.UNSAFE_componentWillUpdate=="function"&&lE.UNSAFE_componentWillUpdate(Ot,uR,EE)),typeof lE.componentDidUpdate=="function"&&(Ie.flags|=4),typeof lE.getSnapshotBeforeUpdate=="function"&&(Ie.flags|=1024)):(typeof lE.componentDidUpdate!="function"||gE===Se.memoizedProps&&WE===Se.memoizedState||(Ie.flags|=4),typeof lE.getSnapshotBeforeUpdate!="function"||gE===Se.memoizedProps&&WE===Se.memoizedState||(Ie.flags|=1024),Ie.memoizedProps=Ot,Ie.memoizedState=uR),lE.props=Ot,lE.state=uR,lE.context=EE,Ot=UE):(typeof lE.componentDidUpdate!="function"||gE===Se.memoizedProps&&WE===Se.memoizedState||(Ie.flags|=4),typeof lE.getSnapshotBeforeUpdate!="function"||gE===Se.memoizedProps&&WE===Se.memoizedState||(Ie.flags|=1024),Ot=!1)}return jB(Se,Ie,Fe,Ot,th,gn)}function jB(Se,Ie,Fe,Ot,gn,th){GG(Se,Ie);var lE=(Ie.flags&128)!==0;if(!Ot&&!lE)return gn&&Wj(Ie,Fe,!1),xM(Se,Ie,th);Ot=Ie.stateNode,E3.current=Ie;var gE=lE&&typeof Fe.getDerivedStateFromError!="function"?null:Ot.render();return Ie.flags|=1,Se!==null&&lE?(Ie.child=sD(Ie,Se.child,null,th),Ie.child=sD(Ie,null,gE,th)):rI(Se,Ie,gE,th),Ie.memoizedState=Ot.state,gn&&Wj(Ie,Fe,!0),Ie.child}function $G(Se){var Ie=Se.stateNode;Ie.pendingContext?Vj(Se,Ie.pendingContext,Ie.pendingContext!==Ie.context):Ie.context&&Vj(Se,Ie.context,!1),TB(Se,Ie.containerInfo)}function HG(Se,Ie,Fe,Ot,gn){return tD(),_B(gn),Ie.flags|=256,rI(Se,Ie,Fe,Ot),Ie.child}var GB={dehydrated:null,treeContext:null,retryLane:0};function kB(Se){return{baseLanes:Se,cachePool:null,transitions:null}}function VG(Se,Ie,Fe){var Ot=Ie.pendingProps,gn=lT.current,th=!1,lE=(Ie.flags&128)!==0,gE;if((gE=lE)||(gE=Se!==null&&Se.memoizedState===null?!1:(gn&2)!==0),gE?(th=!0,Ie.flags&=-129):(Se===null||Se.memoizedState!==null)&&(gn|=1),tT(lT,gn&1),Se===null)return pB(Ie),Se=Ie.memoizedState,Se!==null&&(Se=Se.dehydrated,Se!==null)?(Ie.mode&1?Se.data==="$!"?Ie.lanes=8:Ie.lanes=1073741824:Ie.lanes=1,null):(lE=Ot.children,Se=Ot.fallback,th?(Ot=Ie.mode,th=Ie.child,lE={mode:"hidden",children:lE},!(Ot&1)&&th!==null?(th.childLanes=0,th.pendingProps=lE):th=lF(lE,Ot,0,null),Se=rN(Se,Ot,Fe,null),th.return=Ie,Se.return=Ie,th.sibling=Se,Ie.child=th,Ie.child.memoizedState=kB(Fe),Ie.memoizedState=GB,Se):$B(Ie,lE));if(gn=Se.memoizedState,gn!==null&&(gE=gn.dehydrated,gE!==null))return v3(Se,Ie,lE,Ot,gE,gn,Fe);if(th){th=Ot.fallback,lE=Ie.mode,gn=Se.child,gE=gn.sibling;var EE={mode:"hidden",children:Ot.children};return!(lE&1)&&Ie.child!==gn?(Ot=Ie.child,Ot.childLanes=0,Ot.pendingProps=EE,Ie.deletions=null):(Ot=uP(gn,EE),Ot.subtreeFlags=gn.subtreeFlags&14680064),gE!==null?th=uP(gE,th):(th=rN(th,lE,Fe,null),th.flags|=2),th.return=Ie,Ot.return=Ie,Ot.sibling=th,Ie.child=Ot,Ot=th,th=Ie.child,lE=Se.child.memoizedState,lE=lE===null?kB(Fe):{baseLanes:lE.baseLanes|Fe,cachePool:null,transitions:lE.transitions},th.memoizedState=lE,th.childLanes=Se.childLanes&~Fe,Ie.memoizedState=GB,Ot}return th=Se.child,Se=th.sibling,Ot=uP(th,{mode:"visible",children:Ot.children}),!(Ie.mode&1)&&(Ot.lanes=Fe),Ot.return=Ie,Ot.sibling=null,Se!==null&&(Fe=Ie.deletions,Fe===null?(Ie.deletions=[Se],Ie.flags|=16):Fe.push(Se)),Ie.child=Ot,Ie.memoizedState=null,Ot}function $B(Se,Ie){return Ie=lF({mode:"visible",children:Ie},Se.mode,0,null),Ie.return=Se,Se.child=Ie}function XU(Se,Ie,Fe,Ot){return Ot!==null&&_B(Ot),sD(Ie,Se.child,null,Fe),Se=$B(Ie,Ie.pendingProps.children),Se.flags|=2,Ie.memoizedState=null,Se}function v3(Se,Ie,Fe,Ot,gn,th,lE){if(Fe)return Ie.flags&256?(Ie.flags&=-257,Ot=UB(Error(te(422))),XU(Se,Ie,lE,Ot)):Ie.memoizedState!==null?(Ie.child=Se.child,Ie.flags|=128,null):(th=Ot.fallback,gn=Ie.mode,Ot=lF({mode:"visible",children:Ot.children},gn,0,null),th=rN(th,gn,lE,null),th.flags|=2,Ot.return=Ie,th.return=Ie,Ot.sibling=th,Ie.child=Ot,Ie.mode&1&&sD(Ie,Se.child,null,lE),Ie.child.memoizedState=kB(lE),Ie.memoizedState=GB,th);if(!(Ie.mode&1))return XU(Se,Ie,lE,null);if(gn.data==="$!"){if(Ot=gn.nextSibling&&gn.nextSibling.dataset,Ot)var gE=Ot.dgst;return Ot=gE,th=Error(te(419)),Ot=UB(th,Ot,void 0),XU(Se,Ie,lE,Ot)}if(gE=(lE&Se.childLanes)!==0,wI||gE){if(Ot=OT,Ot!==null){switch(lE&-lE){case 4:gn=2;break;case 16:gn=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:gn=32;break;case 536870912:gn=268435456;break;default:gn=0}gn=gn&(Ot.suspendedLanes|lE)?0:gn,gn!==0&&gn!==th.retryLane&&(th.retryLane=gn,IM(Se,gn),$O(Ot,Se,gn,-1))}return ij(),Ot=UB(Error(te(421))),XU(Se,Ie,lE,Ot)}return gn.data==="$?"?(Ie.flags|=128,Ie.child=Se.child,Ie=w3.bind(null,Se),gn._reactRetry=Ie,null):(Se=th.treeContext,XI=QM(gn.nextSibling),qI=Ie,aT=!0,BO=null,Se!==null&&(dO[fO++]=SM,dO[fO++]=bM,dO[fO++]=qP,SM=Se.id,bM=Se.overflow,qP=Ie),Ie=$B(Ie,Ot.children),Ie.flags|=4096,Ie)}function zG(Se,Ie,Fe){Se.lanes|=Ie;var Ot=Se.alternate;Ot!==null&&(Ot.lanes|=Ie),vB(Se.return,Ie,Fe)}function HB(Se,Ie,Fe,Ot,gn){var th=Se.memoizedState;th===null?Se.memoizedState={isBackwards:Ie,rendering:null,renderingStartTime:0,last:Ot,tail:Fe,tailMode:gn}:(th.isBackwards=Ie,th.rendering=null,th.renderingStartTime=0,th.last=Ot,th.tail=Fe,th.tailMode=gn)}function WG(Se,Ie,Fe){var Ot=Ie.pendingProps,gn=Ot.revealOrder,th=Ot.tail;if(rI(Se,Ie,Ot.children,Fe),Ot=lT.current,Ot&2)Ot=Ot&1|2,Ie.flags|=128;else{if(Se!==null&&Se.flags&128)e:for(Se=Ie.child;Se!==null;){if(Se.tag===13)Se.memoizedState!==null&&zG(Se,Fe,Ie);else if(Se.tag===19)zG(Se,Fe,Ie);else if(Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===Ie)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===Ie)break e;Se=Se.return}Se.sibling.return=Se.return,Se=Se.sibling}Ot&=1}if(tT(lT,Ot),!(Ie.mode&1))Ie.memoizedState=null;else switch(gn){case"forwards":for(Fe=Ie.child,gn=null;Fe!==null;)Se=Fe.alternate,Se!==null&&$U(Se)===null&&(gn=Fe),Fe=Fe.sibling;Fe=gn,Fe===null?(gn=Ie.child,Ie.child=null):(gn=Fe.sibling,Fe.sibling=null),HB(Ie,!1,gn,Fe,th);break;case"backwards":for(Fe=null,gn=Ie.child,Ie.child=null;gn!==null;){if(Se=gn.alternate,Se!==null&&$U(Se)===null){Ie.child=gn;break}Se=gn.sibling,gn.sibling=Fe,Fe=gn,gn=Se}HB(Ie,!0,Fe,null,th);break;case"together":HB(Ie,!1,null,null,void 0);break;default:Ie.memoizedState=null}return Ie.child}function KU(Se,Ie){!(Ie.mode&1)&&Se!==null&&(Se.alternate=null,Ie.alternate=null,Ie.flags|=2)}function xM(Se,Ie,Fe){if(Se!==null&&(Ie.dependencies=Se.dependencies),JP|=Ie.lanes,!(Fe&Ie.childLanes))return null;if(Se!==null&&Ie.child!==Se.child)throw Error(te(153));if(Ie.child!==null){for(Se=Ie.child,Fe=uP(Se,Se.pendingProps),Ie.child=Fe,Fe.return=Ie;Se.sibling!==null;)Se=Se.sibling,Fe=Fe.sibling=uP(Se,Se.pendingProps),Fe.return=Ie;Fe.sibling=null}return Ie.child}function y3(Se,Ie,Fe){switch(Ie.tag){case 3:$G(Ie),tD();break;case 5:aG(Ie);break;case 1:PI(Ie.type)&&wU(Ie);break;case 4:TB(Ie,Ie.stateNode.containerInfo);break;case 10:var Ot=Ie.type._context,gn=Ie.memoizedProps.value;tT(BU,Ot._currentValue),Ot._currentValue=gn;break;case 13:if(Ot=Ie.memoizedState,Ot!==null)return Ot.dehydrated!==null?(tT(lT,lT.current&1),Ie.flags|=128,null):Fe&Ie.child.childLanes?VG(Se,Ie,Fe):(tT(lT,lT.current&1),Se=xM(Se,Ie,Fe),Se!==null?Se.sibling:null);tT(lT,lT.current&1);break;case 19:if(Ot=(Fe&Ie.childLanes)!==0,Se.flags&128){if(Ot)return WG(Se,Ie,Fe);Ie.flags|=128}if(gn=Ie.memoizedState,gn!==null&&(gn.rendering=null,gn.tail=null,gn.lastEffect=null),tT(lT,lT.current),Ot)break;return null;case 22:case 23:return Ie.lanes=0,jG(Se,Ie,Fe)}return xM(Se,Ie,Fe)}var YG,VB,qG,XG;YG=function(Se,Ie){for(var Fe=Ie.child;Fe!==null;){if(Fe.tag===5||Fe.tag===6)Se.appendChild(Fe.stateNode);else if(Fe.tag!==4&&Fe.child!==null){Fe.child.return=Fe,Fe=Fe.child;continue}if(Fe===Ie)break;for(;Fe.sibling===null;){if(Fe.return===null||Fe.return===Ie)return;Fe=Fe.return}Fe.sibling.return=Fe.return,Fe=Fe.sibling}},VB=function(){},qG=function(Se,Ie,Fe,Ot){var gn=Se.memoizedProps;if(gn!==Ot){Se=Ie.stateNode,ZP(KC.current);var th=null;switch(Fe){case"input":gn=YE(Se,gn),Ot=YE(Se,Ot),th=[];break;case"select":gn=Jp({},gn,{value:void 0}),Ot=Jp({},Ot,{value:void 0}),th=[];break;case"textarea":gn=ZE(Se,gn),Ot=ZE(Se,Ot),th=[];break;default:typeof gn.onClick!="function"&&typeof Ot.onClick=="function"&&(Se.onclick=CU)}LE(Fe,Ot);var lE;Fe=null;for(UE in gn)if(!Ot.hasOwnProperty(UE)&&gn.hasOwnProperty(UE)&&gn[UE]!=null)if(UE==="style"){var gE=gn[UE];for(lE in gE)gE.hasOwnProperty(lE)&&(Fe||(Fe={}),Fe[lE]="")}else UE!=="dangerouslySetInnerHTML"&&UE!=="children"&&UE!=="suppressContentEditableWarning"&&UE!=="suppressHydrationWarning"&&UE!=="autoFocus"&&(ne.hasOwnProperty(UE)?th||(th=[]):(th=th||[]).push(UE,null));for(UE in Ot){var EE=Ot[UE];if(gE=gn!=null?gn[UE]:void 0,Ot.hasOwnProperty(UE)&&EE!==gE&&(EE!=null||gE!=null))if(UE==="style")if(gE){for(lE in gE)!gE.hasOwnProperty(lE)||EE&&EE.hasOwnProperty(lE)||(Fe||(Fe={}),Fe[lE]="");for(lE in EE)EE.hasOwnProperty(lE)&&gE[lE]!==EE[lE]&&(Fe||(Fe={}),Fe[lE]=EE[lE])}else Fe||(th||(th=[]),th.push(UE,Fe)),Fe=EE;else UE==="dangerouslySetInnerHTML"?(EE=EE?EE.__html:void 0,gE=gE?gE.__html:void 0,EE!=null&&gE!==EE&&(th=th||[]).push(UE,EE)):UE==="children"?typeof EE!="string"&&typeof EE!="number"||(th=th||[]).push(UE,""+EE):UE!=="suppressContentEditableWarning"&&UE!=="suppressHydrationWarning"&&(ne.hasOwnProperty(UE)?(EE!=null&&UE==="onScroll"&&sT("scroll",Se),th||gE===EE||(th=[])):(th=th||[]).push(UE,EE))}Fe&&(th=th||[]).push("style",Fe);var UE=th;(Ie.updateQueue=UE)&&(Ie.flags|=4)}},XG=function(Se,Ie,Fe,Ot){Fe!==Ot&&(Ie.flags|=4)};function TL(Se,Ie){if(!aT)switch(Se.tailMode){case"hidden":Ie=Se.tail;for(var Fe=null;Ie!==null;)Ie.alternate!==null&&(Fe=Ie),Ie=Ie.sibling;Fe===null?Se.tail=null:Fe.sibling=null;break;case"collapsed":Fe=Se.tail;for(var Ot=null;Fe!==null;)Fe.alternate!==null&&(Ot=Fe),Fe=Fe.sibling;Ot===null?Ie||Se.tail===null?Se.tail=null:Se.tail.sibling=null:Ot.sibling=null}}function HT(Se){var Ie=Se.alternate!==null&&Se.alternate.child===Se.child,Fe=0,Ot=0;if(Ie)for(var gn=Se.child;gn!==null;)Fe|=gn.lanes|gn.childLanes,Ot|=gn.subtreeFlags&14680064,Ot|=gn.flags&14680064,gn.return=Se,gn=gn.sibling;else for(gn=Se.child;gn!==null;)Fe|=gn.lanes|gn.childLanes,Ot|=gn.subtreeFlags,Ot|=gn.flags,gn.return=Se,gn=gn.sibling;return Se.subtreeFlags|=Ot,Se.childLanes=Fe,Ie}function R3(Se,Ie,Fe){var Ot=Ie.pendingProps;switch(dB(Ie),Ie.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return HT(Ie),null;case 1:return PI(Ie.type)&&PU(),HT(Ie),null;case 3:return Ot=Ie.stateNode,nD(),rT(MI),rT(kT),IB(),Ot.pendingContext&&(Ot.context=Ot.pendingContext,Ot.pendingContext=null),(Se===null||Se.child===null)&&(UU(Ie)?Ie.flags|=4:Se===null||Se.memoizedState.isDehydrated&&!(Ie.flags&256)||(Ie.flags|=1024,BO!==null&&(tj(BO),BO=null))),VB(Se,Ie),HT(Ie),null;case 5:SB(Ie);var gn=ZP(mL.current);if(Fe=Ie.type,Se!==null&&Ie.stateNode!=null)qG(Se,Ie,Fe,Ot,gn),Se.ref!==Ie.ref&&(Ie.flags|=512,Ie.flags|=2097152);else{if(!Ot){if(Ie.stateNode===null)throw Error(te(166));return HT(Ie),null}if(Se=ZP(KC.current),UU(Ie)){Ot=Ie.stateNode,Fe=Ie.type;var th=Ie.memoizedProps;switch(Ot[XC]=Ie,Ot[dL]=th,Se=(Ie.mode&1)!==0,Fe){case"dialog":sT("cancel",Ot),sT("close",Ot);break;case"iframe":case"object":case"embed":sT("load",Ot);break;case"video":case"audio":for(gn=0;gn<uL.length;gn++)sT(uL[gn],Ot);break;case"source":sT("error",Ot);break;case"img":case"image":case"link":sT("error",Ot),sT("load",Ot);break;case"details":sT("toggle",Ot);break;case"input":HE(Ot,th),sT("invalid",Ot);break;case"select":Ot._wrapperState={wasMultiple:!!th.multiple},sT("invalid",Ot);break;case"textarea":vE(Ot,th),sT("invalid",Ot)}LE(Fe,th),gn=null;for(var lE in th)if(th.hasOwnProperty(lE)){var gE=th[lE];lE==="children"?typeof gE=="string"?Ot.textContent!==gE&&(th.suppressHydrationWarning!==!0&&OU(Ot.textContent,gE,Se),gn=["children",gE]):typeof gE=="number"&&Ot.textContent!==""+gE&&(th.suppressHydrationWarning!==!0&&OU(Ot.textContent,gE,Se),gn=["children",""+gE]):ne.hasOwnProperty(lE)&&gE!=null&&lE==="onScroll"&&sT("scroll",Ot)}switch(Fe){case"input":jE(Ot),xE(Ot,th,!0);break;case"textarea":jE(Ot),pR(Ot);break;case"select":case"option":break;default:typeof th.onClick=="function"&&(Ot.onclick=CU)}Ot=gn,Ie.updateQueue=Ot,Ot!==null&&(Ie.flags|=4)}else{lE=gn.nodeType===9?gn:gn.ownerDocument,Se==="http://www.w3.org/1999/xhtml"&&(Se=CR(Fe)),Se==="http://www.w3.org/1999/xhtml"?Fe==="script"?(Se=lE.createElement("div"),Se.innerHTML="<script><\/script>",Se=Se.removeChild(Se.firstChild)):typeof Ot.is=="string"?Se=lE.createElement(Fe,{is:Ot.is}):(Se=lE.createElement(Fe),Fe==="select"&&(lE=Se,Ot.multiple?lE.multiple=!0:Ot.size&&(lE.size=Ot.size))):Se=lE.createElementNS(Se,Fe),Se[XC]=Ie,Se[dL]=Ot,YG(Se,Ie,!1,!1),Ie.stateNode=Se;e:{switch(lE=GR(Fe,Ot),Fe){case"dialog":sT("cancel",Se),sT("close",Se),gn=Ot;break;case"iframe":case"object":case"embed":sT("load",Se),gn=Ot;break;case"video":case"audio":for(gn=0;gn<uL.length;gn++)sT(uL[gn],Se);gn=Ot;break;case"source":sT("error",Se),gn=Ot;break;case"img":case"image":case"link":sT("error",Se),sT("load",Se),gn=Ot;break;case"details":sT("toggle",Se),gn=Ot;break;case"input":HE(Se,Ot),gn=YE(Se,Ot),sT("invalid",Se);break;case"option":gn=Ot;break;case"select":Se._wrapperState={wasMultiple:!!Ot.multiple},gn=Jp({},Ot,{value:void 0}),sT("invalid",Se);break;case"textarea":vE(Se,Ot),gn=ZE(Se,Ot),sT("invalid",Se);break;default:gn=Ot}LE(Fe,gn),gE=gn;for(th in gE)if(gE.hasOwnProperty(th)){var EE=gE[th];th==="style"?xO(Se,EE):th==="dangerouslySetInnerHTML"?(EE=EE?EE.__html:void 0,EE!=null&&VR(Se,EE)):th==="children"?typeof EE=="string"?(Fe!=="textarea"||EE!=="")&&jR(Se,EE):typeof EE=="number"&&jR(Se,""+EE):th!=="suppressContentEditableWarning"&&th!=="suppressHydrationWarning"&&th!=="autoFocus"&&(ne.hasOwnProperty(th)?EE!=null&&th==="onScroll"&&sT("scroll",Se):EE!=null&&Ge(Se,th,EE,lE))}switch(Fe){case"input":jE(Se),xE(Se,Ot,!1);break;case"textarea":jE(Se),pR(Se);break;case"option":Ot.value!=null&&Se.setAttribute("value",""+bE(Ot.value));break;case"select":Se.multiple=!!Ot.multiple,th=Ot.value,th!=null?sR(Se,!!Ot.multiple,th,!1):Ot.defaultValue!=null&&sR(Se,!!Ot.multiple,Ot.defaultValue,!0);break;default:typeof gn.onClick=="function"&&(Se.onclick=CU)}switch(Fe){case"button":case"input":case"select":case"textarea":Ot=!!Ot.autoFocus;break e;case"img":Ot=!0;break e;default:Ot=!1}}Ot&&(Ie.flags|=4)}Ie.ref!==null&&(Ie.flags|=512,Ie.flags|=2097152)}return HT(Ie),null;case 6:if(Se&&Ie.stateNode!=null)XG(Se,Ie,Se.memoizedProps,Ot);else{if(typeof Ot!="string"&&Ie.stateNode===null)throw Error(te(166));if(Fe=ZP(mL.current),ZP(KC.current),UU(Ie)){if(Ot=Ie.stateNode,Fe=Ie.memoizedProps,Ot[XC]=Ie,(th=Ot.nodeValue!==Fe)&&(Se=qI,Se!==null))switch(Se.tag){case 3:OU(Ot.nodeValue,Fe,(Se.mode&1)!==0);break;case 5:Se.memoizedProps.suppressHydrationWarning!==!0&&OU(Ot.nodeValue,Fe,(Se.mode&1)!==0)}th&&(Ie.flags|=4)}else Ot=(Fe.nodeType===9?Fe:Fe.ownerDocument).createTextNode(Ot),Ot[XC]=Ie,Ie.stateNode=Ot}return HT(Ie),null;case 13:if(rT(lT),Ot=Ie.memoizedState,Se===null||Se.memoizedState!==null&&Se.memoizedState.dehydrated!==null){if(aT&&XI!==null&&Ie.mode&1&&!(Ie.flags&128))Qj(),tD(),Ie.flags|=98560,th=!1;else if(th=UU(Ie),Ot!==null&&Ot.dehydrated!==null){if(Se===null){if(!th)throw Error(te(318));if(th=Ie.memoizedState,th=th!==null?th.dehydrated:null,!th)throw Error(te(317));th[XC]=Ie}else tD(),!(Ie.flags&128)&&(Ie.memoizedState=null),Ie.flags|=4;HT(Ie),th=!1}else BO!==null&&(tj(BO),BO=null),th=!0;if(!th)return Ie.flags&65536?Ie:null}return Ie.flags&128?(Ie.lanes=Fe,Ie):(Ot=Ot!==null,Ot!==(Se!==null&&Se.memoizedState!==null)&&Ot&&(Ie.child.flags|=8192,Ie.mode&1&&(Se===null||lT.current&1?TT===0&&(TT=3):ij())),Ie.updateQueue!==null&&(Ie.flags|=4),HT(Ie),null);case 4:return nD(),VB(Se,Ie),Se===null&&cL(Ie.stateNode.containerInfo),HT(Ie),null;case 10:return EB(Ie.type._context),HT(Ie),null;case 17:return PI(Ie.type)&&PU(),HT(Ie),null;case 19:if(rT(lT),th=Ie.memoizedState,th===null)return HT(Ie),null;if(Ot=(Ie.flags&128)!==0,lE=th.rendering,lE===null)if(Ot)TL(th,!1);else{if(TT!==0||Se!==null&&Se.flags&128)for(Se=Ie.child;Se!==null;){if(lE=$U(Se),lE!==null){for(Ie.flags|=128,TL(th,!1),Ot=lE.updateQueue,Ot!==null&&(Ie.updateQueue=Ot,Ie.flags|=4),Ie.subtreeFlags=0,Ot=Fe,Fe=Ie.child;Fe!==null;)th=Fe,Se=Ot,th.flags&=14680066,lE=th.alternate,lE===null?(th.childLanes=0,th.lanes=Se,th.child=null,th.subtreeFlags=0,th.memoizedProps=null,th.memoizedState=null,th.updateQueue=null,th.dependencies=null,th.stateNode=null):(th.childLanes=lE.childLanes,th.lanes=lE.lanes,th.child=lE.child,th.subtreeFlags=0,th.deletions=null,th.memoizedProps=lE.memoizedProps,th.memoizedState=lE.memoizedState,th.updateQueue=lE.updateQueue,th.type=lE.type,Se=lE.dependencies,th.dependencies=Se===null?null:{lanes:Se.lanes,firstContext:Se.firstContext}),Fe=Fe.sibling;return tT(lT,lT.current&1|2),Ie.child}Se=Se.sibling}th.tail!==null&&JR()>uD&&(Ie.flags|=128,Ot=!0,TL(th,!1),Ie.lanes=4194304)}else{if(!Ot)if(Se=$U(lE),Se!==null){if(Ie.flags|=128,Ot=!0,Fe=Se.updateQueue,Fe!==null&&(Ie.updateQueue=Fe,Ie.flags|=4),TL(th,!0),th.tail===null&&th.tailMode==="hidden"&&!lE.alternate&&!aT)return HT(Ie),null}else 2*JR()-th.renderingStartTime>uD&&Fe!==1073741824&&(Ie.flags|=128,Ot=!0,TL(th,!1),Ie.lanes=4194304);th.isBackwards?(lE.sibling=Ie.child,Ie.child=lE):(Fe=th.last,Fe!==null?Fe.sibling=lE:Ie.child=lE,th.last=lE)}return th.tail!==null?(Ie=th.tail,th.rendering=Ie,th.tail=Ie.sibling,th.renderingStartTime=JR(),Ie.sibling=null,Fe=lT.current,tT(lT,Ot?Fe&1|2:Fe&1),Ie):(HT(Ie),null);case 22:case 23:return rj(),Ot=Ie.memoizedState!==null,Se!==null&&Se.memoizedState!==null!==Ot&&(Ie.flags|=8192),Ot&&Ie.mode&1?KI&1073741824&&(HT(Ie),Ie.subtreeFlags&6&&(Ie.flags|=8192)):HT(Ie),null;case 24:return null;case 25:return null}throw Error(te(156,Ie.tag))}function T3(Se,Ie){switch(dB(Ie),Ie.tag){case 1:return PI(Ie.type)&&PU(),Se=Ie.flags,Se&65536?(Ie.flags=Se&-65537|128,Ie):null;case 3:return nD(),rT(MI),rT(kT),IB(),Se=Ie.flags,Se&65536&&!(Se&128)?(Ie.flags=Se&-65537|128,Ie):null;case 5:return SB(Ie),null;case 13:if(rT(lT),Se=Ie.memoizedState,Se!==null&&Se.dehydrated!==null){if(Ie.alternate===null)throw Error(te(340));tD()}return Se=Ie.flags,Se&65536?(Ie.flags=Se&-65537|128,Ie):null;case 19:return rT(lT),null;case 4:return nD(),null;case 10:return EB(Ie.type._context),null;case 22:case 23:return rj(),null;case 24:return null;default:return null}}var ZU=!1,VT=!1,S3=typeof WeakSet=="function"?WeakSet:Set,lR=null;function oD(Se,Ie){var Fe=Se.ref;if(Fe!==null)if(typeof Fe=="function")try{Fe(null)}catch(Ot){hT(Se,Ie,Ot)}else Fe.current=null}function zB(Se,Ie,Fe){try{Fe()}catch(Ot){hT(Se,Ie,Ot)}}var KG=!1;function b3(Se,Ie){if(rB=YI,Se=Oj(),XF(Se)){if("selectionStart"in Se)var Fe={start:Se.selectionStart,end:Se.selectionEnd};else e:{Fe=(Fe=Se.ownerDocument)&&Fe.defaultView||window;var Ot=Fe.getSelection&&Fe.getSelection();if(Ot&&Ot.rangeCount!==0){Fe=Ot.anchorNode;var gn=Ot.anchorOffset,th=Ot.focusNode;Ot=Ot.focusOffset;try{Fe.nodeType,th.nodeType}catch{Fe=null;break e}var lE=0,gE=-1,EE=-1,UE=0,qE=0,KE=Se,WE=null;t:for(;;){for(var oR;KE!==Fe||gn!==0&&KE.nodeType!==3||(gE=lE+gn),KE!==th||Ot!==0&&KE.nodeType!==3||(EE=lE+Ot),KE.nodeType===3&&(lE+=KE.nodeValue.length),(oR=KE.firstChild)!==null;)WE=KE,KE=oR;for(;;){if(KE===Se)break t;if(WE===Fe&&++UE===gn&&(gE=lE),WE===th&&++qE===Ot&&(EE=lE),(oR=KE.nextSibling)!==null)break;KE=WE,WE=KE.parentNode}KE=oR}Fe=gE===-1||EE===-1?null:{start:gE,end:EE}}else Fe=null}Fe=Fe||{start:0,end:0}}else Fe=null;for(iB={focusedElem:Se,selectionRange:Fe},YI=!1,lR=Ie;lR!==null;)if(Ie=lR,Se=Ie.child,(Ie.subtreeFlags&1028)!==0&&Se!==null)Se.return=Ie,lR=Se;else for(;lR!==null;){Ie=lR;try{var uR=Ie.alternate;if(Ie.flags&1024)switch(Ie.tag){case 0:case 11:case 15:break;case 1:if(uR!==null){var cR=uR.memoizedProps,pT=uR.memoizedState,OE=Ie.stateNode,RE=OE.getSnapshotBeforeUpdate(Ie.elementType===Ie.type?cR:jO(Ie.type,cR),pT);OE.__reactInternalSnapshotBeforeUpdate=RE}break;case 3:var NE=Ie.stateNode.containerInfo;NE.nodeType===1?NE.textContent="":NE.nodeType===9&&NE.documentElement&&NE.removeChild(NE.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(JE){hT(Ie,Ie.return,JE)}if(Se=Ie.sibling,Se!==null){Se.return=Ie.return,lR=Se;break}lR=Ie.return}return uR=KG,KG=!1,uR}function SL(Se,Ie,Fe){var Ot=Ie.updateQueue;if(Ot=Ot!==null?Ot.lastEffect:null,Ot!==null){var gn=Ot=Ot.next;do{if((gn.tag&Se)===Se){var th=gn.destroy;gn.destroy=void 0,th!==void 0&&zB(Ie,Fe,th)}gn=gn.next}while(gn!==Ot)}}function QU(Se,Ie){if(Ie=Ie.updateQueue,Ie=Ie!==null?Ie.lastEffect:null,Ie!==null){var Fe=Ie=Ie.next;do{if((Fe.tag&Se)===Se){var Ot=Fe.create;Fe.destroy=Ot()}Fe=Fe.next}while(Fe!==Ie)}}function WB(Se){var Ie=Se.ref;if(Ie!==null){var Fe=Se.stateNode;switch(Se.tag){case 5:Se=Fe;break;default:Se=Fe}typeof Ie=="function"?Ie(Se):Ie.current=Se}}function ZG(Se){var Ie=Se.alternate;Ie!==null&&(Se.alternate=null,ZG(Ie)),Se.child=null,Se.deletions=null,Se.sibling=null,Se.tag===5&&(Ie=Se.stateNode,Ie!==null&&(delete Ie[XC],delete Ie[dL],delete Ie[lB],delete Ie[a3],delete Ie[o3])),Se.stateNode=null,Se.return=null,Se.dependencies=null,Se.memoizedProps=null,Se.memoizedState=null,Se.pendingProps=null,Se.stateNode=null,Se.updateQueue=null}function QG(Se){return Se.tag===5||Se.tag===3||Se.tag===4}function JG(Se){e:for(;;){for(;Se.sibling===null;){if(Se.return===null||QG(Se.return))return null;Se=Se.return}for(Se.sibling.return=Se.return,Se=Se.sibling;Se.tag!==5&&Se.tag!==6&&Se.tag!==18;){if(Se.flags&2||Se.child===null||Se.tag===4)continue e;Se.child.return=Se,Se=Se.child}if(!(Se.flags&2))return Se.stateNode}}function YB(Se,Ie,Fe){var Ot=Se.tag;if(Ot===5||Ot===6)Se=Se.stateNode,Ie?Fe.nodeType===8?Fe.parentNode.insertBefore(Se,Ie):Fe.insertBefore(Se,Ie):(Fe.nodeType===8?(Ie=Fe.parentNode,Ie.insertBefore(Se,Fe)):(Ie=Fe,Ie.appendChild(Se)),Fe=Fe._reactRootContainer,Fe!=null||Ie.onclick!==null||(Ie.onclick=CU));else if(Ot!==4&&(Se=Se.child,Se!==null))for(YB(Se,Ie,Fe),Se=Se.sibling;Se!==null;)YB(Se,Ie,Fe),Se=Se.sibling}function qB(Se,Ie,Fe){var Ot=Se.tag;if(Ot===5||Ot===6)Se=Se.stateNode,Ie?Fe.insertBefore(Se,Ie):Fe.appendChild(Se);else if(Ot!==4&&(Se=Se.child,Se!==null))for(qB(Se,Ie,Fe),Se=Se.sibling;Se!==null;)qB(Se,Ie,Fe),Se=Se.sibling}var LT=null,GO=!1;function iP(Se,Ie,Fe){for(Fe=Fe.child;Fe!==null;)ek(Se,Ie,Fe),Fe=Fe.sibling}function ek(Se,Ie,Fe){if(tI&&typeof tI.onCommitFiberUnmount=="function")try{tI.onCommitFiberUnmount(zI,Fe)}catch{}switch(Fe.tag){case 5:VT||oD(Fe,Ie);case 6:var Ot=LT,gn=GO;LT=null,iP(Se,Ie,Fe),LT=Ot,GO=gn,LT!==null&&(GO?(Se=LT,Fe=Fe.stateNode,Se.nodeType===8?Se.parentNode.removeChild(Fe):Se.removeChild(Fe)):LT.removeChild(Fe.stateNode));break;case 18:LT!==null&&(GO?(Se=LT,Fe=Fe.stateNode,Se.nodeType===8?oB(Se.parentNode,Fe):Se.nodeType===1&&oB(Se,Fe),WC(Se)):oB(LT,Fe.stateNode));break;case 4:Ot=LT,gn=GO,LT=Fe.stateNode.containerInfo,GO=!0,iP(Se,Ie,Fe),LT=Ot,GO=gn;break;case 0:case 11:case 14:case 15:if(!VT&&(Ot=Fe.updateQueue,Ot!==null&&(Ot=Ot.lastEffect,Ot!==null))){gn=Ot=Ot.next;do{var th=gn,lE=th.destroy;th=th.tag,lE!==void 0&&(th&2||th&4)&&zB(Fe,Ie,lE),gn=gn.next}while(gn!==Ot)}iP(Se,Ie,Fe);break;case 1:if(!VT&&(oD(Fe,Ie),Ot=Fe.stateNode,typeof Ot.componentWillUnmount=="function"))try{Ot.props=Fe.memoizedProps,Ot.state=Fe.memoizedState,Ot.componentWillUnmount()}catch(gE){hT(Fe,Ie,gE)}iP(Se,Ie,Fe);break;case 21:iP(Se,Ie,Fe);break;case 22:Fe.mode&1?(VT=(Ot=VT)||Fe.memoizedState!==null,iP(Se,Ie,Fe),VT=Ot):iP(Se,Ie,Fe);break;default:iP(Se,Ie,Fe)}}function tk(Se){var Ie=Se.updateQueue;if(Ie!==null){Se.updateQueue=null;var Fe=Se.stateNode;Fe===null&&(Fe=Se.stateNode=new S3),Ie.forEach(function(Ot){var gn=N3.bind(null,Se,Ot);Fe.has(Ot)||(Fe.add(Ot),Ot.then(gn,gn))})}}function kO(Se,Ie){var Fe=Ie.deletions;if(Fe!==null)for(var Ot=0;Ot<Fe.length;Ot++){var gn=Fe[Ot];try{var th=Se,lE=Ie,gE=lE;e:for(;gE!==null;){switch(gE.tag){case 5:LT=gE.stateNode,GO=!1;break e;case 3:LT=gE.stateNode.containerInfo,GO=!0;break e;case 4:LT=gE.stateNode.containerInfo,GO=!0;break e}gE=gE.return}if(LT===null)throw Error(te(160));ek(th,lE,gn),LT=null,GO=!1;var EE=gn.alternate;EE!==null&&(EE.return=null),gn.return=null}catch(UE){hT(gn,Ie,UE)}}if(Ie.subtreeFlags&12854)for(Ie=Ie.child;Ie!==null;)sk(Ie,Se),Ie=Ie.sibling}function sk(Se,Ie){var Fe=Se.alternate,Ot=Se.flags;switch(Se.tag){case 0:case 11:case 14:case 15:if(kO(Ie,Se),QC(Se),Ot&4){try{SL(3,Se,Se.return),QU(3,Se)}catch(cR){hT(Se,Se.return,cR)}try{SL(5,Se,Se.return)}catch(cR){hT(Se,Se.return,cR)}}break;case 1:kO(Ie,Se),QC(Se),Ot&512&&Fe!==null&&oD(Fe,Fe.return);break;case 5:if(kO(Ie,Se),QC(Se),Ot&512&&Fe!==null&&oD(Fe,Fe.return),Se.flags&32){var gn=Se.stateNode;try{jR(gn,"")}catch(cR){hT(Se,Se.return,cR)}}if(Ot&4&&(gn=Se.stateNode,gn!=null)){var th=Se.memoizedProps,lE=Fe!==null?Fe.memoizedProps:th,gE=Se.type,EE=Se.updateQueue;if(Se.updateQueue=null,EE!==null)try{gE==="input"&&th.type==="radio"&&th.name!=null&&VE(gn,th),GR(gE,lE);var UE=GR(gE,th);for(lE=0;lE<EE.length;lE+=2){var qE=EE[lE],KE=EE[lE+1];qE==="style"?xO(gn,KE):qE==="dangerouslySetInnerHTML"?VR(gn,KE):qE==="children"?jR(gn,KE):Ge(gn,qE,KE,UE)}switch(gE){case"input":TE(gn,th);break;case"textarea":XE(gn,th);break;case"select":var WE=gn._wrapperState.wasMultiple;gn._wrapperState.wasMultiple=!!th.multiple;var oR=th.value;oR!=null?sR(gn,!!th.multiple,oR,!1):WE!==!!th.multiple&&(th.defaultValue!=null?sR(gn,!!th.multiple,th.defaultValue,!0):sR(gn,!!th.multiple,th.multiple?[]:"",!1))}gn[dL]=th}catch(cR){hT(Se,Se.return,cR)}}break;case 6:if(kO(Ie,Se),QC(Se),Ot&4){if(Se.stateNode===null)throw Error(te(162));gn=Se.stateNode,th=Se.memoizedProps;try{gn.nodeValue=th}catch(cR){hT(Se,Se.return,cR)}}break;case 3:if(kO(Ie,Se),QC(Se),Ot&4&&Fe!==null&&Fe.memoizedState.isDehydrated)try{WC(Ie.containerInfo)}catch(cR){hT(Se,Se.return,cR)}break;case 4:kO(Ie,Se),QC(Se);break;case 13:kO(Ie,Se),QC(Se),gn=Se.child,gn.flags&8192&&(th=gn.memoizedState!==null,gn.stateNode.isHidden=th,!th||gn.alternate!==null&&gn.alternate.memoizedState!==null||(ZB=JR())),Ot&4&&tk(Se);break;case 22:if(qE=Fe!==null&&Fe.memoizedState!==null,Se.mode&1?(VT=(UE=VT)||qE,kO(Ie,Se),VT=UE):kO(Ie,Se),QC(Se),Ot&8192){if(UE=Se.memoizedState!==null,(Se.stateNode.isHidden=UE)&&!qE&&Se.mode&1)for(lR=Se,qE=Se.child;qE!==null;){for(KE=lR=qE;lR!==null;){switch(WE=lR,oR=WE.child,WE.tag){case 0:case 11:case 14:case 15:SL(4,WE,WE.return);break;case 1:oD(WE,WE.return);var uR=WE.stateNode;if(typeof uR.componentWillUnmount=="function"){Ot=WE,Fe=WE.return;try{Ie=Ot,uR.props=Ie.memoizedProps,uR.state=Ie.memoizedState,uR.componentWillUnmount()}catch(cR){hT(Ot,Fe,cR)}}break;case 5:oD(WE,WE.return);break;case 22:if(WE.memoizedState!==null){nk(KE);continue}}oR!==null?(oR.return=WE,lR=oR):nk(KE)}qE=qE.sibling}e:for(qE=null,KE=Se;;){if(KE.tag===5){if(qE===null){qE=KE;try{gn=KE.stateNode,UE?(th=gn.style,typeof th.setProperty=="function"?th.setProperty("display","none","important"):th.display="none"):(gE=KE.stateNode,EE=KE.memoizedProps.style,lE=EE!=null&&EE.hasOwnProperty("display")?EE.display:null,gE.style.display=HI("display",lE))}catch(cR){hT(Se,Se.return,cR)}}}else if(KE.tag===6){if(qE===null)try{KE.stateNode.nodeValue=UE?"":KE.memoizedProps}catch(cR){hT(Se,Se.return,cR)}}else if((KE.tag!==22&&KE.tag!==23||KE.memoizedState===null||KE===Se)&&KE.child!==null){KE.child.return=KE,KE=KE.child;continue}if(KE===Se)break e;for(;KE.sibling===null;){if(KE.return===null||KE.return===Se)break e;qE===KE&&(qE=null),KE=KE.return}qE===KE&&(qE=null),KE.sibling.return=KE.return,KE=KE.sibling}}break;case 19:kO(Ie,Se),QC(Se),Ot&4&&tk(Se);break;case 21:break;default:kO(Ie,Se),QC(Se)}}function QC(Se){var Ie=Se.flags;if(Ie&2){try{e:{for(var Fe=Se.return;Fe!==null;){if(QG(Fe)){var Ot=Fe;break e}Fe=Fe.return}throw Error(te(160))}switch(Ot.tag){case 5:var gn=Ot.stateNode;Ot.flags&32&&(jR(gn,""),Ot.flags&=-33);var th=JG(Se);qB(Se,th,gn);break;case 3:case 4:var lE=Ot.stateNode.containerInfo,gE=JG(Se);YB(Se,gE,lE);break;default:throw Error(te(161))}}catch(EE){hT(Se,Se.return,EE)}Se.flags&=-3}Ie&4096&&(Se.flags&=-4097)}function I3(Se,Ie,Fe){lR=Se,rk(Se)}function rk(Se,Ie,Fe){for(var Ot=(Se.mode&1)!==0;lR!==null;){var gn=lR,th=gn.child;if(gn.tag===22&&Ot){var lE=gn.memoizedState!==null||ZU;if(!lE){var gE=gn.alternate,EE=gE!==null&&gE.memoizedState!==null||VT;gE=ZU;var UE=VT;if(ZU=lE,(VT=EE)&&!UE)for(lR=gn;lR!==null;)lE=lR,EE=lE.child,lE.tag===22&&lE.memoizedState!==null?ak(gn):EE!==null?(EE.return=lE,lR=EE):ak(gn);for(;th!==null;)lR=th,rk(th),th=th.sibling;lR=gn,ZU=gE,VT=UE}ik(Se)}else gn.subtreeFlags&8772&&th!==null?(th.return=gn,lR=th):ik(Se)}}function ik(Se){for(;lR!==null;){var Ie=lR;if(Ie.flags&8772){var Fe=Ie.alternate;try{if(Ie.flags&8772)switch(Ie.tag){case 0:case 11:case 15:VT||QU(5,Ie);break;case 1:var Ot=Ie.stateNode;if(Ie.flags&4&&!VT)if(Fe===null)Ot.componentDidMount();else{var gn=Ie.elementType===Ie.type?Fe.memoizedProps:jO(Ie.type,Fe.memoizedProps);Ot.componentDidUpdate(gn,Fe.memoizedState,Ot.__reactInternalSnapshotBeforeUpdate)}var th=Ie.updateQueue;th!==null&&nG(Ie,th,Ot);break;case 3:var lE=Ie.updateQueue;if(lE!==null){if(Fe=null,Ie.child!==null)switch(Ie.child.tag){case 5:Fe=Ie.child.stateNode;break;case 1:Fe=Ie.child.stateNode}nG(Ie,lE,Fe)}break;case 5:var gE=Ie.stateNode;if(Fe===null&&Ie.flags&4){Fe=gE;var EE=Ie.memoizedProps;switch(Ie.type){case"button":case"input":case"select":case"textarea":EE.autoFocus&&Fe.focus();break;case"img":EE.src&&(Fe.src=EE.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(Ie.memoizedState===null){var UE=Ie.alternate;if(UE!==null){var qE=UE.memoizedState;if(qE!==null){var KE=qE.dehydrated;KE!==null&&WC(KE)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}VT||Ie.flags&512&&WB(Ie)}catch(WE){hT(Ie,Ie.return,WE)}}if(Ie===Se){lR=null;break}if(Fe=Ie.sibling,Fe!==null){Fe.return=Ie.return,lR=Fe;break}lR=Ie.return}}function nk(Se){for(;lR!==null;){var Ie=lR;if(Ie===Se){lR=null;break}var Fe=Ie.sibling;if(Fe!==null){Fe.return=Ie.return,lR=Fe;break}lR=Ie.return}}function ak(Se){for(;lR!==null;){var Ie=lR;try{switch(Ie.tag){case 0:case 11:case 15:var Fe=Ie.return;try{QU(4,Ie)}catch(EE){hT(Ie,Fe,EE)}break;case 1:var Ot=Ie.stateNode;if(typeof Ot.componentDidMount=="function"){var gn=Ie.return;try{Ot.componentDidMount()}catch(EE){hT(Ie,gn,EE)}}var th=Ie.return;try{WB(Ie)}catch(EE){hT(Ie,th,EE)}break;case 5:var lE=Ie.return;try{WB(Ie)}catch(EE){hT(Ie,lE,EE)}}}catch(EE){hT(Ie,Ie.return,EE)}if(Ie===Se){lR=null;break}var gE=Ie.sibling;if(gE!==null){gE.return=Ie.return,lR=gE;break}lR=Ie.return}}var A3=Math.ceil,JU=Be.ReactCurrentDispatcher,XB=Be.ReactCurrentOwner,gO=Be.ReactCurrentBatchConfig,WR=0,OT=null,gT=null,UT=0,KI=0,lD=JM(0),TT=0,bL=null,JP=0,eF=0,KB=0,IL=null,NI=null,ZB=0,uD=1/0,OM=null,tF=!1,QB=null,nP=null,sF=!1,aP=null,rF=0,AL=0,JB=null,iF=-1,nF=0;function iI(){return WR&6?JR():iF!==-1?iF:iF=JR()}function oP(Se){return Se.mode&1?WR&2&&UT!==0?UT&-UT:u3.transition!==null?(nF===0&&(nF=_E()),nF):(Se=rR,Se!==0||(Se=window.event,Se=Se===void 0?16:ZD(Se.type)),Se):1}function $O(Se,Ie,Fe,Ot){if(50<AL)throw AL=0,JB=null,Error(te(185));IE(Se,Fe,Ot),(!(WR&2)||Se!==OT)&&(Se===OT&&(!(WR&2)&&(eF|=Fe),TT===4&&lP(Se,UT)),DI(Se,Ot),Fe===1&&WR===0&&!(Ie.mode&1)&&(uD=JR()+500,NU&&tP()))}function DI(Se,Ie){var Fe=Se.callbackNode;iE(Se,Ie);var Ot=kC(Se,Se===OT?UT:0);if(Ot===0)Fe!==null&&DP(Fe),Se.callbackNode=null,Se.callbackPriority=0;else if(Ie=Ot&-Ot,Se.callbackPriority!==Ie){if(Fe!=null&&DP(Fe),Ie===1)Se.tag===0?l3(lk.bind(null,Se)):Yj(lk.bind(null,Se)),i3(function(){!(WR&6)&&tP()}),Fe=null;else{switch(RR(Ot)){case 1:Fe=zM;break;case 4:Fe=WM;break;case 16:Fe=jC;break;case 536870912:Fe=wO;break;default:Fe=jC}Fe=gk(Fe,ok.bind(null,Se))}Se.callbackPriority=Ie,Se.callbackNode=Fe}}function ok(Se,Ie){if(iF=-1,nF=0,WR&6)throw Error(te(327));var Fe=Se.callbackNode;if(cD()&&Se.callbackNode!==Fe)return null;var Ot=kC(Se,Se===OT?UT:0);if(Ot===0)return null;if(Ot&30||Ot&Se.expiredLanes||Ie)Ie=aF(Se,Ot);else{Ie=Ot;var gn=WR;WR|=2;var th=ck();(OT!==Se||UT!==Ie)&&(OM=null,uD=JR()+500,tN(Se,Ie));do try{C3();break}catch(gE){uk(Se,gE)}while(!0);mB(),JU.current=th,WR=gn,gT!==null?Ie=0:(OT=null,UT=0,Ie=TT)}if(Ie!==0){if(Ie===2&&(gn=cE(Se),gn!==0&&(Ot=gn,Ie=ej(Se,gn))),Ie===1)throw Fe=bL,tN(Se,0),lP(Se,Ot),DI(Se,JR()),Fe;if(Ie===6)lP(Se,Ot);else{if(gn=Se.current.alternate,!(Ot&30)&&!x3(gn)&&(Ie=aF(Se,Ot),Ie===2&&(th=cE(Se),th!==0&&(Ot=th,Ie=ej(Se,th))),Ie===1))throw Fe=bL,tN(Se,0),lP(Se,Ot),DI(Se,JR()),Fe;switch(Se.finishedWork=gn,Se.finishedLanes=Ot,Ie){case 0:case 1:throw Error(te(345));case 2:sN(Se,NI,OM);break;case 3:if(lP(Se,Ot),(Ot&130023424)===Ot&&(Ie=ZB+500-JR(),10<Ie)){if(kC(Se,0)!==0)break;if(gn=Se.suspendedLanes,(gn&Ot)!==Ot){iI(),Se.pingedLanes|=Se.suspendedLanes&gn;break}Se.timeoutHandle=aB(sN.bind(null,Se,NI,OM),Ie);break}sN(Se,NI,OM);break;case 4:if(lP(Se,Ot),(Ot&4194240)===Ot)break;for(Ie=Se.eventTimes,gn=-1;0<Ot;){var lE=31-yT(Ot);th=1<<lE,lE=Ie[lE],lE>gn&&(gn=lE),Ot&=~th}if(Ot=gn,Ot=JR()-Ot,Ot=(120>Ot?120:480>Ot?480:1080>Ot?1080:1920>Ot?1920:3e3>Ot?3e3:4320>Ot?4320:1960*A3(Ot/1960))-Ot,10<Ot){Se.timeoutHandle=aB(sN.bind(null,Se,NI,OM),Ot);break}sN(Se,NI,OM);break;case 5:sN(Se,NI,OM);break;default:throw Error(te(329))}}}return DI(Se,JR()),Se.callbackNode===Fe?ok.bind(null,Se):null}function ej(Se,Ie){var Fe=IL;return Se.current.memoizedState.isDehydrated&&(tN(Se,Ie).flags|=256),Se=aF(Se,Ie),Se!==2&&(Ie=NI,NI=Fe,Ie!==null&&tj(Ie)),Se}function tj(Se){NI===null?NI=Se:NI.push.apply(NI,Se)}function x3(Se){for(var Ie=Se;;){if(Ie.flags&16384){var Fe=Ie.updateQueue;if(Fe!==null&&(Fe=Fe.stores,Fe!==null))for(var Ot=0;Ot<Fe.length;Ot++){var gn=Fe[Ot],th=gn.getSnapshot;gn=gn.value;try{if(!FO(th(),gn))return!1}catch{return!1}}}if(Fe=Ie.child,Ie.subtreeFlags&16384&&Fe!==null)Fe.return=Ie,Ie=Fe;else{if(Ie===Se)break;for(;Ie.sibling===null;){if(Ie.return===null||Ie.return===Se)return!0;Ie=Ie.return}Ie.sibling.return=Ie.return,Ie=Ie.sibling}}return!0}function lP(Se,Ie){for(Ie&=~KB,Ie&=~eF,Se.suspendedLanes|=Ie,Se.pingedLanes&=~Ie,Se=Se.expirationTimes;0<Ie;){var Fe=31-yT(Ie),Ot=1<<Fe;Se[Fe]=-1,Ie&=~Ot}}function lk(Se){if(WR&6)throw Error(te(327));cD();var Ie=kC(Se,0);if(!(Ie&1))return DI(Se,JR()),null;var Fe=aF(Se,Ie);if(Se.tag!==0&&Fe===2){var Ot=cE(Se);Ot!==0&&(Ie=Ot,Fe=ej(Se,Ot))}if(Fe===1)throw Fe=bL,tN(Se,0),lP(Se,Ie),DI(Se,JR()),Fe;if(Fe===6)throw Error(te(345));return Se.finishedWork=Se.current.alternate,Se.finishedLanes=Ie,sN(Se,NI,OM),DI(Se,JR()),null}function sj(Se,Ie){var Fe=WR;WR|=1;try{return Se(Ie)}finally{WR=Fe,WR===0&&(uD=JR()+500,NU&&tP())}}function eN(Se){aP!==null&&aP.tag===0&&!(WR&6)&&cD();var Ie=WR;WR|=1;var Fe=gO.transition,Ot=rR;try{if(gO.transition=null,rR=1,Se)return Se()}finally{rR=Ot,gO.transition=Fe,WR=Ie,!(WR&6)&&tP()}}function rj(){KI=lD.current,rT(lD)}function tN(Se,Ie){Se.finishedWork=null,Se.finishedLanes=0;var Fe=Se.timeoutHandle;if(Fe!==-1&&(Se.timeoutHandle=-1,r3(Fe)),gT!==null)for(Fe=gT.return;Fe!==null;){var Ot=Fe;switch(dB(Ot),Ot.tag){case 1:Ot=Ot.type.childContextTypes,Ot!=null&&PU();break;case 3:nD(),rT(MI),rT(kT),IB();break;case 5:SB(Ot);break;case 4:nD();break;case 13:rT(lT);break;case 19:rT(lT);break;case 10:EB(Ot.type._context);break;case 22:case 23:rj()}Fe=Fe.return}if(OT=Se,gT=Se=uP(Se.current,null),UT=KI=Ie,TT=0,bL=null,KB=eF=JP=0,NI=IL=null,KP!==null){for(Ie=0;Ie<KP.length;Ie++)if(Fe=KP[Ie],Ot=Fe.interleaved,Ot!==null){Fe.interleaved=null;var gn=Ot.next,th=Fe.pending;if(th!==null){var lE=th.next;th.next=gn,Ot.next=lE}Fe.pending=Ot}KP=null}return Se}function uk(Se,Ie){do{var Fe=gT;try{if(mB(),HU.current=YU,VU){for(var Ot=uT.memoizedState;Ot!==null;){var gn=Ot.queue;gn!==null&&(gn.pending=null),Ot=Ot.next}VU=!1}if(QP=0,xT=RT=uT=null,EL=!1,vL=0,XB.current=null,Fe===null||Fe.return===null){TT=1,bL=Ie,gT=null;break}e:{var th=Se,lE=Fe.return,gE=Fe,EE=Ie;if(Ie=UT,gE.flags|=32768,EE!==null&&typeof EE=="object"&&typeof EE.then=="function"){var UE=EE,qE=gE,KE=qE.tag;if(!(qE.mode&1)&&(KE===0||KE===11||KE===15)){var WE=qE.alternate;WE?(qE.updateQueue=WE.updateQueue,qE.memoizedState=WE.memoizedState,qE.lanes=WE.lanes):(qE.updateQueue=null,qE.memoizedState=null)}var oR=DG(lE);if(oR!==null){oR.flags&=-257,LG(oR,lE,gE,th,Ie),oR.mode&1&&NG(th,UE,Ie),Ie=oR,EE=UE;var uR=Ie.updateQueue;if(uR===null){var cR=new Set;cR.add(EE),Ie.updateQueue=cR}else uR.add(EE);break e}else{if(!(Ie&1)){NG(th,UE,Ie),ij();break e}EE=Error(te(426))}}else if(aT&&gE.mode&1){var pT=DG(lE);if(pT!==null){!(pT.flags&65536)&&(pT.flags|=256),LG(pT,lE,gE,th,Ie),_B(aD(EE,gE));break e}}th=EE=aD(EE,gE),TT!==4&&(TT=2),IL===null?IL=[th]:IL.push(th),th=lE;do{switch(th.tag){case 3:th.flags|=65536,Ie&=-Ie,th.lanes|=Ie;var OE=PG(th,EE,Ie);iG(th,OE);break e;case 1:gE=EE;var RE=th.type,NE=th.stateNode;if(!(th.flags&128)&&(typeof RE.getDerivedStateFromError=="function"||NE!==null&&typeof NE.componentDidCatch=="function"&&(nP===null||!nP.has(NE)))){th.flags|=65536,Ie&=-Ie,th.lanes|=Ie;var JE=wG(th,gE,Ie);iG(th,JE);break e}}th=th.return}while(th!==null)}dk(Fe)}catch(hR){Ie=hR,gT===Fe&&Fe!==null&&(gT=Fe=Fe.return);continue}break}while(!0)}function ck(){var Se=JU.current;return JU.current=YU,Se===null?YU:Se}function ij(){(TT===0||TT===3||TT===2)&&(TT=4),OT===null||!(JP&268435455)&&!(eF&268435455)||lP(OT,UT)}function aF(Se,Ie){var Fe=WR;WR|=2;var Ot=ck();(OT!==Se||UT!==Ie)&&(OM=null,tN(Se,Ie));do try{O3();break}catch(gn){uk(Se,gn)}while(!0);if(mB(),WR=Fe,JU.current=Ot,gT!==null)throw Error(te(261));return OT=null,UT=0,TT}function O3(){for(;gT!==null;)hk(gT)}function C3(){for(;gT!==null&&!DN();)hk(gT)}function hk(Se){var Ie=_k(Se.alternate,Se,KI);Se.memoizedProps=Se.pendingProps,Ie===null?dk(Se):gT=Ie,XB.current=null}function dk(Se){var Ie=Se;do{var Fe=Ie.alternate;if(Se=Ie.return,Ie.flags&32768){if(Fe=T3(Fe,Ie),Fe!==null){Fe.flags&=32767,gT=Fe;return}if(Se!==null)Se.flags|=32768,Se.subtreeFlags=0,Se.deletions=null;else{TT=6,gT=null;return}}else if(Fe=R3(Fe,Ie,KI),Fe!==null){gT=Fe;return}if(Ie=Ie.sibling,Ie!==null){gT=Ie;return}gT=Ie=Se}while(Ie!==null);TT===0&&(TT=5)}function sN(Se,Ie,Fe){var Ot=rR,gn=gO.transition;try{gO.transition=null,rR=1,M3(Se,Ie,Fe,Ot)}finally{gO.transition=gn,rR=Ot}return null}function M3(Se,Ie,Fe,Ot){do cD();while(aP!==null);if(WR&6)throw Error(te(327));Fe=Se.finishedWork;var gn=Se.finishedLanes;if(Fe===null)return null;if(Se.finishedWork=null,Se.finishedLanes=0,Fe===Se.current)throw Error(te(177));Se.callbackNode=null,Se.callbackPriority=0;var th=Fe.lanes|Fe.childLanes;if(GE(Se,th),Se===OT&&(gT=OT=null,UT=0),!(Fe.subtreeFlags&2064)&&!(Fe.flags&2064)||sF||(sF=!0,gk(jC,function(){return cD(),null})),th=(Fe.flags&15990)!==0,Fe.subtreeFlags&15990||th){th=gO.transition,gO.transition=null;var lE=rR;rR=1;var gE=WR;WR|=4,XB.current=null,b3(Se,Fe),sk(Fe,Se),Kk(iB),YI=!!rB,iB=rB=null,Se.current=Fe,I3(Fe),LN(),WR=gE,rR=lE,gO.transition=th}else Se.current=Fe;if(sF&&(sF=!1,aP=Se,rF=gn),th=Se.pendingLanes,th===0&&(nP=null),_M(Fe.stateNode),DI(Se,JR()),Ie!==null)for(Ot=Se.onRecoverableError,Fe=0;Fe<Ie.length;Fe++)gn=Ie[Fe],Ot(gn.value,{componentStack:gn.stack,digest:gn.digest});if(tF)throw tF=!1,Se=QB,QB=null,Se;return rF&1&&Se.tag!==0&&cD(),th=Se.pendingLanes,th&1?Se===JB?AL++:(AL=0,JB=Se):AL=0,tP(),null}function cD(){if(aP!==null){var Se=RR(rF),Ie=gO.transition,Fe=rR;try{if(gO.transition=null,rR=16>Se?16:Se,aP===null)var Ot=!1;else{if(Se=aP,aP=null,rF=0,WR&6)throw Error(te(331));var gn=WR;for(WR|=4,lR=Se.current;lR!==null;){var th=lR,lE=th.child;if(lR.flags&16){var gE=th.deletions;if(gE!==null){for(var EE=0;EE<gE.length;EE++){var UE=gE[EE];for(lR=UE;lR!==null;){var qE=lR;switch(qE.tag){case 0:case 11:case 15:SL(8,qE,th)}var KE=qE.child;if(KE!==null)KE.return=qE,lR=KE;else for(;lR!==null;){qE=lR;var WE=qE.sibling,oR=qE.return;if(ZG(qE),qE===UE){lR=null;break}if(WE!==null){WE.return=oR,lR=WE;break}lR=oR}}}var uR=th.alternate;if(uR!==null){var cR=uR.child;if(cR!==null){uR.child=null;do{var pT=cR.sibling;cR.sibling=null,cR=pT}while(cR!==null)}}lR=th}}if(th.subtreeFlags&2064&&lE!==null)lE.return=th,lR=lE;else e:for(;lR!==null;){if(th=lR,th.flags&2048)switch(th.tag){case 0:case 11:case 15:SL(9,th,th.return)}var OE=th.sibling;if(OE!==null){OE.return=th.return,lR=OE;break e}lR=th.return}}var RE=Se.current;for(lR=RE;lR!==null;){lE=lR;var NE=lE.child;if(lE.subtreeFlags&2064&&NE!==null)NE.return=lE,lR=NE;else e:for(lE=RE;lR!==null;){if(gE=lR,gE.flags&2048)try{switch(gE.tag){case 0:case 11:case 15:QU(9,gE)}}catch(hR){hT(gE,gE.return,hR)}if(gE===lE){lR=null;break e}var JE=gE.sibling;if(JE!==null){JE.return=gE.return,lR=JE;break e}lR=gE.return}}if(WR=gn,tP(),tI&&typeof tI.onPostCommitFiberRoot=="function")try{tI.onPostCommitFiberRoot(zI,Se)}catch{}Ot=!0}return Ot}finally{rR=Fe,gO.transition=Ie}}return!1}function fk(Se,Ie,Fe){Ie=aD(Fe,Ie),Ie=PG(Se,Ie,1),Se=rP(Se,Ie,1),Ie=iI(),Se!==null&&(IE(Se,1,Ie),DI(Se,Ie))}function hT(Se,Ie,Fe){if(Se.tag===3)fk(Se,Se,Fe);else for(;Ie!==null;){if(Ie.tag===3){fk(Ie,Se,Fe);break}else if(Ie.tag===1){var Ot=Ie.stateNode;if(typeof Ie.type.getDerivedStateFromError=="function"||typeof Ot.componentDidCatch=="function"&&(nP===null||!nP.has(Ot))){Se=aD(Fe,Se),Se=wG(Ie,Se,1),Ie=rP(Ie,Se,1),Se=iI(),Ie!==null&&(IE(Ie,1,Se),DI(Ie,Se));break}}Ie=Ie.return}}function P3(Se,Ie,Fe){var Ot=Se.pingCache;Ot!==null&&Ot.delete(Ie),Ie=iI(),Se.pingedLanes|=Se.suspendedLanes&Fe,OT===Se&&(UT&Fe)===Fe&&(TT===4||TT===3&&(UT&130023424)===UT&&500>JR()-ZB?tN(Se,0):KB|=Fe),DI(Se,Ie)}function pk(Se,Ie){Ie===0&&(Se.mode&1?(Ie=gM,gM<<=1,!(gM&130023424)&&(gM=4194304)):Ie=1);var Fe=iI();Se=IM(Se,Ie),Se!==null&&(IE(Se,Ie,Fe),DI(Se,Fe))}function w3(Se){var Ie=Se.memoizedState,Fe=0;Ie!==null&&(Fe=Ie.retryLane),pk(Se,Fe)}function N3(Se,Ie){var Fe=0;switch(Se.tag){case 13:var Ot=Se.stateNode,gn=Se.memoizedState;gn!==null&&(Fe=gn.retryLane);break;case 19:Ot=Se.stateNode;break;default:throw Error(te(314))}Ot!==null&&Ot.delete(Ie),pk(Se,Fe)}var _k;_k=function(Se,Ie,Fe){if(Se!==null)if(Se.memoizedProps!==Ie.pendingProps||MI.current)wI=!0;else{if(!(Se.lanes&Fe)&&!(Ie.flags&128))return wI=!1,y3(Se,Ie,Fe);wI=!!(Se.flags&131072)}else wI=!1,aT&&Ie.flags&1048576&&qj(Ie,LU,Ie.index);switch(Ie.lanes=0,Ie.tag){case 2:var Ot=Ie.type;KU(Se,Ie),Se=Ie.pendingProps;var gn=QN(Ie,kT.current);iD(Ie,Fe),gn=OB(null,Ie,Ot,Se,gn,Fe);var th=CB();return Ie.flags|=1,typeof gn=="object"&&gn!==null&&typeof gn.render=="function"&&gn.$$typeof===void 0?(Ie.tag=1,Ie.memoizedState=null,Ie.updateQueue=null,PI(Ot)?(th=!0,wU(Ie)):th=!1,Ie.memoizedState=gn.state!==null&&gn.state!==void 0?gn.state:null,RB(Ie),gn.updater=qU,Ie.stateNode=gn,gn._reactInternals=Ie,LB(Ie,Ot,Se,Fe),Ie=jB(null,Ie,Ot,!0,th,Fe)):(Ie.tag=0,aT&&th&&hB(Ie),rI(null,Ie,gn,Fe),Ie=Ie.child),Ie;case 16:Ot=Ie.elementType;e:{switch(KU(Se,Ie),Se=Ie.pendingProps,gn=Ot._init,Ot=gn(Ot._payload),Ie.type=Ot,gn=Ie.tag=L3(Ot),Se=jO(Ot,Se),gn){case 0:Ie=BB(null,Ie,Ot,Se,Fe);break e;case 1:Ie=kG(null,Ie,Ot,Se,Fe);break e;case 11:Ie=UG(null,Ie,Ot,Se,Fe);break e;case 14:Ie=FG(null,Ie,Ot,jO(Ot.type,Se),Fe);break e}throw Error(te(306,Ot,""))}return Ie;case 0:return Ot=Ie.type,gn=Ie.pendingProps,gn=Ie.elementType===Ot?gn:jO(Ot,gn),BB(Se,Ie,Ot,gn,Fe);case 1:return Ot=Ie.type,gn=Ie.pendingProps,gn=Ie.elementType===Ot?gn:jO(Ot,gn),kG(Se,Ie,Ot,gn,Fe);case 3:e:{if($G(Ie),Se===null)throw Error(te(387));Ot=Ie.pendingProps,th=Ie.memoizedState,gn=th.element,rG(Se,Ie),kU(Ie,Ot,null,Fe);var lE=Ie.memoizedState;if(Ot=lE.element,th.isDehydrated)if(th={element:Ot,isDehydrated:!1,cache:lE.cache,pendingSuspenseBoundaries:lE.pendingSuspenseBoundaries,transitions:lE.transitions},Ie.updateQueue.baseState=th,Ie.memoizedState=th,Ie.flags&256){gn=aD(Error(te(423)),Ie),Ie=HG(Se,Ie,Ot,Fe,gn);break e}else if(Ot!==gn){gn=aD(Error(te(424)),Ie),Ie=HG(Se,Ie,Ot,Fe,gn);break e}else for(XI=QM(Ie.stateNode.containerInfo.firstChild),qI=Ie,aT=!0,BO=null,Fe=tG(Ie,null,Ot,Fe),Ie.child=Fe;Fe;)Fe.flags=Fe.flags&-3|4096,Fe=Fe.sibling;else{if(tD(),Ot===gn){Ie=xM(Se,Ie,Fe);break e}rI(Se,Ie,Ot,Fe)}Ie=Ie.child}return Ie;case 5:return aG(Ie),Se===null&&pB(Ie),Ot=Ie.type,gn=Ie.pendingProps,th=Se!==null?Se.memoizedProps:null,lE=gn.children,nB(Ot,gn)?lE=null:th!==null&&nB(Ot,th)&&(Ie.flags|=32),GG(Se,Ie),rI(Se,Ie,lE,Fe),Ie.child;case 6:return Se===null&&pB(Ie),null;case 13:return VG(Se,Ie,Fe);case 4:return TB(Ie,Ie.stateNode.containerInfo),Ot=Ie.pendingProps,Se===null?Ie.child=sD(Ie,null,Ot,Fe):rI(Se,Ie,Ot,Fe),Ie.child;case 11:return Ot=Ie.type,gn=Ie.pendingProps,gn=Ie.elementType===Ot?gn:jO(Ot,gn),UG(Se,Ie,Ot,gn,Fe);case 7:return rI(Se,Ie,Ie.pendingProps,Fe),Ie.child;case 8:return rI(Se,Ie,Ie.pendingProps.children,Fe),Ie.child;case 12:return rI(Se,Ie,Ie.pendingProps.children,Fe),Ie.child;case 10:e:{if(Ot=Ie.type._context,gn=Ie.pendingProps,th=Ie.memoizedProps,lE=gn.value,tT(BU,Ot._currentValue),Ot._currentValue=lE,th!==null)if(FO(th.value,lE)){if(th.children===gn.children&&!MI.current){Ie=xM(Se,Ie,Fe);break e}}else for(th=Ie.child,th!==null&&(th.return=Ie);th!==null;){var gE=th.dependencies;if(gE!==null){lE=th.child;for(var EE=gE.firstContext;EE!==null;){if(EE.context===Ot){if(th.tag===1){EE=AM(-1,Fe&-Fe),EE.tag=2;var UE=th.updateQueue;if(UE!==null){UE=UE.shared;var qE=UE.pending;qE===null?EE.next=EE:(EE.next=qE.next,qE.next=EE),UE.pending=EE}}th.lanes|=Fe,EE=th.alternate,EE!==null&&(EE.lanes|=Fe),vB(th.return,Fe,Ie),gE.lanes|=Fe;break}EE=EE.next}}else if(th.tag===10)lE=th.type===Ie.type?null:th.child;else if(th.tag===18){if(lE=th.return,lE===null)throw Error(te(341));lE.lanes|=Fe,gE=lE.alternate,gE!==null&&(gE.lanes|=Fe),vB(lE,Fe,Ie),lE=th.sibling}else lE=th.child;if(lE!==null)lE.return=th;else for(lE=th;lE!==null;){if(lE===Ie){lE=null;break}if(th=lE.sibling,th!==null){th.return=lE.return,lE=th;break}lE=lE.return}th=lE}rI(Se,Ie,gn.children,Fe),Ie=Ie.child}return Ie;case 9:return gn=Ie.type,Ot=Ie.pendingProps.children,iD(Ie,Fe),gn=pO(gn),Ot=Ot(gn),Ie.flags|=1,rI(Se,Ie,Ot,Fe),Ie.child;case 14:return Ot=Ie.type,gn=jO(Ot,Ie.pendingProps),gn=jO(Ot.type,gn),FG(Se,Ie,Ot,gn,Fe);case 15:return BG(Se,Ie,Ie.type,Ie.pendingProps,Fe);case 17:return Ot=Ie.type,gn=Ie.pendingProps,gn=Ie.elementType===Ot?gn:jO(Ot,gn),KU(Se,Ie),Ie.tag=1,PI(Ot)?(Se=!0,wU(Ie)):Se=!1,iD(Ie,Fe),CG(Ie,Ot,gn),LB(Ie,Ot,gn,Fe),jB(null,Ie,Ot,!0,Se,Fe);case 19:return WG(Se,Ie,Fe);case 22:return jG(Se,Ie,Fe)}throw Error(te(156,Ie.tag))};function gk(Se,Ie){return uO(Se,Ie)}function D3(Se,Ie,Fe,Ot){this.tag=Se,this.key=Fe,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Ie,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ot,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mO(Se,Ie,Fe,Ot){return new D3(Se,Ie,Fe,Ot)}function nj(Se){return Se=Se.prototype,!(!Se||!Se.isReactComponent)}function L3(Se){if(typeof Se=="function")return nj(Se)?1:0;if(Se!=null){if(Se=Se.$$typeof,Se===Pm)return 11;if(Se===nE)return 14}return 2}function uP(Se,Ie){var Fe=Se.alternate;return Fe===null?(Fe=mO(Se.tag,Ie,Se.key,Se.mode),Fe.elementType=Se.elementType,Fe.type=Se.type,Fe.stateNode=Se.stateNode,Fe.alternate=Se,Se.alternate=Fe):(Fe.pendingProps=Ie,Fe.type=Se.type,Fe.flags=0,Fe.subtreeFlags=0,Fe.deletions=null),Fe.flags=Se.flags&14680064,Fe.childLanes=Se.childLanes,Fe.lanes=Se.lanes,Fe.child=Se.child,Fe.memoizedProps=Se.memoizedProps,Fe.memoizedState=Se.memoizedState,Fe.updateQueue=Se.updateQueue,Ie=Se.dependencies,Fe.dependencies=Ie===null?null:{lanes:Ie.lanes,firstContext:Ie.firstContext},Fe.sibling=Se.sibling,Fe.index=Se.index,Fe.ref=Se.ref,Fe}function oF(Se,Ie,Fe,Ot,gn,th){var lE=2;if(Ot=Se,typeof Se=="function")nj(Se)&&(lE=1);else if(typeof Se=="string")lE=5;else e:switch(Se){case ut:return rN(Fe.children,gn,th,Ie);case Ti:lE=8,gn|=8;break;case Hi:return Se=mO(12,Fe,Ie,gn|2),Se.elementType=Hi,Se.lanes=th,Se;case oE:return Se=mO(13,Fe,Ie,gn),Se.elementType=oE,Se.lanes=th,Se;case aE:return Se=mO(19,Fe,Ie,gn),Se.elementType=aE,Se.lanes=th,Se;case nh:return lF(Fe,gn,th,Ie);default:if(typeof Se=="object"&&Se!==null)switch(Se.$$typeof){case bn:lE=10;break e;case gd:lE=9;break e;case Pm:lE=11;break e;case nE:lE=14;break e;case On:lE=16,Ot=null;break e}throw Error(te(130,Se==null?Se:typeof Se,""))}return Ie=mO(lE,Fe,Ie,gn),Ie.elementType=Se,Ie.type=Ot,Ie.lanes=th,Ie}function rN(Se,Ie,Fe,Ot){return Se=mO(7,Se,Ot,Ie),Se.lanes=Fe,Se}function lF(Se,Ie,Fe,Ot){return Se=mO(22,Se,Ot,Ie),Se.elementType=nh,Se.lanes=Fe,Se.stateNode={isHidden:!1},Se}function aj(Se,Ie,Fe){return Se=mO(6,Se,null,Ie),Se.lanes=Fe,Se}function oj(Se,Ie,Fe){return Ie=mO(4,Se.children!==null?Se.children:[],Se.key,Ie),Ie.lanes=Fe,Ie.stateNode={containerInfo:Se.containerInfo,pendingChildren:null,implementation:Se.implementation},Ie}function U3(Se,Ie,Fe,Ot,gn){this.tag=Ie,this.containerInfo=Se,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wE(0),this.expirationTimes=wE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wE(0),this.identifierPrefix=Ot,this.onRecoverableError=gn,this.mutableSourceEagerHydrationData=null}function lj(Se,Ie,Fe,Ot,gn,th,lE,gE,EE){return Se=new U3(Se,Ie,Fe,gE,EE),Ie===1?(Ie=1,th===!0&&(Ie|=8)):Ie=0,th=mO(3,null,null,Ie),Se.current=th,th.stateNode=Se,th.memoizedState={element:Ot,isDehydrated:Fe,cache:null,transitions:null,pendingSuspenseBoundaries:null},RB(th),Se}function F3(Se,Ie,Fe){var Ot=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$t,key:Ot==null?null:""+Ot,children:Se,containerInfo:Ie,implementation:Fe}}function mk(Se){if(!Se)return eP;Se=Se._reactInternals;e:{if(yI(Se)!==Se||Se.tag!==1)throw Error(te(170));var Ie=Se;do{switch(Ie.tag){case 3:Ie=Ie.stateNode.context;break e;case 1:if(PI(Ie.type)){Ie=Ie.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Ie=Ie.return}while(Ie!==null);throw Error(te(171))}if(Se.tag===1){var Fe=Se.type;if(PI(Fe))return zj(Se,Fe,Ie)}return Ie}function Ek(Se,Ie,Fe,Ot,gn,th,lE,gE,EE){return Se=lj(Fe,Ot,!0,Se,gn,th,lE,gE,EE),Se.context=mk(null),Fe=Se.current,Ot=iI(),gn=oP(Fe),th=AM(Ot,gn),th.callback=Ie??null,rP(Fe,th,gn),Se.current.lanes=gn,IE(Se,gn,Ot),DI(Se,Ot),Se}function uF(Se,Ie,Fe,Ot){var gn=Ie.current,th=iI(),lE=oP(gn);return Fe=mk(Fe),Ie.context===null?Ie.context=Fe:Ie.pendingContext=Fe,Ie=AM(th,lE),Ie.payload={element:Se},Ot=Ot===void 0?null:Ot,Ot!==null&&(Ie.callback=Ot),Se=rP(gn,Ie,lE),Se!==null&&($O(Se,gn,lE,th),GU(Se,gn,lE)),lE}function cF(Se){if(Se=Se.current,!Se.child)return null;switch(Se.child.tag){case 5:return Se.child.stateNode;default:return Se.child.stateNode}}function vk(Se,Ie){if(Se=Se.memoizedState,Se!==null&&Se.dehydrated!==null){var Fe=Se.retryLane;Se.retryLane=Fe!==0&&Fe<Ie?Fe:Ie}}function uj(Se,Ie){vk(Se,Ie),(Se=Se.alternate)&&vk(Se,Ie)}var yk=typeof reportError=="function"?reportError:function(Se){console.error(Se)};function cj(Se){this._internalRoot=Se}hF.prototype.render=cj.prototype.render=function(Se){var Ie=this._internalRoot;if(Ie===null)throw Error(te(409));uF(Se,Ie,null,null)},hF.prototype.unmount=cj.prototype.unmount=function(){var Se=this._internalRoot;if(Se!==null){this._internalRoot=null;var Ie=Se.containerInfo;eN(function(){uF(null,Se,null,null)}),Ie[RM]=null}};function hF(Se){this._internalRoot=Se}hF.prototype.unstable_scheduleHydration=function(Se){if(Se){var Ie=bI();Se={blockedOn:null,target:Se,priority:Ie};for(var Fe=0;Fe<VC.length&&Ie!==0&&Ie<VC[Fe].priority;Fe++);VC.splice(Fe,0,Se),Fe===0&&cO(Se)}};function hj(Se){return!(!Se||Se.nodeType!==1&&Se.nodeType!==9&&Se.nodeType!==11)}function dF(Se){return!(!Se||Se.nodeType!==1&&Se.nodeType!==9&&Se.nodeType!==11&&(Se.nodeType!==8||Se.nodeValue!==" react-mount-point-unstable "))}function Rk(){}function B3(Se,Ie,Fe,Ot,gn){if(gn){if(typeof Ot=="function"){var th=Ot;Ot=function(){var UE=cF(lE);th.call(UE)}}var lE=Ek(Ie,Ot,Se,0,null,!1,!1,"",Rk);return Se._reactRootContainer=lE,Se[RM]=lE.current,cL(Se.nodeType===8?Se.parentNode:Se),eN(),lE}for(;gn=Se.lastChild;)Se.removeChild(gn);if(typeof Ot=="function"){var gE=Ot;Ot=function(){var UE=cF(EE);gE.call(UE)}}var EE=lj(Se,0,!1,null,null,!1,!1,"",Rk);return Se._reactRootContainer=EE,Se[RM]=EE.current,cL(Se.nodeType===8?Se.parentNode:Se),eN(function(){uF(Ie,EE,Fe,Ot)}),EE}function fF(Se,Ie,Fe,Ot,gn){var th=Fe._reactRootContainer;if(th){var lE=th;if(typeof gn=="function"){var gE=gn;gn=function(){var EE=cF(lE);gE.call(EE)}}uF(Ie,lE,Se,gn)}else lE=B3(Fe,Ie,Se,gn,Ot);return cF(lE)}OR=function(Se){switch(Se.tag){case 3:var Ie=Se.stateNode;if(Ie.current.memoizedState.isDehydrated){var Fe=GC(Ie.pendingLanes);Fe!==0&&(ly(Ie,Fe|1),DI(Ie,JR()),!(WR&6)&&(uD=JR()+500,tP()))}break;case 13:eN(function(){var Ot=IM(Se,1);if(Ot!==null){var gn=iI();$O(Ot,Se,1,gn)}}),uj(Se,1)}},ZR=function(Se){if(Se.tag===13){var Ie=IM(Se,134217728);if(Ie!==null){var Fe=iI();$O(Ie,Se,134217728,Fe)}uj(Se,134217728)}},SI=function(Se){if(Se.tag===13){var Ie=oP(Se),Fe=IM(Se,Ie);if(Fe!==null){var Ot=iI();$O(Fe,Se,Ie,Ot)}uj(Se,Ie)}},bI=function(){return rR},BT=function(Se,Ie){var Fe=rR;try{return rR=Se,Ie()}finally{rR=Fe}},TR=function(Se,Ie,Fe){switch(Ie){case"input":if(TE(Se,Fe),Ie=Fe.name,Fe.type==="radio"&&Ie!=null){for(Fe=Se;Fe.parentNode;)Fe=Fe.parentNode;for(Fe=Fe.querySelectorAll("input[name="+JSON.stringify(""+Ie)+'][type="radio"]'),Ie=0;Ie<Fe.length;Ie++){var Ot=Fe[Ie];if(Ot!==Se&&Ot.form===Se.form){var gn=MU(Ot);if(!gn)throw Error(te(90));$E(Ot),TE(Ot,gn)}}}break;case"textarea":XE(Se,Fe);break;case"select":Ie=Fe.value,Ie!=null&&sR(Se,!!Fe.multiple,Ie,!1)}},_T=sj,fT=eN;var j3={usingClientEntryPoint:!1,Events:[fL,KN,MU,AT,gI,sj]},xL={findFiberByHostInstance:WP,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G3={bundleType:xL.bundleType,version:xL.version,rendererPackageName:xL.rendererPackageName,rendererConfig:xL.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Be.ReactCurrentDispatcher,findHostInstanceByFiber:function(Se){return Se=TI(Se),Se===null?null:Se.stateNode},findFiberByHostInstance:xL.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pF=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pF.isDisabled&&pF.supportsFiber)try{zI=pF.inject(G3),tI=pF}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j3,reactDom_production_min.createPortal=function(Se,Ie){var Fe=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hj(Ie))throw Error(te(200));return F3(Se,Ie,null,Fe)},reactDom_production_min.createRoot=function(Se,Ie){if(!hj(Se))throw Error(te(299));var Fe=!1,Ot="",gn=yk;return Ie!=null&&(Ie.unstable_strictMode===!0&&(Fe=!0),Ie.identifierPrefix!==void 0&&(Ot=Ie.identifierPrefix),Ie.onRecoverableError!==void 0&&(gn=Ie.onRecoverableError)),Ie=lj(Se,1,!1,null,null,Fe,!1,Ot,gn),Se[RM]=Ie.current,cL(Se.nodeType===8?Se.parentNode:Se),new cj(Ie)},reactDom_production_min.findDOMNode=function(Se){if(Se==null)return null;if(Se.nodeType===1)return Se;var Ie=Se._reactInternals;if(Ie===void 0)throw typeof Se.render=="function"?Error(te(188)):(Se=Object.keys(Se).join(","),Error(te(268,Se)));return Se=TI(Ie),Se=Se===null?null:Se.stateNode,Se},reactDom_production_min.flushSync=function(Se){return eN(Se)},reactDom_production_min.hydrate=function(Se,Ie,Fe){if(!dF(Ie))throw Error(te(200));return fF(null,Se,Ie,!0,Fe)},reactDom_production_min.hydrateRoot=function(Se,Ie,Fe){if(!hj(Se))throw Error(te(405));var Ot=Fe!=null&&Fe.hydratedSources||null,gn=!1,th="",lE=yk;if(Fe!=null&&(Fe.unstable_strictMode===!0&&(gn=!0),Fe.identifierPrefix!==void 0&&(th=Fe.identifierPrefix),Fe.onRecoverableError!==void 0&&(lE=Fe.onRecoverableError)),Ie=Ek(Ie,null,Se,1,Fe??null,gn,!1,th,lE),Se[RM]=Ie.current,cL(Se),Ot)for(Se=0;Se<Ot.length;Se++)Fe=Ot[Se],gn=Fe._getVersion,gn=gn(Fe._source),Ie.mutableSourceEagerHydrationData==null?Ie.mutableSourceEagerHydrationData=[Fe,gn]:Ie.mutableSourceEagerHydrationData.push(Fe,gn);return new hF(Ie)},reactDom_production_min.render=function(Se,Ie,Fe){if(!dF(Ie))throw Error(te(200));return fF(null,Se,Ie,!1,Fe)},reactDom_production_min.unmountComponentAtNode=function(Se){if(!dF(Se))throw Error(te(40));return Se._reactRootContainer?(eN(function(){fF(null,null,Se,!1,function(){Se._reactRootContainer=null,Se[RM]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=sj,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(Se,Ie,Fe,Ot){if(!dF(Fe))throw Error(te(200));if(Se==null||Se._reactInternals===void 0)throw Error(te(38));return fF(Se,Ie,Fe,!1,Ot)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function ie(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ie)}catch(ee){console.error(ee)}}return ie(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);var define_process_env_default={};const Ir={dontJoinGroup:!1,useHibiscoPoll:!1,convertAlert:{floor:!1},ctWhenJoinRoom:!1,teleWhenJoinRoom:!1,isGuardianToolVisible:!1,isRoomPanelVisible:!1,useNewRadio:!1,guardianTools:{updateOnClick:!1,lastClickedUser:null},blockClick:!1,wiredSkipConfirmation:!1,shouldHideHibiscoIcon:!1,hideAllExtensionsOnToolbar:!1,betterRespectMessages:!1,directCatalog:!1,infostandButtons:!1,roomFilters:!1,removeRightsOwn:!1,betterInteractionMessages:!1,groupRepeatedMessages:!1,groupWiredRepeatedMessages:!1,delayGroupRepeatedMessages:!0,dontHideWired:!1,hideAllOrbs:!1,hideAllShadows:!1,followOnRightClickMessage:!1,dontRenderLightOrbs:!1,signOnMute:{enabled:!1,signCode:13,ignoreMuteOnJoinRoom:!0},reworkUi:{breakWiredName:!1,wardrobeCopyButtons:!1,translucentMode:!1,addBlur:!1,tooltipMottoOnOnlineFriends:!1,reorderFriendList:!1,showRoomOfFriends:!1,showRoomOnlyOfRelationship:!1,notificateFriendsRoomList:!1,updateFriendRoomListOnOpenList:!1,updateFriendRoomListOnBackground:!1,updateFriendRoomListCacheInvalidateSeconds:60,updateFriendRoomListCacheIntervalSecondsOnBackground:60,showSelectOnlineFriendsList:!1,showSelectOfflineFriendsList:!1,alwaysCloseFriendsToolbarOnLoad:!1,multiplySizeOfCards:{enabled:!1,width:1,height:1},alwaysOpenAdvancedSettings:!1,ringDoorbellAutomatically:!1,minimizeCardsOnDoubleClick:!1,closeOnEscape:!1,dropObjectOnEscape:!1,openInventoryAfterDropObject:!1,addMinimizeButtonToCards:!1,maxBalloonWidth:{enabled:!1,value:2e3},store:{showDescription:!1,showTooltipInfo:!1,fixedPosition:{enabled:!1,coords:[null,null]},showOptionToShowAsList:!1,showAsList:!1,defaultQuantity:{enabled:!1,value:1},removeHeader:!1,removeGiftButton:!1,skipConfirmation:!1},inventory:{showFurniDescription:!1,showTooltipInfo:!1,fixedPosition:{enabled:!1,coords:[null,null]},showOptionToShowAsList:!1,showAsList:!1,forceSearchValue:null,keybindingsToSearches:{enabled:!1,bindings:[["f1","ativador"],["f2","efeito"],["f3","condição"],["f4","seletor"],["f5","wired extra"],["f6","esfera"],["f7","porta"],["f8","piso"],["",""],["",""],["",""],["",""]]}},wired:{highlightOpenWired:!1,saveOnEnter:!1,ignoreSaveOnEnterWhenChatInputHasText:!1,selectSourceByIcons:!1,copyAndPasteButtons:!1,keyboardShortcuts:{enabled:!1,ativadores:"shift+f1",efeitos:"shift+f2",condicoes:"shift+f3",seletores:"shift+f4",addons:"shift+f5",extras:"shift+f6",esferas:"shift+f7",portas:"shift+f8",pisoWired:"shift+f9",lajotaAndavel:"shift+f10"},neighbourhoodRewrite:!1,superWiredRewrite:!1,neighbourhoodDefaultZoom:1}},reworkBuilderTools:{enabled:!1},mouseActions:{hold:!1,holdDuration:0,doubleClick:!1,rightClick:!1},hideOtherTypingBalloon:!1,hideMyTypingBalloon:!1,hideBalloons:{users:!1,bots:!1,pets:!1},notRenderMobis:!1,antiAusEnabled:!1,muteRadioOnStartup:!1,closeRadioOnStartup:!1,commandCopy:!1,dumpMode:!1,forceFigure:{enabled:!1,value:"",usernameSearchTerm:"",isSearchingUsername:!1,timeoutForUnhandledSearch:{}},logConsole:{enabled:!1,parsed:!1,showDataOfParsed:!1,notParsed:!1,incoming:!1,outgoing:!1,unknownHeader:!1},cancelWalkOn:{clickUser:!1,clickFurni:{enabled:!1,aboveHeight:0}},defaultZoom:{enabled:!1,value:1},defaultEnable:{enabled:!1,value:25,reapplyWhenRemoved:!1},defaultHanditem:{enabled:!1,value:1019,reapplyWhenRemoved:!1},defaultPet:{enabled:!1,value:"cat",reapplyWhenRemoved:!1},clickableLinks:{motto:!1,messages:!1,console:!1,profile:!1},forceOtherStyleId:{value:0,applyInUsers:!1,applyInBots:!1,applyInPets:!1},defaultStyleId:{enabled:!1,value:0},activeTab:"basic",isWindowVisible:!1,isWindowMinimized:!1,activePage:"settings",hideEntities:{users:!1,bots:!1,pets:!1},hideHabobbaIcon:!1,windowWidth:"400px",windowHeight:"550px",hideAllButWired:!1,forceEffect:{enabled:!1,value:0},forceDance:{enabled:!1,value:0},forceGesture:{enabled:!1,value:0,interval:2},forceGestureInterval:{},keepFollowing:{enabled:!1,unitToFollow:"",walkInRoom:!1,followBetweenRooms:!1},followBetweenRoomsInterval:{},followBetweenRoomsIntervalMs:2e3,evalCommand:{enabled:!1,prefix:">"},preventLookPackets:!1,buyAndPlaceByClick:!1,notifications:{consoleMessages:!1,roomScore:!1,roomRights:!1,receiveMentionsFromConsole:!1,sendMentionsToConsole:!1,friendsOnlineOffline:!1,friendsOnlineOfflineRelationshipOnly:!1},buyAutomaticallyOnThreshold:{enabled:!1,threshold:5,quantity:10},patches:{responsivenessFriendsList:!1,fixLobbyPage:!1},clickThroughMobis:!1,copyableContent:{username:!1,messages:!1,console:!1,nitroCards:!1,infostand:!1},translucentToolbar:!1,leftToolbarClosedOnLoad:!1,hideToolbarIcons:{hotel:!1,navigator:!1,house:!1,store:!1,inventory:!1,profile:!1,hibisco:!1,camera:!1,extensions:!1,friendList:!1,friendSearch:!1,modTools:!1,rest:!1},commands:{copy:!1,reload:!1,undo:!1,redo:!1,stop:!1,rejoin:!1,print:{enabled:!1,download:!1,viewNewTab:!1}},avatarToolbar:{useHoverAnimation:!1,showOnAvatarHover:!1,removeFilter:!1,disableBadges:!1,showToolbarIcons:{hotel:!1,house:!1,navigator:!1,store:!1,inventory:!1,profile:!1,hibisco:!1,camera:!1,modTools:!1,extensions:!1,friendList:!1,friendSearch:!1,rest:!1}},chatInputInsideToolbar:!1,buttonToCollapsePurse:!1,buttonToCollapseSideToolbar:!1,hideCollapsedToolbarIcons:{left:!1,right:!1},overrideSsoTicket:{enabled:!1,value:""},displaySsoTicketAndQuit:!1,passCursorThroughToolbar:!1,deactivateToolbarItemHoverAnimation:!1,optimizations:{convertGenericAlertToNotification:!1,minimalistInfostand:!1,hideAllInfoStand:!1,fixRoomAreaSelector:!1,fixBuyOneButton:!1},isHibiscoDisabled:!1,mobisInterfaces:{toner:{enabled:!1}},newSoundManager:{enabled:!1}};var fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fr(ie){return ie&&ie.__esModule&&Object.prototype.hasOwnProperty.call(ie,"default")?ie.default:ie}var vo,ll;function rh(){if(ll)return vo;ll=1;function ie(){this.__data__=[],this.size=0}return vo=ie,vo}var yo,cl;function Br(){if(cl)return yo;cl=1;function ie(ee,te){return ee===te||ee!==ee&&te!==te}return yo=ie,yo}var wo,ul;function zr(){if(ul)return wo;ul=1;var ie=Br();function ee(te,se){for(var ne=te.length;ne--;)if(ie(te[ne][0],se))return ne;return-1}return wo=ee,wo}var _o,dl;function oh(){if(dl)return _o;dl=1;var ie=zr(),ee=Array.prototype,te=ee.splice;function se(ne){var le=this.__data__,ue=ie(le,ne);if(ue<0)return!1;var ce=le.length-1;return ue==ce?le.pop():te.call(le,ue,1),--this.size,!0}return _o=se,_o}var Ao,fl;function ah(){if(fl)return Ao;fl=1;var ie=zr();function ee(te){var se=this.__data__,ne=ie(se,te);return ne<0?void 0:se[ne][1]}return Ao=ee,Ao}var xo,pl;function ih(){if(pl)return xo;pl=1;var ie=zr();function ee(te){return ie(this.__data__,te)>-1}return xo=ee,xo}var So,hl;function sh(){if(hl)return So;hl=1;var ie=zr();function ee(te,se){var ne=this.__data__,le=ie(ne,te);return le<0?(++this.size,ne.push([te,se])):ne[le][1]=se,this}return So=ee,So}var Co,ml;function qr(){if(ml)return Co;ml=1;var ie=rh(),ee=oh(),te=ah(),se=ih(),ne=sh();function le(ue){var ce=-1,he=ue==null?0:ue.length;for(this.clear();++ce<he;){var de=ue[ce];this.set(de[0],de[1])}}return le.prototype.clear=ie,le.prototype.delete=ee,le.prototype.get=te,le.prototype.has=se,le.prototype.set=ne,Co=le,Co}var Ro,gl;function lh(){if(gl)return Ro;gl=1;var ie=qr();function ee(){this.__data__=new ie,this.size=0}return Ro=ee,Ro}var To,bl;function ch(){if(bl)return To;bl=1;function ie(ee){var te=this.__data__,se=te.delete(ee);return this.size=te.size,se}return To=ie,To}var Io,vl;function uh(){if(vl)return Io;vl=1;function ie(ee){return this.__data__.get(ee)}return Io=ie,Io}var Oo,yl;function dh(){if(yl)return Oo;yl=1;function ie(ee){return this.__data__.has(ee)}return Oo=ie,Oo}var Po,wl;function bd(){if(wl)return Po;wl=1;var ie=typeof fr=="object"&&fr&&fr.Object===Object&&fr;return Po=ie,Po}var No,_l;function vn(){if(_l)return No;_l=1;var ie=bd(),ee=typeof self=="object"&&self&&self.Object===Object&&self,te=ie||ee||Function("return this")();return No=te,No}var ko,Al;function vd(){if(Al)return ko;Al=1;var ie=vn(),ee=ie.Symbol;return ko=ee,ko}var Eo,xl;function fh(){if(xl)return Eo;xl=1;var ie=vd(),ee=Object.prototype,te=ee.hasOwnProperty,se=ee.toString,ne=ie?ie.toStringTag:void 0;function le(ue){var ce=te.call(ue,ne),he=ue[ne];try{ue[ne]=void 0;var de=!0}catch{}var _e=se.call(ue);return de&&(ce?ue[ne]=he:delete ue[ne]),_e}return Eo=le,Eo}var Mo,Sl;function ph(){if(Sl)return Mo;Sl=1;var ie=Object.prototype,ee=ie.toString;function te(se){return ee.call(se)}return Mo=te,Mo}var $o,Cl;function jr(){if(Cl)return $o;Cl=1;var ie=vd(),ee=fh(),te=ph(),se="[object Null]",ne="[object Undefined]",le=ie?ie.toStringTag:void 0;function ue(ce){return ce==null?ce===void 0?ne:se:le&&le in Object(ce)?ee(ce):te(ce)}return $o=ue,$o}var Do,Rl;function Zt(){if(Rl)return Do;Rl=1;function ie(ee){var te=typeof ee;return ee!=null&&(te=="object"||te=="function")}return Do=ie,Do}var Lo,Tl;function Xi(){if(Tl)return Lo;Tl=1;var ie=jr(),ee=Zt(),te="[object AsyncFunction]",se="[object Function]",ne="[object GeneratorFunction]",le="[object Proxy]";function ue(ce){if(!ee(ce))return!1;var he=ie(ce);return he==se||he==ne||he==te||he==le}return Lo=ue,Lo}var Fo,Il;function hh(){if(Il)return Fo;Il=1;var ie=vn(),ee=ie["__core-js_shared__"];return Fo=ee,Fo}var Bo,Ol;function mh(){if(Ol)return Bo;Ol=1;var ie=hh(),ee=function(){var se=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return se?"Symbol(src)_1."+se:""}();function te(se){return!!ee&&ee in se}return Bo=te,Bo}var zo,Pl;function gh(){if(Pl)return zo;Pl=1;var ie=Function.prototype,ee=ie.toString;function te(se){if(se!=null){try{return ee.call(se)}catch{}try{return se+""}catch{}}return""}return zo=te,zo}var qo,Nl;function bh(){if(Nl)return qo;Nl=1;var ie=Xi(),ee=mh(),te=Zt(),se=gh(),ne=/[\\^$.*+?()[\]{}|]/g,le=/^\[object .+?Constructor\]$/,ue=Function.prototype,ce=Object.prototype,he=ue.toString,de=ce.hasOwnProperty,_e=RegExp("^"+he.call(de).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fe(ye){if(!te(ye)||ee(ye))return!1;var be=ie(ye)?_e:le;return be.test(se(ye))}return qo=fe,qo}var jo,kl;function vh(){if(kl)return jo;kl=1;function ie(ee,te){return ee==null?void 0:ee[te]}return jo=ie,jo}var Vo,El;function es(){if(El)return Vo;El=1;var ie=bh(),ee=vh();function te(se,ne){var le=ee(se,ne);return ie(le)?le:void 0}return Vo=te,Vo}var Ho,Ml;function yd(){if(Ml)return Ho;Ml=1;var ie=es(),ee=vn(),te=ie(ee,"Map");return Ho=te,Ho}var Uo,$l;function Vr(){if($l)return Uo;$l=1;var ie=es(),ee=ie(Object,"create");return Uo=ee,Uo}var Wo,Dl;function yh(){if(Dl)return Wo;Dl=1;var ie=Vr();function ee(){this.__data__=ie?ie(null):{},this.size=0}return Wo=ee,Wo}var Go,Ll;function wh(){if(Ll)return Go;Ll=1;function ie(ee){var te=this.has(ee)&&delete this.__data__[ee];return this.size-=te?1:0,te}return Go=ie,Go}var Yo,Fl;function _h(){if(Fl)return Yo;Fl=1;var ie=Vr(),ee="__lodash_hash_undefined__",te=Object.prototype,se=te.hasOwnProperty;function ne(le){var ue=this.__data__;if(ie){var ce=ue[le];return ce===ee?void 0:ce}return se.call(ue,le)?ue[le]:void 0}return Yo=ne,Yo}var Ko,Bl;function Ah(){if(Bl)return Ko;Bl=1;var ie=Vr(),ee=Object.prototype,te=ee.hasOwnProperty;function se(ne){var le=this.__data__;return ie?le[ne]!==void 0:te.call(le,ne)}return Ko=se,Ko}var Qo,zl;function xh(){if(zl)return Qo;zl=1;var ie=Vr(),ee="__lodash_hash_undefined__";function te(se,ne){var le=this.__data__;return this.size+=this.has(se)?0:1,le[se]=ie&&ne===void 0?ee:ne,this}return Qo=te,Qo}var Zo,ql;function Sh(){if(ql)return Zo;ql=1;var ie=yh(),ee=wh(),te=_h(),se=Ah(),ne=xh();function le(ue){var ce=-1,he=ue==null?0:ue.length;for(this.clear();++ce<he;){var de=ue[ce];this.set(de[0],de[1])}}return le.prototype.clear=ie,le.prototype.delete=ee,le.prototype.get=te,le.prototype.has=se,le.prototype.set=ne,Zo=le,Zo}var Jo,jl;function Ch(){if(jl)return Jo;jl=1;var ie=Sh(),ee=qr(),te=yd();function se(){this.size=0,this.__data__={hash:new ie,map:new(te||ee),string:new ie}}return Jo=se,Jo}var Xo,Vl;function Rh(){if(Vl)return Xo;Vl=1;function ie(ee){var te=typeof ee;return te=="string"||te=="number"||te=="symbol"||te=="boolean"?ee!=="__proto__":ee===null}return Xo=ie,Xo}var ea,Hl;function Hr(){if(Hl)return ea;Hl=1;var ie=Rh();function ee(te,se){var ne=te.__data__;return ie(se)?ne[typeof se=="string"?"string":"hash"]:ne.map}return ea=ee,ea}var ta,Ul;function Th(){if(Ul)return ta;Ul=1;var ie=Hr();function ee(te){var se=ie(this,te).delete(te);return this.size-=se?1:0,se}return ta=ee,ta}var na,Wl;function Ih(){if(Wl)return na;Wl=1;var ie=Hr();function ee(te){return ie(this,te).get(te)}return na=ee,na}var ra,Gl;function Oh(){if(Gl)return ra;Gl=1;var ie=Hr();function ee(te){return ie(this,te).has(te)}return ra=ee,ra}var oa,Yl;function Ph(){if(Yl)return oa;Yl=1;var ie=Hr();function ee(te,se){var ne=ie(this,te),le=ne.size;return ne.set(te,se),this.size+=ne.size==le?0:1,this}return oa=ee,oa}var aa,Kl;function Nh(){if(Kl)return aa;Kl=1;var ie=Ch(),ee=Th(),te=Ih(),se=Oh(),ne=Ph();function le(ue){var ce=-1,he=ue==null?0:ue.length;for(this.clear();++ce<he;){var de=ue[ce];this.set(de[0],de[1])}}return le.prototype.clear=ie,le.prototype.delete=ee,le.prototype.get=te,le.prototype.has=se,le.prototype.set=ne,aa=le,aa}var ia,Ql;function kh(){if(Ql)return ia;Ql=1;var ie=qr(),ee=yd(),te=Nh(),se=200;function ne(le,ue){var ce=this.__data__;if(ce instanceof ie){var he=ce.__data__;if(!ee||he.length<se-1)return he.push([le,ue]),this.size=++ce.size,this;ce=this.__data__=new te(he)}return ce.set(le,ue),this.size=ce.size,this}return ia=ne,ia}var sa,Zl;function Eh(){if(Zl)return sa;Zl=1;var ie=qr(),ee=lh(),te=ch(),se=uh(),ne=dh(),le=kh();function ue(ce){var he=this.__data__=new ie(ce);this.size=he.size}return ue.prototype.clear=ee,ue.prototype.delete=te,ue.prototype.get=se,ue.prototype.has=ne,ue.prototype.set=le,sa=ue,sa}var la,Jl;function wd(){if(Jl)return la;Jl=1;var ie=es(),ee=function(){try{var te=ie(Object,"defineProperty");return te({},"",{}),te}catch{}}();return la=ee,la}var ca,Xl;function ts(){if(Xl)return ca;Xl=1;var ie=wd();function ee(te,se,ne){se=="__proto__"&&ie?ie(te,se,{configurable:!0,enumerable:!0,value:ne,writable:!0}):te[se]=ne}return ca=ee,ca}var ua,ec;function _d(){if(ec)return ua;ec=1;var ie=ts(),ee=Br();function te(se,ne,le){(le!==void 0&&!ee(se[ne],le)||le===void 0&&!(ne in se))&&ie(se,ne,le)}return ua=te,ua}var da,tc;function Mh(){if(tc)return da;tc=1;function ie(ee){return function(te,se,ne){for(var le=-1,ue=Object(te),ce=ne(te),he=ce.length;he--;){var de=ce[ee?he:++le];if(se(ue[de],de,ue)===!1)break}return te}}return da=ie,da}var fa,nc;function $h(){if(nc)return fa;nc=1;var ie=Mh(),ee=ie();return fa=ee,fa}var $n={exports:{}};$n.exports;var rc;function Dh(){return rc||(rc=1,function(ie,ee){var te=vn(),se=ee&&!ee.nodeType&&ee,ne=se&&!0&&ie&&!ie.nodeType&&ie,le=ne&&ne.exports===se,ue=le?te.Buffer:void 0,ce=ue?ue.allocUnsafe:void 0;function he(de,_e){if(_e)return de.slice();var fe=de.length,ye=ce?ce(fe):new de.constructor(fe);return de.copy(ye),ye}ie.exports=he}($n,$n.exports)),$n.exports}var pa,oc;function Lh(){if(oc)return pa;oc=1;var ie=vn(),ee=ie.Uint8Array;return pa=ee,pa}var ha,ac;function Fh(){if(ac)return ha;ac=1;var ie=Lh();function ee(te){var se=new te.constructor(te.byteLength);return new ie(se).set(new ie(te)),se}return ha=ee,ha}var ma,ic;function Bh(){if(ic)return ma;ic=1;var ie=Fh();function ee(te,se){var ne=se?ie(te.buffer):te.buffer;return new te.constructor(ne,te.byteOffset,te.length)}return ma=ee,ma}var ga,sc;function zh(){if(sc)return ga;sc=1;function ie(ee,te){var se=-1,ne=ee.length;for(te||(te=Array(ne));++se<ne;)te[se]=ee[se];return te}return ga=ie,ga}var ba,lc;function qh(){if(lc)return ba;lc=1;var ie=Zt(),ee=Object.create,te=function(){function se(){}return function(ne){if(!ie(ne))return{};if(ee)return ee(ne);se.prototype=ne;var le=new se;return se.prototype=void 0,le}}();return ba=te,ba}var va,cc;function jh(){if(cc)return va;cc=1;function ie(ee,te){return function(se){return ee(te(se))}}return va=ie,va}var ya,uc;function Ad(){if(uc)return ya;uc=1;var ie=jh(),ee=ie(Object.getPrototypeOf,Object);return ya=ee,ya}var wa,dc;function xd(){if(dc)return wa;dc=1;var ie=Object.prototype;function ee(te){var se=te&&te.constructor,ne=typeof se=="function"&&se.prototype||ie;return te===ne}return wa=ee,wa}var _a$1,fc;function Vh(){if(fc)return _a$1;fc=1;var ie=qh(),ee=Ad(),te=xd();function se(ne){return typeof ne.constructor=="function"&&!te(ne)?ie(ee(ne)):{}}return _a$1=se,_a$1}var Aa,pc;function Jn(){if(pc)return Aa;pc=1;function ie(ee){return ee!=null&&typeof ee=="object"}return Aa=ie,Aa}var xa,hc;function Hh(){if(hc)return xa;hc=1;var ie=jr(),ee=Jn(),te="[object Arguments]";function se(ne){return ee(ne)&&ie(ne)==te}return xa=se,xa}var Sa,mc;function Sd(){if(mc)return Sa;mc=1;var ie=Hh(),ee=Jn(),te=Object.prototype,se=te.hasOwnProperty,ne=te.propertyIsEnumerable,le=ie(function(){return arguments}())?ie:function(ue){return ee(ue)&&se.call(ue,"callee")&&!ne.call(ue,"callee")};return Sa=le,Sa}var Ca,gc;function Cd(){if(gc)return Ca;gc=1;var ie=Array.isArray;return Ca=ie,Ca}var Ra,bc;function Rd(){if(bc)return Ra;bc=1;var ie=9007199254740991;function ee(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=ie}return Ra=ee,Ra}var Ta,vc;function ns(){if(vc)return Ta;vc=1;var ie=Xi(),ee=Rd();function te(se){return se!=null&&ee(se.length)&&!ie(se)}return Ta=te,Ta}var Ia,yc;function Uh(){if(yc)return Ia;yc=1;var ie=ns(),ee=Jn();function te(se){return ee(se)&&ie(se)}return Ia=te,Ia}var Dn={exports:{}},Oa,wc;function Wh(){if(wc)return Oa;wc=1;function ie(){return!1}return Oa=ie,Oa}Dn.exports;var _c;function Td(){return _c||(_c=1,function(ie,ee){var te=vn(),se=Wh(),ne=ee&&!ee.nodeType&&ee,le=ne&&!0&&ie&&!ie.nodeType&&ie,ue=le&&le.exports===ne,ce=ue?te.Buffer:void 0,he=ce?ce.isBuffer:void 0,de=he||se;ie.exports=de}(Dn,Dn.exports)),Dn.exports}var Pa,Ac;function Gh(){if(Ac)return Pa;Ac=1;var ie=jr(),ee=Ad(),te=Jn(),se="[object Object]",ne=Function.prototype,le=Object.prototype,ue=ne.toString,ce=le.hasOwnProperty,he=ue.call(Object);function de(_e){if(!te(_e)||ie(_e)!=se)return!1;var fe=ee(_e);if(fe===null)return!0;var ye=ce.call(fe,"constructor")&&fe.constructor;return typeof ye=="function"&&ye instanceof ye&&ue.call(ye)==he}return Pa=de,Pa}var Na,xc;function Yh(){if(xc)return Na;xc=1;var ie=jr(),ee=Rd(),te=Jn(),se="[object Arguments]",ne="[object Array]",le="[object Boolean]",ue="[object Date]",ce="[object Error]",he="[object Function]",de="[object Map]",_e="[object Number]",fe="[object Object]",ye="[object RegExp]",be="[object Set]",Pe="[object String]",Ne="[object WeakMap]",we="[object ArrayBuffer]",De="[object DataView]",$e="[object Float32Array]",Ge="[object Float64Array]",Be="[object Int8Array]",ze="[object Int16Array]",$t="[object Int32Array]",ut="[object Uint8Array]",Ti="[object Uint8ClampedArray]",Hi="[object Uint16Array]",bn="[object Uint32Array]",gd={};gd[$e]=gd[Ge]=gd[Be]=gd[ze]=gd[$t]=gd[ut]=gd[Ti]=gd[Hi]=gd[bn]=!0,gd[se]=gd[ne]=gd[we]=gd[le]=gd[De]=gd[ue]=gd[ce]=gd[he]=gd[de]=gd[_e]=gd[fe]=gd[ye]=gd[be]=gd[Pe]=gd[Ne]=!1;function Pm(oE){return te(oE)&&ee(oE.length)&&!!gd[ie(oE)]}return Na=Pm,Na}var ka,Sc;function Kh(){if(Sc)return ka;Sc=1;function ie(ee){return function(te){return ee(te)}}return ka=ie,ka}var Ln={exports:{}};Ln.exports;var Cc;function Qh(){return Cc||(Cc=1,function(ie,ee){var te=bd(),se=ee&&!ee.nodeType&&ee,ne=se&&!0&&ie&&!ie.nodeType&&ie,le=ne&&ne.exports===se,ue=le&&te.process,ce=function(){try{var he=ne&&ne.require&&ne.require("util").types;return he||ue&&ue.binding&&ue.binding("util")}catch{}}();ie.exports=ce}(Ln,Ln.exports)),Ln.exports}var Ea,Rc;function Id(){if(Rc)return Ea;Rc=1;var ie=Yh(),ee=Kh(),te=Qh(),se=te&&te.isTypedArray,ne=se?ee(se):ie;return Ea=ne,Ea}var Ma,Tc;function Od(){if(Tc)return Ma;Tc=1;function ie(ee,te){if(!(te==="constructor"&&typeof ee[te]=="function")&&te!="__proto__")return ee[te]}return Ma=ie,Ma}var $a,Ic;function Zh(){if(Ic)return $a;Ic=1;var ie=ts(),ee=Br(),te=Object.prototype,se=te.hasOwnProperty;function ne(le,ue,ce){var he=le[ue];(!(se.call(le,ue)&&ee(he,ce))||ce===void 0&&!(ue in le))&&ie(le,ue,ce)}return $a=ne,$a}var Da,Oc;function Jh(){if(Oc)return Da;Oc=1;var ie=Zh(),ee=ts();function te(se,ne,le,ue){var ce=!le;le||(le={});for(var he=-1,de=ne.length;++he<de;){var _e=ne[he],fe=ue?ue(le[_e],se[_e],_e,le,se):void 0;fe===void 0&&(fe=se[_e]),ce?ee(le,_e,fe):ie(le,_e,fe)}return le}return Da=te,Da}var La,Pc;function Xh(){if(Pc)return La;Pc=1;function ie(ee,te){for(var se=-1,ne=Array(ee);++se<ee;)ne[se]=te(se);return ne}return La=ie,La}var Fa,Nc;function Pd(){if(Nc)return Fa;Nc=1;var ie=9007199254740991,ee=/^(?:0|[1-9]\d*)$/;function te(se,ne){var le=typeof se;return ne=ne??ie,!!ne&&(le=="number"||le!="symbol"&&ee.test(se))&&se>-1&&se%1==0&&se<ne}return Fa=te,Fa}var Ba,kc;function em$1(){if(kc)return Ba;kc=1;var ie=Xh(),ee=Sd(),te=Cd(),se=Td(),ne=Pd(),le=Id(),ue=Object.prototype,ce=ue.hasOwnProperty;function he(de,_e){var fe=te(de),ye=!fe&&ee(de),be=!fe&&!ye&&se(de),Pe=!fe&&!ye&&!be&&le(de),Ne=fe||ye||be||Pe,we=Ne?ie(de.length,String):[],De=we.length;for(var $e in de)(_e||ce.call(de,$e))&&!(Ne&&($e=="length"||be&&($e=="offset"||$e=="parent")||Pe&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||ne($e,De)))&&we.push($e);return we}return Ba=he,Ba}var za,Ec;function tm(){if(Ec)return za;Ec=1;function ie(ee){var te=[];if(ee!=null)for(var se in Object(ee))te.push(se);return te}return za=ie,za}var qa,Mc;function nm(){if(Mc)return qa;Mc=1;var ie=Zt(),ee=xd(),te=tm(),se=Object.prototype,ne=se.hasOwnProperty;function le(ue){if(!ie(ue))return te(ue);var ce=ee(ue),he=[];for(var de in ue)de=="constructor"&&(ce||!ne.call(ue,de))||he.push(de);return he}return qa=le,qa}var ja,$c;function Nd(){if($c)return ja;$c=1;var ie=em$1(),ee=nm(),te=ns();function se(ne){return te(ne)?ie(ne,!0):ee(ne)}return ja=se,ja}var Va,Dc;function rm(){if(Dc)return Va;Dc=1;var ie=Jh(),ee=Nd();function te(se){return ie(se,ee(se))}return Va=te,Va}var Ha,Lc;function om(){if(Lc)return Ha;Lc=1;var ie=_d(),ee=Dh(),te=Bh(),se=zh(),ne=Vh(),le=Sd(),ue=Cd(),ce=Uh(),he=Td(),de=Xi(),_e=Zt(),fe=Gh(),ye=Id(),be=Od(),Pe=rm();function Ne(we,De,$e,Ge,Be,ze,$t){var ut=be(we,$e),Ti=be(De,$e),Hi=$t.get(Ti);if(Hi){ie(we,$e,Hi);return}var bn=ze?ze(ut,Ti,$e+"",we,De,$t):void 0,gd=bn===void 0;if(gd){var Pm=ue(Ti),oE=!Pm&&he(Ti),aE=!Pm&&!oE&&ye(Ti);bn=Ti,Pm||oE||aE?ue(ut)?bn=ut:ce(ut)?bn=se(ut):oE?(gd=!1,bn=ee(Ti,!0)):aE?(gd=!1,bn=te(Ti,!0)):bn=[]:fe(Ti)||le(Ti)?(bn=ut,le(ut)?bn=Pe(ut):(!_e(ut)||de(ut))&&(bn=ne(Ti))):gd=!1}gd&&($t.set(Ti,bn),Be(bn,Ti,Ge,ze,$t),$t.delete(Ti)),ie(we,$e,bn)}return Ha=Ne,Ha}var Ua,Fc;function am(){if(Fc)return Ua;Fc=1;var ie=Eh(),ee=_d(),te=$h(),se=om(),ne=Zt(),le=Nd(),ue=Od();function ce(he,de,_e,fe,ye){he!==de&&te(de,function(be,Pe){if(ye||(ye=new ie),ne(be))se(he,de,Pe,_e,ce,fe,ye);else{var Ne=fe?fe(ue(he,Pe),be,Pe+"",he,de,ye):void 0;Ne===void 0&&(Ne=be),ee(he,Pe,Ne)}},le)}return Ua=ce,Ua}var Wa,Bc;function kd(){if(Bc)return Wa;Bc=1;function ie(ee){return ee}return Wa=ie,Wa}var Ga,zc;function im(){if(zc)return Ga;zc=1;function ie(ee,te,se){switch(se.length){case 0:return ee.call(te);case 1:return ee.call(te,se[0]);case 2:return ee.call(te,se[0],se[1]);case 3:return ee.call(te,se[0],se[1],se[2])}return ee.apply(te,se)}return Ga=ie,Ga}var Ya,qc;function sm(){if(qc)return Ya;qc=1;var ie=im(),ee=Math.max;function te(se,ne,le){return ne=ee(ne===void 0?se.length-1:ne,0),function(){for(var ue=arguments,ce=-1,he=ee(ue.length-ne,0),de=Array(he);++ce<he;)de[ce]=ue[ne+ce];ce=-1;for(var _e=Array(ne+1);++ce<ne;)_e[ce]=ue[ce];return _e[ne]=le(de),ie(se,this,_e)}}return Ya=te,Ya}var Ka,jc;function lm(){if(jc)return Ka;jc=1;function ie(ee){return function(){return ee}}return Ka=ie,Ka}var Qa,Vc;function cm(){if(Vc)return Qa;Vc=1;var ie=lm(),ee=wd(),te=kd(),se=ee?function(ne,le){return ee(ne,"toString",{configurable:!0,enumerable:!1,value:ie(le),writable:!0})}:te;return Qa=se,Qa}var Za,Hc;function um(){if(Hc)return Za;Hc=1;var ie=800,ee=16,te=Date.now;function se(ne){var le=0,ue=0;return function(){var ce=te(),he=ee-(ce-ue);if(ue=ce,he>0){if(++le>=ie)return arguments[0]}else le=0;return ne.apply(void 0,arguments)}}return Za=se,Za}var Ja,Uc;function dm(){if(Uc)return Ja;Uc=1;var ie=cm(),ee=um(),te=ee(ie);return Ja=te,Ja}var Xa,Wc;function fm(){if(Wc)return Xa;Wc=1;var ie=kd(),ee=sm(),te=dm();function se(ne,le){return te(ee(ne,le,ie),ne+"")}return Xa=se,Xa}var ei,Gc;function pm(){if(Gc)return ei;Gc=1;var ie=Br(),ee=ns(),te=Pd(),se=Zt();function ne(le,ue,ce){if(!se(ce))return!1;var he=typeof ue;return(he=="number"?ee(ce)&&te(ue,ce.length):he=="string"&&ue in ce)?ie(ce[ue],le):!1}return ei=ne,ei}var ti,Yc;function hm(){if(Yc)return ti;Yc=1;var ie=fm(),ee=pm();function te(se){return ie(function(ne,le){var ue=-1,ce=le.length,he=ce>1?le[ce-1]:void 0,de=ce>2?le[2]:void 0;for(he=se.length>3&&typeof he=="function"?(ce--,he):void 0,de&&ee(le[0],le[1],de)&&(he=ce<3?void 0:he,ce=1),ne=Object(ne);++ue<ce;){var _e=le[ue];_e&&se(ne,_e,ue,he)}return ne})}return ti=te,ti}var ni,Kc;function mm(){if(Kc)return ni;Kc=1;var ie=am(),ee=hm(),te=ee(function(se,ne,le){ie(se,ne,le)});return ni=te,ni}var gm=mm();const Ur=Fr(gm),Ii=Ur({},Ir,{useHibiscoPoll:!0,convertAlert:{floor:!0},isGuardianToolVisible:!1,wiredSkipConfirmation:!0,isRoomPanelVisible:!1,useNewRadio:!0,guardianTools:{updateOnClick:!1,lastClickedUser:null},signOnMute:{enabled:!0,signCode:13,ignoreMuteOnJoinRoom:!0},blockClick:!1,betterRespectMessages:!0,betterInteractionMessages:!0,groupRepeatedMessages:!0,shouldHideHibiscoIcon:!1,hideAllExtensionsOnToolbar:!1,followOnRightClickMessage:!0,dontRenderLightOrbs:!1,reworkUi:{breakWiredName:!0,wardrobeCopyButtons:!0,showRoomOfFriends:!1,showRoomOnlyOfRelationship:!0,notificateFriendsRoomList:!0,updateFriendRoomListOnOpenList:!1,updateFriendRoomListOnBackground:!1,updateFriendRoomListCacheInvalidateSeconds:60,updateFriendRoomListCacheIntervalSecondsOnBackground:60,reorderFriendList:!0,showSelectOfflineFriendsList:!0,showSelectOnlineFriendsList:!0,alwaysCloseFriendsToolbarOnLoad:!0,translucentMode:!1,addBlur:!1,tooltipMottoOnOnlineFriends:!0,multiplySizeOfCards:{enabled:!1,width:1,height:1},alwaysOpenAdvancedSettings:!0,ringDoorbellAutomatically:!1,minimizeCardsOnDoubleClick:!0,closeOnEscape:!0,dropObjectOnEscape:!0,openInventoryAfterDropObject:!0,addMinimizeButtonToCards:!1,maxBalloonWidth:{enabled:!1,value:2e3},store:{showDescription:!1,showTooltipInfo:!1,fixedPosition:{enabled:!1,coords:[null,null]},showOptionToShowAsList:!0,showAsList:!1,defaultQuantity:{enabled:!1,value:1},removeHeader:!0,removeGiftButton:!1,skipConfirmation:!0},inventory:{showFurniDescription:!1,showTooltipInfo:!1,fixedPosition:{enabled:!1,coords:[null,null]},showOptionToShowAsList:!1,showAsList:!1,forceSearchValue:null,keybindingsToSearches:{enabled:!0,bindings:[["f1","ativador"],["f2","efeito"],["f3","condição"],["f4","seletor"],["f5","wired extra"],["f6","esfera"],["f7","porta"],["f8","piso"],["",""],["",""],["",""],["",""]]}},wired:{highlightOpenWired:!0,saveOnEnter:!0,ignoreSaveOnEnterWhenChatInputHasText:!0,selectSourceByIcons:!0,copyAndPasteButtons:!0,keyboardShortcuts:{enabled:!0,ativadores:"shift+f1",efeitos:"shift+f2",condicoes:"shift+f3",seletores:"shift+f4",addons:"shift+f5",extras:"shift+f6",esferas:"shift+f7",portas:"shift+f8",pisoWired:"shift+f9",lajotaAndavel:"shift+f10"},neighbourhoodRewrite:!0,neighbourhoodDefaultZoom:1,superWiredRewrite:!0}},reworkBuilderTools:{enabled:!1},mouseActions:{hold:!1,holdDuration:0,doubleClick:!1,rightClick:!1},hideOtherTypingBalloon:!1,hideMyTypingBalloon:!1,hideBalloons:{users:!1,bots:!1,pets:!1},notRenderMobis:!1,dontHideWired:!1,hideAllOrbs:!1,hideAllShadows:!1,antiAusEnabled:!1,muteRadioOnStartup:!0,closeRadioOnStartup:!0,commandCopy:!1,dumpMode:!1,forceFigure:{enabled:!1,value:"",usernameSearchTerm:"",isSearchingUsername:!1,timeoutForUnhandledSearch:{}},logConsole:{enabled:!1,parsed:!1,showDataOfParsed:!1,notParsed:!1,incoming:!1,outgoing:!1,unknownHeader:!1},cancelWalkOn:{clickUser:!1,clickFurni:{enabled:!1,aboveHeight:0}},defaultZoom:{enabled:!1,value:1},defaultEnable:{enabled:!1,value:25,reapplyWhenRemoved:!1},defaultHanditem:{enabled:!1,value:1019,reapplyWhenRemoved:!1},clickableLinks:{motto:!0,messages:!0,console:!0,profile:!0},forceOtherStyleId:{value:0,applyInUsers:!1,applyInBots:!1,applyInPets:!1},defaultStyleId:{enabled:!1,value:0},activeTab:"basic",isWindowVisible:!0,isWindowMinimized:!1,activePage:"settings",hideEntities:{users:!1,bots:!1,pets:!1},hideHabobbaIcon:!1,windowWidth:"400px",windowHeight:"550px",hideAllButWired:!1,forceEffect:{enabled:!1,value:0},forceDance:{enabled:!1,value:0},forceGesture:{enabled:!1,value:0,interval:2},forceGestureInterval:{},keepFollowing:{enabled:!1,unitToFollow:"",walkInRoom:!1,followBetweenRooms:!1},followBetweenRoomsInterval:{},followBetweenRoomsIntervalMs:2e3,evalCommand:{enabled:!1,prefix:">"},preventLookPackets:!1,buyAndPlaceByClick:!1,notifications:{consoleMessages:!0,roomScore:!0,roomRights:!0,receiveMentionsFromConsole:!0,sendMentionsToConsole:!0,friendsOnlineOffline:!0,friendsOnlineOfflineRelationshipOnly:!0},buyAutomaticallyOnThreshold:{enabled:!1,threshold:5,quantity:10},patches:{responsivenessFriendsList:!0,fixLobbyPage:!1},clickThroughMobis:!1,copyableContent:{username:!0,console:!0,messages:!0,nitroCards:!1,infostand:!0},leftToolbarClosedOnLoad:!0,translucentToolbar:!0,hideToolbarIcons:{hotel:!1,house:!1,navigator:!1,store:!1,inventory:!1,profile:!1,hibisco:!1,camera:!1,extensions:!1,friendList:!1,friendSearch:!1,modTools:!1,rest:!1},commands:{copy:!1,redo:!1,rejoin:!0,stop:!1,reload:!1,undo:!1,print:{enabled:!0,download:!0,viewNewTab:!1}},avatarToolbar:{useHoverAnimation:!0,showOnAvatarHover:!0,removeFilter:!0,disableBadges:!1,showToolbarIcons:{hotel:!1,house:!1,navigator:!1,store:!1,inventory:!1,profile:!1,hibisco:!1,camera:!1,extensions:!1,friendList:!1,friendSearch:!1,rest:!1,modTools:!1}},chatInputInsideToolbar:!1,buttonToCollapsePurse:!0,buttonToCollapseSideToolbar:!0,hideCollapsedToolbarIcons:{left:!1,right:!1},overrideSsoTicket:{enabled:!1,value:""},displaySsoTicketAndQuit:!1,passCursorThroughToolbar:!0,deactivateToolbarItemHoverAnimation:!1,optimizations:{convertGenericAlertToNotification:!1,minimalistInfostand:!1,hideAllInfoStand:!1,fixRoomAreaSelector:!0,fixBuyOneButton:!0},isHibiscoDisabled:!1,mobisInterfaces:{toner:{enabled:!0}},newSoundManager:{enabled:!1},removeRightsOwn:!0,roomFilters:!0,groupWiredRepeatedMessages:!0,infostandButtons:!0}),bm=Symbol(),rs=Symbol(),Fn="a",Ed="f",Qc="p",Md="c",$d="t",Dd="h",wr="w",Ld="o",Fd="k";let vm=(ie,ee)=>new Proxy(ie,ee);const Oi=Object.getPrototypeOf,Pi=new WeakMap,Bd=ie=>ie&&(Pi.has(ie)?Pi.get(ie):Oi(ie)===Object.prototype||Oi(ie)===Array.prototype),Zc=ie=>typeof ie=="object"&&ie!==null,ym=ie=>Object.values(Object.getOwnPropertyDescriptors(ie)).some(ee=>!ee.configurable&&!ee.writable),wm=ie=>{if(Array.isArray(ie))return Array.from(ie);const ee=Object.getOwnPropertyDescriptors(ie);return Object.values(ee).forEach(te=>{te.configurable=!0}),Object.create(Oi(ie),ee)},_m=(ie,ee)=>{const te={[Ed]:ee};let se=!1;const ne=(ce,he)=>{if(!se){let de=te[Fn].get(ie);if(de||(de={},te[Fn].set(ie,de)),ce===wr)de[wr]=!0;else{let _e=de[ce];_e||(_e=new Set,de[ce]=_e),_e.add(he)}}},le=()=>{se=!0,te[Fn].delete(ie)},ue={get(ce,he){return he===rs?ie:(ne(Fd,he),qd(Reflect.get(ce,he),te[Fn],te[Md],te[$d]))},has(ce,he){return he===bm?(le(),!0):(ne(Dd,he),Reflect.has(ce,he))},getOwnPropertyDescriptor(ce,he){return ne(Ld,he),Reflect.getOwnPropertyDescriptor(ce,he)},ownKeys(ce){return ne(wr),Reflect.ownKeys(ce)}};return ee&&(ue.set=ue.deleteProperty=()=>!1),[ue,te]},zd=ie=>ie[rs]||ie,qd=(ie,ee,te,se)=>{if(!Bd(ie))return ie;let ne=se&&se.get(ie);if(!ne){const he=zd(ie);ym(he)?ne=[he,wm(he)]:ne=[he],se==null||se.set(ie,ne)}const[le,ue]=ne;let ce=te&&te.get(le);return(!ce||ce[1][Ed]!==!!ue)&&(ce=_m(le,!!ue),ce[1][Qc]=vm(ue||le,ce[0]),te&&te.set(le,ce)),ce[1][Fn]=ee,ce[1][Md]=te,ce[1][$d]=se,ce[1][Qc]},Am=(ie,ee)=>{const te=Reflect.ownKeys(ie),se=Reflect.ownKeys(ee);return te.length!==se.length||te.some((ne,le)=>ne!==se[le])},jd=(ie,ee,te,se,ne=Object.is)=>{if(ne(ie,ee))return!1;if(!Zc(ie)||!Zc(ee))return!0;const le=te.get(zd(ie));if(!le)return!0;if(se){if(se.get(ie)===ee)return!1;se.set(ie,ee)}let ue=null;for(const ce of le[Dd]||[])if(ue=Reflect.has(ie,ce)!==Reflect.has(ee,ce),ue)return ue;if(le[wr]===!0){if(ue=Am(ie,ee),ue)return ue}else for(const ce of le[Ld]||[]){const he=!!Reflect.getOwnPropertyDescriptor(ie,ce),de=!!Reflect.getOwnPropertyDescriptor(ee,ce);if(ue=he!==de,ue)return ue}for(const ce of le[Fd]||[])if(ue=jd(ie[ce],ee[ce],te,se,ne),ue)return ue;if(ue===null)throw new Error("invalid used");return ue},xm=ie=>Bd(ie)&&ie[rs]||null,Jc=(ie,ee=!0)=>{Pi.set(ie,ee)},os=ie=>typeof ie=="object"&&ie!==null,Sm=ie=>os(ie)&&!Wr.has(ie)&&(Array.isArray(ie)||!(Symbol.iterator in ie))&&!(ie instanceof WeakMap)&&!(ie instanceof WeakSet)&&!(ie instanceof Error)&&!(ie instanceof Number)&&!(ie instanceof Date)&&!(ie instanceof String)&&!(ie instanceof RegExp)&&!(ie instanceof ArrayBuffer)&&!(ie instanceof Promise),Vd=(ie,ee)=>{const te=Ni.get(ie);if((te==null?void 0:te[0])===ee)return te[1];const se=Array.isArray(ie)?[]:Object.create(Object.getPrototypeOf(ie));return Jc(se,!0),Ni.set(ie,[ee,se]),Reflect.ownKeys(ie).forEach(ne=>{if(Object.getOwnPropertyDescriptor(se,ne))return;const le=Reflect.get(ie,ne),{enumerable:ue}=Reflect.getOwnPropertyDescriptor(ie,ne),ce={value:le,enumerable:ue,configurable:!0};if(Wr.has(le))Jc(le,!1);else if(kt.has(le)){const[he,de]=kt.get(le);ce.value=Vd(he,de())}Object.defineProperty(se,ne,ce)}),Object.preventExtensions(se)},Cm=(ie,ee,te,se)=>({deleteProperty(ne,le){const ue=Reflect.get(ne,le);te(le);const ce=Reflect.deleteProperty(ne,le);return ce&&se(["delete",[le],ue]),ce},set(ne,le,ue,ce){const he=!ie()&&Reflect.has(ne,le),de=Reflect.get(ne,le,ce);if(he&&(Xc(de,ue)||Un.has(ue)&&Xc(de,Un.get(ue))))return!0;te(le),os(ue)&&(ue=xm(ue)||ue);const _e=!kt.has(ue)&&Tm(ue)?Dt(ue):ue;return ee(le,_e),Reflect.set(ne,le,_e,ce),se(["set",[le],ue,de]),!0}}),kt=new WeakMap,Wr=new WeakSet,Ni=new WeakMap,Bn=[1,1],Un=new WeakMap;let Xc=Object.is,Rm=(ie,ee)=>new Proxy(ie,ee),Tm=Sm,Im=Vd,Om=Cm;function Dt(ie={}){if(!os(ie))throw new Error("object required");const ee=Un.get(ie);if(ee)return ee;let te=Bn[0];const se=new Set,ne=(we,De=++Bn[0])=>{te!==De&&(te=De,se.forEach($e=>$e(we,De)))};let le=Bn[1];const ue=(we=++Bn[1])=>(le!==we&&!se.size&&(le=we,he.forEach(([De])=>{const $e=De[1](we);$e>te&&(te=$e)})),te),ce=we=>(De,$e)=>{const Ge=[...De];Ge[1]=[we,...Ge[1]],ne(Ge,$e)},he=new Map,de=(we,De)=>{const $e=!Wr.has(De)&&kt.get(De);if($e)if(se.size){const Ge=$e[2](ce(we));he.set(we,[$e,Ge])}else he.set(we,[$e])},_e=we=>{var De;const $e=he.get(we);$e&&(he.delete(we),(De=$e[1])==null||De.call($e))},fe=we=>(se.add(we),se.size===1&&he.forEach(([De,$e],Ge)=>{const Be=De[2](ce(Ge));he.set(Ge,[De,Be])}),()=>{se.delete(we),se.size===0&&he.forEach(([De,$e],Ge)=>{$e&&($e(),he.set(Ge,[De]))})});let ye=!0;const be=Om(()=>ye,de,_e,ne),Pe=Rm(ie,be);Un.set(ie,Pe);const Ne=[ie,ue,fe];return kt.set(Pe,Ne),Reflect.ownKeys(ie).forEach(we=>{const De=Object.getOwnPropertyDescriptor(ie,we);"value"in De&&De.writable&&(Pe[we]=ie[we])}),ye=!1,Pe}function Gr(ie,ee,te){const se=kt.get(ie);let ne;const le=[],ue=se[2];let ce=!1;const he=ue(de=>{le.push(de),ne||(ne=Promise.resolve().then(()=>{ne=void 0,ce&&ee(le.splice(0))}))});return ce=!0,()=>{ce=!1,he()}}function jt(ie){const ee=kt.get(ie),[te,se]=ee;return Im(te,se())}const Nm=new WeakMap;function oe(ie,ee){const se=reactExports.useMemo(()=>ie&&new WeakMap,[ie]),ne=reactExports.useRef();let le=!0;const ue=reactExports.useSyncExternalStore(reactExports.useCallback(he=>{const de=Gr(ie,he,void 0);return he(),de},[ie,void 0]),()=>{const he=jt(ie);try{if(!le&&ne.current&&!jd(ne.current,he,se,new WeakMap))return ne.current}catch{}return he},()=>jt(ie));le=!1,reactExports.useLayoutEffect(()=>{ne.current=ue});const ce=reactExports.useMemo(()=>new WeakMap,[]);return qd(ue,se,ce,Nm)}const km=ie=>new URLSearchParams(window.location.search).get(ie)||"",Em=()=>km("hibiscoSettings")||localStorage.getItem("hibisco-settings"),Mm=JSON.parse(Em()||"{}"),$m=Ur({},Ir,Ii,Mm),A$2=Dt($m);function Hd(ie){var ee,te,se="";if(typeof ie=="string"||typeof ie=="number")se+=ie;else if(typeof ie=="object")if(Array.isArray(ie)){var ne=ie.length;for(ee=0;ee<ne;ee++)ie[ee]&&(te=Hd(ie[ee]))&&(se&&(se+=" "),se+=te)}else for(te in ie)ie[te]&&(se&&(se+=" "),se+=te);return se}function re(){for(var ie,ee,te=0,se="",ne=arguments.length;te<ne;te++)(ie=arguments[te])&&(ee=Hd(ie))&&(se&&(se+=" "),se+=ee);return se}const Dm="_container_1l81n_1",Lm="_visible_1l81n_1",Fm="_absolute_1l81n_1",Bm="_relative_1l81n_1",zm="_flex_1l81n_1",qm="_hidden_1l81n_1",jm="_border_1l81n_1",Vm="_italic_1l81n_1",Hm="_outline_1l81n_1",Um="_filter_1l81n_1",Wm="_Nitropedia_1l81n_4",Gm="_Header_1l81n_40",Ym="_Title_1l81n_51",Km="_version_1l81n_56",pr={container:Dm,"pointer-events-none":"_pointer-events-none_1l81n_1",visible:Lm,absolute:Fm,relative:Bm,"end-0":"_end-0_1l81n_1","mx-auto":"_mx-auto_1l81n_1","ms-1":"_ms-1_1l81n_1",flex:zm,hidden:qm,"h-full":"_h-full_1l81n_1","w-full":"_w-full_1l81n_1","max-w-full":"_max-w-full_1l81n_1","flex-shrink-0":"_flex-shrink-0_1l81n_1","cursor-pointer":"_cursor-pointer_1l81n_1","select-none":"_select-none_1l81n_1","flex-col":"_flex-col_1l81n_1","gap-1":"_gap-1_1l81n_1","gap-2":"_gap-2_1l81n_1","overflow-auto":"_overflow-auto_1l81n_1","overflow-hidden":"_overflow-hidden_1l81n_1",border:jm,"p-0":"_p-0_1l81n_1",italic:Vm,"text-black":"_text-black_1l81n_1",outline:Hm,filter:Um,Nitropedia:Wm,Header:Gm,Title:Ym,version:Km},Qm="_container_tie1d_1",Zm="_visible_tie1d_1",Jm="_absolute_tie1d_1",Xm="_relative_tie1d_1",eg="_flex_tie1d_1",tg="_hidden_tie1d_1",ng="_border_tie1d_1",rg="_italic_tie1d_1",og="_outline_tie1d_1",ag="_filter_tie1d_1",ig="_CategoryIcon_tie1d_25",sg="_CategoryTitle_tie1d_35",lg="_Hidden_tie1d_40",qn={container:Qm,"pointer-events-none":"_pointer-events-none_tie1d_1",visible:Zm,absolute:Jm,relative:Xm,"end-0":"_end-0_tie1d_1","mx-auto":"_mx-auto_tie1d_1","ms-1":"_ms-1_tie1d_1",flex:eg,hidden:tg,"h-full":"_h-full_tie1d_1","w-full":"_w-full_tie1d_1","max-w-full":"_max-w-full_tie1d_1","flex-shrink-0":"_flex-shrink-0_tie1d_1","cursor-pointer":"_cursor-pointer_tie1d_1","select-none":"_select-none_tie1d_1","flex-col":"_flex-col_tie1d_1","gap-1":"_gap-1_tie1d_1","gap-2":"_gap-2_tie1d_1","overflow-auto":"_overflow-auto_tie1d_1","overflow-hidden":"_overflow-hidden_tie1d_1",border:ng,"p-0":"_p-0_tie1d_1",italic:rg,"text-black":"_text-black_tie1d_1",outline:og,filter:ag,CategoryIcon:ig,CategoryTitle:sg,Hidden:lg};function Ye(ie){return Object.keys(ie)}function ri(ie){return ie&&typeof ie=="object"&&!Array.isArray(ie)}function as(ie,ee){const te={...ie},se=ee;return ri(ie)&&ri(ee)&&Object.keys(ee).forEach(ne=>{ri(se[ne])&&ne in ie?te[ne]=as(te[ne],se[ne]):te[ne]=se[ne]}),te}function cg(ie){return ie.replace(/[A-Z]/g,ee=>`-${ee.toLowerCase()}`)}function ug(ie){var ee;return typeof ie!="string"||!ie.includes("var(--mantine-scale)")?ie:(ee=ie.match(/^calc\((.*?)\)$/))==null?void 0:ee[1].split("*")[0].trim()}function Wn(ie){const ee=ug(ie);return typeof ee=="number"?ee:typeof ee=="string"?ee.includes("calc")||ee.includes("var")?ee:ee.includes("px")?Number(ee.replace("px","")):ee.includes("rem")?Number(ee.replace("rem",""))*16:ee.includes("em")?Number(ee.replace("em",""))*16:Number(ee):NaN}function oi(ie){return ie==="0rem"?"0rem":`calc(${ie} * var(--mantine-scale))`}function Ud(ie,{shouldScale:ee=!1}={}){function te(se){if(se===0||se==="0")return`0${ie}`;if(typeof se=="number"){const ne=`${se/16}${ie}`;return ee?oi(ne):ne}if(typeof se=="string"){if(se===""||se.startsWith("calc(")||se.startsWith("clamp(")||se.includes("rgba("))return se;if(se.includes(","))return se.split(",").map(le=>te(le)).join(",");if(se.includes(" "))return se.split(" ").map(le=>te(le)).join(" ");if(se.includes(ie))return ee?oi(se):se;const ne=se.replace("px","");if(!Number.isNaN(Number(ne))){const le=`${Number(ne)/16}${ie}`;return ee?oi(le):le}}return se}return te}const V$2=Ud("rem",{shouldScale:!0}),eu=Ud("em");function yn(ie){return Object.keys(ie).reduce((ee,te)=>(ie[te]!==void 0&&(ee[te]=ie[te]),ee),{})}function Wd(ie){if(typeof ie=="number")return!0;if(typeof ie=="string"){if(ie.startsWith("calc(")||ie.startsWith("var(")||ie.includes(" ")&&ie.trim()!=="")return!0;const ee=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return ie.trim().split(/\s+/).every(te=>ee.test(te))}return!1}function Jt(ie){return Array.isArray(ie)||ie===null?!1:typeof ie=="object"?ie.type!==reactExports.Fragment:!1}function Xt(ie){const ee=reactExports.createContext(null);return[({children:te,value:se})=>jsxRuntimeExports.jsx(ee.Provider,{value:se,children:te}),()=>{const te=reactExports.useContext(ee);if(te===null)throw new Error(ie);return te}]}function dg(ie=null){const ee=reactExports.createContext(ie);return[({children:te,value:se})=>jsxRuntimeExports.jsx(ee.Provider,{value:se,children:te}),()=>reactExports.useContext(ee)]}const fg={app:100,modal:200,popover:300,overlay:400,max:9999};function is(ie){return fg[ie]}const ki=()=>{};function pg(ie,ee={active:!0}){return typeof ie!="function"||!ee.active?ee.onKeyDown||ki:te=>{var se;te.key==="Escape"&&(ie(te),(se=ee.onTrigger)==null||se.call(ee))}}function ke(ie,ee="size",te=!0){if(ie!==void 0)return Wd(ie)?te?V$2(ie):ie:`var(--${ee}-${ie})`}function Qe(ie){return ke(ie,"mantine-spacing")}function tt$1(ie){return ie===void 0?"var(--mantine-radius-default)":ke(ie,"mantine-radius")}function Xe(ie){return ke(ie,"mantine-font-size")}function hg(ie){return ke(ie,"mantine-line-height",!1)}function mg(ie){if(ie)return ke(ie,"mantine-shadow",!1)}function gg(ie,ee){return ie in ee?Wn(ee[ie]):Wn(ie)}function bg(ie,ee){const te=ie.map(se=>({value:se,px:gg(se,ee)}));return te.sort((se,ne)=>se.px-ne.px),te}function ln(ie){return typeof ie=="object"&&ie!==null?"base"in ie?ie.base:void 0:ie}function ft(ie,ee,te){return ee===void 0&&te===void 0?ie:ee!==void 0&&te===void 0?Math.max(ie,ee):Math.min(ee===void 0&&te!==void 0?ie:Math.max(ie,ee),te)}function vg(ie="mantine-"){return`${ie}${Math.random().toString(36).slice(2,11)}`}function Vt(ie){const ee=reactExports.useRef(ie);return reactExports.useEffect(()=>{ee.current=ie}),reactExports.useMemo(()=>(...te)=>{var se;return(se=ee.current)==null?void 0:se.call(ee,...te)},[])}const yg=()=>{};function Yr(ie,ee){const te=typeof ee=="number"?ee:ee.delay,se=typeof ee=="number"?!1:ee.flushOnUnmount,ne=Vt(ie),le=reactExports.useRef(0),ue=Object.assign(reactExports.useCallback((...ce)=>{window.clearTimeout(le.current);const he=()=>{le.current!==0&&(le.current=0,ne(...ce))};ue.flush=he,le.current=window.setTimeout(he,te)},[ne,te]),{flush:yg});return reactExports.useEffect(()=>()=>{window.clearTimeout(le.current),se&&ue.flush()},[ue,se]),ue}const tu=["mousedown","touchstart"];function wg(ie,ee,te){const se=reactExports.useRef(null);return reactExports.useEffect(()=>{const ne=le=>{const{target:ue}=le??{};if(Array.isArray(te)){const ce=(ue==null?void 0:ue.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(ue)&&ue.tagName!=="HTML";te.every(he=>!!he&&!le.composedPath().includes(he))&&!ce&&ie()}else se.current&&!se.current.contains(ue)&&ie()};return(ee||tu).forEach(le=>document.addEventListener(le,ne)),()=>{(ee||tu).forEach(le=>document.removeEventListener(le,ne))}},[se,ie,te]),se}function _g(ie,ee){try{return ie.addEventListener("change",ee),()=>ie.removeEventListener("change",ee)}catch{return ie.addListener(ee),()=>ie.removeListener(ee)}}function Ag(ie,ee){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(ie).matches:!1}function ss(ie,ee,{getInitialValueInEffect:te}={getInitialValueInEffect:!0}){const[se,ne]=reactExports.useState(te?ee:Ag(ie)),le=reactExports.useRef(null);return reactExports.useEffect(()=>{if("matchMedia"in window)return le.current=window.matchMedia(ie),ne(le.current.matches),_g(le.current,ue=>ne(ue.matches))},[ie]),se}const Xn=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function Yt(ie,ee){const te=reactExports.useRef(!1);reactExports.useEffect(()=>()=>{te.current=!1},[]),reactExports.useEffect(()=>{if(te.current)return ie();te.current=!0},ee)}function xg({opened:ie,shouldReturnFocus:ee=!0}){const te=reactExports.useRef(null),se=()=>{var ne;te.current&&"focus"in te.current&&typeof te.current.focus=="function"&&((ne=te.current)==null||ne.focus({preventScroll:!0}))};return Yt(()=>{let ne=-1;const le=ue=>{ue.key==="Tab"&&window.clearTimeout(ne)};return document.addEventListener("keydown",le),ie?te.current=document.activeElement:ee&&(ne=window.setTimeout(se,10)),()=>{window.clearTimeout(ne),document.removeEventListener("keydown",le)}},[ie,ee]),se}const Sg=/input|select|textarea|button|object/,Gd="a, input, select, textarea, button, object, [tabindex]";function Cg(ie){return ie.style.display==="none"}function Rg(ie){if(ie.getAttribute("aria-hidden")||ie.getAttribute("hidden")||ie.getAttribute("type")==="hidden")return!1;let ee=ie;for(;ee&&!(ee===document.body||ee.nodeType===11);){if(Cg(ee))return!1;ee=ee.parentNode}return!0}function Yd(ie){let ee=ie.getAttribute("tabindex");return ee===null&&(ee=void 0),parseInt(ee,10)}function Ei(ie){const ee=ie.nodeName.toLowerCase(),te=!Number.isNaN(Yd(ie));return(Sg.test(ee)&&!ie.disabled||ie instanceof HTMLAnchorElement&&ie.href||te)&&Rg(ie)}function Kd(ie){const ee=Yd(ie);return(Number.isNaN(ee)||ee>=0)&&Ei(ie)}function Tg(ie){return Array.from(ie.querySelectorAll(Gd)).filter(Kd)}function Ig(ie,ee){const te=Tg(ie);if(!te.length){ee.preventDefault();return}const se=te[ee.shiftKey?0:te.length-1],ne=ie.getRootNode();let le=se===ne.activeElement||ie===ne.activeElement;const ue=ne.activeElement;if(ue.tagName==="INPUT"&&ue.getAttribute("type")==="radio"&&(le=te.filter(he=>he.getAttribute("type")==="radio"&&he.getAttribute("name")===ue.getAttribute("name")).includes(se)),!le)return;ee.preventDefault();const ce=te[ee.shiftKey?te.length-1:0];ce&&ce.focus()}function Og(ie=!0){const ee=reactExports.useRef(null),te=ne=>{let le=ne.querySelector("[data-autofocus]");if(!le){const ue=Array.from(ne.querySelectorAll(Gd));le=ue.find(Kd)||ue.find(Ei)||null,!le&&Ei(ne)&&(le=ne)}le&&le.focus({preventScroll:!0})},se=reactExports.useCallback(ne=>{ie&&ne!==null&&ee.current!==ne&&(ne?(setTimeout(()=>{ne.getRootNode()&&te(ne)}),ee.current=ne):ee.current=null)},[ie]);return reactExports.useEffect(()=>{if(!ie)return;ee.current&&setTimeout(()=>te(ee.current));const ne=le=>{le.key==="Tab"&&ee.current&&Ig(ee.current,le)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[ie]),se}const Pg=React.useId||(()=>{});function Ng(){const ie=Pg();return ie?`mantine-${ie.replace(/:/g,"")}`:""}function wn(ie){const ee=Ng(),[te,se]=reactExports.useState(ee);return Xn(()=>{se(vg())},[]),typeof ie=="string"?ie:typeof window>"u"?ee:te}function Or(ie,ee){if(typeof ie=="function")return ie(ee);typeof ie=="object"&&ie!==null&&"current"in ie&&(ie.current=ee)}function kg(...ie){const ee=new Map;return te=>{if(ie.forEach(se=>{const ne=Or(se,te);ne&&ee.set(se,ne)}),ee.size>0)return()=>{ie.forEach(se=>{const ne=ee.get(se);ne?ne():Or(se,null)}),ee.clear()}}}function He(...ie){return reactExports.useCallback(kg(...ie),ie)}function Eg(ie,ee,te="ltr"){const se=reactExports.useRef(null),ne=reactExports.useRef(!1),le=reactExports.useRef(!1),ue=reactExports.useRef(0),[ce,he]=reactExports.useState(!1);return reactExports.useEffect(()=>{ne.current=!0},[]),reactExports.useEffect(()=>{var de,_e;const fe=({x:Be,y:ze})=>{cancelAnimationFrame(ue.current),ue.current=requestAnimationFrame(()=>{if(ne.current&&se.current){se.current.style.userSelect="none";const $t=se.current.getBoundingClientRect();if($t.width&&$t.height){const ut=ft((Be-$t.left)/$t.width,0,1);ie({x:te==="ltr"?ut:1-ut,y:ft((ze-$t.top)/$t.height,0,1)})}}})},ye=()=>{document.addEventListener("mousemove",De),document.addEventListener("mouseup",Ne),document.addEventListener("touchmove",Ge),document.addEventListener("touchend",Ne)},be=()=>{document.removeEventListener("mousemove",De),document.removeEventListener("mouseup",Ne),document.removeEventListener("touchmove",Ge),document.removeEventListener("touchend",Ne)},Pe=()=>{!le.current&&ne.current&&(le.current=!0,typeof(ee==null?void 0:ee.onScrubStart)=="function"&&ee.onScrubStart(),he(!0),ye())},Ne=()=>{le.current&&ne.current&&(le.current=!1,he(!1),be(),setTimeout(()=>{typeof(ee==null?void 0:ee.onScrubEnd)=="function"&&ee.onScrubEnd()},0))},we=Be=>{Pe(),Be.preventDefault(),De(Be)},De=Be=>fe({x:Be.clientX,y:Be.clientY}),$e=Be=>{Be.cancelable&&Be.preventDefault(),Pe(),Ge(Be)},Ge=Be=>{Be.cancelable&&Be.preventDefault(),fe({x:Be.changedTouches[0].clientX,y:Be.changedTouches[0].clientY})};return(de=se.current)==null||de.addEventListener("mousedown",we),(_e=se.current)==null||_e.addEventListener("touchstart",$e,{passive:!1}),()=>{se.current&&(se.current.removeEventListener("mousedown",we),se.current.removeEventListener("touchstart",$e))}},[te,ie]),{ref:se,active:ce}}function _n({value:ie,defaultValue:ee,finalValue:te,onChange:se=()=>{}}){const[ne,le]=reactExports.useState(ee!==void 0?ee:te);return ie!==void 0?[ie,se,!0]:[ne,(ce,...he)=>{le(ce),se==null||se(ce,...he)},!1]}function Mg(ie,ee){return ss("(prefers-reduced-motion: reduce)",ie,ee)}function $g(){return typeof process<"u"&&define_process_env_default?"production":"development"}function nu(ie,ee){return ee.length===0?ie:ee.reduce((te,se)=>Math.abs(se-ie)<Math.abs(te-ie)?se:te)}function Kr(ie){var ee;const te=React.version;return typeof React.version!="string"||te.startsWith("18.")?ie==null?void 0:ie.ref:(ee=ie==null?void 0:ie.props)==null?void 0:ee.ref}const Dg={};function Lg(ie){const ee={};return ie.forEach(te=>{Object.entries(te).forEach(([se,ne])=>{ee[se]?ee[se]=re(ee[se],ne):ee[se]=ne})}),ee}function Qr({theme:ie,classNames:ee,props:te,stylesCtx:se}){const ne=(Array.isArray(ee)?ee:[ee]).map(le=>typeof le=="function"?le(ie,te,se):le||Dg);return Lg(ne)}function Pr({theme:ie,styles:ee,props:te,stylesCtx:se}){return(Array.isArray(ee)?ee:[ee]).reduce((ne,le)=>typeof le=="function"?{...ne,...le(ie,te,se)}:{...ne,...le},{})}const Qd=reactExports.createContext(null);function en(){const ie=reactExports.useContext(Qd);if(!ie)throw new Error("[@mantine/core] MantineProvider was not found in tree");return ie}function Fg(){return en().cssVariablesResolver}function Bg(){return en().classNamesPrefix}function ls(){return en().getStyleNonce}function zg(){return en().withStaticClasses}function qg(){return en().headless}function jg(){var ie;return(ie=en().stylesTransform)==null?void 0:ie.sx}function Vg(){var ie;return(ie=en().stylesTransform)==null?void 0:ie.styles}function Hg(ie){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(ie)}function Ug(ie){let ee=ie.replace("#","");if(ee.length===3){const ue=ee.split("");ee=[ue[0],ue[0],ue[1],ue[1],ue[2],ue[2]].join("")}if(ee.length===8){const ue=parseInt(ee.slice(6,8),16)/255;return{r:parseInt(ee.slice(0,2),16),g:parseInt(ee.slice(2,4),16),b:parseInt(ee.slice(4,6),16),a:ue}}const te=parseInt(ee,16),se=te>>16&255,ne=te>>8&255,le=te&255;return{r:se,g:ne,b:le,a:1}}function Wg(ie){const[ee,te,se,ne]=ie.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:ee,g:te,b:se,a:ne||1}}function Gg(ie){const ee=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,te=ie.match(ee);if(!te)return{r:0,g:0,b:0,a:1};const se=parseInt(te[1],10),ne=parseInt(te[2],10)/100,le=parseInt(te[3],10)/100,ue=te[5]?parseFloat(te[5]):void 0,ce=(1-Math.abs(2*le-1))*ne,he=se/60,de=ce*(1-Math.abs(he%2-1)),_e=le-ce/2;let fe,ye,be;return he>=0&&he<1?(fe=ce,ye=de,be=0):he>=1&&he<2?(fe=de,ye=ce,be=0):he>=2&&he<3?(fe=0,ye=ce,be=de):he>=3&&he<4?(fe=0,ye=de,be=ce):he>=4&&he<5?(fe=de,ye=0,be=ce):(fe=ce,ye=0,be=de),{r:Math.round((fe+_e)*255),g:Math.round((ye+_e)*255),b:Math.round((be+_e)*255),a:ue||1}}function cs(ie){return Hg(ie)?Ug(ie):ie.startsWith("rgb")?Wg(ie):ie.startsWith("hsl")?Gg(ie):{r:0,g:0,b:0,a:1}}function hr(ie,ee){if(ie.startsWith("var("))return`color-mix(in srgb, ${ie}, black ${ee*100}%)`;const{r:te,g:se,b:ne,a:le}=cs(ie),ue=1-ee,ce=he=>Math.round(he*ue);return`rgba(${ce(te)}, ${ce(se)}, ${ce(ne)}, ${le})`}function Gn(ie,ee){return typeof ie.primaryShade=="number"?ie.primaryShade:ee==="dark"?ie.primaryShade.dark:ie.primaryShade.light}function ai(ie){return ie<=.03928?ie/12.92:((ie+.055)/1.055)**2.4}function Yg(ie){const ee=ie.match(/oklch\((.*?)%\s/);return ee?parseFloat(ee[1]):null}function Kg(ie){if(ie.startsWith("oklch("))return(Yg(ie)||0)/100;const{r:ee,g:te,b:se}=cs(ie),ne=ee/255,le=te/255,ue=se/255,ce=ai(ne),he=ai(le),de=ai(ue);return .2126*ce+.7152*he+.0722*de}function Pn(ie,ee=.179){return ie.startsWith("var(")?!1:Kg(ie)>ee}function er({color:ie,theme:ee,colorScheme:te}){if(typeof ie!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof ie}`);if(ie==="bright")return{color:ie,value:te==="dark"?ee.white:ee.black,shade:void 0,isThemeColor:!1,isLight:Pn(te==="dark"?ee.white:ee.black,ee.luminanceThreshold),variable:"--mantine-color-bright"};if(ie==="dimmed")return{color:ie,value:te==="dark"?ee.colors.dark[2]:ee.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Pn(te==="dark"?ee.colors.dark[2]:ee.colors.gray[6],ee.luminanceThreshold),variable:"--mantine-color-dimmed"};if(ie==="white"||ie==="black")return{color:ie,value:ie==="white"?ee.white:ee.black,shade:void 0,isThemeColor:!1,isLight:Pn(ie==="white"?ee.white:ee.black,ee.luminanceThreshold),variable:`--mantine-color-${ie}`};const[se,ne]=ie.split("."),le=ne?Number(ne):void 0,ue=se in ee.colors;if(ue){const ce=le!==void 0?ee.colors[se][le]:ee.colors[se][Gn(ee,te||"light")];return{color:se,value:ce,shade:le,isThemeColor:ue,isLight:Pn(ce,ee.luminanceThreshold),variable:ne?`--mantine-color-${se}-${le}`:`--mantine-color-${se}-filled`}}return{color:ie,value:ie,isThemeColor:ue,isLight:Pn(ie,ee.luminanceThreshold),shade:le,variable:void 0}}function Ze(ie,ee){const te=er({color:ie||ee.primaryColor,theme:ee});return te.variable?`var(${te.variable})`:ie}function Mi(ie,ee){const te={from:(ie==null?void 0:ie.from)||ee.defaultGradient.from,to:(ie==null?void 0:ie.to)||ee.defaultGradient.to,deg:(ie==null?void 0:ie.deg)||ee.defaultGradient.deg||0},se=Ze(te.from,ee),ne=Ze(te.to,ee);return`linear-gradient(${te.deg}deg, ${se} 0%, ${ne} 100%)`}function _t(ie,ee){if(typeof ie!="string"||ee>1||ee<0)return"rgba(0, 0, 0, 1)";if(ie.startsWith("var(")){const le=(1-ee)*100;return`color-mix(in srgb, ${ie}, transparent ${le}%)`}if(ie.startsWith("oklch"))return ie.includes("/")?ie.replace(/\/\s*[\d.]+\s*\)/,`/ ${ee})`):ie.replace(")",` / ${ee})`);const{r:te,g:se,b:ne}=cs(ie);return`rgba(${te}, ${se}, ${ne}, ${ee})`}const rn=_t,Qg=({color:ie,theme:ee,variant:te,gradient:se,autoContrast:ne})=>{const le=er({color:ie,theme:ee}),ue=typeof ne=="boolean"?ne:ee.autoContrast;if(te==="filled"){const ce=ue&&le.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return le.isThemeColor?le.shade===void 0?{background:`var(--mantine-color-${ie}-filled)`,hover:`var(--mantine-color-${ie}-filled-hover)`,color:ce,border:`${V$2(1)} solid transparent`}:{background:`var(--mantine-color-${le.color}-${le.shade})`,hover:`var(--mantine-color-${le.color}-${le.shade===9?8:le.shade+1})`,color:ce,border:`${V$2(1)} solid transparent`}:{background:ie,hover:hr(ie,.1),color:ce,border:`${V$2(1)} solid transparent`}}if(te==="light"){if(le.isThemeColor){if(le.shade===void 0)return{background:`var(--mantine-color-${ie}-light)`,hover:`var(--mantine-color-${ie}-light-hover)`,color:`var(--mantine-color-${ie}-light-color)`,border:`${V$2(1)} solid transparent`};const ce=ee.colors[le.color][le.shade];return{background:_t(ce,.1),hover:_t(ce,.12),color:`var(--mantine-color-${le.color}-${Math.min(le.shade,6)})`,border:`${V$2(1)} solid transparent`}}return{background:_t(ie,.1),hover:_t(ie,.12),color:ie,border:`${V$2(1)} solid transparent`}}if(te==="outline")return le.isThemeColor?le.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${ie}-outline-hover)`,color:`var(--mantine-color-${ie}-outline)`,border:`${V$2(1)} solid var(--mantine-color-${ie}-outline)`}:{background:"transparent",hover:_t(ee.colors[le.color][le.shade],.05),color:`var(--mantine-color-${le.color}-${le.shade})`,border:`${V$2(1)} solid var(--mantine-color-${le.color}-${le.shade})`}:{background:"transparent",hover:_t(ie,.05),color:ie,border:`${V$2(1)} solid ${ie}`};if(te==="subtle"){if(le.isThemeColor){if(le.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${ie}-light-hover)`,color:`var(--mantine-color-${ie}-light-color)`,border:`${V$2(1)} solid transparent`};const ce=ee.colors[le.color][le.shade];return{background:"transparent",hover:_t(ce,.12),color:`var(--mantine-color-${le.color}-${Math.min(le.shade,6)})`,border:`${V$2(1)} solid transparent`}}return{background:"transparent",hover:_t(ie,.12),color:ie,border:`${V$2(1)} solid transparent`}}return te==="transparent"?le.isThemeColor?le.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${ie}-light-color)`,border:`${V$2(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${le.color}-${Math.min(le.shade,6)})`,border:`${V$2(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:ie,border:`${V$2(1)} solid transparent`}:te==="white"?le.isThemeColor?le.shade===void 0?{background:"var(--mantine-color-white)",hover:hr(ee.white,.01),color:`var(--mantine-color-${ie}-filled)`,border:`${V$2(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:hr(ee.white,.01),color:`var(--mantine-color-${le.color}-${le.shade})`,border:`${V$2(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:hr(ee.white,.01),color:ie,border:`${V$2(1)} solid transparent`}:te==="gradient"?{background:Mi(se,ee),hover:Mi(se,ee),color:"var(--mantine-color-white)",border:"none"}:te==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${V$2(1)} solid var(--mantine-color-default-border)`}:{}},Zg={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},ru="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",us={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:Zg,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:Qg,autoContrast:!1,luminanceThreshold:.3,fontFamily:ru,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:ru,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:V$2(34),lineHeight:"1.3"},h2:{fontSize:V$2(26),lineHeight:"1.35"},h3:{fontSize:V$2(22),lineHeight:"1.4"},h4:{fontSize:V$2(18),lineHeight:"1.45"},h5:{fontSize:V$2(16),lineHeight:"1.5"},h6:{fontSize:V$2(14),lineHeight:"1.5"}}},fontSizes:{xs:V$2(12),sm:V$2(14),md:V$2(16),lg:V$2(18),xl:V$2(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:V$2(2),sm:V$2(4),md:V$2(8),lg:V$2(16),xl:V$2(32)},spacing:{xs:V$2(10),sm:V$2(12),md:V$2(16),lg:V$2(20),xl:V$2(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${V$2(1)} ${V$2(3)} rgba(0, 0, 0, 0.05), 0 ${V$2(1)} ${V$2(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${V$2(1)} ${V$2(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${V$2(10)} ${V$2(15)} ${V$2(-5)}, rgba(0, 0, 0, 0.04) 0 ${V$2(7)} ${V$2(7)} ${V$2(-5)}`,md:`0 ${V$2(1)} ${V$2(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${V$2(20)} ${V$2(25)} ${V$2(-5)}, rgba(0, 0, 0, 0.04) 0 ${V$2(10)} ${V$2(10)} ${V$2(-5)}`,lg:`0 ${V$2(1)} ${V$2(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${V$2(28)} ${V$2(23)} ${V$2(-7)}, rgba(0, 0, 0, 0.04) 0 ${V$2(12)} ${V$2(12)} ${V$2(-7)}`,xl:`0 ${V$2(1)} ${V$2(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${V$2(36)} ${V$2(28)} ${V$2(-7)}, rgba(0, 0, 0, 0.04) 0 ${V$2(17)} ${V$2(17)} ${V$2(-7)}`},other:{},components:{}};function ou(ie){return ie==="auto"||ie==="dark"||ie==="light"}function Jg({key:ie="mantine-color-scheme-value"}={}){let ee;return{get:te=>{if(typeof window>"u")return te;try{const se=window.localStorage.getItem(ie);return ou(se)?se:te}catch{return te}},set:te=>{try{window.localStorage.setItem(ie,te)}catch(se){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",se)}},subscribe:te=>{ee=se=>{se.storageArea===window.localStorage&&se.key===ie&&ou(se.newValue)&&te(se.newValue)},window.addEventListener("storage",ee)},unsubscribe:()=>{window.removeEventListener("storage",ee)},clear:()=>{window.localStorage.removeItem(ie)}}}const Xg="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",au="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function ii(ie){return ie<0||ie>9?!1:parseInt(ie.toString(),10)===ie}function iu(ie){if(!(ie.primaryColor in ie.colors))throw new Error(Xg);if(typeof ie.primaryShade=="object"&&(!ii(ie.primaryShade.dark)||!ii(ie.primaryShade.light)))throw new Error(au);if(typeof ie.primaryShade=="number"&&!ii(ie.primaryShade))throw new Error(au)}function eb(ie,ee){var te;if(!ee)return iu(ie),ie;const se=as(ie,ee);return ee.fontFamily&&!((te=ee.headings)!=null&&te.fontFamily)&&(se.headings.fontFamily=ee.fontFamily),iu(se),se}const ds=reactExports.createContext(null),tb=()=>reactExports.useContext(ds)||us;function nt(){const ie=reactExports.useContext(ds);if(!ie)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return ie}function Zd({theme:ie,children:ee,inherit:te=!0}){const se=tb(),ne=reactExports.useMemo(()=>eb(te?se:us,ie),[ie,se,te]);return jsxRuntimeExports.jsx(ds.Provider,{value:ne,children:ee})}Zd.displayName="@mantine/core/MantineThemeProvider";function nb(){const ie=nt(),ee=ls(),te=Ye(ie.breakpoints).reduce((se,ne)=>{const le=ie.breakpoints[ne].includes("px"),ue=Wn(ie.breakpoints[ne]),ce=le?`${ue-.1}px`:eu(ue-.1),he=le?`${ue}px`:eu(ue);return`${se}@media (max-width: ${ce}) {.mantine-visible-from-${ne} {display: none !important;}}@media (min-width: ${he}) {.mantine-hidden-from-${ne} {display: none !important;}}`},"");return jsxRuntimeExports.jsx("style",{"data-mantine-styles":"classes",nonce:ee==null?void 0:ee(),dangerouslySetInnerHTML:{__html:te}})}function si(ie){return Object.entries(ie).map(([ee,te])=>`${ee}: ${te};`).join("")}function Nn(ie,ee){return(Array.isArray(ie)?ie:[ie]).reduce((te,se)=>`${se}{${te}}`,ee)}function rb(ie,ee){const te=si(ie.variables),se=te?Nn(ee,te):"",ne=si(ie.dark),le=si(ie.light),ue=ne?Nn(ee===":host"?`${ee}([data-mantine-color-scheme="dark"])`:`${ee}[data-mantine-color-scheme="dark"]`,ne):"",ce=le?Nn(ee===":host"?`${ee}([data-mantine-color-scheme="light"])`:`${ee}[data-mantine-color-scheme="light"]`,le):"";return`${se}${ue}${ce}`}function Jd({color:ie,theme:ee,autoContrast:te}){return(typeof te=="boolean"?te:ee.autoContrast)&&er({color:ie||ee.primaryColor,theme:ee}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function su(ie,ee){return Jd({color:ie.colors[ie.primaryColor][Gn(ie,ee)],theme:ie,autoContrast:null})}function mr({theme:ie,color:ee,colorScheme:te,name:se=ee,withColorValues:ne=!0}){if(!ie.colors[ee])return{};if(te==="light"){const ce=Gn(ie,"light"),he={[`--mantine-color-${se}-text`]:`var(--mantine-color-${se}-filled)`,[`--mantine-color-${se}-filled`]:`var(--mantine-color-${se}-${ce})`,[`--mantine-color-${se}-filled-hover`]:`var(--mantine-color-${se}-${ce===9?8:ce+1})`,[`--mantine-color-${se}-light`]:rn(ie.colors[ee][ce],.1),[`--mantine-color-${se}-light-hover`]:rn(ie.colors[ee][ce],.12),[`--mantine-color-${se}-light-color`]:`var(--mantine-color-${se}-${ce})`,[`--mantine-color-${se}-outline`]:`var(--mantine-color-${se}-${ce})`,[`--mantine-color-${se}-outline-hover`]:rn(ie.colors[ee][ce],.05)};return ne?{[`--mantine-color-${se}-0`]:ie.colors[ee][0],[`--mantine-color-${se}-1`]:ie.colors[ee][1],[`--mantine-color-${se}-2`]:ie.colors[ee][2],[`--mantine-color-${se}-3`]:ie.colors[ee][3],[`--mantine-color-${se}-4`]:ie.colors[ee][4],[`--mantine-color-${se}-5`]:ie.colors[ee][5],[`--mantine-color-${se}-6`]:ie.colors[ee][6],[`--mantine-color-${se}-7`]:ie.colors[ee][7],[`--mantine-color-${se}-8`]:ie.colors[ee][8],[`--mantine-color-${se}-9`]:ie.colors[ee][9],...he}:he}const le=Gn(ie,"dark"),ue={[`--mantine-color-${se}-text`]:`var(--mantine-color-${se}-4)`,[`--mantine-color-${se}-filled`]:`var(--mantine-color-${se}-${le})`,[`--mantine-color-${se}-filled-hover`]:`var(--mantine-color-${se}-${le===9?8:le+1})`,[`--mantine-color-${se}-light`]:rn(ie.colors[ee][Math.max(0,le-2)],.15),[`--mantine-color-${se}-light-hover`]:rn(ie.colors[ee][Math.max(0,le-2)],.2),[`--mantine-color-${se}-light-color`]:`var(--mantine-color-${se}-${Math.max(le-5,0)})`,[`--mantine-color-${se}-outline`]:`var(--mantine-color-${se}-${Math.max(le-4,0)})`,[`--mantine-color-${se}-outline-hover`]:rn(ie.colors[ee][Math.max(le-4,0)],.05)};return ne?{[`--mantine-color-${se}-0`]:ie.colors[ee][0],[`--mantine-color-${se}-1`]:ie.colors[ee][1],[`--mantine-color-${se}-2`]:ie.colors[ee][2],[`--mantine-color-${se}-3`]:ie.colors[ee][3],[`--mantine-color-${se}-4`]:ie.colors[ee][4],[`--mantine-color-${se}-5`]:ie.colors[ee][5],[`--mantine-color-${se}-6`]:ie.colors[ee][6],[`--mantine-color-${se}-7`]:ie.colors[ee][7],[`--mantine-color-${se}-8`]:ie.colors[ee][8],[`--mantine-color-${se}-9`]:ie.colors[ee][9],...ue}:ue}function ob(ie){return!!ie&&typeof ie=="object"&&"mantine-virtual-color"in ie}function on(ie,ee,te){Ye(ee).forEach(se=>Object.assign(ie,{[`--mantine-${te}-${se}`]:ee[se]}))}const Xd=ie=>{const ee=Gn(ie,"light"),te=ie.defaultRadius in ie.radius?ie.radius[ie.defaultRadius]:V$2(ie.defaultRadius),se={variables:{"--mantine-scale":ie.scale.toString(),"--mantine-cursor-type":ie.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":ie.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":ie.fontSmoothing?"grayscale":"unset","--mantine-color-white":ie.white,"--mantine-color-black":ie.black,"--mantine-line-height":ie.lineHeights.md,"--mantine-font-family":ie.fontFamily,"--mantine-font-family-monospace":ie.fontFamilyMonospace,"--mantine-font-family-headings":ie.headings.fontFamily,"--mantine-heading-font-weight":ie.headings.fontWeight,"--mantine-heading-text-wrap":ie.headings.textWrap,"--mantine-radius-default":te,"--mantine-primary-color-filled":`var(--mantine-color-${ie.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${ie.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${ie.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${ie.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${ie.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":su(ie,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":ie.black,"--mantine-color-body":ie.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${ie.primaryColor}-${ee})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":su(ie,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${ie.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};on(se.variables,ie.breakpoints,"breakpoint"),on(se.variables,ie.spacing,"spacing"),on(se.variables,ie.fontSizes,"font-size"),on(se.variables,ie.lineHeights,"line-height"),on(se.variables,ie.shadows,"shadow"),on(se.variables,ie.radius,"radius"),ie.colors[ie.primaryColor].forEach((le,ue)=>{se.variables[`--mantine-primary-color-${ue}`]=`var(--mantine-color-${ie.primaryColor}-${ue})`}),Ye(ie.colors).forEach(le=>{const ue=ie.colors[le];if(ob(ue)){Object.assign(se.light,mr({theme:ie,name:ue.name,color:ue.light,colorScheme:"light",withColorValues:!0})),Object.assign(se.dark,mr({theme:ie,name:ue.name,color:ue.dark,colorScheme:"dark",withColorValues:!0}));return}ue.forEach((ce,he)=>{se.variables[`--mantine-color-${le}-${he}`]=ce}),Object.assign(se.light,mr({theme:ie,color:le,colorScheme:"light",withColorValues:!1})),Object.assign(se.dark,mr({theme:ie,color:le,colorScheme:"dark",withColorValues:!1}))});const ne=ie.headings.sizes;return Ye(ne).forEach(le=>{se.variables[`--mantine-${le}-font-size`]=ne[le].fontSize,se.variables[`--mantine-${le}-line-height`]=ne[le].lineHeight,se.variables[`--mantine-${le}-font-weight`]=ne[le].fontWeight||ie.headings.fontWeight}),se};function ab({theme:ie,generator:ee}){const te=Xd(ie),se=ee==null?void 0:ee(ie);return se?as(te,se):te}const li=Xd(us);function ib(ie){const ee={variables:{},light:{},dark:{}};return Ye(ie.variables).forEach(te=>{li.variables[te]!==ie.variables[te]&&(ee.variables[te]=ie.variables[te])}),Ye(ie.light).forEach(te=>{li.light[te]!==ie.light[te]&&(ee.light[te]=ie.light[te])}),Ye(ie.dark).forEach(te=>{li.dark[te]!==ie.dark[te]&&(ee.dark[te]=ie.dark[te])}),ee}function sb(ie){return`
  ${ie}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${ie}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function ef({cssVariablesSelector:ie,deduplicateCssVariables:ee}){const te=nt(),se=ls(),ne=Fg(),le=ab({theme:te,generator:ne}),ue=ie===":root"&&ee,ce=ue?ib(le):le,he=rb(ce,ie);return he?jsxRuntimeExports.jsx("style",{"data-mantine-styles":!0,nonce:se==null?void 0:se(),dangerouslySetInnerHTML:{__html:`${he}${ue?"":sb(ie)}`}}):null}ef.displayName="@mantine/CssVariables";function lb(){const ie=console.error;console.error=(...ee)=>{ee.length>1&&typeof ee[0]=="string"&&ee[0].toLowerCase().includes("extra attributes from the server")&&typeof ee[1]=="string"&&ee[1].toLowerCase().includes("data-mantine-color-scheme")||ie(...ee)}}function an(ie,ee){var te;const se=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)").matches,ne=ie!=="auto"?ie:se?"dark":"light";(te=ee())==null||te.setAttribute("data-mantine-color-scheme",ne)}function cb({manager:ie,defaultColorScheme:ee,getRootElement:te,forceColorScheme:se}){const ne=reactExports.useRef(null),[le,ue]=reactExports.useState(()=>ie.get(ee)),ce=se||le,he=reactExports.useCallback(_e=>{se||(an(_e,te),ue(_e),ie.set(_e))},[ie.set,ce,se]),de=reactExports.useCallback(()=>{ue(ee),an(ee,te),ie.clear()},[ie.clear,ee]);return reactExports.useEffect(()=>(ie.subscribe(he),ie.unsubscribe),[ie.subscribe,ie.unsubscribe]),Xn(()=>{an(ie.get(ee),te)},[]),reactExports.useEffect(()=>{var _e;if(se)return an(se,te),()=>{};se===void 0&&an(le,te),typeof window<"u"&&"matchMedia"in window&&(ne.current=window.matchMedia("(prefers-color-scheme: dark)"));const fe=ye=>{le==="auto"&&an(ye.matches?"dark":"light",te)};return(_e=ne.current)==null||_e.addEventListener("change",fe),()=>{var ye;return(ye=ne.current)==null?void 0:ye.removeEventListener("change",fe)}},[le,se]),{colorScheme:ce,setColorScheme:he,clearColorScheme:de}}function ub({respectReducedMotion:ie,getRootElement:ee}){Xn(()=>{var te;ie&&((te=ee())==null||te.setAttribute("data-respect-reduced-motion","true"))},[ie])}lb();function An({theme:ie,children:ee,getStyleNonce:te,withStaticClasses:se=!0,withGlobalClasses:ne=!0,deduplicateCssVariables:le=!0,withCssVariables:ue=!0,cssVariablesSelector:ce=":root",classNamesPrefix:he="mantine",colorSchemeManager:de=Jg(),defaultColorScheme:_e="light",getRootElement:fe=()=>document.documentElement,cssVariablesResolver:ye,forceColorScheme:be,stylesTransform:Pe}){const{colorScheme:Ne,setColorScheme:we,clearColorScheme:De}=cb({defaultColorScheme:_e,forceColorScheme:be,manager:de,getRootElement:fe});return ub({respectReducedMotion:(ie==null?void 0:ie.respectReducedMotion)||!1,getRootElement:fe}),jsxRuntimeExports.jsx(Qd.Provider,{value:{colorScheme:Ne,setColorScheme:we,clearColorScheme:De,getRootElement:fe,classNamesPrefix:he,getStyleNonce:te,cssVariablesResolver:ye,cssVariablesSelector:ce,withStaticClasses:se,stylesTransform:Pe},children:jsxRuntimeExports.jsxs(Zd,{theme:ie,children:[ue&&jsxRuntimeExports.jsx(ef,{cssVariablesSelector:ce,deduplicateCssVariables:le}),ne&&jsxRuntimeExports.jsx(nb,{}),ee]})})}An.displayName="@mantine/core/MantineProvider";function fs({classNames:ie,styles:ee,props:te,stylesCtx:se}){const ne=nt();return{resolvedClassNames:Qr({theme:ne,classNames:ie,props:te,stylesCtx:se||void 0}),resolvedStyles:Pr({theme:ne,styles:ee,props:te,stylesCtx:se||void 0})}}const db={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function fb({theme:ie,options:ee,unstyled:te}){return re((ee==null?void 0:ee.focusable)&&!te&&(ie.focusClassName||db[ie.focusRing]),(ee==null?void 0:ee.active)&&!te&&ie.activeClassName)}function pb({selector:ie,stylesCtx:ee,options:te,props:se,theme:ne}){return Qr({theme:ne,classNames:te==null?void 0:te.classNames,props:(te==null?void 0:te.props)||se,stylesCtx:ee})[ie]}function lu({selector:ie,stylesCtx:ee,theme:te,classNames:se,props:ne}){return Qr({theme:te,classNames:se,props:ne,stylesCtx:ee})[ie]}function hb({rootSelector:ie,selector:ee,className:te}){return ie===ee?te:void 0}function mb({selector:ie,classes:ee,unstyled:te}){return te?void 0:ee[ie]}function gb({themeName:ie,classNamesPrefix:ee,selector:te,withStaticClass:se}){return se===!1?[]:ie.map(ne=>`${ee}-${ne}-${te}`)}function bb({themeName:ie,theme:ee,selector:te,props:se,stylesCtx:ne}){return ie.map(le=>{var ue,ce;return(ce=Qr({theme:ee,classNames:(ue=ee.components[le])==null?void 0:ue.classNames,props:se,stylesCtx:ne}))==null?void 0:ce[te]})}function vb({options:ie,classes:ee,selector:te,unstyled:se}){return ie!=null&&ie.variant&&!se?ee[`${te}--${ie.variant}`]:void 0}function yb({theme:ie,options:ee,themeName:te,selector:se,classNamesPrefix:ne,classNames:le,classes:ue,unstyled:ce,className:he,rootSelector:de,props:_e,stylesCtx:fe,withStaticClasses:ye,headless:be,transformedStyles:Pe}){return re(fb({theme:ie,options:ee,unstyled:ce||be}),bb({theme:ie,themeName:te,selector:se,props:_e,stylesCtx:fe}),vb({options:ee,classes:ue,selector:se,unstyled:ce}),lu({selector:se,stylesCtx:fe,theme:ie,classNames:le,props:_e}),lu({selector:se,stylesCtx:fe,theme:ie,classNames:Pe,props:_e}),pb({selector:se,stylesCtx:fe,options:ee,props:_e,theme:ie}),hb({rootSelector:de,selector:se,className:he}),mb({selector:se,classes:ue,unstyled:ce||be}),ye&&!be&&gb({themeName:te,classNamesPrefix:ne,selector:se,withStaticClass:ee==null?void 0:ee.withStaticClass}),ee==null?void 0:ee.className)}function wb({theme:ie,themeName:ee,props:te,stylesCtx:se,selector:ne}){return ee.map(le=>{var ue;return Pr({theme:ie,styles:(ue=ie.components[le])==null?void 0:ue.styles,props:te,stylesCtx:se})[ne]}).reduce((le,ue)=>({...le,...ue}),{})}function $i({style:ie,theme:ee}){return Array.isArray(ie)?[...ie].reduce((te,se)=>({...te,...$i({style:se,theme:ee})}),{}):typeof ie=="function"?ie(ee):ie??{}}function _b(ie){return ie.reduce((ee,te)=>(te&&Object.keys(te).forEach(se=>{ee[se]={...ee[se],...yn(te[se])}}),ee),{})}function Ab({vars:ie,varsResolver:ee,theme:te,props:se,stylesCtx:ne,selector:le,themeName:ue,headless:ce}){var he;return(he=_b([ce?{}:ee==null?void 0:ee(te,se,ne),...ue.map(de=>{var _e,fe,ye;return(ye=(fe=(_e=te.components)==null?void 0:_e[de])==null?void 0:fe.vars)==null?void 0:ye.call(fe,te,se,ne)}),ie==null?void 0:ie(te,se,ne)]))==null?void 0:he[le]}function xb({theme:ie,themeName:ee,selector:te,options:se,props:ne,stylesCtx:le,rootSelector:ue,styles:ce,style:he,vars:de,varsResolver:_e,headless:fe,withStylesTransform:ye}){return{...!ye&&wb({theme:ie,themeName:ee,props:ne,stylesCtx:le,selector:te}),...!ye&&Pr({theme:ie,styles:ce,props:ne,stylesCtx:le})[te],...!ye&&Pr({theme:ie,styles:se==null?void 0:se.styles,props:(se==null?void 0:se.props)||ne,stylesCtx:le})[te],...Ab({theme:ie,props:ne,stylesCtx:le,vars:de,varsResolver:_e,selector:te,themeName:ee,headless:fe}),...ue===te?$i({style:he,theme:ie}):null,...$i({style:se==null?void 0:se.style,theme:ie})}}function Sb({props:ie,stylesCtx:ee,themeName:te}){var se;const ne=nt(),le=(se=Vg())==null?void 0:se();return{getTransformedStyles:ue=>le?[...ue.map(ce=>le(ce,{props:ie,theme:ne,ctx:ee})),...te.map(ce=>{var he;return le((he=ne.components[ce])==null?void 0:he.styles,{props:ie,theme:ne,ctx:ee})})].filter(Boolean):[],withStylesTransform:!!le}}function ve({name:ie,classes:ee,props:te,stylesCtx:se,className:ne,style:le,rootSelector:ue="root",unstyled:ce,classNames:he,styles:de,vars:_e,varsResolver:fe}){const ye=nt(),be=Bg(),Pe=zg(),Ne=qg(),we=(Array.isArray(ie)?ie:[ie]).filter(Ge=>Ge),{withStylesTransform:De,getTransformedStyles:$e}=Sb({props:te,stylesCtx:se,themeName:we});return(Ge,Be)=>({className:yb({theme:ye,options:Be,themeName:we,selector:Ge,classNamesPrefix:be,classNames:he,classes:ee,unstyled:ce,className:ne,rootSelector:ue,props:te,stylesCtx:se,withStaticClasses:Pe,headless:Ne,transformedStyles:$e([Be==null?void 0:Be.styles,de])}),style:xb({theme:ye,themeName:we,selector:Ge,options:Be,props:te,stylesCtx:se,rootSelector:ue,styles:de,style:le,vars:_e,varsResolver:fe,headless:Ne,withStylesTransform:De})})}function Cb(ie,ee){return typeof ie=="boolean"?ie:ee.autoContrast}function Q$1(ie,ee,te){var se;const ne=nt(),le=(se=ne.components[ie])==null?void 0:se.defaultProps,ue=typeof le=="function"?le(ne):le;return{...ee,...ue,...yn(te)}}function ci(ie){return Ye(ie).reduce((ee,te)=>ie[te]!==void 0?`${ee}${cg(te)}:${ie[te]};`:ee,"").trim()}function Rb({selector:ie,styles:ee,media:te,container:se}){const ne=ee?ci(ee):"",le=Array.isArray(te)?te.map(ce=>`@media${ce.query}{${ie}{${ci(ce.styles)}}}`):[],ue=Array.isArray(se)?se.map(ce=>`@container ${ce.query}{${ie}{${ci(ce.styles)}}}`):[];return`${ne?`${ie}{${ne}}`:""}${le.join("")}${ue.join("")}`.trim()}function Zr(ie){const ee=ls();return jsxRuntimeExports.jsx("style",{"data-mantine-styles":"inline",nonce:ee==null?void 0:ee(),dangerouslySetInnerHTML:{__html:Rb(ie)}})}function Jr(ie){const{m:ee,mx:te,my:se,mt:ne,mb:le,ml:ue,mr:ce,me:he,ms:de,p:_e,px:fe,py:ye,pt:be,pb:Pe,pl:Ne,pr:we,pe:De,ps:$e,bd:Ge,bg:Be,c:ze,opacity:$t,ff:ut,fz:Ti,fw:Hi,lts:bn,ta:gd,lh:Pm,fs:oE,tt:aE,td:nE,w:On,miw:nh,maw:Hn,h:Xp,mih:Jp,mah:md,bgsz:eE,bgp:hE,bgr:mE,bga:fE,pos:yE,top:AE,left:bE,bottom:ME,right:SE,inset:jE,display:$E,flex:zE,hiddenFrom:YE,visibleFrom:HE,lightHidden:VE,darkHidden:TE,sx:xE,...BE}=ie;return{styleProps:yn({m:ee,mx:te,my:se,mt:ne,mb:le,ml:ue,mr:ce,me:he,ms:de,p:_e,px:fe,py:ye,pt:be,pb:Pe,pl:Ne,pr:we,pe:De,ps:$e,bd:Ge,bg:Be,c:ze,opacity:$t,ff:ut,fz:Ti,fw:Hi,lts:bn,ta:gd,lh:Pm,fs:oE,tt:aE,td:nE,w:On,miw:nh,maw:Hn,h:Xp,mih:Jp,mah:md,bgsz:eE,bgp:hE,bgr:mE,bga:fE,pos:yE,top:AE,left:bE,bottom:ME,right:SE,inset:jE,display:$E,flex:zE,hiddenFrom:YE,visibleFrom:HE,lightHidden:VE,darkHidden:TE,sx:xE}),rest:BE}}const Tb={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function ps(ie,ee){const te=er({color:ie,theme:ee});return te.color==="dimmed"?"var(--mantine-color-dimmed)":te.color==="bright"?"var(--mantine-color-bright)":te.variable?`var(${te.variable})`:te.color}function Ib(ie,ee){const te=er({color:ie,theme:ee});return te.isThemeColor&&te.shade===void 0?`var(--mantine-color-${te.color}-text)`:ps(ie,ee)}function Ob(ie,ee){if(typeof ie=="number")return V$2(ie);if(typeof ie=="string"){const[te,se,...ne]=ie.split(" ").filter(ue=>ue.trim()!=="");let le=`${V$2(te)}`;return se&&(le+=` ${se}`),ne.length>0&&(le+=` ${ps(ne.join(" "),ee)}`),le.trim()}return ie}const cu={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function Pb(ie){return typeof ie=="string"&&ie in cu?cu[ie]:ie}const Nb=["h1","h2","h3","h4","h5","h6"];function kb(ie,ee){return typeof ie=="string"&&ie in ee.fontSizes?`var(--mantine-font-size-${ie})`:typeof ie=="string"&&Nb.includes(ie)?`var(--mantine-${ie}-font-size)`:typeof ie=="number"||typeof ie=="string"?V$2(ie):ie}function Eb(ie){return ie}const Mb=["h1","h2","h3","h4","h5","h6"];function $b(ie,ee){return typeof ie=="string"&&ie in ee.lineHeights?`var(--mantine-line-height-${ie})`:typeof ie=="string"&&Mb.includes(ie)?`var(--mantine-${ie}-line-height)`:ie}function Db(ie){return typeof ie=="number"?V$2(ie):ie}function Lb(ie,ee){if(typeof ie=="number")return V$2(ie);if(typeof ie=="string"){const te=ie.replace("-","");if(!(te in ee.spacing))return V$2(ie);const se=`--mantine-spacing-${te}`;return ie.startsWith("-")?`calc(var(${se}) * -1)`:`var(${se})`}return ie}const ui={color:ps,textColor:Ib,fontSize:kb,spacing:Lb,identity:Eb,size:Db,lineHeight:$b,fontFamily:Pb,border:Ob};function uu(ie){return ie.replace("(min-width: ","").replace("em)","")}function Fb({media:ie,...ee}){const te=Object.keys(ie).sort((se,ne)=>Number(uu(se))-Number(uu(ne))).map(se=>({query:se,styles:ie[se]}));return{...ee,media:te}}function Bb(ie){if(typeof ie!="object"||ie===null)return!1;const ee=Object.keys(ie);return!(ee.length===1&&ee[0]==="base")}function zb(ie){return typeof ie=="object"&&ie!==null?"base"in ie?ie.base:void 0:ie}function qb(ie){return typeof ie=="object"&&ie!==null?Ye(ie).filter(ee=>ee!=="base"):[]}function jb(ie,ee){return typeof ie=="object"&&ie!==null&&ee in ie?ie[ee]:ie}function tf({styleProps:ie,data:ee,theme:te}){return Fb(Ye(ie).reduce((se,ne)=>{if(ne==="hiddenFrom"||ne==="visibleFrom"||ne==="sx")return se;const le=ee[ne],ue=Array.isArray(le.property)?le.property:[le.property],ce=zb(ie[ne]);if(!Bb(ie[ne]))return ue.forEach(de=>{se.inlineStyles[de]=ui[le.type](ce,te)}),se;se.hasResponsiveStyles=!0;const he=qb(ie[ne]);return ue.forEach(de=>{ce&&(se.styles[de]=ui[le.type](ce,te)),he.forEach(_e=>{const fe=`(min-width: ${te.breakpoints[_e]})`;se.media[fe]={...se.media[fe],[de]:ui[le.type](jb(ie[ne],_e),te)}})}),se},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function hs(){return`__m__-${reactExports.useId().replace(/:/g,"")}`}function nf(ie,ee){return Array.isArray(ie)?[...ie].reduce((te,se)=>({...te,...nf(se,ee)}),{}):typeof ie=="function"?ie(ee):ie??{}}function rf(ie){return ie.startsWith("data-")?ie:`data-${ie}`}function Vb(ie){return Object.keys(ie).reduce((ee,te)=>{const se=ie[te];return se===void 0||se===""||se===!1||se===null||(ee[rf(te)]=ie[te]),ee},{})}function of(ie){return ie?typeof ie=="string"?{[rf(ie)]:!0}:Array.isArray(ie)?[...ie].reduce((ee,te)=>({...ee,...of(te)}),{}):Vb(ie):null}function Di(ie,ee){return Array.isArray(ie)?[...ie].reduce((te,se)=>({...te,...Di(se,ee)}),{}):typeof ie=="function"?ie(ee):ie??{}}function Hb({theme:ie,style:ee,vars:te,styleProps:se}){const ne=Di(ee,ie),le=Di(te,ie);return{...ne,...le,...se}}const af=reactExports.forwardRef(({component:ie,style:ee,__vars:te,className:se,variant:ne,mod:le,size:ue,hiddenFrom:ce,visibleFrom:he,lightHidden:de,darkHidden:_e,renderRoot:fe,__size:ye,...be},Pe)=>{var Ne;const we=nt(),De=ie||"div",{styleProps:$e,rest:Ge}=Jr(be),Be=jg(),ze=(Ne=Be==null?void 0:Be())==null?void 0:Ne($e.sx),$t=hs(),ut=tf({styleProps:$e,theme:we,data:Tb}),Ti={ref:Pe,style:Hb({theme:we,style:ee,vars:te,styleProps:ut.inlineStyles}),className:re(se,ze,{[$t]:ut.hasResponsiveStyles,"mantine-light-hidden":de,"mantine-dark-hidden":_e,[`mantine-hidden-from-${ce}`]:ce,[`mantine-visible-from-${he}`]:he}),"data-variant":ne,"data-size":Wd(ue)?void 0:ue||void 0,size:ye,...of(le),...Ge};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ut.hasResponsiveStyles&&jsxRuntimeExports.jsx(Zr,{selector:`.${$t}`,styles:ut.styles,media:ut.media}),typeof fe=="function"?fe(Ti):jsxRuntimeExports.jsx(De,{...Ti})]})});af.displayName="@mantine/core/Box";const Z$1=af;function sf(ie){return ie}function ae(ie){const ee=reactExports.forwardRef(ie);return ee.extend=sf,ee.withProps=te=>{const se=reactExports.forwardRef((ne,le)=>jsxRuntimeExports.jsx(ee,{...te,...ne,ref:le}));return se.extend=ee.extend,se.displayName=`WithProps(${ee.displayName})`,se},ee}function Lt(ie){const ee=reactExports.forwardRef(ie);return ee.withProps=te=>{const se=reactExports.forwardRef((ne,le)=>jsxRuntimeExports.jsx(ee,{...te,...ne,ref:le}));return se.extend=ee.extend,se.displayName=`WithProps(${ee.displayName})`,se},ee.extend=sf,ee}const Ub=reactExports.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function tr(){return reactExports.useContext(Ub)}const[Wb,rt]=Xt("ScrollArea.Root component was not found in tree");function pn(ie,ee){const te=Vt(ee);Xn(()=>{let se=0;if(ie){const ne=new ResizeObserver(()=>{cancelAnimationFrame(se),se=window.requestAnimationFrame(te)});return ne.observe(ie),()=>{window.cancelAnimationFrame(se),ne.unobserve(ie)}}},[ie,te])}const Gb=reactExports.forwardRef((ie,ee)=>{const{style:te,...se}=ie,ne=rt(),[le,ue]=reactExports.useState(0),[ce,he]=reactExports.useState(0),de=!!(le&&ce);return pn(ne.scrollbarX,()=>{var _e;const fe=((_e=ne.scrollbarX)==null?void 0:_e.offsetHeight)||0;ne.onCornerHeightChange(fe),he(fe)}),pn(ne.scrollbarY,()=>{var _e;const fe=((_e=ne.scrollbarY)==null?void 0:_e.offsetWidth)||0;ne.onCornerWidthChange(fe),ue(fe)}),de?jsxRuntimeExports.jsx("div",{...se,ref:ee,style:{...te,width:le,height:ce}}):null}),Yb=reactExports.forwardRef((ie,ee)=>{const te=rt(),se=!!(te.scrollbarX&&te.scrollbarY);return te.type!=="scroll"&&se?jsxRuntimeExports.jsx(Gb,{...ie,ref:ee}):null}),Kb={scrollHideDelay:1e3,type:"hover"},lf=reactExports.forwardRef((ie,ee)=>{const te=Q$1("ScrollAreaRoot",Kb,ie),{type:se,scrollHideDelay:ne,scrollbars:le,...ue}=te,[ce,he]=reactExports.useState(null),[de,_e]=reactExports.useState(null),[fe,ye]=reactExports.useState(null),[be,Pe]=reactExports.useState(null),[Ne,we]=reactExports.useState(null),[De,$e]=reactExports.useState(0),[Ge,Be]=reactExports.useState(0),[ze,$t]=reactExports.useState(!1),[ut,Ti]=reactExports.useState(!1),Hi=He(ee,bn=>he(bn));return jsxRuntimeExports.jsx(Wb,{value:{type:se,scrollHideDelay:ne,scrollArea:ce,viewport:de,onViewportChange:_e,content:fe,onContentChange:ye,scrollbarX:be,onScrollbarXChange:Pe,scrollbarXEnabled:ze,onScrollbarXEnabledChange:$t,scrollbarY:Ne,onScrollbarYChange:we,scrollbarYEnabled:ut,onScrollbarYEnabledChange:Ti,onCornerWidthChange:$e,onCornerHeightChange:Be},children:jsxRuntimeExports.jsx(Z$1,{...ue,ref:Hi,__vars:{"--sa-corner-width":le!=="xy"?"0px":`${De}px`,"--sa-corner-height":le!=="xy"?"0px":`${Ge}px`}})})});lf.displayName="@mantine/core/ScrollAreaRoot";function cf(ie,ee){const te=ie/ee;return Number.isNaN(te)?0:te}function Xr(ie){const ee=cf(ie.viewport,ie.content),te=ie.scrollbar.paddingStart+ie.scrollbar.paddingEnd,se=(ie.scrollbar.size-te)*ee;return Math.max(se,18)}function uf(ie,ee){return te=>{if(ie[0]===ie[1]||ee[0]===ee[1])return ee[0];const se=(ee[1]-ee[0])/(ie[1]-ie[0]);return ee[0]+se*(te-ie[0])}}function Qb(ie,[ee,te]){return Math.min(te,Math.max(ee,ie))}function du(ie,ee,te="ltr"){const se=Xr(ee),ne=ee.scrollbar.paddingStart+ee.scrollbar.paddingEnd,le=ee.scrollbar.size-ne,ue=ee.content-ee.viewport,ce=le-se,he=te==="ltr"?[0,ue]:[ue*-1,0],de=Qb(ie,he);return uf([0,ue],[0,ce])(de)}function Zb(ie,ee,te,se="ltr"){const ne=Xr(te),le=ne/2,ue=ee||le,ce=ne-ue,he=te.scrollbar.paddingStart+ue,de=te.scrollbar.size-te.scrollbar.paddingEnd-ce,_e=te.content-te.viewport,fe=se==="ltr"?[0,_e]:[_e*-1,0];return uf([he,de],fe)(ie)}function df(ie,ee){return ie>0&&ie<ee}function Nr(ie){return ie?parseInt(ie,10):0}function Wt(ie,ee,{checkForDefaultPrevented:te=!0}={}){return se=>{ie==null||ie(se),(te===!1||!se.defaultPrevented)&&(ee==null||ee(se))}}const[Jb,ff]=Xt("ScrollAreaScrollbar was not found in tree"),pf=reactExports.forwardRef((ie,ee)=>{const{sizes:te,hasThumb:se,onThumbChange:ne,onThumbPointerUp:le,onThumbPointerDown:ue,onThumbPositionChange:ce,onDragScroll:he,onWheelScroll:de,onResize:_e,...fe}=ie,ye=rt(),[be,Pe]=reactExports.useState(null),Ne=He(ee,Ti=>Pe(Ti)),we=reactExports.useRef(null),De=reactExports.useRef(""),{viewport:$e}=ye,Ge=te.content-te.viewport,Be=Vt(de),ze=Vt(ce),$t=Yr(_e,10),ut=Ti=>{if(we.current){const Hi=Ti.clientX-we.current.left,bn=Ti.clientY-we.current.top;he({x:Hi,y:bn})}};return reactExports.useEffect(()=>{const Ti=Hi=>{const bn=Hi.target;be!=null&&be.contains(bn)&&Be(Hi,Ge)};return document.addEventListener("wheel",Ti,{passive:!1}),()=>document.removeEventListener("wheel",Ti,{passive:!1})},[$e,be,Ge,Be]),reactExports.useEffect(ze,[te,ze]),pn(be,$t),pn(ye.content,$t),jsxRuntimeExports.jsx(Jb,{value:{scrollbar:be,hasThumb:se,onThumbChange:Vt(ne),onThumbPointerUp:Vt(le),onThumbPositionChange:ze,onThumbPointerDown:Vt(ue)},children:jsxRuntimeExports.jsx("div",{...fe,ref:Ne,"data-mantine-scrollbar":!0,style:{position:"absolute",...fe.style},onPointerDown:Wt(ie.onPointerDown,Ti=>{Ti.preventDefault(),Ti.button===0&&(Ti.target.setPointerCapture(Ti.pointerId),we.current=be.getBoundingClientRect(),De.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",ut(Ti))}),onPointerMove:Wt(ie.onPointerMove,ut),onPointerUp:Wt(ie.onPointerUp,Ti=>{Ti.preventDefault();const Hi=Ti.target;Hi.hasPointerCapture(Ti.pointerId)&&Hi.releasePointerCapture(Ti.pointerId),document.body.style.webkitUserSelect=De.current,we.current=null})})})}),hf=reactExports.forwardRef((ie,ee)=>{const{sizes:te,onSizesChange:se,style:ne,...le}=ie,ue=rt(),[ce,he]=reactExports.useState(),de=reactExports.useRef(null),_e=He(ee,de,ue.onScrollbarXChange);return reactExports.useEffect(()=>{de.current&&he(getComputedStyle(de.current))},[de]),jsxRuntimeExports.jsx(pf,{"data-orientation":"horizontal",...le,ref:_e,sizes:te,style:{...ne,"--sa-thumb-width":`${Xr(te)}px`},onThumbPointerDown:fe=>ie.onThumbPointerDown(fe.x),onDragScroll:fe=>ie.onDragScroll(fe.x),onWheelScroll:(fe,ye)=>{if(ue.viewport){const be=ue.viewport.scrollLeft+fe.deltaX;ie.onWheelScroll(be),df(be,ye)&&fe.preventDefault()}},onResize:()=>{de.current&&ue.viewport&&ce&&se({content:ue.viewport.scrollWidth,viewport:ue.viewport.offsetWidth,scrollbar:{size:de.current.clientWidth,paddingStart:Nr(ce.paddingLeft),paddingEnd:Nr(ce.paddingRight)}})}})});hf.displayName="@mantine/core/ScrollAreaScrollbarX";const mf=reactExports.forwardRef((ie,ee)=>{const{sizes:te,onSizesChange:se,style:ne,...le}=ie,ue=rt(),[ce,he]=reactExports.useState(),de=reactExports.useRef(null),_e=He(ee,de,ue.onScrollbarYChange);return reactExports.useEffect(()=>{de.current&&he(window.getComputedStyle(de.current))},[]),jsxRuntimeExports.jsx(pf,{...le,"data-orientation":"vertical",ref:_e,sizes:te,style:{"--sa-thumb-height":`${Xr(te)}px`,...ne},onThumbPointerDown:fe=>ie.onThumbPointerDown(fe.y),onDragScroll:fe=>ie.onDragScroll(fe.y),onWheelScroll:(fe,ye)=>{if(ue.viewport){const be=ue.viewport.scrollTop+fe.deltaY;ie.onWheelScroll(be),df(be,ye)&&fe.preventDefault()}},onResize:()=>{de.current&&ue.viewport&&ce&&se({content:ue.viewport.scrollHeight,viewport:ue.viewport.offsetHeight,scrollbar:{size:de.current.clientHeight,paddingStart:Nr(ce.paddingTop),paddingEnd:Nr(ce.paddingBottom)}})}})});mf.displayName="@mantine/core/ScrollAreaScrollbarY";const eo=reactExports.forwardRef((ie,ee)=>{const{orientation:te="vertical",...se}=ie,{dir:ne}=tr(),le=rt(),ue=reactExports.useRef(null),ce=reactExports.useRef(0),[he,de]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),_e=cf(he.viewport,he.content),fe={...se,sizes:he,onSizesChange:de,hasThumb:_e>0&&_e<1,onThumbChange:be=>{ue.current=be},onThumbPointerUp:()=>{ce.current=0},onThumbPointerDown:be=>{ce.current=be}},ye=(be,Pe)=>Zb(be,ce.current,he,Pe);return te==="horizontal"?jsxRuntimeExports.jsx(hf,{...fe,ref:ee,onThumbPositionChange:()=>{if(le.viewport&&ue.current){const be=le.viewport.scrollLeft,Pe=du(be,he,ne);ue.current.style.transform=`translate3d(${Pe}px, 0, 0)`}},onWheelScroll:be=>{le.viewport&&(le.viewport.scrollLeft=be)},onDragScroll:be=>{le.viewport&&(le.viewport.scrollLeft=ye(be,ne))}}):te==="vertical"?jsxRuntimeExports.jsx(mf,{...fe,ref:ee,onThumbPositionChange:()=>{if(le.viewport&&ue.current){const be=le.viewport.scrollTop,Pe=du(be,he);he.scrollbar.size===0?ue.current.style.setProperty("--thumb-opacity","0"):ue.current.style.setProperty("--thumb-opacity","1"),ue.current.style.transform=`translate3d(0, ${Pe}px, 0)`}},onWheelScroll:be=>{le.viewport&&(le.viewport.scrollTop=be)},onDragScroll:be=>{le.viewport&&(le.viewport.scrollTop=ye(be))}}):null});eo.displayName="@mantine/core/ScrollAreaScrollbarVisible";const ms=reactExports.forwardRef((ie,ee)=>{const te=rt(),{forceMount:se,...ne}=ie,[le,ue]=reactExports.useState(!1),ce=ie.orientation==="horizontal",he=Yr(()=>{if(te.viewport){const de=te.viewport.offsetWidth<te.viewport.scrollWidth,_e=te.viewport.offsetHeight<te.viewport.scrollHeight;ue(ce?de:_e)}},10);return pn(te.viewport,he),pn(te.content,he),se||le?jsxRuntimeExports.jsx(eo,{"data-state":le?"visible":"hidden",...ne,ref:ee}):null});ms.displayName="@mantine/core/ScrollAreaScrollbarAuto";const gf=reactExports.forwardRef((ie,ee)=>{const{forceMount:te,...se}=ie,ne=rt(),[le,ue]=reactExports.useState(!1);return reactExports.useEffect(()=>{const{scrollArea:ce}=ne;let he=0;if(ce){const de=()=>{window.clearTimeout(he),ue(!0)},_e=()=>{he=window.setTimeout(()=>ue(!1),ne.scrollHideDelay)};return ce.addEventListener("pointerenter",de),ce.addEventListener("pointerleave",_e),()=>{window.clearTimeout(he),ce.removeEventListener("pointerenter",de),ce.removeEventListener("pointerleave",_e)}}},[ne.scrollArea,ne.scrollHideDelay]),te||le?jsxRuntimeExports.jsx(ms,{"data-state":le?"visible":"hidden",...se,ref:ee}):null});gf.displayName="@mantine/core/ScrollAreaScrollbarHover";const Xb=reactExports.forwardRef((ie,ee)=>{const{forceMount:te,...se}=ie,ne=rt(),le=ie.orientation==="horizontal",[ue,ce]=reactExports.useState("hidden"),he=Yr(()=>ce("idle"),100);return reactExports.useEffect(()=>{if(ue==="idle"){const de=window.setTimeout(()=>ce("hidden"),ne.scrollHideDelay);return()=>window.clearTimeout(de)}},[ue,ne.scrollHideDelay]),reactExports.useEffect(()=>{const{viewport:de}=ne,_e=le?"scrollLeft":"scrollTop";if(de){let fe=de[_e];const ye=()=>{const be=de[_e];fe!==be&&(ce("scrolling"),he()),fe=be};return de.addEventListener("scroll",ye),()=>de.removeEventListener("scroll",ye)}},[ne.viewport,le,he]),te||ue!=="hidden"?jsxRuntimeExports.jsx(eo,{"data-state":ue==="hidden"?"hidden":"visible",...se,ref:ee,onPointerEnter:Wt(ie.onPointerEnter,()=>ce("interacting")),onPointerLeave:Wt(ie.onPointerLeave,()=>ce("idle"))}):null}),Li=reactExports.forwardRef((ie,ee)=>{const{forceMount:te,...se}=ie,ne=rt(),{onScrollbarXEnabledChange:le,onScrollbarYEnabledChange:ue}=ne,ce=ie.orientation==="horizontal";return reactExports.useEffect(()=>(ce?le(!0):ue(!0),()=>{ce?le(!1):ue(!1)}),[ce,le,ue]),ne.type==="hover"?jsxRuntimeExports.jsx(gf,{...se,ref:ee,forceMount:te}):ne.type==="scroll"?jsxRuntimeExports.jsx(Xb,{...se,ref:ee,forceMount:te}):ne.type==="auto"?jsxRuntimeExports.jsx(ms,{...se,ref:ee,forceMount:te}):ne.type==="always"?jsxRuntimeExports.jsx(eo,{...se,ref:ee}):null});Li.displayName="@mantine/core/ScrollAreaScrollbar";function ev(ie,ee=()=>{}){let te={left:ie.scrollLeft,top:ie.scrollTop},se=0;return function ne(){const le={left:ie.scrollLeft,top:ie.scrollTop},ue=te.left!==le.left,ce=te.top!==le.top;(ue||ce)&&ee(),te=le,se=window.requestAnimationFrame(ne)}(),()=>window.cancelAnimationFrame(se)}const bf=reactExports.forwardRef((ie,ee)=>{const{style:te,...se}=ie,ne=rt(),le=ff(),{onThumbPositionChange:ue}=le,ce=He(ee,_e=>le.onThumbChange(_e)),he=reactExports.useRef(void 0),de=Yr(()=>{he.current&&(he.current(),he.current=void 0)},100);return reactExports.useEffect(()=>{const{viewport:_e}=ne;if(_e){const fe=()=>{if(de(),!he.current){const ye=ev(_e,ue);he.current=ye,ue()}};return ue(),_e.addEventListener("scroll",fe),()=>_e.removeEventListener("scroll",fe)}},[ne.viewport,de,ue]),jsxRuntimeExports.jsx("div",{"data-state":le.hasThumb?"visible":"hidden",...se,ref:ce,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...te},onPointerDownCapture:Wt(ie.onPointerDownCapture,_e=>{const fe=_e.target.getBoundingClientRect(),ye=_e.clientX-fe.left,be=_e.clientY-fe.top;le.onThumbPointerDown({x:ye,y:be})}),onPointerUp:Wt(ie.onPointerUp,le.onThumbPointerUp)})});bf.displayName="@mantine/core/ScrollAreaThumb";const Fi=reactExports.forwardRef((ie,ee)=>{const{forceMount:te,...se}=ie,ne=ff();return te||ne.hasThumb?jsxRuntimeExports.jsx(bf,{ref:ee,...se}):null});Fi.displayName="@mantine/core/ScrollAreaThumb";const vf=reactExports.forwardRef(({children:ie,style:ee,...te},se)=>{const ne=rt(),le=He(se,ne.onViewportChange);return jsxRuntimeExports.jsx(Z$1,{...te,ref:le,style:{overflowX:ne.scrollbarXEnabled?"scroll":"hidden",overflowY:ne.scrollbarYEnabled?"scroll":"hidden",...ee},children:jsxRuntimeExports.jsx("div",{style:{minWidth:"100%",display:"table"},ref:ne.onContentChange,children:ie})})});vf.displayName="@mantine/core/ScrollAreaViewport";var gs={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const yf={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},tv=(ie,{scrollbarSize:ee})=>({root:{"--scrollarea-scrollbar-size":V$2(ee)}}),vt=ae((ie,ee)=>{const te=Q$1("ScrollArea",yf,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,scrollbarSize:he,vars:de,type:_e,scrollHideDelay:fe,viewportProps:ye,viewportRef:be,onScrollPositionChange:Pe,children:Ne,offsetScrollbars:we,scrollbars:De,onBottomReached:$e,onTopReached:Ge,...Be}=te,[ze,$t]=reactExports.useState(!1),ut=ve({name:"ScrollArea",props:te,classes:gs,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:de,varsResolver:tv});return jsxRuntimeExports.jsxs(lf,{type:_e==="never"?"always":_e,scrollHideDelay:fe,ref:ee,scrollbars:De,...ut("root"),...Be,children:[jsxRuntimeExports.jsx(vf,{...ye,...ut("viewport",{style:ye==null?void 0:ye.style}),ref:be,"data-offset-scrollbars":we===!0?"xy":we||void 0,"data-scrollbars":De||void 0,onScroll:Ti=>{var Hi;(Hi=ye==null?void 0:ye.onScroll)==null||Hi.call(ye,Ti),Pe==null||Pe({x:Ti.currentTarget.scrollLeft,y:Ti.currentTarget.scrollTop});const{scrollTop:bn,scrollHeight:gd,clientHeight:Pm}=Ti.currentTarget;bn-(gd-Pm)>=0&&($e==null||$e()),bn===0&&(Ge==null||Ge())},children:Ne}),(De==="xy"||De==="x")&&jsxRuntimeExports.jsx(Li,{...ut("scrollbar"),orientation:"horizontal","data-hidden":_e==="never"||void 0,forceMount:!0,onMouseEnter:()=>$t(!0),onMouseLeave:()=>$t(!1),children:jsxRuntimeExports.jsx(Fi,{...ut("thumb")})}),(De==="xy"||De==="y")&&jsxRuntimeExports.jsx(Li,{...ut("scrollbar"),orientation:"vertical","data-hidden":_e==="never"||void 0,forceMount:!0,onMouseEnter:()=>$t(!0),onMouseLeave:()=>$t(!1),children:jsxRuntimeExports.jsx(Fi,{...ut("thumb")})}),jsxRuntimeExports.jsx(Yb,{...ut("corner"),"data-hovered":ze||void 0,"data-hidden":_e==="never"||void 0})]})});vt.displayName="@mantine/core/ScrollArea";const bs=ae((ie,ee)=>{const{children:te,classNames:se,styles:ne,scrollbarSize:le,scrollHideDelay:ue,type:ce,dir:he,offsetScrollbars:de,viewportRef:_e,onScrollPositionChange:fe,unstyled:ye,variant:be,viewportProps:Pe,scrollbars:Ne,style:we,vars:De,onBottomReached:$e,onTopReached:Ge,...Be}=Q$1("ScrollAreaAutosize",yf,ie);return jsxRuntimeExports.jsx(Z$1,{...Be,ref:ee,style:[{display:"flex",overflow:"auto"},we],children:jsxRuntimeExports.jsx(Z$1,{style:{display:"flex",flexDirection:"column",flex:1},children:jsxRuntimeExports.jsx(vt,{classNames:se,styles:ne,scrollHideDelay:ue,scrollbarSize:le,type:ce,dir:he,offsetScrollbars:de,viewportRef:_e,onScrollPositionChange:fe,unstyled:ye,variant:be,viewportProps:Pe,vars:De,scrollbars:Ne,onBottomReached:$e,onTopReached:Ge,children:te})})})});vt.classes=gs,bs.displayName="@mantine/core/ScrollAreaAutosize",bs.classes=gs,vt.Autosize=bs;var wf={root:"m_87cf2631"};const nv={__staticSelector:"UnstyledButton"},hn=Lt((ie,ee)=>{const te=Q$1("UnstyledButton",nv,ie),{className:se,component:ne="button",__staticSelector:le,unstyled:ue,classNames:ce,styles:he,style:de,..._e}=te,fe=ve({name:le,props:te,classes:wf,className:se,style:de,classNames:ce,styles:he,unstyled:ue});return jsxRuntimeExports.jsx(Z$1,{...fe("root",{focusable:!0}),component:ne,ref:ee,type:ne==="button"?"button":void 0,..._e})});hn.classes=wf,hn.displayName="@mantine/core/UnstyledButton";var _f={root:"m_515a97f8"};const rv={},vs=ae((ie,ee)=>{const te=Q$1("VisuallyHidden",rv,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,...de}=te,_e=ve({name:"VisuallyHidden",classes:_f,props:te,className:ne,style:le,classNames:se,styles:ue,unstyled:ce});return jsxRuntimeExports.jsx(Z$1,{component:"span",ref:ee,..._e("root"),...de})});vs.classes=_f,vs.displayName="@mantine/core/VisuallyHidden";function to(){return typeof window<"u"}function xn(ie){return Af(ie)?(ie.nodeName||"").toLowerCase():"#document"}function Ke(ie){var ee;return(ie==null||(ee=ie.ownerDocument)==null?void 0:ee.defaultView)||window}function yt(ie){var ee;return(ee=(Af(ie)?ie.ownerDocument:ie.document)||window.document)==null?void 0:ee.documentElement}function Af(ie){return to()?ie instanceof Node||ie instanceof Ke(ie).Node:!1}function Oe(ie){return to()?ie instanceof Element||ie instanceof Ke(ie).Element:!1}function Je(ie){return to()?ie instanceof HTMLElement||ie instanceof Ke(ie).HTMLElement:!1}function Bi(ie){return!to()||typeof ShadowRoot>"u"?!1:ie instanceof ShadowRoot||ie instanceof Ke(ie).ShadowRoot}function nr(ie){const{overflow:ee,overflowX:te,overflowY:se,display:ne}=et(ie);return/auto|scroll|overlay|hidden|clip/.test(ee+se+te)&&!["inline","contents"].includes(ne)}function ov(ie){return["table","td","th"].includes(xn(ie))}function no(ie){return[":popover-open",":modal"].some(ee=>{try{return ie.matches(ee)}catch{return!1}})}function ys(ie){const ee=ro(),te=Oe(ie)?et(ie):ie;return["transform","translate","scale","rotate","perspective"].some(se=>te[se]?te[se]!=="none":!1)||(te.containerType?te.containerType!=="normal":!1)||!ee&&(te.backdropFilter?te.backdropFilter!=="none":!1)||!ee&&(te.filter?te.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(se=>(te.willChange||"").includes(se))||["paint","layout","strict","content"].some(se=>(te.contain||"").includes(se))}function av(ie){let ee=Ct(ie);for(;Je(ee)&&!Et(ee);){if(ys(ee))return ee;if(no(ee))return null;ee=Ct(ee)}return null}function ro(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Et(ie){return["html","body","#document"].includes(xn(ie))}function et(ie){return Ke(ie).getComputedStyle(ie)}function oo(ie){return Oe(ie)?{scrollLeft:ie.scrollLeft,scrollTop:ie.scrollTop}:{scrollLeft:ie.scrollX,scrollTop:ie.scrollY}}function Ct(ie){if(xn(ie)==="html")return ie;const ee=ie.assignedSlot||ie.parentNode||Bi(ie)&&ie.host||yt(ie);return Bi(ee)?ee.host:ee}function xf(ie){const ee=Ct(ie);return Et(ee)?ie.ownerDocument?ie.ownerDocument.body:ie.body:Je(ee)&&nr(ee)?ee:xf(ee)}function St(ie,ee,te){var se;ee===void 0&&(ee=[]),te===void 0&&(te=!0);const ne=xf(ie),le=ne===((se=ie.ownerDocument)==null?void 0:se.body),ue=Ke(ne);if(le){const ce=zi(ue);return ee.concat(ue,ue.visualViewport||[],nr(ne)?ne:[],ce&&te?St(ce):[])}return ee.concat(ne,St(ne,[],te))}function zi(ie){return ie.parent&&Object.getPrototypeOf(ie.parent)?ie.frameElement:null}function fu(ie){let ee=ie.activeElement;for(;((te=ee)==null||(te=te.shadowRoot)==null?void 0:te.activeElement)!=null;){var te;ee=ee.shadowRoot.activeElement}return ee}function Yn(ie,ee){if(!ie||!ee)return!1;const te=ee.getRootNode==null?void 0:ee.getRootNode();if(ie.contains(ee))return!0;if(te&&Bi(te)){let se=ee;for(;se;){if(ie===se)return!0;se=se.parentNode||se.host}}return!1}function Sf(){const ie=navigator.userAgentData;return ie!=null&&ie.platform?ie.platform:navigator.platform}function Cf(){const ie=navigator.userAgentData;return ie&&Array.isArray(ie.brands)?ie.brands.map(ee=>{let{brand:te,version:se}=ee;return te+"/"+se}).join(" "):navigator.userAgent}function iv(ie){return cv()?!1:!pu()&&ie.width===0&&ie.height===0||pu()&&ie.width===1&&ie.height===1&&ie.pressure===0&&ie.detail===0&&ie.pointerType==="mouse"||ie.width<1&&ie.height<1&&ie.pressure===0&&ie.detail===0&&ie.pointerType==="touch"}function sv(){return/apple/i.test(navigator.vendor)}function pu(){const ie=/android/i;return ie.test(Sf())||ie.test(Cf())}function lv(){return Sf().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function cv(){return Cf().includes("jsdom/")}function qi(ie,ee){const te=["mouse","pen"];return te.push("",void 0),te.includes(ie)}function uv(ie){return"nativeEvent"in ie}function dv(ie){return ie.matches("html,body")}function Ut(ie){return(ie==null?void 0:ie.ownerDocument)||document}function di(ie,ee){if(ee==null)return!1;if("composedPath"in ie)return ie.composedPath().includes(ee);const te=ie;return te.target!=null&&ee.contains(te.target)}function sn(ie){return"composedPath"in ie?ie.composedPath()[0]:ie.target}const fv="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function pv(ie){return Je(ie)&&ie.matches(fv)}const lt=Math.min,qe=Math.max,kr=Math.round,gr=Math.floor,ht=ie=>({x:ie,y:ie}),hv={left:"right",right:"left",bottom:"top",top:"bottom"},mv={start:"end",end:"start"};function ji(ie,ee,te){return qe(ie,lt(ee,te))}function Rt(ie,ee){return typeof ie=="function"?ie(ee):ie}function ct(ie){return ie.split("-")[0]}function Sn(ie){return ie.split("-")[1]}function ws(ie){return ie==="x"?"y":"x"}function _s(ie){return ie==="y"?"height":"width"}function Tt(ie){return["top","bottom"].includes(ct(ie))?"y":"x"}function As(ie){return ws(Tt(ie))}function gv(ie,ee,te){te===void 0&&(te=!1);const se=Sn(ie),ne=As(ie),le=_s(ne);let ue=ne==="x"?se===(te?"end":"start")?"right":"left":se==="start"?"bottom":"top";return ee.reference[le]>ee.floating[le]&&(ue=Er(ue)),[ue,Er(ue)]}function bv(ie){const ee=Er(ie);return[Vi(ie),ee,Vi(ee)]}function Vi(ie){return ie.replace(/start|end/g,ee=>mv[ee])}function vv(ie,ee,te){const se=["left","right"],ne=["right","left"],le=["top","bottom"],ue=["bottom","top"];switch(ie){case"top":case"bottom":return te?ee?ne:se:ee?se:ne;case"left":case"right":return ee?le:ue;default:return[]}}function yv(ie,ee,te,se){const ne=Sn(ie);let le=vv(ct(ie),te==="start",se);return ne&&(le=le.map(ue=>ue+"-"+ne),ee&&(le=le.concat(le.map(Vi)))),le}function Er(ie){return ie.replace(/left|right|bottom|top/g,ee=>hv[ee])}function wv(ie){return{top:0,right:0,bottom:0,left:0,...ie}}function xs(ie){return typeof ie!="number"?wv(ie):{top:ie,right:ie,bottom:ie,left:ie}}function mn(ie){const{x:ee,y:te,width:se,height:ne}=ie;return{width:se,height:ne,top:te,left:ee,right:ee+se,bottom:te+ne,x:ee,y:te}}function hu(ie,ee,te){let{reference:se,floating:ne}=ie;const le=Tt(ee),ue=As(ee),ce=_s(ue),he=ct(ee),de=le==="y",_e=se.x+se.width/2-ne.width/2,fe=se.y+se.height/2-ne.height/2,ye=se[ce]/2-ne[ce]/2;let be;switch(he){case"top":be={x:_e,y:se.y-ne.height};break;case"bottom":be={x:_e,y:se.y+se.height};break;case"right":be={x:se.x+se.width,y:fe};break;case"left":be={x:se.x-ne.width,y:fe};break;default:be={x:se.x,y:se.y}}switch(Sn(ee)){case"start":be[ue]-=ye*(te&&de?-1:1);break;case"end":be[ue]+=ye*(te&&de?-1:1);break}return be}const _v=async(ie,ee,te)=>{const{placement:se="bottom",strategy:ne="absolute",middleware:le=[],platform:ue}=te,ce=le.filter(Boolean),he=await(ue.isRTL==null?void 0:ue.isRTL(ee));let de=await ue.getElementRects({reference:ie,floating:ee,strategy:ne}),{x:_e,y:fe}=hu(de,se,he),ye=se,be={},Pe=0;for(let Ne=0;Ne<ce.length;Ne++){const{name:we,fn:De}=ce[Ne],{x:$e,y:Ge,data:Be,reset:ze}=await De({x:_e,y:fe,initialPlacement:se,placement:ye,strategy:ne,middlewareData:be,rects:de,platform:ue,elements:{reference:ie,floating:ee}});_e=$e??_e,fe=Ge??fe,be={...be,[we]:{...be[we],...Be}},ze&&Pe<=50&&(Pe++,typeof ze=="object"&&(ze.placement&&(ye=ze.placement),ze.rects&&(de=ze.rects===!0?await ue.getElementRects({reference:ie,floating:ee,strategy:ne}):ze.rects),{x:_e,y:fe}=hu(de,ye,he)),Ne=-1)}return{x:_e,y:fe,placement:ye,strategy:ne,middlewareData:be}};async function Ss(ie,ee){var te;ee===void 0&&(ee={});const{x:se,y:ne,platform:le,rects:ue,elements:ce,strategy:he}=ie,{boundary:de="clippingAncestors",rootBoundary:_e="viewport",elementContext:fe="floating",altBoundary:ye=!1,padding:be=0}=Rt(ee,ie),Pe=xs(be),Ne=ce[ye?fe==="floating"?"reference":"floating":fe],we=mn(await le.getClippingRect({element:(te=await(le.isElement==null?void 0:le.isElement(Ne)))==null||te?Ne:Ne.contextElement||await(le.getDocumentElement==null?void 0:le.getDocumentElement(ce.floating)),boundary:de,rootBoundary:_e,strategy:he})),De=fe==="floating"?{x:se,y:ne,width:ue.floating.width,height:ue.floating.height}:ue.reference,$e=await(le.getOffsetParent==null?void 0:le.getOffsetParent(ce.floating)),Ge=await(le.isElement==null?void 0:le.isElement($e))?await(le.getScale==null?void 0:le.getScale($e))||{x:1,y:1}:{x:1,y:1},Be=mn(le.convertOffsetParentRelativeRectToViewportRelativeRect?await le.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ce,rect:De,offsetParent:$e,strategy:he}):De);return{top:(we.top-Be.top+Pe.top)/Ge.y,bottom:(Be.bottom-we.bottom+Pe.bottom)/Ge.y,left:(we.left-Be.left+Pe.left)/Ge.x,right:(Be.right-we.right+Pe.right)/Ge.x}}const Av=ie=>({name:"arrow",options:ie,async fn(ee){const{x:te,y:se,placement:ne,rects:le,platform:ue,elements:ce,middlewareData:he}=ee,{element:de,padding:_e=0}=Rt(ie,ee)||{};if(de==null)return{};const fe=xs(_e),ye={x:te,y:se},be=As(ne),Pe=_s(be),Ne=await ue.getDimensions(de),we=be==="y",De=we?"top":"left",$e=we?"bottom":"right",Ge=we?"clientHeight":"clientWidth",Be=le.reference[Pe]+le.reference[be]-ye[be]-le.floating[Pe],ze=ye[be]-le.reference[be],$t=await(ue.getOffsetParent==null?void 0:ue.getOffsetParent(de));let ut=$t?$t[Ge]:0;(!ut||!await(ue.isElement==null?void 0:ue.isElement($t)))&&(ut=ce.floating[Ge]||le.floating[Pe]);const Ti=Be/2-ze/2,Hi=ut/2-Ne[Pe]/2-1,bn=lt(fe[De],Hi),gd=lt(fe[$e],Hi),Pm=bn,oE=ut-Ne[Pe]-gd,aE=ut/2-Ne[Pe]/2+Ti,nE=ji(Pm,aE,oE),On=!he.arrow&&Sn(ne)!=null&&aE!==nE&&le.reference[Pe]/2-(aE<Pm?bn:gd)-Ne[Pe]/2<0,nh=On?aE<Pm?aE-Pm:aE-oE:0;return{[be]:ye[be]+nh,data:{[be]:nE,centerOffset:aE-nE-nh,...On&&{alignmentOffset:nh}},reset:On}}}),xv=function(ie){return ie===void 0&&(ie={}),{name:"flip",options:ie,async fn(ee){var te,se;const{placement:ne,middlewareData:le,rects:ue,initialPlacement:ce,platform:he,elements:de}=ee,{mainAxis:_e=!0,crossAxis:fe=!0,fallbackPlacements:ye,fallbackStrategy:be="bestFit",fallbackAxisSideDirection:Pe="none",flipAlignment:Ne=!0,...we}=Rt(ie,ee);if((te=le.arrow)!=null&&te.alignmentOffset)return{};const De=ct(ne),$e=Tt(ce),Ge=ct(ce)===ce,Be=await(he.isRTL==null?void 0:he.isRTL(de.floating)),ze=ye||(Ge||!Ne?[Er(ce)]:bv(ce)),$t=Pe!=="none";!ye&&$t&&ze.push(...yv(ce,Ne,Pe,Be));const ut=[ce,...ze],Ti=await Ss(ee,we),Hi=[];let bn=((se=le.flip)==null?void 0:se.overflows)||[];if(_e&&Hi.push(Ti[De]),fe){const aE=gv(ne,ue,Be);Hi.push(Ti[aE[0]],Ti[aE[1]])}if(bn=[...bn,{placement:ne,overflows:Hi}],!Hi.every(aE=>aE<=0)){var gd,Pm;const aE=(((gd=le.flip)==null?void 0:gd.index)||0)+1,nE=ut[aE];if(nE)return{data:{index:aE,overflows:bn},reset:{placement:nE}};let On=(Pm=bn.filter(nh=>nh.overflows[0]<=0).sort((nh,Hn)=>nh.overflows[1]-Hn.overflows[1])[0])==null?void 0:Pm.placement;if(!On)switch(be){case"bestFit":{var oE;const nh=(oE=bn.filter(Hn=>{if($t){const Xp=Tt(Hn.placement);return Xp===$e||Xp==="y"}return!0}).map(Hn=>[Hn.placement,Hn.overflows.filter(Xp=>Xp>0).reduce((Xp,Jp)=>Xp+Jp,0)]).sort((Hn,Xp)=>Hn[1]-Xp[1])[0])==null?void 0:oE[0];nh&&(On=nh);break}case"initialPlacement":On=ce;break}if(ne!==On)return{reset:{placement:On}}}return{}}}};function Rf(ie){const ee=lt(...ie.map(le=>le.left)),te=lt(...ie.map(le=>le.top)),se=qe(...ie.map(le=>le.right)),ne=qe(...ie.map(le=>le.bottom));return{x:ee,y:te,width:se-ee,height:ne-te}}function Sv(ie){const ee=ie.slice().sort((ne,le)=>ne.y-le.y),te=[];let se=null;for(let ne=0;ne<ee.length;ne++){const le=ee[ne];!se||le.y-se.y>se.height/2?te.push([le]):te[te.length-1].push(le),se=le}return te.map(ne=>mn(Rf(ne)))}const Cv=function(ie){return ie===void 0&&(ie={}),{name:"inline",options:ie,async fn(ee){const{placement:te,elements:se,rects:ne,platform:le,strategy:ue}=ee,{padding:ce=2,x:he,y:de}=Rt(ie,ee),_e=Array.from(await(le.getClientRects==null?void 0:le.getClientRects(se.reference))||[]),fe=Sv(_e),ye=mn(Rf(_e)),be=xs(ce);function Pe(){if(fe.length===2&&fe[0].left>fe[1].right&&he!=null&&de!=null)return fe.find(we=>he>we.left-be.left&&he<we.right+be.right&&de>we.top-be.top&&de<we.bottom+be.bottom)||ye;if(fe.length>=2){if(Tt(te)==="y"){const bn=fe[0],gd=fe[fe.length-1],Pm=ct(te)==="top",oE=bn.top,aE=gd.bottom,nE=Pm?bn.left:gd.left,On=Pm?bn.right:gd.right,nh=On-nE,Hn=aE-oE;return{top:oE,bottom:aE,left:nE,right:On,width:nh,height:Hn,x:nE,y:oE}}const we=ct(te)==="left",De=qe(...fe.map(bn=>bn.right)),$e=lt(...fe.map(bn=>bn.left)),Ge=fe.filter(bn=>we?bn.left===$e:bn.right===De),Be=Ge[0].top,ze=Ge[Ge.length-1].bottom,$t=$e,ut=De,Ti=ut-$t,Hi=ze-Be;return{top:Be,bottom:ze,left:$t,right:ut,width:Ti,height:Hi,x:$t,y:Be}}return ye}const Ne=await le.getElementRects({reference:{getBoundingClientRect:Pe},floating:se.floating,strategy:ue});return ne.reference.x!==Ne.reference.x||ne.reference.y!==Ne.reference.y||ne.reference.width!==Ne.reference.width||ne.reference.height!==Ne.reference.height?{reset:{rects:Ne}}:{}}}};async function Rv(ie,ee){const{placement:te,platform:se,elements:ne}=ie,le=await(se.isRTL==null?void 0:se.isRTL(ne.floating)),ue=ct(te),ce=Sn(te),he=Tt(te)==="y",de=["left","top"].includes(ue)?-1:1,_e=le&&he?-1:1,fe=Rt(ee,ie);let{mainAxis:ye,crossAxis:be,alignmentAxis:Pe}=typeof fe=="number"?{mainAxis:fe,crossAxis:0,alignmentAxis:null}:{mainAxis:fe.mainAxis||0,crossAxis:fe.crossAxis||0,alignmentAxis:fe.alignmentAxis};return ce&&typeof Pe=="number"&&(be=ce==="end"?Pe*-1:Pe),he?{x:be*_e,y:ye*de}:{x:ye*de,y:be*_e}}const Tv=function(ie){return ie===void 0&&(ie=0),{name:"offset",options:ie,async fn(ee){var te,se;const{x:ne,y:le,placement:ue,middlewareData:ce}=ee,he=await Rv(ee,ie);return ue===((te=ce.offset)==null?void 0:te.placement)&&(se=ce.arrow)!=null&&se.alignmentOffset?{}:{x:ne+he.x,y:le+he.y,data:{...he,placement:ue}}}}},Iv=function(ie){return ie===void 0&&(ie={}),{name:"shift",options:ie,async fn(ee){const{x:te,y:se,placement:ne}=ee,{mainAxis:le=!0,crossAxis:ue=!1,limiter:ce={fn:we=>{let{x:De,y:$e}=we;return{x:De,y:$e}}},...he}=Rt(ie,ee),de={x:te,y:se},_e=await Ss(ee,he),fe=Tt(ct(ne)),ye=ws(fe);let be=de[ye],Pe=de[fe];if(le){const we=ye==="y"?"top":"left",De=ye==="y"?"bottom":"right",$e=be+_e[we],Ge=be-_e[De];be=ji($e,be,Ge)}if(ue){const we=fe==="y"?"top":"left",De=fe==="y"?"bottom":"right",$e=Pe+_e[we],Ge=Pe-_e[De];Pe=ji($e,Pe,Ge)}const Ne=ce.fn({...ee,[ye]:be,[fe]:Pe});return{...Ne,data:{x:Ne.x-te,y:Ne.y-se,enabled:{[ye]:le,[fe]:ue}}}}}},Ov=function(ie){return ie===void 0&&(ie={}),{options:ie,fn(ee){const{x:te,y:se,placement:ne,rects:le,middlewareData:ue}=ee,{offset:ce=0,mainAxis:he=!0,crossAxis:de=!0}=Rt(ie,ee),_e={x:te,y:se},fe=Tt(ne),ye=ws(fe);let be=_e[ye],Pe=_e[fe];const Ne=Rt(ce,ee),we=typeof Ne=="number"?{mainAxis:Ne,crossAxis:0}:{mainAxis:0,crossAxis:0,...Ne};if(he){const Ge=ye==="y"?"height":"width",Be=le.reference[ye]-le.floating[Ge]+we.mainAxis,ze=le.reference[ye]+le.reference[Ge]-we.mainAxis;be<Be?be=Be:be>ze&&(be=ze)}if(de){var De,$e;const Ge=ye==="y"?"width":"height",Be=["top","left"].includes(ct(ne)),ze=le.reference[fe]-le.floating[Ge]+(Be&&((De=ue.offset)==null?void 0:De[fe])||0)+(Be?0:we.crossAxis),$t=le.reference[fe]+le.reference[Ge]+(Be?0:(($e=ue.offset)==null?void 0:$e[fe])||0)-(Be?we.crossAxis:0);Pe<ze?Pe=ze:Pe>$t&&(Pe=$t)}return{[ye]:be,[fe]:Pe}}}},Pv=function(ie){return ie===void 0&&(ie={}),{name:"size",options:ie,async fn(ee){var te,se;const{placement:ne,rects:le,platform:ue,elements:ce}=ee,{apply:he=()=>{},...de}=Rt(ie,ee),_e=await Ss(ee,de),fe=ct(ne),ye=Sn(ne),be=Tt(ne)==="y",{width:Pe,height:Ne}=le.floating;let we,De;fe==="top"||fe==="bottom"?(we=fe,De=ye===(await(ue.isRTL==null?void 0:ue.isRTL(ce.floating))?"start":"end")?"left":"right"):(De=fe,we=ye==="end"?"top":"bottom");const $e=Ne-_e.top-_e.bottom,Ge=Pe-_e.left-_e.right,Be=lt(Ne-_e[we],$e),ze=lt(Pe-_e[De],Ge),$t=!ee.middlewareData.shift;let ut=Be,Ti=ze;if((te=ee.middlewareData.shift)!=null&&te.enabled.x&&(Ti=Ge),(se=ee.middlewareData.shift)!=null&&se.enabled.y&&(ut=$e),$t&&!ye){const bn=qe(_e.left,0),gd=qe(_e.right,0),Pm=qe(_e.top,0),oE=qe(_e.bottom,0);be?Ti=Pe-2*(bn!==0||gd!==0?bn+gd:qe(_e.left,_e.right)):ut=Ne-2*(Pm!==0||oE!==0?Pm+oE:qe(_e.top,_e.bottom))}await he({...ee,availableWidth:Ti,availableHeight:ut});const Hi=await ue.getDimensions(ce.floating);return Pe!==Hi.width||Ne!==Hi.height?{reset:{rects:!0}}:{}}}};function Tf(ie){const ee=et(ie);let te=parseFloat(ee.width)||0,se=parseFloat(ee.height)||0;const ne=Je(ie),le=ne?ie.offsetWidth:te,ue=ne?ie.offsetHeight:se,ce=kr(te)!==le||kr(se)!==ue;return ce&&(te=le,se=ue),{width:te,height:se,$:ce}}function Cs(ie){return Oe(ie)?ie:ie.contextElement}function cn(ie){const ee=Cs(ie);if(!Je(ee))return ht(1);const te=ee.getBoundingClientRect(),{width:se,height:ne,$:le}=Tf(ee);let ue=(le?kr(te.width):te.width)/se,ce=(le?kr(te.height):te.height)/ne;return(!ue||!Number.isFinite(ue))&&(ue=1),(!ce||!Number.isFinite(ce))&&(ce=1),{x:ue,y:ce}}const Nv=ht(0);function If(ie){const ee=Ke(ie);return!ro()||!ee.visualViewport?Nv:{x:ee.visualViewport.offsetLeft,y:ee.visualViewport.offsetTop}}function kv(ie,ee,te){return ee===void 0&&(ee=!1),!te||ee&&te!==Ke(ie)?!1:ee}function Kt(ie,ee,te,se){ee===void 0&&(ee=!1),te===void 0&&(te=!1);const ne=ie.getBoundingClientRect(),le=Cs(ie);let ue=ht(1);ee&&(se?Oe(se)&&(ue=cn(se)):ue=cn(ie));const ce=kv(le,te,se)?If(le):ht(0);let he=(ne.left+ce.x)/ue.x,de=(ne.top+ce.y)/ue.y,_e=ne.width/ue.x,fe=ne.height/ue.y;if(le){const ye=Ke(le),be=se&&Oe(se)?Ke(se):se;let Pe=ye,Ne=zi(Pe);for(;Ne&&se&&be!==Pe;){const we=cn(Ne),De=Ne.getBoundingClientRect(),$e=et(Ne),Ge=De.left+(Ne.clientLeft+parseFloat($e.paddingLeft))*we.x,Be=De.top+(Ne.clientTop+parseFloat($e.paddingTop))*we.y;he*=we.x,de*=we.y,_e*=we.x,fe*=we.y,he+=Ge,de+=Be,Pe=Ke(Ne),Ne=zi(Pe)}}return mn({width:_e,height:fe,x:he,y:de})}function Rs(ie,ee){const te=oo(ie).scrollLeft;return ee?ee.left+te:Kt(yt(ie)).left+te}function Of(ie,ee,te){te===void 0&&(te=!1);const se=ie.getBoundingClientRect(),ne=se.left+ee.scrollLeft-(te?0:Rs(ie,se)),le=se.top+ee.scrollTop;return{x:ne,y:le}}function Ev(ie){let{elements:ee,rect:te,offsetParent:se,strategy:ne}=ie;const le=ne==="fixed",ue=yt(se),ce=ee?no(ee.floating):!1;if(se===ue||ce&&le)return te;let he={scrollLeft:0,scrollTop:0},de=ht(1);const _e=ht(0),fe=Je(se);if((fe||!fe&&!le)&&((xn(se)!=="body"||nr(ue))&&(he=oo(se)),Je(se))){const be=Kt(se);de=cn(se),_e.x=be.x+se.clientLeft,_e.y=be.y+se.clientTop}const ye=ue&&!fe&&!le?Of(ue,he,!0):ht(0);return{width:te.width*de.x,height:te.height*de.y,x:te.x*de.x-he.scrollLeft*de.x+_e.x+ye.x,y:te.y*de.y-he.scrollTop*de.y+_e.y+ye.y}}function Mv(ie){return Array.from(ie.getClientRects())}function $v(ie){const ee=yt(ie),te=oo(ie),se=ie.ownerDocument.body,ne=qe(ee.scrollWidth,ee.clientWidth,se.scrollWidth,se.clientWidth),le=qe(ee.scrollHeight,ee.clientHeight,se.scrollHeight,se.clientHeight);let ue=-te.scrollLeft+Rs(ie);const ce=-te.scrollTop;return et(se).direction==="rtl"&&(ue+=qe(ee.clientWidth,se.clientWidth)-ne),{width:ne,height:le,x:ue,y:ce}}function Dv(ie,ee){const te=Ke(ie),se=yt(ie),ne=te.visualViewport;let le=se.clientWidth,ue=se.clientHeight,ce=0,he=0;if(ne){le=ne.width,ue=ne.height;const de=ro();(!de||de&&ee==="fixed")&&(ce=ne.offsetLeft,he=ne.offsetTop)}return{width:le,height:ue,x:ce,y:he}}function Lv(ie,ee){const te=Kt(ie,!0,ee==="fixed"),se=te.top+ie.clientTop,ne=te.left+ie.clientLeft,le=Je(ie)?cn(ie):ht(1),ue=ie.clientWidth*le.x,ce=ie.clientHeight*le.y,he=ne*le.x,de=se*le.y;return{width:ue,height:ce,x:he,y:de}}function mu(ie,ee,te){let se;if(ee==="viewport")se=Dv(ie,te);else if(ee==="document")se=$v(yt(ie));else if(Oe(ee))se=Lv(ee,te);else{const ne=If(ie);se={x:ee.x-ne.x,y:ee.y-ne.y,width:ee.width,height:ee.height}}return mn(se)}function Pf(ie,ee){const te=Ct(ie);return te===ee||!Oe(te)||Et(te)?!1:et(te).position==="fixed"||Pf(te,ee)}function Fv(ie,ee){const te=ee.get(ie);if(te)return te;let se=St(ie,[],!1).filter(ce=>Oe(ce)&&xn(ce)!=="body"),ne=null;const le=et(ie).position==="fixed";let ue=le?Ct(ie):ie;for(;Oe(ue)&&!Et(ue);){const ce=et(ue),he=ys(ue);!he&&ce.position==="fixed"&&(ne=null),(le?!he&&!ne:!he&&ce.position==="static"&&ne&&["absolute","fixed"].includes(ne.position)||nr(ue)&&!he&&Pf(ie,ue))?se=se.filter(de=>de!==ue):ne=ce,ue=Ct(ue)}return ee.set(ie,se),se}function Bv(ie){let{element:ee,boundary:te,rootBoundary:se,strategy:ne}=ie;const le=[...te==="clippingAncestors"?no(ee)?[]:Fv(ee,this._c):[].concat(te),se],ue=le[0],ce=le.reduce((he,de)=>{const _e=mu(ee,de,ne);return he.top=qe(_e.top,he.top),he.right=lt(_e.right,he.right),he.bottom=lt(_e.bottom,he.bottom),he.left=qe(_e.left,he.left),he},mu(ee,ue,ne));return{width:ce.right-ce.left,height:ce.bottom-ce.top,x:ce.left,y:ce.top}}function zv(ie){const{width:ee,height:te}=Tf(ie);return{width:ee,height:te}}function qv(ie,ee,te){const se=Je(ee),ne=yt(ee),le=te==="fixed",ue=Kt(ie,!0,le,ee);let ce={scrollLeft:0,scrollTop:0};const he=ht(0);if(se||!se&&!le)if((xn(ee)!=="body"||nr(ne))&&(ce=oo(ee)),se){const ye=Kt(ee,!0,le,ee);he.x=ye.x+ee.clientLeft,he.y=ye.y+ee.clientTop}else ne&&(he.x=Rs(ne));const de=ne&&!se&&!le?Of(ne,ce):ht(0),_e=ue.left+ce.scrollLeft-he.x-de.x,fe=ue.top+ce.scrollTop-he.y-de.y;return{x:_e,y:fe,width:ue.width,height:ue.height}}function fi(ie){return et(ie).position==="static"}function gu(ie,ee){if(!Je(ie)||et(ie).position==="fixed")return null;if(ee)return ee(ie);let te=ie.offsetParent;return yt(ie)===te&&(te=te.ownerDocument.body),te}function Nf(ie,ee){const te=Ke(ie);if(no(ie))return te;if(!Je(ie)){let ne=Ct(ie);for(;ne&&!Et(ne);){if(Oe(ne)&&!fi(ne))return ne;ne=Ct(ne)}return te}let se=gu(ie,ee);for(;se&&ov(se)&&fi(se);)se=gu(se,ee);return se&&Et(se)&&fi(se)&&!ys(se)?te:se||av(ie)||te}const jv=async function(ie){const ee=this.getOffsetParent||Nf,te=this.getDimensions,se=await te(ie.floating);return{reference:qv(ie.reference,await ee(ie.floating),ie.strategy),floating:{x:0,y:0,width:se.width,height:se.height}}};function Vv(ie){return et(ie).direction==="rtl"}const Hv={convertOffsetParentRelativeRectToViewportRelativeRect:Ev,getDocumentElement:yt,getClippingRect:Bv,getOffsetParent:Nf,getElementRects:jv,getClientRects:Mv,getDimensions:zv,getScale:cn,isElement:Oe,isRTL:Vv};function kf(ie,ee){return ie.x===ee.x&&ie.y===ee.y&&ie.width===ee.width&&ie.height===ee.height}function Uv(ie,ee){let te=null,se;const ne=yt(ie);function le(){var ce;clearTimeout(se),(ce=te)==null||ce.disconnect(),te=null}function ue(ce,he){ce===void 0&&(ce=!1),he===void 0&&(he=1),le();const de=ie.getBoundingClientRect(),{left:_e,top:fe,width:ye,height:be}=de;if(ce||ee(),!ye||!be)return;const Pe=gr(fe),Ne=gr(ne.clientWidth-(_e+ye)),we=gr(ne.clientHeight-(fe+be)),De=gr(_e),$e={rootMargin:-Pe+"px "+-Ne+"px "+-we+"px "+-De+"px",threshold:qe(0,lt(1,he))||1};let Ge=!0;function Be(ze){const $t=ze[0].intersectionRatio;if($t!==he){if(!Ge)return ue();$t?ue(!1,$t):se=setTimeout(()=>{ue(!1,1e-7)},1e3)}$t===1&&!kf(de,ie.getBoundingClientRect())&&ue(),Ge=!1}try{te=new IntersectionObserver(Be,{...$e,root:ne.ownerDocument})}catch{te=new IntersectionObserver(Be,$e)}te.observe(ie)}return ue(!0),le}function Wv(ie,ee,te,se){se===void 0&&(se={});const{ancestorScroll:ne=!0,ancestorResize:le=!0,elementResize:ue=typeof ResizeObserver=="function",layoutShift:ce=typeof IntersectionObserver=="function",animationFrame:he=!1}=se,de=Cs(ie),_e=ne||le?[...de?St(de):[],...St(ee)]:[];_e.forEach(De=>{ne&&De.addEventListener("scroll",te,{passive:!0}),le&&De.addEventListener("resize",te)});const fe=de&&ce?Uv(de,te):null;let ye=-1,be=null;ue&&(be=new ResizeObserver(De=>{let[$e]=De;$e&&$e.target===de&&be&&(be.unobserve(ee),cancelAnimationFrame(ye),ye=requestAnimationFrame(()=>{var Ge;(Ge=be)==null||Ge.observe(ee)})),te()}),de&&!he&&be.observe(de),be.observe(ee));let Pe,Ne=he?Kt(ie):null;he&&we();function we(){const De=Kt(ie);Ne&&!kf(Ne,De)&&te(),Ne=De,Pe=requestAnimationFrame(we)}return te(),()=>{var De;_e.forEach($e=>{ne&&$e.removeEventListener("scroll",te),le&&$e.removeEventListener("resize",te)}),fe==null||fe(),(De=be)==null||De.disconnect(),be=null,he&&cancelAnimationFrame(Pe)}}const Gv=Tv,Yv=Iv,Kv=xv,Qv=Pv,bu=Av,Zv=Cv,Jv=Ov,Xv=(ie,ee,te)=>{const se=new Map,ne={platform:Hv,...te},le={...ne.platform,_c:se};return _v(ie,ee,{...ne,platform:le})};var _r=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function Mr(ie,ee){if(ie===ee)return!0;if(typeof ie!=typeof ee)return!1;if(typeof ie=="function"&&ie.toString()===ee.toString())return!0;let te,se,ne;if(ie&&ee&&typeof ie=="object"){if(Array.isArray(ie)){if(te=ie.length,te!==ee.length)return!1;for(se=te;se--!==0;)if(!Mr(ie[se],ee[se]))return!1;return!0}if(ne=Object.keys(ie),te=ne.length,te!==Object.keys(ee).length)return!1;for(se=te;se--!==0;)if(!{}.hasOwnProperty.call(ee,ne[se]))return!1;for(se=te;se--!==0;){const le=ne[se];if(!(le==="_owner"&&ie.$$typeof)&&!Mr(ie[le],ee[le]))return!1}return!0}return ie!==ie&&ee!==ee}function Ef(ie){return typeof window>"u"?1:(ie.ownerDocument.defaultView||window).devicePixelRatio||1}function vu(ie,ee){const te=Ef(ie);return Math.round(ee*te)/te}function pi(ie){const ee=reactExports.useRef(ie);return _r(()=>{ee.current=ie}),ee}function ey(ie){ie===void 0&&(ie={});const{placement:ee="bottom",strategy:te="absolute",middleware:se=[],platform:ne,elements:{reference:le,floating:ue}={},transform:ce=!0,whileElementsMounted:he,open:de}=ie,[_e,fe]=reactExports.useState({x:0,y:0,strategy:te,placement:ee,middlewareData:{},isPositioned:!1}),[ye,be]=reactExports.useState(se);Mr(ye,se)||be(se);const[Pe,Ne]=reactExports.useState(null),[we,De]=reactExports.useState(null),$e=reactExports.useCallback(Hn=>{Hn!==$t.current&&($t.current=Hn,Ne(Hn))},[]),Ge=reactExports.useCallback(Hn=>{Hn!==ut.current&&(ut.current=Hn,De(Hn))},[]),Be=le||Pe,ze=ue||we,$t=reactExports.useRef(null),ut=reactExports.useRef(null),Ti=reactExports.useRef(_e),Hi=he!=null,bn=pi(he),gd=pi(ne),Pm=pi(de),oE=reactExports.useCallback(()=>{if(!$t.current||!ut.current)return;const Hn={placement:ee,strategy:te,middleware:ye};gd.current&&(Hn.platform=gd.current),Xv($t.current,ut.current,Hn).then(Xp=>{const Jp={...Xp,isPositioned:Pm.current!==!1};aE.current&&!Mr(Ti.current,Jp)&&(Ti.current=Jp,reactDomExports.flushSync(()=>{fe(Jp)}))})},[ye,ee,te,gd,Pm]);_r(()=>{de===!1&&Ti.current.isPositioned&&(Ti.current.isPositioned=!1,fe(Hn=>({...Hn,isPositioned:!1})))},[de]);const aE=reactExports.useRef(!1);_r(()=>(aE.current=!0,()=>{aE.current=!1}),[]),_r(()=>{if(Be&&($t.current=Be),ze&&(ut.current=ze),Be&&ze){if(bn.current)return bn.current(Be,ze,oE);oE()}},[Be,ze,oE,bn,Hi]);const nE=reactExports.useMemo(()=>({reference:$t,floating:ut,setReference:$e,setFloating:Ge}),[$e,Ge]),On=reactExports.useMemo(()=>({reference:Be,floating:ze}),[Be,ze]),nh=reactExports.useMemo(()=>{const Hn={position:te,left:0,top:0};if(!On.floating)return Hn;const Xp=vu(On.floating,_e.x),Jp=vu(On.floating,_e.y);return ce?{...Hn,transform:"translate("+Xp+"px, "+Jp+"px)",...Ef(On.floating)>=1.5&&{willChange:"transform"}}:{position:te,left:Xp,top:Jp}},[te,ce,On.floating,_e.x,_e.y]);return reactExports.useMemo(()=>({..._e,update:oE,refs:nE,elements:On,floatingStyles:nh}),[_e,oE,nE,On,nh])}const ty=ie=>{function ee(te){return{}.hasOwnProperty.call(te,"current")}return{name:"arrow",options:ie,fn(te){const{element:se,padding:ne}=typeof ie=="function"?ie(te):ie;return se&&ee(se)?se.current!=null?bu({element:se.current,padding:ne}).fn(te):{}:se?bu({element:se,padding:ne}).fn(te):{}}}},Mf=(ie,ee)=>({...Gv(ie),options:[ie,ee]}),Ts=(ie,ee)=>({...Yv(ie),options:[ie,ee]}),yu=(ie,ee)=>({...Jv(ie),options:[ie,ee]}),$r=(ie,ee)=>({...Kv(ie),options:[ie,ee]}),ny=(ie,ee)=>({...Qv(ie),options:[ie,ee]}),jn=(ie,ee)=>({...Zv(ie),options:[ie,ee]}),$f=(ie,ee)=>({...ty(ie),options:[ie,ee]}),Df={...React$1},ry=Df.useInsertionEffect,oy=ry||(ie=>ie());function At(ie){const ee=reactExports.useRef(()=>{});return oy(()=>{ee.current=ie}),reactExports.useCallback(function(){for(var te=arguments.length,se=new Array(te),ne=0;ne<te;ne++)se[ne]=arguments[ne];return ee.current==null?void 0:ee.current(...se)},[])}var mt=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let wu=!1,ay=0;const _u=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ay++;function iy(){const[ie,ee]=reactExports.useState(()=>wu?_u():void 0);return mt(()=>{ie==null&&ee(_u())},[]),reactExports.useEffect(()=>{wu=!0},[]),ie}const sy=Df.useId,Lf=sy||iy;function cy(){const ie=new Map;return{emit(ee,te){var se;(se=ie.get(ee))==null||se.forEach(ne=>ne(te))},on(ee,te){ie.set(ee,[...ie.get(ee)||[],te])},off(ee,te){var se;ie.set(ee,((se=ie.get(ee))==null?void 0:se.filter(ne=>ne!==te))||[])}}}const uy$2=reactExports.createContext(null),dy=reactExports.createContext(null),Is=()=>{var ie;return((ie=reactExports.useContext(uy$2))==null?void 0:ie.id)||null},Os=()=>reactExports.useContext(dy);function Ps(ie){return"data-floating-ui-"+ie}function hi(ie){const ee=reactExports.useRef(ie);return mt(()=>{ee.current=ie}),ee}const Au=Ps("safe-polygon");function Ar(ie,ee,te){return te&&!qi(te)?0:typeof ie=="number"?ie:ie==null?void 0:ie[ee]}function fy(ie,ee){ee===void 0&&(ee={});const{open:te,onOpenChange:se,dataRef:ne,events:le,elements:ue}=ie,{enabled:ce=!0,delay:he=0,handleClose:de=null,mouseOnly:_e=!1,restMs:fe=0,move:ye=!0}=ee,be=Os(),Pe=Is(),Ne=hi(de),we=hi(he),De=hi(te),$e=reactExports.useRef(),Ge=reactExports.useRef(-1),Be=reactExports.useRef(),ze=reactExports.useRef(-1),$t=reactExports.useRef(!0),ut=reactExports.useRef(!1),Ti=reactExports.useRef(()=>{}),Hi=reactExports.useRef(!1),bn=reactExports.useCallback(()=>{var nh;const Hn=(nh=ne.current.openEvent)==null?void 0:nh.type;return(Hn==null?void 0:Hn.includes("mouse"))&&Hn!=="mousedown"},[ne]);reactExports.useEffect(()=>{if(!ce)return;function nh(Hn){let{open:Xp}=Hn;Xp||(clearTimeout(Ge.current),clearTimeout(ze.current),$t.current=!0,Hi.current=!1)}return le.on("openchange",nh),()=>{le.off("openchange",nh)}},[ce,le]),reactExports.useEffect(()=>{if(!ce||!Ne.current||!te)return;function nh(Xp){bn()&&se(!1,Xp,"hover")}const Hn=Ut(ue.floating).documentElement;return Hn.addEventListener("mouseleave",nh),()=>{Hn.removeEventListener("mouseleave",nh)}},[ue.floating,te,se,ce,Ne,bn]);const gd=reactExports.useCallback(function(nh,Hn,Xp){Hn===void 0&&(Hn=!0),Xp===void 0&&(Xp="hover");const Jp=Ar(we.current,"close",$e.current);Jp&&!Be.current?(clearTimeout(Ge.current),Ge.current=window.setTimeout(()=>se(!1,nh,Xp),Jp)):Hn&&(clearTimeout(Ge.current),se(!1,nh,Xp))},[we,se]),Pm=At(()=>{Ti.current(),Be.current=void 0}),oE=At(()=>{if(ut.current){const nh=Ut(ue.floating).body;nh.style.pointerEvents="",nh.removeAttribute(Au),ut.current=!1}}),aE=At(()=>ne.current.openEvent?["click","mousedown"].includes(ne.current.openEvent.type):!1);reactExports.useEffect(()=>{if(!ce)return;function nh(md){if(clearTimeout(Ge.current),$t.current=!1,_e&&!qi($e.current)||fe>0&&!Ar(we.current,"open"))return;const eE=Ar(we.current,"open",$e.current);eE?Ge.current=window.setTimeout(()=>{De.current||se(!0,md,"hover")},eE):te||se(!0,md,"hover")}function Hn(md){if(aE())return;Ti.current();const eE=Ut(ue.floating);if(clearTimeout(ze.current),Hi.current=!1,Ne.current&&ne.current.floatingContext){te||clearTimeout(Ge.current),Be.current=Ne.current({...ne.current.floatingContext,tree:be,x:md.clientX,y:md.clientY,onClose(){oE(),Pm(),aE()||gd(md,!0,"safe-polygon")}});const hE=Be.current;eE.addEventListener("mousemove",hE),Ti.current=()=>{eE.removeEventListener("mousemove",hE)};return}($e.current!=="touch"||!Yn(ue.floating,md.relatedTarget))&&gd(md)}function Xp(md){aE()||ne.current.floatingContext&&(Ne.current==null||Ne.current({...ne.current.floatingContext,tree:be,x:md.clientX,y:md.clientY,onClose(){oE(),Pm(),aE()||gd(md)}})(md))}if(Oe(ue.domReference)){var Jp;const md=ue.domReference;return te&&md.addEventListener("mouseleave",Xp),(Jp=ue.floating)==null||Jp.addEventListener("mouseleave",Xp),ye&&md.addEventListener("mousemove",nh,{once:!0}),md.addEventListener("mouseenter",nh),md.addEventListener("mouseleave",Hn),()=>{var eE;te&&md.removeEventListener("mouseleave",Xp),(eE=ue.floating)==null||eE.removeEventListener("mouseleave",Xp),ye&&md.removeEventListener("mousemove",nh),md.removeEventListener("mouseenter",nh),md.removeEventListener("mouseleave",Hn)}}},[ue,ce,ie,_e,fe,ye,gd,Pm,oE,se,te,De,be,we,Ne,ne,aE]),mt(()=>{var nh;if(ce&&te&&(nh=Ne.current)!=null&&nh.__options.blockPointerEvents&&bn()){ut.current=!0;const Xp=ue.floating;if(Oe(ue.domReference)&&Xp){var Hn;const Jp=Ut(ue.floating).body;Jp.setAttribute(Au,"");const md=ue.domReference,eE=be==null||(Hn=be.nodesRef.current.find(hE=>hE.id===Pe))==null||(Hn=Hn.context)==null?void 0:Hn.elements.floating;return eE&&(eE.style.pointerEvents=""),Jp.style.pointerEvents="none",md.style.pointerEvents="auto",Xp.style.pointerEvents="auto",()=>{Jp.style.pointerEvents="",md.style.pointerEvents="",Xp.style.pointerEvents=""}}}},[ce,te,Pe,ue,be,Ne,bn]),mt(()=>{te||($e.current=void 0,Hi.current=!1,Pm(),oE())},[te,Pm,oE]),reactExports.useEffect(()=>()=>{Pm(),clearTimeout(Ge.current),clearTimeout(ze.current),oE()},[ce,ue.domReference,Pm,oE]);const nE=reactExports.useMemo(()=>{function nh(Hn){$e.current=Hn.pointerType}return{onPointerDown:nh,onPointerEnter:nh,onMouseMove(Hn){const{nativeEvent:Xp}=Hn;function Jp(){!$t.current&&!De.current&&se(!0,Xp,"hover")}_e&&!qi($e.current)||te||fe===0||Hi.current&&Hn.movementX**2+Hn.movementY**2<2||(clearTimeout(ze.current),$e.current==="touch"?Jp():(Hi.current=!0,ze.current=window.setTimeout(Jp,fe)))}}},[_e,se,te,De,fe]),On=reactExports.useMemo(()=>({onMouseEnter(){clearTimeout(Ge.current)},onMouseLeave(nh){aE()||gd(nh.nativeEvent,!1)}}),[gd,aE]);return reactExports.useMemo(()=>ce?{reference:nE,floating:On}:{},[ce,nE,On])}const Ui=()=>{},Ff=reactExports.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Ui,setState:Ui,isInstantPhase:!1}),Bf=()=>reactExports.useContext(Ff);function py(ie){const{children:ee,delay:te,timeoutMs:se=0}=ie,[ne,le]=reactExports.useReducer((he,de)=>({...he,...de}),{delay:te,timeoutMs:se,initialDelay:te,currentId:null,isInstantPhase:!1}),ue=reactExports.useRef(null),ce=reactExports.useCallback(he=>{le({currentId:he})},[]);return mt(()=>{ne.currentId?ue.current===null?ue.current=ne.currentId:ne.isInstantPhase||le({isInstantPhase:!0}):(ne.isInstantPhase&&le({isInstantPhase:!1}),ue.current=null)},[ne.currentId,ne.isInstantPhase]),reactExports.createElement(Ff.Provider,{value:reactExports.useMemo(()=>({...ne,setState:le,setCurrentId:ce}),[ne,ce])},ee)}function hy(ie,ee){ee===void 0&&(ee={});const{open:te,onOpenChange:se,floatingId:ne}=ie,{id:le,enabled:ue=!0}=ee,ce=le??ne,he=Bf(),{currentId:de,setCurrentId:_e,initialDelay:fe,setState:ye,timeoutMs:be}=he;return mt(()=>{ue&&de&&(ye({delay:{open:1,close:Ar(fe,"close")}}),de!==ce&&se(!1))},[ue,ce,se,ye,de,fe]),mt(()=>{function Pe(){se(!1),ye({delay:fe,currentId:null})}if(ue&&de&&!te&&de===ce){if(be){const Ne=window.setTimeout(Pe,be);return()=>{clearTimeout(Ne)}}Pe()}},[ue,te,ye,de,ce,se,fe,be]),mt(()=>{ue&&(_e===Ui||!te||_e(ce))},[ue,te,_e,ce]),he}function mi(ie,ee){let te=ie.filter(ne=>{var le;return ne.parentId===ee&&((le=ne.context)==null?void 0:le.open)}),se=te;for(;se.length;)se=ie.filter(ne=>{var le;return(le=se)==null?void 0:le.some(ue=>{var ce;return ne.parentId===ue.id&&((ce=ne.context)==null?void 0:ce.open)})}),te=te.concat(se);return te}const my="data-floating-ui-focusable",gy={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},by={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},xu=ie=>{var ee,te;return{escapeKey:typeof ie=="boolean"?ie:(ee=ie==null?void 0:ie.escapeKey)!=null?ee:!1,outsidePress:typeof ie=="boolean"?ie:(te=ie==null?void 0:ie.outsidePress)!=null?te:!0}};function vy$2(ie,ee){ee===void 0&&(ee={});const{open:te,onOpenChange:se,elements:ne,dataRef:le}=ie,{enabled:ue=!0,escapeKey:ce=!0,outsidePress:he=!0,outsidePressEvent:de="pointerdown",referencePress:_e=!1,referencePressEvent:fe="pointerdown",ancestorScroll:ye=!1,bubbles:be,capture:Pe}=ee,Ne=Os(),we=At(typeof he=="function"?he:()=>!1),De=typeof he=="function"?we:he,$e=reactExports.useRef(!1),Ge=reactExports.useRef(!1),{escapeKey:Be,outsidePress:ze}=xu(be),{escapeKey:$t,outsidePress:ut}=xu(Pe),Ti=reactExports.useRef(!1),Hi=At(nE=>{var On;if(!te||!ue||!ce||nE.key!=="Escape"||Ti.current)return;const nh=(On=le.current.floatingContext)==null?void 0:On.nodeId,Hn=Ne?mi(Ne.nodesRef.current,nh):[];if(!Be&&(nE.stopPropagation(),Hn.length>0)){let Xp=!0;if(Hn.forEach(Jp=>{var md;if((md=Jp.context)!=null&&md.open&&!Jp.context.dataRef.current.__escapeKeyBubbles){Xp=!1;return}}),!Xp)return}se(!1,uv(nE)?nE.nativeEvent:nE,"escape-key")}),bn=At(nE=>{var On;const nh=()=>{var Hn;Hi(nE),(Hn=sn(nE))==null||Hn.removeEventListener("keydown",nh)};(On=sn(nE))==null||On.addEventListener("keydown",nh)}),gd=At(nE=>{var On;const nh=$e.current;$e.current=!1;const Hn=Ge.current;if(Ge.current=!1,de==="click"&&Hn||nh||typeof De=="function"&&!De(nE))return;const Xp=sn(nE),Jp="["+Ps("inert")+"]",md=Ut(ne.floating).querySelectorAll(Jp);let eE=Oe(Xp)?Xp:null;for(;eE&&!Et(eE);){const yE=Ct(eE);if(Et(yE)||!Oe(yE))break;eE=yE}if(md.length&&Oe(Xp)&&!dv(Xp)&&!Yn(Xp,ne.floating)&&Array.from(md).every(yE=>!Yn(eE,yE)))return;if(Je(Xp)&&aE){const yE=Xp.clientWidth>0&&Xp.scrollWidth>Xp.clientWidth,AE=Xp.clientHeight>0&&Xp.scrollHeight>Xp.clientHeight;let bE=AE&&nE.offsetX>Xp.clientWidth;if(AE&&et(Xp).direction==="rtl"&&(bE=nE.offsetX<=Xp.offsetWidth-Xp.clientWidth),bE||yE&&nE.offsetY>Xp.clientHeight)return}const hE=(On=le.current.floatingContext)==null?void 0:On.nodeId,mE=Ne&&mi(Ne.nodesRef.current,hE).some(yE=>{var AE;return di(nE,(AE=yE.context)==null?void 0:AE.elements.floating)});if(di(nE,ne.floating)||di(nE,ne.domReference)||mE)return;const fE=Ne?mi(Ne.nodesRef.current,hE):[];if(fE.length>0){let yE=!0;if(fE.forEach(AE=>{var bE;if((bE=AE.context)!=null&&bE.open&&!AE.context.dataRef.current.__outsidePressBubbles){yE=!1;return}}),!yE)return}se(!1,nE,"outside-press")}),Pm=At(nE=>{var On;const nh=()=>{var Hn;gd(nE),(Hn=sn(nE))==null||Hn.removeEventListener(de,nh)};(On=sn(nE))==null||On.addEventListener(de,nh)});reactExports.useEffect(()=>{if(!te||!ue)return;le.current.__escapeKeyBubbles=Be,le.current.__outsidePressBubbles=ze;let nE=-1;function On(md){se(!1,md,"ancestor-scroll")}function nh(){window.clearTimeout(nE),Ti.current=!0}function Hn(){nE=window.setTimeout(()=>{Ti.current=!1},ro()?5:0)}const Xp=Ut(ne.floating);ce&&(Xp.addEventListener("keydown",$t?bn:Hi,$t),Xp.addEventListener("compositionstart",nh),Xp.addEventListener("compositionend",Hn)),De&&Xp.addEventListener(de,ut?Pm:gd,ut);let Jp=[];return ye&&(Oe(ne.domReference)&&(Jp=St(ne.domReference)),Oe(ne.floating)&&(Jp=Jp.concat(St(ne.floating))),!Oe(ne.reference)&&ne.reference&&ne.reference.contextElement&&(Jp=Jp.concat(St(ne.reference.contextElement)))),Jp=Jp.filter(md=>{var eE;return md!==((eE=Xp.defaultView)==null?void 0:eE.visualViewport)}),Jp.forEach(md=>{md.addEventListener("scroll",On,{passive:!0})}),()=>{ce&&(Xp.removeEventListener("keydown",$t?bn:Hi,$t),Xp.removeEventListener("compositionstart",nh),Xp.removeEventListener("compositionend",Hn)),De&&Xp.removeEventListener(de,ut?Pm:gd,ut),Jp.forEach(md=>{md.removeEventListener("scroll",On)}),window.clearTimeout(nE)}},[le,ne,ce,De,de,te,se,ye,ue,Be,ze,Hi,$t,bn,gd,ut,Pm]),reactExports.useEffect(()=>{$e.current=!1},[De,de]);const oE=reactExports.useMemo(()=>({onKeyDown:Hi,[gy[fe]]:nE=>{_e&&se(!1,nE.nativeEvent,"reference-press")}}),[Hi,se,_e,fe]),aE=reactExports.useMemo(()=>({onKeyDown:Hi,onMouseDown(){Ge.current=!0},onMouseUp(){Ge.current=!0},[by[de]]:()=>{$e.current=!0}}),[Hi,de]);return reactExports.useMemo(()=>ue?{reference:oE,floating:aE}:{},[ue,oE,aE])}function yy(ie){const{open:ee=!1,onOpenChange:te,elements:se}=ie,ne=Lf(),le=reactExports.useRef({}),[ue]=reactExports.useState(()=>cy()),ce=Is()!=null,[he,de]=reactExports.useState(se.reference),_e=At((be,Pe,Ne)=>{le.current.openEvent=be?Pe:void 0,ue.emit("openchange",{open:be,event:Pe,reason:Ne,nested:ce}),te==null||te(be,Pe,Ne)}),fe=reactExports.useMemo(()=>({setPositionReference:de}),[]),ye=reactExports.useMemo(()=>({reference:he||se.reference||null,floating:se.floating||null,domReference:se.reference}),[he,se.reference,se.floating]);return reactExports.useMemo(()=>({dataRef:le,open:ee,onOpenChange:_e,elements:ye,events:ue,floatingId:ne,refs:fe}),[ee,_e,ye,ue,ne,fe])}function Ns(ie){ie===void 0&&(ie={});const{nodeId:ee}=ie,te=yy({...ie,elements:{reference:null,floating:null,...ie.elements}}),se=ie.rootContext||te,ne=se.elements,[le,ue]=reactExports.useState(null),[ce,he]=reactExports.useState(null),de=(ne==null?void 0:ne.domReference)||le,_e=reactExports.useRef(null),fe=Os();mt(()=>{de&&(_e.current=de)},[de]);const ye=ey({...ie,elements:{...ne,...ce&&{reference:ce}}}),be=reactExports.useCallback($e=>{const Ge=Oe($e)?{getBoundingClientRect:()=>$e.getBoundingClientRect(),contextElement:$e}:$e;he(Ge),ye.refs.setReference(Ge)},[ye.refs]),Pe=reactExports.useCallback($e=>{(Oe($e)||$e===null)&&(_e.current=$e,ue($e)),(Oe(ye.refs.reference.current)||ye.refs.reference.current===null||$e!==null&&!Oe($e))&&ye.refs.setReference($e)},[ye.refs]),Ne=reactExports.useMemo(()=>({...ye.refs,setReference:Pe,setPositionReference:be,domReference:_e}),[ye.refs,Pe,be]),we=reactExports.useMemo(()=>({...ye.elements,domReference:de}),[ye.elements,de]),De=reactExports.useMemo(()=>({...ye,...se,refs:Ne,elements:we,nodeId:ee}),[ye,Ne,we,ee,se]);return mt(()=>{se.dataRef.current.floatingContext=De;const $e=fe==null?void 0:fe.nodesRef.current.find(Ge=>Ge.id===ee);$e&&($e.context=De)}),reactExports.useMemo(()=>({...ye,context:De,refs:Ne,elements:we}),[ye,Ne,we,De])}function wy(ie,ee){ee===void 0&&(ee={});const{open:te,onOpenChange:se,events:ne,dataRef:le,elements:ue}=ie,{enabled:ce=!0,visibleOnly:he=!0}=ee,de=reactExports.useRef(!1),_e=reactExports.useRef(),fe=reactExports.useRef(!0);reactExports.useEffect(()=>{if(!ce)return;const be=Ke(ue.domReference);function Pe(){!te&&Je(ue.domReference)&&ue.domReference===fu(Ut(ue.domReference))&&(de.current=!0)}function Ne(){fe.current=!0}return be.addEventListener("blur",Pe),be.addEventListener("keydown",Ne,!0),()=>{be.removeEventListener("blur",Pe),be.removeEventListener("keydown",Ne,!0)}},[ue.domReference,te,ce]),reactExports.useEffect(()=>{if(!ce)return;function be(Pe){let{reason:Ne}=Pe;(Ne==="reference-press"||Ne==="escape-key")&&(de.current=!0)}return ne.on("openchange",be),()=>{ne.off("openchange",be)}},[ne,ce]),reactExports.useEffect(()=>()=>{clearTimeout(_e.current)},[]);const ye=reactExports.useMemo(()=>({onPointerDown(be){iv(be.nativeEvent)||(fe.current=!1)},onMouseLeave(){de.current=!1},onFocus(be){if(de.current)return;const Pe=sn(be.nativeEvent);if(he&&Oe(Pe))try{if(sv()&&lv())throw Error();if(!Pe.matches(":focus-visible"))return}catch{if(!fe.current&&!pv(Pe))return}se(!0,be.nativeEvent,"focus")},onBlur(be){de.current=!1;const Pe=be.relatedTarget,Ne=be.nativeEvent,we=Oe(Pe)&&Pe.hasAttribute(Ps("focus-guard"))&&Pe.getAttribute("data-type")==="outside";_e.current=window.setTimeout(()=>{var De;const $e=fu(ue.domReference?ue.domReference.ownerDocument:document);!Pe&&$e===ue.domReference||Yn((De=le.current.floatingContext)==null?void 0:De.refs.floating.current,$e)||Yn(ue.domReference,$e)||we||se(!1,Ne,"focus")})}}),[le,ue.domReference,se,he]);return reactExports.useMemo(()=>ce?{reference:ye}:{},[ce,ye])}const Su="active",Cu="selected";function gi(ie,ee,te){const se=new Map,ne=te==="item";let le=ie;if(ne&&ie){const{[Su]:ue,[Cu]:ce,...he}=ie;le=he}return{...te==="floating"&&{tabIndex:-1,[my]:""},...le,...ee.map(ue=>{const ce=ue?ue[te]:null;return typeof ce=="function"?ie?ce(ie):null:ce}).concat(ie).reduce((ue,ce)=>(ce&&Object.entries(ce).forEach(he=>{let[de,_e]=he;if(!(ne&&[Su,Cu].includes(de)))if(de.indexOf("on")===0){if(se.has(de)||se.set(de,[]),typeof _e=="function"){var fe;(fe=se.get(de))==null||fe.push(_e),ue[de]=function(){for(var ye,be=arguments.length,Pe=new Array(be),Ne=0;Ne<be;Ne++)Pe[Ne]=arguments[Ne];return(ye=se.get(de))==null?void 0:ye.map(we=>we(...Pe)).find(we=>we!==void 0)}}}else ue[de]=_e}),ue),{})}}function _y(ie){ie===void 0&&(ie=[]);const ee=ie.map(ce=>ce==null?void 0:ce.reference),te=ie.map(ce=>ce==null?void 0:ce.floating),se=ie.map(ce=>ce==null?void 0:ce.item),ne=reactExports.useCallback(ce=>gi(ce,ie,"reference"),ee),le=reactExports.useCallback(ce=>gi(ce,ie,"floating"),te),ue=reactExports.useCallback(ce=>gi(ce,ie,"item"),se);return reactExports.useMemo(()=>({getReferenceProps:ne,getFloatingProps:le,getItemProps:ue}),[ne,le,ue])}const Ay=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function xy(ie,ee){var te;ee===void 0&&(ee={});const{open:se,floatingId:ne}=ie,{enabled:le=!0,role:ue="dialog"}=ee,ce=(te=Ay.get(ue))!=null?te:ue,he=Lf(),de=Is()!=null,_e=reactExports.useMemo(()=>ce==="tooltip"||ue==="label"?{["aria-"+(ue==="label"?"labelledby":"describedby")]:se?ne:void 0}:{"aria-expanded":se?"true":"false","aria-haspopup":ce==="alertdialog"?"dialog":ce,"aria-controls":se?ne:void 0,...ce==="listbox"&&{role:"combobox"},...ce==="menu"&&{id:he},...ce==="menu"&&de&&{role:"menuitem"},...ue==="select"&&{"aria-autocomplete":"none"},...ue==="combobox"&&{"aria-autocomplete":"list"}},[ce,ne,de,se,he,ue]),fe=reactExports.useMemo(()=>{const be={id:ne,...ce&&{role:ce}};return ce==="tooltip"||ue==="label"?be:{...be,...ce==="menu"&&{"aria-labelledby":he}}},[ce,ne,he,ue]),ye=reactExports.useCallback(be=>{let{active:Pe,selected:Ne}=be;const we={role:"option",...Pe&&{id:ne+"-option"}};switch(ue){case"select":return{...we,"aria-selected":Pe&&Ne};case"combobox":return{...we,...Pe&&{"aria-selected":!0}}}return{}},[ne,ue]);return reactExports.useMemo(()=>le?{reference:_e,floating:fe,item:ye}:{},[le,_e,fe,ye])}function zf(ie,ee){if(ie==="rtl"&&(ee.includes("right")||ee.includes("left"))){const[te,se]=ee.split("-"),ne=te==="right"?"left":"right";return se===void 0?ne:`${ne}-${se}`}return ee}function Ru(ie,ee,te,se){return ie==="center"||se==="center"?{top:ee}:ie==="end"?{bottom:te}:ie==="start"?{top:te}:{}}function Tu(ie,ee,te,se,ne){return ie==="center"||se==="center"?{left:ee}:ie==="end"?{[ne==="ltr"?"right":"left"]:te}:ie==="start"?{[ne==="ltr"?"left":"right"]:te}:{}}const Sy={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function Cy({position:ie,arrowSize:ee,arrowOffset:te,arrowRadius:se,arrowPosition:ne,arrowX:le,arrowY:ue,dir:ce}){const[he,de="center"]=ie.split("-"),_e={width:ee,height:ee,transform:"rotate(45deg)",position:"absolute",[Sy[he]]:se},fe=-ee/2;return he==="left"?{..._e,...Ru(de,ue,te,ne),right:fe,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:he==="right"?{..._e,...Ru(de,ue,te,ne),left:fe,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:he==="top"?{..._e,...Tu(de,le,te,ne,ce),bottom:fe,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:he==="bottom"?{..._e,...Tu(de,le,te,ne,ce),top:fe,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const ks=reactExports.forwardRef(({position:ie,arrowSize:ee,arrowOffset:te,arrowRadius:se,arrowPosition:ne,visible:le,arrowX:ue,arrowY:ce,style:he,...de},_e)=>{const{dir:fe}=tr();return le?jsxRuntimeExports.jsx("div",{...de,ref:_e,style:{...he,...Cy({position:ie,arrowSize:ee,arrowOffset:te,arrowRadius:se,arrowPosition:ne,dir:fe,arrowX:ue,arrowY:ce})}}):null});ks.displayName="@mantine/core/FloatingArrow";const[Ry,qf]=Xt("Popover component was not found in the tree");function Es({children:ie,active:ee=!0,refProp:te="ref",innerRef:se}){const ne=Og(ee),le=He(ne,se);return Jt(ie)?reactExports.cloneElement(ie,{[te]:le}):ie}function jf(ie){return jsxRuntimeExports.jsx(vs,{tabIndex:-1,"data-autofocus":!0,...ie})}Es.displayName="@mantine/core/FocusTrap",jf.displayName="@mantine/core/FocusTrapInitialFocus",Es.InitialFocus=jf;function Ty(ie){const ee=document.createElement("div");return ee.setAttribute("data-portal","true"),typeof ie.className=="string"&&ee.classList.add(...ie.className.split(" ").filter(Boolean)),typeof ie.style=="object"&&Object.assign(ee.style,ie.style),typeof ie.id=="string"&&ee.setAttribute("id",ie.id),ee}const Iy={},Vf=reactExports.forwardRef((ie,ee)=>{const{children:te,target:se,...ne}=Q$1("Portal",Iy,ie),[le,ue]=reactExports.useState(!1),ce=reactExports.useRef(null);return Xn(()=>(ue(!0),ce.current=se?typeof se=="string"?document.querySelector(se):se:Ty(ne),Or(ee,ce.current),!se&&ce.current&&document.body.appendChild(ce.current),()=>{!se&&ce.current&&document.body.removeChild(ce.current)}),[se]),!le||!ce.current?null:reactDomExports.createPortal(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:te}),ce.current)});Vf.displayName="@mantine/core/Portal";function ao({withinPortal:ie=!0,children:ee,...te}){return ie?jsxRuntimeExports.jsx(Vf,{...te,children:ee}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ee})}ao.displayName="@mantine/core/OptionalPortal";const kn=ie=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${ie==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),br={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...kn("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...kn("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...kn("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...kn("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...kn("top"),common:{transformOrigin:"top right"}}},Iu={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Oy({transition:ie,state:ee,duration:te,timingFunction:se}){const ne={transitionDuration:`${te}ms`,transitionTimingFunction:se};return typeof ie=="string"?ie in br?{transitionProperty:br[ie].transitionProperty,...ne,...br[ie].common,...br[ie][Iu[ee]]}:{}:{transitionProperty:ie.transitionProperty,...ne,...ie.common,...ie[Iu[ee]]}}function Py({duration:ie,exitDuration:ee,timingFunction:te,mounted:se,onEnter:ne,onExit:le,onEntered:ue,onExited:ce,enterDelay:he,exitDelay:de}){const _e=nt(),fe=Mg(),ye=_e.respectReducedMotion?fe:!1,[be,Pe]=reactExports.useState(ye?0:ie),[Ne,we]=reactExports.useState(se?"entered":"exited"),De=reactExports.useRef(-1),$e=reactExports.useRef(-1),Ge=reactExports.useRef(-1),Be=$t=>{const ut=$t?ne:le,Ti=$t?ue:ce;window.clearTimeout(De.current);const Hi=ye?0:$t?ie:ee;Pe(Hi),Hi===0?(typeof ut=="function"&&ut(),typeof Ti=="function"&&Ti(),we($t?"entered":"exited")):Ge.current=requestAnimationFrame(()=>{ReactDOM.flushSync(()=>{we($t?"pre-entering":"pre-exiting")}),Ge.current=requestAnimationFrame(()=>{typeof ut=="function"&&ut(),we($t?"entering":"exiting"),De.current=window.setTimeout(()=>{typeof Ti=="function"&&Ti(),we($t?"entered":"exited")},Hi)})})},ze=$t=>{if(window.clearTimeout($e.current),typeof($t?he:de)!="number"){Be($t);return}$e.current=window.setTimeout(()=>{Be($t)},$t?he:de)};return Yt(()=>{ze(se)},[se]),reactExports.useEffect(()=>()=>{window.clearTimeout(De.current),cancelAnimationFrame(Ge.current)},[]),{transitionDuration:be,transitionStatus:Ne,transitionTimingFunction:te||"ease"}}function rr({keepMounted:ie,transition:ee="fade",duration:te=250,exitDuration:se=te,mounted:ne,children:le,timingFunction:ue="ease",onExit:ce,onEntered:he,onEnter:de,onExited:_e,enterDelay:fe,exitDelay:ye}){const{transitionDuration:be,transitionStatus:Pe,transitionTimingFunction:Ne}=Py({mounted:ne,exitDuration:se,duration:te,timingFunction:ue,onExit:ce,onEntered:he,onEnter:de,onExited:_e,enterDelay:fe,exitDelay:ye});return be===0?ne?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:le({})}):ie?le({display:"none"}):null:Pe==="exited"?ie?le({display:"none"}):null:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:le(Oy({transition:ee,duration:be,state:Pe,timingFunction:Ne}))})}rr.displayName="@mantine/core/Transition";var Hf={dropdown:"m_38a85659",arrow:"m_a31dc6c1"};const Ny={},Ms=ae((ie,ee)=>{var te,se,ne,le;const ue=Q$1("PopoverDropdown",Ny,ie),{className:ce,style:he,vars:de,children:_e,onKeyDownCapture:fe,variant:ye,classNames:be,styles:Pe,...Ne}=ue,we=qf(),De=xg({opened:we.opened,shouldReturnFocus:we.returnFocus}),$e=we.withRoles?{"aria-labelledby":we.getTargetId(),id:we.getDropdownId(),role:"dialog",tabIndex:-1}:{},Ge=He(ee,we.floating);return we.disabled?null:jsxRuntimeExports.jsx(ao,{...we.portalProps,withinPortal:we.withinPortal,children:jsxRuntimeExports.jsx(rr,{mounted:we.opened,...we.transitionProps,transition:((te=we.transitionProps)==null?void 0:te.transition)||"fade",duration:((se=we.transitionProps)==null?void 0:se.duration)??150,keepMounted:we.keepMounted,exitDuration:typeof((ne=we.transitionProps)==null?void 0:ne.exitDuration)=="number"?we.transitionProps.exitDuration:(le=we.transitionProps)==null?void 0:le.duration,children:Be=>jsxRuntimeExports.jsx(Es,{active:we.trapFocus&&we.opened,innerRef:Ge,children:jsxRuntimeExports.jsxs(Z$1,{...$e,...Ne,variant:ye,onKeyDownCapture:pg(we.onClose,{active:we.closeOnEscape,onTrigger:De,onKeyDown:fe}),"data-position":we.placement,"data-fixed":we.floatingStrategy==="fixed"||void 0,...we.getStyles("dropdown",{className:ce,props:ue,classNames:be,styles:Pe,style:[{...Be,zIndex:we.zIndex,top:we.y??0,left:we.x??0,width:we.width==="target"?void 0:V$2(we.width)},we.resolvedStyles.dropdown,Pe==null?void 0:Pe.dropdown,he]}),children:[_e,jsxRuntimeExports.jsx(ks,{ref:we.arrowRef,arrowX:we.arrowX,arrowY:we.arrowY,visible:we.withArrow,position:we.placement,arrowSize:we.arrowSize,arrowRadius:we.arrowRadius,arrowOffset:we.arrowOffset,arrowPosition:we.arrowPosition,...we.getStyles("arrow",{props:ue,classNames:be,styles:Pe})})]})})})})});Ms.classes=Hf,Ms.displayName="@mantine/core/PopoverDropdown";const ky={refProp:"ref",popupType:"dialog"},Uf=ae((ie,ee)=>{const{children:te,refProp:se,popupType:ne,...le}=Q$1("PopoverTarget",ky,ie);if(!Jt(te))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const ue=le,ce=qf(),he=He(ce.reference,Kr(te),ee),de=ce.withRoles?{"aria-haspopup":ne,"aria-expanded":ce.opened,"aria-controls":ce.getDropdownId(),id:ce.getTargetId()}:{};return reactExports.cloneElement(te,{...ue,...de,...ce.targetProps,className:re(ce.targetProps.className,ue.className,te.props.className),[se]:he,...ce.controlled?null:{onClick:ce.onToggle}})});Uf.displayName="@mantine/core/PopoverTarget";function Wf({opened:ie,floating:ee,position:te,positionDependencies:se}){const[ne,le]=reactExports.useState(0);reactExports.useEffect(()=>{if(ee.refs.reference.current&&ee.refs.floating.current&&ie)return Wv(ee.refs.reference.current,ee.refs.floating.current,ee.update)},[ee.refs.reference.current,ee.refs.floating.current,ie,ne,te]),Yt(()=>{ee.update()},se),Yt(()=>{le(ue=>ue+1)},[ie])}function Ey(ie){if(ie===void 0)return{shift:!0,flip:!0};const ee={...ie};return ie.shift===void 0&&(ee.shift=!0),ie.flip===void 0&&(ee.flip=!0),ee}function My(ie,ee){const te=Ey(ie.middlewares),se=[Mf(ie.offset)];return te.shift&&se.push(Ts(typeof te.shift=="boolean"?{limiter:yu(),padding:5}:{limiter:yu(),padding:5,...te.shift})),te.flip&&se.push(typeof te.flip=="boolean"?$r():$r(te.flip)),te.inline&&se.push(typeof te.inline=="boolean"?jn():jn(te.inline)),se.push($f({element:ie.arrowRef,padding:ie.arrowOffset})),(te.size||ie.width==="target")&&se.push(ny({...typeof te.size=="boolean"?{}:te.size,apply({rects:ne,availableWidth:le,availableHeight:ue,...ce}){var he;const de=((he=ee().refs.floating.current)==null?void 0:he.style)??{};te.size&&(typeof te.size=="object"&&te.size.apply?te.size.apply({rects:ne,availableWidth:le,availableHeight:ue,...ce}):Object.assign(de,{maxWidth:`${le}px`,maxHeight:`${ue}px`})),ie.width==="target"&&Object.assign(de,{width:`${ne.reference.width}px`})}})),se}function $y(ie){const[ee,te]=_n({value:ie.opened,defaultValue:ie.defaultOpened,finalValue:!1,onChange:ie.onChange}),se=reactExports.useRef(ee),ne=()=>{ee&&te(!1)},le=()=>te(!ee),ue=Ns({strategy:ie.strategy,placement:ie.position,middleware:My(ie,()=>ue)});return Wf({opened:ee,position:ie.position,positionDependencies:ie.positionDependencies||[],floating:ue}),Yt(()=>{var ce;(ce=ie.onPositionChange)==null||ce.call(ie,ue.placement)},[ue.placement]),Yt(()=>{var ce,he;ee!==se.current&&(ee?(he=ie.onOpen)==null||he.call(ie):(ce=ie.onClose)==null||ce.call(ie)),se.current=ee},[ee,ie.onClose,ie.onOpen]),{floating:ue,controlled:typeof ie.opened=="boolean",opened:ee,onClose:ne,onToggle:le}}const Dy={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:is("popover"),__staticSelector:"Popover",width:"max-content"},Ly=(ie,{radius:ee,shadow:te})=>({dropdown:{"--popover-radius":ee===void 0?void 0:tt$1(ee),"--popover-shadow":mg(te)}});function Ft(ie){var ee,te,se,ne,le,ue;const ce=Q$1("Popover",Dy,ie),{children:he,position:de,offset:_e,onPositionChange:fe,positionDependencies:ye,opened:be,transitionProps:Pe,onExitTransitionEnd:Ne,onEnterTransitionEnd:we,width:De,middlewares:$e,withArrow:Ge,arrowSize:Be,arrowOffset:ze,arrowRadius:$t,arrowPosition:ut,unstyled:Ti,classNames:Hi,styles:bn,closeOnClickOutside:gd,withinPortal:Pm,portalProps:oE,closeOnEscape:aE,clickOutsideEvents:nE,trapFocus:On,onClose:nh,onOpen:Hn,onChange:Xp,zIndex:Jp,radius:md,shadow:eE,id:hE,defaultOpened:mE,__staticSelector:fE,withRoles:yE,disabled:AE,returnFocus:bE,variant:ME,keepMounted:SE,vars:jE,floatingStrategy:$E,...zE}=ce,YE=ve({name:fE,props:ce,classes:Hf,classNames:Hi,styles:bn,unstyled:Ti,rootSelector:"dropdown",vars:jE,varsResolver:Ly}),{resolvedStyles:HE}=fs({classNames:Hi,styles:bn,props:ce}),VE=reactExports.useRef(null),[TE,xE]=reactExports.useState(null),[BE,eR]=reactExports.useState(null),{dir:sR}=tr(),ZE=wn(hE),vE=$y({middlewares:$e,width:De,position:zf(sR,de),offset:typeof _e=="number"?_e+(Ge?Be/2:0):_e,arrowRef:VE,arrowOffset:ze,onPositionChange:fe,positionDependencies:ye,opened:be,defaultOpened:mE,onChange:Xp,onOpen:Hn,onClose:nh,strategy:$E});wg(()=>gd&&vE.onClose(),nE,[TE,BE]);const XE=reactExports.useCallback(yR=>{xE(yR),vE.floating.refs.setReference(yR)},[vE.floating.refs.setReference]),pR=reactExports.useCallback(yR=>{eR(yR),vE.floating.refs.setFloating(yR)},[vE.floating.refs.setFloating]),CR=reactExports.useCallback(()=>{var yR;(yR=Pe==null?void 0:Pe.onExited)==null||yR.call(Pe),Ne==null||Ne()},[Pe==null?void 0:Pe.onExited,Ne]),MR=reactExports.useCallback(()=>{var yR;(yR=Pe==null?void 0:Pe.onEntered)==null||yR.call(Pe),we==null||we()},[Pe==null?void 0:Pe.onEntered,we]);return jsxRuntimeExports.jsx(Ry,{value:{returnFocus:bE,disabled:AE,controlled:vE.controlled,reference:XE,floating:pR,x:vE.floating.x,y:vE.floating.y,arrowX:(se=(te=(ee=vE.floating)==null?void 0:ee.middlewareData)==null?void 0:te.arrow)==null?void 0:se.x,arrowY:(ue=(le=(ne=vE.floating)==null?void 0:ne.middlewareData)==null?void 0:le.arrow)==null?void 0:ue.y,opened:vE.opened,arrowRef:VE,transitionProps:{...Pe,onExited:CR,onEntered:MR},width:De,withArrow:Ge,arrowSize:Be,arrowOffset:ze,arrowRadius:$t,arrowPosition:ut,placement:vE.floating.placement,trapFocus:On,withinPortal:Pm,portalProps:oE,zIndex:Jp,radius:md,shadow:eE,closeOnEscape:aE,onClose:vE.onClose,onToggle:vE.onToggle,getTargetId:()=>`${ZE}-target`,getDropdownId:()=>`${ZE}-dropdown`,withRoles:yE,targetProps:zE,__staticSelector:fE,classNames:Hi,styles:bn,unstyled:Ti,variant:ME,keepMounted:SE,getStyles:YE,resolvedStyles:HE,floatingStrategy:$E},children:he})}Ft.Target=Uf,Ft.Dropdown=Ms,Ft.displayName="@mantine/core/Popover",Ft.extend=ie=>ie;var st={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const Gf=reactExports.forwardRef(({className:ie,...ee},te)=>jsxRuntimeExports.jsxs(Z$1,{component:"span",className:re(st.barsLoader,ie),...ee,ref:te,children:[jsxRuntimeExports.jsx("span",{className:st.bar}),jsxRuntimeExports.jsx("span",{className:st.bar}),jsxRuntimeExports.jsx("span",{className:st.bar})]}));Gf.displayName="@mantine/core/Bars";const Yf=reactExports.forwardRef(({className:ie,...ee},te)=>jsxRuntimeExports.jsxs(Z$1,{component:"span",className:re(st.dotsLoader,ie),...ee,ref:te,children:[jsxRuntimeExports.jsx("span",{className:st.dot}),jsxRuntimeExports.jsx("span",{className:st.dot}),jsxRuntimeExports.jsx("span",{className:st.dot})]}));Yf.displayName="@mantine/core/Dots";const Kf=reactExports.forwardRef(({className:ie,...ee},te)=>jsxRuntimeExports.jsx(Z$1,{component:"span",className:re(st.ovalLoader,ie),...ee,ref:te}));Kf.displayName="@mantine/core/Oval";const Qf={bars:Gf,oval:Kf,dots:Yf},Fy={loaders:Qf,type:"oval"},By=(ie,{size:ee,color:te})=>({root:{"--loader-size":ke(ee,"loader-size"),"--loader-color":te?Ze(te,ie):void 0}}),Cn=ae((ie,ee)=>{const te=Q$1("Loader",Fy,ie),{size:se,color:ne,type:le,vars:ue,className:ce,style:he,classNames:de,styles:_e,unstyled:fe,loaders:ye,variant:be,children:Pe,...Ne}=te,we=ve({name:"Loader",props:te,classes:st,className:ce,style:he,classNames:de,styles:_e,unstyled:fe,vars:ue,varsResolver:By});return Pe?jsxRuntimeExports.jsx(Z$1,{...we("root"),ref:ee,...Ne,children:Pe}):jsxRuntimeExports.jsx(Z$1,{...we("root"),ref:ee,component:ye[le],variant:be,size:se,...Ne})});Cn.defaultLoaders=Qf,Cn.classes=st,Cn.displayName="@mantine/core/Loader";var Rn={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Ou={orientation:"horizontal"},zy=(ie,{borderWidth:ee})=>({group:{"--ai-border-width":V$2(ee)}}),$s=ae((ie,ee)=>{const te=Q$1("ActionIconGroup",Ou,ie),{className:se,style:ne,classNames:le,styles:ue,unstyled:ce,orientation:he,vars:de,borderWidth:_e,variant:fe,mod:ye,...be}=Q$1("ActionIconGroup",Ou,ie),Pe=ve({name:"ActionIconGroup",props:te,classes:Rn,className:se,style:ne,classNames:le,styles:ue,unstyled:ce,vars:de,varsResolver:zy,rootSelector:"group"});return jsxRuntimeExports.jsx(Z$1,{...Pe("group"),ref:ee,variant:fe,mod:[{"data-orientation":he},ye],role:"group",...be})});$s.classes=Rn,$s.displayName="@mantine/core/ActionIconGroup";const Pu={},qy=(ie,{radius:ee,color:te,gradient:se,variant:ne,autoContrast:le,size:ue})=>{const ce=ie.variantColorResolver({color:te||ie.primaryColor,theme:ie,gradient:se,variant:ne||"filled",autoContrast:le});return{groupSection:{"--section-height":ke(ue,"section-height"),"--section-padding-x":ke(ue,"section-padding-x"),"--section-fz":Xe(ue),"--section-radius":ee===void 0?void 0:tt$1(ee),"--section-bg":te||ne?ce.background:void 0,"--section-color":ce.color,"--section-bd":te||ne?ce.border:void 0}}},Ds=ae((ie,ee)=>{const te=Q$1("ActionIconGroupSection",Pu,ie),{className:se,style:ne,classNames:le,styles:ue,unstyled:ce,vars:he,variant:de,gradient:_e,radius:fe,autoContrast:ye,...be}=Q$1("ActionIconGroupSection",Pu,ie),Pe=ve({name:"ActionIconGroupSection",props:te,classes:Rn,className:se,style:ne,classNames:le,styles:ue,unstyled:ce,vars:he,varsResolver:qy,rootSelector:"groupSection"});return jsxRuntimeExports.jsx(Z$1,{...Pe("groupSection"),ref:ee,variant:de,...be})});Ds.classes=Rn,Ds.displayName="@mantine/core/ActionIconGroupSection";const jy={},Vy=(ie,{size:ee,radius:te,variant:se,gradient:ne,color:le,autoContrast:ue})=>{const ce=ie.variantColorResolver({color:le||ie.primaryColor,theme:ie,gradient:ne,variant:se||"filled",autoContrast:ue});return{root:{"--ai-size":ke(ee,"ai-size"),"--ai-radius":te===void 0?void 0:tt$1(te),"--ai-bg":le||se?ce.background:void 0,"--ai-hover":le||se?ce.hover:void 0,"--ai-hover-color":le||se?ce.hoverColor:void 0,"--ai-color":ce.color,"--ai-bd":le||se?ce.border:void 0}}},or=Lt((ie,ee)=>{const te=Q$1("ActionIcon",jy,ie),{className:se,unstyled:ne,variant:le,classNames:ue,styles:ce,style:he,loading:de,loaderProps:_e,size:fe,color:ye,radius:be,__staticSelector:Pe,gradient:Ne,vars:we,children:De,disabled:$e,"data-disabled":Ge,autoContrast:Be,mod:ze,...$t}=te,ut=ve({name:["ActionIcon",Pe],props:te,className:se,style:he,classes:Rn,classNames:ue,styles:ce,unstyled:ne,vars:we,varsResolver:Vy});return jsxRuntimeExports.jsxs(hn,{...ut("root",{active:!$e&&!de&&!Ge}),...$t,unstyled:ne,variant:le,size:fe,disabled:$e||de,ref:ee,mod:[{loading:de,disabled:$e||Ge},ze],children:[jsxRuntimeExports.jsx(rr,{mounted:!!de,transition:"slide-down",duration:150,children:Ti=>jsxRuntimeExports.jsx(Z$1,{component:"span",...ut("loader",{style:Ti}),"aria-hidden":!0,children:jsxRuntimeExports.jsx(Cn,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",..._e})})}),jsxRuntimeExports.jsx(Z$1,{component:"span",mod:{loading:de},...ut("icon"),children:De})]})});or.classes=Rn,or.displayName="@mantine/core/ActionIcon",or.Group=$s,or.GroupSection=Ds;const Zf=reactExports.forwardRef(({size:ie="var(--cb-icon-size, 70%)",style:ee,...te},se)=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...ee,width:ie,height:ie},ref:se,...te,children:jsxRuntimeExports.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));Zf.displayName="@mantine/core/CloseIcon";var Jf={root:"m_86a44da5","root--subtle":"m_220c80f2"};const Hy={variant:"subtle"},Uy=(ie,{size:ee,radius:te,iconSize:se})=>({root:{"--cb-size":ke(ee,"cb-size"),"--cb-radius":te===void 0?void 0:tt$1(te),"--cb-icon-size":V$2(se)}}),io=Lt((ie,ee)=>{const te=Q$1("CloseButton",Hy,ie),{iconSize:se,children:ne,vars:le,radius:ue,className:ce,classNames:he,style:de,styles:_e,unstyled:fe,"data-disabled":ye,disabled:be,variant:Pe,icon:Ne,mod:we,...De}=te,$e=ve({name:"CloseButton",props:te,className:ce,style:de,classes:Jf,classNames:he,styles:_e,unstyled:fe,vars:le,varsResolver:Uy});return jsxRuntimeExports.jsxs(hn,{ref:ee,...De,unstyled:fe,variant:Pe,disabled:be,mod:[{disabled:be||ye},we],...$e("root",{variant:Pe,active:!be&&!ye}),children:[Ne||jsxRuntimeExports.jsx(Zf,{}),ne]})});io.classes=Jf,io.displayName="@mantine/core/CloseButton";function Wy(ie){return reactExports.Children.toArray(ie).filter(Boolean)}var Xf={root:"m_4081bf90"};const Gy={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Yy=(ie,{grow:ee,preventGrowOverflow:te,gap:se,align:ne,justify:le,wrap:ue},{childWidth:ce})=>({root:{"--group-child-width":ee&&te?ce:void 0,"--group-gap":Qe(se),"--group-align":ne,"--group-justify":le,"--group-wrap":ue}}),Re=ae((ie,ee)=>{const te=Q$1("Group",Gy,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,children:he,gap:de,align:_e,justify:fe,wrap:ye,grow:be,preventGrowOverflow:Pe,vars:Ne,variant:we,__size:De,mod:$e,...Ge}=te,Be=Wy(he),ze=Be.length,$t=Qe(de??"md"),ut={childWidth:`calc(${100/ze}% - (${$t} - ${$t} / ${ze}))`},Ti=ve({name:"Group",props:te,stylesCtx:ut,className:ne,style:le,classes:Xf,classNames:se,styles:ue,unstyled:ce,vars:Ne,varsResolver:Yy});return jsxRuntimeExports.jsx(Z$1,{...Ti("root"),ref:ee,variant:we,mod:[{grow:be},$e],size:De,...Ge,children:Be})});Re.classes=Xf,Re.displayName="@mantine/core/Group";const[Ky,ar]=dg({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var ot={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Nu={},Qy=(ie,{size:ee})=>({description:{"--input-description-size":ee===void 0?void 0:`calc(${Xe(ee)} - ${V$2(2)})`}}),so=ae((ie,ee)=>{const te=Q$1("InputDescription",Nu,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,size:de,__staticSelector:_e,__inheritStyles:fe=!0,variant:ye,...be}=Q$1("InputDescription",Nu,te),Pe=ar(),Ne=ve({name:["InputWrapper",_e],props:te,classes:ot,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,rootSelector:"description",vars:he,varsResolver:Qy}),we=fe&&(Pe==null?void 0:Pe.getStyles)||Ne;return jsxRuntimeExports.jsx(Z$1,{component:"p",ref:ee,variant:ye,size:de,...we("description",Pe!=null&&Pe.getStyles?{className:ne,style:le}:void 0),...be})});so.classes=ot,so.displayName="@mantine/core/InputDescription";const Zy={},Jy=(ie,{size:ee})=>({error:{"--input-error-size":ee===void 0?void 0:`calc(${Xe(ee)} - ${V$2(2)})`}}),lo=ae((ie,ee)=>{const te=Q$1("InputError",Zy,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,size:de,__staticSelector:_e,__inheritStyles:fe=!0,variant:ye,...be}=te,Pe=ve({name:["InputWrapper",_e],props:te,classes:ot,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,rootSelector:"error",vars:he,varsResolver:Jy}),Ne=ar(),we=fe&&(Ne==null?void 0:Ne.getStyles)||Pe;return jsxRuntimeExports.jsx(Z$1,{component:"p",ref:ee,variant:ye,size:de,...we("error",Ne!=null&&Ne.getStyles?{className:ne,style:le}:void 0),...be})});lo.classes=ot,lo.displayName="@mantine/core/InputError";const ku={labelElement:"label"},Xy=(ie,{size:ee})=>({label:{"--input-label-size":Xe(ee),"--input-asterisk-color":void 0}}),co=ae((ie,ee)=>{const te=Q$1("InputLabel",ku,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,labelElement:de,size:_e,required:fe,htmlFor:ye,onMouseDown:be,children:Pe,__staticSelector:Ne,variant:we,mod:De,...$e}=Q$1("InputLabel",ku,te),Ge=ve({name:["InputWrapper",Ne],props:te,classes:ot,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,rootSelector:"label",vars:he,varsResolver:Xy}),Be=ar(),ze=(Be==null?void 0:Be.getStyles)||Ge;return jsxRuntimeExports.jsxs(Z$1,{...ze("label",Be!=null&&Be.getStyles?{className:ne,style:le}:void 0),component:de,variant:we,size:_e,ref:ee,htmlFor:de==="label"?ye:void 0,mod:[{required:fe},De],onMouseDown:$t=>{be==null||be($t),!$t.defaultPrevented&&$t.detail>1&&$t.preventDefault()},...$e,children:[Pe,fe&&jsxRuntimeExports.jsx("span",{...ze("required"),"aria-hidden":!0,children:" *"})]})});co.classes=ot,co.displayName="@mantine/core/InputLabel";const Eu={},Ls=ae((ie,ee)=>{const te=Q$1("InputPlaceholder",Eu,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,__staticSelector:de,variant:_e,error:fe,mod:ye,...be}=Q$1("InputPlaceholder",Eu,te),Pe=ve({name:["InputPlaceholder",de],props:te,classes:ot,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,rootSelector:"placeholder"});return jsxRuntimeExports.jsx(Z$1,{...Pe("placeholder"),mod:[{error:!!fe},ye],component:"span",variant:_e,ref:ee,...be})});Ls.classes=ot,Ls.displayName="@mantine/core/InputPlaceholder";function e1(ie,{hasDescription:ee,hasError:te}){const se=ie.findIndex(ce=>ce==="input"),ne=ie.slice(0,se),le=ie.slice(se+1),ue=ee&&ne.includes("description")||te&&ne.includes("error");return{offsetBottom:ee&&le.includes("description")||te&&le.includes("error"),offsetTop:ue}}const t1={labelElement:"label",inputContainer:ie=>ie,inputWrapperOrder:["label","description","input","error"]},n1=(ie,{size:ee})=>({label:{"--input-label-size":Xe(ee),"--input-asterisk-color":void 0},error:{"--input-error-size":ee===void 0?void 0:`calc(${Xe(ee)} - ${V$2(2)})`},description:{"--input-description-size":ee===void 0?void 0:`calc(${Xe(ee)} - ${V$2(2)})`}}),Fs=ae((ie,ee)=>{const te=Q$1("InputWrapper",t1,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,size:de,variant:_e,__staticSelector:fe,inputContainer:ye,inputWrapperOrder:be,label:Pe,error:Ne,description:we,labelProps:De,descriptionProps:$e,errorProps:Ge,labelElement:Be,children:ze,withAsterisk:$t,id:ut,required:Ti,__stylesApiProps:Hi,mod:bn,...gd}=te,Pm=ve({name:["InputWrapper",fe],props:Hi||te,classes:ot,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he,varsResolver:n1}),oE={size:de,variant:_e,__staticSelector:fe},aE=wn(ut),nE=typeof $t=="boolean"?$t:Ti,On=(Ge==null?void 0:Ge.id)||`${aE}-error`,nh=($e==null?void 0:$e.id)||`${aE}-description`,Hn=aE,Xp=!!Ne&&typeof Ne!="boolean",Jp=!!we,md=`${Xp?On:""} ${Jp?nh:""}`,eE=md.trim().length>0?md.trim():void 0,hE=(De==null?void 0:De.id)||`${aE}-label`,mE=Pe&&jsxRuntimeExports.jsx(co,{labelElement:Be,id:hE,htmlFor:Hn,required:nE,...oE,...De,children:Pe},"label"),fE=Jp&&jsxRuntimeExports.jsx(so,{...$e,...oE,size:($e==null?void 0:$e.size)||oE.size,id:($e==null?void 0:$e.id)||nh,children:we},"description"),yE=jsxRuntimeExports.jsx(reactExports.Fragment,{children:ye(ze)},"input"),AE=Xp&&reactExports.createElement(lo,{...Ge,...oE,size:(Ge==null?void 0:Ge.size)||oE.size,key:"error",id:(Ge==null?void 0:Ge.id)||On},Ne),bE=be.map(ME=>{switch(ME){case"label":return mE;case"input":return yE;case"description":return fE;case"error":return AE;default:return null}});return jsxRuntimeExports.jsx(Ky,{value:{getStyles:Pm,describedBy:eE,inputId:Hn,labelId:hE,...e1(be,{hasDescription:Jp,hasError:Xp})},children:jsxRuntimeExports.jsx(Z$1,{ref:ee,variant:_e,size:de,mod:[{error:!!Ne},bn],...Pm("root"),...gd,children:bE})})});Fs.classes=ot,Fs.displayName="@mantine/core/InputWrapper";const r1={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},o1=(ie,ee,te)=>({wrapper:{"--input-margin-top":te.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":te.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":ke(ee.size,"input-height"),"--input-fz":Xe(ee.size),"--input-radius":ee.radius===void 0?void 0:tt$1(ee.radius),"--input-left-section-width":ee.leftSectionWidth!==void 0?V$2(ee.leftSectionWidth):void 0,"--input-right-section-width":ee.rightSectionWidth!==void 0?V$2(ee.rightSectionWidth):void 0,"--input-padding-y":ee.multiline?ke(ee.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":ee.leftSectionPointerEvents,"--input-right-section-pointer-events":ee.rightSectionPointerEvents}}),Ve=Lt((ie,ee)=>{const te=Q$1("Input",r1,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,required:he,__staticSelector:de,__stylesApiProps:_e,size:fe,wrapperProps:ye,error:be,disabled:Pe,leftSection:Ne,leftSectionProps:we,leftSectionWidth:De,rightSection:$e,rightSectionProps:Ge,rightSectionWidth:Be,rightSectionPointerEvents:ze,leftSectionPointerEvents:$t,variant:ut,vars:Ti,pointer:Hi,multiline:bn,radius:gd,id:Pm,withAria:oE,withErrorStyles:aE,mod:nE,inputSize:On,...nh}=te,{styleProps:Hn,rest:Xp}=Jr(nh),Jp=ar(),md={offsetBottom:Jp==null?void 0:Jp.offsetBottom,offsetTop:Jp==null?void 0:Jp.offsetTop},eE=ve({name:["Input",de],props:_e||te,classes:ot,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,stylesCtx:md,rootSelector:"wrapper",vars:Ti,varsResolver:o1}),hE=oE?{required:he,disabled:Pe,"aria-invalid":!!be,"aria-describedby":Jp==null?void 0:Jp.describedBy,id:(Jp==null?void 0:Jp.inputId)||Pm}:{};return jsxRuntimeExports.jsxs(Z$1,{...eE("wrapper"),...Hn,...ye,mod:[{error:!!be&&aE,pointer:Hi,disabled:Pe,multiline:bn,"data-with-right-section":!!$e,"data-with-left-section":!!Ne},nE],variant:ut,size:fe,children:[Ne&&jsxRuntimeExports.jsx("div",{...we,"data-position":"left",...eE("section",{className:we==null?void 0:we.className,style:we==null?void 0:we.style}),children:Ne}),jsxRuntimeExports.jsx(Z$1,{component:"input",...Xp,...hE,ref:ee,required:he,mod:{disabled:Pe,error:!!be&&aE},variant:ut,__size:On,...eE("input")}),$e&&jsxRuntimeExports.jsx("div",{...Ge,"data-position":"right",...eE("section",{className:Ge==null?void 0:Ge.className,style:Ge==null?void 0:Ge.style}),children:$e})]})});Ve.classes=ot,Ve.Wrapper=Fs,Ve.Label=co,Ve.Error=lo,Ve.Description=so,Ve.Placeholder=Ls,Ve.displayName="@mantine/core/Input";function a1(ie,ee,te){const se=Q$1(ie,ee,te),{label:ne,description:le,error:ue,required:ce,classNames:he,styles:de,className:_e,unstyled:fe,__staticSelector:ye,__stylesApiProps:be,errorProps:Pe,labelProps:Ne,descriptionProps:we,wrapperProps:De,id:$e,size:Ge,style:Be,inputContainer:ze,inputWrapperOrder:$t,withAsterisk:ut,variant:Ti,vars:Hi,mod:bn,...gd}=se,{styleProps:Pm,rest:oE}=Jr(gd),aE={label:ne,description:le,error:ue,required:ce,classNames:he,className:_e,__staticSelector:ye,__stylesApiProps:be||se,errorProps:Pe,labelProps:Ne,descriptionProps:we,unstyled:fe,styles:de,size:Ge,style:Be,inputContainer:ze,inputWrapperOrder:$t,withAsterisk:ut,variant:Ti,id:$e,mod:bn,...De};return{...oE,classNames:he,styles:de,unstyled:fe,wrapperProps:{...aE,...Pm},inputProps:{required:ce,classNames:he,styles:de,unstyled:fe,size:Ge,__staticSelector:ye,__stylesApiProps:be||se,error:ue,variant:Ti,id:$e}}}const i1={__staticSelector:"InputBase",withAria:!0},Bt=Lt((ie,ee)=>{const{inputProps:te,wrapperProps:se,...ne}=a1("InputBase",i1,ie);return jsxRuntimeExports.jsx(Ve.Wrapper,{...se,children:jsxRuntimeExports.jsx(Ve,{...te,...ne,ref:ee})})});Bt.classes={...Ve.classes,...Ve.Wrapper.classes},Bt.displayName="@mantine/core/InputBase";const s1={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var ep={root:"m_8bffd616"};const l1={},wt=Lt((ie,ee)=>{const te=Q$1("Flex",l1,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,gap:de,rowGap:_e,columnGap:fe,align:ye,justify:be,wrap:Pe,direction:Ne,...we}=te,De=ve({name:"Flex",classes:ep,props:te,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he}),$e=nt(),Ge=hs(),Be=tf({styleProps:{gap:de,rowGap:_e,columnGap:fe,align:ye,justify:be,wrap:Pe,direction:Ne},theme:$e,data:s1});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Be.hasResponsiveStyles&&jsxRuntimeExports.jsx(Zr,{selector:`.${Ge}`,styles:Be.styles,media:Be.media}),jsxRuntimeExports.jsx(Z$1,{ref:ee,...De("root",{className:Ge,style:yn(Be.inlineStyles)}),...we})]})});wt.classes=ep,wt.displayName="@mantine/core/Flex";var tp={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const c1={},u1=(ie,{radius:ee,color:te,variant:se,autoContrast:ne})=>{const le=ie.variantColorResolver({color:te||ie.primaryColor,theme:ie,variant:se||"light",autoContrast:ne});return{root:{"--alert-radius":ee===void 0?void 0:tt$1(ee),"--alert-bg":te||se?le.background:void 0,"--alert-color":le.color,"--alert-bd":te||se?le.border:void 0}}},Bs=ae((ie,ee)=>{const te=Q$1("Alert",c1,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,radius:de,color:_e,title:fe,children:ye,id:be,icon:Pe,withCloseButton:Ne,onClose:we,closeButtonLabel:De,variant:$e,autoContrast:Ge,...Be}=te,ze=ve({name:"Alert",classes:tp,props:te,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he,varsResolver:u1}),$t=wn(be),ut=fe&&`${$t}-title`||void 0,Ti=`${$t}-body`;return jsxRuntimeExports.jsx(Z$1,{id:$t,...ze("root",{variant:$e}),variant:$e,ref:ee,...Be,role:"alert","aria-describedby":Ti,"aria-labelledby":ut,children:jsxRuntimeExports.jsxs("div",{...ze("wrapper"),children:[Pe&&jsxRuntimeExports.jsx("div",{...ze("icon"),children:Pe}),jsxRuntimeExports.jsxs("div",{...ze("body"),children:[fe&&jsxRuntimeExports.jsx("div",{...ze("title"),"data-with-close-button":Ne||void 0,children:jsxRuntimeExports.jsx("span",{id:ut,...ze("label"),children:fe})}),ye&&jsxRuntimeExports.jsx("div",{id:Ti,...ze("message"),"data-variant":$e,children:ye})]}),Ne&&jsxRuntimeExports.jsx(io,{...ze("closeButton"),onClick:we,variant:"transparent",size:16,iconSize:16,"aria-label":De,unstyled:ce})]})})});Bs.classes=tp,Bs.displayName="@mantine/core/Alert";var np={root:"m_b6d8b162"};function d1(ie){if(ie==="start")return"start";if(ie==="end"||ie)return"end"}const f1={inherit:!1},p1=(ie,{variant:ee,lineClamp:te,gradient:se,size:ne,color:le})=>({root:{"--text-fz":Xe(ne),"--text-lh":hg(ne),"--text-gradient":ee==="gradient"?Mi(se,ie):void 0,"--text-line-clamp":typeof te=="number"?te.toString():void 0,"--text-color":le?Ze(le,ie):void 0}}),Ce=Lt((ie,ee)=>{const te=Q$1("Text",f1,ie),{lineClamp:se,truncate:ne,inline:le,inherit:ue,gradient:ce,span:he,__staticSelector:de,vars:_e,className:fe,style:ye,classNames:be,styles:Pe,unstyled:Ne,variant:we,mod:De,size:$e,...Ge}=te,Be=ve({name:["Text",de],props:te,classes:np,className:fe,style:ye,classNames:be,styles:Pe,unstyled:Ne,vars:_e,varsResolver:p1});return jsxRuntimeExports.jsx(Z$1,{...Be("root",{focusable:!0}),ref:ee,component:he?"span":"p",variant:we,mod:[{"data-truncate":d1(ne),"data-line-clamp":typeof se=="number","data-inline":le,"data-inherit":ue},De],size:$e,...Ge})});Ce.classes=np,Ce.displayName="@mantine/core/Text";var at={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const h1={error:null},m1=(ie,{size:ee})=>({chevron:{"--combobox-chevron-size":ke(ee,"combobox-chevron-size")}}),zs=ae((ie,ee)=>{const te=Q$1("ComboboxChevron",h1,ie),{size:se,error:ne,style:le,className:ue,classNames:ce,styles:he,unstyled:de,vars:_e,mod:fe,...ye}=te,be=ve({name:"ComboboxChevron",classes:at,props:te,style:le,className:ue,classNames:ce,styles:he,unstyled:de,vars:_e,varsResolver:m1,rootSelector:"chevron"});return jsxRuntimeExports.jsx(Z$1,{component:"svg",...ye,...be("chevron"),size:se,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:ne},fe],ref:ee,children:jsxRuntimeExports.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});zs.classes=at,zs.displayName="@mantine/core/ComboboxChevron";const[g1,it$1]=Xt("Combobox component was not found in tree"),rp=reactExports.forwardRef(({size:ie,onMouseDown:ee,onClick:te,onClear:se,...ne},le)=>jsxRuntimeExports.jsx(io,{ref:le,size:ie||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...ne,onMouseDown:ue=>{ue.preventDefault(),ee==null||ee(ue)},onClick:ue=>{se(),te==null||te(ue)}}));rp.displayName="@mantine/core/ComboboxClearButton";const b1={},qs=ae((ie,ee)=>{const{classNames:te,styles:se,className:ne,style:le,hidden:ue,...ce}=Q$1("ComboboxDropdown",b1,ie),he=it$1();return jsxRuntimeExports.jsx(Ft.Dropdown,{...ce,ref:ee,role:"presentation","data-hidden":ue||void 0,...he.getStyles("dropdown",{className:ne,style:le,classNames:te,styles:se})})});qs.classes=at,qs.displayName="@mantine/core/ComboboxDropdown";const v1={refProp:"ref"},op=ae((ie,ee)=>{const{children:te,refProp:se}=Q$1("ComboboxDropdownTarget",v1,ie);if(it$1(),!Jt(te))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return jsxRuntimeExports.jsx(Ft.Target,{ref:ee,refProp:se,children:te})});op.displayName="@mantine/core/ComboboxDropdownTarget";const y1={},js=ae((ie,ee)=>{const{classNames:te,className:se,style:ne,styles:le,vars:ue,...ce}=Q$1("ComboboxEmpty",y1,ie),he=it$1();return jsxRuntimeExports.jsx(Z$1,{ref:ee,...he.getStyles("empty",{className:se,classNames:te,styles:le,style:ne}),...ce})});js.classes=at,js.displayName="@mantine/core/ComboboxEmpty";function Vs({onKeyDown:ie,withKeyboardNavigation:ee,withAriaAttributes:te,withExpandedAttribute:se,targetType:ne,autoComplete:le}){const ue=it$1(),[ce,he]=reactExports.useState(null),de=_e=>{if(ie==null||ie(_e),!ue.readOnly&&ee){if(_e.nativeEvent.isComposing)return;if(_e.nativeEvent.code==="ArrowDown"&&(_e.preventDefault(),ue.store.dropdownOpened?he(ue.store.selectNextOption()):(ue.store.openDropdown("keyboard"),he(ue.store.selectActiveOption()),ue.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),_e.nativeEvent.code==="ArrowUp"&&(_e.preventDefault(),ue.store.dropdownOpened?he(ue.store.selectPreviousOption()):(ue.store.openDropdown("keyboard"),he(ue.store.selectActiveOption()),ue.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),_e.nativeEvent.code==="Enter"||_e.nativeEvent.code==="NumpadEnter"){if(_e.nativeEvent.keyCode===229)return;const fe=ue.store.getSelectedOptionIndex();ue.store.dropdownOpened&&fe!==-1?(_e.preventDefault(),ue.store.clickSelectedOption()):ne==="button"&&(_e.preventDefault(),ue.store.openDropdown("keyboard"))}_e.nativeEvent.code==="Escape"&&ue.store.closeDropdown("keyboard"),_e.nativeEvent.code==="Space"&&ne==="button"&&(_e.preventDefault(),ue.store.toggleDropdown("keyboard"))}};return{...te?{"aria-haspopup":"listbox","aria-expanded":se&&!!(ue.store.listId&&ue.store.dropdownOpened)||void 0,"aria-controls":ue.store.dropdownOpened?ue.store.listId:void 0,"aria-activedescendant":ue.store.dropdownOpened&&ce||void 0,autoComplete:le,"data-expanded":ue.store.dropdownOpened||void 0,"data-mantine-stop-propagation":ue.store.dropdownOpened||void 0}:{},onKeyDown:de}}const w1={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ap=ae((ie,ee)=>{const{children:te,refProp:se,withKeyboardNavigation:ne,withAriaAttributes:le,withExpandedAttribute:ue,targetType:ce,autoComplete:he,...de}=Q$1("ComboboxEventsTarget",w1,ie);if(!Jt(te))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const _e=it$1(),fe=Vs({targetType:ce,withAriaAttributes:le,withKeyboardNavigation:ne,withExpandedAttribute:ue,onKeyDown:te.props.onKeyDown,autoComplete:he});return reactExports.cloneElement(te,{...fe,...de,[se]:He(ee,_e.store.targetRef,Kr(te))})});ap.displayName="@mantine/core/ComboboxEventsTarget";const _1={},Hs=ae((ie,ee)=>{const{classNames:te,className:se,style:ne,styles:le,vars:ue,...ce}=Q$1("ComboboxFooter",_1,ie),he=it$1();return jsxRuntimeExports.jsx(Z$1,{ref:ee,...he.getStyles("footer",{className:se,classNames:te,style:ne,styles:le}),...ce,onMouseDown:de=>{de.preventDefault()}})});Hs.classes=at,Hs.displayName="@mantine/core/ComboboxFooter";const A1={},Us=ae((ie,ee)=>{const{classNames:te,className:se,style:ne,styles:le,vars:ue,children:ce,label:he,...de}=Q$1("ComboboxGroup",A1,ie),_e=it$1();return jsxRuntimeExports.jsxs(Z$1,{ref:ee,..._e.getStyles("group",{className:se,classNames:te,style:ne,styles:le}),...de,children:[he&&jsxRuntimeExports.jsx("div",{..._e.getStyles("groupLabel",{classNames:te,styles:le}),children:he}),ce]})});Us.classes=at,Us.displayName="@mantine/core/ComboboxGroup";const x1={},Ws=ae((ie,ee)=>{const{classNames:te,className:se,style:ne,styles:le,vars:ue,...ce}=Q$1("ComboboxHeader",x1,ie),he=it$1();return jsxRuntimeExports.jsx(Z$1,{ref:ee,...he.getStyles("header",{className:se,classNames:te,style:ne,styles:le}),...ce,onMouseDown:de=>{de.preventDefault()}})});Ws.classes=at,Ws.displayName="@mantine/core/ComboboxHeader";function ip({value:ie,valuesDivider:ee=",",...te}){return jsxRuntimeExports.jsx("input",{type:"hidden",value:Array.isArray(ie)?ie.join(ee):ie||"",...te})}ip.displayName="@mantine/core/ComboboxHiddenInput";const S1={},Gs=ae((ie,ee)=>{const te=Q$1("ComboboxOption",S1,ie),{classNames:se,className:ne,style:le,styles:ue,vars:ce,onClick:he,id:de,active:_e,onMouseDown:fe,onMouseOver:ye,disabled:be,selected:Pe,mod:Ne,...we}=te,De=it$1(),$e=reactExports.useId(),Ge=de||$e;return jsxRuntimeExports.jsx(Z$1,{...De.getStyles("option",{className:ne,classNames:se,styles:ue,style:le}),...we,ref:ee,id:Ge,mod:["combobox-option",{"combobox-active":_e,"combobox-disabled":be,"combobox-selected":Pe},Ne],role:"option",onClick:Be=>{var ze;be?Be.preventDefault():((ze=De.onOptionSubmit)==null||ze.call(De,te.value,te),he==null||he(Be))},onMouseDown:Be=>{Be.preventDefault(),fe==null||fe(Be)},onMouseOver:Be=>{De.resetSelectionOnOptionHover&&De.store.resetSelectedOption(),ye==null||ye(Be)}})});Gs.classes=at,Gs.displayName="@mantine/core/ComboboxOption";const C1={},Ys=ae((ie,ee)=>{const te=Q$1("ComboboxOptions",C1,ie),{classNames:se,className:ne,style:le,styles:ue,id:ce,onMouseDown:he,labelledBy:de,..._e}=te,fe=it$1(),ye=wn(ce);return reactExports.useEffect(()=>{fe.store.setListId(ye)},[ye]),jsxRuntimeExports.jsx(Z$1,{ref:ee,...fe.getStyles("options",{className:ne,style:le,classNames:se,styles:ue}),..._e,id:ye,role:"listbox","aria-labelledby":de,onMouseDown:be=>{be.preventDefault(),he==null||he(be)}})});Ys.classes=at,Ys.displayName="@mantine/core/ComboboxOptions";const R1={withAriaAttributes:!0,withKeyboardNavigation:!0},Ks=ae((ie,ee)=>{const te=Q$1("ComboboxSearch",R1,ie),{classNames:se,styles:ne,unstyled:le,vars:ue,withAriaAttributes:ce,onKeyDown:he,withKeyboardNavigation:de,size:_e,...fe}=te,ye=it$1(),be=ye.getStyles("search"),Pe=Vs({targetType:"input",withAriaAttributes:ce,withKeyboardNavigation:de,withExpandedAttribute:!1,onKeyDown:he,autoComplete:"off"});return jsxRuntimeExports.jsx(Ve,{ref:He(ee,ye.store.searchRef),classNames:[{input:be.className},se],styles:[{input:be.style},ne],size:_e||ye.size,...Pe,...fe,__staticSelector:"Combobox"})});Ks.classes=at,Ks.displayName="@mantine/core/ComboboxSearch";const T1={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},sp=ae((ie,ee)=>{const{children:te,refProp:se,withKeyboardNavigation:ne,withAriaAttributes:le,withExpandedAttribute:ue,targetType:ce,autoComplete:he,...de}=Q$1("ComboboxTarget",T1,ie);if(!Jt(te))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const _e=it$1(),fe=Vs({targetType:ce,withAriaAttributes:le,withKeyboardNavigation:ne,withExpandedAttribute:ue,onKeyDown:te.props.onKeyDown,autoComplete:he}),ye=reactExports.cloneElement(te,{...fe,...de});return jsxRuntimeExports.jsx(Ft.Target,{ref:He(ee,_e.store.targetRef),children:ye})});sp.displayName="@mantine/core/ComboboxTarget";function I1(ie,ee,te){for(let se=ie-1;se>=0;se-=1)if(!ee[se].hasAttribute("data-combobox-disabled"))return se;if(te){for(let se=ee.length-1;se>-1;se-=1)if(!ee[se].hasAttribute("data-combobox-disabled"))return se}return ie}function O1(ie,ee,te){for(let se=ie+1;se<ee.length;se+=1)if(!ee[se].hasAttribute("data-combobox-disabled"))return se;if(te){for(let se=0;se<ee.length;se+=1)if(!ee[se].hasAttribute("data-combobox-disabled"))return se}return ie}function P1(ie){for(let ee=0;ee<ie.length;ee+=1)if(!ie[ee].hasAttribute("data-combobox-disabled"))return ee;return-1}function Qs({defaultOpened:ie,opened:ee,onOpenedChange:te,onDropdownClose:se,onDropdownOpen:ne,loop:le=!0,scrollBehavior:ue="instant"}={}){const[ce,he]=_n({value:ee,defaultValue:ie,finalValue:!1,onChange:te}),de=reactExports.useRef(null),_e=reactExports.useRef(-1),fe=reactExports.useRef(null),ye=reactExports.useRef(null),be=reactExports.useRef(-1),Pe=reactExports.useRef(-1),Ne=reactExports.useRef(-1),we=reactExports.useCallback((On="unknown")=>{ce||(he(!0),ne==null||ne(On))},[he,ne,ce]),De=reactExports.useCallback((On="unknown")=>{ce&&(he(!1),se==null||se(On))},[he,se,ce]),$e=reactExports.useCallback((On="unknown")=>{ce?De(On):we(On)},[De,we,ce]),Ge=reactExports.useCallback(()=>{const On=document.querySelector(`#${de.current} [data-combobox-selected]`);On==null||On.removeAttribute("data-combobox-selected"),On==null||On.removeAttribute("aria-selected")},[]),Be=reactExports.useCallback(On=>{const nh=document.getElementById(de.current),Hn=nh==null?void 0:nh.querySelectorAll("[data-combobox-option]");if(!Hn)return null;const Xp=On>=Hn.length?0:On<0?Hn.length-1:On;return _e.current=Xp,Hn!=null&&Hn[Xp]&&!Hn[Xp].hasAttribute("data-combobox-disabled")?(Ge(),Hn[Xp].setAttribute("data-combobox-selected","true"),Hn[Xp].setAttribute("aria-selected","true"),Hn[Xp].scrollIntoView({block:"nearest",behavior:ue}),Hn[Xp].id):null},[ue,Ge]),ze=reactExports.useCallback(()=>{const On=document.querySelector(`#${de.current} [data-combobox-active]`);if(On){const nh=document.querySelectorAll(`#${de.current} [data-combobox-option]`),Hn=Array.from(nh).findIndex(Xp=>Xp===On);return Be(Hn)}return Be(0)},[Be]),$t=reactExports.useCallback(()=>Be(O1(_e.current,document.querySelectorAll(`#${de.current} [data-combobox-option]`),le)),[Be,le]),ut=reactExports.useCallback(()=>Be(I1(_e.current,document.querySelectorAll(`#${de.current} [data-combobox-option]`),le)),[Be,le]),Ti=reactExports.useCallback(()=>Be(P1(document.querySelectorAll(`#${de.current} [data-combobox-option]`))),[Be]),Hi=reactExports.useCallback((On="selected",nh)=>{Ne.current=window.setTimeout(()=>{var Hn;const Xp=document.querySelectorAll(`#${de.current} [data-combobox-option]`),Jp=Array.from(Xp).findIndex(md=>md.hasAttribute(`data-combobox-${On}`));_e.current=Jp,nh!=null&&nh.scrollIntoView&&((Hn=Xp[Jp])==null||Hn.scrollIntoView({block:"nearest",behavior:ue}))},0)},[]),bn=reactExports.useCallback(()=>{_e.current=-1,Ge()},[Ge]),gd=reactExports.useCallback(()=>{const On=document.querySelectorAll(`#${de.current} [data-combobox-option]`),nh=On==null?void 0:On[_e.current];nh==null||nh.click()},[]),Pm=reactExports.useCallback(On=>{de.current=On},[]),oE=reactExports.useCallback(()=>{be.current=window.setTimeout(()=>fe.current.focus(),0)},[]),aE=reactExports.useCallback(()=>{Pe.current=window.setTimeout(()=>ye.current.focus(),0)},[]),nE=reactExports.useCallback(()=>_e.current,[]);return reactExports.useEffect(()=>()=>{window.clearTimeout(be.current),window.clearTimeout(Pe.current),window.clearTimeout(Ne.current)},[]),{dropdownOpened:ce,openDropdown:we,closeDropdown:De,toggleDropdown:$e,selectedOptionIndex:_e.current,getSelectedOptionIndex:nE,selectOption:Be,selectFirstOption:Ti,selectActiveOption:ze,selectNextOption:$t,selectPreviousOption:ut,resetSelectedOption:bn,updateSelectedOptionIndex:Hi,listId:de.current,setListId:Pm,clickSelectedOption:gd,searchRef:fe,focusSearchInput:oE,targetRef:ye,focusTarget:aE}}const N1={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},k1=(ie,{size:ee,dropdownPadding:te})=>({options:{"--combobox-option-fz":Xe(ee),"--combobox-option-padding":ke(ee,"combobox-option-padding")},dropdown:{"--combobox-padding":te===void 0?void 0:V$2(te),"--combobox-option-fz":Xe(ee),"--combobox-option-padding":ke(ee,"combobox-option-padding")}});function xe(ie){const ee=Q$1("Combobox",N1,ie),{classNames:te,styles:se,unstyled:ne,children:le,store:ue,vars:ce,onOptionSubmit:he,onClose:de,size:_e,dropdownPadding:fe,resetSelectionOnOptionHover:ye,__staticSelector:be,readOnly:Pe,...Ne}=ee,we=Qs(),De=ue||we,$e=ve({name:be||"Combobox",classes:at,props:ee,classNames:te,styles:se,unstyled:ne,vars:ce,varsResolver:k1}),Ge=()=>{de==null||de(),De.closeDropdown()};return jsxRuntimeExports.jsx(g1,{value:{getStyles:$e,store:De,onOptionSubmit:he,size:_e,resetSelectionOnOptionHover:ye,readOnly:Pe},children:jsxRuntimeExports.jsx(Ft,{opened:De.dropdownOpened,...Ne,onChange:Be=>!Be&&Ge(),withRoles:!1,unstyled:ne,children:le})})}const E1=ie=>ie;xe.extend=E1,xe.classes=at,xe.displayName="@mantine/core/Combobox",xe.Target=sp,xe.Dropdown=qs,xe.Options=Ys,xe.Option=Gs,xe.Search=Ks,xe.Empty=js,xe.Chevron=zs,xe.Footer=Hs,xe.Header=Ws,xe.EventsTarget=ap,xe.DropdownTarget=op,xe.Group=Us,xe.ClearButton=rp,xe.HiddenInput=ip;var lp={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const M1=lp,cp=reactExports.forwardRef(({__staticSelector:ie,__stylesApiProps:ee,className:te,classNames:se,styles:ne,unstyled:le,children:ue,label:ce,description:he,id:de,disabled:_e,error:fe,size:ye,labelPosition:be="left",bodyElement:Pe="div",labelElement:Ne="label",variant:we,style:De,vars:$e,mod:Ge,...Be},ze)=>{const $t=ve({name:ie,props:ee,className:te,style:De,classes:lp,classNames:se,styles:ne,unstyled:le});return jsxRuntimeExports.jsx(Z$1,{...$t("root"),ref:ze,__vars:{"--label-fz":Xe(ye),"--label-lh":ke(ye,"label-lh")},mod:[{"label-position":be},Ge],variant:we,size:ye,...Be,children:jsxRuntimeExports.jsxs(Z$1,{component:Pe,htmlFor:Pe==="label"?de:void 0,...$t("body"),children:[ue,jsxRuntimeExports.jsxs("div",{...$t("labelWrapper"),"data-disabled":_e||void 0,children:[ce&&jsxRuntimeExports.jsx(Z$1,{component:Ne,htmlFor:Ne==="label"?de:void 0,...$t("label"),"data-disabled":_e||void 0,children:ce}),he&&jsxRuntimeExports.jsx(Ve.Description,{size:ye,__inheritStyles:!1,...$t("description"),children:he}),fe&&typeof fe!="boolean"&&jsxRuntimeExports.jsx(Ve.Error,{size:ye,__inheritStyles:!1,...$t("error"),children:fe})]})]})})});cp.displayName="@mantine/core/InlineInput";function $1({children:ie,role:ee}){const te=ar();return te?jsxRuntimeExports.jsx("div",{role:ee,"aria-labelledby":te.labelId,"aria-describedby":te.describedBy,children:ie}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ie})}var up={root:"m_4451eb3a"};const D1={},gt=Lt((ie,ee)=>{const te=Q$1("Center",D1,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,inline:de,mod:_e,...fe}=te,ye=ve({name:"Center",props:te,classes:up,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he});return jsxRuntimeExports.jsx(Z$1,{ref:ee,mod:[{inline:de},_e],...ye("root"),...fe})});gt.classes=up,gt.displayName="@mantine/core/Center";var dp={root:"m_3eebeb36",label:"m_9e365f20"};const L1={orientation:"horizontal"},F1=(ie,{color:ee,variant:te,size:se})=>({root:{"--divider-color":ee?Ze(ee,ie):void 0,"--divider-border-style":te,"--divider-size":ke(se,"divider-size")}}),Zs=ae((ie,ee)=>{const te=Q$1("Divider",L1,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,color:de,orientation:_e,label:fe,labelPosition:ye,mod:be,...Pe}=te,Ne=ve({name:"Divider",classes:dp,props:te,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he,varsResolver:F1});return jsxRuntimeExports.jsx(Z$1,{ref:ee,mod:[{orientation:_e,"with-label":!!fe},be],...Ne("root"),...Pe,role:"separator",children:fe&&jsxRuntimeExports.jsx(Z$1,{component:"span",mod:{position:ye},...Ne("label"),children:fe})})});Zs.classes=dp,Zs.displayName="@mantine/core/Divider";function Wi(){return Wi=Object.assign?Object.assign.bind():function(ie){for(var ee=1;ee<arguments.length;ee++){var te=arguments[ee];for(var se in te)({}).hasOwnProperty.call(te,se)&&(ie[se]=te[se])}return ie},Wi.apply(null,arguments)}function B1(ie,ee){if(ie==null)return{};var te={};for(var se in ie)if({}.hasOwnProperty.call(ie,se)){if(ee.includes(se))continue;te[se]=ie[se]}return te}var z1=reactExports.useLayoutEffect,q1=function(ie){var ee=React.useRef(ie);return z1(function(){ee.current=ie}),ee},Mu=function(ie,ee){if(typeof ie=="function"){ie(ee);return}ie.current=ee},j1=function(ie,ee){var te=React.useRef();return React.useCallback(function(se){ie.current=se,te.current&&Mu(te.current,null),te.current=ee,ee&&Mu(ee,se)},[ee])},$u={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},V1=function(ie){Object.keys($u).forEach(function(ee){ie.style.setProperty(ee,$u[ee],"important")})},Du=V1,Ue=null,Lu=function(ie,ee){var te=ie.scrollHeight;return ee.sizingStyle.boxSizing==="border-box"?te+ee.borderSize:te-ee.paddingSize};function H1(ie,ee,te,se){te===void 0&&(te=1),se===void 0&&(se=1/0),Ue||(Ue=document.createElement("textarea"),Ue.setAttribute("tabindex","-1"),Ue.setAttribute("aria-hidden","true"),Du(Ue)),Ue.parentNode===null&&document.body.appendChild(Ue);var ne=ie.paddingSize,le=ie.borderSize,ue=ie.sizingStyle,ce=ue.boxSizing;Object.keys(ue).forEach(function(ye){var be=ye;Ue.style[be]=ue[be]}),Du(Ue),Ue.value=ee;var he=Lu(Ue,ie);Ue.value=ee,he=Lu(Ue,ie),Ue.value="x";var de=Ue.scrollHeight-ne,_e=de*te;ce==="border-box"&&(_e=_e+ne+le),he=Math.max(_e,he);var fe=de*se;return ce==="border-box"&&(fe=fe+ne+le),he=Math.min(fe,he),[he,de]}var Fu=function(){},U1=function(ie,ee){return ie.reduce(function(te,se){return te[se]=ee[se],te},{})},W1=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],G1=!!document.documentElement.currentStyle,Y1=function(ie){var ee=window.getComputedStyle(ie);if(ee===null)return null;var te=U1(W1,ee),se=te.boxSizing;if(se==="")return null;G1&&se==="border-box"&&(te.width=parseFloat(te.width)+parseFloat(te.borderRightWidth)+parseFloat(te.borderLeftWidth)+parseFloat(te.paddingRight)+parseFloat(te.paddingLeft)+"px");var ne=parseFloat(te.paddingBottom)+parseFloat(te.paddingTop),le=parseFloat(te.borderBottomWidth)+parseFloat(te.borderTopWidth);return{sizingStyle:te,paddingSize:ne,borderSize:le}},K1=Y1;function fp(ie,ee,te){var se=q1(te);reactExports.useLayoutEffect(function(){var ne=function(le){return se.current(le)};if(ie)return ie.addEventListener(ee,ne),function(){return ie.removeEventListener(ee,ne)}},[])}var Q1=function(ie){fp(window,"resize",ie)},Z1=function(ie){fp(document.fonts,"loadingdone",ie)},J1=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],X1=function(ie,ee){var te=ie.cacheMeasurements,se=ie.maxRows,ne=ie.minRows,le=ie.onChange,ue=le===void 0?Fu:le,ce=ie.onHeightChange,he=ce===void 0?Fu:ce,de=B1(ie,J1),_e=de.value!==void 0,fe=reactExports.useRef(null),ye=j1(fe,ee),be=reactExports.useRef(0),Pe=reactExports.useRef(),Ne=function(){var De=fe.current,$e=te&&Pe.current?Pe.current:K1(De);if($e){Pe.current=$e;var Ge=H1($e,De.value||De.placeholder||"x",ne,se),Be=Ge[0],ze=Ge[1];be.current!==Be&&(be.current=Be,De.style.setProperty("height",Be+"px","important"),he(Be,{rowHeight:ze}))}},we=function(De){_e||Ne(),ue(De)};return reactExports.useLayoutEffect(Ne),Q1(Ne),Z1(Ne),reactExports.createElement("textarea",Wi({},de,{onChange:we,ref:ye}))},ew=reactExports.forwardRef(X1);const tw={},Js=ae((ie,ee)=>{const{autosize:te,maxRows:se,minRows:ne,__staticSelector:le,resize:ue,...ce}=Q$1("Textarea",tw,ie),he=te&&$g()!=="test";return jsxRuntimeExports.jsx(Bt,{component:he?ew:"textarea",ref:ee,...ce,__staticSelector:le||"Textarea",multiline:!0,"data-no-overflow":te&&se===void 0||void 0,__vars:{"--input-resize":ue},...he?{maxRows:se,minRows:ne}:{}})});Js.classes=Bt.classes,Js.displayName="@mantine/core/Textarea";function pp(ie,ee){var te={};for(var se in ie)Object.prototype.hasOwnProperty.call(ie,se)&&ee.indexOf(se)<0&&(te[se]=ie[se]);if(ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,se=Object.getOwnPropertySymbols(ie);ne<se.length;ne++)ee.indexOf(se[ne])<0&&Object.prototype.propertyIsEnumerable.call(ie,se[ne])&&(te[se[ne]]=ie[se[ne]]);return te}var Kn;(function(ie){ie.event="event",ie.props="prop"})(Kn||(Kn={}));function Nt(){}function nw(ie){var ee,te=void 0;return function(){for(var se=[],ne=arguments.length;ne--;)se[ne]=arguments[ne];return ee&&se.length===ee.length&&se.every(function(le,ue){return le===ee[ue]})||(ee=se,te=ie.apply(void 0,se)),te}}function Qn(ie){return!!(ie||"").match(/\d/)}function un(ie){return ie==null}function rw(ie){return typeof ie=="number"&&isNaN(ie)}function hp(ie){return un(ie)||rw(ie)||typeof ie=="number"&&!isFinite(ie)}function mp(ie){return ie.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function ow(ie){switch(ie){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function aw(ie,ee,te){var se=ow(te),ne=ie.search(/[1-9]/);return ne=ne===-1?ie.length:ne,ie.substring(0,ne)+ie.substring(ne,ie.length).replace(se,"$1"+ee)}function iw(ie){var ee=reactExports.useRef(ie);ee.current=ie;var te=reactExports.useRef(function(){for(var se=[],ne=arguments.length;ne--;)se[ne]=arguments[ne];return ee.current.apply(ee,se)});return te.current}function Xs(ie,ee){ee===void 0&&(ee=!0);var te=ie[0]==="-",se=te&&ee;ie=ie.replace("-","");var ne=ie.split("."),le=ne[0],ue=ne[1]||"";return{beforeDecimal:le,afterDecimal:ue,hasNegation:te,addNegation:se}}function sw(ie){if(!ie)return ie;var ee=ie[0]==="-";ee&&(ie=ie.substring(1,ie.length));var te=ie.split("."),se=te[0].replace(/^0+/,"")||"0",ne=te[1]||"";return(ee?"-":"")+se+(ne?"."+ne:"")}function gp(ie,ee,te){for(var se="",ne=te?"0":"",le=0;le<=ee-1;le++)se+=ie[le]||ne;return se}function Bu(ie,ee){return Array(ee+1).join(ie)}function bp(ie){var ee=ie+"",te=ee[0]==="-"?"-":"";te&&(ee=ee.substring(1));var se=ee.split(/[eE]/g),ne=se[0],le=se[1];if(le=Number(le),!le)return te+ne;ne=ne.replace(".","");var ue=1+le,ce=ne.length;return ue<0?ne="0."+Bu("0",Math.abs(ue))+ne:ue>=ce?ne=ne+Bu("0",ue-ce):ne=(ne.substring(0,ue)||"0")+"."+ne.substring(ue),te+ne}function zu(ie,ee,te){if(["","-"].indexOf(ie)!==-1)return ie;var se=(ie.indexOf(".")!==-1||te)&&ee,ne=Xs(ie),le=ne.beforeDecimal,ue=ne.afterDecimal,ce=ne.hasNegation,he=parseFloat("0."+(ue||"0")),de=ue.length<=ee?"0."+ue:he.toFixed(ee),_e=de.split("."),fe=le;le&&Number(_e[0])&&(fe=le.split("").reverse().reduce(function(Ne,we,De){return Ne.length>De?(Number(Ne[0])+Number(we)).toString()+Ne.substring(1,Ne.length):we+Ne},_e[0]));var ye=gp(_e[1]||"",ee,te),be=ce?"-":"",Pe=se?".":"";return""+be+fe+Pe+ye}function Ht(ie,ee){if(ie.value=ie.value,ie!==null){if(ie.createTextRange){var te=ie.createTextRange();return te.move("character",ee),te.select(),!0}return ie.selectionStart||ie.selectionStart===0?(ie.focus(),ie.setSelectionRange(ee,ee),!0):(ie.focus(),!1)}}var vp=nw(function(ie,ee){for(var te=0,se=0,ne=ie.length,le=ee.length;ie[te]===ee[te]&&te<ne;)te++;for(;ie[ne-1-se]===ee[le-1-se]&&le-se>te&&ne-se>te;)se++;return{from:{start:te,end:ne-se},to:{start:te,end:le-se}}}),lw=function(ie,ee){var te=Math.min(ie.selectionStart,ee);return{from:{start:te,end:ie.selectionEnd},to:{start:te,end:ee}}};function cw(ie,ee,te){return Math.min(Math.max(ie,ee),te)}function bi(ie){return Math.max(ie.selectionStart,ie.selectionEnd)}function uw(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function dw(ie){return{from:{start:0,end:0},to:{start:0,end:ie.length},lastValue:""}}function fw(ie){var ee=ie.currentValue,te=ie.formattedValue,se=ie.currentValueIndex,ne=ie.formattedValueIndex;return ee[se]===te[ne]}function pw(ie,ee,te,se,ne,le,ue){ue===void 0&&(ue=fw);var ce=ne.findIndex(function(Be){return Be}),he=ie.slice(0,ce);!ee&&!te.startsWith(he)&&(ee=he,te=he+te,se=se+he.length);for(var de=te.length,_e=ie.length,fe={},ye=new Array(de),be=0;be<de;be++){ye[be]=-1;for(var Pe=0,Ne=_e;Pe<Ne;Pe++){var we=ue({currentValue:te,lastValue:ee,formattedValue:ie,currentValueIndex:be,formattedValueIndex:Pe});if(we&&fe[Pe]!==!0){ye[be]=Pe,fe[Pe]=!0;break}}}for(var De=se;De<de&&(ye[De]===-1||!le(te[De]));)De++;var $e=De===de||ye[De]===-1?_e:ye[De];for(De=se-1;De>0&&ye[De]===-1;)De--;var Ge=De===-1||ye[De]===-1?0:ye[De]+1;return Ge>$e?$e:se-Ge<$e-se?Ge:$e}function qu(ie,ee,te,se){var ne=ie.length;if(ee=cw(ee,0,ne),se==="left"){for(;ee>=0&&!te[ee];)ee--;ee===-1&&(ee=te.indexOf(!0))}else{for(;ee<=ne&&!te[ee];)ee++;ee>ne&&(ee=te.lastIndexOf(!0))}return ee===-1&&(ee=ne),ee}function hw(ie){for(var ee=Array.from({length:ie.length+1}).map(function(){return!0}),te=0,se=ee.length;te<se;te++)ee[te]=!!(Qn(ie[te])||Qn(ie[te-1]));return ee}function yp(ie,ee,te,se,ne,le){le===void 0&&(le=Nt);var ue=iw(function(Pe,Ne){var we,De;return hp(Pe)?(De="",we=""):typeof Pe=="number"||Ne?(De=typeof Pe=="number"?bp(Pe):Pe,we=se(De)):(De=ne(Pe,void 0),we=se(De)),{formattedValue:we,numAsString:De}}),ce=reactExports.useState(function(){return ue(un(ie)?ee:ie,te)}),he=ce[0],de=ce[1],_e=function(Pe,Ne){Pe.formattedValue!==he.formattedValue&&de({formattedValue:Pe.formattedValue,numAsString:Pe.value}),le(Pe,Ne)},fe=ie,ye=te;un(ie)&&(fe=he.numAsString,ye=!0);var be=ue(fe,ye);return reactExports.useMemo(function(){de(be)},[be.formattedValue]),[he,_e]}function mw(ie){return ie.replace(/[^0-9]/g,"")}function gw(ie){return ie}function bw(ie){var ee=ie.type;ee===void 0&&(ee="text");var te=ie.displayType;te===void 0&&(te="input");var se=ie.customInput,ne=ie.renderText,le=ie.getInputRef,ue=ie.format;ue===void 0&&(ue=gw);var ce=ie.removeFormatting;ce===void 0&&(ce=mw);var he=ie.defaultValue,de=ie.valueIsNumericString,_e=ie.onValueChange,fe=ie.isAllowed,ye=ie.onChange;ye===void 0&&(ye=Nt);var be=ie.onKeyDown;be===void 0&&(be=Nt);var Pe=ie.onMouseUp;Pe===void 0&&(Pe=Nt);var Ne=ie.onFocus;Ne===void 0&&(Ne=Nt);var we=ie.onBlur;we===void 0&&(we=Nt);var De=ie.value,$e=ie.getCaretBoundary;$e===void 0&&($e=hw);var Ge=ie.isValidInputCharacter;Ge===void 0&&(Ge=Qn);var Be=ie.isCharacterSame,ze=pp(ie,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),$t=yp(De,he,!!de,ue,ce,_e),ut=$t[0],Ti=ut.formattedValue,Hi=ut.numAsString,bn=$t[1],gd=reactExports.useRef(),Pm=reactExports.useRef({formattedValue:Ti,numAsString:Hi}),oE=function(TE,xE){Pm.current={formattedValue:TE.formattedValue,numAsString:TE.value},bn(TE,xE)},aE=reactExports.useState(!1),nE=aE[0],On=aE[1],nh=reactExports.useRef(null),Hn=reactExports.useRef({setCaretTimeout:null,focusTimeout:null});reactExports.useEffect(function(){return On(!0),function(){clearTimeout(Hn.current.setCaretTimeout),clearTimeout(Hn.current.focusTimeout)}},[]);var Xp=ue,Jp=function(TE,xE){var BE=parseFloat(xE);return{formattedValue:TE,value:xE,floatValue:isNaN(BE)?void 0:BE}},md=function(TE,xE,BE){TE.selectionStart===0&&TE.selectionEnd===TE.value.length||(Ht(TE,xE),Hn.current.setCaretTimeout=setTimeout(function(){TE.value===BE&&TE.selectionStart!==xE&&Ht(TE,xE)},0))},eE=function(TE,xE,BE){return qu(TE,xE,$e(TE),BE)},hE=function(TE,xE,BE){var eR=$e(xE),sR=pw(xE,Ti,TE,BE,eR,Ge,Be);return sR=qu(xE,sR,eR),sR},mE=function(TE){var xE=TE.formattedValue;xE===void 0&&(xE="");var BE=TE.input,eR=TE.source,sR=TE.event,ZE=TE.numAsString,vE;if(BE){var XE=TE.inputValue||BE.value,pR=bi(BE);BE.value=xE,vE=hE(XE,xE,pR),vE!==void 0&&md(BE,vE,xE)}xE!==Ti&&oE(Jp(xE,ZE),{event:sR,source:eR})};reactExports.useEffect(function(){var TE=Pm.current,xE=TE.formattedValue,BE=TE.numAsString;(Ti!==xE||Hi!==BE)&&oE(Jp(Ti,Hi),{event:void 0,source:Kn.props})},[Ti,Hi]);var fE=nh.current?bi(nh.current):void 0,yE=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;yE(function(){var TE=nh.current;if(Ti!==Pm.current.formattedValue&&TE){var xE=hE(Pm.current.formattedValue,Ti,fE);TE.value=Ti,md(TE,xE,Ti)}},[Ti]);var AE=function(TE,xE,BE){var eR=xE.target,sR=gd.current?lw(gd.current,eR.selectionEnd):vp(Ti,TE),ZE=Object.assign(Object.assign({},sR),{lastValue:Ti}),vE=ce(TE,ZE),XE=Xp(vE);if(vE=ce(XE,void 0),fe&&!fe(Jp(XE,vE))){var pR=xE.target,CR=bi(pR),MR=hE(TE,Ti,CR);return pR.value=Ti,md(pR,MR,Ti),!1}return mE({formattedValue:XE,numAsString:vE,inputValue:TE,event:xE,source:BE,input:xE.target}),!0},bE=function(TE,xE){xE===void 0&&(xE=0);var BE=TE.selectionStart,eR=TE.selectionEnd;gd.current={selectionStart:BE,selectionEnd:eR+xE}},ME=function(TE){var xE=TE.target,BE=xE.value,eR=AE(BE,TE,Kn.event);eR&&ye(TE),gd.current=void 0},SE=function(TE){var xE=TE.target,BE=TE.key,eR=xE.selectionStart,sR=xE.selectionEnd,ZE=xE.value;ZE===void 0&&(ZE="");var vE;BE==="ArrowLeft"||BE==="Backspace"?vE=Math.max(eR-1,0):BE==="ArrowRight"?vE=Math.min(eR+1,ZE.length):BE==="Delete"&&(vE=eR);var XE=0;BE==="Delete"&&eR===sR&&(XE=1);var pR=BE==="ArrowLeft"||BE==="ArrowRight";if(vE===void 0||eR!==sR&&!pR){be(TE),bE(xE,XE);return}var CR=vE;if(pR){var MR=BE==="ArrowLeft"?"left":"right";CR=eE(ZE,vE,MR),CR!==vE&&TE.preventDefault()}else BE==="Delete"&&!Ge(ZE[vE])?CR=eE(ZE,vE,"right"):BE==="Backspace"&&!Ge(ZE[vE])&&(CR=eE(ZE,vE,"left"));CR!==vE&&md(xE,CR,ZE),be(TE),bE(xE,XE)},jE=function(TE){var xE=TE.target,BE=function(){var eR=xE.selectionStart,sR=xE.selectionEnd,ZE=xE.value;if(ZE===void 0&&(ZE=""),eR===sR){var vE=eE(ZE,eR);vE!==eR&&md(xE,vE,ZE)}};BE(),requestAnimationFrame(function(){BE()}),Pe(TE),bE(xE)},$E=function(TE){TE.persist&&TE.persist();var xE=TE.target,BE=TE.currentTarget;nh.current=xE,Hn.current.focusTimeout=setTimeout(function(){var eR=xE.selectionStart,sR=xE.selectionEnd,ZE=xE.value;ZE===void 0&&(ZE="");var vE=eE(ZE,eR);vE!==eR&&!(eR===0&&sR===ZE.length)&&md(xE,vE,ZE),Ne(Object.assign(Object.assign({},TE),{currentTarget:BE}))},0)},zE=function(TE){nh.current=null,clearTimeout(Hn.current.focusTimeout),clearTimeout(Hn.current.setCaretTimeout),we(TE)},YE=nE&&uw()?"numeric":void 0,HE=Object.assign({inputMode:YE},ze,{type:ee,value:Ti,onChange:ME,onKeyDown:SE,onMouseUp:jE,onFocus:$E,onBlur:zE});if(te==="text")return ne?React.createElement(React.Fragment,null,ne(Ti,ze)||null):React.createElement("span",Object.assign({},ze,{ref:le}),Ti);if(se){var VE=se;return React.createElement(VE,Object.assign({},HE,{ref:le}))}return React.createElement("input",Object.assign({},HE,{ref:le}))}function ju(ie,ee){var te=ee.decimalScale,se=ee.fixedDecimalScale,ne=ee.prefix;ne===void 0&&(ne="");var le=ee.suffix;le===void 0&&(le="");var ue=ee.allowNegative,ce=ee.thousandsGroupStyle;if(ce===void 0&&(ce="thousand"),ie===""||ie==="-")return ie;var he=uo(ee),de=he.thousandSeparator,_e=he.decimalSeparator,fe=te!==0&&ie.indexOf(".")!==-1||te&&se,ye=Xs(ie,ue),be=ye.beforeDecimal,Pe=ye.afterDecimal,Ne=ye.addNegation;return te!==void 0&&(Pe=gp(Pe,te,!!se)),de&&(be=aw(be,de,ce)),ne&&(be=ne+be),le&&(Pe=Pe+le),Ne&&(be="-"+be),ie=be+(fe&&_e||"")+Pe,ie}function uo(ie){var ee=ie.decimalSeparator;ee===void 0&&(ee=".");var te=ie.thousandSeparator,se=ie.allowedDecimalSeparators;return te===!0&&(te=","),se||(se=[ee,"."]),{decimalSeparator:ee,thousandSeparator:te,allowedDecimalSeparators:se}}function vw(ie,ee){ie===void 0&&(ie="");var te=new RegExp("(-)"),se=new RegExp("(-)(.)*(-)"),ne=te.test(ie),le=se.test(ie);return ie=ie.replace(/-/g,""),ne&&!le&&ee&&(ie="-"+ie),ie}function yw(ie,ee){return new RegExp("(^-)|[0-9]|"+mp(ie),"g")}function ww(ie,ee,te){return ie===""?!0:!(ee!=null&&ee.match(/\d/))&&!(te!=null&&te.match(/\d/))&&typeof ie=="string"&&!isNaN(Number(ie))}function _w(ie,ee,te){var se;ee===void 0&&(ee=dw(ie));var ne=te.allowNegative,le=te.prefix;le===void 0&&(le="");var ue=te.suffix;ue===void 0&&(ue="");var ce=te.decimalScale,he=ee.from,de=ee.to,_e=de.start,fe=de.end,ye=uo(te),be=ye.allowedDecimalSeparators,Pe=ye.decimalSeparator,Ne=ie[fe]===Pe;if(Qn(ie)&&(ie===le||ie===ue)&&ee.lastValue==="")return ie;if(fe-_e===1&&be.indexOf(ie[_e])!==-1){var we=ce===0?"":Pe;ie=ie.substring(0,_e)+we+ie.substring(_e+1,ie.length)}var De=function(nh,Hn,Xp){var Jp=!1,md=!1;le.startsWith("-")?Jp=!1:nh.startsWith("--")?(Jp=!1,md=!0):ue.startsWith("-")&&nh.length===ue.length?Jp=!1:nh[0]==="-"&&(Jp=!0);var eE=Jp?1:0;return md&&(eE=2),eE&&(nh=nh.substring(eE),Hn-=eE,Xp-=eE),{value:nh,start:Hn,end:Xp,hasNegation:Jp}},$e=De(ie,_e,fe),Ge=$e.hasNegation;se=$e,ie=se.value,_e=se.start,fe=se.end;var Be=De(ee.lastValue,he.start,he.end),ze=Be.start,$t=Be.end,ut=Be.value,Ti=ie.substring(_e,fe);ie.length&&ut.length&&(ze>ut.length-ue.length||$t<le.length)&&!(Ti&&ue.startsWith(Ti))&&(ie=ut);var Hi=0;ie.startsWith(le)?Hi+=le.length:_e<le.length&&(Hi=_e),ie=ie.substring(Hi),fe-=Hi;var bn=ie.length,gd=ie.length-ue.length;ie.endsWith(ue)?bn=gd:(fe>gd||fe>ie.length-ue.length)&&(bn=fe),ie=ie.substring(0,bn),ie=vw(Ge?"-"+ie:ie,ne),ie=(ie.match(yw(Pe))||[]).join("");var Pm=ie.indexOf(Pe);ie=ie.replace(new RegExp(mp(Pe),"g"),function(nh,Hn){return Hn===Pm?".":""});var oE=Xs(ie,ne),aE=oE.beforeDecimal,nE=oE.afterDecimal,On=oE.addNegation;return de.end-de.start<he.end-he.start&&aE===""&&Ne&&!parseFloat(nE)&&(ie=On?"-":""),ie}function Aw(ie,ee){var te=ee.prefix;te===void 0&&(te="");var se=ee.suffix;se===void 0&&(se="");var ne=Array.from({length:ie.length+1}).map(function(){return!0}),le=ie[0]==="-";ne.fill(!1,0,te.length+(le?1:0));var ue=ie.length;return ne.fill(!1,ue-se.length+1,ue+1),ne}function xw(ie){var ee=uo(ie),te=ee.thousandSeparator,se=ee.decimalSeparator,ne=ie.prefix;ne===void 0&&(ne="");var le=ie.allowNegative;if(le===void 0&&(le=!0),te===se)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+te+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+se+` (default value for decimalSeparator is .)
     `);return ne.startsWith("-")&&le&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+ne+`
      allowNegative: `+le+`
    `),le=!1),Object.assign(Object.assign({},ie),{allowNegative:le})}function Sw(ie){ie=xw(ie),ie.decimalSeparator,ie.allowedDecimalSeparators,ie.thousandsGroupStyle;var ee=ie.suffix,te=ie.allowNegative,se=ie.allowLeadingZeros,ne=ie.onKeyDown;ne===void 0&&(ne=Nt);var le=ie.onBlur;le===void 0&&(le=Nt);var ue=ie.thousandSeparator,ce=ie.decimalScale,he=ie.fixedDecimalScale,de=ie.prefix;de===void 0&&(de="");var _e=ie.defaultValue,fe=ie.value,ye=ie.valueIsNumericString,be=ie.onValueChange,Pe=pp(ie,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),Ne=uo(ie),we=Ne.decimalSeparator,De=Ne.allowedDecimalSeparators,$e=function(On){return ju(On,ie)},Ge=function(On,nh){return _w(On,nh,ie)},Be=un(fe)?_e:fe,ze=ye??ww(Be,de,ee);un(fe)?un(_e)||(ze=ze||typeof _e=="number"):ze=ze||typeof fe=="number";var $t=function(On){return hp(On)?On:(typeof On=="number"&&(On=bp(On)),ze&&typeof ce=="number"?zu(On,ce,!!he):On)},ut=yp($t(fe),$t(_e),!!ze,$e,Ge,be),Ti=ut[0],Hi=Ti.numAsString,bn=Ti.formattedValue,gd=ut[1],Pm=function(On){var nh=On.target,Hn=On.key,Xp=nh.selectionStart,Jp=nh.selectionEnd,md=nh.value;if(md===void 0&&(md=""),(Hn==="Backspace"||Hn==="Delete")&&Jp<de.length){On.preventDefault();return}if(Xp!==Jp){ne(On);return}Hn==="Backspace"&&md[0]==="-"&&Xp===de.length+1&&te&&Ht(nh,1),ce&&he&&(Hn==="Backspace"&&md[Xp-1]===we?(Ht(nh,Xp-1),On.preventDefault()):Hn==="Delete"&&md[Xp]===we&&On.preventDefault()),De!=null&&De.includes(Hn)&&md[Xp]===we&&Ht(nh,Xp+1);var eE=ue===!0?",":ue;Hn==="Backspace"&&md[Xp-1]===eE&&Ht(nh,Xp-1),Hn==="Delete"&&md[Xp]===eE&&Ht(nh,Xp+1),ne(On)},oE=function(On){var nh=Hi;if(nh.match(/\d/g)||(nh=""),se||(nh=sw(nh)),he&&ce&&(nh=zu(nh,ce,he)),nh!==Hi){var Hn=ju(nh,ie);gd({formattedValue:Hn,value:nh,floatValue:parseFloat(nh)},{event:On,source:Kn.event})}le(On)},aE=function(On){return On===we?!0:Qn(On)},nE=function(On){var nh=On.currentValue,Hn=On.lastValue,Xp=On.formattedValue,Jp=On.currentValueIndex,md=On.formattedValueIndex,eE=nh[Jp],hE=Xp[md],mE=vp(Hn,nh),fE=mE.to,yE=function(AE){return Ge(AE).indexOf(".")+de.length};return fe===0&&he&&ce&&nh[fE.start]===we&&yE(nh)<Jp&&yE(Xp)>md?!1:Jp>=fE.start&&Jp<fE.end&&De&&De.includes(eE)&&hE===we?!0:eE===hE};return Object.assign(Object.assign({},Pe),{value:bn,valueIsNumericString:!1,isValidInputCharacter:aE,isCharacterSame:nE,onValueChange:gd,format:$e,removeFormatting:Ge,getCaretBoundary:function(On){return Aw(On,ie)},onKeyDown:Pm,onBlur:oE})}function Cw(ie){var ee=Sw(ie);return React.createElement(bw,Object.assign({},ee))}function Vu({direction:ie,style:ee,...te}){return jsxRuntimeExports.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:ie==="up"?"rotate(180deg)":void 0,...ee},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...te,children:jsxRuntimeExports.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var Gi={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const Rw=/^(0\.0*|-0(\.0*)?)$/,Tw=/^-?0\d+(\.\d+)?\.?$/;function Yi(ie){return typeof ie=="string"&&ie!==""&&!Number.isNaN(Number(ie))}function vi(ie){return typeof ie=="number"?ie<Number.MAX_SAFE_INTEGER:ie===""||Yi(ie)&&Number(ie)<Number.MAX_SAFE_INTEGER}function Iw(ie){return ie.toString().replace(".","").length}function Ow(ie,ee){return(typeof ie=="number"?ie<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(ie)))&&!Number.isNaN(ie)&&Iw(ee)<14&&ee!==""}function Hu(ie,ee,te){if(ie===void 0)return!0;const se=ee===void 0||ie>=ee,ne=te===void 0||ie<=te;return se&&ne}const Pw={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},Nw=(ie,{size:ee})=>({controls:{"--ni-chevron-size":ke(ee,"ni-chevron-size")}}),ir=ae((ie,ee)=>{const te=Q$1("NumberInput",Pw,ie),{className:se,classNames:ne,styles:le,unstyled:ue,vars:ce,onChange:he,onValueChange:de,value:_e,defaultValue:fe,max:ye,min:be,step:Pe,hideControls:Ne,rightSection:we,isAllowed:De,clampBehavior:$e,onBlur:Ge,allowDecimal:Be,decimalScale:ze,onKeyDown:$t,onKeyDownCapture:ut,handlersRef:Ti,startValue:Hi,disabled:bn,rightSectionPointerEvents:gd,allowNegative:Pm,readOnly:oE,size:aE,rightSectionWidth:nE,stepHoldInterval:On,stepHoldDelay:nh,allowLeadingZeros:Hn,withKeyboardEvents:Xp,trimLeadingZeroesOnBlur:Jp,...md}=te,eE=ve({name:"NumberInput",classes:Gi,props:te,classNames:ne,styles:le,unstyled:ue,vars:ce,varsResolver:Nw}),{resolvedClassNames:hE,resolvedStyles:mE}=fs({classNames:ne,styles:le,props:te}),[fE,yE]=_n({value:_e,defaultValue:fe,finalValue:"",onChange:he}),AE=nh!==void 0&&On!==void 0,bE=reactExports.useRef(null),ME=reactExports.useRef(null),SE=reactExports.useRef(0),jE=(vE,XE)=>{XE.source==="event"&&yE(Ow(vE.floatValue,vE.value)&&!Rw.test(vE.value)&&!(Hn&&Tw.test(vE.value))?vE.floatValue:vE.value),de==null||de(vE,XE)},$E=vE=>{const XE=String(vE).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return XE?Math.max(0,(XE[1]?XE[1].length:0)-(XE[2]?+XE[2]:0)):0},zE=vE=>{bE.current&&typeof vE<"u"&&bE.current.setSelectionRange(vE,vE)},YE=reactExports.useRef(ki);YE.current=()=>{if(!vi(fE))return;let vE;const XE=$E(fE),pR=$E(Pe),CR=Math.max(XE,pR),MR=10**CR;if(!Yi(fE)&&(typeof fE!="number"||Number.isNaN(fE)))vE=ft(Hi,be,ye);else if(ye!==void 0){const VR=(Math.round(Number(fE)*MR)+Math.round(Pe*MR))/MR;vE=VR<=ye?VR:ye}else vE=(Math.round(Number(fE)*MR)+Math.round(Pe*MR))/MR;const yR=vE.toFixed(CR);yE(parseFloat(yR)),de==null||de({floatValue:parseFloat(yR),formattedValue:yR,value:yR},{source:"increment"}),setTimeout(()=>{var VR;return zE((VR=bE.current)==null?void 0:VR.value.length)},0)};const HE=reactExports.useRef(ki);HE.current=()=>{if(!vi(fE))return;let vE;const XE=be!==void 0?be:Pm?Number.MIN_SAFE_INTEGER:0,pR=$E(fE),CR=$E(Pe),MR=Math.max(pR,CR),yR=10**MR;if(!Yi(fE)&&typeof fE!="number"||Number.isNaN(fE))vE=ft(Hi,XE,ye);else{const jR=(Math.round(Number(fE)*yR)-Math.round(Pe*yR))/yR;vE=XE!==void 0&&jR<XE?XE:jR}const VR=vE.toFixed(MR);yE(parseFloat(VR)),de==null||de({floatValue:parseFloat(VR),formattedValue:VR,value:VR},{source:"decrement"}),setTimeout(()=>{var jR;return zE((jR=bE.current)==null?void 0:jR.value.length)},0)};const VE=vE=>{$t==null||$t(vE),!(oE||!Xp)&&(vE.key==="ArrowUp"&&(vE.preventDefault(),YE.current()),vE.key==="ArrowDown"&&(vE.preventDefault(),HE.current()))},TE=vE=>{if(ut==null||ut(vE),vE.key==="Backspace"){const XE=bE.current;XE.selectionStart===0&&XE.selectionStart===XE.selectionEnd&&(vE.preventDefault(),window.setTimeout(()=>zE(0),0))}};Or(Ti,{increment:YE.current,decrement:HE.current});const xE=vE=>{vE?YE.current():HE.current(),SE.current+=1},BE=vE=>{if(xE(vE),AE){const XE=typeof On=="number"?On:On(SE.current);ME.current=window.setTimeout(()=>BE(vE),XE)}},eR=(vE,XE)=>{var pR;vE.preventDefault(),(pR=bE.current)==null||pR.focus(),xE(XE),AE&&(ME.current=window.setTimeout(()=>BE(XE),nh))},sR=()=>{ME.current&&window.clearTimeout(ME.current),ME.current=null,SE.current=0},ZE=jsxRuntimeExports.jsxs("div",{...eE("controls"),children:[jsxRuntimeExports.jsx(hn,{...eE("control"),tabIndex:-1,"aria-hidden":!0,disabled:bn||typeof fE=="number"&&ye!==void 0&&fE>=ye,mod:{direction:"up"},onMouseDown:vE=>vE.preventDefault(),onPointerDown:vE=>{eR(vE,!0)},onPointerUp:sR,onPointerLeave:sR,children:jsxRuntimeExports.jsx(Vu,{direction:"up"})}),jsxRuntimeExports.jsx(hn,{...eE("control"),tabIndex:-1,"aria-hidden":!0,disabled:bn||typeof fE=="number"&&be!==void 0&&fE<=be,mod:{direction:"down"},onMouseDown:vE=>vE.preventDefault(),onPointerDown:vE=>{eR(vE,!1)},onPointerUp:sR,onPointerLeave:sR,children:jsxRuntimeExports.jsx(Vu,{direction:"down"})})]});return jsxRuntimeExports.jsx(Bt,{component:Cw,allowNegative:Pm,className:re(Gi.root,se),size:aE,...md,readOnly:oE,disabled:bn,value:fE,getInputRef:He(ee,bE),onValueChange:jE,rightSection:Ne||oE||!vi(fE)?we:we||ZE,classNames:hE,styles:mE,unstyled:ue,__staticSelector:"NumberInput",decimalScale:Be?ze:0,onKeyDown:VE,onKeyDownCapture:TE,rightSectionPointerEvents:gd??(bn?"none":void 0),rightSectionWidth:nE??`var(--ni-right-section-width-${aE||"sm"})`,allowLeadingZeros:Hn,onBlur:vE=>{if(Ge==null||Ge(vE),$e==="blur"&&typeof fE=="number"&&ft(fE,be,ye)!==fE&&yE(ft(fE,be,ye)),Jp&&typeof fE=="string"&&$E(fE)<15){const XE=fE.replace(/^0+/,""),pR=parseFloat(XE);yE(Number.isNaN(pR)||pR>Number.MAX_SAFE_INTEGER?XE:ft(pR,be,ye))}},isAllowed:vE=>$e==="strict"?De?De(vE)&&Hu(vE.floatValue,be,ye):Hu(vE.floatValue,be,ye):De?De(vE):!0})});ir.classes={...Bt.classes,...Gi},ir.displayName="@mantine/core/NumberInput";const[kw,wp]=Xt("Progress.Root component was not found in tree");var sr={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const Ew={},el=ae((ie,ee)=>{const{classNames:te,className:se,style:ne,styles:le,vars:ue,...ce}=Q$1("ProgressLabel",Ew,ie),he=wp();return jsxRuntimeExports.jsx(Z$1,{ref:ee,...he.getStyles("label",{className:se,style:ne,classNames:te,styles:le}),...ce})});el.classes=sr,el.displayName="@mantine/core/ProgressLabel";const Mw={},$w=(ie,{size:ee,radius:te,transitionDuration:se})=>({root:{"--progress-size":ke(ee,"progress-size"),"--progress-radius":te===void 0?void 0:tt$1(te),"--progress-transition-duration":typeof se=="number"?`${se}ms`:void 0}}),fo=ae((ie,ee)=>{const te=Q$1("ProgressRoot",Mw,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,autoContrast:de,transitionDuration:_e,...fe}=te,ye=ve({name:"Progress",classes:sr,props:te,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he,varsResolver:$w});return jsxRuntimeExports.jsx(kw,{value:{getStyles:ye,autoContrast:de},children:jsxRuntimeExports.jsx(Z$1,{ref:ee,...ye("root"),...fe})})});fo.classes=sr,fo.displayName="@mantine/core/ProgressRoot";const Dw={withAria:!0},po=ae((ie,ee)=>{const{classNames:te,className:se,style:ne,styles:le,vars:ue,value:ce,withAria:he,color:de,striped:_e,animated:fe,mod:ye,...be}=Q$1("ProgressSection",Dw,ie),Pe=wp(),Ne=nt(),we=he?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":ce,"aria-valuetext":`${ce}%`}:{};return jsxRuntimeExports.jsx(Z$1,{ref:ee,...Pe.getStyles("section",{className:se,classNames:te,styles:le,style:ne}),...be,...we,mod:[{striped:_e||fe,animated:fe},ye],__vars:{"--progress-section-width":`${ce}%`,"--progress-section-color":Ze(de,Ne),"--progress-label-color":Cb(Pe.autoContrast,Ne)?Jd({color:de,theme:Ne,autoContrast:Pe.autoContrast}):void 0}})});po.classes=sr,po.displayName="@mantine/core/ProgressSection";const Lw={},Tn=ae((ie,ee)=>{const te=Q$1("Progress",Lw,ie),{value:se,classNames:ne,styles:le,vars:ue,color:ce,striped:he,animated:de,"aria-label":_e,...fe}=te,{resolvedClassNames:ye,resolvedStyles:be}=fs({classNames:ne,styles:le,props:te});return jsxRuntimeExports.jsx(fo,{ref:ee,classNames:ye,styles:be,vars:ue,...fe,children:jsxRuntimeExports.jsx(po,{value:se,color:ce,striped:he,animated:de,"aria-label":_e})})});Tn.classes=sr,Tn.displayName="@mantine/core/Progress",Tn.Section=po,Tn.Root=fo,Tn.Label=el;const Fw={duration:100,transition:"fade"};function Bw(ie,ee){return{...Fw,...ee,...ie}}function zw({offset:ie,position:ee,defaultOpened:te}){const[se,ne]=reactExports.useState(te),le=reactExports.useRef(null),{x:ue,y:ce,elements:he,refs:de,update:_e,placement:fe}=Ns({placement:ee,middleware:[Ts({crossAxis:!0,padding:5,rootBoundary:"document"})]}),ye=fe.includes("right")?ie:ee.includes("left")?ie*-1:0,be=fe.includes("bottom")?ie:ee.includes("top")?ie*-1:0,Pe=reactExports.useCallback(({clientX:Ne,clientY:we})=>{de.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:Ne,y:we,left:Ne+ye,top:we+be,right:Ne,bottom:we}}})},[he.reference]);return reactExports.useEffect(()=>{if(de.floating.current){const Ne=le.current;Ne.addEventListener("mousemove",Pe);const we=St(de.floating.current);return we.forEach(De=>{De.addEventListener("scroll",_e)}),()=>{Ne.removeEventListener("mousemove",Pe),we.forEach(De=>{De.removeEventListener("scroll",_e)})}}},[he.reference,de.floating.current,_e,Pe,se]),{handleMouseMove:Pe,x:ue,y:ce,opened:se,setOpened:ne,boundaryRef:le,floating:de.setFloating}}var ho={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const qw={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:is("popover")},jw=(ie,{radius:ee,color:te})=>({tooltip:{"--tooltip-radius":ee===void 0?void 0:tt$1(ee),"--tooltip-bg":te?Ze(te,ie):void 0,"--tooltip-color":te?"var(--mantine-color-white)":void 0}}),tl=ae((ie,ee)=>{const te=Q$1("TooltipFloating",qw,ie),{children:se,refProp:ne,withinPortal:le,style:ue,className:ce,classNames:he,styles:de,unstyled:_e,radius:fe,color:ye,label:be,offset:Pe,position:Ne,multiline:we,zIndex:De,disabled:$e,defaultOpened:Ge,variant:Be,vars:ze,portalProps:$t,...ut}=te,Ti=nt(),Hi=ve({name:"TooltipFloating",props:te,classes:ho,className:ce,style:ue,classNames:he,styles:de,unstyled:_e,rootSelector:"tooltip",vars:ze,varsResolver:jw}),{handleMouseMove:bn,x:gd,y:Pm,opened:oE,boundaryRef:aE,floating:nE,setOpened:On}=zw({offset:Pe,position:Ne,defaultOpened:Ge});if(!Jt(se))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const nh=He(aE,Kr(se),ee),Hn=se.props,Xp=md=>{var eE;(eE=Hn.onMouseEnter)==null||eE.call(Hn,md),bn(md),On(!0)},Jp=md=>{var eE;(eE=Hn.onMouseLeave)==null||eE.call(Hn,md),On(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ao,{...$t,withinPortal:le,children:jsxRuntimeExports.jsx(Z$1,{...ut,...Hi("tooltip",{style:{...nf(ue,Ti),zIndex:De,display:!$e&&oE?"block":"none",top:(Pm&&Math.round(Pm))??"",left:(gd&&Math.round(gd))??""}}),variant:Be,ref:nE,mod:{multiline:we},children:be})}),reactExports.cloneElement(se,{...Hn,[ne]:nh,onMouseEnter:Xp,onMouseLeave:Jp})]})});tl.classes=ho,tl.displayName="@mantine/core/TooltipFloating";const _p=reactExports.createContext(!1),Vw=_p.Provider,Hw=()=>reactExports.useContext(_p),Uw={openDelay:0,closeDelay:0};function nl(ie){const{openDelay:ee,closeDelay:te,children:se}=Q$1("TooltipGroup",Uw,ie);return jsxRuntimeExports.jsx(Vw,{value:!0,children:jsxRuntimeExports.jsx(py,{delay:{open:ee,close:te},children:se})})}nl.displayName="@mantine/core/TooltipGroup",nl.extend=ie=>ie;function Ww(ie){if(ie===void 0)return{shift:!0,flip:!0};const ee={...ie};return ie.shift===void 0&&(ee.shift=!0),ie.flip===void 0&&(ee.flip=!0),ee}function Gw(ie){const ee=Ww(ie.middlewares),te=[Mf(ie.offset)];return ee.shift&&te.push(Ts(typeof ee.shift=="boolean"?{padding:8}:{padding:8,...ee.shift})),ee.flip&&te.push(typeof ee.flip=="boolean"?$r():$r(ee.flip)),te.push($f({element:ie.arrowRef,padding:ie.arrowOffset})),ee.inline?te.push(typeof ee.inline=="boolean"?jn():jn(ee.inline)):ie.inline&&te.push(jn()),te}function Yw(ie){var ee,te,se;const[ne,le]=reactExports.useState(ie.defaultOpened),ue=typeof ie.opened=="boolean"?ie.opened:ne,ce=Hw(),he=wn(),{delay:de,currentId:_e,setCurrentId:fe}=Bf(),ye=reactExports.useCallback(Ti=>{le(Ti),Ti&&fe(he)},[fe,he]),{x:be,y:Pe,context:Ne,refs:we,update:De,placement:$e,middlewareData:{arrow:{x:Ge,y:Be}={}}}=Ns({strategy:ie.strategy,placement:ie.position,open:ue,onOpenChange:ye,middleware:Gw(ie)});hy(Ne,{id:he});const{getReferenceProps:ze,getFloatingProps:$t}=_y([fy(Ne,{enabled:(ee=ie.events)==null?void 0:ee.hover,delay:ce?de:{open:ie.openDelay,close:ie.closeDelay},mouseOnly:!((te=ie.events)!=null&&te.touch)}),wy(Ne,{enabled:(se=ie.events)==null?void 0:se.focus,visibleOnly:!0}),xy(Ne,{role:"tooltip"}),vy$2(Ne,{enabled:typeof ie.opened>"u"})]);Wf({opened:ue,position:ie.position,positionDependencies:ie.positionDependencies,floating:{refs:we,update:De}}),Yt(()=>{var Ti;(Ti=ie.onPositionChange)==null||Ti.call(ie,$e)},[$e]);const ut=ue&&_e&&_e!==he;return{x:be,y:Pe,arrowX:Ge,arrowY:Be,reference:we.setReference,floating:we.setFloating,getFloatingProps:$t,getReferenceProps:ze,isGroupPhase:ut,opened:ue,placement:$e}}const Uu={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:is("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},Kw=(ie,{radius:ee,color:te})=>({tooltip:{"--tooltip-radius":ee===void 0?void 0:tt$1(ee),"--tooltip-bg":te?Ze(te,ie):void 0,"--tooltip-color":te?"var(--mantine-color-white)":void 0}}),Qt=ae((ie,ee)=>{const te=Q$1("Tooltip",Uu,ie),{children:se,position:ne,refProp:le,label:ue,openDelay:ce,closeDelay:he,onPositionChange:de,opened:_e,defaultOpened:fe,withinPortal:ye,radius:be,color:Pe,classNames:Ne,styles:we,unstyled:De,style:$e,className:Ge,withArrow:Be,arrowSize:ze,arrowOffset:$t,arrowRadius:ut,arrowPosition:Ti,offset:Hi,transitionProps:bn,multiline:gd,events:Pm,zIndex:oE,disabled:aE,positionDependencies:nE,onClick:On,onMouseEnter:nh,onMouseLeave:Hn,inline:Xp,variant:Jp,keepMounted:md,vars:eE,portalProps:hE,mod:mE,floatingStrategy:fE,middlewares:yE,...AE}=Q$1("Tooltip",Uu,te),{dir:bE}=tr(),ME=reactExports.useRef(null),SE=Yw({position:zf(bE,ne),closeDelay:he,openDelay:ce,onPositionChange:de,opened:_e,defaultOpened:fe,events:Pm,arrowRef:ME,arrowOffset:$t,offset:typeof Hi=="number"?Hi+(Be?ze/2:0):Hi,positionDependencies:[...nE,se],inline:Xp,strategy:fE,middlewares:yE}),jE=ve({name:"Tooltip",props:te,classes:ho,className:Ge,style:$e,classNames:Ne,styles:we,unstyled:De,rootSelector:"tooltip",vars:eE,varsResolver:Kw});if(!Jt(se))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const $E=He(SE.reference,Kr(se),ee),zE=Bw(bn,{duration:100,transition:"fade"}),YE=se.props;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ao,{...hE,withinPortal:ye,children:jsxRuntimeExports.jsx(rr,{...zE,keepMounted:md,mounted:!aE&&!!SE.opened,duration:SE.isGroupPhase?10:zE.duration,children:HE=>jsxRuntimeExports.jsxs(Z$1,{...AE,"data-fixed":fE==="fixed"||void 0,variant:Jp,mod:[{multiline:gd},mE],...SE.getFloatingProps({ref:SE.floating,className:jE("tooltip").className,style:{...jE("tooltip").style,...HE,zIndex:oE,top:SE.y??0,left:SE.x??0}}),children:[ue,jsxRuntimeExports.jsx(ks,{ref:ME,arrowX:SE.arrowX,arrowY:SE.arrowY,visible:Be,position:SE.placement,arrowSize:ze,arrowOffset:$t,arrowRadius:ut,arrowPosition:Ti,...jE("arrow")})]})})}),reactExports.cloneElement(se,SE.getReferenceProps({onClick:On,onMouseEnter:nh,onMouseLeave:Hn,onMouseMove:te.onMouseMove,onPointerDown:te.onPointerDown,onPointerEnter:te.onPointerEnter,[le]:$E,className:re(Ge,YE.className),...YE}))]})});Qt.classes=ho,Qt.displayName="@mantine/core/Tooltip",Qt.Floating=tl,Qt.Group=nl;function Qw({spacing:ie,verticalSpacing:ee,cols:te,selector:se}){var ne;const le=nt(),ue=ee===void 0?ie:ee,ce=yn({"--sg-spacing-x":Qe(ln(ie)),"--sg-spacing-y":Qe(ln(ue)),"--sg-cols":(ne=ln(te))==null?void 0:ne.toString()}),he=Ye(le.breakpoints).reduce((_e,fe)=>(_e[fe]||(_e[fe]={}),typeof ie=="object"&&ie[fe]!==void 0&&(_e[fe]["--sg-spacing-x"]=Qe(ie[fe])),typeof ue=="object"&&ue[fe]!==void 0&&(_e[fe]["--sg-spacing-y"]=Qe(ue[fe])),typeof te=="object"&&te[fe]!==void 0&&(_e[fe]["--sg-cols"]=te[fe]),_e),{}),de=bg(Ye(he),le.breakpoints).filter(_e=>Ye(he[_e.value]).length>0).map(_e=>({query:`(min-width: ${le.breakpoints[_e.value]})`,styles:he[_e.value]}));return jsxRuntimeExports.jsx(Zr,{styles:ce,media:de,selector:se})}function yi(ie){return typeof ie=="object"&&ie!==null?Ye(ie):[]}function Zw(ie){return ie.sort((ee,te)=>Wn(ee)-Wn(te))}function Jw({spacing:ie,verticalSpacing:ee,cols:te}){const se=Array.from(new Set([...yi(ie),...yi(ee),...yi(te)]));return Zw(se)}function Xw({spacing:ie,verticalSpacing:ee,cols:te,selector:se}){var ne;const le=ee===void 0?ie:ee,ue=yn({"--sg-spacing-x":Qe(ln(ie)),"--sg-spacing-y":Qe(ln(le)),"--sg-cols":(ne=ln(te))==null?void 0:ne.toString()}),ce=Jw({spacing:ie,verticalSpacing:ee,cols:te}),he=ce.reduce((_e,fe)=>(_e[fe]||(_e[fe]={}),typeof ie=="object"&&ie[fe]!==void 0&&(_e[fe]["--sg-spacing-x"]=Qe(ie[fe])),typeof le=="object"&&le[fe]!==void 0&&(_e[fe]["--sg-spacing-y"]=Qe(le[fe])),typeof te=="object"&&te[fe]!==void 0&&(_e[fe]["--sg-cols"]=te[fe]),_e),{}),de=ce.map(_e=>({query:`simple-grid (min-width: ${_e})`,styles:he[_e]}));return jsxRuntimeExports.jsx(Zr,{styles:ue,container:de,selector:se})}var Ap={container:"m_925c2d2c",root:"m_2415a157"};const e0={cols:1,spacing:"md",type:"media"},lr=ae((ie,ee)=>{const te=Q$1("SimpleGrid",e0,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,cols:de,verticalSpacing:_e,spacing:fe,type:ye,...be}=te,Pe=ve({name:"SimpleGrid",classes:Ap,props:te,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he}),Ne=hs();return ye==="container"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Xw,{...te,selector:`.${Ne}`}),jsxRuntimeExports.jsx("div",{...Pe("container"),children:jsxRuntimeExports.jsx(Z$1,{ref:ee,...Pe("root",{className:Ne}),...be})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Qw,{...te,selector:`.${Ne}`}),jsxRuntimeExports.jsx(Z$1,{ref:ee,...Pe("root",{className:Ne}),...be})]})});lr.classes=Ap,lr.displayName="@mantine/core/SimpleGrid";var xp={root:"m_18320242","skeleton-fade":"m_299c329c"};const t0={visible:!0,animate:!0},n0=(ie,{width:ee,height:te,radius:se,circle:ne})=>({root:{"--skeleton-height":V$2(te),"--skeleton-width":V$2(ne?te:ee),"--skeleton-radius":ne?"1000px":se===void 0?void 0:tt$1(se)}}),rl=ae((ie,ee)=>{const te=Q$1("Skeleton",t0,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,width:de,height:_e,circle:fe,visible:ye,radius:be,animate:Pe,mod:Ne,...we}=te,De=ve({name:"Skeleton",classes:xp,props:te,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he,varsResolver:n0});return jsxRuntimeExports.jsx(Z$1,{ref:ee,...De("root"),mod:[{visible:ye,animate:Pe},Ne],...we})});rl.classes=xp,rl.displayName="@mantine/core/Skeleton";const[r0,mo]=Xt("SliderProvider was not found in tree"),Sp=reactExports.forwardRef(({size:ie,disabled:ee,variant:te,color:se,thumbSize:ne,radius:le,...ue},ce)=>{const{getStyles:he}=mo();return jsxRuntimeExports.jsx(Z$1,{tabIndex:-1,variant:te,size:ie,ref:ce,...he("root"),...ue})});Sp.displayName="@mantine/core/SliderRoot";const Cp=reactExports.forwardRef(({max:ie,min:ee,value:te,position:se,label:ne,dragging:le,onMouseDown:ue,onKeyDownCapture:ce,labelTransitionProps:he,labelAlwaysOn:de,thumbLabel:_e,onFocus:fe,onBlur:ye,showLabelOnHover:be,isHovered:Pe,children:Ne=null,disabled:we},De)=>{const{getStyles:$e}=mo(),[Ge,Be]=reactExports.useState(!1),ze=de||le||Ge||be&&Pe;return jsxRuntimeExports.jsxs(Z$1,{tabIndex:0,role:"slider","aria-label":_e,"aria-valuemax":ie,"aria-valuemin":ee,"aria-valuenow":te,ref:De,__vars:{"--slider-thumb-offset":`${se}%`},...$e("thumb",{focusable:!0}),mod:{dragging:le,disabled:we},onFocus:$t=>{Be(!0),typeof fe=="function"&&fe($t)},onBlur:$t=>{Be(!1),typeof ye=="function"&&ye($t)},onTouchStart:ue,onMouseDown:ue,onKeyDownCapture:ce,onClick:$t=>$t.stopPropagation(),children:[Ne,jsxRuntimeExports.jsx(rr,{mounted:ne!=null&&!!ze,transition:"fade",duration:0,...he,children:$t=>jsxRuntimeExports.jsx("div",{...$e("label",{style:$t}),children:ne})})]})});Cp.displayName="@mantine/core/SliderThumb";function Rp({value:ie,min:ee,max:te}){const se=(ie-ee)/(te-ee)*100;return Math.min(Math.max(se,0),100)}function o0({mark:ie,offset:ee,value:te,inverted:se=!1}){return se?typeof ee=="number"&&ie.value<=ee||ie.value>=te:typeof ee=="number"?ie.value>=ee&&ie.value<=te:ie.value<=te}function Tp({marks:ie,min:ee,max:te,disabled:se,value:ne,offset:le,inverted:ue}){const{getStyles:ce}=mo();if(!ie)return null;const he=ie.map((de,_e)=>reactExports.createElement(Z$1,{...ce("markWrapper"),__vars:{"--mark-offset":`${Rp({value:de.value,min:ee,max:te})}%`},key:_e},jsxRuntimeExports.jsx(Z$1,{...ce("mark"),mod:{filled:o0({mark:de,value:ne,offset:le,inverted:ue}),disabled:se}}),de.label&&jsxRuntimeExports.jsx("div",{...ce("markLabel"),children:de.label})));return jsxRuntimeExports.jsx("div",{children:he})}Tp.displayName="@mantine/core/SliderMarks";function Ip({filled:ie,children:ee,offset:te,disabled:se,marksOffset:ne,inverted:le,containerProps:ue,...ce}){const{getStyles:he}=mo();return jsxRuntimeExports.jsx(Z$1,{...he("trackContainer"),mod:{disabled:se},...ue,children:jsxRuntimeExports.jsxs(Z$1,{...he("track"),mod:{inverted:le,disabled:se},children:[jsxRuntimeExports.jsx(Z$1,{mod:{inverted:le,disabled:se},__vars:{"--slider-bar-width":`calc(${ie}% + var(--slider-size))`,"--slider-bar-offset":`calc(${te}% - var(--slider-size))`},...he("bar")}),ee,jsxRuntimeExports.jsx(Tp,{...ce,offset:ne,disabled:se,inverted:le})]})})}Ip.displayName="@mantine/core/SliderTrack";function a0({value:ie,containerWidth:ee,min:te,max:se,step:ne,precision:le}){const ue=(ee?Math.min(Math.max(ie,0),ee)/ee:ie)*(se-te),ce=(ue!==0?Math.round(ue/ne)*ne:0)+te,he=Math.max(ce,te);return le!==void 0?Number(he.toFixed(le)):he}function vr(ie,ee){return parseFloat(ie.toFixed(ee))}function i0(ie){if(!ie)return 0;const ee=ie.toString().split(".");return ee.length>1?ee[1].length:0}function wi(ie,ee){const te=[...ee].sort((se,ne)=>se.value-ne.value).find(se=>se.value>ie);return te?te.value:ie}function _i(ie,ee){const te=[...ee].sort((se,ne)=>ne.value-se.value).find(se=>se.value<ie);return te?te.value:ie}function Wu(ie){const ee=[...ie].sort((te,se)=>se.value-te.value);return ee.length>0?ee[0].value:0}function Gu(ie){const ee=[...ie].sort((te,se)=>te.value-se.value);return ee.length>0?ee[ee.length-1].value:100}var Op={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const s0={radius:"xl",min:0,max:100,step:1,marks:[],label:ie=>ie,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:ie=>ie},l0=(ie,{size:ee,color:te,thumbSize:se,radius:ne})=>({root:{"--slider-size":ke(ee,"slider-size"),"--slider-color":te?Ze(te,ie):void 0,"--slider-radius":ne===void 0?void 0:tt$1(ne),"--slider-thumb-size":se!==void 0?V$2(se):"calc(var(--slider-size) * 2)"}}),go=ae((ie,ee)=>{const te=Q$1("Slider",s0,ie),{classNames:se,styles:ne,value:le,onChange:ue,onChangeEnd:ce,size:he,min:de,max:_e,step:fe,precision:ye,defaultValue:be,name:Pe,marks:Ne,label:we,labelTransitionProps:De,labelAlwaysOn:$e,thumbLabel:Ge,showLabelOnHover:Be,thumbChildren:ze,disabled:$t,unstyled:ut,scale:Ti,inverted:Hi,className:bn,style:gd,vars:Pm,hiddenInputProps:oE,restrictToMarks:aE,thumbProps:nE,...On}=te,nh=ve({name:"Slider",props:te,classes:Op,classNames:se,className:bn,styles:ne,style:gd,vars:Pm,varsResolver:l0,unstyled:ut}),{dir:Hn}=tr(),[Xp,Jp]=reactExports.useState(!1),[md,eE]=_n({value:typeof le=="number"?ft(le,de,_e):le,defaultValue:typeof be=="number"?ft(be,de,_e):be,finalValue:ft(0,de,_e),onChange:ue}),hE=reactExports.useRef(md),mE=reactExports.useRef(null),fE=reactExports.useRef(null),yE=Rp({value:md,min:de,max:_e}),AE=Ti(md),bE=typeof we=="function"?we(AE):we,ME=ye??i0(fe),SE=reactExports.useCallback(({x:YE})=>{if(!$t){const HE=a0({value:YE,min:de,max:_e,step:fe,precision:ME});eE(aE&&Ne!=null&&Ne.length?nu(HE,Ne.map(VE=>VE.value)):HE),hE.current=HE}},[$t,de,_e,fe,ME,eE,Ne,aE]),{ref:jE,active:$E}=Eg(SE,{onScrubEnd:()=>ce==null?void 0:ce(aE&&Ne!=null&&Ne.length?nu(hE.current,Ne.map(YE=>YE.value)):hE.current)},Hn),zE=YE=>{var HE,VE,TE,xE,BE,eR;if(!$t)switch(YE.key){case"ArrowUp":{if(YE.preventDefault(),(HE=fE.current)==null||HE.focus(),aE&&Ne){const ZE=wi(md,Ne);eE(ZE),ce==null||ce(ZE);break}const sR=vr(Math.min(Math.max(md+fe,de),_e),ME);eE(sR),ce==null||ce(sR);break}case"ArrowRight":{if(YE.preventDefault(),(VE=fE.current)==null||VE.focus(),aE&&Ne){const ZE=Hn==="rtl"?_i(md,Ne):wi(md,Ne);eE(ZE),ce==null||ce(ZE);break}const sR=vr(Math.min(Math.max(Hn==="rtl"?md-fe:md+fe,de),_e),ME);eE(sR),ce==null||ce(sR);break}case"ArrowDown":{if(YE.preventDefault(),(TE=fE.current)==null||TE.focus(),aE&&Ne){const ZE=_i(md,Ne);eE(ZE),ce==null||ce(ZE);break}const sR=vr(Math.min(Math.max(md-fe,de),_e),ME);eE(sR),ce==null||ce(sR);break}case"ArrowLeft":{if(YE.preventDefault(),(xE=fE.current)==null||xE.focus(),aE&&Ne){const ZE=Hn==="rtl"?wi(md,Ne):_i(md,Ne);eE(ZE),ce==null||ce(ZE);break}const sR=vr(Math.min(Math.max(Hn==="rtl"?md+fe:md-fe,de),_e),ME);eE(sR),ce==null||ce(sR);break}case"Home":{if(YE.preventDefault(),(BE=fE.current)==null||BE.focus(),aE&&Ne){eE(Wu(Ne)),ce==null||ce(Wu(Ne));break}eE(de),ce==null||ce(de);break}case"End":{if(YE.preventDefault(),(eR=fE.current)==null||eR.focus(),aE&&Ne){eE(Gu(Ne)),ce==null||ce(Gu(Ne));break}eE(_e),ce==null||ce(_e);break}}};return jsxRuntimeExports.jsx(r0,{value:{getStyles:nh},children:jsxRuntimeExports.jsxs(Sp,{...On,ref:He(ee,mE),onKeyDownCapture:zE,onMouseDownCapture:()=>{var YE;return(YE=mE.current)==null?void 0:YE.focus()},size:he,disabled:$t,children:[jsxRuntimeExports.jsx(Ip,{inverted:Hi,offset:0,filled:yE,marks:Ne,min:de,max:_e,value:AE,disabled:$t,containerProps:{ref:jE,onMouseEnter:Be?()=>Jp(!0):void 0,onMouseLeave:Be?()=>Jp(!1):void 0},children:jsxRuntimeExports.jsx(Cp,{max:_e,min:de,value:AE,position:yE,dragging:$E,label:bE,ref:fE,labelTransitionProps:De,labelAlwaysOn:$e,thumbLabel:Ge,showLabelOnHover:Be,isHovered:Xp,disabled:$t,...nE,children:ze})}),jsxRuntimeExports.jsx("input",{type:"hidden",name:Pe,value:AE,...oE})]})})});go.classes=Op,go.displayName="@mantine/core/Slider";var Pp={root:"m_6d731127"};const c0={gap:"md",align:"stretch",justify:"flex-start"},u0=(ie,{gap:ee,align:te,justify:se})=>({root:{"--stack-gap":Qe(ee),"--stack-align":te,"--stack-justify":se}}),Le=ae((ie,ee)=>{const te=Q$1("Stack",c0,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,align:de,justify:_e,gap:fe,variant:ye,...be}=te,Pe=ve({name:"Stack",props:te,classes:Pp,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he,varsResolver:u0});return jsxRuntimeExports.jsx(Z$1,{ref:ee,...Pe("root"),variant:ye,...be})});Le.classes=Pp,Le.displayName="@mantine/core/Stack";const Np=reactExports.createContext(null),d0=Np.Provider,f0=()=>reactExports.useContext(Np),p0={},ol=ae((ie,ee)=>{const{value:te,defaultValue:se,onChange:ne,size:le,wrapperProps:ue,children:ce,readOnly:he,...de}=Q$1("SwitchGroup",p0,ie),[_e,fe]=_n({value:te,defaultValue:se,finalValue:[],onChange:ne});return jsxRuntimeExports.jsx(d0,{value:{value:_e,onChange:ye=>{const be=ye.currentTarget.value;!he&&fe(_e.includes(be)?_e.filter(Pe=>Pe!==be):[..._e,be])},size:le},children:jsxRuntimeExports.jsx(Ve.Wrapper,{size:le,ref:ee,...ue,...de,labelElement:"div",__staticSelector:"SwitchGroup",children:jsxRuntimeExports.jsx($1,{role:"group",children:ce})})})});ol.classes=Ve.Wrapper.classes,ol.displayName="@mantine/core/SwitchGroup";var kp={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const h0={labelPosition:"right"},m0=(ie,{radius:ee,color:te,size:se})=>({root:{"--switch-radius":ee===void 0?void 0:tt$1(ee),"--switch-height":ke(se,"switch-height"),"--switch-width":ke(se,"switch-width"),"--switch-thumb-size":ke(se,"switch-thumb-size"),"--switch-label-font-size":ke(se,"switch-label-font-size"),"--switch-track-label-padding":ke(se,"switch-track-label-padding"),"--switch-color":te?Ze(te,ie):void 0}}),tn=ae((ie,ee)=>{const te=Q$1("Switch",h0,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,color:de,label:_e,offLabel:fe,onLabel:ye,id:be,size:Pe,radius:Ne,wrapperProps:we,thumbIcon:De,checked:$e,defaultChecked:Ge,onChange:Be,labelPosition:ze,description:$t,error:ut,disabled:Ti,variant:Hi,rootRef:bn,mod:gd,...Pm}=te,oE=f0(),aE=Pe||(oE==null?void 0:oE.size),nE=ve({name:"Switch",props:te,classes:kp,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he,varsResolver:m0}),{styleProps:On,rest:nh}=Jr(Pm),Hn=wn(be),Xp=oE?{checked:oE.value.includes(nh.value),onChange:oE.onChange}:{},[Jp,md]=_n({value:Xp.checked??$e,defaultValue:Ge,finalValue:!1});return jsxRuntimeExports.jsxs(cp,{...nE("root"),__staticSelector:"Switch",__stylesApiProps:te,id:Hn,size:aE,labelPosition:ze,label:_e,description:$t,error:ut,disabled:Ti,bodyElement:"label",labelElement:"span",classNames:se,styles:ue,unstyled:ce,"data-checked":Xp.checked||$e||void 0,variant:Hi,ref:bn,mod:gd,...On,...we,children:[jsxRuntimeExports.jsx("input",{...nh,disabled:Ti,checked:Jp,"data-checked":Xp.checked||$e||void 0,onChange:eE=>{var hE;oE?(hE=Xp.onChange)==null||hE.call(Xp,eE):Be==null||Be(eE),md(eE.currentTarget.checked)},id:Hn,ref:ee,type:"checkbox",role:"switch",...nE("input")}),jsxRuntimeExports.jsxs(Z$1,{"aria-hidden":"true",mod:{error:ut,"label-position":ze,"without-labels":!ye&&!fe},...nE("track"),children:[jsxRuntimeExports.jsx(Z$1,{component:"span",mod:"reduce-motion",...nE("thumb"),children:De}),jsxRuntimeExports.jsx("span",{...nE("trackLabel"),children:Jp?ye:fe})]})]})});tn.classes={...kp,...M1},tn.displayName="@mantine/core/Switch",tn.Group=ol;const[g0,b0]=Xt("Table component was not found in the tree");var cr={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function v0(ie,ee){if(!ee)return;const te={};return ee.columnBorder&&ie.withColumnBorders&&(te["data-with-column-border"]=!0),ee.rowBorder&&ie.withRowBorders&&(te["data-with-row-border"]=!0),ee.striped&&ie.striped&&(te["data-striped"]=ie.striped),ee.highlightOnHover&&ie.highlightOnHover&&(te["data-hover"]=!0),ee.captionSide&&ie.captionSide&&(te["data-side"]=ie.captionSide),ee.stickyHeader&&ie.stickyHeader&&(te["data-sticky"]=!0),te}function nn(ie,ee){const te=`Table${ie.charAt(0).toUpperCase()}${ie.slice(1)}`,se=ae((ne,le)=>{const ue=Q$1(te,{},ne),{classNames:ce,className:he,style:de,styles:_e,...fe}=ue,ye=b0();return jsxRuntimeExports.jsx(Z$1,{component:ie,ref:le,...v0(ye,ee),...ye.getStyles(ie,{className:he,classNames:ce,style:de,styles:_e,props:ue}),...fe})});return se.displayName=`@mantine/core/${te}`,se.classes=cr,se}const Ki=nn("th",{columnBorder:!0}),Ep=nn("td",{columnBorder:!0}),xr=nn("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),Mp=nn("thead",{stickyHeader:!0}),$p=nn("tbody"),Dp=nn("tfoot"),Lp=nn("caption",{captionSide:!0});function al({data:ie}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ie.caption&&jsxRuntimeExports.jsx(Lp,{children:ie.caption}),ie.head&&jsxRuntimeExports.jsx(Mp,{children:jsxRuntimeExports.jsx(xr,{children:ie.head.map((ee,te)=>jsxRuntimeExports.jsx(Ki,{children:ee},te))})}),ie.body&&jsxRuntimeExports.jsx($p,{children:ie.body.map((ee,te)=>jsxRuntimeExports.jsx(xr,{children:ee.map((se,ne)=>jsxRuntimeExports.jsx(Ep,{children:se},ne))},te))}),ie.foot&&jsxRuntimeExports.jsx(Dp,{children:jsxRuntimeExports.jsx(xr,{children:ie.foot.map((ee,te)=>jsxRuntimeExports.jsx(Ki,{children:ee},te))})})]})}al.displayName="@mantine/core/TableDataRenderer";const y0={type:"scrollarea"},w0=(ie,{minWidth:ee,type:te})=>({scrollContainer:{"--table-min-width":V$2(ee),"--table-overflow":te==="native"?"auto":void 0}}),il=ae((ie,ee)=>{const te=Q$1("TableScrollContainer",y0,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,children:de,minWidth:_e,type:fe,...ye}=te,be=ve({name:"TableScrollContainer",classes:cr,props:te,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he,varsResolver:w0,rootSelector:"scrollContainer"});return jsxRuntimeExports.jsx(Z$1,{component:fe==="scrollarea"?vt:"div",...fe==="scrollarea"?{offsetScrollbars:"x"}:{},ref:ee,...be("scrollContainer"),...ye,children:jsxRuntimeExports.jsx("div",{...be("scrollContainerInner"),children:de})})});il.classes=cr,il.displayName="@mantine/core/TableScrollContainer";const _0={withRowBorders:!0,verticalSpacing:7},A0=(ie,{layout:ee,captionSide:te,horizontalSpacing:se,verticalSpacing:ne,borderColor:le,stripedColor:ue,highlightOnHoverColor:ce,striped:he,highlightOnHover:de,stickyHeaderOffset:_e,stickyHeader:fe})=>({table:{"--table-layout":ee,"--table-caption-side":te,"--table-horizontal-spacing":Qe(se),"--table-vertical-spacing":Qe(ne),"--table-border-color":le?Ze(le,ie):void 0,"--table-striped-color":he&&ue?Ze(ue,ie):void 0,"--table-highlight-on-hover-color":de&&ce?Ze(ce,ie):void 0,"--table-sticky-header-offset":fe?V$2(_e):void 0}}),ge=ae((ie,ee)=>{const te=Q$1("Table",_0,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,horizontalSpacing:de,verticalSpacing:_e,captionSide:fe,stripedColor:ye,highlightOnHoverColor:be,striped:Pe,highlightOnHover:Ne,withColumnBorders:we,withRowBorders:De,withTableBorder:$e,borderColor:Ge,layout:Be,variant:ze,data:$t,children:ut,stickyHeader:Ti,stickyHeaderOffset:Hi,mod:bn,tabularNums:gd,...Pm}=te,oE=ve({name:"Table",props:te,className:ne,style:le,classes:cr,classNames:se,styles:ue,unstyled:ce,rootSelector:"table",vars:he,varsResolver:A0});return jsxRuntimeExports.jsx(g0,{value:{getStyles:oE,stickyHeader:Ti,striped:Pe===!0?"odd":Pe||void 0,highlightOnHover:Ne,withColumnBorders:we,withRowBorders:De,captionSide:fe||"bottom"},children:jsxRuntimeExports.jsx(Z$1,{component:"table",variant:ze,ref:ee,mod:[{"data-with-table-border":$e,"data-tabular-nums":gd},bn],...oE("table"),...Pm,children:ut||!!$t&&jsxRuntimeExports.jsx(al,{data:$t})})})});ge.classes=cr,ge.displayName="@mantine/core/Table",ge.Td=Ep,ge.Th=Ki,ge.Tr=xr,ge.Thead=Mp,ge.Tbody=$p,ge.Tfoot=Dp,ge.Caption=Lp,ge.ScrollContainer=il,ge.DataRenderer=al;const x0={},Mt=ae((ie,ee)=>{const te=Q$1("TextInput",x0,ie);return jsxRuntimeExports.jsx(Bt,{component:"input",ref:ee,...te,__staticSelector:"TextInput"})});Mt.classes=Bt.classes,Mt.displayName="@mantine/core/TextInput";/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var S0={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=(ie,ee,te,se)=>{const ne=reactExports.forwardRef(({color:le="currentColor",size:ue=24,stroke:ce=2,title:he,className:de,children:_e,...fe},ye)=>reactExports.createElement("svg",{ref:ye,...S0[ie],width:ue,height:ue,className:["tabler-icon",`tabler-icon-${ee}`,de].join(" "),...ie==="filled"?{fill:le}:{strokeWidth:ce,stroke:le},...fe},[he&&reactExports.createElement("title",{key:"svg-title"},he),...se.map(([be,Pe])=>reactExports.createElement(be,Pe)),...Array.isArray(_e)?_e:[_e]]));return ne.displayName=`${te}`,ne};/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fp=ur("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var C0=ur("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var R0=ur("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var T0=ur("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var I0=ur("filled","player-play-filled","IconPlayerPlayFilled",[["path",{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z",key:"svg-0"}]]);const O0="_container_rfyos_1",P0="_visible_rfyos_1",N0="_absolute_rfyos_1",k0="_relative_rfyos_1",E0="_flex_rfyos_1",M0="_hidden_rfyos_1",$0="_border_rfyos_1",D0="_italic_rfyos_1",L0="_outline_rfyos_1",F0="_filter_rfyos_1",B0="_Page_rfyos_25",zt={container:O0,"pointer-events-none":"_pointer-events-none_rfyos_1",visible:P0,absolute:N0,relative:k0,"end-0":"_end-0_rfyos_1","mx-auto":"_mx-auto_rfyos_1","ms-1":"_ms-1_rfyos_1",flex:E0,hidden:M0,"h-full":"_h-full_rfyos_1","w-full":"_w-full_rfyos_1","max-w-full":"_max-w-full_rfyos_1","flex-shrink-0":"_flex-shrink-0_rfyos_1","cursor-pointer":"_cursor-pointer_rfyos_1","select-none":"_select-none_rfyos_1","flex-col":"_flex-col_rfyos_1","gap-1":"_gap-1_rfyos_1","gap-2":"_gap-2_rfyos_1","overflow-auto":"_overflow-auto_rfyos_1","overflow-hidden":"_overflow-hidden_rfyos_1",border:$0,"p-0":"_p-0_rfyos_1",italic:D0,"text-black":"_text-black_rfyos_1",outline:L0,filter:F0,Page:B0},z0="_container_dc959_1",q0="_visible_dc959_1",j0="_absolute_dc959_1",V0="_relative_dc959_1",H0="_flex_dc959_1",U0="_hidden_dc959_1",W0="_border_dc959_1",G0="_italic_dc959_1",Y0="_outline_dc959_1",K0="_filter_dc959_1",Q0="_Section_dc959_4",Z0="_Content_dc959_4",J0="_Title_dc959_4",Ai={container:z0,"pointer-events-none":"_pointer-events-none_dc959_1",visible:q0,absolute:j0,relative:V0,"end-0":"_end-0_dc959_1","mx-auto":"_mx-auto_dc959_1","ms-1":"_ms-1_dc959_1",flex:H0,hidden:U0,"h-full":"_h-full_dc959_1","w-full":"_w-full_dc959_1","max-w-full":"_max-w-full_dc959_1","flex-shrink-0":"_flex-shrink-0_dc959_1","cursor-pointer":"_cursor-pointer_dc959_1","select-none":"_select-none_dc959_1","flex-col":"_flex-col_dc959_1","gap-1":"_gap-1_dc959_1","gap-2":"_gap-2_dc959_1","overflow-auto":"_overflow-auto_dc959_1","overflow-hidden":"_overflow-hidden_dc959_1",border:W0,"p-0":"_p-0_dc959_1",italic:G0,"text-black":"_text-black_dc959_1",outline:Y0,filter:K0,Section:Q0,Content:Z0,Title:J0},Ae=({children:ie,title:ee})=>jsxRuntimeExports.jsxs("div",{className:re("_Section",Ai.Section),children:[jsxRuntimeExports.jsxs("div",{className:Ai.Title,children:[jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsx("span",{children:ee})]}),jsxRuntimeExports.jsx("div",{className:Ai.Content,children:ie})]}),X0="_container_en1hz_1",e_="_visible_en1hz_1",t_="_absolute_en1hz_1",n_="_relative_en1hz_1",r_="_flex_en1hz_1",o_="_hidden_en1hz_1",a_="_border_en1hz_1",i_="_italic_en1hz_1",s_="_outline_en1hz_1",l_="_filter_en1hz_1",c_="_GroupedSettings_en1hz_4",u_="_CaretIcon_en1hz_30",d_="_CaretIconRotated_en1hz_34",f_={container:X0,"pointer-events-none":"_pointer-events-none_en1hz_1",visible:e_,absolute:t_,relative:n_,"end-0":"_end-0_en1hz_1","mx-auto":"_mx-auto_en1hz_1","ms-1":"_ms-1_en1hz_1",flex:r_,hidden:o_,"h-full":"_h-full_en1hz_1","w-full":"_w-full_en1hz_1","max-w-full":"_max-w-full_en1hz_1","flex-shrink-0":"_flex-shrink-0_en1hz_1","cursor-pointer":"_cursor-pointer_en1hz_1","select-none":"_select-none_en1hz_1","flex-col":"_flex-col_en1hz_1","gap-1":"_gap-1_en1hz_1","gap-2":"_gap-2_en1hz_1","overflow-auto":"_overflow-auto_en1hz_1","overflow-hidden":"_overflow-hidden_en1hz_1",border:a_,"p-0":"_p-0_en1hz_1",italic:i_,"text-black":"_text-black_en1hz_1",outline:s_,filter:l_,GroupedSettings:c_,CaretIcon:u_,CaretIconRotated:d_};var En={},Yu;function Bp(){if(Yu)return En;Yu=1;function ie(Ne){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ie=function(we){return typeof we}:ie=function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we},ie(Ne)}Object.defineProperty(En,"__esModule",{value:!0}),En.Collapse=void 0;var ee=te(React);function te(Ne){return Ne&&Ne.__esModule?Ne:{default:Ne}}function se(Ne,we){if(!(Ne instanceof we))throw new TypeError("Cannot call a class as a function")}function ne(Ne,we){for(var De=0;De<we.length;De++){var $e=we[De];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(Ne,$e.key,$e)}}function le(Ne,we,De){return ne(Ne.prototype,we),Ne}function ue(Ne,we){if(typeof we!="function"&&we!==null)throw new TypeError("Super expression must either be null or a function");Ne.prototype=Object.create(we&&we.prototype,{constructor:{value:Ne,writable:!0,configurable:!0}}),we&&ce(Ne,we)}function ce(Ne,we){return ce=Object.setPrototypeOf||function(De,$e){return De.__proto__=$e,De},ce(Ne,we)}function he(Ne){var we=fe();return function(){var De=ye(Ne),$e;if(we){var Ge=ye(this).constructor;$e=Reflect.construct(De,arguments,Ge)}else $e=De.apply(this,arguments);return de(this,$e)}}function de(Ne,we){if(we&&(ie(we)==="object"||typeof we=="function"))return we;if(we!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _e(Ne)}function _e(Ne){if(Ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ne}function fe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ye(Ne){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(we){return we.__proto__||Object.getPrototypeOf(we)},ye(Ne)}function be(Ne,we,De){return we in Ne?Object.defineProperty(Ne,we,{value:De,enumerable:!0,configurable:!0,writable:!0}):Ne[we]=De,Ne}var Pe=function(Ne){ue(De,Ne);var we=he(De);function De($e){var Ge;return se(this,De),Ge=we.call(this,$e),be(_e(Ge),"timeout",void 0),be(_e(Ge),"container",void 0),be(_e(Ge),"content",void 0),be(_e(Ge),"onResize",function(){if(clearTimeout(Ge.timeout),!(!Ge.container||!Ge.content)){var Be=Ge.props,ze=Be.isOpened,$t=Be.checkTimeout,ut=Math.floor(Ge.container.clientHeight),Ti=Math.floor(Ge.content.clientHeight),Hi=ze&&Math.abs(Ti-ut)<=1,bn=!ze&&Math.abs(ut)<=1;Hi||bn?Ge.onRest({isFullyOpened:Hi,isFullyClosed:bn,isOpened:ze,containerHeight:ut,contentHeight:Ti}):(Ge.onWork({isFullyOpened:Hi,isFullyClosed:bn,isOpened:ze,containerHeight:ut,contentHeight:Ti}),Ge.timeout=setTimeout(function(){return Ge.onResize()},$t))}}),be(_e(Ge),"onRest",function(Be){var ze=Be.isFullyOpened,$t=Be.isFullyClosed,ut=Be.isOpened,Ti=Be.containerHeight,Hi=Be.contentHeight;if(!(!Ge.container||!Ge.content)){var bn=ut&&Ge.container.style.height==="".concat(Hi,"px"),gd=!ut&&Ge.container.style.height==="0px";if(bn||gd){Ge.container.style.overflow=ut?"initial":"hidden",Ge.container.style.height=ut?"auto":"0px";var Pm=Ge.props.onRest;Pm&&Pm({isFullyOpened:ze,isFullyClosed:$t,isOpened:ut,containerHeight:Ti,contentHeight:Hi})}}}),be(_e(Ge),"onWork",function(Be){var ze=Be.isFullyOpened,$t=Be.isFullyClosed,ut=Be.isOpened,Ti=Be.containerHeight,Hi=Be.contentHeight;if(!(!Ge.container||!Ge.content)){var bn=ut&&Ge.container.style.height==="".concat(Hi,"px"),gd=!ut&&Ge.container.style.height==="0px";if(!(bn||gd)){Ge.container.style.overflow="hidden",Ge.container.style.height=ut?"".concat(Hi,"px"):"0px";var Pm=Ge.props.onWork;Pm&&Pm({isFullyOpened:ze,isFullyClosed:$t,isOpened:ut,containerHeight:Ti,contentHeight:Hi})}}}),be(_e(Ge),"onRefContainer",function(Be){Ge.container=Be}),be(_e(Ge),"onRefContent",function(Be){Ge.content=Be}),$e.initialStyle?Ge.initialStyle=$e.initialStyle:Ge.initialStyle=$e.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},Ge}return le(De,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function($e){var Ge=this.props,Be=Ge.theme,ze=Ge.isOpened,$t=Ge.children;return $t!==$e.children||ze!==$e.isOpened||Object.keys(Be).some(function(ut){return Be[ut]!==$e.theme[ut]})}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if(this.container.style.height==="auto"){var $e=this.content.clientHeight;this.container.style.height="".concat($e,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var $e=this.props,Ge=$e.theme,Be=$e.children,ze=$e.isOpened;return ee.default.createElement("div",{ref:this.onRefContainer,className:Ge.collapse,style:this.initialStyle,"aria-hidden":!ze},ee.default.createElement("div",{ref:this.onRefContent,className:Ge.content},Be))}}]),De}(ee.default.Component);return En.Collapse=Pe,be(Pe,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50}),En}var Mn={},Ku;function p_(){if(Ku)return Mn;Ku=1;function ie(ut){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ie=function(Ti){return typeof Ti}:ie=function(Ti){return Ti&&typeof Symbol=="function"&&Ti.constructor===Symbol&&Ti!==Symbol.prototype?"symbol":typeof Ti},ie(ut)}Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.UnmountClosed=void 0;var ee=le(React),te=Bp(),se=["isOpened"],ne=["isOpened"];function le(ut){return ut&&ut.__esModule?ut:{default:ut}}function ue(){return ue=Object.assign||function(ut){for(var Ti=1;Ti<arguments.length;Ti++){var Hi=arguments[Ti];for(var bn in Hi)Object.prototype.hasOwnProperty.call(Hi,bn)&&(ut[bn]=Hi[bn])}return ut},ue.apply(this,arguments)}function ce(ut,Ti){var Hi=Object.keys(ut);if(Object.getOwnPropertySymbols){var bn=Object.getOwnPropertySymbols(ut);Ti&&(bn=bn.filter(function(gd){return Object.getOwnPropertyDescriptor(ut,gd).enumerable})),Hi.push.apply(Hi,bn)}return Hi}function he(ut){for(var Ti=1;Ti<arguments.length;Ti++){var Hi=arguments[Ti]!=null?arguments[Ti]:{};Ti%2?ce(Object(Hi),!0).forEach(function(bn){ze(ut,bn,Hi[bn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ut,Object.getOwnPropertyDescriptors(Hi)):ce(Object(Hi)).forEach(function(bn){Object.defineProperty(ut,bn,Object.getOwnPropertyDescriptor(Hi,bn))})}return ut}function de(ut,Ti){if(ut==null)return{};var Hi=_e(ut,Ti),bn,gd;if(Object.getOwnPropertySymbols){var Pm=Object.getOwnPropertySymbols(ut);for(gd=0;gd<Pm.length;gd++)bn=Pm[gd],!(Ti.indexOf(bn)>=0)&&Object.prototype.propertyIsEnumerable.call(ut,bn)&&(Hi[bn]=ut[bn])}return Hi}function _e(ut,Ti){if(ut==null)return{};var Hi={},bn=Object.keys(ut),gd,Pm;for(Pm=0;Pm<bn.length;Pm++)gd=bn[Pm],!(Ti.indexOf(gd)>=0)&&(Hi[gd]=ut[gd]);return Hi}function fe(ut,Ti){if(!(ut instanceof Ti))throw new TypeError("Cannot call a class as a function")}function ye(ut,Ti){for(var Hi=0;Hi<Ti.length;Hi++){var bn=Ti[Hi];bn.enumerable=bn.enumerable||!1,bn.configurable=!0,"value"in bn&&(bn.writable=!0),Object.defineProperty(ut,bn.key,bn)}}function be(ut,Ti,Hi){return ye(ut.prototype,Ti),ut}function Pe(ut,Ti){if(typeof Ti!="function"&&Ti!==null)throw new TypeError("Super expression must either be null or a function");ut.prototype=Object.create(Ti&&Ti.prototype,{constructor:{value:ut,writable:!0,configurable:!0}}),Ti&&Ne(ut,Ti)}function Ne(ut,Ti){return Ne=Object.setPrototypeOf||function(Hi,bn){return Hi.__proto__=bn,Hi},Ne(ut,Ti)}function we(ut){var Ti=Ge();return function(){var Hi=Be(ut),bn;if(Ti){var gd=Be(this).constructor;bn=Reflect.construct(Hi,arguments,gd)}else bn=Hi.apply(this,arguments);return De(this,bn)}}function De(ut,Ti){if(Ti&&(ie(Ti)==="object"||typeof Ti=="function"))return Ti;if(Ti!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(ut)}function $e(ut){if(ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut}function Ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Be(ut){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(Ti){return Ti.__proto__||Object.getPrototypeOf(Ti)},Be(ut)}function ze(ut,Ti,Hi){return Ti in ut?Object.defineProperty(ut,Ti,{value:Hi,enumerable:!0,configurable:!0,writable:!0}):ut[Ti]=Hi,ut}var $t=function(ut){Pe(Hi,ut);var Ti=we(Hi);function Hi(bn){var gd;return fe(this,Hi),gd=Ti.call(this,bn),ze($e(gd),"onWork",function(Pm){var oE=Pm.isOpened,aE=de(Pm,se);gd.setState({isResting:!1,isOpened:oE});var nE=gd.props.onWork;nE&&nE(he({isOpened:oE},aE))}),ze($e(gd),"onRest",function(Pm){var oE=Pm.isOpened,aE=de(Pm,ne);gd.setState({isResting:!0,isOpened:oE,isInitialRender:!1});var nE=gd.props.onRest;nE&&nE(he({isOpened:oE},aE))}),ze($e(gd),"getInitialStyle",function(){var Pm=gd.state,oE=Pm.isOpened,aE=Pm.isInitialRender;return aE?oE?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}:{height:"0px",overflow:"hidden"}}),gd.state={isResting:!0,isOpened:bn.isOpened,isInitialRender:!0},gd}return be(Hi,[{key:"componentDidUpdate",value:function(bn){var gd=this.props.isOpened;bn.isOpened!==gd&&this.setState({isResting:!1,isOpened:gd,isInitialRender:!1})}},{key:"render",value:function(){var bn=this.state,gd=bn.isResting,Pm=bn.isOpened;return gd&&!Pm?null:ee.default.createElement(te.Collapse,ue({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}]),Hi}(ee.default.PureComponent);return Mn.UnmountClosed=$t,ze($t,"defaultProps",{onWork:void 0,onRest:void 0}),Mn}var xi,Qu;function h_(){if(Qu)return xi;Qu=1;var ie=Bp(),ee=ie.Collapse,te=p_(),se=te.UnmountClosed;return xi=se,se.Collapse=ee,se.UnmountClosed=se,xi}var m_=h_();const g_="_container_iuu9u_1",b_="_visible_iuu9u_1",v_="_absolute_iuu9u_1",y_="_relative_iuu9u_1",w_="_flex_iuu9u_1",__="_hidden_iuu9u_1",A_="_border_iuu9u_1",x_="_italic_iuu9u_1",S_="_outline_iuu9u_1",C_="_filter_iuu9u_1",R_="_SettingCommon_iuu9u_4",T_="_CaretIcon_iuu9u_43",I_="_CaretIconRotated_iuu9u_47",O_="_InputNumber_iuu9u_51",P_="_InputText_iuu9u_55",N_="_SwitchTrackOff_iuu9u_59",k_="_Switch_iuu9u_59",E_="_TextInput_iuu9u_71",M_="_NumberInput_iuu9u_81",je={container:g_,"pointer-events-none":"_pointer-events-none_iuu9u_1",visible:b_,absolute:v_,relative:y_,"end-0":"_end-0_iuu9u_1","mx-auto":"_mx-auto_iuu9u_1","ms-1":"_ms-1_iuu9u_1",flex:w_,hidden:__,"h-full":"_h-full_iuu9u_1","w-full":"_w-full_iuu9u_1","max-w-full":"_max-w-full_iuu9u_1","flex-shrink-0":"_flex-shrink-0_iuu9u_1","cursor-pointer":"_cursor-pointer_iuu9u_1","select-none":"_select-none_iuu9u_1","flex-col":"_flex-col_iuu9u_1","gap-1":"_gap-1_iuu9u_1","gap-2":"_gap-2_iuu9u_1","overflow-auto":"_overflow-auto_iuu9u_1","overflow-hidden":"_overflow-hidden_iuu9u_1",border:A_,"p-0":"_p-0_iuu9u_1",italic:x_,"text-black":"_text-black_iuu9u_1",outline:S_,filter:C_,SettingCommon:R_,CaretIcon:T_,CaretIconRotated:I_,InputNumber:O_,InputText:P_,SwitchTrackOff:N_,Switch:k_,TextInput:E_,NumberInput:M_},$_="_container_178dm_1",D_="_visible_178dm_1",L_="_absolute_178dm_1",F_="_relative_178dm_1",B_="_flex_178dm_1",z_="_hidden_178dm_1",q_="_border_178dm_1",j_="_italic_178dm_1",V_="_outline_178dm_1",H_="_filter_178dm_1",U_="_OpenCollapsedSettingsHandler_178dm_4",W_="_IconContainer_178dm_4",G_="_CaretIcon_178dm_43",Y_="_CaretIconRotated_178dm_47",yr={container:$_,"pointer-events-none":"_pointer-events-none_178dm_1",visible:D_,absolute:L_,relative:F_,"end-0":"_end-0_178dm_1","mx-auto":"_mx-auto_178dm_1","ms-1":"_ms-1_178dm_1",flex:B_,hidden:z_,"h-full":"_h-full_178dm_1","w-full":"_w-full_178dm_1","max-w-full":"_max-w-full_178dm_1","flex-shrink-0":"_flex-shrink-0_178dm_1","cursor-pointer":"_cursor-pointer_178dm_1","select-none":"_select-none_178dm_1","flex-col":"_flex-col_178dm_1","gap-1":"_gap-1_178dm_1","gap-2":"_gap-2_178dm_1","overflow-auto":"_overflow-auto_178dm_1","overflow-hidden":"_overflow-hidden_178dm_1",border:q_,"p-0":"_p-0_178dm_1",italic:j_,"text-black":"_text-black_178dm_1",outline:V_,filter:H_,OpenCollapsedSettingsHandler:U_,IconContainer:W_,CaretIcon:G_,CaretIconRotated:Y_},K_=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M240.49,119.51l-96-96A12,12,0,0,0,124,32V68H80A12,12,0,0,0,68,80v96a12,12,0,0,0,12,12h44v36a12,12,0,0,0,20.49,8.49l96-96A12,12,0,0,0,240.49,119.51ZM148,195V176a12,12,0,0,0-12-12H92V92h44a12,12,0,0,0,12-12V61l67,67ZM52,80v96a12,12,0,0,1-24,0V80a12,12,0,0,1,24,0Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M136,224V176H72V80h64V32l96,96Z",opacity:"0.2"}),React.createElement("path",{d:"M237.66,122.34l-96-96A8,8,0,0,0,128,32V72H72a8,8,0,0,0-8,8v96a8,8,0,0,0,8,8h56v40a8,8,0,0,0,13.66,5.66l96-96A8,8,0,0,0,237.66,122.34ZM144,204.69V176a8,8,0,0,0-8-8H80V88h56a8,8,0,0,0,8-8V51.31L220.69,128ZM48,80v96a8,8,0,0,1-16,0V80a8,8,0,0,1,16,0Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M48,80v96a8,8,0,0,1-16,0V80a8,8,0,0,1,16,0Zm189.66,42.34-96-96A8,8,0,0,0,128,32V72H72a8,8,0,0,0-8,8v96a8,8,0,0,0,8,8h56v40a8,8,0,0,0,13.66,5.66l96-96A8,8,0,0,0,237.66,122.34Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M236.24,123.76l-96-96A6,6,0,0,0,130,32V74H72a6,6,0,0,0-6,6v96a6,6,0,0,0,6,6h58v42a6,6,0,0,0,10.24,4.24l96-96A6,6,0,0,0,236.24,123.76ZM142,209.51V176a6,6,0,0,0-6-6H78V86h58a6,6,0,0,0,6-6V46.49L223.51,128ZM46,80v96a6,6,0,0,1-12,0V80a6,6,0,0,1,12,0Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M237.66,122.34l-96-96A8,8,0,0,0,128,32V72H72a8,8,0,0,0-8,8v96a8,8,0,0,0,8,8h56v40a8,8,0,0,0,13.66,5.66l96-96A8,8,0,0,0,237.66,122.34ZM144,204.69V176a8,8,0,0,0-8-8H80V88h56a8,8,0,0,0,8-8V51.31L220.69,128ZM48,80v96a8,8,0,0,1-16,0V80a8,8,0,0,1,16,0Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M234.83,125.17l-96-96A4,4,0,0,0,132,32V76H72a4,4,0,0,0-4,4v96a4,4,0,0,0,4,4h60v44a4,4,0,0,0,2.47,3.7,4,4,0,0,0,4.36-.87l96-96A4,4,0,0,0,234.83,125.17ZM140,214.34V176a4,4,0,0,0-4-4H76V84h60a4,4,0,0,0,4-4V41.66L226.34,128ZM44,80v96a4,4,0,0,1-8,0V80a4,4,0,0,1,8,0Z"}))]]),Q_=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M208,96l-80,80L48,96Z",opacity:"0.2"}),React.createElement("path",{d:"M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z"}))]]),Z_=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M160,48V208L80,128Z",opacity:"0.2"}),React.createElement("path",{d:"M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"}))]]),J_=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M176,128,96,208V48Z",opacity:"0.2"}),React.createElement("path",{d:"M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"}))]]),X_=reactExports.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1});var eA=Object.defineProperty,Dr=Object.getOwnPropertySymbols,zp=Object.prototype.hasOwnProperty,qp=Object.prototype.propertyIsEnumerable,Zu=(ie,ee,te)=>ee in ie?eA(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,Ju=(ie,ee)=>{for(var te in ee||(ee={}))zp.call(ee,te)&&Zu(ie,te,ee[te]);if(Dr)for(var te of Dr(ee))qp.call(ee,te)&&Zu(ie,te,ee[te]);return ie},Xu=(ie,ee)=>{var te={};for(var se in ie)zp.call(ie,se)&&ee.indexOf(se)<0&&(te[se]=ie[se]);if(ie!=null&&Dr)for(var se of Dr(ie))ee.indexOf(se)<0&&qp.call(ie,se)&&(te[se]=ie[se]);return te};const jp=reactExports.forwardRef((ie,ee)=>{const te=ie,{alt:se,color:ne,size:le,weight:ue,mirrored:ce,children:he,weights:de}=te,_e=Xu(te,["alt","color","size","weight","mirrored","children","weights"]),fe=reactExports.useContext(X_),{color:ye="currentColor",size:be,weight:Pe="regular",mirrored:Ne=!1}=fe,we=Xu(fe,["color","size","weight","mirrored"]);return React.createElement("svg",Ju(Ju({ref:ee,xmlns:"http://www.w3.org/2000/svg",width:le??be,height:le??be,fill:ne??ye,viewBox:"0 0 256 256",transform:ce||Ne?"scale(-1, 1)":void 0},we),_e),!!se&&React.createElement("title",null,se),he,de.get(ue??Pe))});jp.displayName="IconBase";const bo=jp;var tA=Object.defineProperty,nA=Object.defineProperties,rA=Object.getOwnPropertyDescriptors,ed=Object.getOwnPropertySymbols,oA=Object.prototype.hasOwnProperty,aA=Object.prototype.propertyIsEnumerable,td=(ie,ee,te)=>ee in ie?tA(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,iA=(ie,ee)=>{for(var te in ee||(ee={}))oA.call(ee,te)&&td(ie,te,ee[te]);if(ed)for(var te of ed(ee))aA.call(ee,te)&&td(ie,te,ee[te]);return ie},sA=(ie,ee)=>nA(ie,rA(ee));const Vp=reactExports.forwardRef((ie,ee)=>React.createElement(bo,sA(iA({ref:ee},ie),{weights:K_})));Vp.displayName="ArrowFatLineRight";var lA=Object.defineProperty,cA=Object.defineProperties,uA=Object.getOwnPropertyDescriptors,nd=Object.getOwnPropertySymbols,dA=Object.prototype.hasOwnProperty,fA=Object.prototype.propertyIsEnumerable,rd=(ie,ee,te)=>ee in ie?lA(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,pA=(ie,ee)=>{for(var te in ee||(ee={}))dA.call(ee,te)&&rd(ie,te,ee[te]);if(nd)for(var te of nd(ee))fA.call(ee,te)&&rd(ie,te,ee[te]);return ie},hA=(ie,ee)=>cA(ie,uA(ee));const Hp=reactExports.forwardRef((ie,ee)=>React.createElement(bo,hA(pA({ref:ee},ie),{weights:Q_})));Hp.displayName="CaretDown";var mA=Object.defineProperty,gA=Object.defineProperties,bA=Object.getOwnPropertyDescriptors,od=Object.getOwnPropertySymbols,vA=Object.prototype.hasOwnProperty,yA=Object.prototype.propertyIsEnumerable,ad=(ie,ee,te)=>ee in ie?mA(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,wA=(ie,ee)=>{for(var te in ee||(ee={}))vA.call(ee,te)&&ad(ie,te,ee[te]);if(od)for(var te of od(ee))yA.call(ee,te)&&ad(ie,te,ee[te]);return ie},_A=(ie,ee)=>gA(ie,bA(ee));const Up=reactExports.forwardRef((ie,ee)=>React.createElement(bo,_A(wA({ref:ee},ie),{weights:Z_})));Up.displayName="CaretLeft";var AA=Object.defineProperty,xA=Object.defineProperties,SA=Object.getOwnPropertyDescriptors,id=Object.getOwnPropertySymbols,CA=Object.prototype.hasOwnProperty,RA=Object.prototype.propertyIsEnumerable,sd=(ie,ee,te)=>ee in ie?AA(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,TA=(ie,ee)=>{for(var te in ee||(ee={}))CA.call(ee,te)&&sd(ie,te,ee[te]);if(id)for(var te of id(ee))RA.call(ee,te)&&sd(ie,te,ee[te]);return ie},IA=(ie,ee)=>xA(ie,SA(ee));const Wp=reactExports.forwardRef((ie,ee)=>React.createElement(bo,IA(TA({ref:ee},ie),{weights:J_})));Wp.displayName="CaretRight";const In=({handler:ie,isRotated:ee})=>jsxRuntimeExports.jsx("div",{className:re(yr.OpenCollapsedSettingsHandler),children:ie&&jsxRuntimeExports.jsx("div",{className:yr.IconContainer,children:jsxRuntimeExports.jsx(Hp,{size:18,className:re(yr.CaretIcon,ee&&yr.CaretIconRotated),onClick:ie})})}),OA=({label:ie,value:ee,isRotated:te,description:se,openCollapsedHandler:ne,onChange:le,isSubSetting:ue,_value:ce})=>{const he=le||(ee==null?void 0:ee.set)||(()=>{});return jsxRuntimeExports.jsxs("div",{className:re(je.SettingCommon,ue&&je.SubSetting),children:[jsxRuntimeExports.jsx(wt,{justify:"space-between",children:jsxRuntimeExports.jsx(tn,{label:ie,checked:ce!==void 0?ce:ee==null?void 0:ee.value,onChange:de=>he(de.target.checked),description:se,styles:{body:{alignItems:"center"}}})}),ne&&te!==void 0&&jsxRuntimeExports.jsx(In,{handler:ne,isRotated:te})]})},PA=({label:ie,value:ee,isRotated:te,description:se,openCollapsedHandler:ne,onChange:le,isSubSetting:ue,max:ce,min:he,numberInputValue:de,step:_e,_value:fe})=>jsxRuntimeExports.jsxs("div",{className:re(je.SettingCommon,ue&&je.SubSetting),children:[jsxRuntimeExports.jsxs(wt,{justify:"space-between",children:[jsxRuntimeExports.jsx(tn,{label:ie,checked:fe!==void 0?fe:ee.value,onChange:ye=>(le||ee.set)(ye.target.checked),description:se}),jsxRuntimeExports.jsx(ir,{value:de.value,onChange:ye=>de.set(ye),autoComplete:"off",min:he,max:ce,step:_e,size:"xs",w:"70px",radius:"md"})]}),jsxRuntimeExports.jsx(In,{handler:ne,isRotated:te})]}),NA=({label:ie,value:ee,isRotated:te,description:se,openCollapsedHandler:ne,isSubSetting:le,max:ue,min:ce,step:he})=>jsxRuntimeExports.jsxs("div",{className:re(je.SettingCommon,le&&je.SubSetting),children:[jsxRuntimeExports.jsx(wt,{justify:"space-between",children:jsxRuntimeExports.jsx(ir,{label:ie,onChange:de=>ee.set(de),description:se,value:ee.value,autoComplete:"off",min:ce,max:ue,step:he,className:je.NumberInput})}),jsxRuntimeExports.jsx(In,{handler:ne,isRotated:te})]}),kA=({label:ie,value:ee,isRotated:te,description:se,onChange:ne,textInputValue:le,textInputPlaceholder:ue,openCollapsedHandler:ce,isSubSetting:he,_value:de})=>jsxRuntimeExports.jsxs("div",{className:re(je.SettingCommon,he&&je.SubSetting),children:[jsxRuntimeExports.jsxs(wt,{justify:"space-between",children:[jsxRuntimeExports.jsx(tn,{label:ie,checked:de!==void 0?de:ee.value,onChange:_e=>(ne||ee.set)(_e.target.checked),description:se}),jsxRuntimeExports.jsx(Mt,{onChange:_e=>le.set(_e.target.value),value:le.value,autoComplete:"off",placeholder:ue})]}),jsxRuntimeExports.jsx(In,{handler:ce,isRotated:te})]}),EA=({label:ie,value:ee,isRotated:te,description:se,openCollapsedHandler:ne,isSubSetting:le,placeholder:ue})=>jsxRuntimeExports.jsxs("div",{className:re(je.SettingCommon,le&&je.SubSetting),children:[jsxRuntimeExports.jsx(wt,{justify:"space-between",children:jsxRuntimeExports.jsx(Mt,{label:ie,onChange:ce=>ee.set(ce.target.value),description:se,value:ee.value,autoComplete:"off",placeholder:ue,className:je.TextInput})}),jsxRuntimeExports.jsx(In,{handler:ne,isRotated:te})]}),MA=({label:ie,value:ee,isRotated:te,description:se,openCollapsedHandler:ne,isSubSetting:le,placeholder:ue,peerValue:ce,peerPlaceholder:he,valueSetter:de,peerValueSetter:_e})=>jsxRuntimeExports.jsxs("div",{className:re(je.SettingCommon,le&&je.SubSetting),children:[jsxRuntimeExports.jsxs(wt,{justify:"space-between",children:[jsxRuntimeExports.jsx(Mt,{label:ie,onChange:fe=>de(fe.target.value),description:se,value:ee,autoComplete:"off",placeholder:ue,w:"100%"}),jsxRuntimeExports.jsx("div",{style:{padding:"0px 5px"},children:jsxRuntimeExports.jsx(Vp,{size:14})}),jsxRuntimeExports.jsx(Mt,{label:ie,onChange:fe=>_e(fe.target.value),value:ce,autoComplete:"off",placeholder:he,w:"100%"})]}),jsxRuntimeExports.jsx(In,{handler:ne,isRotated:te})]}),$A=({label:ie,action:ee,description:te})=>{const[se,ne]=reactExports.useState(!1);return jsxRuntimeExports.jsx("div",{className:re(je.SettingCommon),onClick:()=>{ne(!0),ee().then(()=>ne(!1))},children:jsxRuntimeExports.jsxs(wt,{justify:"space-between",align:"center",children:[jsxRuntimeExports.jsxs(Le,{children:[jsxRuntimeExports.jsx(Ce,{size:"xs",children:ie}),te&&jsxRuntimeExports.jsx(Ce,{size:"xs",children:te})]}),jsxRuntimeExports.jsx(or,{color:"green.7",size:"sm",loading:se,loaderProps:{type:"dots"},children:jsxRuntimeExports.jsx(I0,{})})]})})},ld=({type:ie,...ee})=>{switch(ie){case"switch":return jsxRuntimeExports.jsx(OA,{...ee});case"switchWithNumberInput":return jsxRuntimeExports.jsx(PA,{...ee});case"switchWithTextInput":return jsxRuntimeExports.jsx(kA,{...ee});case"textInput":return jsxRuntimeExports.jsx(EA,{...ee});case"peerTextRaw":return jsxRuntimeExports.jsx(MA,{...ee});case"numberInput":return jsxRuntimeExports.jsx(NA,{...ee});case"action":return jsxRuntimeExports.jsx($A,{...ee})}},X$1=({children:ie})=>{const[ee,te]=reactExports.useState(!1);let se=ie,ne=[];Array.isArray(ie)&&(se=ie[0],ne=ie.slice(1).flat());const le=se.isMain,ue=jsxRuntimeExports.jsx(ld,{...se,...le?{openCollapsedHandler:()=>te(!ee),isRotated:ee}:{}}),ce=ne.map((he,de)=>jsxRuntimeExports.jsx(ld,{...he,...le?{isSubSetting:!0}:{}},de));return jsxRuntimeExports.jsxs("div",{className:f_.GroupedSettings,children:[ue,le?jsxRuntimeExports.jsx(m_.Collapse,{isOpened:ee,children:ce}):ce]})};function $$3(ie,ee){return{value:oe(ie)[ee],set:te=>{ie[ee]=te}}}const xt=ie=>ie.reduce((ee,te)=>ee||te,!1),pt=(ie,ee)=>{ee.forEach(([te,se])=>{te[se]=ie})},DA="_container_1jx4d_1",LA="_visible_1jx4d_1",FA="_absolute_1jx4d_1",BA="_relative_1jx4d_1",zA="_flex_1jx4d_1",qA="_hidden_1jx4d_1",jA="_border_1jx4d_1",VA="_italic_1jx4d_1",HA="_outline_1jx4d_1",UA="_filter_1jx4d_1",WA="_InventorySearchShortcuts_1jx4d_4",GA={container:DA,"pointer-events-none":"_pointer-events-none_1jx4d_1",visible:LA,absolute:FA,relative:BA,"end-0":"_end-0_1jx4d_1","mx-auto":"_mx-auto_1jx4d_1","ms-1":"_ms-1_1jx4d_1",flex:zA,hidden:qA,"h-full":"_h-full_1jx4d_1","w-full":"_w-full_1jx4d_1","max-w-full":"_max-w-full_1jx4d_1","flex-shrink-0":"_flex-shrink-0_1jx4d_1","cursor-pointer":"_cursor-pointer_1jx4d_1","select-none":"_select-none_1jx4d_1","flex-col":"_flex-col_1jx4d_1","gap-1":"_gap-1_1jx4d_1","gap-2":"_gap-2_1jx4d_1","overflow-auto":"_overflow-auto_1jx4d_1","overflow-hidden":"_overflow-hidden_1jx4d_1",border:jA,"p-0":"_p-0_1jx4d_1",italic:VA,"text-black":"_text-black_1jx4d_1",outline:HA,filter:UA,InventorySearchShortcuts:WA},YA=()=>{const ie=oe(A$2.reworkUi.inventory.keybindingsToSearches),ee=A$2.reworkUi.inventory.keybindingsToSearches,te=ee.bindings,se=[];return ie.bindings.forEach((ne,le)=>{const[ue,ce]=ne;se.push({type:"peerTextRaw",label:"",value:ue,peerValue:ce,valueSetter:he=>te[le][0]=he,peerValueSetter:he=>te[le][1]=he,placeholder:"Atalho",peerPlaceholder:"Busca"})}),jsxRuntimeExports.jsx("div",{className:re("_InventorySearchShortcuts",GA.InventorySearchShortcuts),children:jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Atalhos de busca",isMain:!0,value:$$3(ee,"enabled")},se]})})},cd=()=>jsxRuntimeExports.jsxs("div",{className:zt.Page,children:[jsxRuntimeExports.jsx(Ae,{title:"Renderização",children:jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Ocultar todos os mobis de iluminação",value:$$3(A$2,"hideAllOrbs")},{type:"switch",label:"Ocultar todos os mobis de sombra",value:$$3(A$2,"hideAllShadows")}]})}),jsxRuntimeExports.jsxs(Ae,{title:"Loja",children:[jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Exibir em formato de lista com descrições",value:$$3(A$2.reworkUi.store,"showOptionToShowAsList"),onChange:ie=>{pt(ie,[[A$2.reworkUi.store,"showAsList"],[A$2.reworkUi.store,"showOptionToShowAsList"]])}},{type:"switch",label:"Pular confirmação de compra",value:$$3(A$2.reworkUi.store,"skipConfirmation")},{type:"switch",label:"Comprar e colocar mobi no quarto ao clicar no chão",value:$$3(A$2,"buyAndPlaceByClick")},{type:"switchWithNumberInput",label:"Quantidade padrão de compra",value:$$3(A$2.reworkUi.store.defaultQuantity,"enabled"),numberInputValue:$$3(A$2.reworkUi.store.defaultQuantity,"value")}]}),jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Remover botão Presentear",value:$$3(A$2.reworkUi.store,"removeGiftButton")},{type:"switch",label:'Abrir loja direto no mobi ao clicar em "Compre um"',value:$$3(A$2.optimizations,"fixBuyOneButton")}]})]}),jsxRuntimeExports.jsxs(Ae,{title:"Inventário",children:[jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Repor mobis automaticamente quando estiver esgotando no inventário",value:$$3(A$2.buyAutomaticallyOnThreshold,"enabled")},{type:"numberInput",label:"Quando a quantidade do mobi for igual ou menor que:",value:$$3(A$2.buyAutomaticallyOnThreshold,"threshold")},{type:"numberInput",label:"Comprar esta quantidade:",value:$$3(A$2.buyAutomaticallyOnThreshold,"quantity")}]}),jsxRuntimeExports.jsx(YA,{})]}),jsxRuntimeExports.jsxs(Ae,{title:"Outros",children:[jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Soltar item com tecla Esc",value:$$3(A$2.reworkUi,"dropObjectOnEscape")},{type:"switch",label:"Abrir inventáro após soltar item",value:$$3(A$2.reworkUi,"openInventoryAfterDropObject")}]}),jsxRuntimeExports.jsx(X$1,{children:{type:"switch",label:"Usar toner de fundo do Hibisco",value:$$3(A$2.mobisInterfaces.toner,"enabled"),description:"Contém seletor de cores para selecionar cores de mobis"}})]})]}),KA=()=>jsxRuntimeExports.jsxs("div",{className:zt.Page,children:[jsxRuntimeExports.jsx(Ae,{title:"Interface Wired",children:jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Pular confirmação ao editar wireds alheios",value:$$3(A$2,"wiredSkipConfirmation")},{type:"switch",label:"Continuar vendo wireds após ocultar com :wired",value:$$3(A$2,"dontHideWired")},{type:"switch",label:"Configurações avançadas sempre abertas",value:$$3(A$2.reworkUi,"alwaysOpenAdvancedSettings")},{type:"switch",label:"Botões de copiar e colar configuração wired",value:$$3(A$2.reworkUi.wired,"copyAndPasteButtons")},{type:"switch",label:"Seleção de fontes através de ícones",value:$$3(A$2.reworkUi.wired,"selectSourceByIcons")},{type:"switch",label:"Corrigir lags dos seletores de área",value:$$3(A$2.optimizations,"fixRoomAreaSelector"),description:"A mesma função que corrige o ocultador de área."},{type:"switch",label:"Usar seletor de vizinhança do Hibisco",value:$$3(A$2.reworkUi.wired,"neighbourhoodRewrite"),description:"O clique não é torto e é possível dar zoom com scroll do mouse."}]})}),jsxRuntimeExports.jsx(Ae,{title:"Mobis",children:jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Destacar mobi do wired aberto",value:$$3(A$2.reworkUi.wired,"highlightOpenWired"),description:"Se você alterar o valor, recarregue a página."},{type:"switch",label:"Efeito translúcido para mobis selecionados no wired",value:$$3(A$2.reworkUi.wired,"highlightOpenWired"),description:"Se você alterar o valor, recarregue a página."}]})}),jsxRuntimeExports.jsxs(Ae,{title:"Atalhos",children:[jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Salvar wired clicando em Enter",value:$$3(A$2.reworkUi.wired,"saveOnEnter")},{type:"switch",label:"Ignorar quando campo de mensagem no quarto estiver com texto",value:$$3(A$2.reworkUi.wired,"ignoreSaveOnEnterWhenChatInputHasText")}]}),jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Atalhos para categorias de wired na loja",value:$$3(A$2.reworkUi.wired.keyboardShortcuts,"enabled")},{type:"textInput",label:"Ativadores",value:$$3(A$2.reworkUi.wired.keyboardShortcuts,"ativadores")},{type:"textInput",label:"Efeitos",value:$$3(A$2.reworkUi.wired.keyboardShortcuts,"efeitos")},{type:"textInput",label:"Condições",value:$$3(A$2.reworkUi.wired.keyboardShortcuts,"condicoes")},{type:"textInput",label:"Seletores",value:$$3(A$2.reworkUi.wired.keyboardShortcuts,"seletores")},{type:"textInput",label:"Add-ons",value:$$3(A$2.reworkUi.wired.keyboardShortcuts,"addons")},{type:"textInput",label:"Extras",value:$$3(A$2.reworkUi.wired.keyboardShortcuts,"extras")},{type:"textInput",label:"Esferas",value:$$3(A$2.reworkUi.wired.keyboardShortcuts,"esferas")},{type:"textInput",label:"Portas",value:$$3(A$2.reworkUi.wired.keyboardShortcuts,"portas")},{type:"textInput",label:"Pisos Wired",value:$$3(A$2.reworkUi.wired.keyboardShortcuts,"pisoWired")},{type:"textInput",label:"Lajotas Andáveis",value:$$3(A$2.reworkUi.wired.keyboardShortcuts,"lajotaAndavel")}]})]})]}),QA=()=>jsxRuntimeExports.jsxs("div",{className:zt.Page,children:[jsxRuntimeExports.jsx(Ae,{title:"Utilidades gerais",children:jsxRuntimeExports.jsx(X$1,{children:{type:"switch",label:"Clicar nas pessoas sem ativar os wireds do quarto",value:$$3(A$2,"blockClick")}})}),jsxRuntimeExports.jsxs(Ae,{title:"Funções experimentais",children:[jsxRuntimeExports.jsx(X$1,{children:{type:"switch",label:"Catálogo direto",value:$$3(A$2,"directCatalog")}}),jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Mostrar quarto em que os amigos estão",value:$$3(A$2.reworkUi,"showRoomOfFriends")},{type:"switch",label:"Só mostrar quarto de amigos nos relacionamentos",value:$$3(A$2.reworkUi,"showRoomOnlyOfRelationship")},{type:"switch",label:"Notificar quando estiver atualizando lista de quartos com amigos",value:$$3(A$2.reworkUi,"notificateFriendsRoomList")},{type:"switch",label:"Atualizar lista de quartos com amigos ao abrir a lista de amigos",value:$$3(A$2.reworkUi,"updateFriendRoomListOnOpenList")},{type:"numberInput",label:"Duração de cache da lista de quartos com amigos (em segundos)",value:$$3(A$2.reworkUi,"updateFriendRoomListCacheInvalidateSeconds"),description:"Usado apenas quando a lista de quartos com amigos é atualizada ao abrir a lista de amigos."},{type:"switch",label:"Atualizar lista de quartos com amigos em segundo plano",value:$$3(A$2.reworkUi,"updateFriendRoomListOnBackground")},{type:"numberInput",label:"Intervalo de atualização da lista de quartos com amigos em segundo plano (em segundos)",value:$$3(A$2.reworkUi,"updateFriendRoomListCacheIntervalSecondsOnBackground")}]})]})]}),ZA=()=>{const ie=oe(A$2);return jsxRuntimeExports.jsxs("div",{className:zt.Page,children:[jsxRuntimeExports.jsxs(Ae,{title:"Janelas da interface (nitro cards)",children:[jsxRuntimeExports.jsx(X$1,{children:{type:"switch",label:"Minimizar janelas com duplo clique na barra azul",value:$$3(A$2.reworkUi,"minimizeCardsOnDoubleClick")}}),jsxRuntimeExports.jsx(X$1,{children:{type:"switch",label:"Fechar janelas com tecla Esc",value:$$3(A$2.reworkUi,"closeOnEscape")}})]}),jsxRuntimeExports.jsxs(Ae,{title:"Toolbar",children:[jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Campo de texto dentro do toolbar",value:$$3(A$2,"chatInputInsideToolbar")},{type:"switch",label:"Toolbar translúcido",value:$$3(A$2,"translucentToolbar")}]}),jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Ocultar setas de recolher/expandir toolbar",_value:xt([ie.hideCollapsedToolbarIcons.left,ie.hideCollapsedToolbarIcons.right]),onChange:ee=>{pt(ee,[[A$2.hideCollapsedToolbarIcons,"left"],[A$2.hideCollapsedToolbarIcons,"right"]])}},{type:"switch",label:"Ocultar seta da esquerda",value:$$3(A$2.hideCollapsedToolbarIcons,"left")},{type:"switch",label:"Ocultar seta da direita",value:$$3(A$2.hideCollapsedToolbarIcons,"right")}]}),jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Passar cursor através da toolbar",value:$$3(A$2,"passCursorThroughToolbar"),description:"O toolbar deixa de interromper as ações do mouse sobre a sala."},{type:"switch",label:"Desativar animação de hover nos ícones",value:$$3(A$2,"deactivateToolbarItemHoverAnimation")}]}),jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Ocultar ícones da toolbar",_value:xt([ie.hideToolbarIcons.hotel,ie.hideToolbarIcons.house,ie.hideToolbarIcons.navigator,ie.hideToolbarIcons.store,ie.hideToolbarIcons.inventory,ie.hideToolbarIcons.camera,ie.hideToolbarIcons.extensions,ie.hideToolbarIcons.friendList,ie.hideToolbarIcons.friendSearch,ie.hideToolbarIcons.modTools,ie.hideToolbarIcons.rest]),onChange:ee=>{pt(ee,[[A$2.hideToolbarIcons,"hotel"],[A$2.hideToolbarIcons,"house"],[A$2.hideToolbarIcons,"navigator"],[A$2.hideToolbarIcons,"store"],[A$2.hideToolbarIcons,"inventory"],[A$2.hideToolbarIcons,"camera"],[A$2.hideToolbarIcons,"extensions"],[A$2.hideToolbarIcons,"friendList"],[A$2.hideToolbarIcons,"friendSearch"],[A$2.hideToolbarIcons,"modTools"],[A$2.hideToolbarIcons,"rest"]])}},{type:"switch",label:"Ocultar ícone do Hotel",value:$$3(A$2.hideToolbarIcons,"hotel")},{type:"switch",label:"Ocultar ícone do Cafofo",value:$$3(A$2.hideToolbarIcons,"house")},{type:"switch",label:"Ocultar ícone do Navegador",value:$$3(A$2.hideToolbarIcons,"navigator")},{type:"switch",label:"Ocultar ícone do Catálogo",value:$$3(A$2.hideToolbarIcons,"store")},{type:"switch",label:"Ocultar ícone do Inventário",value:$$3(A$2.hideToolbarIcons,"inventory")},{type:"switch",label:"Ocultar ícone da Camera",value:$$3(A$2.hideToolbarIcons,"camera")},{type:"switch",label:"Ocultar ícone de Extensões",value:$$3(A$2.hideToolbarIcons,"extensions")},{type:"switch",label:"Ocultar ícone da Lista de amigos",value:$$3(A$2.hideToolbarIcons,"friendList")},{type:"switch",label:"Ocultar ícone da Pesquisa de amigos",value:$$3(A$2.hideToolbarIcons,"friendSearch")},{type:"switch",label:"Ocultar ícone do Mod Tools",value:$$3(A$2.hideToolbarIcons,"modTools")},{type:"switch",label:"Ocultar demais ícones",value:$$3(A$2.hideToolbarIcons,"rest")}]})]}),jsxRuntimeExports.jsxs(Ae,{title:"Toolbar do Avatar",children:[jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Usar animação de hover",value:$$3(A$2.avatarToolbar,"useHoverAnimation")},{type:"switch",label:"Remover filtro cinza",value:$$3(A$2.avatarToolbar,"removeFilter")},{type:"switch",label:"Desativar ícone de notificações de conquistas",value:$$3(A$2.avatarToolbar,"disableBadges")}]}),jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Mostrar ícones ao clicar no avatar",_value:xt([ie.avatarToolbar.showToolbarIcons.hotel,ie.avatarToolbar.showToolbarIcons.house,ie.avatarToolbar.showToolbarIcons.navigator,ie.avatarToolbar.showToolbarIcons.store,ie.avatarToolbar.showToolbarIcons.inventory,ie.avatarToolbar.showToolbarIcons.hibisco,ie.avatarToolbar.showToolbarIcons.camera,ie.avatarToolbar.showToolbarIcons.extensions,ie.avatarToolbar.showToolbarIcons.friendList,ie.avatarToolbar.showToolbarIcons.friendSearch]),onChange:ee=>{pt(ee,[[A$2.avatarToolbar.showToolbarIcons,"hotel"],[A$2.avatarToolbar.showToolbarIcons,"house"],[A$2.avatarToolbar.showToolbarIcons,"navigator"],[A$2.avatarToolbar.showToolbarIcons,"store"],[A$2.avatarToolbar.showToolbarIcons,"inventory"],[A$2.avatarToolbar.showToolbarIcons,"hibisco"],[A$2.avatarToolbar.showToolbarIcons,"camera"],[A$2.avatarToolbar.showToolbarIcons,"extensions"],[A$2.avatarToolbar.showToolbarIcons,"friendList"],[A$2.avatarToolbar.showToolbarIcons,"friendSearch"]])}},{type:"switch",label:"Exibir ícone do Lobby do Hotel",value:$$3(A$2.avatarToolbar.showToolbarIcons,"hotel")},{type:"switch",label:"Exibir ícone do Cafofo",value:$$3(A$2.avatarToolbar.showToolbarIcons,"house")},{type:"switch",label:"Exibir ícone do Navegador",value:$$3(A$2.avatarToolbar.showToolbarIcons,"navigator")},{type:"switch",label:"Exibir ícone do Catálogo",value:$$3(A$2.avatarToolbar.showToolbarIcons,"store")},{type:"switch",label:"Exibir ícone do Inventário",value:$$3(A$2.avatarToolbar.showToolbarIcons,"inventory")},{type:"switch",label:"Exibir ícone da Camera",value:$$3(A$2.avatarToolbar.showToolbarIcons,"camera")},{type:"switch",label:"Exibir ícone da Lista de amigos",value:$$3(A$2.avatarToolbar.showToolbarIcons,"friendList")},{type:"switch",label:"Exibir ícone da Pesquisa de amigos",value:$$3(A$2.avatarToolbar.showToolbarIcons,"friendSearch")},{type:"switch",label:"Exibir ícone de Extensões",value:$$3(A$2.avatarToolbar.showToolbarIcons,"extensions")},{type:"switch",label:"Exibir ícone do Hibisco",value:$$3(A$2.avatarToolbar.showToolbarIcons,"hibisco")}]})]}),jsxRuntimeExports.jsxs(Ae,{title:"Lista de amigos",children:[jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Adicionar tooltip com missão nos amigos online",value:$$3(A$2.reworkUi,"tooltipMottoOnOnlineFriends")},{type:"switch",label:"Reordenar lista de amigos por relacionamento",value:$$3(A$2.reworkUi,"reorderFriendList")}]}),jsxRuntimeExports.jsx(X$1,{children:{type:"switch",label:"Sempre carregar página com toolbar de amigos minimizada",value:$$3(A$2.reworkUi,"alwaysCloseFriendsToolbarOnLoad")}}),jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Mostrar botões de selecionar vários na lista de amigos",_value:xt([ie.reworkUi.showSelectOnlineFriendsList,ie.reworkUi.showSelectOfflineFriendsList]),onChange:ee=>{pt(ee,[[A$2.reworkUi,"showSelectOnlineFriendsList"],[A$2.reworkUi,"showSelectOfflineFriendsList"]])}},{type:"switch",label:"Selecionar todos online",value:$$3(A$2.reworkUi,"showSelectOnlineFriendsList")},{type:"switch",label:"Selecionar todos offline",value:$$3(A$2.reworkUi,"showSelectOfflineFriendsList")}]})]}),jsxRuntimeExports.jsx(Ae,{title:"Quartos",children:jsxRuntimeExports.jsx(X$1,{children:{type:"switch",label:"Tocar campainha automaticamente",value:$$3(A$2.reworkUi,"ringDoorbellAutomatically")}})}),jsxRuntimeExports.jsx(Ae,{title:"Outros",children:jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Atalhos para ações no infostand de usuários",value:$$3(A$2,"infostandButtons")},{type:"switch",label:"Funcionalidade de Filtros de quarto",value:$$3(A$2,"roomFilters"),description:"Permite adicionar bloqueios de palavras no quarto"},{type:"switch",label:"Botão para remover os próprios direitos em quartos alheios",value:$$3(A$2,"removeRightsOwn")},{type:"switch",label:"Usar interface de :quickpoll do Hibisco",value:$$3(A$2,"useHibiscoPoll")}]})})]})},JA=()=>{const ie=oe(A$2);return jsxRuntimeExports.jsxs("div",{className:zt.Page,children:[jsxRuntimeExports.jsx(Ae,{title:"Meu avatar",children:jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Ativar anti-aus",value:$$3(A$2,"antiAusEnabled")},{type:"switch",label:"Não girar avatar ao clicar em usuário",value:$$3(A$2,"preventLookPackets")},{type:"switch",label:'Esconder para todos o meu balão de "digitando"',value:$$3(A$2,"hideMyTypingBalloon")}]})}),jsxRuntimeExports.jsxs(Ae,{title:"Interação",children:[jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switchWithTextInput",label:"Acompanhar usuário",_value:xt([ie.keepFollowing.walkInRoom,ie.keepFollowing.followBetweenRooms]),onChange:ee=>{pt(ee,[[A$2.keepFollowing,"walkInRoom"],[A$2.keepFollowing,"followBetweenRooms"]])},textInputPlaceholder:"Username",textInputValue:$$3(A$2.keepFollowing,"unitToFollow"),description:"Só funciona com amigos."},{type:"switch",label:"Seguir entre quartos",value:$$3(A$2.keepFollowing,"followBetweenRooms")},{type:"switch",label:"Andar junto no quarto",value:$$3(A$2.keepFollowing,"walkInRoom")}]}),jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Clicar para copiar nomes de usuários e mobis",value:$$3(A$2.copyableContent,"username")},{type:"switch",label:"Seguir usuário ao clicar na mensagem com botão do scroll do mouse",value:$$3(A$2,"followOnRightClickMessage")}]})]}),jsxRuntimeExports.jsxs(Ae,{title:"Ações ao entrar em quartos",children:[jsxRuntimeExports.jsxs(X$1,{children:[{type:"switchWithNumberInput",label:"Setar zoom ao entrar em quartos",value:$$3(A$2.defaultZoom,"enabled"),min:.5,max:20,step:.5,numberInputValue:$$3(A$2.defaultZoom,"value")},{type:"switchWithNumberInput",label:"Aplicar enable ao entrar em quartos",value:$$3(A$2.defaultEnable,"enabled"),numberInputValue:$$3(A$2.defaultEnable,"value"),min:0,max:800,step:1}]}),jsxRuntimeExports.jsxs(X$1,{children:[{type:"switchWithNumberInput",label:"Usar handitem ao entrar em quartos",value:$$3(A$2.defaultHanditem,"enabled"),numberInputValue:$$3(A$2.defaultHanditem,"value"),min:0,max:2e3,step:1},{type:"switchWithTextInput",label:"Se transformar em pet ao entrar em quartos",value:$$3(A$2.defaultPet,"enabled"),textInputValue:$$3(A$2.defaultPet,"value"),textInputPlaceholder:"Nome do pet"},{type:"switch",label:"Enviar :tele ao entrar em quartos com direitos",value:$$3(A$2,"teleWhenJoinRoom")},{type:"switch",label:"Enviat :ct ao entrar em quartos",value:$$3(A$2,"ctWhenJoinRoom")}]})]}),jsxRuntimeExports.jsxs(Ae,{title:"Modificações de texto",children:[jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Tornar texto selecionável",description:"Apenas em quartos onde você tem direitos",_value:xt([ie.copyableContent.console,ie.copyableContent.messages,ie.copyableContent.nitroCards,ie.copyableContent.infostand]),onChange:ee=>{pt(ee,[[A$2.copyableContent,"console"],[A$2.copyableContent,"messages"],[A$2.copyableContent,"nitroCards"],[A$2.copyableContent,"infostand"]])}},{type:"switch",label:"Selecionar texto no console",value:$$3(A$2.copyableContent,"console")},{type:"switch",label:"Selecionar texto nas mensagens",value:$$3(A$2.copyableContent,"messages")},{type:"switch",label:"Selecionar texto nos nitro cards",value:$$3(A$2.copyableContent,"nitroCards")},{type:"switch",label:"Selecionar texto no infostand (menu lateral inferior)",value:$$3(A$2.copyableContent,"infostand")}]}),jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,isVirtual:!0,type:"switch",label:"Links clicáveis",description:"Apenas para alguns domínios pré-selecionados.",_value:xt([ie.clickableLinks.messages,ie.clickableLinks.console,ie.clickableLinks.motto]),onChange:ee=>{pt(ee,[[A$2.clickableLinks,"messages"],[A$2.clickableLinks,"console"],[A$2.clickableLinks,"motto"]])}},{type:"switch",label:"Links clicáveis em balões",value:$$3(A$2.clickableLinks,"messages")},{type:"switch",label:"Links clicáveis no console (DM do hotel)",value:$$3(A$2.clickableLinks,"console")},{type:"switch",label:"Links clicáveis na missão",value:$$3(A$2.clickableLinks,"motto")},{type:"switch",label:"Links clicáveis no perfil",value:$$3(A$2.clickableLinks,"profile")}]})]}),jsxRuntimeExports.jsxs(Ae,{title:"Utilidades",children:[jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Melhores mensagens de respeito",value:$$3(A$2,"betterRespectMessages"),description:"Corrige o gênero, mostra quem deu os respeitos e agrupa mensagens."},{type:"switch",label:"Melhores mensagens de interação",value:$$3(A$2,"betterInteractionMessages"),description:"Corrige o gênero e agrupa mensagens."}]}),jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Agrupa mensagens repetidas",value:$$3(A$2,"groupRepeatedMessages"),description:"Agrupa mensagens repetidas."},{isMain:!0,type:"switch",label:"Agrupa mensagens de wired",value:$$3(A$2,"groupWiredRepeatedMessages")},{isMain:!0,type:"switch",label:"Se houver intervalo de 5s entre mensagens, não agrupar",value:$$3(A$2,"delayGroupRepeatedMessages")}]}),jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Mostrar placa ao tomar mute",value:$$3(A$2.signOnMute,"enabled"),isMain:!0},{type:"switch",label:"Não mostrar placa em mutes ao entrar em quartos (mutes de anti-flood)",value:$$3(A$2.signOnMute,"ignoreMuteOnJoinRoom")},{type:"numberInput",label:"Código da placa",value:$$3(A$2.signOnMute,"signCode"),min:0,step:1,max:17}]}),jsxRuntimeExports.jsx(X$1,{children:{type:"switch",label:"Usar rádio feita pelo Hibisco",value:$$3(A$2,"useNewRadio"),description:"Necessário relogar, caso altere o valor"}})]}),jsxRuntimeExports.jsx(Ae,{title:"Notificações",children:jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Notificações de mensagens no console",value:$$3(A$2.notifications,"consoleMessages")},{type:"switch",label:"Notificações de likes no quarto (nota do quarto)",value:$$3(A$2.notifications,"roomScore")},{type:"switch",label:"Notificar ao receber direitos",value:$$3(A$2.notifications,"roomRights")},{type:"switch",label:"Ao mencionar um amigo no quarto com @username + texto, enviar mensagem com menção pelo console",value:$$3(A$2.notifications,"sendMentionsToConsole")},{type:"switch",label:"Notificar quando eu receber mensagem com menção pelo console",value:$$3(A$2.notifications,"receiveMentionsFromConsole")}]})}),jsxRuntimeExports.jsxs(Ae,{title:"Comandos",children:[jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Comando :print",value:$$3(A$2.commands.print,"enabled")},{type:"switch",label:"Fazer download da imagem",value:$$3(A$2.commands.print,"download")},{type:"switch",label:"Abrir imagem em nova aba",value:$$3(A$2.commands.print,"viewNewTab")}]}),jsxRuntimeExports.jsx(X$1,{children:{type:"switch",label:"Comando :rejoin",value:$$3(A$2.commands,"rejoin")}})]}),jsxRuntimeExports.jsx(Ae,{title:"Amigos",children:jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Notificar quando amigos ficarem online/offline",value:$$3(A$2.notifications,"friendsOnlineOffline")},{type:"switch",label:"Apenas amigos nos relacionamentos",value:$$3(A$2.notifications,"friendsOnlineOfflineRelationshipOnly")}]})}),jsxRuntimeExports.jsx(Ae,{title:"Outros",children:jsxRuntimeExports.jsx(X$1,{children:{type:"switch",label:"Não entrar no grupo de identificação do Hibisco ao logar",value:$$3(A$2,"dontJoinGroup")}})})]})},XA=()=>{const ie=oe(A$2),ee=ie.hideBalloons.users,te=ie.hideBalloons.bots,se=ie.hideBalloons.pets,ne=ee||te||se;return jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Ocultar balões de fala",_value:ne,onChange:()=>{A$2.hideBalloons.users=!ne,A$2.hideBalloons.bots=!ne,A$2.hideBalloons.pets=!ne}},{type:"switch",label:"Ocultar balões de usuários",value:$$3(A$2.hideBalloons,"users")},{type:"switch",label:"Ocultar balões de bots",value:$$3(A$2.hideBalloons,"bots")},{type:"switch",label:"Ocultar balões de pets",value:$$3(A$2.hideBalloons,"pets")}]})},ex=()=>{const ie=oe(A$2),ee=ie.hideEntities.users,te=ie.hideEntities.bots,se=ie.hideEntities.pets,ne=ee||te||se;return jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Ocultar entidades",_value:ne,onChange:()=>{A$2.hideEntities.users=!ne,A$2.hideEntities.bots=!ne,A$2.hideEntities.pets=!ne}},{type:"switch",label:"Ocultar usuários",value:$$3(A$2.hideEntities,"users")},{type:"switch",label:"Ocultar bots",value:$$3(A$2.hideEntities,"bots")},{type:"switch",label:"Ocultar pets",value:$$3(A$2.hideEntities,"pets")}]})},tx=()=>{const ie=oe(A$2),ee=jsxRuntimeExports.jsx(R0,{});return jsxRuntimeExports.jsxs("div",{className:zt.Page,children:[jsxRuntimeExports.jsx(Bs,{variant:"light",color:"blue",radius:"md",title:"Importante",icon:ee,children:jsxRuntimeExports.jsx(Ce,{size:"sm",children:"Todas as alterações feitas nesta categoria são visíveis apenas para você, no seu navegador. Os outros usuários no quarto não conseguem visualizar suas alterações, portanto não serão afetados."})}),jsxRuntimeExports.jsx(Ae,{title:"Renderização de mobis",children:jsxRuntimeExports.jsx(X$1,{children:{type:"switch",label:"Ocultar todos os mobis",value:$$3(A$2,"notRenderMobis")}})}),jsxRuntimeExports.jsxs(Ae,{title:"Renderização de balões",children:[jsxRuntimeExports.jsx(X$1,{children:{label:'Esconder para mim os balões de "digitando"',type:"switch",value:$$3(A$2,"hideOtherTypingBalloon")}}),jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switchWithNumberInput",label:"Forçar estilo específico de balão de outros usuários",_value:xt([ie.forceOtherStyleId.applyInUsers,ie.forceOtherStyleId.applyInBots,ie.forceOtherStyleId.applyInPets]),onChange:te=>pt(te,[[A$2.forceOtherStyleId,"applyInUsers"],[A$2.forceOtherStyleId,"applyInBots"],[A$2.forceOtherStyleId,"applyInPets"]]),min:0,max:44,step:1,numberInputValue:$$3(A$2.forceOtherStyleId,"value")},{type:"switch",label:"Aplicar em usuários",value:$$3(A$2.forceOtherStyleId,"applyInUsers")},{type:"switch",label:"Aplicar em bots",value:$$3(A$2.forceOtherStyleId,"applyInBots")},{type:"switch",label:"Aplicar em pets",value:$$3(A$2.forceOtherStyleId,"applyInPets")}]}),jsxRuntimeExports.jsx(XA,{})]}),jsxRuntimeExports.jsxs(Ae,{title:"Renderização de entidades",children:[jsxRuntimeExports.jsx(ex,{}),jsxRuntimeExports.jsxs(X$1,{children:[{type:"switchWithNumberInput",label:"Forçar efeito em entidades",value:$$3(A$2.forceEffect,"enabled"),min:0,max:800,step:1,numberInputValue:$$3(A$2.forceEffect,"value")},{type:"switchWithNumberInput",label:"Forçar dança em entidades",value:$$3(A$2.forceDance,"enabled"),min:0,max:4,step:1,numberInputValue:$$3(A$2.forceDance,"value")},{type:"switchWithNumberInput",label:"Forçar gesto em entidades",value:$$3(A$2.forceGesture,"enabled"),min:0,max:7,step:1,numberInputValue:$$3(A$2.forceGesture,"value")}]})]})]})},nx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAiCAMAAADmrkDzAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAPUExURQAAANnZ2f///2x6gwAAAJeH9EoAAAAFdFJOU/////8A+7YOUwAAAAlwSFlzAAAOwwAADsMBx2+oZAAAALRJREFUOE+F0kkWwzAIA1C3+P5nLoOwwK8hWiR68BfOsHbNstzNr4iPfcHWxFofjS3YmtDxV2OL02wcWw3GLk6TInJsczaRI56ACMQzgBhAiAm4GIGddAYqXoDuX4ALpDaCUTiYRIA4KdIJAJ4WaQTAv9x/EvsQMhK/jyRuEwEcCMRAUhTCl9gFiYrT9K1QJNF9afzXLbrw6Ddhy389Egsb14ZlxEdXuiBhu0QuSrtFLNj2/gEx8wlvqfF/gwAAAABJRU5ErkJggg==",rx=ie=>jsxRuntimeExports.jsxs("div",{className:zt.Page,children:[jsxRuntimeExports.jsx(Ae,{title:"Guarda-roupa",children:jsxRuntimeExports.jsxs(X$1,{children:[{type:"action",label:"Aumentar espaços do guarda-roupa para 20",action:ie.increaseWardrobeSlotsTo20},{type:"switch",label:"Adicionar botões para copiar códigos figure de visuais salvos ",value:$$3(A$2.reworkUi,"wardrobeCopyButtons")}]})}),jsxRuntimeExports.jsx(Ae,{title:"Comandos",children:jsxRuntimeExports.jsx(X$1,{children:{type:"switch",label:"Comando :copy",value:$$3(A$2.commands,"copy"),description:"Copia visual de bots e aceita códigos figure diretamente."}})})]}),ox=()=>{const ie=oe(A$2);return jsxRuntimeExports.jsxs("div",{className:zt.Page,children:[jsxRuntimeExports.jsx(Ae,{title:"Recolher interfaces",children:jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Exibir botão para recolher/expandir visualização de saldo",value:$$3(A$2,"buttonToCollapsePurse")},{type:"switch",label:"Exibir botão para recolher/expandir toolbar lateral",value:$$3(A$2,"buttonToCollapseSideToolbar")}]})}),jsxRuntimeExports.jsxs(Ae,{title:"Otimizações",children:[jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Quebrar nomes de mobis wired em duas linhas no inventário",value:$$3(A$2.reworkUi,"breakWiredName")},{type:"switch",label:"Minificar infostand de mobis",value:$$3(A$2.optimizations,"minimalistInfostand"),description:"Oculta imagem e torna menor a visualização de informações de mobis."}]}),jsxRuntimeExports.jsxs(X$1,{children:[{isMain:!0,type:"switch",label:"Converter alertas em notificações",_value:xt([ie.convertAlert.floor]),onChange:ee=>pt(ee,[[A$2.convertAlert,"floor"]])},{type:"switch",label:"Converter alertas de quarto modificado com editor de chão",value:$$3(A$2.convertAlert,"floor")}]}),jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:"Ocultar todos os tipos de infostands",value:$$3(A$2.optimizations,"hideAllInfoStand"),description:"Semelhante ao clickthrough"},{type:"switch",label:"Não renderizar mobis de iluminação",value:$$3(A$2,"dontRenderLightOrbs"),description:"É necessário reentrar no quarto para notar a alteração."}]})]})]})},ax={building:"https://images.habblet.city/c_images/album1584/HBT3365.gif",decor:"https://images.habblet.city/c_images/album1584/GARJ7.gif",wired:"https://images.habblet.city/c_images/album1584/HBT2406.gif",staff:"https://images.habblet.city/c_images/album1584/GUARDIAN.gif",tools:"https://images.habblet.city/c_images/album1584/HBT3392.gif",mobile:"https://images.habblet.city/c_images/album1584/RHBT261.gif",stylist:"https://images.habblet.city/c_images/album1584/HBT3454.gif",hud:"https://images.habblet.city/c_images/album1584/FR267.gif",content:"https://images.habblet.city/c_images/album1584/BR374.gif"},Qi={building:"Construção",decor:"Decoração",wired:"Wired",staff:"Staff",tools:"Utilidades",mobile:"Mobile",stylist:"Estilistas",hud:"Interface",content:"Conteúdo"},ix={building:"Funcionalidades para construção e decoração de quartos.",decor:"Decoração",wired:"Funcionalidades para auxiliar programação wired.",staff:"Funcionalidades para auxiliar staffs, moderadores e guardiões.",tools:"Utilidades de uso geral, para todos os tipos de jogadores.",mobile:"Funcionalidades planejadas para melhorar a experiência mobile.",stylist:"Funcionalidades para auxiliar criação de visuais.",hud:"Customização de interface.",content:"Funcionalidades para auxiliar criação de conteúdo em vídeo e foto."},Pt=ie=>jsxRuntimeExports.jsxs(Le,{justify:"center",align:"center",gap:0,className:qn.CategoryIcon,onClick:ie.onClick,children:[jsxRuntimeExports.jsx("img",{src:ax[ie.category],alt:Qi[ie.category],className:qn.icon}),jsxRuntimeExports.jsx(Ce,{size:"sm",style:{textAlign:"center"},children:Qi[ie.category]})]}),sx=({isZhang:ie,increaseWardrobeSlotsTo20:ee})=>{const[te,se]=reactExports.useState(null),ne=ce=>()=>{se(ce)},le=()=>{se(null)},ue=[jsxRuntimeExports.jsxs(Re,{justify:"start",gap:5,style:{backgroundColor:"#B6BEC5",cursor:"pointer",minHeight:"50px"},className:qn.CategoryTitle,onClick:le,children:[jsxRuntimeExports.jsx("img",{src:nx,style:{width:"18px",objectFit:"contain"},alt:"Voltar à página principal"}),jsxRuntimeExports.jsxs(Le,{style:{flexGrow:"1",paddingLeft:"5px",width:"min-content"},justify:"center",align:"start",gap:0,children:[jsxRuntimeExports.jsx(Ce,{size:"lg",fw:700,fz:18,lh:"normal",children:te&&Qi[te]}),jsxRuntimeExports.jsx(Ce,{size:"lg",fw:500,fz:13,lh:"normal",children:te&&ix[te]})]})]})];switch(te){case"building":ue.push(jsxRuntimeExports.jsx(cd,{}));break;case"decor":ue.push(jsxRuntimeExports.jsx(cd,{}));break;case"wired":ue.push(jsxRuntimeExports.jsx(KA,{}));break;case"staff":ue.push(jsxRuntimeExports.jsx(QA,{}));break;case"hud":ue.push(jsxRuntimeExports.jsx(ZA,{}));break;case"tools":ue.push(jsxRuntimeExports.jsx(JA,{}));break;case"mobile":ue.push(jsxRuntimeExports.jsx(ox,{}));break;case"stylist":ue.push(jsxRuntimeExports.jsx(rx,{increaseWardrobeSlotsTo20:ee}));break;case"content":ue.push(jsxRuntimeExports.jsx(tx,{}));break}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:te?ue:jsxRuntimeExports.jsxs(Le,{className:re("_MainPage",qn.MainPage,te&&qn.Hidden),p:"xs",children:[jsxRuntimeExports.jsx(Mt,{w:"100%",leftSectionPointerEvents:"none",leftSection:jsxRuntimeExports.jsx(T0,{size:14}),placeholder:"Pesquisar função",size:"xs"}),jsxRuntimeExports.jsx(Z$1,{p:0,pt:0,style:{display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsxs(lr,{cols:3,spacing:"xs",verticalSpacing:"xs",style:{width:"fit-content"},children:[jsxRuntimeExports.jsx(Pt,{category:"tools",onClick:ne("tools")}),jsxRuntimeExports.jsx(Pt,{category:"building",onClick:ne("building")}),jsxRuntimeExports.jsx(Pt,{category:"wired",onClick:ne("wired")}),jsxRuntimeExports.jsx(Pt,{category:"mobile",onClick:ne("mobile")}),jsxRuntimeExports.jsx(Pt,{category:"stylist",onClick:ne("stylist")}),jsxRuntimeExports.jsx(Pt,{category:"hud",onClick:ne("hud")}),jsxRuntimeExports.jsx(Pt,{category:"content",onClick:ne("content")}),ie&&jsxRuntimeExports.jsx(Pt,{category:"staff",onClick:ne("staff")})]})})]})})},dr={components:{Switch:tn.extend({defaultProps:{radius:"sm",size:"xs",color:"#1ecb2f",className:je.Switch}}),Flex:wt.extend({defaultProps:{align:"center",justify:"center",direction:"row",w:"100%"}}),TextInput:Mt.extend({defaultProps:{radius:"md",size:"xs",w:"100px",styles:{wrapper:{}}}}),NumberInput:ir.extend({defaultProps:{radius:"md",size:"xs",w:"100px",styles:{input:{}}}})},defaultRadius:"xs",primaryColor:"hibisco-red",primaryShade:3,colors:{"hibisco-red":["#ffe9eb","#fed4d5","#f3a9ab","#fb8fb3","#e35257","#de383e","#dd2a31","#c41c24","#b0141f","#9b0618"],"hibisco-green":["#ecfaea","#dff1db","#bfe0b9","#9ece95","#82bf76","#70b562","#66b057","#549a46","#488a3c","#3a772f"],base:["#4b4b4b","#3c3c3c","#2d2d2d","#e6e6e6","#dcdcdc","#d3d3d3","#c9c9c9","#bfbfbf","#b5b5b5","#acacac"]}},MC=({title:ie,isZhang:ee,increaseWardrobeSlotsTo20:te,version:se})=>{const ne=oe(A$2),le=reactExports.useRef(null),ue=reactExports.useRef(null);if(reactExports.useEffect(()=>{},[]),!ne.isWindowVisible)return jsxRuntimeExports.jsx("div",{className:"pointer-events-none"});function ce(){A$2.isWindowVisible=!1}return jsxRuntimeExports.jsx(An,{theme:dr,forceColorScheme:"light",cssVariablesSelector:"#hibisco-root",withCssVariables:!0,deduplicateCssVariables:!1,getRootElement:()=>document.getElementById("hibisco-root"),children:jsxRuntimeExports.jsxs("div",{className:re(pr.Nitropedia,"nitropedia nitro-card theme-primary"),style:{height:ne.windowHeight,width:ne.windowWidth,border:"1px solid #000"},ref:le,children:[jsxRuntimeExports.jsx("div",{className:re(pr.Header,"container drag-handler nitro-card-header"),style:{},ref:ue,children:jsxRuntimeExports.jsxs("div",{className:pr.Title,children:[jsxRuntimeExports.jsx("span",{className:"nitro-card-header-text select-none",children:ie}),jsxRuntimeExports.jsx("div",{onClick:ce,className:"position-absolute end-0 nitro-card-header-close"}),jsxRuntimeExports.jsxs("span",{className:pr.version,children:["v",se]})]})}),jsxRuntimeExports.jsx("div",{className:"flex overflow-auto flex-col gap-2 container mx-auto max-w-full content-area p-0 w-full h-full",children:jsxRuntimeExports.jsx("div",{className:"w-full h-full text-black",children:jsxRuntimeExports.jsx(sx,{isZhang:ee,increaseWardrobeSlotsTo20:te})})})]})})},lx="_container_2zcfz_25",cx="_visible_2zcfz_1",ux$2="_absolute_2zcfz_1",dx="_relative_2zcfz_1",fx="_flex_2zcfz_1",px$1="_hidden_2zcfz_1",hx="_border_2zcfz_1",mx="_italic_2zcfz_1",gx="_outline_2zcfz_1",bx="_filter_2zcfz_1",vx$2="_UserInfoTable_2zcfz_30",yx="_ActionButtons_2zcfz_36",wx="_SendAlertHeader_2zcfz_50",_x="_TemplatePick_2zcfz_64",Vn={container:lx,"pointer-events-none":"_pointer-events-none_2zcfz_1",visible:cx,absolute:ux$2,relative:dx,"end-0":"_end-0_2zcfz_1","mx-auto":"_mx-auto_2zcfz_1","ms-1":"_ms-1_2zcfz_1",flex:fx,hidden:px$1,"h-full":"_h-full_2zcfz_1","w-full":"_w-full_2zcfz_1","max-w-full":"_max-w-full_2zcfz_1","flex-shrink-0":"_flex-shrink-0_2zcfz_1","cursor-pointer":"_cursor-pointer_2zcfz_1","select-none":"_select-none_2zcfz_1","flex-col":"_flex-col_2zcfz_1","gap-1":"_gap-1_2zcfz_1","gap-2":"_gap-2_2zcfz_1","overflow-auto":"_overflow-auto_2zcfz_1","overflow-hidden":"_overflow-hidden_2zcfz_1",border:hx,"p-0":"_p-0_2zcfz_1",italic:mx,"text-black":"_text-black_2zcfz_1",outline:gx,filter:bx,UserInfoTable:vx$2,ActionButtons:yx,SendAlertHeader:wx,TemplatePick:_x},Te=Dt({userOrRoom:"user",userAction:"",userName:"",userData:null,userNotFound:!1,sayMessage:null,userDataFetcher:null}),Zn=ie=>jsxRuntimeExports.jsx("div",{style:{borderRadius:"5px",background:"#d2d1ca",padding:"8px",height:"100%",display:"flex",justifyContent:"start",alignItems:"start",...ie.styles||{}},className:ie.className,children:ie.children}),Ax=`Homofobia é contra etiqueta! Por favor, modere-se ou será silenciado!
Racismo é contra etiqueta! Por favor, modere-se ou será silenciado!
Floodar ou atrapalhar outros jogadores é contra a Habblet Etiqueta!
Você foi mutado por X minutos. Em caso de persistência, você será banido!
Qualquer tipo de discriminação é proibida. Por favor, leia a Habblet Etiqueta!
Seu linguajar é inapropriado. Por favor, leia a Habblet Etiqueta!
Por favor, atente-se à Habblet Etiqueta do hotel. 
Se insistir em quebrar a etiqueta, será banido do hotel. Por favor, leia-a.
Seu comportamento é inadequado. Atente-se à etiqueta.
Seu comportamento é inadequado e passível de punição. Atente-se à etiqueta.
Flood e spam não são permitidos. Atente-se à Habblet Etiqueta.
Flood é proibido. Atente-se à Habblet Etiqueta.
Racismo é crime e gera punição. Leia a etiqueta.
Homofobia é crime e gera punição. Leia a etiqueta.
Qualquer tipo de preconceito gera punição. Leia a Habblet Etiqueta.
Qualquer tipo de discriminação é proibida. Maneire no seu linguajar ou será banido.
Não é permitido fazer divulgações. Leia a Habblet Etiqueta.
Seu comportamento é inapropriado e tem atrapalhado a jogatina alheia.
Assédio é proibido. Mude sua postura imediatamente.
Quebrar a etiqueta repetidamente resultará em banimento.
Respeito é fundamental. Ajuste seu comportamento ou será banido.
Comunique-se de forma respeitosa ou será banido.`.split(`
`),xx=ie=>{const[ee,te]=reactExports.useState(""),[se,ne]=reactExports.useState(null);reactExports.useEffect(()=>{ie.onSelect(se||"")},[se]);const le=Qs({onDropdownClose:()=>{le.resetSelectedOption(),le.focusTarget(),te("")},onDropdownOpen:()=>{le.focusSearchInput()}}),ue=Ax.filter(ce=>ce.toLowerCase().includes(ee.toLowerCase().trim())).map(ce=>jsxRuntimeExports.jsx(xe.Option,{value:ce,style:{padding:"4px 8px"},children:jsxRuntimeExports.jsx(Ce,{size:"xs",children:ce})},ce));return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(xe,{withinPortal:!1,store:le,position:"bottom-end",width:"100%",offset:-33,middlewares:{size:!0},onOptionSubmit:ce=>{ne(ce),le.closeDropdown()},children:[jsxRuntimeExports.jsx(xe.Target,{withAriaAttributes:!1,children:jsxRuntimeExports.jsx("div",{className:re("d-flex align-items-center justify-content-center btn btn-secondary btn-sm"),onClick:()=>le.toggleDropdown(),children:"Escolher template"})}),jsxRuntimeExports.jsxs(xe.Dropdown,{style:{zIndex:403},children:[jsxRuntimeExports.jsx(xe.Search,{size:"xs",value:ee,onChange:ce=>te(ce.currentTarget.value),placeholder:"Pesquisar template"}),jsxRuntimeExports.jsx(xe.Options,{children:jsxRuntimeExports.jsx(vt.Autosize,{type:"scroll",mah:180,children:ue.length>0?ue:jsxRuntimeExports.jsx(xe.Empty,{children:"Nada encontrado."})})})]})]})})},Sx=ie=>{const[ee,te]=reactExports.useState(""),se=oe(Te).userData.name,ne=oe(Te).sayMessage,[le,ue]=reactExports.useState(!1),ce=`:alert ${se} ${ee}`,he=()=>{ne(ce.trim()),ue(!0),setTimeout(()=>{ue(!1)},3e3)};return jsxRuntimeExports.jsx(Re,{gap:1,justify:"space-evenly",style:{width:"100%",height:"100%",...ie.style},children:jsxRuntimeExports.jsxs(Zn,{styles:{flexGrow:"1",flexDirection:"column"},children:[jsxRuntimeExports.jsxs("div",{className:Vn.SendAlertHeader,children:[jsxRuntimeExports.jsxs(Ce,{ta:"center",size:"lg",children:["Enviar alerta para"," ",jsxRuntimeExports.jsx(Ce,{fw:700,span:!0,children:se})]}),jsxRuntimeExports.jsx(xx,{onSelect:te})]}),jsxRuntimeExports.jsx("div",{style:{flexGrow:"1",width:"100%"},children:jsxRuntimeExports.jsx(Js,{description:`${ce.length} caracteres`,error:ce.trim().length>100?"Limite de 100 caracteres excedido":!1,value:ee,onChange:de=>te(de.currentTarget.value),variant:"filled",styles:{wrapper:{height:"100%"},root:{height:"80%"},input:{height:"100%"}},placeholder:"Mensagem",w:"100%"})}),jsxRuntimeExports.jsxs("div",{className:"d-flex gap-1",style:{marginTop:10,width:"100%"},children:[jsxRuntimeExports.jsx("div",{className:"d-flex w-100 align-items-center justify-content-center btn btn-light btn-sm",onClick:()=>ie.onBack(),children:"Voltar"}),le?jsxRuntimeExports.jsx("div",{className:"d-flex w-100 align-items-center justify-content-center btn btn-success btn-sm",children:"Enviado!"}):jsxRuntimeExports.jsx("div",{className:re(!ee.trim()||ce.trim().length>100?"btn-disabled":"btn-warning","d-flex w-100 align-items-center justify-content-center btn btn-sm"),onClick:()=>{ee.trim()&&he()},children:"Enviar alerta"})]})]})})},Cx=ie=>{const[ee,te]=reactExports.useState(5),se=oe(Te).userData.name,ne=oe(Te).sayMessage,[le,ue]=reactExports.useState(!1),ce=`:mute ${se} ${ee*60}`,he=()=>{ne(ce.trim()),ue(!0),setTimeout(()=>{ue(!1)},3e3)};return jsxRuntimeExports.jsx(Re,{gap:1,justify:"space-evenly",style:{width:"100%",height:"100%",...ie.style},children:jsxRuntimeExports.jsxs(Zn,{styles:{flexGrow:"1",flexDirection:"column",width:"100%"},children:[jsxRuntimeExports.jsxs(Ce,{w:"100%",ta:"center",size:"lg",children:["Mutar"," ",jsxRuntimeExports.jsx(Ce,{fw:700,span:!0,children:se})," ","por"," ",jsxRuntimeExports.jsx(Ce,{fw:700,span:!0,children:ee})," ","minuto",ee>1?"s":""]}),jsxRuntimeExports.jsx("div",{style:{flexGrow:"1",width:"100%",display:"flex",justifyContent:"center",paddingTop:"20px"},children:jsxRuntimeExports.jsx(go,{w:"80%",color:"#145069",restrictToMarks:!0,value:ee,onChange:te,min:1,max:10,marks:[1,2,3,4,5,6,7,8,9,10].map(de=>({value:de,label:`${de}`}))})}),jsxRuntimeExports.jsxs("div",{className:"d-flex gap-1",style:{marginTop:10,width:"100%"},children:[jsxRuntimeExports.jsx("div",{className:"d-flex w-100 align-items-center justify-content-center btn btn-light btn-sm",onClick:()=>ie.onBack(),children:"Voltar"}),le?jsxRuntimeExports.jsx("div",{className:"d-flex w-100 align-items-center justify-content-center btn btn-success btn-sm",children:"Enviado!"}):jsxRuntimeExports.jsx("div",{className:"d-flex w-100 align-items-center justify-content-center btn btn-danger btn-sm",onClick:he,children:"Mutar"})]})]})})},dn={position:"absolute",visibility:"hidden"},dt=ie=>{const[ee,te]=reactExports.useState(!1),[se,ne]=reactExports.useState(!1);if(ie.text===""||ie.text===null)return jsxRuntimeExports.jsx(ge.Td,{children:jsxRuntimeExports.jsx(Ce,{fs:"italic",color:"#00000077",size:"xs",children:"vazio"})});const le=()=>{navigator.clipboard.writeText(ie.text),te(!0),setTimeout(()=>{te(!1)},2e3)},ue={cursor:"pointer"};ee?ue.color="green":se&&(ue.color="blue");const ce=ee?Fp:C0,he=ee||se;return jsxRuntimeExports.jsx(ge.Td,{onClick:le,style:ue,onMouseEnter:()=>ne(!0),onMouseLeave:()=>ne(!1),children:jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"start",alignItems:"center",flexDirection:"row"},children:[jsxRuntimeExports.jsx("span",{style:ie.isName?{fontWeight:700,fontSize:"1.1em"}:{},children:ie.text})," ",he&&jsxRuntimeExports.jsx("span",{style:{marginLeft:"3px",width:"min-content"},children:jsxRuntimeExports.jsx(ce,{size:12})})]})})},Rx=ie=>{const[ee,te]=reactExports.useState(0),se=oe(Te),ne=se.userName,le=se.userData,ue=se.userNotFound;if(!ne)return jsxRuntimeExports.jsxs(gt,{style:{flexDirection:"column",gap:2,height:"100%",...ie.style},children:["Clique em um usuário ou pesquise abaixo.",jsxRuntimeExports.jsx(Si,{})]});if(ue)return jsxRuntimeExports.jsxs(gt,{style:{flexDirection:"column",gap:2,height:"100%",...ie.style},children:["Usuário não encontrado.",jsxRuntimeExports.jsx(Si,{})]});if(!le)return jsxRuntimeExports.jsx(gt,{style:{height:"100%",...ie.style},children:jsxRuntimeExports.jsxs(Le,{align:"center",gap:0,children:[jsxRuntimeExports.jsx(Cn,{color:"#1e7295",type:"dots"}),jsxRuntimeExports.jsx(Ce,{size:"xs",children:"Carregando informações..."})]})});const{name:ce,id:he,motto:de,figure:_e,creationDate:fe,online:ye,level:be,friendsCount:Pe,groupsCount:Ne,achievements:we,respects:De}=le;return jsxRuntimeExports.jsx("div",{className:re(Vn.container),style:{height:"100%",width:"100%",...ie.style},children:jsxRuntimeExports.jsxs(Le,{h:"100%",w:"100%",children:[jsxRuntimeExports.jsxs(Re,{gap:4,justify:"space-evenly",wrap:"nowrap",style:{width:"100%",height:"100%",...ee===0?{}:dn},children:[jsxRuntimeExports.jsx(Le,{h:"100%",gap:2,style:{flexShrink:"1"},children:jsxRuntimeExports.jsxs(Zn,{styles:{flexShrink:"1",padding:2,flexDirection:"column",justifyContent:"space-between",alignItems:"center",position:"relative",overflow:"hidden",width:150},children:[jsxRuntimeExports.jsx(Si,{}),jsxRuntimeExports.jsx("img",{src:`https://www.habblet.city/habblet-imaging/avatarimage?figure=${_e}&size=l&action=&gesture=std&direction=2&head_direction=2&img_format=png&headonly=0`,style:{objectFit:"scale-down",height:"100%",position:"absolute",top:0,left:0,pointerEvents:"none"},alt:"Avatar"}),jsxRuntimeExports.jsxs(Re,{w:"100%",wrap:"nowrap",justify:"center",gap:2,children:[jsxRuntimeExports.jsx("div",{style:{padding:4,border:"1px solid gray",fontSize:"0.9em"},className:re("d-flex overflow-hidden position-relative cursor-pointer btn btn-light"),onClick:()=>{window.Packet&&window.Packet.send("USER_PROFILE",[he])},children:jsxRuntimeExports.jsxs("div",{className:"d-flex flex-shrink-0 align-items-center justify-content-center gap-1",children:[jsxRuntimeExports.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAQCAYAAAAvf+5AAAAAAXNSR0IArs4c6QAAAMZJREFUKFNjZEACUboc/5H5yy7/YITx4QyQIlVjOYYYfR2w3JKLVxhun33EAFMMVghThGwajA1TjKGwJDcOrKZn8iIwjVWhv6M6g6qOOUTBlZMMG/ffJFMhzJ0lJa4ozuzp2Y3qGRXnCf99UhLBiuJ+xYDpRWxLwPSWOfMZ7uwtYGREVoTN1zDFxCusT1D7DwqS2lu5WA1sVpsMDipG2ir8rcmGYj3r9V8MKFaDZD+6n2bAppB/pylYMziuQUGEK2hA4qBwBACmqYMRCeUftgAAAABJRU5ErkJggg=="}),"Ver Perfil"]})}),jsxRuntimeExports.jsx("div",{style:{padding:4,border:"1px solid gray",fontSize:"0.9em"},className:re("d-flex overflow-hidden position-relative cursor-pointer btn btn-light"),onClick:()=>{Te.sayMessage(`:follow ${ce}`)},children:jsxRuntimeExports.jsxs("div",{className:"d-flex flex-shrink-0 align-items-center justify-content-center gap-1",children:[jsxRuntimeExports.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAStJREFUOE9jZCACROly/EdWtuzyD0YYH87AZQ5Is6qxHEOMvg5YyZKLVxhun33EADMErwEwzdgMhxlCtAEluXFgc3omLwLTJBng76jOoKpjDtF45STDxv03cRtgVsgHDrBT/Z8YYV7AawBMA7I/tTzEGK7teMVwsu8jQ7QeJ0NJiStKMPT07EYEIsgAkAZsAGZI4YpPDHG/YsBKFrEtAdNb5sxnuLO3gJERnwEyKuIMu6ZcBrsEZAg6ABkCNwCkGASe3HkJpmGaQWyCBqCb7JajC7YZn+ZmtcngKAW7AFcqxGUzSD3cAHTNMANBmr+ca2WovZWL1XycBsBU1yeo/QelPpABvzXZUAxhvf4LtwuQDQCxP7qfxmoA/05TsFK8eUHFeQLO8AFpBqUDAGLqqhGKXTspAAAAAElFTkSuQmCC"}),"Seguir"]})})]})]})}),jsxRuntimeExports.jsxs(Zn,{styles:{flexGrow:"2",overflow:"auto",justifyContent:"start",alignItems:"start",padding:8,flexDirection:"column"},children:[jsxRuntimeExports.jsx("div",{className:Vn.UserInfoTable,style:{overflow:"auto",width:"100%"},children:jsxRuntimeExports.jsx(ge,{variant:"vertical",styles:{tbody:{fontSize:"0.9em"},td:{padding:"5px 8px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},th:{fontWeight:700,padding:"5px 8px",backgroundColor:"#e9e9e188"}},children:jsxRuntimeExports.jsxs(ge.Tbody,{children:[jsxRuntimeExports.jsxs(ge.Tr,{children:[jsxRuntimeExports.jsx(ge.Th,{w:100,children:"Nome"}),jsxRuntimeExports.jsx(dt,{isName:!0,text:ce})]}),jsxRuntimeExports.jsxs(ge.Tr,{children:[jsxRuntimeExports.jsx(ge.Th,{children:"ID"}),jsxRuntimeExports.jsx(dt,{text:he})]}),jsxRuntimeExports.jsxs(ge.Tr,{children:[jsxRuntimeExports.jsx(ge.Th,{children:"Missão"}),jsxRuntimeExports.jsx(dt,{text:de})]}),jsxRuntimeExports.jsxs(ge.Tr,{children:[jsxRuntimeExports.jsx(ge.Th,{children:"Online"}),jsxRuntimeExports.jsx(dt,{text:ye?"Sim":"Não"})]}),jsxRuntimeExports.jsxs(ge.Tr,{children:[jsxRuntimeExports.jsx(ge.Th,{children:"Data de criação"}),jsxRuntimeExports.jsx(dt,{text:fe})]}),jsxRuntimeExports.jsxs(ge.Tr,{children:[jsxRuntimeExports.jsx(ge.Th,{children:"Respeitos"}),jsxRuntimeExports.jsx(dt,{text:De})]}),jsxRuntimeExports.jsxs(ge.Tr,{children:[jsxRuntimeExports.jsx(ge.Th,{children:"Pontos de prestígio"}),jsxRuntimeExports.jsx(dt,{text:be})]}),jsxRuntimeExports.jsxs(ge.Tr,{children:[jsxRuntimeExports.jsx(ge.Th,{children:"Pontos de conquista"}),jsxRuntimeExports.jsx(dt,{text:we})]}),jsxRuntimeExports.jsxs(ge.Tr,{children:[jsxRuntimeExports.jsx(ge.Th,{children:"Amigos"}),jsxRuntimeExports.jsx(dt,{text:Pe})]}),jsxRuntimeExports.jsxs(ge.Tr,{children:[jsxRuntimeExports.jsx(ge.Th,{children:"Grupos"}),jsxRuntimeExports.jsx(dt,{text:Ne})]})]})})}),jsxRuntimeExports.jsxs("div",{className:re(Vn.ActionButtons,"d-flex gap-1"),style:{marginTop:10,width:"100%"},children:[jsxRuntimeExports.jsx("span",{style:{width:"100%",textAlign:"center",fontWeight:700,fontSize:"1.1em"},children:ce}),jsxRuntimeExports.jsx("div",{className:"d-flex w-100 align-items-center justify-content-center btn btn-warning btn-sm",onClick:()=>te(1),children:"Enviar alerta"}),jsxRuntimeExports.jsx("div",{className:"d-flex w-100 align-items-center justify-content-center btn btn-danger btn-sm",onClick:()=>te(2),children:"Mutar"})]})]})]}),jsxRuntimeExports.jsx(Sx,{onBack:()=>te(0),style:ee===1?{}:dn}),jsxRuntimeExports.jsx(Cx,{onBack:()=>te(0),style:ee===2?{}:dn})]})})},Tx=ie=>jsxRuntimeExports.jsx("div",{style:{height:"100%",width:"100%",...ie.style},children:jsxRuntimeExports.jsx(Re,{children:jsxRuntimeExports.jsx(Zn,{children:"Ainda não implementado."})})}),Zi=Dt({search:""}),Ji=ie=>{if(ie.trim()&&Te.userName!==ie.trim()&&(Te.userName=ie.trim(),Zi.search="",Te.userData=null,Te.userNotFound=!1,Te.userName.length>0)){async function ee(){const te=await Te.userDataFetcher(ie.trim());te?Te.userData=te:Te.userNotFound=!0}ee()}},Si=()=>{const ie=oe(Zi).search,ee=te=>Zi.search=te;return jsxRuntimeExports.jsxs("div",{className:"d-flex gap-1",children:[jsxRuntimeExports.jsx("input",{type:"text",className:"form-control",style:{height:"min-content",minHeight:"calc(1em + 2px + 0.5rem)",padding:"0.2rem 0.3rem",fontSize:"0.7375rem",borderRadius:"0.18rem",backgroundColor:"rgba(255, 255, 255, 0.3)"},placeholder:"Procurar usuário",value:ie,onChange:te=>ee(te.target.value),onKeyDown:te=>{te.key==="Enter"&&(te.preventDefault(),te.stopPropagation(),te.nativeEvent.stopImmediatePropagation(),Ji(ie))}}),jsxRuntimeExports.jsx("div",{className:"d-flex align-items-center justify-content-center btn btn-primary btn-sm",style:{minHeight:"22px"},onClick:()=>Ji(ie),children:jsxRuntimeExports.jsx("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 512 512",className:"fa-icon",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"})})})]})},Ix=ie=>{const ee=oe(Te).sayMessage;return jsxRuntimeExports.jsxs("div",{className:re(Vn.container),style:ie.style,children:[jsxRuntimeExports.jsx(Ae,{title:"Atalhos",children:jsxRuntimeExports.jsxs(X$1,{children:[{type:"action",label:"Remover enable",action:async()=>{ee(":enable 0")}},{type:"action",label:"Aplicar enable de guardião (215)",action:async()=>{ee(":enable 215")}},{type:"action",label:"Aplicar enable invisível sem explosão (660)",action:async()=>{ee(":enable 660")}},{type:"action",label:"Abrir chooser",action:async()=>{window.writeIntoChatInput&&window.writeIntoChatInput(":chooser",!0)}}]})}),jsxRuntimeExports.jsx(Ae,{title:"Atalhos de configurações do Hibisco",children:jsxRuntimeExports.jsxs(X$1,{children:[{type:"switch",label:'Esconder para todos o meu balão de "digitando"',value:$$3(A$2,"hideMyTypingBalloon")},{type:"switchWithNumberInput",label:"Aplicar efeito ao entrar em quartos",value:$$3(A$2.defaultEnable,"enabled"),numberInputValue:$$3(A$2.defaultEnable,"value"),min:0,max:800,step:1},{type:"switch",label:"Clicar nas pessoas sem ativar os wireds do quarto",value:$$3(A$2,"blockClick")},{type:"switch",label:"Não girar avatar ao clicar em usuário",value:$$3(A$2,"preventLookPackets")}]})})]})},$C=ie=>{const[ee,te]=reactExports.useState(0);reactExports.useEffect(()=>{Te.sayMessage=ie.sayMessage,Te.userDataFetcher=ie.userDataFetcher},[ie.sayMessage,ie.userDataFetcher]);const se=oe(A$2).guardianTools.lastClickedUser;reactExports.useEffect(()=>{se&&ie.userDataFetcher&&Ji(se),A$2.guardianTools.lastClickedUser=null},[se,ie.userDataFetcher]);const ne=oe(A$2);if(!ie.isDev&&(!ne.isGuardianToolVisible||!ie.isZhang))return jsxRuntimeExports.jsx("div",{className:"pointer-events-none"});function le(){A$2.isGuardianToolVisible=!1}return jsxRuntimeExports.jsx(An,{theme:dr,forceColorScheme:"light",cssVariablesSelector:"#hibisco-root",withCssVariables:!0,deduplicateCssVariables:!1,getRootElement:()=>document.getElementById("hibisco-root"),children:jsxRuntimeExports.jsx("div",{className:re("position-absolute draggable-window"),style:{zIndex:401,top:"0px",left:"0px",visibility:"visible"},children:jsxRuntimeExports.jsxs("div",{className:"d-flex overflow-hidden position-relative flex-column nitro-card theme-primary",style:{width:"450px",minWidth:"350px",height:"360px",minHeight:"250px",maxWidth:"95vw"},children:[jsxRuntimeExports.jsx("div",{className:"d-flex position-relative flex-column gap-2 align-items-center justify-content-center drag-handler container-fluid nitro-card-header",children:jsxRuntimeExports.jsxs("div",{className:"d-flex w-100 align-items-center justify-content-center",children:[jsxRuntimeExports.jsx("span",{className:"nitro-card-header-text",children:"Ferramenta de Guardião"}),jsxRuntimeExports.jsx("div",{className:"position-absolute end-0 nitro-card-header-close",onClick:le})]})}),jsxRuntimeExports.jsxs("div",{className:"d-flex menu align-items-center",children:[jsxRuntimeExports.jsx("div",{className:re("d-flex overflow-hidden position-relative cursor-pointer btn btn-secondary",ee===0&&"active"),onClick:()=>te(0),children:jsxRuntimeExports.jsx("div",{className:"d-flex flex-shrink-0 align-items-center justify-content-center",children:"Usuário"})}),jsxRuntimeExports.jsx("div",{className:re("d-flex overflow-hidden position-relative cursor-pointer btn btn-secondary",ee===1&&"active"),onClick:()=>te(1),children:jsxRuntimeExports.jsx("div",{className:"d-flex flex-shrink-0 align-items-center justify-content-center",children:"Quarto"})}),jsxRuntimeExports.jsx("div",{className:re("d-flex overflow-hidden position-relative cursor-pointer btn btn-secondary",ee===2&&"active"),onClick:()=>te(2),children:jsxRuntimeExports.jsx("div",{className:"d-flex flex-shrink-0 align-items-center justify-content-center",children:"Guardião"})})]}),jsxRuntimeExports.jsxs("div",{className:"d-flex overflow-auto flex-column gap-2 container-fluid content-area",style:{height:"100%"},children:[jsxRuntimeExports.jsx(Rx,{style:ee===0?{}:dn}),jsxRuntimeExports.jsx(Tx,{style:ee===1?{}:dn}),jsxRuntimeExports.jsx(Ix,{style:ee===2?{}:dn})]})]})})})},Ox="_container_1k59w_25",Px="_visible_1k59w_1",Nx="_absolute_1k59w_1",kx="_relative_1k59w_1",Ex="_flex_1k59w_1",Mx="_hidden_1k59w_30",$x="_border_1k59w_1",Dx="_italic_1k59w_1",Lx="_outline_1k59w_1",Fx="_filter_1k59w_1",Bx="_hiddenOnContainerNarrow_1k59w_30",Lr={container:Ox,"pointer-events-none":"_pointer-events-none_1k59w_1",visible:Px,absolute:Nx,relative:kx,"end-0":"_end-0_1k59w_1","mx-auto":"_mx-auto_1k59w_1","ms-1":"_ms-1_1k59w_1",flex:Ex,hidden:Mx,"h-full":"_h-full_1k59w_1","w-full":"_w-full_1k59w_1","max-w-full":"_max-w-full_1k59w_1","flex-shrink-0":"_flex-shrink-0_1k59w_1","cursor-pointer":"_cursor-pointer_1k59w_1","select-none":"_select-none_1k59w_1","flex-col":"_flex-col_1k59w_1","gap-1":"_gap-1_1k59w_1","gap-2":"_gap-2_1k59w_1","overflow-auto":"_overflow-auto_1k59w_1","overflow-hidden":"_overflow-hidden_1k59w_1",border:$x,"p-0":"_p-0_1k59w_1",italic:Dx,"text-black":"_text-black_1k59w_1",outline:Lx,filter:Fx,hiddenOnContainerNarrow:Bx};var Sr={exports:{}},zx=Sr.exports,ud;function Gp(){return ud||(ud=1,function(ie,ee){(function(te,se){ie.exports=se()})(zx,function(){var te=1e3,se=6e4,ne=36e5,le="millisecond",ue="second",ce="minute",he="hour",de="day",_e="week",fe="month",ye="quarter",be="year",Pe="date",Ne="Invalid Date",we=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,De=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$e={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(aE){var nE=["th","st","nd","rd"],On=aE%100;return"["+aE+(nE[(On-20)%10]||nE[On]||nE[0])+"]"}},Ge=function(aE,nE,On){var nh=String(aE);return!nh||nh.length>=nE?aE:""+Array(nE+1-nh.length).join(On)+aE},Be={s:Ge,z:function(aE){var nE=-aE.utcOffset(),On=Math.abs(nE),nh=Math.floor(On/60),Hn=On%60;return(nE<=0?"+":"-")+Ge(nh,2,"0")+":"+Ge(Hn,2,"0")},m:function aE(nE,On){if(nE.date()<On.date())return-aE(On,nE);var nh=12*(On.year()-nE.year())+(On.month()-nE.month()),Hn=nE.clone().add(nh,fe),Xp=On-Hn<0,Jp=nE.clone().add(nh+(Xp?-1:1),fe);return+(-(nh+(On-Hn)/(Xp?Hn-Jp:Jp-Hn))||0)},a:function(aE){return aE<0?Math.ceil(aE)||0:Math.floor(aE)},p:function(aE){return{M:fe,y:be,w:_e,d:de,D:Pe,h:he,m:ce,s:ue,ms:le,Q:ye}[aE]||String(aE||"").toLowerCase().replace(/s$/,"")},u:function(aE){return aE===void 0}},ze="en",$t={};$t[ze]=$e;var ut="$isDayjsObject",Ti=function(aE){return aE instanceof Pm||!(!aE||!aE[ut])},Hi=function aE(nE,On,nh){var Hn;if(!nE)return ze;if(typeof nE=="string"){var Xp=nE.toLowerCase();$t[Xp]&&(Hn=Xp),On&&($t[Xp]=On,Hn=Xp);var Jp=nE.split("-");if(!Hn&&Jp.length>1)return aE(Jp[0])}else{var md=nE.name;$t[md]=nE,Hn=md}return!nh&&Hn&&(ze=Hn),Hn||!nh&&ze},bn=function(aE,nE){if(Ti(aE))return aE.clone();var On=typeof nE=="object"?nE:{};return On.date=aE,On.args=arguments,new Pm(On)},gd=Be;gd.l=Hi,gd.i=Ti,gd.w=function(aE,nE){return bn(aE,{locale:nE.$L,utc:nE.$u,x:nE.$x,$offset:nE.$offset})};var Pm=function(){function aE(On){this.$L=Hi(On.locale,null,!0),this.parse(On),this.$x=this.$x||On.x||{},this[ut]=!0}var nE=aE.prototype;return nE.parse=function(On){this.$d=function(nh){var Hn=nh.date,Xp=nh.utc;if(Hn===null)return new Date(NaN);if(gd.u(Hn))return new Date;if(Hn instanceof Date)return new Date(Hn);if(typeof Hn=="string"&&!/Z$/i.test(Hn)){var Jp=Hn.match(we);if(Jp){var md=Jp[2]-1||0,eE=(Jp[7]||"0").substring(0,3);return Xp?new Date(Date.UTC(Jp[1],md,Jp[3]||1,Jp[4]||0,Jp[5]||0,Jp[6]||0,eE)):new Date(Jp[1],md,Jp[3]||1,Jp[4]||0,Jp[5]||0,Jp[6]||0,eE)}}return new Date(Hn)}(On),this.init()},nE.init=function(){var On=this.$d;this.$y=On.getFullYear(),this.$M=On.getMonth(),this.$D=On.getDate(),this.$W=On.getDay(),this.$H=On.getHours(),this.$m=On.getMinutes(),this.$s=On.getSeconds(),this.$ms=On.getMilliseconds()},nE.$utils=function(){return gd},nE.isValid=function(){return this.$d.toString()!==Ne},nE.isSame=function(On,nh){var Hn=bn(On);return this.startOf(nh)<=Hn&&Hn<=this.endOf(nh)},nE.isAfter=function(On,nh){return bn(On)<this.startOf(nh)},nE.isBefore=function(On,nh){return this.endOf(nh)<bn(On)},nE.$g=function(On,nh,Hn){return gd.u(On)?this[nh]:this.set(Hn,On)},nE.unix=function(){return Math.floor(this.valueOf()/1e3)},nE.valueOf=function(){return this.$d.getTime()},nE.startOf=function(On,nh){var Hn=this,Xp=!!gd.u(nh)||nh,Jp=gd.p(On),md=function(ME,SE){var jE=gd.w(Hn.$u?Date.UTC(Hn.$y,SE,ME):new Date(Hn.$y,SE,ME),Hn);return Xp?jE:jE.endOf(de)},eE=function(ME,SE){return gd.w(Hn.toDate()[ME].apply(Hn.toDate("s"),(Xp?[0,0,0,0]:[23,59,59,999]).slice(SE)),Hn)},hE=this.$W,mE=this.$M,fE=this.$D,yE="set"+(this.$u?"UTC":"");switch(Jp){case be:return Xp?md(1,0):md(31,11);case fe:return Xp?md(1,mE):md(0,mE+1);case _e:var AE=this.$locale().weekStart||0,bE=(hE<AE?hE+7:hE)-AE;return md(Xp?fE-bE:fE+(6-bE),mE);case de:case Pe:return eE(yE+"Hours",0);case he:return eE(yE+"Minutes",1);case ce:return eE(yE+"Seconds",2);case ue:return eE(yE+"Milliseconds",3);default:return this.clone()}},nE.endOf=function(On){return this.startOf(On,!1)},nE.$set=function(On,nh){var Hn,Xp=gd.p(On),Jp="set"+(this.$u?"UTC":""),md=(Hn={},Hn[de]=Jp+"Date",Hn[Pe]=Jp+"Date",Hn[fe]=Jp+"Month",Hn[be]=Jp+"FullYear",Hn[he]=Jp+"Hours",Hn[ce]=Jp+"Minutes",Hn[ue]=Jp+"Seconds",Hn[le]=Jp+"Milliseconds",Hn)[Xp],eE=Xp===de?this.$D+(nh-this.$W):nh;if(Xp===fe||Xp===be){var hE=this.clone().set(Pe,1);hE.$d[md](eE),hE.init(),this.$d=hE.set(Pe,Math.min(this.$D,hE.daysInMonth())).$d}else md&&this.$d[md](eE);return this.init(),this},nE.set=function(On,nh){return this.clone().$set(On,nh)},nE.get=function(On){return this[gd.p(On)]()},nE.add=function(On,nh){var Hn,Xp=this;On=Number(On);var Jp=gd.p(nh),md=function(mE){var fE=bn(Xp);return gd.w(fE.date(fE.date()+Math.round(mE*On)),Xp)};if(Jp===fe)return this.set(fe,this.$M+On);if(Jp===be)return this.set(be,this.$y+On);if(Jp===de)return md(1);if(Jp===_e)return md(7);var eE=(Hn={},Hn[ce]=se,Hn[he]=ne,Hn[ue]=te,Hn)[Jp]||1,hE=this.$d.getTime()+On*eE;return gd.w(hE,this)},nE.subtract=function(On,nh){return this.add(-1*On,nh)},nE.format=function(On){var nh=this,Hn=this.$locale();if(!this.isValid())return Hn.invalidDate||Ne;var Xp=On||"YYYY-MM-DDTHH:mm:ssZ",Jp=gd.z(this),md=this.$H,eE=this.$m,hE=this.$M,mE=Hn.weekdays,fE=Hn.months,yE=Hn.meridiem,AE=function(SE,jE,$E,zE){return SE&&(SE[jE]||SE(nh,Xp))||$E[jE].slice(0,zE)},bE=function(SE){return gd.s(md%12||12,SE,"0")},ME=yE||function(SE,jE,$E){var zE=SE<12?"AM":"PM";return $E?zE.toLowerCase():zE};return Xp.replace(De,function(SE,jE){return jE||function($E){switch($E){case"YY":return String(nh.$y).slice(-2);case"YYYY":return gd.s(nh.$y,4,"0");case"M":return hE+1;case"MM":return gd.s(hE+1,2,"0");case"MMM":return AE(Hn.monthsShort,hE,fE,3);case"MMMM":return AE(fE,hE);case"D":return nh.$D;case"DD":return gd.s(nh.$D,2,"0");case"d":return String(nh.$W);case"dd":return AE(Hn.weekdaysMin,nh.$W,mE,2);case"ddd":return AE(Hn.weekdaysShort,nh.$W,mE,3);case"dddd":return mE[nh.$W];case"H":return String(md);case"HH":return gd.s(md,2,"0");case"h":return bE(1);case"hh":return bE(2);case"a":return ME(md,eE,!0);case"A":return ME(md,eE,!1);case"m":return String(eE);case"mm":return gd.s(eE,2,"0");case"s":return String(nh.$s);case"ss":return gd.s(nh.$s,2,"0");case"SSS":return gd.s(nh.$ms,3,"0");case"Z":return Jp}return null}(SE)||Jp.replace(":","")})},nE.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},nE.diff=function(On,nh,Hn){var Xp,Jp=this,md=gd.p(nh),eE=bn(On),hE=(eE.utcOffset()-this.utcOffset())*se,mE=this-eE,fE=function(){return gd.m(Jp,eE)};switch(md){case be:Xp=fE()/12;break;case fe:Xp=fE();break;case ye:Xp=fE()/3;break;case _e:Xp=(mE-hE)/6048e5;break;case de:Xp=(mE-hE)/864e5;break;case he:Xp=mE/ne;break;case ce:Xp=mE/se;break;case ue:Xp=mE/te;break;default:Xp=mE}return Hn?Xp:gd.a(Xp)},nE.daysInMonth=function(){return this.endOf(fe).$D},nE.$locale=function(){return $t[this.$L]},nE.locale=function(On,nh){if(!On)return this.$L;var Hn=this.clone(),Xp=Hi(On,nh,!0);return Xp&&(Hn.$L=Xp),Hn},nE.clone=function(){return gd.w(this.$d,this)},nE.toDate=function(){return new Date(this.valueOf())},nE.toJSON=function(){return this.isValid()?this.toISOString():null},nE.toISOString=function(){return this.$d.toISOString()},nE.toString=function(){return this.$d.toUTCString()},aE}(),oE=Pm.prototype;return bn.prototype=oE,[["$ms",le],["$s",ue],["$m",ce],["$H",he],["$W",de],["$M",fe],["$y",be],["$D",Pe]].forEach(function(aE){oE[aE[1]]=function(nE){return this.$g(nE,aE[0],aE[1])}}),bn.extend=function(aE,nE){return aE.$i||(aE(nE,Pm,bn),aE.$i=!0),bn},bn.locale=Hi,bn.isDayjs=Ti,bn.unix=function(aE){return bn(1e3*aE)},bn.en=$t[ze],bn.Ls=$t,bn.p={},bn})}(Sr)),Sr.exports}var qx=Gp();const fn=Fr(qx);var Cr={exports:{}},jx=Cr.exports,dd;function Vx(){return dd||(dd=1,function(ie,ee){(function(te,se){ie.exports=se(Gp())})(jx,function(te){function se(ue){return ue&&typeof ue=="object"&&"default"in ue?ue:{default:ue}}var ne=se(te),le={name:"pt-br",weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(ue){return ue+"º"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"}};return ne.default.locale(le,null,!0),le})}(Cr)),Cr.exports}Vx();var Rr={exports:{}},Hx=Rr.exports,fd;function Ux(){return fd||(fd=1,function(ie,ee){(function(te,se){ie.exports=se()})(Hx,function(){return function(te,se,ne){te=te||{};var le=se.prototype,ue={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ce(de,_e,fe,ye){return le.fromToBase(de,_e,fe,ye)}ne.en.relativeTime=ue,le.fromToBase=function(de,_e,fe,ye,be){for(var Pe,Ne,we,De=fe.$locale().relativeTime||ue,$e=te.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],Ge=$e.length,Be=0;Be<Ge;Be+=1){var ze=$e[Be];ze.d&&(Pe=ye?ne(de).diff(fe,ze.d,!0):fe.diff(de,ze.d,!0));var $t=(te.rounding||Math.round)(Math.abs(Pe));if(we=Pe>0,$t<=ze.r||!ze.r){$t<=1&&Be>0&&(ze=$e[Be-1]);var ut=De[ze.l];be&&($t=be(""+$t)),Ne=typeof ut=="string"?ut.replace("%d",$t):ut($t,_e,ze.l,we);break}}if(_e)return Ne;var Ti=we?De.future:De.past;return typeof Ti=="function"?Ti(Ne):Ti.replace("%s",Ne)},le.to=function(de,_e){return ce(de,_e,this,!0)},le.from=function(de,_e){return ce(de,_e,this)};var he=function(de){return de.$u?ne.utc():ne()};le.toNow=function(de){return this.to(he(this),de)},le.fromNow=function(de){return this.from(he(this),de)}}})}(Rr)),Rr.exports}var Wx=Ux();const Gx=Fr(Wx);var Tr={exports:{}},Yx=Tr.exports,pd;function Kx(){return pd||(pd=1,function(ie,ee){(function(te,se){ie.exports=se()})(Yx,function(){var te={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},se=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,ne=/\d/,le=/\d\d/,ue=/\d\d?/,ce=/\d*[^-_:/,()\s\d]+/,he={},de=function(we){return(we=+we)+(we>68?1900:2e3)},_e=function(we){return function(De){this[we]=+De}},fe=[/[+-]\d\d:?(\d\d)?|Z/,function(we){(this.zone||(this.zone={})).offset=function(De){if(!De||De==="Z")return 0;var $e=De.match(/([+-]|\d\d)/g),Ge=60*$e[1]+(+$e[2]||0);return Ge===0?0:$e[0]==="+"?-Ge:Ge}(we)}],ye=function(we){var De=he[we];return De&&(De.indexOf?De:De.s.concat(De.f))},be=function(we,De){var $e,Ge=he.meridiem;if(Ge){for(var Be=1;Be<=24;Be+=1)if(we.indexOf(Ge(Be,0,De))>-1){$e=Be>12;break}}else $e=we===(De?"pm":"PM");return $e},Pe={A:[ce,function(we){this.afternoon=be(we,!1)}],a:[ce,function(we){this.afternoon=be(we,!0)}],Q:[ne,function(we){this.month=3*(we-1)+1}],S:[ne,function(we){this.milliseconds=100*+we}],SS:[le,function(we){this.milliseconds=10*+we}],SSS:[/\d{3}/,function(we){this.milliseconds=+we}],s:[ue,_e("seconds")],ss:[ue,_e("seconds")],m:[ue,_e("minutes")],mm:[ue,_e("minutes")],H:[ue,_e("hours")],h:[ue,_e("hours")],HH:[ue,_e("hours")],hh:[ue,_e("hours")],D:[ue,_e("day")],DD:[le,_e("day")],Do:[ce,function(we){var De=he.ordinal,$e=we.match(/\d+/);if(this.day=$e[0],De)for(var Ge=1;Ge<=31;Ge+=1)De(Ge).replace(/\[|\]/g,"")===we&&(this.day=Ge)}],w:[ue,_e("week")],ww:[le,_e("week")],M:[ue,_e("month")],MM:[le,_e("month")],MMM:[ce,function(we){var De=ye("months"),$e=(ye("monthsShort")||De.map(function(Ge){return Ge.slice(0,3)})).indexOf(we)+1;if($e<1)throw new Error;this.month=$e%12||$e}],MMMM:[ce,function(we){var De=ye("months").indexOf(we)+1;if(De<1)throw new Error;this.month=De%12||De}],Y:[/[+-]?\d+/,_e("year")],YY:[le,function(we){this.year=de(we)}],YYYY:[/\d{4}/,_e("year")],Z:fe,ZZ:fe};function Ne(we){var De,$e;De=we,$e=he&&he.formats;for(var Ge=(we=De.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(bn,gd,Pm){var oE=Pm&&Pm.toUpperCase();return gd||$e[Pm]||te[Pm]||$e[oE].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(aE,nE,On){return nE||On.slice(1)})})).match(se),Be=Ge.length,ze=0;ze<Be;ze+=1){var $t=Ge[ze],ut=Pe[$t],Ti=ut&&ut[0],Hi=ut&&ut[1];Ge[ze]=Hi?{regex:Ti,parser:Hi}:$t.replace(/^\[|\]$/g,"")}return function(bn){for(var gd={},Pm=0,oE=0;Pm<Be;Pm+=1){var aE=Ge[Pm];if(typeof aE=="string")oE+=aE.length;else{var nE=aE.regex,On=aE.parser,nh=bn.slice(oE),Hn=nE.exec(nh)[0];On.call(gd,Hn),bn=bn.replace(Hn,"")}}return function(Xp){var Jp=Xp.afternoon;if(Jp!==void 0){var md=Xp.hours;Jp?md<12&&(Xp.hours+=12):md===12&&(Xp.hours=0),delete Xp.afternoon}}(gd),gd}}return function(we,De,$e){$e.p.customParseFormat=!0,we&&we.parseTwoDigitYear&&(de=we.parseTwoDigitYear);var Ge=De.prototype,Be=Ge.parse;Ge.parse=function(ze){var $t=ze.date,ut=ze.utc,Ti=ze.args;this.$u=ut;var Hi=Ti[1];if(typeof Hi=="string"){var bn=Ti[2]===!0,gd=Ti[3]===!0,Pm=bn||gd,oE=Ti[2];gd&&(oE=Ti[2]),he=this.$locale(),!bn&&oE&&(he=$e.Ls[oE]),this.$d=function(nh,Hn,Xp,Jp){try{if(["x","X"].indexOf(Hn)>-1)return new Date((Hn==="X"?1e3:1)*nh);var md=Ne(Hn)(nh),eE=md.year,hE=md.month,mE=md.day,fE=md.hours,yE=md.minutes,AE=md.seconds,bE=md.milliseconds,ME=md.zone,SE=md.week,jE=new Date,$E=mE||(eE||hE?1:jE.getDate()),zE=eE||jE.getFullYear(),YE=0;eE&&!hE||(YE=hE>0?hE-1:jE.getMonth());var HE,VE=fE||0,TE=yE||0,xE=AE||0,BE=bE||0;return ME?new Date(Date.UTC(zE,YE,$E,VE,TE,xE,BE+60*ME.offset*1e3)):Xp?new Date(Date.UTC(zE,YE,$E,VE,TE,xE,BE)):(HE=new Date(zE,YE,$E,VE,TE,xE,BE),SE&&(HE=Jp(HE).week(SE).toDate()),HE)}catch{return new Date("")}}($t,Hi,ut,$e),this.init(),oE&&oE!==!0&&(this.$L=this.locale(oE).$L),Pm&&$t!=this.format(Hi)&&(this.$d=new Date("")),he={}}else if(Hi instanceof Array)for(var aE=Hi.length,nE=1;nE<=aE;nE+=1){Ti[1]=Hi[nE-1];var On=$e.apply(this,Ti);if(On.isValid()){this.$d=On.$d,this.$L=On.$L,this.init();break}nE===aE&&(this.$d=new Date(""))}else Be.call(this,ze)}}})}(Tr)),Tr.exports}var Qx=Kx();const Zx=Fr(Qx);fn.extend(Zx),fn.extend(Gx),fn.locale("pt-br");const Jx=()=>ss("(max-width: 640px)",!1),Gt=ie=>jsxRuntimeExports.jsx("div",{style:{borderRadius:"15px",background:"#d2d1ca",padding:"8px",height:"100%",display:"flex",justifyContent:"start",alignItems:"start",...ie.styles||{}},className:ie.className,children:ie.children}),hd=ie=>{const[ee,te]=reactExports.useState(""),[se,ne]=reactExports.useState(null),le=ie.usernames;reactExports.useEffect(()=>{ie.onSelect(se||"")},[se]);const ue=Qs({onDropdownClose:()=>{ue.resetSelectedOption(),ue.focusTarget(),te("")},onDropdownOpen:()=>{ue.focusSearchInput()}}),ce=le.filter(he=>he.toLowerCase().includes(ee.toLowerCase().trim())).map(he=>jsxRuntimeExports.jsx(xe.Option,{value:he,style:{padding:"4px 8px"},children:jsxRuntimeExports.jsx(Ce,{size:"xs",children:he})},he));return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(xe,{withinPortal:!1,store:ue,position:"top-end",width:"60%",offset:-33,middlewares:{size:!0},onOptionSubmit:he=>{ne(he),ue.closeDropdown()},children:[jsxRuntimeExports.jsx(xe.Target,{withAriaAttributes:!1,children:jsxRuntimeExports.jsx("div",{className:"d-flex align-items-center justify-content-center btn btn-secondary btn-sm",onClick:()=>ue.toggleDropdown(),children:"Escolher usuário"})}),jsxRuntimeExports.jsxs(xe.Dropdown,{style:{zIndex:403},children:[jsxRuntimeExports.jsx(xe.Search,{size:"xs",value:ee,onChange:he=>te(he.currentTarget.value),placeholder:"Pesquisar usuário no quarto"}),jsxRuntimeExports.jsx(xe.Options,{children:jsxRuntimeExports.jsx(vt.Autosize,{type:"scroll",mah:180,children:ce.length>0?ce:jsxRuntimeExports.jsx(xe.Empty,{children:"Nada encontrado."})})})]})]})})},Ci={position:"absolute",visibility:"hidden"},Yp=ie=>{const[ee,te]=reactExports.useState(!1),se={user:`Envia comando "{cmd} ${ie.user}"`,room:'Envia comando "{cmd}"'},ne=se[ie.user?"user":"room"].replace("{cmd}",ie.text),le=ie.tooltip?ie.tooltip:ne;console.debug({defaultTooltip:ne,defaultTooltips:se,props:ie.tooltip,tooltip:le});const ue=()=>{ie.sayCommand(ie.text+(ie.user?" "+ie.user:"")),te(!0),setTimeout(()=>{te(!1)},2e3)};return ee?jsxRuntimeExports.jsx("div",{className:"d-flex align-items-center justify-content-center w-100 btn btn-secondary btn-sm",style:{background:"green"},children:jsxRuntimeExports.jsx(Fp,{size:18,color:"white",stroke:2})}):jsxRuntimeExports.jsx(Qt,{openDelay:500,color:"#1E7295",withinPortal:!1,zIndex:500,label:le,children:jsxRuntimeExports.jsx("div",{className:"d-flex align-items-center justify-content-center w-100 btn btn-secondary btn-sm",onClick:ue,children:ie.text})})},Kp=()=>jsxRuntimeExports.jsx(gt,{h:"100%",w:"100%",style:{opacity:.5},children:"Sem comandos listados nas notas adesivas."}),Xx=()=>jsxRuntimeExports.jsx(gt,{h:"100%",w:"100%",style:{opacity:.5},children:"Sem notas adesivas encontradas no quarto."}),eS=ie=>{const ee=oe(Te),te=ee.userName,se=ee.userData,ne=ee.userNotFound,le=oe(ie.roomState).doIHaveRights,ue=oe(ie.roomState).amIOwner;console.debug({props:ie,roomState:ie.roomState}),reactExports.useEffect(()=>{Te.sayMessage=ie.sayMessage,Te.userDataFetcher=ie.userDataFetcher},[ie.sayMessage,ie.userDataFetcher]);const ce=oe(A$2).guardianTools.lastClickedUser;reactExports.useEffect(()=>{ce&&ie.userDataFetcher&&he(ce),A$2.guardianTools.lastClickedUser=null},[ce,ie.userDataFetcher]);const he=ut=>{if(ut.trim()&&Te.userName!==ut.trim()&&(Te.userName=ut.trim(),Te.userData=null,Te.userNotFound=!1,Te.userName.length>0)){async function Ti(){const Hi=await ie.userDataFetcher(ut.trim());Hi?Te.userData=Hi:Te.userNotFound=!0}Ti()}},de=Jx(),_e=oe(ie.roomState).userCommands,fe=oe(ie.roomState).members,ye=Object.keys(fe);if(!te)return jsxRuntimeExports.jsx(Le,{h:"100%",w:"100%",gap:4,style:{paddingTop:0,...ie.style},children:jsxRuntimeExports.jsx(gt,{style:{height:"100%",...ie.style},children:jsxRuntimeExports.jsxs(Le,{gap:2,children:["Clique em um usuário ou escolha pelo botão abaixo.",jsxRuntimeExports.jsx(hd,{onSelect:ut=>he(ut),usernames:ye})]})})});if(ne)return jsxRuntimeExports.jsx(gt,{style:{height:"100%",...ie.style},children:"Usuário não encontrado."});if(!se)return jsxRuntimeExports.jsx(gt,{style:{height:"100%",...ie.style},children:jsxRuntimeExports.jsxs(Le,{align:"center",gap:0,children:[jsxRuntimeExports.jsx(Cn,{color:"#1e7295",type:"dots"}),jsxRuntimeExports.jsx(Ce,{size:"xs",children:"Carregando informações..."})]})});const{name:be,figure:Pe,creationDate:Ne,achievements:we}=se;let De=0,$e="",Ge="",Be=!1;const ze=fe[te];let $t=fn(Ne,"DD/MM/YYYY").fromNow();return ze&&(De=ze.timestamp,$e=fn(De).format("HH:mm"),Ge=fn(De).fromNow(),Be=ze.joinedBeforeMe),jsxRuntimeExports.jsx(Re,{style:{height:"100%",width:"100%",...ie.style},className:Lr.container,children:jsxRuntimeExports.jsx(Le,{h:"100%",w:"100%",gap:4,style:{paddingTop:0},children:jsxRuntimeExports.jsxs(Re,{gap:4,justify:"space-evenly",wrap:"nowrap",style:{width:"100%",flexGrow:1},children:[!de&&jsxRuntimeExports.jsxs(Gt,{className:Lr.hiddenOnContainerNarrow,styles:{flexShrink:"1",padding:0,flexDirection:"column",justifyContent:"space-around",alignItems:"center"},children:[jsxRuntimeExports.jsx("img",{src:`https://www.habblet.city/habblet-imaging/avatarimage?figure=${Pe}&size=l&action=&gesture=std&direction=2&head_direction=2&img_format=png&headonly=0`,style:{objectFit:"scale-down",minWidth:"120px"},alt:"Avatar"}),jsxRuntimeExports.jsx(hd,{onSelect:ut=>he(ut),usernames:ye})]}),jsxRuntimeExports.jsxs(Le,{w:"100%",h:"100%",gap:4,style:{flexGrow:1},children:[jsxRuntimeExports.jsxs(Gt,{styles:{flexGrow:"1",justifyContent:"start",alignItems:"start",padding:"4px 8px",flexDirection:"column",height:"max-content"},children:[jsxRuntimeExports.jsx(Ce,{w:"100%",ta:"left",size:"lg",lh:"normal",mb:2,fw:700,children:be}),jsxRuntimeExports.jsxs(Ce,{w:"100%",ta:"left",size:"xs",children:[we," pontos de conquista"]}),jsxRuntimeExports.jsxs(Ce,{w:"100%",ta:"left",size:"xs",children:["Conta criada em ",Ne," (",$t,")"]}),Be&&jsxRuntimeExports.jsx(Ce,{w:"100%",ta:"left",size:"xs",children:"Já estava no quarto quando você entrou"}),!Be&&De>0&&jsxRuntimeExports.jsxs(Ce,{w:"100%",ta:"left",size:"xs",children:["Está no quarto desde ",$e," (",Ge,")"]}),!Be&&De<=0&&jsxRuntimeExports.jsx(Ce,{w:"100%",ta:"left",size:"xs",c:"red.9",children:"Não está no quarto"})]}),jsxRuntimeExports.jsx(Gt,{styles:{flexGrow:"2",overflow:"auto",justifyContent:"start",alignItems:"start",padding:8,flexDirection:"column"},children:_e.length?jsxRuntimeExports.jsx(vt,{type:"auto",w:"100%",children:jsxRuntimeExports.jsx(lr,{cols:3,spacing:"xs",verticalSpacing:"xs",w:"100%",style:{alignItems:"center"},children:_e.map(({command:ut,description:Ti,permission:Hi})=>Hi=="owner"&&!ue||Hi=="admin"&&!le?null:jsxRuntimeExports.jsx(Yp,{text:ut,tooltip:Ti,sayCommand:ie.sayMessage,user:be}))})}):jsxRuntimeExports.jsx(Kp,{})})]})]})})})},Qp=ie=>{const ee=oe(ie.roomState),te=ee.name,se=ee.description,ne=Object.values(ee.members).filter(de=>de.userType=="user").length,le=ee.score,ue=ee.owner,ce=()=>jsxRuntimeExports.jsxs(Re,{gap:2,style:{flexGrow:1},wrap:"nowrap",children:[jsxRuntimeExports.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAALCAYAAACksgdhAAAAAXNSR0IArs4c6QAAAJhJREFUKFNjZMAO/iMJM6IrwRBgYGD4L9j7Fq7ufbEwiI2ijmJNcCdhsQlmM9gSmE3/3wpWwJ0k/L6DAaQR5LR/mxE+YvIFsxlxalpw7T9DghYjDTSB7AU5EeQ0dAByItRpcOf9/z/zJIZCxnRzhv//Z2KKM6aDAwKs6V3FegahjkA4DdP0f0s6A6PPTAYYzQjThCNV4BQGABJySQkc0XKYAAAAAElFTkSuQmCC",style:{width:"16px",height:"16px"}}),jsxRuntimeExports.jsx(Ce,{size:"xs",children:ne})]}),he=()=>jsxRuntimeExports.jsxs(Re,{gap:2,style:{flexGrow:1},wrap:"nowrap",children:[jsxRuntimeExports.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAMCAYAAAC0qUeeAAAAAXNSR0IArs4c6QAAAFRJREFUKFNjZMAE/6FCjOhSGAIMDAz/f5/tZ2A1LgSpRZGnSDHYVBCAmozsEkaQyTA3MsAUYvEHWDNY8f///xkYGRmxKka2gaBimC1D2mRsQYVNDAASczwFny5XlQAAAABJRU5ErkJggg==",style:{width:"16px",height:"16px"}}),jsxRuntimeExports.jsx(Ce,{size:"xs",children:le})]});return jsxRuntimeExports.jsxs(Re,{gap:4,w:"100%",wrap:"nowrap",className:Lr.container,children:[jsxRuntimeExports.jsx(Gt,{styles:{padding:0,border:"2px solid #d2d1ca",boxSizing:"border-box",overflow:"hidden",height:90,width:90,minWidth:90},className:Lr.hiddenOnContainerNarrow,children:ee.picture?jsxRuntimeExports.jsx("img",{src:`https://images.habblet.city/habblet-camera/thumbnails/${ee.picture}`,style:{width:"100%",height:"100%",objectFit:"scale-down"}}):jsxRuntimeExports.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABrBAMAAABtUwoBAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAwUExURWNhW6KglrSzqgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAENHmMwAAAAJcEhZcwAADsIAAA7CARUoSoAAAAEjSURBVFjD7ddLEoQwCATQjifQK3j/Q874TSDQQatmVriNrzBKALG+uVKlSpUq1e8UphcK8zw9VljmxWZg6KtsBoY2ZTIwtCuLgaFDGQwMnapnYOhSHQNDt9IMDFWlGBhqlGRgqFWCgSGhWgaGpGoYGFJqcZRCMXV/3PJA3Wi6FMpQoS6eN6NG9VTd06XQPqyj6vKpIPcYU92riagmhUtYiWwsQaUSq4RUlyMloDS6GFU9OhlTFjoYUTbama88tDFX+cg+y03uPYzFkRMrioQKo1bFkXmWhygWSyMRC1EkaxSCSNVDxJCuvQihrs4jgvqeggAy+hfGyOqVGCKzL2OE7BkAA+TMG+DIm21AkTtHgSF/ZmPInw8Zyv+UVKlSpfq7WtcPlCqLg8YmLt0AAAAASUVORK5CYII=",style:{width:"100%",height:"100%",objectFit:"scale-down"}})}),jsxRuntimeExports.jsx(Gt,{styles:{flexGrow:"2",overflow:"auto",justifyContent:"start",alignItems:"start",padding:8,flexDirection:"column"},children:jsxRuntimeExports.jsxs(Le,{w:"100%",h:"100%",gap:0,children:[jsxRuntimeExports.jsxs(Re,{justify:"space-between",wrap:"nowrap",w:"100%",gap:0,children:[jsxRuntimeExports.jsx(Qt,{withinPortal:!1,zIndex:500,label:te,children:jsxRuntimeExports.jsx(Ce,{w:"80%",ta:"left",size:"lg",lh:"normal",mb:2,fw:700,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:te})}),jsxRuntimeExports.jsx(he,{}),jsxRuntimeExports.jsx(ce,{})]}),jsxRuntimeExports.jsx(Qt,{withinPortal:!1,zIndex:500,label:se,children:jsxRuntimeExports.jsx(Ce,{w:"100%",size:"xs",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",opacity:se?.75:.5},children:se||"Sem descrição"})}),jsxRuntimeExports.jsxs(Ce,{mt:2,w:"100%",size:"xs",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["Criado por: ",ue]})]})})]})},tS=ie=>{const ee=oe(ie.roomState).roomCommands,te=oe(ie.roomState).doIHaveRights,se=oe(ie.roomState).amIOwner;return jsxRuntimeExports.jsx("div",{style:{height:"100%",width:"100%",...ie.style},children:jsxRuntimeExports.jsxs(Le,{gap:4,w:"100%",h:"100%",children:[jsxRuntimeExports.jsx(Qp,{roomState:ie.roomState}),jsxRuntimeExports.jsx(Gt,{styles:{flexGrow:"2",overflow:"auto",justifyContent:"start",alignItems:"start",padding:8,flexDirection:"column"},children:ee.length?jsxRuntimeExports.jsx(vt,{type:"auto",w:"100%",children:jsxRuntimeExports.jsx(lr,{cols:3,spacing:"xs",verticalSpacing:"xs",w:"100%",style:{alignItems:"center"},children:ee.map(({command:ne,description:le,permission:ue})=>ue=="owner"&&!se||ue=="admin"&&!te?null:jsxRuntimeExports.jsx(Yp,{text:ne,tooltip:le,sayCommand:ie.sayMessage}))})}):jsxRuntimeExports.jsx(Kp,{})})]})})},nS=ie=>{const ee=oe(ie.roomState).doIHaveRights,te=ie.note,se={"9CCEFF":"stickie-blue",FF9CFF:"stickie-pink","9CFF9C":"stickie-green",FFFF33:"stickie-yellow"}[te.color]||"stickie-blue",ne=reactExports.useRef(null),[le,ue]=reactExports.useState(!1),ce=()=>{if(!ne.current)return;const _e=ne.current.value;_e!=te.content&&window.Packet&&window.Packet.send("SET_ITEM_DATA",[te.id,te.color,_e])},he=_e=>{var fe;const ye=((fe=ne.current)==null?void 0:fe.value)||te.content;return()=>{window.Packet&&window.Packet.send("SET_ITEM_DATA",[te.id,_e,ye])}},de=()=>{var _e;if(!(((_e=ne.current)==null?void 0:_e.value)||te.content).trim()){window.Packet&&window.Packet.send("REMOVE_WALL_ITEM",[te.id]);return}const fe=window.askToConfirm;fe&&fe({title:"Remover nota",message:"Tem certeza que deseja remover esta nota? Você perderá o conteúdo.",onConfirm:()=>{window.Packet&&window.Packet.send("REMOVE_WALL_ITEM",[te.id])},danger:!0,buttonText:"Remover"})};return te.adminsOnly&&!ee?null:jsxRuntimeExports.jsxs("div",{className:`nitro-stickie nitro-stickie-image ${se}`,style:{top:0,left:0},children:[jsxRuntimeExports.jsx("div",{className:"d-flex align-items-center stickie-header drag-handler",children:ee&&jsxRuntimeExports.jsxs("div",{className:"d-flex align-items-center flex-grow-1 h-100",children:[jsxRuntimeExports.jsx("div",{className:"nitro-stickie-image stickie-trash header-trash",onClick:de}),jsxRuntimeExports.jsx("div",{className:"stickie-color ms-1",style:{backgroundColor:"rgb(156, 206, 255)"},onClick:he("9CCEFF")}),jsxRuntimeExports.jsx("div",{className:"stickie-color ms-1",style:{backgroundColor:"rgb(255, 156, 255)"},onClick:he("FF9CFF")}),jsxRuntimeExports.jsx("div",{className:"stickie-color ms-1",style:{backgroundColor:"rgb(156, 255, 156)"},onClick:he("9CFF9C")}),jsxRuntimeExports.jsx("div",{className:"stickie-color ms-1",style:{backgroundColor:"rgb(255, 255, 51)"},onClick:he("FFFF33")})]})}),jsxRuntimeExports.jsx("div",{className:"stickie-context",onClick:()=>ee&&ue(!0),onBlur:()=>{ue(!1),ce()},children:le?jsxRuntimeExports.jsx("textarea",{ref:ne,autoFocus:!0,tabIndex:0,className:"context-text",defaultValue:te.content}):jsxRuntimeExports.jsx("div",{className:"context-text",children:te.content})})]},te.id)},rS=ie=>{const ee=oe(ie.roomState).notes;return jsxRuntimeExports.jsx("div",{style:{height:"100%",width:"100%",...ie.style},children:jsxRuntimeExports.jsxs(Le,{gap:4,w:"100%",h:"100%",children:[jsxRuntimeExports.jsx(Qp,{roomState:ie.roomState}),jsxRuntimeExports.jsx(Gt,{styles:{flexGrow:"2",overflow:"auto",justifyContent:"start",alignItems:"start",padding:8,flexDirection:"column"},children:ee.length?jsxRuntimeExports.jsx(vt,{type:"auto",w:"100%",children:jsxRuntimeExports.jsx(Re,{wrap:"wrap",gap:4,w:"100%",style:{alignItems:"center"},justify:"center",children:ee.map(te=>jsxRuntimeExports.jsx(nS,{roomState:ie.roomState,note:te}))})}):jsxRuntimeExports.jsx(Xx,{})})]})})},DC=ie=>{const[ee,te]=reactExports.useState(0),se=oe(A$2);if(!ie.isDev&&!se.isRoomPanelVisible)return jsxRuntimeExports.jsx("div",{className:"pointer-events-none"});function ne(){A$2.isRoomPanelVisible=!1}return jsxRuntimeExports.jsx(An,{theme:dr,forceColorScheme:"light",cssVariablesSelector:"#hibisco-root",withCssVariables:!0,deduplicateCssVariables:!1,getRootElement:()=>document.getElementById("hibisco-root"),children:jsxRuntimeExports.jsx("div",{className:"position-absolute draggable-window",style:{zIndex:401,top:"0px",left:"0px",visibility:"visible"},children:jsxRuntimeExports.jsxs("div",{className:"d-flex overflow-hidden position-relative flex-column nitro-card theme-primary",style:{width:"450px",minWidth:"322px",height:"360px",minHeight:"250px",maxWidth:"95vw"},children:[jsxRuntimeExports.jsx("div",{className:"d-flex position-relative flex-column gap-2 align-items-center justify-content-center drag-handler container-fluid nitro-card-header",children:jsxRuntimeExports.jsxs("div",{className:"d-flex w-100 align-items-center justify-content-center",children:[jsxRuntimeExports.jsx("span",{className:"nitro-card-header-text",children:"Comandos de Quarto"}),jsxRuntimeExports.jsx("div",{className:"position-absolute end-0 nitro-card-header-close",onClick:ne})]})}),jsxRuntimeExports.jsxs("div",{className:"d-flex menu align-items-center",children:[jsxRuntimeExports.jsx("div",{className:re("d-flex overflow-hidden position-relative cursor-pointer btn btn-secondary",ee===0&&"active"),onClick:()=>te(0),children:jsxRuntimeExports.jsx("div",{className:"d-flex flex-shrink-0 align-items-center justify-content-center",children:"Usuário"})}),jsxRuntimeExports.jsx("div",{className:re("d-flex overflow-hidden position-relative cursor-pointer btn btn-secondary",ee===1&&"active"),onClick:()=>te(1),children:jsxRuntimeExports.jsx("div",{className:"d-flex flex-shrink-0 align-items-center justify-content-center",children:"Quarto"})}),jsxRuntimeExports.jsx("div",{className:re("d-flex overflow-hidden position-relative cursor-pointer btn btn-secondary",ee===2&&"active"),onClick:()=>te(2),children:jsxRuntimeExports.jsx("div",{className:"d-flex flex-shrink-0 align-items-center justify-content-center",children:"Notas adesivas"})})]}),jsxRuntimeExports.jsxs("div",{className:"d-flex overflow-auto flex-column gap-2 container-fluid content-area",style:{height:"100%",paddingTop:4},children:[jsxRuntimeExports.jsx(eS,{style:ee===0?{}:Ci,userDataFetcher:ie.userDataFetcher,sayMessage:ie.sayMessage,roomState:ie.roomState}),jsxRuntimeExports.jsx(tS,{style:ee===1?{}:Ci,sayMessage:ie.sayMessage,roomState:ie.roomState}),jsxRuntimeExports.jsx(rS,{style:ee===2?{}:Ci,roomState:ie.roomState})]})]})})})},oS="_container_ndgvq_1",aS="_visible_ndgvq_1",iS="_absolute_ndgvq_1",sS="_relative_ndgvq_1",lS="_flex_ndgvq_1",cS="_hidden_ndgvq_1",uS="_border_ndgvq_1",dS="_italic_ndgvq_1",fS="_outline_ndgvq_1",pS="_filter_ndgvq_1",hS="_CollapseContainer_ndgvq_25",mS="_Collapse_ndgvq_25",gS="_Collapsed_ndgvq_38",bS="_RadioBackground_ndgvq_44",vS="_RadioItemsWithIcon_ndgvq_48",yS="_Inner_ndgvq_60",wS="_Button_ndgvq_70",_S="_RadioIcon_ndgvq_86",AS="_RadioIconSelected_ndgvq_106",xS="_FollowButton_ndgvq_111",SS="_RadioLink_ndgvq_123",CS="_LinkOverlay_ndgvq_126",RS="_Filter_ndgvq_160",TS="_HabbonceFilter_ndgvq_168",IS="_DreamsFilter_ndgvq_171",OS$1="_RhFilter_ndgvq_174",PS="_BubletFilter_ndgvq_177",NS="_Handler_ndgvq_181",kS="_Spin_ndgvq_195",ES="_spin_ndgvq_1",MS="_SpinFast_ndgvq_200",$S="_Disabled_ndgvq_205",DS="_HiddenUp_ndgvq_211",LS="_Hidden_ndgvq_211",pe={container:oS,"pointer-events-none":"_pointer-events-none_ndgvq_1",visible:aS,absolute:iS,relative:sS,"end-0":"_end-0_ndgvq_1","mx-auto":"_mx-auto_ndgvq_1","ms-1":"_ms-1_ndgvq_1",flex:lS,hidden:cS,"h-full":"_h-full_ndgvq_1","w-full":"_w-full_ndgvq_1","max-w-full":"_max-w-full_ndgvq_1","flex-shrink-0":"_flex-shrink-0_ndgvq_1","cursor-pointer":"_cursor-pointer_ndgvq_1","select-none":"_select-none_ndgvq_1","flex-col":"_flex-col_ndgvq_1","gap-1":"_gap-1_ndgvq_1","gap-2":"_gap-2_ndgvq_1","overflow-auto":"_overflow-auto_ndgvq_1","overflow-hidden":"_overflow-hidden_ndgvq_1",border:uS,"p-0":"_p-0_ndgvq_1",italic:dS,"text-black":"_text-black_ndgvq_1",outline:fS,filter:pS,CollapseContainer:hS,Collapse:mS,Collapsed:gS,RadioBackground:bS,RadioItemsWithIcon:vS,Inner:yS,Button:wS,RadioIcon:_S,RadioIconSelected:AS,FollowButton:xS,RadioLink:SS,LinkOverlay:CS,Filter:RS,HabbonceFilter:TS,DreamsFilter:IS,RhFilter:OS$1,BubletFilter:PS,Handler:NS,Spin:kS,spin:ES,SpinFast:MS,Disabled:$S,HiddenUp:DS,Hidden:LS},sl=()=>ss("(max-width: 640px)",!1);function FS(ie){const ee=ie+"=",te=decodeURIComponent(document.cookie).split(";");for(let se=0;se<te.length;se++){let ne=te[se];for(;ne.charAt(0)==" ";)ne=ne.substring(1);if(ne.indexOf(ee)==0)return ne.substring(ee.length,ne.length)}return""}const BS=["DJBubblet","Habbonce","DJDream","BletDJ"],zS=(ie,ee)=>fetch(ie,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)}),qS=ie=>{const ee={rh:"https://www.radiohabblet.com.br/page/requests"};switch(ie){case"rh":return te=>{var se,ne,le;const ue=((se=window.myself)!=null&&se.userInfo?`${(le=(ne=window.myself)==null?void 0:ne.userInfo)==null?void 0:le.username} (via Hibisco): `:"")+te;return new Promise(ce=>{zS(ee.rh,{text:ue}).then(()=>ce(!0)).catch(()=>ce(!1))})};default:return null}},qt=[{id:"9",name:"Habbonce",api:"https://api.habbonce.com.br/radioinfo",codename:"habbonce",site:"https://habbonce.com.br",doRequest:null,image:"https://images.habblet.city/habblet-web/assets/images/fansite_icons/habbonce.png",streamUrl:"https://stream.truesecurity.com.br:8008/stream/;"},{id:"8",name:"Bubblet",api:"https://bubblet.com.br/page/status",codename:"bubblet",site:"https://bubblet.com.br",doRequest:null,image:"https://images.habblet.city/c_images/album1584/BBT01.gif",streamUrl:"https://panel-slave.dedicado.stream/8478/stream/;"},{id:"7",name:"Habblet Dreams",api:"https://habbletdreams.com/manutencao/player",codename:"dreams",site:"https://habbletdreams.com",doRequest:null,image:"https://images.habblet.city/c_images/album1584/HDR01.gif",streamUrl:"https://stream.truesecurity.com.br/8014/stream/;"},{id:"4",name:"Rádio Habblet",api:"https://www.radiohabblet.com.br/async/status.php",codename:"rh",site:"https://radiohabblet.com.br",doRequest:qS("rh"),image:"https://images.habblet.city/c_images/album1584/RHBT327.gif",streamUrl:"https://panel-slave.dedicado.stream/8480/stream/;"}],bt=Dt({radio:null}),It=Dt({sayMessage:null,userDataFetcher:null,radioRef:null,showMessageInput:!1}),Ee=Dt({isFetching:!0,locutor:"Escolha uma rádio para ouvir!",programa:"...",ouvintes:0,music:"",figure:"",isAutoDj:!1,streamUrl:"",radioVolume:parseFloat(localStorage.getItem("hibisco-radio-volume")||"0.5"),hasRadioSelected:!1,isMuted:localStorage.getItem("hibisco-radio-muted")==="true"}),Zp=ie=>{fetch(ie).then(ee=>ee.json()).then(ee=>{const te=bt.radio,se=qt.find(ne=>ne.codename===te);se&&se.api===ie&&(ee.locutor!==Ee.locutor&&(Ee.figure=""),Ee.hasRadioSelected=!0,Ee.isFetching=!1,Ee.locutor=ee.locutor,Ee.programa=ee.programa,Ee.ouvintes=ee.ouvintes,Ee.music=ee.music||"",Ee.isAutoDj=BS.includes(ee.locutor),It.userDataFetcher&&It.userDataFetcher(ee.locutor).then(ne=>{ne&&(Ee.figure=ne.figure)}),Ee.streamUrl=se.streamUrl)})};Gr(bt,()=>{console.log("selected"),Ee.isFetching=!0;const ie=bt.radio,ee=qt.find(se=>se.codename===ie);if(!ee)return;const te=ee.api;document.cookie="favouriteradio="+ee.id+"; expires=Thu, 18 Dec 2030 12:00:00 UTC",It.showMessageInput=!1,Zp(te)}),window.fetchRadioInterval&&clearInterval(window.fetchRadioInterval),window.fetchRadioInterval=setInterval(()=>{console.log("interval");const ie=bt.radio,ee=qt.find(se=>se.codename===ie);if(!ee)return;const te=ee.api;Zp(te)},3e4);const jS=()=>{const ie=reactExports.useRef(null),ee=oe(Ee),te=ee.streamUrl,se=ee.radioVolume,ne=ee.isMuted;return reactExports.useEffect(()=>{ie.current&&(ie.current.volume=ne?0:se)},[se,ne]),reactExports.useEffect(()=>{if(ie.current){const le=ie.current;le.addEventListener("canplaythrough",()=>{le.paused&&le.play().catch(()=>{window.addEventListener("click",()=>{le.paused&&le.play()},{once:!0})})})}},[]),jsxRuntimeExports.jsx("audio",{style:{visibility:"hidden",position:"absolute"},src:te,ref:ie,autoPlay:!0,muted:!1})},VS=()=>{const ie=oe(bt).radio,ee=te=>{bt.radio=te};return jsxRuntimeExports.jsx(Re,{gap:3,children:qt.map(te=>{const se=te.codename===ie,ne=()=>{ee(te.codename)};return jsxRuntimeExports.jsx("div",{title:te.name,className:re(pe.RadioIcon,se&&pe.RadioIconSelected),children:jsxRuntimeExports.jsx("img",{src:te.image,alt:te.name,onClick:ne,style:{userSelect:"none"}})},te.codename)})})},HS=()=>{const{isFetching:ie,isAutoDj:ee,hasRadioSelected:te}=oe(Ee),se=oe(bt).radio,ne=qt.find(ue=>ue.codename===se);if(ie||ee||!te||!ne||!ne.doRequest)return null;const le=()=>{It.showMessageInput=!It.showMessageInput};return jsxRuntimeExports.jsx("div",{title:"Enviar pedido",className:re(pe.Button,pe.FollowButton),onClick:le,children:jsxRuntimeExports.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAAAXNSR0IArs4c6QAAAHxJREFUKFNjzKhc+p+BAsAIMqAs25csI7qmbmYAGwDSTaohIM0gAHcBSIBYQ2Bq4S6AaSTGEGQ1GAaAnITPEHQ5DAN2HzgFD0xXBzMGQe6/YP77r8wM6HIwy+BhAFIA0gQDyBpAYuhyID51YwHmXGITBMhbYBd4hNdQlBIB1k1dWPKGY0YAAAAASUVORK5CYII="})})},US=()=>{const{locutor:ie,isFetching:ee,isAutoDj:te,hasRadioSelected:se}=oe(Ee),ne=oe(It).sayMessage;if(ee||te||!se)return null;const le=()=>{ne(`:follow ${ie}`)};return jsxRuntimeExports.jsx("div",{title:"Ir para quarto da locução",className:re(pe.Button,pe.FollowButton),onClick:le,children:jsxRuntimeExports.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAXCAYAAAD+4+QTAAAAAXNSR0IArs4c6QAAApxJREFUSEu9lE1IVFEUx39vRnEmB8YSyYEgFyWllRBJhYNgGEGMhguJFn1AIH24S2qsgTYGs4iC0FBbFIYIDUxhtCiFoEXSMhSh/CRhzAKl0cYPZCbufb7pvfG9mSGhu3iPe885/98759x3FP5txQAnoGQTnpWTTmgAqI3NPcTpyEVxN2umtDrZQhqA8MCrZmpr9sHEHUZfLFLW+khCMsEyQTxApMF3iHBvE0SeQGxMCo+GVigriauZnGtPC0sHSXiK3US+3IPfIzDbYyi/AaJZLGBWkETiVzusR2G6zbS3phBz2E9rSCdQuc3y8qSFbESNTtsoD8b/CyQqMjmZ8rnvWoaPEL46ztOLK1QftiXNz/vymZzK4fbNKGMvl/823iLfjUwkJLH3xHaDW9WtQgo9BQzeGON+wwq1R+3SviXItY8HDZDY4rLc5+U5mBuKUfV9hpYLuUlI090ASxE7BS4oGrli3Te1J2oml97uMXVUFIX4qo3og3HCfjvDy63M2w6wq6wGRVHLmP/jjXzv/Hx+k4ahXFaQ2Pw6n/wzDLVVs1bZQdzmJmEXI2vzsq/OysPdH8qTRgPEuSPHEHW2r0TuB68vEe59T5E7j3hugWVZ9Ab76twGbD96iDisA0qBr0C/yOzZqXEmJuazErZyCoW68fv9siepELHvF49gMIjD4aSubnO9M9EFQKyuzo4kJDVGZCZhLpeLQCBARcVxSkuNtxAWdHHqb6CJd3c9lvvJqW/16QakBhLN6PH5fHi9Xhobm3TCAmItrjlmGvUO3US4DJwRJRRLhS0QCoXkXv/lKWVZywTR/IvFuNRKqPUrg7gwvxaPbCEa7BhQpIcB9SaXQIpnWy6TeHl0GlAHmnEZxLcK0eK1y2Eqrjn9AX5SAbOQcZcwAAAAAElFTkSuQmCC"})})},WS=()=>{const ie=oe(bt).radio,ee=qt.find(te=>te.codename===ie);return ee?jsxRuntimeExports.jsxs("div",{title:"Visitar fansite",className:re(pe.RadioLink,pe.Button),children:[jsxRuntimeExports.jsx("img",{src:ee.image,alt:"Radio Link",className:"no-select"}),jsxRuntimeExports.jsx("div",{className:re(pe.Filter,ie=="habbonce"&&pe.HabbonceFilter,ie=="dreams"&&pe.DreamsFilter,ie=="rh"&&pe.RhFilter,ie=="bubblet"&&pe.BubletFilter)}),jsxRuntimeExports.jsx("div",{className:pe.LinkOverlay,children:jsxRuntimeExports.jsx("a",{href:ee.site,target:"_blank",children:jsxRuntimeExports.jsx("img",{style:{opacity:.8},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAMCAYAAAC9QufkAAAAAXNSR0IArs4c6QAAAGZJREFUKFOVUjESwDAIKv9/tD0HetSISTISUBTxXLyICACgBAk4vRKTQy5xKybBFc//T1y7aCfrrFohcRonOWPnrqiduVvODrMzayw1oiWqbmFdPLq8cdvH4t2hdc7GC/tZlLMk/gLs+WAJm/wVrQAAAABJRU5ErkJggg=="})})})]}):null},GS=()=>{const ie=oe(Ee);return jsxRuntimeExports.jsx("img",{src:`https://www.habblet.city/habblet-imaging/avatarimage?figure=${ie.figure}&size=n&action=&gesture=std&direction=2&head_direction=2&img_format=png&headonly=0`,style:{objectFit:"scale-down",marginTop:-20,marginLeft:-5,height:"120%",cursor:"pointer"},alt:"Avatar",title:ie.locutor,onClick:()=>{window.Packet&&window.Packet.send("USER_PROFILE_BY_NAME",[ie.locutor])}})},YS=()=>{const ie=Math.ceil(oe(Ee).radioVolume*100),ee=oe(Ee).isMuted,te=le=>{Ee.isMuted=le,localStorage.setItem("hibisco-radio-muted",String(le))},se=le=>{Ee.radioVolume=le/100,te(!1),localStorage.setItem("hibisco-radio-volume",String(le/100))};let ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAANCAMAAABBwMRzAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAK5QTFRFAAAAAAAAUwAGRQAFAAAAAAAApAAN/3WBugAPAAAAAAAAAAAAAAAAVgAH/3J+/3eCfgAK/yo7KQADAAAAAAAApQAN/3R//m16/2x4tQAPAAAAAAAA/y5AxQAQAAAAWAAH/3mElwAM/yY4FgABAAAA/lRiQgAFAAAA/0hXsgAOAAAAVQAH/lNh/0ZV/2d0/2Zy/zZH/yI0/0xb/jhI/xsupQAN/jlKjAAL/jVFmQAMEWe+sgAAADp0Uk5TACH/nQIS3f//CUGwGf///+b/viWd2/////9EXv//PP//9P+p2P//b////////////////////////0QRvNwAAAB3SURBVHicY2QAAUYg+ANhgQhWEP87AxfjVzCfB8j7CeQLAAUZhRnBqhk/CP5iB9HyjO8ZOIH6PkiAhRl5ucBGMH6QA3J+MzJqv2VA5TMyMrxG5jODdD2D6weZL8f4j/kK1HyQ/fLc/5gvQe2HuM+I8QLCfcjuBwAMmyAaeOoC7gAAAABJRU5ErkJggg==";return ee||(ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAANCAYAAAB2HjRBAAAAAXNSR0IArs4c6QAAAWxJREFUOE+NkjFowlAQhv/g1m4lg+IgFUvHTiaB0kLnLgFdaoK4tCgIXTuriwExW7ZoMygUAgHB0dC5g4uQrYNDlqKDDklAmvJCDTaNkIMb3uO+d3f/+ynEx3mxWPx0HEddLBaPAL7jyqiYy7N6vf7R6XTykiRBkqQTAM5v3R2AZwA8OUfhDMuy9mQyQSqVQrfb/QPzPG83m81MtVo1bdu+J/AFgBfyUqPRuG21WoXdbgff99Hr9UiSztcAHgC8m6b5OpvN0G63byiO4/zpdBoUk/A8L9xkD9dqta9KpXJaLpffNpvNlWVZl6VSCRTLsr5hGCF8qMFB56f5fC5rmoZ+vw/LshDADMMEcFwkgofDIVzXDfh0Ov1vbADHO+u6Hoy9XC6x3W6RzWZB03Qo2NGdo2qLolhYr9fI5XJQFIXkcbUju2YYhrFlWcZqtcJoNMJ4PA5NEvfPUa0ChwmCkFdVFYPBILHD9g8l8vYPdIjdCUE0BJYAAAAASUVORK5CYII="),jsxRuntimeExports.jsxs(Re,{gap:4,className:pe.RadioItemsWithIcon,title:"Volume",children:[jsxRuntimeExports.jsx("img",{src:ne,style:{cursor:"pointer"},onClick:()=>{te(!ee),ie==0&&se(20)}}),ee?jsxRuntimeExports.jsx("span",{style:{cursor:"pointer"},onClick:()=>{te(!ee),ie==0&&se(50)},children:"Rádio mutada"}):jsxRuntimeExports.jsx(go,{color:"rgba(186, 186, 186, 1)",size:"sm",defaultValue:50,w:100,min:0,max:100,step:1,value:ie,onChange:se,onChangeEnd:le=>{le==0&&te(!0)},styles:{thumb:{backgroundColor:"rgba(186, 186, 186, 1)",width:0,height:0}}})]})},KS=()=>{const ie=oe(Ee),ee=({width:te})=>jsxRuntimeExports.jsx(rl,{height:8,width:te,radius:"xl"});return jsxRuntimeExports.jsxs(Le,{h:"100%",gap:2,justify:"center",children:[jsxRuntimeExports.jsxs(Re,{gap:4,align:"center",className:pe.RadioItemsWithIcon,title:ie.isAutoDj?"AutoDJ":"Locutor(a)",children:[jsxRuntimeExports.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAAAXNSR0IArs4c6QAAAMNJREFUKFNjZCARMGJR/x9NDEUNuob/DQkKDIF2agwMjIwM6w/dZGiY/wCkH64OWcP/+gR5BkaQHCMDw////xkYGUEMBoaGBQhNKBoaEhXACkvzEsCu6p60AKwJ2RYMDYG2agzKBpZgDXcvHGdYd+gmQ+OCh3BnYdegbwH2w92LxxnWHcStAWTK/0vz3Rn+gxwO5jEw6Cftwu3p7usWDKWaJ1BCFUkM7BqYk/6DJPABqEGgcINYTqoGqIvxWoLiJKJTFAAhsEUOn2ZQ9wAAAABJRU5ErkJggg=="}),jsxRuntimeExports.jsx("div",{className:pe.Inner,children:ie.isFetching?jsxRuntimeExports.jsx(ee,{width:50}):ie.locutor})]}),jsxRuntimeExports.jsxs(Re,{gap:4,align:"center",className:pe.RadioItemsWithIcon,title:"Programa",children:[jsxRuntimeExports.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAYAAADwMZRfAAAAAXNSR0IArs4c6QAAAO9JREFUOE9jZMAP/iNJM+JSiksCrPnK2jlwfTrBKTA2hh50ARTNPX29cENKiorBbGyGwQzBqtnGzAKs8fnLFwx3Hz4As7EZBjLkP8zZMJthmmHOABkCA9gMgxsCMgBdMzZDkA0DuQrkPdobcvvePrg3eLi1UGIY5C28LoFpzo23hWucvPAwmA0zDKch4iLfwAqRNaMnMJhhL99wYbpk8aJmvJqxGRYbV4sI2I9XV4PVtFWVEO2SqrYesFp+7VBw7IAAOLHhMwzmDWTNUL2MWJM9umEgxdg0w7yINwPCDIM5G2YzevjgzN7I3sSlGWYYAPYslAlAs/cCAAAAAElFTkSuQmCC"}),jsxRuntimeExports.jsx("div",{className:pe.Inner,children:ie.isFetching?jsxRuntimeExports.jsx(ee,{width:100}):ie.programa})]}),jsxRuntimeExports.jsxs(Re,{gap:4,align:"center",className:pe.RadioItemsWithIcon,title:"Ouvintes",children:[jsxRuntimeExports.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAALCAYAAACksgdhAAAAAXNSR0IArs4c6QAAAJhJREFUKFNjZMAO/iMJM6IrwRBgYGD4L9j7Fq7ufbEwiI2ijmJNcCdhsQlmM9gSmE3/3wpWwJ0k/L6DAaQR5LR/mxE+YvIFsxlxalpw7T9DghYjDTSB7AU5EeQ0dAByItRpcOf9/z/zJIZCxnRzhv//Z2KKM6aDAwKs6V3FegahjkA4DdP0f0s6A6PPTAYYzQjThCNV4BQGABJySQkc0XKYAAAAAElFTkSuQmCC"}),jsxRuntimeExports.jsx("div",{className:pe.Inner,children:ie.isFetching?jsxRuntimeExports.jsx(ee,{width:60}):`${ie.ouvintes} ouvintes`})]}),jsxRuntimeExports.jsx(YS,{})]})},QS=ie=>{const[ee,te]=reactExports.useState(localStorage.getItem("hibisco-radio-collapsed")=="true");reactExports.useEffect(()=>{localStorage.setItem("hibisco-radio-collapsed",String(ee))},[ee]);const se=ee?Wp:Up;return jsxRuntimeExports.jsxs(Re,{gap:2,className:pe.CollapseContainer,align:"start",children:[jsxRuntimeExports.jsx("div",{className:pe.Handler,onClick:()=>te(!ee),children:jsxRuntimeExports.jsx(se,{size:14,color:"#9C9792",weight:"bold"})}),jsxRuntimeExports.jsx("div",{className:re(pe.Collapse,ee&&pe.Collapsed),children:ie.children})]})},ZS=()=>{const ie=oe(Ee).music,ee=sl(),te=ee?230:315;return jsxRuntimeExports.jsxs(Re,{className:re(pe.RadioBackground,pe.RadioItemsWithIcon,pe.HiddenUp,!ie&&pe.Hidden),style:{borderRadius:5,width:ee?285:365,height:25,padding:"0px 5px"},gap:5,justify:"start",align:"center",children:[jsxRuntimeExports.jsx("img",{className:pe.Spin,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAZJJREFUOE+tlL9KA0EQh+caiZWYJjYKgiBIihTRVgloKQjqI1iIECsfwkpBLHwEFQRLhaCtpkgRBFEQtDHNHVaGNCu/PWZubrKXxmxx3N3ufPfNnySiMa9oBM+N2CuMC2140PNBmWaXHE0tEP28Z+jX1gStXvf4xVC8feEAqm46Ks0n1P+YzsGYgo88XQg4x9APOZhOF2BesAUQKwRl4JAZAnSqDKysp+acgYUK8PcuO1QEY7NSI6F+K7Oe3EgQ4lm4eLt6M/ZftjAY8dJmMOzdp+dVoyIPdG9UCGuflun4YY6O1j6pfhKLGdeSyzKzn1p6INLVRcc9zABbPotljzNhMz1SQ0D7RQB3t2p01e1IaXaqNbq86UiqhcDv89RQH/iXoQXqbrYPVQ2bsdhZgVzKj9sVWmwMvKWdM3RTd5mnAOe4ll8vEdfaNwXLwTI0Z3a4cUaPDJ7tHHogLFf2BvIL0EGiGMige5vZyXSzJUM5LTbWQDbGnoVZoJhyPTVI3xfBQkAPxUU3SsNUA4LxY//H/gOicv4VSe/akwAAAABJRU5ErkJggg=="}),jsxRuntimeExports.jsx("div",{style:{maxWidth:te},className:re(pe.Inner,"music"),children:ie})]})},JS=()=>{const[ie,ee]=reactExports.useState(""),te=sl(),[se,ne]=reactExports.useState(!1),[le,ue]=reactExports.useState(!1),[ce,he]=reactExports.useState(!1),de=oe(It).showMessageInput,_e=oe(Ee).isAutoDj,fe=oe(bt).radio,ye=qt.find(we=>we.codename==fe),be=!ye||!ye.doRequest||!de||_e,Pe=ie.length>5,Ne=()=>{ue(!0),ye.doRequest(ie).then(we=>{we?(ue(!1),ne(!0),ee(""),setTimeout(()=>{ne(!1)},2e3)):(ue(!1),ne(!1),he(!0),setTimeout(()=>{he(!1)},2e3))})};return jsxRuntimeExports.jsxs(Re,{className:re(pe.RadioBackground,pe.RadioItemsWithIcon,pe.HiddenUp,be&&pe.Hidden),style:{borderRadius:5,width:te?285:365,height:25,padding:"3px 5px"},gap:0,justify:"center",align:"center",children:[jsxRuntimeExports.jsx("input",{tabIndex:-1,type:"text",max:100,value:ie,placeholder:"Enviar pedido para locutor(a)...",onChange:we=>ee(we.target.value),style:{padding:"0px 2px",borderRadius:"5px",height:"100%",flexGrow:1,backgroundColor:"rgba(186,186,186,0.2)",color:"white",outline:"none",border:"none",fontSize:"13px"}}),jsxRuntimeExports.jsxs("div",{className:re(!Pe&&pe.Disabled),style:{cursor:"pointer"},children:[ce&&jsxRuntimeExports.jsx("img",{style:{marginLeft:5,height:"15px"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAYAAAA1WQxeAAAAAXNSR0IArs4c6QAAADRJREFUGFdj/C+n+J+BgYGB8dF9RhANA3BxkAC6ImQ+XBdMEGYCzETsxiJZR5wJeN1AyBcASM0ogtTK1NAAAAAASUVORK5CYII="}),!ce&&se&&jsxRuntimeExports.jsx("img",{style:{marginLeft:5,height:"15px"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAKCAYAAABv7tTEAAAAAXNSR0IArs4c6QAAAJBJREFUKFNjZCAS/P///z9IKSMIEKMHpKFoVz5YaZ/bRAaCmmAa1t9Yz/D341+GR7VPIZqQrUa2GasGkPNAEn4rvBlUhFQgVkOdjEsD2F8gSblmaQZmfmaGQI1AsEYQAPkBxUlI/oc7D1kjSBMuDWCbYH5AthEkBvc0lhBGCT2YRpAmcCjhiBKMIMcVksihCgDfUG8DTkdATwAAAABJRU5ErkJggg=="}),!ce&&!se&&le&&jsxRuntimeExports.jsx("img",{style:{marginLeft:5},className:pe.SpinFast,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAMCAYAAABvEu28AAAAAXNSR0IArs4c6QAAAIdJREFUOE+VktENwCAIRGURPxzIXRxNFqShCQ3qYdVPhMdxQCl4tVZpraVSSso5f1lERKgEBhWiyQikcQRbQAbRAmYe/kXkbYBgQ+IOYoAIBkGzktkTg/kRj0Feya/ZNlqkKIKpsmNFyCNv+rXZqrr3vmzuav27rW4PMrp65CEEKcB398BoEQ9441AJp08PJQAAAABJRU5ErkJggg=="}),!ce&&!se&&!le&&jsxRuntimeExports.jsx("img",{style:{marginLeft:5},onClick:Ne,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAYAAAB24g05AAAAAXNSR0IArs4c6QAAAHxJREFUKFNjzKhc+p+BAsAIMqAs25csI7qmbmYAGwDSTaohIM0gAHcBSIBYQ2Bq4S6AaSTGEGQ1GAaAnITPEHQ5DAN2HzgFD0xXBzMGQe6/YP77r8wM6HIwy+BhAFIA0gQDyBpAYuhyID51YwHmXGITBMhbYBd4hNdQlBIB1k1dWPKGY0YAAAAASUVORK5CYII="})]})]})},LC=ie=>{reactExports.useEffect(()=>{It.userDataFetcher=ie.userDataFetcher,It.sayMessage=ie.sayMessage},[ie.userDataFetcher,ie.sayMessage]),reactExports.useEffect(()=>{console.log("NewRadio");const te=FS("favouriteradio"),se=qt.find(ne=>ne.id==te);if(!se){Ee.isFetching=!1;return}bt.radio=se.codename},[]);const ee=sl();return jsxRuntimeExports.jsx(An,{theme:dr,forceColorScheme:"light",cssVariablesSelector:"#hibisco-root",withCssVariables:!0,deduplicateCssVariables:!1,getRootElement:()=>document.getElementById("hibisco-root"),children:jsxRuntimeExports.jsx(QS,{children:jsxRuntimeExports.jsxs(Le,{gap:0,align:"center",children:[jsxRuntimeExports.jsxs(Re,{className:pe.RadioBackground,style:{borderRadius:5,padding:5,width:ee?305:385,height:103,marginTop:5,marginLeft:5},gap:0,children:[jsxRuntimeExports.jsx(jS,{}),jsxRuntimeExports.jsxs(Re,{h:"100%",style:{flexGrow:1,position:"relative"},gap:0,children:[jsxRuntimeExports.jsxs(Re,{h:"100%",style:{flexGrow:1,position:"absolute"},gap:0,children:[!ee&&jsxRuntimeExports.jsx(GS,{}),!ee&&jsxRuntimeExports.jsx(Zs,{orientation:"vertical",mr:"sm",style:{height:"85%",opacity:"30%"},my:"auto"}),jsxRuntimeExports.jsx(KS,{})]}),jsxRuntimeExports.jsxs(Le,{h:"100%",gap:0,justify:"space-between",align:"end",style:{position:"absolute",right:0},children:[jsxRuntimeExports.jsxs(Re,{gap:4,children:[jsxRuntimeExports.jsx(HS,{}),jsxRuntimeExports.jsx(US,{}),jsxRuntimeExports.jsx(WS,{})]}),jsxRuntimeExports.jsx(Re,{children:jsxRuntimeExports.jsx(VS,{})})]})]})]}),jsxRuntimeExports.jsx(ZS,{}),jsxRuntimeExports.jsx(JS,{})]})})})},XS="_container_n7wls_1",eC="_visible_n7wls_1",tC="_absolute_n7wls_1",nC="_relative_n7wls_1",rC="_flex_n7wls_1",oC="_hidden_n7wls_1",aC="_border_n7wls_1",iC="_italic_n7wls_1",sC="_outline_n7wls_1",lC="_filter_n7wls_1",cC="_Container_n7wls_25",uC="_Progress_n7wls_39",dC="_Center_n7wls_43",fC="_VoteButton_n7wls_65",pC="_DidVote_n7wls_70",hC="_VoteCount_n7wls_79",mC="_Green_n7wls_84",gC="_Red_n7wls_88",bC="_Dislike_n7wls_92",vC="_Like_n7wls_92",yC="_Overlay_n7wls_107",wC="_RedOverlay_n7wls_107",_C="_GreenOverlay_n7wls_107",We={container:XS,"pointer-events-none":"_pointer-events-none_n7wls_1",visible:eC,absolute:tC,relative:nC,"end-0":"_end-0_n7wls_1","mx-auto":"_mx-auto_n7wls_1","ms-1":"_ms-1_n7wls_1",flex:rC,hidden:oC,"h-full":"_h-full_n7wls_1","w-full":"_w-full_n7wls_1","max-w-full":"_max-w-full_n7wls_1","flex-shrink-0":"_flex-shrink-0_n7wls_1","cursor-pointer":"_cursor-pointer_n7wls_1","select-none":"_select-none_n7wls_1","flex-col":"_flex-col_n7wls_1","gap-1":"_gap-1_n7wls_1","gap-2":"_gap-2_n7wls_1","overflow-auto":"_overflow-auto_n7wls_1","overflow-hidden":"_overflow-hidden_n7wls_1",border:aC,"p-0":"_p-0_n7wls_1",italic:iC,"text-black":"_text-black_n7wls_1",outline:sC,filter:lC,Container:cC,Progress:uC,Center:dC,VoteButton:fC,DidVote:pC,VoteCount:hC,Green:mC,Red:gC,Symbol:"_Symbol_n7wls_92",Dislike:bC,Like:vC,Overlay:yC,RedOverlay:wC,GreenOverlay:_C},AC=Dt({isVisible:!1,didIVote:!1,hasPollEnded:!1,greenVotes:0,redVotes:0,question:""}),xC=ie=>{const[ee,te]=reactExports.useState(2),se=oe(ie.roomState.pollState);reactExports.useEffect(()=>{te(2)},[se.question]),reactExports.useEffect(()=>{te(0);const le=setInterval(()=>{te(ue=>ue+.2),ee>=20&&clearInterval(le)},200);return()=>clearInterval(le)},[]);const ne=ee/20*100;return jsxRuntimeExports.jsx(Tn,{className:We.Progress,color:"blue.9",radius:"xs",size:"sm",style:{height:"3px"},value:ne,transitionDuration:200})},SC=ie=>{const ee=oe(ie.roomState.pollState),te=ee.greenVotes,se=ee.redVotes,ne=ee.didIVote,le=ee.greenVotes===ee.redVotes,ue=ee.hasPollEnded,ce=ee.isVisible,he=450-2*60;let de=te/(te+se)*he,_e=se/(te+se)*he;ue&&(le?(de=he/2,_e=he/2):te>se?(de=he,_e=0):(de=0,_e=he));const fe=Pe=>{AC.didIVote=!0,window.Packet&&window.Packet.send("POLL_ANSWER",[0,-1,1,Pe==="green"?"1":"0"])},ye=ne?de:0,be=ne?_e:0;if(!(!ce||ue))return jsxRuntimeExports.jsxs(Re,{gap:0,className:We.Container,children:[jsxRuntimeExports.jsx(xC,{roomState:ie.roomState}),jsxRuntimeExports.jsxs("div",{className:re(We.VoteButton,We.Red,ne&&We.DidVote),onClick:()=>fe("red"),children:[jsxRuntimeExports.jsx("div",{className:We.Dislike}),ne&&jsxRuntimeExports.jsx("div",{className:We.VoteCount,children:se})]}),jsxRuntimeExports.jsxs("div",{className:We.Center,children:[jsxRuntimeExports.jsx("div",{className:We.GreenOverlay,style:{width:ye}}),jsxRuntimeExports.jsx("div",{className:We.RedOverlay,style:{width:be}}),jsxRuntimeExports.jsx("p",{children:ee.question})]}),jsxRuntimeExports.jsxs("div",{className:re(We.VoteButton,We.Green,ne&&We.DidVote),onClick:()=>fe("green"),children:[jsxRuntimeExports.jsx("div",{className:We.Like}),ne&&jsxRuntimeExports.jsx("div",{className:We.VoteCount,children:te})]})]})};function FC(ie){const ee=oe(A$2);return jsxRuntimeExports.jsx(An,{theme:dr,forceColorScheme:"light",cssVariablesSelector:"#hibisco-root",withCssVariables:!0,deduplicateCssVariables:!1,getRootElement:()=>document.getElementById("hibisco-root"),children:jsxRuntimeExports.jsx("div",{style:{position:"absolute",bottom:ee.chatInputInsideToolbar?60:108,width:"100%",pointerEvents:"none",display:"flex",justifyContent:"center",alignItems:"center"},children:ee.useHibiscoPoll&&jsxRuntimeExports.jsx(SC,{roomState:ie.roomState})})})}const CC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function BC(ie,ee,te,se){let ne=ie[ee];return Gr(ie,()=>{const le=ie[ee];Object.is(ne,le)||te(ne=le)},se)}const Ri=Symbol();function zC(ie,ee){const{enabled:te,name:se="",...ne}=ee;let le;try{le=(te??(CC?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!le)return;let ue=!1;const ce=le.connect({name:se,...ne}),he=Gr(ie,_e=>{const fe=_e.filter(([ye,be])=>be[0]!==Ri).map(([ye,be])=>`${ye}:${be.map(String).join(".")}`).join(", ");if(fe)if(ue)ue=!1;else{const ye=Object.assign({},jt(ie));delete ye[Ri],ce.send({type:fe,updatedAt:new Date().toLocaleString()},ye)}}),de=ce.subscribe(_e=>{var fe,ye,be,Pe,Ne,we;if(_e.type==="ACTION"&&_e.payload)try{Object.assign(ie,JSON.parse(_e.payload))}catch(De){console.error(`please dispatch a serializable value that JSON.parse() and proxy() support
`,De)}if(_e.type==="DISPATCH"&&_e.state){if(((fe=_e.payload)==null?void 0:fe.type)==="JUMP_TO_ACTION"||((ye=_e.payload)==null?void 0:ye.type)==="JUMP_TO_STATE"){ue=!0;const De=JSON.parse(_e.state);Object.assign(ie,De)}ie[Ri]=_e}else if(_e.type==="DISPATCH"&&((be=_e.payload)==null?void 0:be.type)==="COMMIT")ce.init(jt(ie));else if(_e.type==="DISPATCH"&&((Pe=_e.payload)==null?void 0:Pe.type)==="IMPORT_STATE"){const De=(Ne=_e.payload.nextLiftedState)==null?void 0:Ne.actionsById,$e=((we=_e.payload.nextLiftedState)==null?void 0:we.computedStates)||[];ue=!0,$e.forEach(({state:Ge},Be)=>{const ze=De[Be]||"No action found";Object.assign(ie,Ge),Be===0?ce.init(jt(ie)):ce.send(ze,jt(ie))})}});return ce.init(jt(ie)),()=>{he(),de==null||de()}}var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function ie(){this.__data__=[],this.size=0}return _listCacheClear=ie,_listCacheClear}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;function ie(ee,te){return ee===te||ee!==ee&&te!==te}return eq_1=ie,eq_1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var ie=requireEq();function ee(te,se){for(var ne=te.length;ne--;)if(ie(te[ne][0],se))return ne;return-1}return _assocIndexOf=ee,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var ie=require_assocIndexOf(),ee=Array.prototype,te=ee.splice;function se(ne){var le=this.__data__,ue=ie(le,ne);if(ue<0)return!1;var ce=le.length-1;return ue==ce?le.pop():te.call(le,ue,1),--this.size,!0}return _listCacheDelete=se,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var ie=require_assocIndexOf();function ee(te){var se=this.__data__,ne=ie(se,te);return ne<0?void 0:se[ne][1]}return _listCacheGet=ee,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var ie=require_assocIndexOf();function ee(te){return ie(this.__data__,te)>-1}return _listCacheHas=ee,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var ie=require_assocIndexOf();function ee(te,se){var ne=this.__data__,le=ie(ne,te);return le<0?(++this.size,ne.push([te,se])):ne[le][1]=se,this}return _listCacheSet=ee,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var ie=require_listCacheClear(),ee=require_listCacheDelete(),te=require_listCacheGet(),se=require_listCacheHas(),ne=require_listCacheSet();function le(ue){var ce=-1,he=ue==null?0:ue.length;for(this.clear();++ce<he;){var de=ue[ce];this.set(de[0],de[1])}}return le.prototype.clear=ie,le.prototype.delete=ee,le.prototype.get=te,le.prototype.has=se,le.prototype.set=ne,_ListCache=le,_ListCache}var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var ie=require_ListCache();function ee(){this.__data__=new ie,this.size=0}return _stackClear=ee,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function ie(ee){var te=this.__data__,se=te.delete(ee);return this.size=te.size,se}return _stackDelete=ie,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function ie(ee){return this.__data__.get(ee)}return _stackGet=ie,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function ie(ee){return this.__data__.has(ee)}return _stackHas=ie,_stackHas}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var ie=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=ie,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var ie=require_freeGlobal(),ee=typeof self=="object"&&self&&self.Object===Object&&self,te=ie||ee||Function("return this")();return _root=te,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var ie=require_root(),ee=ie.Symbol;return _Symbol=ee,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var ie=require_Symbol(),ee=Object.prototype,te=ee.hasOwnProperty,se=ee.toString,ne=ie?ie.toStringTag:void 0;function le(ue){var ce=te.call(ue,ne),he=ue[ne];try{ue[ne]=void 0;var de=!0}catch{}var _e=se.call(ue);return de&&(ce?ue[ne]=he:delete ue[ne]),_e}return _getRawTag=le,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var ie=Object.prototype,ee=ie.toString;function te(se){return ee.call(se)}return _objectToString=te,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var ie=require_Symbol(),ee=require_getRawTag(),te=require_objectToString(),se="[object Null]",ne="[object Undefined]",le=ie?ie.toStringTag:void 0;function ue(ce){return ce==null?ce===void 0?ne:se:le&&le in Object(ce)?ee(ce):te(ce)}return _baseGetTag=ue,_baseGetTag}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function ie(ee){var te=typeof ee;return ee!=null&&(te=="object"||te=="function")}return isObject_1=ie,isObject_1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var ie=require_baseGetTag(),ee=requireIsObject(),te="[object AsyncFunction]",se="[object Function]",ne="[object GeneratorFunction]",le="[object Proxy]";function ue(ce){if(!ee(ce))return!1;var he=ie(ce);return he==se||he==ne||he==te||he==le}return isFunction_1=ue,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var ie=require_root(),ee=ie["__core-js_shared__"];return _coreJsData=ee,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var ie=require_coreJsData(),ee=function(){var se=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||"");return se?"Symbol(src)_1."+se:""}();function te(se){return!!ee&&ee in se}return _isMasked=te,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var ie=Function.prototype,ee=ie.toString;function te(se){if(se!=null){try{return ee.call(se)}catch{}try{return se+""}catch{}}return""}return _toSource=te,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var ie=requireIsFunction(),ee=require_isMasked(),te=requireIsObject(),se=require_toSource(),ne=/[\\^$.*+?()[\]{}|]/g,le=/^\[object .+?Constructor\]$/,ue=Function.prototype,ce=Object.prototype,he=ue.toString,de=ce.hasOwnProperty,_e=RegExp("^"+he.call(de).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fe(ye){if(!te(ye)||ee(ye))return!1;var be=ie(ye)?_e:le;return be.test(se(ye))}return _baseIsNative=fe,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function ie(ee,te){return ee==null?void 0:ee[te]}return _getValue=ie,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var ie=require_baseIsNative(),ee=require_getValue();function te(se,ne){var le=ee(se,ne);return ie(le)?le:void 0}return _getNative=te,_getNative}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var ie=require_getNative(),ee=require_root(),te=ie(ee,"Map");return _Map=te,_Map}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var ie=require_getNative(),ee=ie(Object,"create");return _nativeCreate=ee,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var ie=require_nativeCreate();function ee(){this.__data__=ie?ie(null):{},this.size=0}return _hashClear=ee,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function ie(ee){var te=this.has(ee)&&delete this.__data__[ee];return this.size-=te?1:0,te}return _hashDelete=ie,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var ie=require_nativeCreate(),ee="__lodash_hash_undefined__",te=Object.prototype,se=te.hasOwnProperty;function ne(le){var ue=this.__data__;if(ie){var ce=ue[le];return ce===ee?void 0:ce}return se.call(ue,le)?ue[le]:void 0}return _hashGet=ne,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var ie=require_nativeCreate(),ee=Object.prototype,te=ee.hasOwnProperty;function se(ne){var le=this.__data__;return ie?le[ne]!==void 0:te.call(le,ne)}return _hashHas=se,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var ie=require_nativeCreate(),ee="__lodash_hash_undefined__";function te(se,ne){var le=this.__data__;return this.size+=this.has(se)?0:1,le[se]=ie&&ne===void 0?ee:ne,this}return _hashSet=te,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var ie=require_hashClear(),ee=require_hashDelete(),te=require_hashGet(),se=require_hashHas(),ne=require_hashSet();function le(ue){var ce=-1,he=ue==null?0:ue.length;for(this.clear();++ce<he;){var de=ue[ce];this.set(de[0],de[1])}}return le.prototype.clear=ie,le.prototype.delete=ee,le.prototype.get=te,le.prototype.has=se,le.prototype.set=ne,_Hash=le,_Hash}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var ie=require_Hash(),ee=require_ListCache(),te=require_Map();function se(){this.size=0,this.__data__={hash:new ie,map:new(te||ee),string:new ie}}return _mapCacheClear=se,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function ie(ee){var te=typeof ee;return te=="string"||te=="number"||te=="symbol"||te=="boolean"?ee!=="__proto__":ee===null}return _isKeyable=ie,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var ie=require_isKeyable();function ee(te,se){var ne=te.__data__;return ie(se)?ne[typeof se=="string"?"string":"hash"]:ne.map}return _getMapData=ee,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var ie=require_getMapData();function ee(te){var se=ie(this,te).delete(te);return this.size-=se?1:0,se}return _mapCacheDelete=ee,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var ie=require_getMapData();function ee(te){return ie(this,te).get(te)}return _mapCacheGet=ee,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var ie=require_getMapData();function ee(te){return ie(this,te).has(te)}return _mapCacheHas=ee,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var ie=require_getMapData();function ee(te,se){var ne=ie(this,te),le=ne.size;return ne.set(te,se),this.size+=ne.size==le?0:1,this}return _mapCacheSet=ee,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var ie=require_mapCacheClear(),ee=require_mapCacheDelete(),te=require_mapCacheGet(),se=require_mapCacheHas(),ne=require_mapCacheSet();function le(ue){var ce=-1,he=ue==null?0:ue.length;for(this.clear();++ce<he;){var de=ue[ce];this.set(de[0],de[1])}}return le.prototype.clear=ie,le.prototype.delete=ee,le.prototype.get=te,le.prototype.has=se,le.prototype.set=ne,_MapCache=le,_MapCache}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var ie=require_ListCache(),ee=require_Map(),te=require_MapCache(),se=200;function ne(le,ue){var ce=this.__data__;if(ce instanceof ie){var he=ce.__data__;if(!ee||he.length<se-1)return he.push([le,ue]),this.size=++ce.size,this;ce=this.__data__=new te(he)}return ce.set(le,ue),this.size=ce.size,this}return _stackSet=ne,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var ie=require_ListCache(),ee=require_stackClear(),te=require_stackDelete(),se=require_stackGet(),ne=require_stackHas(),le=require_stackSet();function ue(ce){var he=this.__data__=new ie(ce);this.size=he.size}return ue.prototype.clear=ee,ue.prototype.delete=te,ue.prototype.get=se,ue.prototype.has=ne,ue.prototype.set=le,_Stack=ue,_Stack}var _defineProperty,hasRequired_defineProperty;function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty;hasRequired_defineProperty=1;var ie=require_getNative(),ee=function(){try{var te=ie(Object,"defineProperty");return te({},"",{}),te}catch{}}();return _defineProperty=ee,_defineProperty}var _baseAssignValue,hasRequired_baseAssignValue;function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var ie=require_defineProperty();function ee(te,se,ne){se=="__proto__"&&ie?ie(te,se,{configurable:!0,enumerable:!0,value:ne,writable:!0}):te[se]=ne}return _baseAssignValue=ee,_baseAssignValue}var _assignMergeValue,hasRequired_assignMergeValue;function require_assignMergeValue(){if(hasRequired_assignMergeValue)return _assignMergeValue;hasRequired_assignMergeValue=1;var ie=require_baseAssignValue(),ee=requireEq();function te(se,ne,le){(le!==void 0&&!ee(se[ne],le)||le===void 0&&!(ne in se))&&ie(se,ne,le)}return _assignMergeValue=te,_assignMergeValue}var _createBaseFor,hasRequired_createBaseFor;function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;hasRequired_createBaseFor=1;function ie(ee){return function(te,se,ne){for(var le=-1,ue=Object(te),ce=ne(te),he=ce.length;he--;){var de=ce[ee?he:++le];if(se(ue[de],de,ue)===!1)break}return te}}return _createBaseFor=ie,_createBaseFor}var _baseFor,hasRequired_baseFor;function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var ie=require_createBaseFor(),ee=ie();return _baseFor=ee,_baseFor}var _cloneBuffer={exports:{}};_cloneBuffer.exports;var hasRequired_cloneBuffer;function require_cloneBuffer(){return hasRequired_cloneBuffer||(hasRequired_cloneBuffer=1,function(ie,ee){var te=require_root(),se=ee&&!ee.nodeType&&ee,ne=se&&!0&&ie&&!ie.nodeType&&ie,le=ne&&ne.exports===se,ue=le?te.Buffer:void 0,ce=ue?ue.allocUnsafe:void 0;function he(de,_e){if(_e)return de.slice();var fe=de.length,ye=ce?ce(fe):new de.constructor(fe);return de.copy(ye),ye}ie.exports=he}(_cloneBuffer,_cloneBuffer.exports)),_cloneBuffer.exports}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var ie=require_root(),ee=ie.Uint8Array;return _Uint8Array=ee,_Uint8Array}var _cloneArrayBuffer,hasRequired_cloneArrayBuffer;function require_cloneArrayBuffer(){if(hasRequired_cloneArrayBuffer)return _cloneArrayBuffer;hasRequired_cloneArrayBuffer=1;var ie=require_Uint8Array();function ee(te){var se=new te.constructor(te.byteLength);return new ie(se).set(new ie(te)),se}return _cloneArrayBuffer=ee,_cloneArrayBuffer}var _cloneTypedArray,hasRequired_cloneTypedArray;function require_cloneTypedArray(){if(hasRequired_cloneTypedArray)return _cloneTypedArray;hasRequired_cloneTypedArray=1;var ie=require_cloneArrayBuffer();function ee(te,se){var ne=se?ie(te.buffer):te.buffer;return new te.constructor(ne,te.byteOffset,te.length)}return _cloneTypedArray=ee,_cloneTypedArray}var _copyArray,hasRequired_copyArray;function require_copyArray(){if(hasRequired_copyArray)return _copyArray;hasRequired_copyArray=1;function ie(ee,te){var se=-1,ne=ee.length;for(te||(te=Array(ne));++se<ne;)te[se]=ee[se];return te}return _copyArray=ie,_copyArray}var _baseCreate,hasRequired_baseCreate;function require_baseCreate(){if(hasRequired_baseCreate)return _baseCreate;hasRequired_baseCreate=1;var ie=requireIsObject(),ee=Object.create,te=function(){function se(){}return function(ne){if(!ie(ne))return{};if(ee)return ee(ne);se.prototype=ne;var le=new se;return se.prototype=void 0,le}}();return _baseCreate=te,_baseCreate}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function ie(ee,te){return function(se){return ee(te(se))}}return _overArg=ie,_overArg}var _getPrototype,hasRequired_getPrototype;function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var ie=require_overArg(),ee=ie(Object.getPrototypeOf,Object);return _getPrototype=ee,_getPrototype}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var ie=Object.prototype;function ee(te){var se=te&&te.constructor,ne=typeof se=="function"&&se.prototype||ie;return te===ne}return _isPrototype=ee,_isPrototype}var _initCloneObject,hasRequired_initCloneObject;function require_initCloneObject(){if(hasRequired_initCloneObject)return _initCloneObject;hasRequired_initCloneObject=1;var ie=require_baseCreate(),ee=require_getPrototype(),te=require_isPrototype();function se(ne){return typeof ne.constructor=="function"&&!te(ne)?ie(ee(ne)):{}}return _initCloneObject=se,_initCloneObject}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function ie(ee){return ee!=null&&typeof ee=="object"}return isObjectLike_1=ie,isObjectLike_1}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var ie=require_baseGetTag(),ee=requireIsObjectLike(),te="[object Arguments]";function se(ne){return ee(ne)&&ie(ne)==te}return _baseIsArguments=se,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var ie=require_baseIsArguments(),ee=requireIsObjectLike(),te=Object.prototype,se=te.hasOwnProperty,ne=te.propertyIsEnumerable,le=ie(function(){return arguments}())?ie:function(ue){return ee(ue)&&se.call(ue,"callee")&&!ne.call(ue,"callee")};return isArguments_1=le,isArguments_1}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var ie=Array.isArray;return isArray_1=ie,isArray_1}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var ie=9007199254740991;function ee(te){return typeof te=="number"&&te>-1&&te%1==0&&te<=ie}return isLength_1=ee,isLength_1}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var ie=requireIsFunction(),ee=requireIsLength();function te(se){return se!=null&&ee(se.length)&&!ie(se)}return isArrayLike_1=te,isArrayLike_1}var isArrayLikeObject_1,hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){if(hasRequiredIsArrayLikeObject)return isArrayLikeObject_1;hasRequiredIsArrayLikeObject=1;var ie=requireIsArrayLike(),ee=requireIsObjectLike();function te(se){return ee(se)&&ie(se)}return isArrayLikeObject_1=te,isArrayLikeObject_1}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function ie(){return!1}return stubFalse_1=ie,stubFalse_1}isBuffer.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,function(ie,ee){var te=require_root(),se=requireStubFalse(),ne=ee&&!ee.nodeType&&ee,le=ne&&!0&&ie&&!ie.nodeType&&ie,ue=le&&le.exports===ne,ce=ue?te.Buffer:void 0,he=ce?ce.isBuffer:void 0,de=he||se;ie.exports=de}(isBuffer,isBuffer.exports)),isBuffer.exports}var isPlainObject_1,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var ie=require_baseGetTag(),ee=require_getPrototype(),te=requireIsObjectLike(),se="[object Object]",ne=Function.prototype,le=Object.prototype,ue=ne.toString,ce=le.hasOwnProperty,he=ue.call(Object);function de(_e){if(!te(_e)||ie(_e)!=se)return!1;var fe=ee(_e);if(fe===null)return!0;var ye=ce.call(fe,"constructor")&&fe.constructor;return typeof ye=="function"&&ye instanceof ye&&ue.call(ye)==he}return isPlainObject_1=de,isPlainObject_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var ie=require_baseGetTag(),ee=requireIsLength(),te=requireIsObjectLike(),se="[object Arguments]",ne="[object Array]",le="[object Boolean]",ue="[object Date]",ce="[object Error]",he="[object Function]",de="[object Map]",_e="[object Number]",fe="[object Object]",ye="[object RegExp]",be="[object Set]",Pe="[object String]",Ne="[object WeakMap]",we="[object ArrayBuffer]",De="[object DataView]",$e="[object Float32Array]",Ge="[object Float64Array]",Be="[object Int8Array]",ze="[object Int16Array]",$t="[object Int32Array]",ut="[object Uint8Array]",Ti="[object Uint8ClampedArray]",Hi="[object Uint16Array]",bn="[object Uint32Array]",gd={};gd[$e]=gd[Ge]=gd[Be]=gd[ze]=gd[$t]=gd[ut]=gd[Ti]=gd[Hi]=gd[bn]=!0,gd[se]=gd[ne]=gd[we]=gd[le]=gd[De]=gd[ue]=gd[ce]=gd[he]=gd[de]=gd[_e]=gd[fe]=gd[ye]=gd[be]=gd[Pe]=gd[Ne]=!1;function Pm(oE){return te(oE)&&ee(oE.length)&&!!gd[ie(oE)]}return _baseIsTypedArray=Pm,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function ie(ee){return function(te){return ee(te)}}return _baseUnary=ie,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,function(ie,ee){var te=require_freeGlobal(),se=ee&&!ee.nodeType&&ee,ne=se&&!0&&ie&&!ie.nodeType&&ie,le=ne&&ne.exports===se,ue=le&&te.process,ce=function(){try{var he=ne&&ne.require&&ne.require("util").types;return he||ue&&ue.binding&&ue.binding("util")}catch{}}();ie.exports=ce}(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var ie=require_baseIsTypedArray(),ee=require_baseUnary(),te=require_nodeUtil(),se=te&&te.isTypedArray,ne=se?ee(se):ie;return isTypedArray_1=ne,isTypedArray_1}var _safeGet,hasRequired_safeGet;function require_safeGet(){if(hasRequired_safeGet)return _safeGet;hasRequired_safeGet=1;function ie(ee,te){if(!(te==="constructor"&&typeof ee[te]=="function")&&te!="__proto__")return ee[te]}return _safeGet=ie,_safeGet}var _assignValue,hasRequired_assignValue;function require_assignValue(){if(hasRequired_assignValue)return _assignValue;hasRequired_assignValue=1;var ie=require_baseAssignValue(),ee=requireEq(),te=Object.prototype,se=te.hasOwnProperty;function ne(le,ue,ce){var he=le[ue];(!(se.call(le,ue)&&ee(he,ce))||ce===void 0&&!(ue in le))&&ie(le,ue,ce)}return _assignValue=ne,_assignValue}var _copyObject,hasRequired_copyObject;function require_copyObject(){if(hasRequired_copyObject)return _copyObject;hasRequired_copyObject=1;var ie=require_assignValue(),ee=require_baseAssignValue();function te(se,ne,le,ue){var ce=!le;le||(le={});for(var he=-1,de=ne.length;++he<de;){var _e=ne[he],fe=ue?ue(le[_e],se[_e],_e,le,se):void 0;fe===void 0&&(fe=se[_e]),ce?ee(le,_e,fe):ie(le,_e,fe)}return le}return _copyObject=te,_copyObject}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function ie(ee,te){for(var se=-1,ne=Array(ee);++se<ee;)ne[se]=te(se);return ne}return _baseTimes=ie,_baseTimes}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var ie=9007199254740991,ee=/^(?:0|[1-9]\d*)$/;function te(se,ne){var le=typeof se;return ne=ne??ie,!!ne&&(le=="number"||le!="symbol"&&ee.test(se))&&se>-1&&se%1==0&&se<ne}return _isIndex=te,_isIndex}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var ie=require_baseTimes(),ee=requireIsArguments(),te=requireIsArray(),se=requireIsBuffer(),ne=require_isIndex(),le=requireIsTypedArray(),ue=Object.prototype,ce=ue.hasOwnProperty;function he(de,_e){var fe=te(de),ye=!fe&&ee(de),be=!fe&&!ye&&se(de),Pe=!fe&&!ye&&!be&&le(de),Ne=fe||ye||be||Pe,we=Ne?ie(de.length,String):[],De=we.length;for(var $e in de)(_e||ce.call(de,$e))&&!(Ne&&($e=="length"||be&&($e=="offset"||$e=="parent")||Pe&&($e=="buffer"||$e=="byteLength"||$e=="byteOffset")||ne($e,De)))&&we.push($e);return we}return _arrayLikeKeys=he,_arrayLikeKeys}var _nativeKeysIn,hasRequired_nativeKeysIn;function require_nativeKeysIn(){if(hasRequired_nativeKeysIn)return _nativeKeysIn;hasRequired_nativeKeysIn=1;function ie(ee){var te=[];if(ee!=null)for(var se in Object(ee))te.push(se);return te}return _nativeKeysIn=ie,_nativeKeysIn}var _baseKeysIn,hasRequired_baseKeysIn;function require_baseKeysIn(){if(hasRequired_baseKeysIn)return _baseKeysIn;hasRequired_baseKeysIn=1;var ie=requireIsObject(),ee=require_isPrototype(),te=require_nativeKeysIn(),se=Object.prototype,ne=se.hasOwnProperty;function le(ue){if(!ie(ue))return te(ue);var ce=ee(ue),he=[];for(var de in ue)de=="constructor"&&(ce||!ne.call(ue,de))||he.push(de);return he}return _baseKeysIn=le,_baseKeysIn}var keysIn_1,hasRequiredKeysIn;function requireKeysIn(){if(hasRequiredKeysIn)return keysIn_1;hasRequiredKeysIn=1;var ie=require_arrayLikeKeys(),ee=require_baseKeysIn(),te=requireIsArrayLike();function se(ne){return te(ne)?ie(ne,!0):ee(ne)}return keysIn_1=se,keysIn_1}var toPlainObject_1,hasRequiredToPlainObject;function requireToPlainObject(){if(hasRequiredToPlainObject)return toPlainObject_1;hasRequiredToPlainObject=1;var ie=require_copyObject(),ee=requireKeysIn();function te(se){return ie(se,ee(se))}return toPlainObject_1=te,toPlainObject_1}var _baseMergeDeep,hasRequired_baseMergeDeep;function require_baseMergeDeep(){if(hasRequired_baseMergeDeep)return _baseMergeDeep;hasRequired_baseMergeDeep=1;var ie=require_assignMergeValue(),ee=require_cloneBuffer(),te=require_cloneTypedArray(),se=require_copyArray(),ne=require_initCloneObject(),le=requireIsArguments(),ue=requireIsArray(),ce=requireIsArrayLikeObject(),he=requireIsBuffer(),de=requireIsFunction(),_e=requireIsObject(),fe=requireIsPlainObject(),ye=requireIsTypedArray(),be=require_safeGet(),Pe=requireToPlainObject();function Ne(we,De,$e,Ge,Be,ze,$t){var ut=be(we,$e),Ti=be(De,$e),Hi=$t.get(Ti);if(Hi){ie(we,$e,Hi);return}var bn=ze?ze(ut,Ti,$e+"",we,De,$t):void 0,gd=bn===void 0;if(gd){var Pm=ue(Ti),oE=!Pm&&he(Ti),aE=!Pm&&!oE&&ye(Ti);bn=Ti,Pm||oE||aE?ue(ut)?bn=ut:ce(ut)?bn=se(ut):oE?(gd=!1,bn=ee(Ti,!0)):aE?(gd=!1,bn=te(Ti,!0)):bn=[]:fe(Ti)||le(Ti)?(bn=ut,le(ut)?bn=Pe(ut):(!_e(ut)||de(ut))&&(bn=ne(Ti))):gd=!1}gd&&($t.set(Ti,bn),Be(bn,Ti,Ge,ze,$t),$t.delete(Ti)),ie(we,$e,bn)}return _baseMergeDeep=Ne,_baseMergeDeep}var _baseMerge,hasRequired_baseMerge;function require_baseMerge(){if(hasRequired_baseMerge)return _baseMerge;hasRequired_baseMerge=1;var ie=require_Stack(),ee=require_assignMergeValue(),te=require_baseFor(),se=require_baseMergeDeep(),ne=requireIsObject(),le=requireKeysIn(),ue=require_safeGet();function ce(he,de,_e,fe,ye){he!==de&&te(de,function(be,Pe){if(ye||(ye=new ie),ne(be))se(he,de,Pe,_e,ce,fe,ye);else{var Ne=fe?fe(ue(he,Pe),be,Pe+"",he,de,ye):void 0;Ne===void 0&&(Ne=be),ee(he,Pe,Ne)}},le)}return _baseMerge=ce,_baseMerge}var identity_1,hasRequiredIdentity;function requireIdentity(){if(hasRequiredIdentity)return identity_1;hasRequiredIdentity=1;function ie(ee){return ee}return identity_1=ie,identity_1}var _apply,hasRequired_apply;function require_apply(){if(hasRequired_apply)return _apply;hasRequired_apply=1;function ie(ee,te,se){switch(se.length){case 0:return ee.call(te);case 1:return ee.call(te,se[0]);case 2:return ee.call(te,se[0],se[1]);case 3:return ee.call(te,se[0],se[1],se[2])}return ee.apply(te,se)}return _apply=ie,_apply}var _overRest,hasRequired_overRest;function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var ie=require_apply(),ee=Math.max;function te(se,ne,le){return ne=ee(ne===void 0?se.length-1:ne,0),function(){for(var ue=arguments,ce=-1,he=ee(ue.length-ne,0),de=Array(he);++ce<he;)de[ce]=ue[ne+ce];ce=-1;for(var _e=Array(ne+1);++ce<ne;)_e[ce]=ue[ce];return _e[ne]=le(de),ie(se,this,_e)}}return _overRest=te,_overRest}var constant_1,hasRequiredConstant;function requireConstant(){if(hasRequiredConstant)return constant_1;hasRequiredConstant=1;function ie(ee){return function(){return ee}}return constant_1=ie,constant_1}var _baseSetToString,hasRequired_baseSetToString;function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var ie=requireConstant(),ee=require_defineProperty(),te=requireIdentity(),se=ee?function(ne,le){return ee(ne,"toString",{configurable:!0,enumerable:!1,value:ie(le),writable:!0})}:te;return _baseSetToString=se,_baseSetToString}var _shortOut,hasRequired_shortOut;function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var ie=800,ee=16,te=Date.now;function se(ne){var le=0,ue=0;return function(){var ce=te(),he=ee-(ce-ue);if(ue=ce,he>0){if(++le>=ie)return arguments[0]}else le=0;return ne.apply(void 0,arguments)}}return _shortOut=se,_shortOut}var _setToString,hasRequired_setToString;function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var ie=require_baseSetToString(),ee=require_shortOut(),te=ee(ie);return _setToString=te,_setToString}var _baseRest,hasRequired_baseRest;function require_baseRest(){if(hasRequired_baseRest)return _baseRest;hasRequired_baseRest=1;var ie=requireIdentity(),ee=require_overRest(),te=require_setToString();function se(ne,le){return te(ee(ne,le,ie),ne+"")}return _baseRest=se,_baseRest}var _isIterateeCall,hasRequired_isIterateeCall;function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var ie=requireEq(),ee=requireIsArrayLike(),te=require_isIndex(),se=requireIsObject();function ne(le,ue,ce){if(!se(ce))return!1;var he=typeof ue;return(he=="number"?ee(ce)&&te(ue,ce.length):he=="string"&&ue in ce)?ie(ce[ue],le):!1}return _isIterateeCall=ne,_isIterateeCall}var _createAssigner,hasRequired_createAssigner;function require_createAssigner(){if(hasRequired_createAssigner)return _createAssigner;hasRequired_createAssigner=1;var ie=require_baseRest(),ee=require_isIterateeCall();function te(se){return ie(function(ne,le){var ue=-1,ce=le.length,he=ce>1?le[ce-1]:void 0,de=ce>2?le[2]:void 0;for(he=se.length>3&&typeof he=="function"?(ce--,he):void 0,de&&ee(le[0],le[1],de)&&(he=ce<3?void 0:he,ce=1),ne=Object(ne);++ue<ce;){var _e=le[ue];_e&&se(ne,_e,ue,he)}return ne})}return _createAssigner=te,_createAssigner}var merge_1,hasRequiredMerge;function requireMerge(){if(hasRequiredMerge)return merge_1;hasRequiredMerge=1;var ie=require_baseMerge(),ee=require_createAssigner(),te=ee(function(se,ne,le){ie(se,ne,le)});return merge_1=te,merge_1}var mergeExports=requireMerge();const _merge=getDefaultExportFromCjs(mergeExports);/*!
 * @pixi/constants - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV;(function(ie){ie[ie.WEBGL_LEGACY=0]="WEBGL_LEGACY",ie[ie.WEBGL=1]="WEBGL",ie[ie.WEBGL2=2]="WEBGL2"})(ENV||(ENV={}));var RENDERER_TYPE;(function(ie){ie[ie.UNKNOWN=0]="UNKNOWN",ie[ie.WEBGL=1]="WEBGL",ie[ie.CANVAS=2]="CANVAS"})(RENDERER_TYPE||(RENDERER_TYPE={}));var BUFFER_BITS;(function(ie){ie[ie.COLOR=16384]="COLOR",ie[ie.DEPTH=256]="DEPTH",ie[ie.STENCIL=1024]="STENCIL"})(BUFFER_BITS||(BUFFER_BITS={}));var BLEND_MODES;(function(ie){ie[ie.NORMAL=0]="NORMAL",ie[ie.ADD=1]="ADD",ie[ie.MULTIPLY=2]="MULTIPLY",ie[ie.SCREEN=3]="SCREEN",ie[ie.OVERLAY=4]="OVERLAY",ie[ie.DARKEN=5]="DARKEN",ie[ie.LIGHTEN=6]="LIGHTEN",ie[ie.COLOR_DODGE=7]="COLOR_DODGE",ie[ie.COLOR_BURN=8]="COLOR_BURN",ie[ie.HARD_LIGHT=9]="HARD_LIGHT",ie[ie.SOFT_LIGHT=10]="SOFT_LIGHT",ie[ie.DIFFERENCE=11]="DIFFERENCE",ie[ie.EXCLUSION=12]="EXCLUSION",ie[ie.HUE=13]="HUE",ie[ie.SATURATION=14]="SATURATION",ie[ie.COLOR=15]="COLOR",ie[ie.LUMINOSITY=16]="LUMINOSITY",ie[ie.NORMAL_NPM=17]="NORMAL_NPM",ie[ie.ADD_NPM=18]="ADD_NPM",ie[ie.SCREEN_NPM=19]="SCREEN_NPM",ie[ie.NONE=20]="NONE",ie[ie.SRC_OVER=0]="SRC_OVER",ie[ie.SRC_IN=21]="SRC_IN",ie[ie.SRC_OUT=22]="SRC_OUT",ie[ie.SRC_ATOP=23]="SRC_ATOP",ie[ie.DST_OVER=24]="DST_OVER",ie[ie.DST_IN=25]="DST_IN",ie[ie.DST_OUT=26]="DST_OUT",ie[ie.DST_ATOP=27]="DST_ATOP",ie[ie.ERASE=26]="ERASE",ie[ie.SUBTRACT=28]="SUBTRACT",ie[ie.XOR=29]="XOR"})(BLEND_MODES||(BLEND_MODES={}));var DRAW_MODES;(function(ie){ie[ie.POINTS=0]="POINTS",ie[ie.LINES=1]="LINES",ie[ie.LINE_LOOP=2]="LINE_LOOP",ie[ie.LINE_STRIP=3]="LINE_STRIP",ie[ie.TRIANGLES=4]="TRIANGLES",ie[ie.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",ie[ie.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES||(DRAW_MODES={}));var FORMATS;(function(ie){ie[ie.RGBA=6408]="RGBA",ie[ie.RGB=6407]="RGB",ie[ie.RG=33319]="RG",ie[ie.RED=6403]="RED",ie[ie.RGBA_INTEGER=36249]="RGBA_INTEGER",ie[ie.RGB_INTEGER=36248]="RGB_INTEGER",ie[ie.RG_INTEGER=33320]="RG_INTEGER",ie[ie.RED_INTEGER=36244]="RED_INTEGER",ie[ie.ALPHA=6406]="ALPHA",ie[ie.LUMINANCE=6409]="LUMINANCE",ie[ie.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",ie[ie.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",ie[ie.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS||(FORMATS={}));var TARGETS;(function(ie){ie[ie.TEXTURE_2D=3553]="TEXTURE_2D",ie[ie.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",ie[ie.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",ie[ie.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",ie[ie.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",ie[ie.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",ie[ie.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",ie[ie.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",ie[ie.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS||(TARGETS={}));var TYPES;(function(ie){ie[ie.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",ie[ie.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",ie[ie.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",ie[ie.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",ie[ie.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",ie[ie.UNSIGNED_INT=5125]="UNSIGNED_INT",ie[ie.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",ie[ie.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",ie[ie.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",ie[ie.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",ie[ie.BYTE=5120]="BYTE",ie[ie.SHORT=5122]="SHORT",ie[ie.INT=5124]="INT",ie[ie.FLOAT=5126]="FLOAT",ie[ie.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",ie[ie.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES||(TYPES={}));var SAMPLER_TYPES;(function(ie){ie[ie.FLOAT=0]="FLOAT",ie[ie.INT=1]="INT",ie[ie.UINT=2]="UINT"})(SAMPLER_TYPES||(SAMPLER_TYPES={}));var SCALE_MODES;(function(ie){ie[ie.NEAREST=0]="NEAREST",ie[ie.LINEAR=1]="LINEAR"})(SCALE_MODES||(SCALE_MODES={}));var WRAP_MODES;(function(ie){ie[ie.CLAMP=33071]="CLAMP",ie[ie.REPEAT=10497]="REPEAT",ie[ie.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES||(WRAP_MODES={}));var MIPMAP_MODES;(function(ie){ie[ie.OFF=0]="OFF",ie[ie.POW2=1]="POW2",ie[ie.ON=2]="ON",ie[ie.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES||(MIPMAP_MODES={}));var ALPHA_MODES;(function(ie){ie[ie.NPM=0]="NPM",ie[ie.UNPACK=1]="UNPACK",ie[ie.PMA=2]="PMA",ie[ie.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",ie[ie.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",ie[ie.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",ie[ie.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES||(ALPHA_MODES={}));var CLEAR_MODES;(function(ie){ie[ie.NO=0]="NO",ie[ie.YES=1]="YES",ie[ie.AUTO=2]="AUTO",ie[ie.BLEND=0]="BLEND",ie[ie.CLEAR=1]="CLEAR",ie[ie.BLIT=2]="BLIT"})(CLEAR_MODES||(CLEAR_MODES={}));var GC_MODES;(function(ie){ie[ie.AUTO=0]="AUTO",ie[ie.MANUAL=1]="MANUAL"})(GC_MODES||(GC_MODES={}));var PRECISION;(function(ie){ie.LOW="lowp",ie.MEDIUM="mediump",ie.HIGH="highp"})(PRECISION||(PRECISION={}));var MASK_TYPES;(function(ie){ie[ie.NONE=0]="NONE",ie[ie.SCISSOR=1]="SCISSOR",ie[ie.STENCIL=2]="STENCIL",ie[ie.SPRITE=3]="SPRITE",ie[ie.COLOR=4]="COLOR"})(MASK_TYPES||(MASK_TYPES={}));var COLOR_MASK_BITS;(function(ie){ie[ie.RED=1]="RED",ie[ie.GREEN=2]="GREEN",ie[ie.BLUE=4]="BLUE",ie[ie.ALPHA=8]="ALPHA"})(COLOR_MASK_BITS||(COLOR_MASK_BITS={}));var MSAA_QUALITY;(function(ie){ie[ie.NONE=0]="NONE",ie[ie.LOW=2]="LOW",ie[ie.MEDIUM=4]="MEDIUM",ie[ie.HIGH=8]="HIGH"})(MSAA_QUALITY||(MSAA_QUALITY={}));var BUFFER_TYPE$1;(function(ie){ie[ie.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",ie[ie.ARRAY_BUFFER=34962]="ARRAY_BUFFER",ie[ie.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$1||(BUFFER_TYPE$1={}));/*!
 * @pixi/settings - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var BrowserAdapter$1={createCanvas:function(ie,ee){var te=document.createElement("canvas");return te.width=ie,te.height=ee,te},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var ie;return(ie=document.baseURI)!==null&&ie!==void 0?ie:window.location.href},fetch:function(ie,ee){return fetch(ie,ee)}},appleIphone$1=/iPhone/i,appleIpod$1=/iPod/i,appleTablet$1=/iPad/i,appleUniversal$1=/\biOS-universal(?:.+)Mac\b/i,androidPhone$1=/\bAndroid(?:.+)Mobile\b/i,androidTablet$1=/Android/i,amazonPhone$1=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet$1=/Silk/i,windowsPhone$1=/Windows Phone/i,windowsTablet$1=/\bWindows(?:.+)ARM\b/i,otherBlackBerry$1=/BlackBerry/i,otherBlackBerry10$1=/BB10/i,otherOpera$1=/Opera Mini/i,otherChrome$1=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox$1=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13$1=function(ie){return typeof ie<"u"&&ie.platform==="MacIntel"&&typeof ie.maxTouchPoints=="number"&&ie.maxTouchPoints>1&&typeof MSStream>"u"};function createMatch$1(ie){return function(ee){return ee.test(ie)}}function isMobile$1$1(ie){var ee={userAgent:"",platform:"",maxTouchPoints:0};!ie&&typeof navigator<"u"?ee={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof ie=="string"?ee.userAgent=ie:ie&&ie.userAgent&&(ee={userAgent:ie.userAgent,platform:ie.platform,maxTouchPoints:ie.maxTouchPoints||0});var te=ee.userAgent,se=te.split("[FBAN");typeof se[1]<"u"&&(te=se[0]),se=te.split("Twitter"),typeof se[1]<"u"&&(te=se[0]);var ne=createMatch$1(te),le={apple:{phone:ne(appleIphone$1)&&!ne(windowsPhone$1),ipod:ne(appleIpod$1),tablet:!ne(appleIphone$1)&&(ne(appleTablet$1)||isAppleTabletOnIos13$1(ee))&&!ne(windowsPhone$1),universal:ne(appleUniversal$1),device:(ne(appleIphone$1)||ne(appleIpod$1)||ne(appleTablet$1)||ne(appleUniversal$1)||isAppleTabletOnIos13$1(ee))&&!ne(windowsPhone$1)},amazon:{phone:ne(amazonPhone$1),tablet:!ne(amazonPhone$1)&&ne(amazonTablet$1),device:ne(amazonPhone$1)||ne(amazonTablet$1)},android:{phone:!ne(windowsPhone$1)&&ne(amazonPhone$1)||!ne(windowsPhone$1)&&ne(androidPhone$1),tablet:!ne(windowsPhone$1)&&!ne(amazonPhone$1)&&!ne(androidPhone$1)&&(ne(amazonTablet$1)||ne(androidTablet$1)),device:!ne(windowsPhone$1)&&(ne(amazonPhone$1)||ne(amazonTablet$1)||ne(androidPhone$1)||ne(androidTablet$1))||ne(/\bokhttp\b/i)},windows:{phone:ne(windowsPhone$1),tablet:ne(windowsTablet$1),device:ne(windowsPhone$1)||ne(windowsTablet$1)},other:{blackberry:ne(otherBlackBerry$1),blackberry10:ne(otherBlackBerry10$1),opera:ne(otherOpera$1),firefox:ne(otherFirefox$1),chrome:ne(otherChrome$1),device:ne(otherBlackBerry$1)||ne(otherBlackBerry10$1)||ne(otherOpera$1)||ne(otherFirefox$1)||ne(otherChrome$1)},any:!1,phone:!1,tablet:!1};return le.any=le.apple.device||le.android.device||le.windows.device||le.other.device,le.phone=le.apple.phone||le.android.phone||le.windows.phone,le.tablet=le.apple.tablet||le.android.tablet||le.windows.tablet,le}var isMobile$2=isMobile$1$1(globalThis.navigator);function canUploadSameBuffer(){return!isMobile$2.apple.device}function maxRecommendedTextures(ie){var ee=!0;if(isMobile$2.tablet||isMobile$2.phone){if(isMobile$2.apple.device){var te=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(te){var se=parseInt(te[1],10);se<11&&(ee=!1)}}if(isMobile$2.android.device){var te=navigator.userAgent.match(/Android\s([0-9.]*)/);if(te){var se=parseInt(te[1],10);se<7&&(ee=!1)}}}return ee?ie:4}var settings$1={ADAPTER:BrowserAdapter$1,MIPMAP_TEXTURES:MIPMAP_MODES.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,antialias:!1,preserveDrawingBuffer:!1},GC_MODE:GC_MODES.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:WRAP_MODES.CLAMP,SCALE_MODE:SCALE_MODES.LINEAR,PRECISION_VERTEX:PRECISION.HIGH,PRECISION_FRAGMENT:isMobile$2.apple.device?PRECISION.HIGH:PRECISION.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},eventemitter3$1={exports:{}},hasRequiredEventemitter3$1;function requireEventemitter3$1(){return hasRequiredEventemitter3$1||(hasRequiredEventemitter3$1=1,function(ie){var ee=Object.prototype.hasOwnProperty,te="~";function se(){}Object.create&&(se.prototype=Object.create(null),new se().__proto__||(te=!1));function ne(he,de,_e){this.fn=he,this.context=de,this.once=_e||!1}function le(he,de,_e,fe,ye){if(typeof _e!="function")throw new TypeError("The listener must be a function");var be=new ne(_e,fe||he,ye),Pe=te?te+de:de;return he._events[Pe]?he._events[Pe].fn?he._events[Pe]=[he._events[Pe],be]:he._events[Pe].push(be):(he._events[Pe]=be,he._eventsCount++),he}function ue(he,de){--he._eventsCount===0?he._events=new se:delete he._events[de]}function ce(){this._events=new se,this._eventsCount=0}ce.prototype.eventNames=function(){var de=[],_e,fe;if(this._eventsCount===0)return de;for(fe in _e=this._events)ee.call(_e,fe)&&de.push(te?fe.slice(1):fe);return Object.getOwnPropertySymbols?de.concat(Object.getOwnPropertySymbols(_e)):de},ce.prototype.listeners=function(de){var _e=te?te+de:de,fe=this._events[_e];if(!fe)return[];if(fe.fn)return[fe.fn];for(var ye=0,be=fe.length,Pe=new Array(be);ye<be;ye++)Pe[ye]=fe[ye].fn;return Pe},ce.prototype.listenerCount=function(de){var _e=te?te+de:de,fe=this._events[_e];return fe?fe.fn?1:fe.length:0},ce.prototype.emit=function(de,_e,fe,ye,be,Pe){var Ne=te?te+de:de;if(!this._events[Ne])return!1;var we=this._events[Ne],De=arguments.length,$e,Ge;if(we.fn){switch(we.once&&this.removeListener(de,we.fn,void 0,!0),De){case 1:return we.fn.call(we.context),!0;case 2:return we.fn.call(we.context,_e),!0;case 3:return we.fn.call(we.context,_e,fe),!0;case 4:return we.fn.call(we.context,_e,fe,ye),!0;case 5:return we.fn.call(we.context,_e,fe,ye,be),!0;case 6:return we.fn.call(we.context,_e,fe,ye,be,Pe),!0}for(Ge=1,$e=new Array(De-1);Ge<De;Ge++)$e[Ge-1]=arguments[Ge];we.fn.apply(we.context,$e)}else{var Be=we.length,ze;for(Ge=0;Ge<Be;Ge++)switch(we[Ge].once&&this.removeListener(de,we[Ge].fn,void 0,!0),De){case 1:we[Ge].fn.call(we[Ge].context);break;case 2:we[Ge].fn.call(we[Ge].context,_e);break;case 3:we[Ge].fn.call(we[Ge].context,_e,fe);break;case 4:we[Ge].fn.call(we[Ge].context,_e,fe,ye);break;default:if(!$e)for(ze=1,$e=new Array(De-1);ze<De;ze++)$e[ze-1]=arguments[ze];we[Ge].fn.apply(we[Ge].context,$e)}}return!0},ce.prototype.on=function(de,_e,fe){return le(this,de,_e,fe,!1)},ce.prototype.once=function(de,_e,fe){return le(this,de,_e,fe,!0)},ce.prototype.removeListener=function(de,_e,fe,ye){var be=te?te+de:de;if(!this._events[be])return this;if(!_e)return ue(this,be),this;var Pe=this._events[be];if(Pe.fn)Pe.fn===_e&&(!ye||Pe.once)&&(!fe||Pe.context===fe)&&ue(this,be);else{for(var Ne=0,we=[],De=Pe.length;Ne<De;Ne++)(Pe[Ne].fn!==_e||ye&&!Pe[Ne].once||fe&&Pe[Ne].context!==fe)&&we.push(Pe[Ne]);we.length?this._events[be]=we.length===1?we[0]:we:ue(this,be)}return this},ce.prototype.removeAllListeners=function(de){var _e;return de?(_e=te?te+de:de,this._events[_e]&&ue(this,_e)):(this._events=new se,this._eventsCount=0),this},ce.prototype.off=ce.prototype.removeListener,ce.prototype.addListener=ce.prototype.on,ce.prefixed=te,ce.EventEmitter=ce,ie.exports=ce}(eventemitter3$1)),eventemitter3$1.exports}var eventemitter3Exports$1=requireEventemitter3$1();const EventEmitter$1=getDefaultExportFromCjs(eventemitter3Exports$1);var earcut$1={exports:{}},hasRequiredEarcut;function requireEarcut(){if(hasRequiredEarcut)return earcut$1.exports;hasRequiredEarcut=1,earcut$1.exports=ie,earcut$1.exports.default=ie;function ie(On,nh,Hn){Hn=Hn||2;var Xp=nh&&nh.length,Jp=Xp?nh[0]*Hn:On.length,md=ee(On,0,Jp,Hn,!0),eE=[];if(!md||md.next===md.prev)return eE;var hE,mE,fE,yE,AE,bE,ME;if(Xp&&(md=he(On,nh,md,Hn)),On.length>80*Hn){hE=fE=On[0],mE=yE=On[1];for(var SE=Hn;SE<Jp;SE+=Hn)AE=On[SE],bE=On[SE+1],AE<hE&&(hE=AE),bE<mE&&(mE=bE),AE>fE&&(fE=AE),bE>yE&&(yE=bE);ME=Math.max(fE-hE,yE-mE),ME=ME!==0?32767/ME:0}return se(md,eE,Hn,hE,mE,ME,0),eE}function ee(On,nh,Hn,Xp,Jp){var md,eE;if(Jp===nE(On,nh,Hn,Xp)>0)for(md=nh;md<Hn;md+=Xp)eE=Pm(md,On[md],On[md+1],eE);else for(md=Hn-Xp;md>=nh;md-=Xp)eE=Pm(md,On[md],On[md+1],eE);return eE&&Be(eE,eE.next)&&(oE(eE),eE=eE.next),eE}function te(On,nh){if(!On)return On;nh||(nh=On);var Hn=On,Xp;do if(Xp=!1,!Hn.steiner&&(Be(Hn,Hn.next)||Ge(Hn.prev,Hn,Hn.next)===0)){if(oE(Hn),Hn=nh=Hn.prev,Hn===Hn.next)break;Xp=!0}else Hn=Hn.next;while(Xp||Hn!==nh);return nh}function se(On,nh,Hn,Xp,Jp,md,eE){if(On){!eE&&md&&be(On,Xp,Jp,md);for(var hE=On,mE,fE;On.prev!==On.next;){if(mE=On.prev,fE=On.next,md?le(On,Xp,Jp,md):ne(On)){nh.push(mE.i/Hn|0),nh.push(On.i/Hn|0),nh.push(fE.i/Hn|0),oE(On),On=fE.next,hE=fE.next;continue}if(On=fE,On===hE){eE?eE===1?(On=ue(te(On),nh,Hn),se(On,nh,Hn,Xp,Jp,md,2)):eE===2&&ce(On,nh,Hn,Xp,Jp,md):se(te(On),nh,Hn,Xp,Jp,md,1);break}}}}function ne(On){var nh=On.prev,Hn=On,Xp=On.next;if(Ge(nh,Hn,Xp)>=0)return!1;for(var Jp=nh.x,md=Hn.x,eE=Xp.x,hE=nh.y,mE=Hn.y,fE=Xp.y,yE=Jp<md?Jp<eE?Jp:eE:md<eE?md:eE,AE=hE<mE?hE<fE?hE:fE:mE<fE?mE:fE,bE=Jp>md?Jp>eE?Jp:eE:md>eE?md:eE,ME=hE>mE?hE>fE?hE:fE:mE>fE?mE:fE,SE=Xp.next;SE!==nh;){if(SE.x>=yE&&SE.x<=bE&&SE.y>=AE&&SE.y<=ME&&De(Jp,hE,md,mE,eE,fE,SE.x,SE.y)&&Ge(SE.prev,SE,SE.next)>=0)return!1;SE=SE.next}return!0}function le(On,nh,Hn,Xp){var Jp=On.prev,md=On,eE=On.next;if(Ge(Jp,md,eE)>=0)return!1;for(var hE=Jp.x,mE=md.x,fE=eE.x,yE=Jp.y,AE=md.y,bE=eE.y,ME=hE<mE?hE<fE?hE:fE:mE<fE?mE:fE,SE=yE<AE?yE<bE?yE:bE:AE<bE?AE:bE,jE=hE>mE?hE>fE?hE:fE:mE>fE?mE:fE,$E=yE>AE?yE>bE?yE:bE:AE>bE?AE:bE,zE=Ne(ME,SE,nh,Hn,Xp),YE=Ne(jE,$E,nh,Hn,Xp),HE=On.prevZ,VE=On.nextZ;HE&&HE.z>=zE&&VE&&VE.z<=YE;){if(HE.x>=ME&&HE.x<=jE&&HE.y>=SE&&HE.y<=$E&&HE!==Jp&&HE!==eE&&De(hE,yE,mE,AE,fE,bE,HE.x,HE.y)&&Ge(HE.prev,HE,HE.next)>=0||(HE=HE.prevZ,VE.x>=ME&&VE.x<=jE&&VE.y>=SE&&VE.y<=$E&&VE!==Jp&&VE!==eE&&De(hE,yE,mE,AE,fE,bE,VE.x,VE.y)&&Ge(VE.prev,VE,VE.next)>=0))return!1;VE=VE.nextZ}for(;HE&&HE.z>=zE;){if(HE.x>=ME&&HE.x<=jE&&HE.y>=SE&&HE.y<=$E&&HE!==Jp&&HE!==eE&&De(hE,yE,mE,AE,fE,bE,HE.x,HE.y)&&Ge(HE.prev,HE,HE.next)>=0)return!1;HE=HE.prevZ}for(;VE&&VE.z<=YE;){if(VE.x>=ME&&VE.x<=jE&&VE.y>=SE&&VE.y<=$E&&VE!==Jp&&VE!==eE&&De(hE,yE,mE,AE,fE,bE,VE.x,VE.y)&&Ge(VE.prev,VE,VE.next)>=0)return!1;VE=VE.nextZ}return!0}function ue(On,nh,Hn){var Xp=On;do{var Jp=Xp.prev,md=Xp.next.next;!Be(Jp,md)&&ze(Jp,Xp,Xp.next,md)&&Hi(Jp,md)&&Hi(md,Jp)&&(nh.push(Jp.i/Hn|0),nh.push(Xp.i/Hn|0),nh.push(md.i/Hn|0),oE(Xp),oE(Xp.next),Xp=On=md),Xp=Xp.next}while(Xp!==On);return te(Xp)}function ce(On,nh,Hn,Xp,Jp,md){var eE=On;do{for(var hE=eE.next.next;hE!==eE.prev;){if(eE.i!==hE.i&&$e(eE,hE)){var mE=gd(eE,hE);eE=te(eE,eE.next),mE=te(mE,mE.next),se(eE,nh,Hn,Xp,Jp,md,0),se(mE,nh,Hn,Xp,Jp,md,0);return}hE=hE.next}eE=eE.next}while(eE!==On)}function he(On,nh,Hn,Xp){var Jp=[],md,eE,hE,mE,fE;for(md=0,eE=nh.length;md<eE;md++)hE=nh[md]*Xp,mE=md<eE-1?nh[md+1]*Xp:On.length,fE=ee(On,hE,mE,Xp,!1),fE===fE.next&&(fE.steiner=!0),Jp.push(we(fE));for(Jp.sort(de),md=0;md<Jp.length;md++)Hn=_e(Jp[md],Hn);return Hn}function de(On,nh){return On.x-nh.x}function _e(On,nh){var Hn=fe(On,nh);if(!Hn)return nh;var Xp=gd(Hn,On);return te(Xp,Xp.next),te(Hn,Hn.next)}function fe(On,nh){var Hn=nh,Xp=On.x,Jp=On.y,md=-1/0,eE;do{if(Jp<=Hn.y&&Jp>=Hn.next.y&&Hn.next.y!==Hn.y){var hE=Hn.x+(Jp-Hn.y)*(Hn.next.x-Hn.x)/(Hn.next.y-Hn.y);if(hE<=Xp&&hE>md&&(md=hE,eE=Hn.x<Hn.next.x?Hn:Hn.next,hE===Xp))return eE}Hn=Hn.next}while(Hn!==nh);if(!eE)return null;var mE=eE,fE=eE.x,yE=eE.y,AE=1/0,bE;Hn=eE;do Xp>=Hn.x&&Hn.x>=fE&&Xp!==Hn.x&&De(Jp<yE?Xp:md,Jp,fE,yE,Jp<yE?md:Xp,Jp,Hn.x,Hn.y)&&(bE=Math.abs(Jp-Hn.y)/(Xp-Hn.x),Hi(Hn,On)&&(bE<AE||bE===AE&&(Hn.x>eE.x||Hn.x===eE.x&&ye(eE,Hn)))&&(eE=Hn,AE=bE)),Hn=Hn.next;while(Hn!==mE);return eE}function ye(On,nh){return Ge(On.prev,On,nh.prev)<0&&Ge(nh.next,On,On.next)<0}function be(On,nh,Hn,Xp){var Jp=On;do Jp.z===0&&(Jp.z=Ne(Jp.x,Jp.y,nh,Hn,Xp)),Jp.prevZ=Jp.prev,Jp.nextZ=Jp.next,Jp=Jp.next;while(Jp!==On);Jp.prevZ.nextZ=null,Jp.prevZ=null,Pe(Jp)}function Pe(On){var nh,Hn,Xp,Jp,md,eE,hE,mE,fE=1;do{for(Hn=On,On=null,md=null,eE=0;Hn;){for(eE++,Xp=Hn,hE=0,nh=0;nh<fE&&(hE++,Xp=Xp.nextZ,!!Xp);nh++);for(mE=fE;hE>0||mE>0&&Xp;)hE!==0&&(mE===0||!Xp||Hn.z<=Xp.z)?(Jp=Hn,Hn=Hn.nextZ,hE--):(Jp=Xp,Xp=Xp.nextZ,mE--),md?md.nextZ=Jp:On=Jp,Jp.prevZ=md,md=Jp;Hn=Xp}md.nextZ=null,fE*=2}while(eE>1);return On}function Ne(On,nh,Hn,Xp,Jp){return On=(On-Hn)*Jp|0,nh=(nh-Xp)*Jp|0,On=(On|On<<8)&16711935,On=(On|On<<4)&252645135,On=(On|On<<2)&858993459,On=(On|On<<1)&1431655765,nh=(nh|nh<<8)&16711935,nh=(nh|nh<<4)&252645135,nh=(nh|nh<<2)&858993459,nh=(nh|nh<<1)&1431655765,On|nh<<1}function we(On){var nh=On,Hn=On;do(nh.x<Hn.x||nh.x===Hn.x&&nh.y<Hn.y)&&(Hn=nh),nh=nh.next;while(nh!==On);return Hn}function De(On,nh,Hn,Xp,Jp,md,eE,hE){return(Jp-eE)*(nh-hE)>=(On-eE)*(md-hE)&&(On-eE)*(Xp-hE)>=(Hn-eE)*(nh-hE)&&(Hn-eE)*(md-hE)>=(Jp-eE)*(Xp-hE)}function $e(On,nh){return On.next.i!==nh.i&&On.prev.i!==nh.i&&!Ti(On,nh)&&(Hi(On,nh)&&Hi(nh,On)&&bn(On,nh)&&(Ge(On.prev,On,nh.prev)||Ge(On,nh.prev,nh))||Be(On,nh)&&Ge(On.prev,On,On.next)>0&&Ge(nh.prev,nh,nh.next)>0)}function Ge(On,nh,Hn){return(nh.y-On.y)*(Hn.x-nh.x)-(nh.x-On.x)*(Hn.y-nh.y)}function Be(On,nh){return On.x===nh.x&&On.y===nh.y}function ze(On,nh,Hn,Xp){var Jp=ut(Ge(On,nh,Hn)),md=ut(Ge(On,nh,Xp)),eE=ut(Ge(Hn,Xp,On)),hE=ut(Ge(Hn,Xp,nh));return!!(Jp!==md&&eE!==hE||Jp===0&&$t(On,Hn,nh)||md===0&&$t(On,Xp,nh)||eE===0&&$t(Hn,On,Xp)||hE===0&&$t(Hn,nh,Xp))}function $t(On,nh,Hn){return nh.x<=Math.max(On.x,Hn.x)&&nh.x>=Math.min(On.x,Hn.x)&&nh.y<=Math.max(On.y,Hn.y)&&nh.y>=Math.min(On.y,Hn.y)}function ut(On){return On>0?1:On<0?-1:0}function Ti(On,nh){var Hn=On;do{if(Hn.i!==On.i&&Hn.next.i!==On.i&&Hn.i!==nh.i&&Hn.next.i!==nh.i&&ze(Hn,Hn.next,On,nh))return!0;Hn=Hn.next}while(Hn!==On);return!1}function Hi(On,nh){return Ge(On.prev,On,On.next)<0?Ge(On,nh,On.next)>=0&&Ge(On,On.prev,nh)>=0:Ge(On,nh,On.prev)<0||Ge(On,On.next,nh)<0}function bn(On,nh){var Hn=On,Xp=!1,Jp=(On.x+nh.x)/2,md=(On.y+nh.y)/2;do Hn.y>md!=Hn.next.y>md&&Hn.next.y!==Hn.y&&Jp<(Hn.next.x-Hn.x)*(md-Hn.y)/(Hn.next.y-Hn.y)+Hn.x&&(Xp=!Xp),Hn=Hn.next;while(Hn!==On);return Xp}function gd(On,nh){var Hn=new aE(On.i,On.x,On.y),Xp=new aE(nh.i,nh.x,nh.y),Jp=On.next,md=nh.prev;return On.next=nh,nh.prev=On,Hn.next=Jp,Jp.prev=Hn,Xp.next=Hn,Hn.prev=Xp,md.next=Xp,Xp.prev=md,Xp}function Pm(On,nh,Hn,Xp){var Jp=new aE(On,nh,Hn);return Xp?(Jp.next=Xp.next,Jp.prev=Xp,Xp.next.prev=Jp,Xp.next=Jp):(Jp.prev=Jp,Jp.next=Jp),Jp}function oE(On){On.next.prev=On.prev,On.prev.next=On.next,On.prevZ&&(On.prevZ.nextZ=On.nextZ),On.nextZ&&(On.nextZ.prevZ=On.prevZ)}function aE(On,nh,Hn){this.i=On,this.x=nh,this.y=Hn,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}ie.deviation=function(On,nh,Hn,Xp){var Jp=nh&&nh.length,md=Jp?nh[0]*Hn:On.length,eE=Math.abs(nE(On,0,md,Hn));if(Jp)for(var hE=0,mE=nh.length;hE<mE;hE++){var fE=nh[hE]*Hn,yE=hE<mE-1?nh[hE+1]*Hn:On.length;eE-=Math.abs(nE(On,fE,yE,Hn))}var AE=0;for(hE=0;hE<Xp.length;hE+=3){var bE=Xp[hE]*Hn,ME=Xp[hE+1]*Hn,SE=Xp[hE+2]*Hn;AE+=Math.abs((On[bE]-On[SE])*(On[ME+1]-On[bE+1])-(On[bE]-On[ME])*(On[SE+1]-On[bE+1]))}return eE===0&&AE===0?0:Math.abs((AE-eE)/eE)};function nE(On,nh,Hn,Xp){for(var Jp=0,md=nh,eE=Hn-Xp;md<Hn;md+=Xp)Jp+=(On[eE]-On[md])*(On[md+1]+On[eE+1]),eE=md;return Jp}return ie.flatten=function(On){for(var nh=On[0][0].length,Hn={vertices:[],holes:[],dimensions:nh},Xp=0,Jp=0;Jp<On.length;Jp++){for(var md=0;md<On[Jp].length;md++)for(var eE=0;eE<nh;eE++)Hn.vertices.push(On[Jp][md][eE]);Jp>0&&(Xp+=On[Jp-1].length,Hn.holes.push(Xp))}return Hn},earcut$1.exports}var earcutExports=requireEarcut();const earcut=getDefaultExportFromCjs(earcutExports);var url$1={},punycode$1={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var punycode=punycode$1.exports,hasRequiredPunycode;function requirePunycode(){return hasRequiredPunycode||(hasRequiredPunycode=1,function(ie,ee){(function(te){var se=ee&&!ee.nodeType&&ee,ne=!ie.nodeType&&ie,le=typeof commonjsGlobal=="object"&&commonjsGlobal;(le.global===le||le.window===le||le.self===le)&&(te=le);var ue,ce=2147483647,he=36,de=1,_e=26,fe=38,ye=700,be=72,Pe=128,Ne="-",we=/^xn--/,De=/[^\x20-\x7E]/,$e=/[\x2E\u3002\uFF0E\uFF61]/g,Ge={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Be=he-de,ze=Math.floor,$t=String.fromCharCode,ut;function Ti(Jp){throw new RangeError(Ge[Jp])}function Hi(Jp,md){for(var eE=Jp.length,hE=[];eE--;)hE[eE]=md(Jp[eE]);return hE}function bn(Jp,md){var eE=Jp.split("@"),hE="";eE.length>1&&(hE=eE[0]+"@",Jp=eE[1]),Jp=Jp.replace($e,".");var mE=Jp.split("."),fE=Hi(mE,md).join(".");return hE+fE}function gd(Jp){for(var md=[],eE=0,hE=Jp.length,mE,fE;eE<hE;)mE=Jp.charCodeAt(eE++),mE>=55296&&mE<=56319&&eE<hE?(fE=Jp.charCodeAt(eE++),(fE&64512)==56320?md.push(((mE&1023)<<10)+(fE&1023)+65536):(md.push(mE),eE--)):md.push(mE);return md}function Pm(Jp){return Hi(Jp,function(md){var eE="";return md>65535&&(md-=65536,eE+=$t(md>>>10&1023|55296),md=56320|md&1023),eE+=$t(md),eE}).join("")}function oE(Jp){return Jp-48<10?Jp-22:Jp-65<26?Jp-65:Jp-97<26?Jp-97:he}function aE(Jp,md){return Jp+22+75*(Jp<26)-((md!=0)<<5)}function nE(Jp,md,eE){var hE=0;for(Jp=eE?ze(Jp/ye):Jp>>1,Jp+=ze(Jp/md);Jp>Be*_e>>1;hE+=he)Jp=ze(Jp/Be);return ze(hE+(Be+1)*Jp/(Jp+fe))}function On(Jp){var md=[],eE=Jp.length,hE,mE=0,fE=Pe,yE=be,AE,bE,ME,SE,jE,$E,zE,YE,HE;for(AE=Jp.lastIndexOf(Ne),AE<0&&(AE=0),bE=0;bE<AE;++bE)Jp.charCodeAt(bE)>=128&&Ti("not-basic"),md.push(Jp.charCodeAt(bE));for(ME=AE>0?AE+1:0;ME<eE;){for(SE=mE,jE=1,$E=he;ME>=eE&&Ti("invalid-input"),zE=oE(Jp.charCodeAt(ME++)),(zE>=he||zE>ze((ce-mE)/jE))&&Ti("overflow"),mE+=zE*jE,YE=$E<=yE?de:$E>=yE+_e?_e:$E-yE,!(zE<YE);$E+=he)HE=he-YE,jE>ze(ce/HE)&&Ti("overflow"),jE*=HE;hE=md.length+1,yE=nE(mE-SE,hE,SE==0),ze(mE/hE)>ce-fE&&Ti("overflow"),fE+=ze(mE/hE),mE%=hE,md.splice(mE++,0,fE)}return Pm(md)}function nh(Jp){var md,eE,hE,mE,fE,yE,AE,bE,ME,SE,jE,$E=[],zE,YE,HE,VE;for(Jp=gd(Jp),zE=Jp.length,md=Pe,eE=0,fE=be,yE=0;yE<zE;++yE)jE=Jp[yE],jE<128&&$E.push($t(jE));for(hE=mE=$E.length,mE&&$E.push(Ne);hE<zE;){for(AE=ce,yE=0;yE<zE;++yE)jE=Jp[yE],jE>=md&&jE<AE&&(AE=jE);for(YE=hE+1,AE-md>ze((ce-eE)/YE)&&Ti("overflow"),eE+=(AE-md)*YE,md=AE,yE=0;yE<zE;++yE)if(jE=Jp[yE],jE<md&&++eE>ce&&Ti("overflow"),jE==md){for(bE=eE,ME=he;SE=ME<=fE?de:ME>=fE+_e?_e:ME-fE,!(bE<SE);ME+=he)VE=bE-SE,HE=he-SE,$E.push($t(aE(SE+VE%HE,0))),bE=ze(VE/HE);$E.push($t(aE(bE,0))),fE=nE(eE,YE,hE==mE),eE=0,++hE}++eE,++md}return $E.join("")}function Hn(Jp){return bn(Jp,function(md){return we.test(md)?On(md.slice(4).toLowerCase()):md})}function Xp(Jp){return bn(Jp,function(md){return De.test(md)?"xn--"+nh(md):md})}if(ue={version:"1.4.1",ucs2:{decode:gd,encode:Pm},decode:On,encode:nh,toASCII:Xp,toUnicode:Hn},se&&ne)if(ie.exports==se)ne.exports=ue;else for(ut in ue)ue.hasOwnProperty(ut)&&(se[ut]=ue[ut]);else te.punycode=ue})(punycode)}(punycode$1,punycode$1.exports)),punycode$1.exports}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var objectInspect,hasRequiredObjectInspect;function requireObjectInspect(){if(hasRequiredObjectInspect)return objectInspect;hasRequiredObjectInspect=1;var ie=typeof Map=="function"&&Map.prototype,ee=Object.getOwnPropertyDescriptor&&ie?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,te=ie&&ee&&typeof ee.get=="function"?ee.get:null,se=ie&&Map.prototype.forEach,ne=typeof Set=="function"&&Set.prototype,le=Object.getOwnPropertyDescriptor&&ne?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ue=ne&&le&&typeof le.get=="function"?le.get:null,ce=ne&&Set.prototype.forEach,he=typeof WeakMap=="function"&&WeakMap.prototype,de=he?WeakMap.prototype.has:null,_e=typeof WeakSet=="function"&&WeakSet.prototype,fe=_e?WeakSet.prototype.has:null,ye=typeof WeakRef=="function"&&WeakRef.prototype,be=ye?WeakRef.prototype.deref:null,Pe=Boolean.prototype.valueOf,Ne=Object.prototype.toString,we=Function.prototype.toString,De=String.prototype.match,$e=String.prototype.slice,Ge=String.prototype.replace,Be=String.prototype.toUpperCase,ze=String.prototype.toLowerCase,$t=RegExp.prototype.test,ut=Array.prototype.concat,Ti=Array.prototype.join,Hi=Array.prototype.slice,bn=Math.floor,gd=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Pm=Object.getOwnPropertySymbols,oE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,aE=typeof Symbol=="function"&&typeof Symbol.iterator=="object",nE=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===aE||!0)?Symbol.toStringTag:null,On=Object.prototype.propertyIsEnumerable,nh=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(PE){return PE.__proto__}:null);function Hn(PE,LE){if(PE===1/0||PE===-1/0||PE!==PE||PE&&PE>-1e3&&PE<1e3||$t.call(/e/,LE))return LE;var GR=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof PE=="number"){var zR=PE<0?-bn(-PE):bn(PE);if(zR!==PE){var DR=String(zR),TR=$e.call(LE,DR.length+1);return Ge.call(DR,GR,"$&_")+"."+Ge.call(Ge.call(TR,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ge.call(LE,GR,"$&_")}var Xp=require$$0,Jp=Xp.custom,md=zE(Jp)?Jp:null,eE={__proto__:null,double:'"',single:"'"},hE={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};objectInspect=function PE(LE,GR,zR,DR){var TR=GR||{};if(VE(TR,"quoteStyle")&&!VE(eE,TR.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(VE(TR,"maxStringLength")&&(typeof TR.maxStringLength=="number"?TR.maxStringLength<0&&TR.maxStringLength!==1/0:TR.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var cT=VE(TR,"customInspect")?TR.customInspect:!0;if(typeof cT!="boolean"&&cT!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(VE(TR,"indent")&&TR.indent!==null&&TR.indent!=="	"&&!(parseInt(TR.indent,10)===TR.indent&&TR.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(VE(TR,"numericSeparator")&&typeof TR.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var PR=TR.numericSeparator;if(typeof LE>"u")return"undefined";if(LE===null)return"null";if(typeof LE=="boolean")return LE?"true":"false";if(typeof LE=="string")return CR(LE,TR);if(typeof LE=="number"){if(LE===0)return 1/0/LE>0?"0":"-0";var nT=String(LE);return PR?Hn(LE,nT):nT}if(typeof LE=="bigint"){var AT=String(LE)+"n";return PR?Hn(LE,AT):AT}var gI=typeof TR.depth>"u"?5:TR.depth;if(typeof zR>"u"&&(zR=0),zR>=gI&&gI>0&&typeof LE=="object")return yE(LE)?"[Array]":"[Object]";var _T=pM(TR,zR);if(typeof DR>"u")DR=[];else if(BE(DR,LE)>=0)return"[Circular]";function fT(RI,TI,lO){if(TI&&(DR=Hi.call(DR),DR.push(TI)),lO){var uO={depth:TR.depth};return VE(TR,"quoteStyle")&&(uO.quoteStyle=TR.quoteStyle),PE(RI,uO,zR+1,DR)}return PE(RI,TR,zR+1,DR)}if(typeof LE=="function"&&!bE(LE)){var FT=xE(LE),PC=xO(LE,fT);return"[Function"+(FT?": "+FT:" (anonymous)")+"]"+(PC.length>0?" { "+Ti.call(PC,", ")+" }":"")}if(zE(LE)){var mI=aE?Ge.call(String(LE),/^(Symbol\(.*\))_[^)]*$/,"$1"):oE.call(LE);return typeof LE=="object"&&!aE?yR(mI):mI}if(pR(LE)){for(var eI="<"+ze.call(String(LE.nodeName)),EI=LE.attributes||[],OO=0;OO<EI.length;OO++)eI+=" "+EI[OO].name+"="+mE(fE(EI[OO].value),"double",TR);return eI+=">",LE.childNodes&&LE.childNodes.length&&(eI+="..."),eI+="</"+ze.call(String(LE.nodeName))+">",eI}if(yE(LE)){if(LE.length===0)return"[]";var vI=xO(LE,fT);return _T&&!AO(vI)?"["+HI(vI,_T)+"]":"[ "+Ti.call(vI,", ")+" ]"}if(ME(LE)){var aO=xO(LE,fT);return!("cause"in Error.prototype)&&"cause"in LE&&!On.call(LE,"cause")?"{ ["+String(LE)+"] "+Ti.call(ut.call("[cause]: "+fT(LE.cause),aO),", ")+" }":aO.length===0?"["+String(LE)+"]":"{ ["+String(LE)+"] "+Ti.call(aO,", ")+" }"}if(typeof LE=="object"&&cT){if(md&&typeof LE[md]=="function"&&Xp)return Xp(LE,{depth:gI-zR});if(cT!=="symbol"&&typeof LE.inspect=="function")return LE.inspect()}if(eR(LE)){var CO=[];return se&&se.call(LE,function(RI,TI){CO.push(fT(TI,LE,!0)+" => "+fT(RI,LE))}),jR("Map",te.call(LE),CO,_T)}if(vE(LE)){var VI=[];return ce&&ce.call(LE,function(RI){VI.push(fT(RI,LE))}),jR("Set",ue.call(LE),VI,_T)}if(sR(LE))return VR("WeakMap");if(XE(LE))return VR("WeakSet");if(ZE(LE))return VR("WeakRef");if(jE(LE))return yR(fT(Number(LE)));if(YE(LE))return yR(fT(gd.call(LE)));if($E(LE))return yR(Pe.call(LE));if(SE(LE))return yR(fT(String(LE)));if(typeof window<"u"&&LE===window)return"{ [object Window] }";if(typeof globalThis<"u"&&LE===globalThis||typeof commonjsGlobal<"u"&&LE===commonjsGlobal)return"{ [object globalThis] }";if(!AE(LE)&&!bE(LE)){var NC=xO(LE,fT),MO=nh?nh(LE)===Object.prototype:LE instanceof Object||LE.constructor===Object,PO=LE instanceof Object?"":"null prototype",yI=!MO&&nE&&Object(LE)===LE&&nE in LE?$e.call(TE(LE),8,-1):PO?"Object":"",oO=MO||typeof LE.constructor!="function"?"":LE.constructor.name?LE.constructor.name+" ":"",UC=oO+(yI||PO?"["+Ti.call(ut.call([],yI||[],PO||[]),": ")+"] ":"");return NC.length===0?UC+"{}":_T?UC+"{"+HI(NC,_T)+"}":UC+"{ "+Ti.call(NC,", ")+" }"}return String(LE)};function mE(PE,LE,GR){var zR=GR.quoteStyle||LE,DR=eE[zR];return DR+PE+DR}function fE(PE){return Ge.call(String(PE),/"/g,"&quot;")}function yE(PE){return TE(PE)==="[object Array]"&&(!nE||!(typeof PE=="object"&&nE in PE))}function AE(PE){return TE(PE)==="[object Date]"&&(!nE||!(typeof PE=="object"&&nE in PE))}function bE(PE){return TE(PE)==="[object RegExp]"&&(!nE||!(typeof PE=="object"&&nE in PE))}function ME(PE){return TE(PE)==="[object Error]"&&(!nE||!(typeof PE=="object"&&nE in PE))}function SE(PE){return TE(PE)==="[object String]"&&(!nE||!(typeof PE=="object"&&nE in PE))}function jE(PE){return TE(PE)==="[object Number]"&&(!nE||!(typeof PE=="object"&&nE in PE))}function $E(PE){return TE(PE)==="[object Boolean]"&&(!nE||!(typeof PE=="object"&&nE in PE))}function zE(PE){if(aE)return PE&&typeof PE=="object"&&PE instanceof Symbol;if(typeof PE=="symbol")return!0;if(!PE||typeof PE!="object"||!oE)return!1;try{return oE.call(PE),!0}catch{}return!1}function YE(PE){if(!PE||typeof PE!="object"||!gd)return!1;try{return gd.call(PE),!0}catch{}return!1}var HE=Object.prototype.hasOwnProperty||function(PE){return PE in this};function VE(PE,LE){return HE.call(PE,LE)}function TE(PE){return Ne.call(PE)}function xE(PE){if(PE.name)return PE.name;var LE=De.call(we.call(PE),/^function\s*([\w$]+)/);return LE?LE[1]:null}function BE(PE,LE){if(PE.indexOf)return PE.indexOf(LE);for(var GR=0,zR=PE.length;GR<zR;GR++)if(PE[GR]===LE)return GR;return-1}function eR(PE){if(!te||!PE||typeof PE!="object")return!1;try{te.call(PE);try{ue.call(PE)}catch{return!0}return PE instanceof Map}catch{}return!1}function sR(PE){if(!de||!PE||typeof PE!="object")return!1;try{de.call(PE,de);try{fe.call(PE,fe)}catch{return!0}return PE instanceof WeakMap}catch{}return!1}function ZE(PE){if(!be||!PE||typeof PE!="object")return!1;try{return be.call(PE),!0}catch{}return!1}function vE(PE){if(!ue||!PE||typeof PE!="object")return!1;try{ue.call(PE);try{te.call(PE)}catch{return!0}return PE instanceof Set}catch{}return!1}function XE(PE){if(!fe||!PE||typeof PE!="object")return!1;try{fe.call(PE,fe);try{de.call(PE,de)}catch{return!0}return PE instanceof WeakSet}catch{}return!1}function pR(PE){return!PE||typeof PE!="object"?!1:typeof HTMLElement<"u"&&PE instanceof HTMLElement?!0:typeof PE.nodeName=="string"&&typeof PE.getAttribute=="function"}function CR(PE,LE){if(PE.length>LE.maxStringLength){var GR=PE.length-LE.maxStringLength,zR="... "+GR+" more character"+(GR>1?"s":"");return CR($e.call(PE,0,LE.maxStringLength),LE)+zR}var DR=hE[LE.quoteStyle||"single"];DR.lastIndex=0;var TR=Ge.call(Ge.call(PE,DR,"\\$1"),/[\x00-\x1f]/g,MR);return mE(TR,"single",LE)}function MR(PE){var LE=PE.charCodeAt(0),GR={8:"b",9:"t",10:"n",12:"f",13:"r"}[LE];return GR?"\\"+GR:"\\x"+(LE<16?"0":"")+Be.call(LE.toString(16))}function yR(PE){return"Object("+PE+")"}function VR(PE){return PE+" { ? }"}function jR(PE,LE,GR,zR){var DR=zR?HI(GR,zR):Ti.call(GR,", ");return PE+" ("+LE+") {"+DR+"}"}function AO(PE){for(var LE=0;LE<PE.length;LE++)if(BE(PE[LE],`
`)>=0)return!1;return!0}function pM(PE,LE){var GR;if(PE.indent==="	")GR="	";else if(typeof PE.indent=="number"&&PE.indent>0)GR=Ti.call(Array(PE.indent+1)," ");else return null;return{base:GR,prev:Ti.call(Array(LE+1),GR)}}function HI(PE,LE){if(PE.length===0)return"";var GR=`
`+LE.prev+LE.base;return GR+Ti.call(PE,","+GR)+`
`+LE.prev}function xO(PE,LE){var GR=yE(PE),zR=[];if(GR){zR.length=PE.length;for(var DR=0;DR<PE.length;DR++)zR[DR]=VE(PE,DR)?LE(PE[DR],PE):""}var TR=typeof Pm=="function"?Pm(PE):[],cT;if(aE){cT={};for(var PR=0;PR<TR.length;PR++)cT["$"+TR[PR]]=TR[PR]}for(var nT in PE)VE(PE,nT)&&(GR&&String(Number(nT))===nT&&nT<PE.length||aE&&cT["$"+nT]instanceof Symbol||($t.call(/[^\w$]/,nT)?zR.push(LE(nT,PE)+": "+LE(PE[nT],PE)):zR.push(nT+": "+LE(PE[nT],PE))));if(typeof Pm=="function")for(var AT=0;AT<TR.length;AT++)On.call(PE,TR[AT])&&zR.push("["+LE(TR[AT])+"]: "+LE(PE[TR[AT]],PE));return zR}return objectInspect}var sideChannelList,hasRequiredSideChannelList;function requireSideChannelList(){if(hasRequiredSideChannelList)return sideChannelList;hasRequiredSideChannelList=1;var ie=requireObjectInspect(),ee=requireType(),te=function(ce,he,de){for(var _e=ce,fe;(fe=_e.next)!=null;_e=fe)if(fe.key===he)return _e.next=fe.next,de||(fe.next=ce.next,ce.next=fe),fe},se=function(ce,he){if(ce){var de=te(ce,he);return de&&de.value}},ne=function(ce,he,de){var _e=te(ce,he);_e?_e.value=de:ce.next={key:he,next:ce.next,value:de}},le=function(ce,he){return ce?!!te(ce,he):!1},ue=function(ce,he){if(ce)return te(ce,he,!0)};return sideChannelList=function(){var he,de={assert:function(_e){if(!de.has(_e))throw new ee("Side channel does not contain "+ie(_e))},delete:function(_e){var fe=he&&he.next,ye=ue(he,_e);return ye&&fe&&fe===ye&&(he=void 0),!!ye},get:function(_e){return se(he,_e)},has:function(_e){return le(he,_e)},set:function(_e,fe){he||(he={next:void 0}),ne(he,_e,fe)}};return de},sideChannelList}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor$1,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor$1=Math.floor),floor$1}var max$1,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max$1=Math.max),max$1}var min$1,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min$1=Math.min),min$1}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round$4,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round$4=Math.round),round$4}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(ee){return ee!==ee}),_isNaN}var sign$1,hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$1;hasRequiredSign=1;var ie=require_isNaN();return sign$1=function(te){return ie(te)||te===0?te:te<0?-1:1},sign$1}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var ie=requireGOPD();if(ie)try{ie([],"length")}catch{ie=null}return gopd=ie,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var ie=Object.defineProperty||!1;if(ie)try{ie({},"a",{value:1})}catch{ie=!1}return esDefineProperty=ie,esDefineProperty}var shams,hasRequiredShams;function requireShams(){return hasRequiredShams||(hasRequiredShams=1,shams=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var ee={},te=Symbol("test"),se=Object(te);if(typeof te=="string"||Object.prototype.toString.call(te)!=="[object Symbol]"||Object.prototype.toString.call(se)!=="[object Symbol]")return!1;var ne=42;ee[te]=ne;for(var le in ee)return!1;if(typeof Object.keys=="function"&&Object.keys(ee).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(ee).length!==0)return!1;var ue=Object.getOwnPropertySymbols(ee);if(ue.length!==1||ue[0]!==te||!Object.prototype.propertyIsEnumerable.call(ee,te))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var ce=Object.getOwnPropertyDescriptor(ee,te);if(ce.value!==ne||ce.enumerable!==!0)return!1}return!0}),shams}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var ie=typeof Symbol<"u"&&Symbol,ee=requireShams();return hasSymbols=function(){return typeof ie!="function"||typeof Symbol!="function"||typeof ie("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ee()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var ie=requireEsObjectAtoms();return Object_getPrototypeOf=ie.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var ie="Function.prototype.bind called on incompatible ",ee=Object.prototype.toString,te=Math.max,se="[object Function]",ne=function(he,de){for(var _e=[],fe=0;fe<he.length;fe+=1)_e[fe]=he[fe];for(var ye=0;ye<de.length;ye+=1)_e[ye+he.length]=de[ye];return _e},le=function(he,de){for(var _e=[],fe=de,ye=0;fe<he.length;fe+=1,ye+=1)_e[ye]=he[fe];return _e},ue=function(ce,he){for(var de="",_e=0;_e<ce.length;_e+=1)de+=ce[_e],_e+1<ce.length&&(de+=he);return de};return implementation=function(he){var de=this;if(typeof de!="function"||ee.apply(de)!==se)throw new TypeError(ie+de);for(var _e=le(arguments,1),fe,ye=function(){if(this instanceof fe){var De=de.apply(this,ne(_e,arguments));return Object(De)===De?De:this}return de.apply(he,ne(_e,arguments))},be=te(0,de.length-_e.length),Pe=[],Ne=0;Ne<be;Ne++)Pe[Ne]="$"+Ne;if(fe=Function("binder","return function ("+ue(Pe,",")+"){ return binder.apply(this,arguments); }")(ye),de.prototype){var we=function(){};we.prototype=de.prototype,fe.prototype=new we,we.prototype=null}return fe},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var ie=requireImplementation();return functionBind=Function.prototype.bind||ie,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var ie=requireFunctionBind(),ee=requireFunctionApply(),te=requireFunctionCall(),se=requireReflectApply();return actualApply=se||ie.call(te,ee),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var ie=requireFunctionBind(),ee=requireType(),te=requireFunctionCall(),se=requireActualApply();return callBindApplyHelpers=function(le){if(le.length<1||typeof le[0]!="function")throw new ee("a function is required");return se(ie,te,le)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var ie=requireCallBindApplyHelpers(),ee=requireGopd(),te;try{te=[].__proto__===Array.prototype}catch(ue){if(!ue||typeof ue!="object"||!("code"in ue)||ue.code!=="ERR_PROTO_ACCESS")throw ue}var se=!!te&&ee&&ee(Object.prototype,"__proto__"),ne=Object,le=ne.getPrototypeOf;return get=se&&typeof se.get=="function"?ie([se.get]):typeof le=="function"?function(ce){return le(ce==null?ce:ne(ce))}:!1,get}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var ie=requireReflect_getPrototypeOf(),ee=requireObject_getPrototypeOf(),te=requireGet();return getProto=ie?function(ne){return ie(ne)}:ee?function(ne){if(!ne||typeof ne!="object"&&typeof ne!="function")throw new TypeError("getProto: not an object");return ee(ne)}:te?function(ne){return te(ne)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var ie=Function.prototype.call,ee=Object.prototype.hasOwnProperty,te=requireFunctionBind();return hasown=te.call(ie,ee),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var ie,ee=requireEsObjectAtoms(),te=requireEsErrors(),se=require_eval(),ne=requireRange(),le=requireRef(),ue=requireSyntax(),ce=requireType(),he=requireUri(),de=requireAbs(),_e=requireFloor(),fe=requireMax(),ye=requireMin(),be=requirePow(),Pe=requireRound(),Ne=requireSign(),we=Function,De=function(ME){try{return we('"use strict"; return ('+ME+").constructor;")()}catch{}},$e=requireGopd(),Ge=requireEsDefineProperty(),Be=function(){throw new ce},ze=$e?function(){try{return arguments.callee,Be}catch{try{return $e(arguments,"callee").get}catch{return Be}}}():Be,$t=requireHasSymbols()(),ut=requireGetProto(),Ti=requireObject_getPrototypeOf(),Hi=requireReflect_getPrototypeOf(),bn=requireFunctionApply(),gd=requireFunctionCall(),Pm={},oE=typeof Uint8Array>"u"||!ut?ie:ut(Uint8Array),aE={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ie:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ie:ArrayBuffer,"%ArrayIteratorPrototype%":$t&&ut?ut([][Symbol.iterator]()):ie,"%AsyncFromSyncIteratorPrototype%":ie,"%AsyncFunction%":Pm,"%AsyncGenerator%":Pm,"%AsyncGeneratorFunction%":Pm,"%AsyncIteratorPrototype%":Pm,"%Atomics%":typeof Atomics>"u"?ie:Atomics,"%BigInt%":typeof BigInt>"u"?ie:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ie:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ie:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ie:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":te,"%eval%":eval,"%EvalError%":se,"%Float32Array%":typeof Float32Array>"u"?ie:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ie:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ie:FinalizationRegistry,"%Function%":we,"%GeneratorFunction%":Pm,"%Int8Array%":typeof Int8Array>"u"?ie:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ie:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ie:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$t&&ut?ut(ut([][Symbol.iterator]())):ie,"%JSON%":typeof JSON=="object"?JSON:ie,"%Map%":typeof Map>"u"?ie:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$t||!ut?ie:ut(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":ee,"%Object.getOwnPropertyDescriptor%":$e,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ie:Promise,"%Proxy%":typeof Proxy>"u"?ie:Proxy,"%RangeError%":ne,"%ReferenceError%":le,"%Reflect%":typeof Reflect>"u"?ie:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ie:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$t||!ut?ie:ut(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ie:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$t&&ut?ut(""[Symbol.iterator]()):ie,"%Symbol%":$t?Symbol:ie,"%SyntaxError%":ue,"%ThrowTypeError%":ze,"%TypedArray%":oE,"%TypeError%":ce,"%Uint8Array%":typeof Uint8Array>"u"?ie:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ie:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ie:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ie:Uint32Array,"%URIError%":he,"%WeakMap%":typeof WeakMap>"u"?ie:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ie:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ie:WeakSet,"%Function.prototype.call%":gd,"%Function.prototype.apply%":bn,"%Object.defineProperty%":Ge,"%Object.getPrototypeOf%":Ti,"%Math.abs%":de,"%Math.floor%":_e,"%Math.max%":fe,"%Math.min%":ye,"%Math.pow%":be,"%Math.round%":Pe,"%Math.sign%":Ne,"%Reflect.getPrototypeOf%":Hi};if(ut)try{null.error}catch(ME){var nE=ut(ut(ME));aE["%Error.prototype%"]=nE}var On=function ME(SE){var jE;if(SE==="%AsyncFunction%")jE=De("async function () {}");else if(SE==="%GeneratorFunction%")jE=De("function* () {}");else if(SE==="%AsyncGeneratorFunction%")jE=De("async function* () {}");else if(SE==="%AsyncGenerator%"){var $E=ME("%AsyncGeneratorFunction%");$E&&(jE=$E.prototype)}else if(SE==="%AsyncIteratorPrototype%"){var zE=ME("%AsyncGenerator%");zE&&ut&&(jE=ut(zE.prototype))}return aE[SE]=jE,jE},nh={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Hn=requireFunctionBind(),Xp=requireHasown(),Jp=Hn.call(gd,Array.prototype.concat),md=Hn.call(bn,Array.prototype.splice),eE=Hn.call(gd,String.prototype.replace),hE=Hn.call(gd,String.prototype.slice),mE=Hn.call(gd,RegExp.prototype.exec),fE=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,yE=/\\(\\)?/g,AE=function(SE){var jE=hE(SE,0,1),$E=hE(SE,-1);if(jE==="%"&&$E!=="%")throw new ue("invalid intrinsic syntax, expected closing `%`");if($E==="%"&&jE!=="%")throw new ue("invalid intrinsic syntax, expected opening `%`");var zE=[];return eE(SE,fE,function(YE,HE,VE,TE){zE[zE.length]=VE?eE(TE,yE,"$1"):HE||YE}),zE},bE=function(SE,jE){var $E=SE,zE;if(Xp(nh,$E)&&(zE=nh[$E],$E="%"+zE[0]+"%"),Xp(aE,$E)){var YE=aE[$E];if(YE===Pm&&(YE=On($E)),typeof YE>"u"&&!jE)throw new ce("intrinsic "+SE+" exists, but is not available. Please file an issue!");return{alias:zE,name:$E,value:YE}}throw new ue("intrinsic "+SE+" does not exist!")};return getIntrinsic=function(SE,jE){if(typeof SE!="string"||SE.length===0)throw new ce("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof jE!="boolean")throw new ce('"allowMissing" argument must be a boolean');if(mE(/^%?[^%]*%?$/,SE)===null)throw new ue("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var $E=AE(SE),zE=$E.length>0?$E[0]:"",YE=bE("%"+zE+"%",jE),HE=YE.name,VE=YE.value,TE=!1,xE=YE.alias;xE&&(zE=xE[0],md($E,Jp([0,1],xE)));for(var BE=1,eR=!0;BE<$E.length;BE+=1){var sR=$E[BE],ZE=hE(sR,0,1),vE=hE(sR,-1);if((ZE==='"'||ZE==="'"||ZE==="`"||vE==='"'||vE==="'"||vE==="`")&&ZE!==vE)throw new ue("property names with quotes must have matching quotes");if((sR==="constructor"||!eR)&&(TE=!0),zE+="."+sR,HE="%"+zE+"%",Xp(aE,HE))VE=aE[HE];else if(VE!=null){if(!(sR in VE)){if(!jE)throw new ce("base intrinsic for "+SE+" exists, but the property is not available.");return}if($e&&BE+1>=$E.length){var XE=$e(VE,sR);eR=!!XE,eR&&"get"in XE&&!("originalValue"in XE.get)?VE=XE.get:VE=VE[sR]}else eR=Xp(VE,sR),VE=VE[sR];eR&&!TE&&(aE[HE]=VE)}}return VE},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var ie=requireGetIntrinsic(),ee=requireCallBindApplyHelpers(),te=ee([ie("%String.prototype.indexOf%")]);return callBound=function(ne,le){var ue=ie(ne,!!le);return typeof ue=="function"&&te(ne,".prototype.")>-1?ee([ue]):ue},callBound}var sideChannelMap,hasRequiredSideChannelMap;function requireSideChannelMap(){if(hasRequiredSideChannelMap)return sideChannelMap;hasRequiredSideChannelMap=1;var ie=requireGetIntrinsic(),ee=requireCallBound(),te=requireObjectInspect(),se=requireType(),ne=ie("%Map%",!0),le=ee("Map.prototype.get",!0),ue=ee("Map.prototype.set",!0),ce=ee("Map.prototype.has",!0),he=ee("Map.prototype.delete",!0),de=ee("Map.prototype.size",!0);return sideChannelMap=!!ne&&function(){var fe,ye={assert:function(be){if(!ye.has(be))throw new se("Side channel does not contain "+te(be))},delete:function(be){if(fe){var Pe=he(fe,be);return de(fe)===0&&(fe=void 0),Pe}return!1},get:function(be){if(fe)return le(fe,be)},has:function(be){return fe?ce(fe,be):!1},set:function(be,Pe){fe||(fe=new ne),ue(fe,be,Pe)}};return ye},sideChannelMap}var sideChannelWeakmap,hasRequiredSideChannelWeakmap;function requireSideChannelWeakmap(){if(hasRequiredSideChannelWeakmap)return sideChannelWeakmap;hasRequiredSideChannelWeakmap=1;var ie=requireGetIntrinsic(),ee=requireCallBound(),te=requireObjectInspect(),se=requireSideChannelMap(),ne=requireType(),le=ie("%WeakMap%",!0),ue=ee("WeakMap.prototype.get",!0),ce=ee("WeakMap.prototype.set",!0),he=ee("WeakMap.prototype.has",!0),de=ee("WeakMap.prototype.delete",!0);return sideChannelWeakmap=le?function(){var fe,ye,be={assert:function(Pe){if(!be.has(Pe))throw new ne("Side channel does not contain "+te(Pe))},delete:function(Pe){if(le&&Pe&&(typeof Pe=="object"||typeof Pe=="function")){if(fe)return de(fe,Pe)}else if(se&&ye)return ye.delete(Pe);return!1},get:function(Pe){return le&&Pe&&(typeof Pe=="object"||typeof Pe=="function")&&fe?ue(fe,Pe):ye&&ye.get(Pe)},has:function(Pe){return le&&Pe&&(typeof Pe=="object"||typeof Pe=="function")&&fe?he(fe,Pe):!!ye&&ye.has(Pe)},set:function(Pe,Ne){le&&Pe&&(typeof Pe=="object"||typeof Pe=="function")?(fe||(fe=new le),ce(fe,Pe,Ne)):se&&(ye||(ye=se()),ye.set(Pe,Ne))}};return be}:se,sideChannelWeakmap}var sideChannel,hasRequiredSideChannel;function requireSideChannel(){if(hasRequiredSideChannel)return sideChannel;hasRequiredSideChannel=1;var ie=requireType(),ee=requireObjectInspect(),te=requireSideChannelList(),se=requireSideChannelMap(),ne=requireSideChannelWeakmap(),le=ne||se||te;return sideChannel=function(){var ce,he={assert:function(de){if(!he.has(de))throw new ie("Side channel does not contain "+ee(de))},delete:function(de){return!!ce&&ce.delete(de)},get:function(de){return ce&&ce.get(de)},has:function(de){return!!ce&&ce.has(de)},set:function(de,_e){ce||(ce=le()),ce.set(de,_e)}};return he},sideChannel}var formats,hasRequiredFormats;function requireFormats(){if(hasRequiredFormats)return formats;hasRequiredFormats=1;var ie=String.prototype.replace,ee=/%20/g,te={RFC1738:"RFC1738",RFC3986:"RFC3986"};return formats={default:te.RFC3986,formatters:{RFC1738:function(se){return ie.call(se,ee,"+")},RFC3986:function(se){return String(se)}},RFC1738:te.RFC1738,RFC3986:te.RFC3986},formats}var utils,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils;hasRequiredUtils=1;var ie=requireFormats(),ee=Object.prototype.hasOwnProperty,te=Array.isArray,se=function(){for(var we=[],De=0;De<256;++De)we.push("%"+((De<16?"0":"")+De.toString(16)).toUpperCase());return we}(),ne=function(De){for(;De.length>1;){var $e=De.pop(),Ge=$e.obj[$e.prop];if(te(Ge)){for(var Be=[],ze=0;ze<Ge.length;++ze)typeof Ge[ze]<"u"&&Be.push(Ge[ze]);$e.obj[$e.prop]=Be}}},le=function(De,$e){for(var Ge=$e&&$e.plainObjects?{__proto__:null}:{},Be=0;Be<De.length;++Be)typeof De[Be]<"u"&&(Ge[Be]=De[Be]);return Ge},ue=function we(De,$e,Ge){if(!$e)return De;if(typeof $e!="object"&&typeof $e!="function"){if(te(De))De.push($e);else if(De&&typeof De=="object")(Ge&&(Ge.plainObjects||Ge.allowPrototypes)||!ee.call(Object.prototype,$e))&&(De[$e]=!0);else return[De,$e];return De}if(!De||typeof De!="object")return[De].concat($e);var Be=De;return te(De)&&!te($e)&&(Be=le(De,Ge)),te(De)&&te($e)?($e.forEach(function(ze,$t){if(ee.call(De,$t)){var ut=De[$t];ut&&typeof ut=="object"&&ze&&typeof ze=="object"?De[$t]=we(ut,ze,Ge):De.push(ze)}else De[$t]=ze}),De):Object.keys($e).reduce(function(ze,$t){var ut=$e[$t];return ee.call(ze,$t)?ze[$t]=we(ze[$t],ut,Ge):ze[$t]=ut,ze},Be)},ce=function(De,$e){return Object.keys($e).reduce(function(Ge,Be){return Ge[Be]=$e[Be],Ge},De)},he=function(we,De,$e){var Ge=we.replace(/\+/g," ");if($e==="iso-8859-1")return Ge.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Ge)}catch{return Ge}},de=1024,_e=function(De,$e,Ge,Be,ze){if(De.length===0)return De;var $t=De;if(typeof De=="symbol"?$t=Symbol.prototype.toString.call(De):typeof De!="string"&&($t=String(De)),Ge==="iso-8859-1")return escape($t).replace(/%u[0-9a-f]{4}/gi,function(oE){return"%26%23"+parseInt(oE.slice(2),16)+"%3B"});for(var ut="",Ti=0;Ti<$t.length;Ti+=de){for(var Hi=$t.length>=de?$t.slice(Ti,Ti+de):$t,bn=[],gd=0;gd<Hi.length;++gd){var Pm=Hi.charCodeAt(gd);if(Pm===45||Pm===46||Pm===95||Pm===126||Pm>=48&&Pm<=57||Pm>=65&&Pm<=90||Pm>=97&&Pm<=122||ze===ie.RFC1738&&(Pm===40||Pm===41)){bn[bn.length]=Hi.charAt(gd);continue}if(Pm<128){bn[bn.length]=se[Pm];continue}if(Pm<2048){bn[bn.length]=se[192|Pm>>6]+se[128|Pm&63];continue}if(Pm<55296||Pm>=57344){bn[bn.length]=se[224|Pm>>12]+se[128|Pm>>6&63]+se[128|Pm&63];continue}gd+=1,Pm=65536+((Pm&1023)<<10|Hi.charCodeAt(gd)&1023),bn[bn.length]=se[240|Pm>>18]+se[128|Pm>>12&63]+se[128|Pm>>6&63]+se[128|Pm&63]}ut+=bn.join("")}return ut},fe=function(De){for(var $e=[{obj:{o:De},prop:"o"}],Ge=[],Be=0;Be<$e.length;++Be)for(var ze=$e[Be],$t=ze.obj[ze.prop],ut=Object.keys($t),Ti=0;Ti<ut.length;++Ti){var Hi=ut[Ti],bn=$t[Hi];typeof bn=="object"&&bn!==null&&Ge.indexOf(bn)===-1&&($e.push({obj:$t,prop:Hi}),Ge.push(bn))}return ne($e),De},ye=function(De){return Object.prototype.toString.call(De)==="[object RegExp]"},be=function(De){return!De||typeof De!="object"?!1:!!(De.constructor&&De.constructor.isBuffer&&De.constructor.isBuffer(De))},Pe=function(De,$e){return[].concat(De,$e)},Ne=function(De,$e){if(te(De)){for(var Ge=[],Be=0;Be<De.length;Be+=1)Ge.push($e(De[Be]));return Ge}return $e(De)};return utils={arrayToObject:le,assign:ce,combine:Pe,compact:fe,decode:he,encode:_e,isBuffer:be,isRegExp:ye,maybeMap:Ne,merge:ue},utils}var stringify_1,hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify_1;hasRequiredStringify=1;var ie=requireSideChannel(),ee=requireUtils(),te=requireFormats(),se=Object.prototype.hasOwnProperty,ne={brackets:function(we){return we+"[]"},comma:"comma",indices:function(we,De){return we+"["+De+"]"},repeat:function(we){return we}},le=Array.isArray,ue=Array.prototype.push,ce=function(Ne,we){ue.apply(Ne,le(we)?we:[we])},he=Date.prototype.toISOString,de=te.default,_e={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ee.encode,encodeValuesOnly:!1,filter:void 0,format:de,formatter:te.formatters[de],indices:!1,serializeDate:function(we){return he.call(we)},skipNulls:!1,strictNullHandling:!1},fe=function(we){return typeof we=="string"||typeof we=="number"||typeof we=="boolean"||typeof we=="symbol"||typeof we=="bigint"},ye={},be=function Ne(we,De,$e,Ge,Be,ze,$t,ut,Ti,Hi,bn,gd,Pm,oE,aE,nE,On,nh){for(var Hn=we,Xp=nh,Jp=0,md=!1;(Xp=Xp.get(ye))!==void 0&&!md;){var eE=Xp.get(we);if(Jp+=1,typeof eE<"u"){if(eE===Jp)throw new RangeError("Cyclic object value");md=!0}typeof Xp.get(ye)>"u"&&(Jp=0)}if(typeof Hi=="function"?Hn=Hi(De,Hn):Hn instanceof Date?Hn=Pm(Hn):$e==="comma"&&le(Hn)&&(Hn=ee.maybeMap(Hn,function(HE){return HE instanceof Date?Pm(HE):HE})),Hn===null){if(ze)return Ti&&!nE?Ti(De,_e.encoder,On,"key",oE):De;Hn=""}if(fe(Hn)||ee.isBuffer(Hn)){if(Ti){var hE=nE?De:Ti(De,_e.encoder,On,"key",oE);return[aE(hE)+"="+aE(Ti(Hn,_e.encoder,On,"value",oE))]}return[aE(De)+"="+aE(String(Hn))]}var mE=[];if(typeof Hn>"u")return mE;var fE;if($e==="comma"&&le(Hn))nE&&Ti&&(Hn=ee.maybeMap(Hn,Ti)),fE=[{value:Hn.length>0?Hn.join(",")||null:void 0}];else if(le(Hi))fE=Hi;else{var yE=Object.keys(Hn);fE=bn?yE.sort(bn):yE}var AE=ut?String(De).replace(/\./g,"%2E"):String(De),bE=Ge&&le(Hn)&&Hn.length===1?AE+"[]":AE;if(Be&&le(Hn)&&Hn.length===0)return bE+"[]";for(var ME=0;ME<fE.length;++ME){var SE=fE[ME],jE=typeof SE=="object"&&SE&&typeof SE.value<"u"?SE.value:Hn[SE];if(!($t&&jE===null)){var $E=gd&&ut?String(SE).replace(/\./g,"%2E"):String(SE),zE=le(Hn)?typeof $e=="function"?$e(bE,$E):bE:bE+(gd?"."+$E:"["+$E+"]");nh.set(we,Jp);var YE=ie();YE.set(ye,nh),ce(mE,Ne(jE,zE,$e,Ge,Be,ze,$t,ut,$e==="comma"&&nE&&le(Hn)?null:Ti,Hi,bn,gd,Pm,oE,aE,nE,On,YE))}}return mE},Pe=function(we){if(!we)return _e;if(typeof we.allowEmptyArrays<"u"&&typeof we.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof we.encodeDotInKeys<"u"&&typeof we.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(we.encoder!==null&&typeof we.encoder<"u"&&typeof we.encoder!="function")throw new TypeError("Encoder has to be a function.");var De=we.charset||_e.charset;if(typeof we.charset<"u"&&we.charset!=="utf-8"&&we.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var $e=te.default;if(typeof we.format<"u"){if(!se.call(te.formatters,we.format))throw new TypeError("Unknown format option provided.");$e=we.format}var Ge=te.formatters[$e],Be=_e.filter;(typeof we.filter=="function"||le(we.filter))&&(Be=we.filter);var ze;if(we.arrayFormat in ne?ze=we.arrayFormat:"indices"in we?ze=we.indices?"indices":"repeat":ze=_e.arrayFormat,"commaRoundTrip"in we&&typeof we.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var $t=typeof we.allowDots>"u"?we.encodeDotInKeys===!0?!0:_e.allowDots:!!we.allowDots;return{addQueryPrefix:typeof we.addQueryPrefix=="boolean"?we.addQueryPrefix:_e.addQueryPrefix,allowDots:$t,allowEmptyArrays:typeof we.allowEmptyArrays=="boolean"?!!we.allowEmptyArrays:_e.allowEmptyArrays,arrayFormat:ze,charset:De,charsetSentinel:typeof we.charsetSentinel=="boolean"?we.charsetSentinel:_e.charsetSentinel,commaRoundTrip:!!we.commaRoundTrip,delimiter:typeof we.delimiter>"u"?_e.delimiter:we.delimiter,encode:typeof we.encode=="boolean"?we.encode:_e.encode,encodeDotInKeys:typeof we.encodeDotInKeys=="boolean"?we.encodeDotInKeys:_e.encodeDotInKeys,encoder:typeof we.encoder=="function"?we.encoder:_e.encoder,encodeValuesOnly:typeof we.encodeValuesOnly=="boolean"?we.encodeValuesOnly:_e.encodeValuesOnly,filter:Be,format:$e,formatter:Ge,serializeDate:typeof we.serializeDate=="function"?we.serializeDate:_e.serializeDate,skipNulls:typeof we.skipNulls=="boolean"?we.skipNulls:_e.skipNulls,sort:typeof we.sort=="function"?we.sort:null,strictNullHandling:typeof we.strictNullHandling=="boolean"?we.strictNullHandling:_e.strictNullHandling}};return stringify_1=function(Ne,we){var De=Ne,$e=Pe(we),Ge,Be;typeof $e.filter=="function"?(Be=$e.filter,De=Be("",De)):le($e.filter)&&(Be=$e.filter,Ge=Be);var ze=[];if(typeof De!="object"||De===null)return"";var $t=ne[$e.arrayFormat],ut=$t==="comma"&&$e.commaRoundTrip;Ge||(Ge=Object.keys(De)),$e.sort&&Ge.sort($e.sort);for(var Ti=ie(),Hi=0;Hi<Ge.length;++Hi){var bn=Ge[Hi],gd=De[bn];$e.skipNulls&&gd===null||ce(ze,be(gd,bn,$t,ut,$e.allowEmptyArrays,$e.strictNullHandling,$e.skipNulls,$e.encodeDotInKeys,$e.encode?$e.encoder:null,$e.filter,$e.sort,$e.allowDots,$e.serializeDate,$e.format,$e.formatter,$e.encodeValuesOnly,$e.charset,Ti))}var Pm=ze.join($e.delimiter),oE=$e.addQueryPrefix===!0?"?":"";return $e.charsetSentinel&&($e.charset==="iso-8859-1"?oE+="utf8=%26%2310003%3B&":oE+="utf8=%E2%9C%93&"),Pm.length>0?oE+Pm:""},stringify_1}var parse$1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse$1;hasRequiredParse=1;var ie=requireUtils(),ee=Object.prototype.hasOwnProperty,te=Array.isArray,se={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ie.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},ne=function(ye){return ye.replace(/&#(\d+);/g,function(be,Pe){return String.fromCharCode(parseInt(Pe,10))})},le=function(ye,be,Pe){if(ye&&typeof ye=="string"&&be.comma&&ye.indexOf(",")>-1)return ye.split(",");if(be.throwOnLimitExceeded&&Pe>=be.arrayLimit)throw new RangeError("Array limit exceeded. Only "+be.arrayLimit+" element"+(be.arrayLimit===1?"":"s")+" allowed in an array.");return ye},ue="utf8=%26%2310003%3B",ce="utf8=%E2%9C%93",he=function(be,Pe){var Ne={__proto__:null},we=Pe.ignoreQueryPrefix?be.replace(/^\?/,""):be;we=we.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var De=Pe.parameterLimit===1/0?void 0:Pe.parameterLimit,$e=we.split(Pe.delimiter,Pe.throwOnLimitExceeded?De+1:De);if(Pe.throwOnLimitExceeded&&$e.length>De)throw new RangeError("Parameter limit exceeded. Only "+De+" parameter"+(De===1?"":"s")+" allowed.");var Ge=-1,Be,ze=Pe.charset;if(Pe.charsetSentinel)for(Be=0;Be<$e.length;++Be)$e[Be].indexOf("utf8=")===0&&($e[Be]===ce?ze="utf-8":$e[Be]===ue&&(ze="iso-8859-1"),Ge=Be,Be=$e.length);for(Be=0;Be<$e.length;++Be)if(Be!==Ge){var $t=$e[Be],ut=$t.indexOf("]="),Ti=ut===-1?$t.indexOf("="):ut+1,Hi,bn;Ti===-1?(Hi=Pe.decoder($t,se.decoder,ze,"key"),bn=Pe.strictNullHandling?null:""):(Hi=Pe.decoder($t.slice(0,Ti),se.decoder,ze,"key"),bn=ie.maybeMap(le($t.slice(Ti+1),Pe,te(Ne[Hi])?Ne[Hi].length:0),function(Pm){return Pe.decoder(Pm,se.decoder,ze,"value")})),bn&&Pe.interpretNumericEntities&&ze==="iso-8859-1"&&(bn=ne(String(bn))),$t.indexOf("[]=")>-1&&(bn=te(bn)?[bn]:bn);var gd=ee.call(Ne,Hi);gd&&Pe.duplicates==="combine"?Ne[Hi]=ie.combine(Ne[Hi],bn):(!gd||Pe.duplicates==="last")&&(Ne[Hi]=bn)}return Ne},de=function(ye,be,Pe,Ne){var we=0;if(ye.length>0&&ye[ye.length-1]==="[]"){var De=ye.slice(0,-1).join("");we=Array.isArray(be)&&be[De]?be[De].length:0}for(var $e=Ne?be:le(be,Pe,we),Ge=ye.length-1;Ge>=0;--Ge){var Be,ze=ye[Ge];if(ze==="[]"&&Pe.parseArrays)Be=Pe.allowEmptyArrays&&($e===""||Pe.strictNullHandling&&$e===null)?[]:ie.combine([],$e);else{Be=Pe.plainObjects?{__proto__:null}:{};var $t=ze.charAt(0)==="["&&ze.charAt(ze.length-1)==="]"?ze.slice(1,-1):ze,ut=Pe.decodeDotInKeys?$t.replace(/%2E/g,"."):$t,Ti=parseInt(ut,10);!Pe.parseArrays&&ut===""?Be={0:$e}:!isNaN(Ti)&&ze!==ut&&String(Ti)===ut&&Ti>=0&&Pe.parseArrays&&Ti<=Pe.arrayLimit?(Be=[],Be[Ti]=$e):ut!=="__proto__"&&(Be[ut]=$e)}$e=Be}return $e},_e=function(be,Pe,Ne,we){if(be){var De=Ne.allowDots?be.replace(/\.([^.[]+)/g,"[$1]"):be,$e=/(\[[^[\]]*])/,Ge=/(\[[^[\]]*])/g,Be=Ne.depth>0&&$e.exec(De),ze=Be?De.slice(0,Be.index):De,$t=[];if(ze){if(!Ne.plainObjects&&ee.call(Object.prototype,ze)&&!Ne.allowPrototypes)return;$t.push(ze)}for(var ut=0;Ne.depth>0&&(Be=Ge.exec(De))!==null&&ut<Ne.depth;){if(ut+=1,!Ne.plainObjects&&ee.call(Object.prototype,Be[1].slice(1,-1))&&!Ne.allowPrototypes)return;$t.push(Be[1])}if(Be){if(Ne.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+Ne.depth+" and strictDepth is true");$t.push("["+De.slice(Be.index)+"]")}return de($t,Pe,Ne,we)}},fe=function(be){if(!be)return se;if(typeof be.allowEmptyArrays<"u"&&typeof be.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof be.decodeDotInKeys<"u"&&typeof be.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(be.decoder!==null&&typeof be.decoder<"u"&&typeof be.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof be.charset<"u"&&be.charset!=="utf-8"&&be.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof be.throwOnLimitExceeded<"u"&&typeof be.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var Pe=typeof be.charset>"u"?se.charset:be.charset,Ne=typeof be.duplicates>"u"?se.duplicates:be.duplicates;if(Ne!=="combine"&&Ne!=="first"&&Ne!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var we=typeof be.allowDots>"u"?be.decodeDotInKeys===!0?!0:se.allowDots:!!be.allowDots;return{allowDots:we,allowEmptyArrays:typeof be.allowEmptyArrays=="boolean"?!!be.allowEmptyArrays:se.allowEmptyArrays,allowPrototypes:typeof be.allowPrototypes=="boolean"?be.allowPrototypes:se.allowPrototypes,allowSparse:typeof be.allowSparse=="boolean"?be.allowSparse:se.allowSparse,arrayLimit:typeof be.arrayLimit=="number"?be.arrayLimit:se.arrayLimit,charset:Pe,charsetSentinel:typeof be.charsetSentinel=="boolean"?be.charsetSentinel:se.charsetSentinel,comma:typeof be.comma=="boolean"?be.comma:se.comma,decodeDotInKeys:typeof be.decodeDotInKeys=="boolean"?be.decodeDotInKeys:se.decodeDotInKeys,decoder:typeof be.decoder=="function"?be.decoder:se.decoder,delimiter:typeof be.delimiter=="string"||ie.isRegExp(be.delimiter)?be.delimiter:se.delimiter,depth:typeof be.depth=="number"||be.depth===!1?+be.depth:se.depth,duplicates:Ne,ignoreQueryPrefix:be.ignoreQueryPrefix===!0,interpretNumericEntities:typeof be.interpretNumericEntities=="boolean"?be.interpretNumericEntities:se.interpretNumericEntities,parameterLimit:typeof be.parameterLimit=="number"?be.parameterLimit:se.parameterLimit,parseArrays:be.parseArrays!==!1,plainObjects:typeof be.plainObjects=="boolean"?be.plainObjects:se.plainObjects,strictDepth:typeof be.strictDepth=="boolean"?!!be.strictDepth:se.strictDepth,strictNullHandling:typeof be.strictNullHandling=="boolean"?be.strictNullHandling:se.strictNullHandling,throwOnLimitExceeded:typeof be.throwOnLimitExceeded=="boolean"?be.throwOnLimitExceeded:!1}};return parse$1=function(ye,be){var Pe=fe(be);if(ye===""||ye===null||typeof ye>"u")return Pe.plainObjects?{__proto__:null}:{};for(var Ne=typeof ye=="string"?he(ye,Pe):ye,we=Pe.plainObjects?{__proto__:null}:{},De=Object.keys(Ne),$e=0;$e<De.length;++$e){var Ge=De[$e],Be=_e(Ge,Ne[Ge],Pe,typeof ye=="string");we=ie.merge(we,Be,Pe)}return Pe.allowSparse===!0?we:ie.compact(we)},parse$1}var lib$3,hasRequiredLib$3;function requireLib$3(){if(hasRequiredLib$3)return lib$3;hasRequiredLib$3=1;var ie=requireStringify(),ee=requireParse(),te=requireFormats();return lib$3={formats:te,parse:ee,stringify:ie},lib$3}var hasRequiredUrl;function requireUrl(){if(hasRequiredUrl)return url$1;hasRequiredUrl=1;var ie=requirePunycode();function ee(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var te=/^([a-z0-9.+-]+:)/i,se=/:[0-9]*$/,ne=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,le=["<",">",'"',"`"," ","\r",`
`,"	"],ue=["{","}","|","\\","^","`"].concat(le),ce=["'"].concat(ue),he=["%","/","?",";","#"].concat(ce),de=["/","?","#"],_e=255,fe=/^[+a-z0-9A-Z_-]{0,63}$/,ye=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,be={javascript:!0,"javascript:":!0},Pe={javascript:!0,"javascript:":!0},Ne={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},we=requireLib$3();function De(ze,$t,ut){if(ze&&typeof ze=="object"&&ze instanceof ee)return ze;var Ti=new ee;return Ti.parse(ze,$t,ut),Ti}ee.prototype.parse=function(ze,$t,ut){if(typeof ze!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof ze);var Ti=ze.indexOf("?"),Hi=Ti!==-1&&Ti<ze.indexOf("#")?"?":"#",bn=ze.split(Hi),gd=/\\/g;bn[0]=bn[0].replace(gd,"/"),ze=bn.join(Hi);var Pm=ze;if(Pm=Pm.trim(),!ut&&ze.split("#").length===1){var oE=ne.exec(Pm);if(oE)return this.path=Pm,this.href=Pm,this.pathname=oE[1],oE[2]?(this.search=oE[2],$t?this.query=we.parse(this.search.substr(1)):this.query=this.search.substr(1)):$t&&(this.search="",this.query={}),this}var aE=te.exec(Pm);if(aE){aE=aE[0];var nE=aE.toLowerCase();this.protocol=nE,Pm=Pm.substr(aE.length)}if(ut||aE||Pm.match(/^\/\/[^@/]+@[^@/]+/)){var On=Pm.substr(0,2)==="//";On&&!(aE&&Pe[aE])&&(Pm=Pm.substr(2),this.slashes=!0)}if(!Pe[aE]&&(On||aE&&!Ne[aE])){for(var nh=-1,Hn=0;Hn<de.length;Hn++){var Xp=Pm.indexOf(de[Hn]);Xp!==-1&&(nh===-1||Xp<nh)&&(nh=Xp)}var Jp,md;nh===-1?md=Pm.lastIndexOf("@"):md=Pm.lastIndexOf("@",nh),md!==-1&&(Jp=Pm.slice(0,md),Pm=Pm.slice(md+1),this.auth=decodeURIComponent(Jp)),nh=-1;for(var Hn=0;Hn<he.length;Hn++){var Xp=Pm.indexOf(he[Hn]);Xp!==-1&&(nh===-1||Xp<nh)&&(nh=Xp)}nh===-1&&(nh=Pm.length),this.host=Pm.slice(0,nh),Pm=Pm.slice(nh),this.parseHost(),this.hostname=this.hostname||"";var eE=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!eE)for(var hE=this.hostname.split(/\./),Hn=0,mE=hE.length;Hn<mE;Hn++){var fE=hE[Hn];if(fE&&!fE.match(fe)){for(var yE="",AE=0,bE=fE.length;AE<bE;AE++)fE.charCodeAt(AE)>127?yE+="x":yE+=fE[AE];if(!yE.match(fe)){var ME=hE.slice(0,Hn),SE=hE.slice(Hn+1),jE=fE.match(ye);jE&&(ME.push(jE[1]),SE.unshift(jE[2])),SE.length&&(Pm="/"+SE.join(".")+Pm),this.hostname=ME.join(".");break}}}this.hostname.length>_e?this.hostname="":this.hostname=this.hostname.toLowerCase(),eE||(this.hostname=ie.toASCII(this.hostname));var $E=this.port?":"+this.port:"",zE=this.hostname||"";this.host=zE+$E,this.href+=this.host,eE&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Pm[0]!=="/"&&(Pm="/"+Pm))}if(!be[nE])for(var Hn=0,mE=ce.length;Hn<mE;Hn++){var YE=ce[Hn];if(Pm.indexOf(YE)!==-1){var HE=encodeURIComponent(YE);HE===YE&&(HE=escape(YE)),Pm=Pm.split(YE).join(HE)}}var VE=Pm.indexOf("#");VE!==-1&&(this.hash=Pm.substr(VE),Pm=Pm.slice(0,VE));var TE=Pm.indexOf("?");if(TE!==-1?(this.search=Pm.substr(TE),this.query=Pm.substr(TE+1),$t&&(this.query=we.parse(this.query)),Pm=Pm.slice(0,TE)):$t&&(this.search="",this.query={}),Pm&&(this.pathname=Pm),Ne[nE]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $E=this.pathname||"",xE=this.search||"";this.path=$E+xE}return this.href=this.format(),this};function $e(ze){return typeof ze=="string"&&(ze=De(ze)),ze instanceof ee?ze.format():ee.prototype.format.call(ze)}ee.prototype.format=function(){var ze=this.auth||"";ze&&(ze=encodeURIComponent(ze),ze=ze.replace(/%3A/i,":"),ze+="@");var $t=this.protocol||"",ut=this.pathname||"",Ti=this.hash||"",Hi=!1,bn="";this.host?Hi=ze+this.host:this.hostname&&(Hi=ze+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Hi+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(bn=we.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var gd=this.search||bn&&"?"+bn||"";return $t&&$t.substr(-1)!==":"&&($t+=":"),this.slashes||(!$t||Ne[$t])&&Hi!==!1?(Hi="//"+(Hi||""),ut&&ut.charAt(0)!=="/"&&(ut="/"+ut)):Hi||(Hi=""),Ti&&Ti.charAt(0)!=="#"&&(Ti="#"+Ti),gd&&gd.charAt(0)!=="?"&&(gd="?"+gd),ut=ut.replace(/[?#]/g,function(Pm){return encodeURIComponent(Pm)}),gd=gd.replace("#","%23"),$t+Hi+ut+gd+Ti};function Ge(ze,$t){return De(ze,!1,!0).resolve($t)}ee.prototype.resolve=function(ze){return this.resolveObject(De(ze,!1,!0)).format()};function Be(ze,$t){return ze?De(ze,!1,!0).resolveObject($t):$t}return ee.prototype.resolveObject=function(ze){if(typeof ze=="string"){var $t=new ee;$t.parse(ze,!1,!0),ze=$t}for(var ut=new ee,Ti=Object.keys(this),Hi=0;Hi<Ti.length;Hi++){var bn=Ti[Hi];ut[bn]=this[bn]}if(ut.hash=ze.hash,ze.href==="")return ut.href=ut.format(),ut;if(ze.slashes&&!ze.protocol){for(var gd=Object.keys(ze),Pm=0;Pm<gd.length;Pm++){var oE=gd[Pm];oE!=="protocol"&&(ut[oE]=ze[oE])}return Ne[ut.protocol]&&ut.hostname&&!ut.pathname&&(ut.pathname="/",ut.path=ut.pathname),ut.href=ut.format(),ut}if(ze.protocol&&ze.protocol!==ut.protocol){if(!Ne[ze.protocol]){for(var aE=Object.keys(ze),nE=0;nE<aE.length;nE++){var On=aE[nE];ut[On]=ze[On]}return ut.href=ut.format(),ut}if(ut.protocol=ze.protocol,!ze.host&&!Pe[ze.protocol]){for(var mE=(ze.pathname||"").split("/");mE.length&&!(ze.host=mE.shift()););ze.host||(ze.host=""),ze.hostname||(ze.hostname=""),mE[0]!==""&&mE.unshift(""),mE.length<2&&mE.unshift(""),ut.pathname=mE.join("/")}else ut.pathname=ze.pathname;if(ut.search=ze.search,ut.query=ze.query,ut.host=ze.host||"",ut.auth=ze.auth,ut.hostname=ze.hostname||ze.host,ut.port=ze.port,ut.pathname||ut.search){var nh=ut.pathname||"",Hn=ut.search||"";ut.path=nh+Hn}return ut.slashes=ut.slashes||ze.slashes,ut.href=ut.format(),ut}var Xp=ut.pathname&&ut.pathname.charAt(0)==="/",Jp=ze.host||ze.pathname&&ze.pathname.charAt(0)==="/",md=Jp||Xp||ut.host&&ze.pathname,eE=md,hE=ut.pathname&&ut.pathname.split("/")||[],mE=ze.pathname&&ze.pathname.split("/")||[],fE=ut.protocol&&!Ne[ut.protocol];if(fE&&(ut.hostname="",ut.port=null,ut.host&&(hE[0]===""?hE[0]=ut.host:hE.unshift(ut.host)),ut.host="",ze.protocol&&(ze.hostname=null,ze.port=null,ze.host&&(mE[0]===""?mE[0]=ze.host:mE.unshift(ze.host)),ze.host=null),md=md&&(mE[0]===""||hE[0]==="")),Jp)ut.host=ze.host||ze.host===""?ze.host:ut.host,ut.hostname=ze.hostname||ze.hostname===""?ze.hostname:ut.hostname,ut.search=ze.search,ut.query=ze.query,hE=mE;else if(mE.length)hE||(hE=[]),hE.pop(),hE=hE.concat(mE),ut.search=ze.search,ut.query=ze.query;else if(ze.search!=null){if(fE){ut.host=hE.shift(),ut.hostname=ut.host;var yE=ut.host&&ut.host.indexOf("@")>0?ut.host.split("@"):!1;yE&&(ut.auth=yE.shift(),ut.hostname=yE.shift(),ut.host=ut.hostname)}return ut.search=ze.search,ut.query=ze.query,(ut.pathname!==null||ut.search!==null)&&(ut.path=(ut.pathname?ut.pathname:"")+(ut.search?ut.search:"")),ut.href=ut.format(),ut}if(!hE.length)return ut.pathname=null,ut.search?ut.path="/"+ut.search:ut.path=null,ut.href=ut.format(),ut;for(var AE=hE.slice(-1)[0],bE=(ut.host||ze.host||hE.length>1)&&(AE==="."||AE==="..")||AE==="",ME=0,SE=hE.length;SE>=0;SE--)AE=hE[SE],AE==="."?hE.splice(SE,1):AE===".."?(hE.splice(SE,1),ME++):ME&&(hE.splice(SE,1),ME--);if(!md&&!eE)for(;ME--;ME)hE.unshift("..");md&&hE[0]!==""&&(!hE[0]||hE[0].charAt(0)!=="/")&&hE.unshift(""),bE&&hE.join("/").substr(-1)!=="/"&&hE.push("");var jE=hE[0]===""||hE[0]&&hE[0].charAt(0)==="/";if(fE){ut.hostname=jE?"":hE.length?hE.shift():"",ut.host=ut.hostname;var yE=ut.host&&ut.host.indexOf("@")>0?ut.host.split("@"):!1;yE&&(ut.auth=yE.shift(),ut.hostname=yE.shift(),ut.host=ut.hostname)}return md=md||ut.host&&hE.length,md&&!jE&&hE.unshift(""),hE.length>0?ut.pathname=hE.join("/"):(ut.pathname=null,ut.path=null),(ut.pathname!==null||ut.search!==null)&&(ut.path=(ut.pathname?ut.pathname:"")+(ut.search?ut.search:"")),ut.auth=ze.auth||ut.auth,ut.slashes=ut.slashes||ze.slashes,ut.href=ut.format(),ut},ee.prototype.parseHost=function(){var ze=this.host,$t=se.exec(ze);$t&&($t=$t[0],$t!==":"&&(this.port=$t.substr(1)),ze=ze.substr(0,ze.length-$t.length)),ze&&(this.hostname=ze)},url$1.parse=De,url$1.resolve=Ge,url$1.resolveObject=Be,url$1.format=$e,url$1.Url=ee,url$1}var urlExports=requireUrl();/*!
 * @pixi/utils - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var url={parse:urlExports.parse,format:urlExports.format,resolve:urlExports.resolve};settings$1.RETINA_PREFIX=/@([0-9\.]+)x/,settings$1.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var saidHello$1=!1,VERSION$1="6.5.10";function sayHello$1(ie){var ee;if(!saidHello$1){if(settings$1.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var te=[`
 %c %c %c PixiJS `+VERSION$1+" - ✰ "+ie+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(ee=globalThis.console).log.apply(ee,te)}else globalThis.console&&globalThis.console.log("PixiJS "+VERSION$1+" - "+ie+" - http://www.pixijs.com/");saidHello$1=!0}}var supported;function isWebGLSupported$1(){return typeof supported>"u"&&(supported=function(){var ee={stencil:!0,failIfMajorPerformanceCaveat:settings$1.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!settings$1.ADAPTER.getWebGLRenderingContext())return!1;var te=settings$1.ADAPTER.createCanvas(),se=te.getContext("webgl",ee)||te.getContext("experimental-webgl",ee),ne=!!(se&&se.getContextAttributes().stencil);if(se){var le=se.getExtension("WEBGL_lose_context");le&&le.loseContext()}return se=null,ne}catch{return!1}}()),supported}var aliceblue="#f0f8ff",antiquewhite="#faebd7",aqua="#00ffff",aquamarine="#7fffd4",azure="#f0ffff",beige="#f5f5dc",bisque="#ffe4c4",black$1="#000000",blanchedalmond="#ffebcd",blue$1="#0000ff",blueviolet="#8a2be2",brown="#a52a2a",burlywood="#deb887",cadetblue="#5f9ea0",chartreuse="#7fff00",chocolate="#d2691e",coral="#ff7f50",cornflowerblue="#6495ed",cornsilk="#fff8dc",crimson="#dc143c",cyan$1="#00ffff",darkblue="#00008b",darkcyan="#008b8b",darkgoldenrod="#b8860b",darkgray="#a9a9a9",darkgreen="#006400",darkgrey="#a9a9a9",darkkhaki="#bdb76b",darkmagenta="#8b008b",darkolivegreen="#556b2f",darkorange="#ff8c00",darkorchid="#9932cc",darkred="#8b0000",darksalmon="#e9967a",darkseagreen="#8fbc8f",darkslateblue="#483d8b",darkslategray="#2f4f4f",darkslategrey="#2f4f4f",darkturquoise="#00ced1",darkviolet="#9400d3",deeppink="#ff1493",deepskyblue="#00bfff",dimgray="#696969",dimgrey="#696969",dodgerblue="#1e90ff",firebrick="#b22222",floralwhite="#fffaf0",forestgreen="#228b22",fuchsia="#ff00ff",gainsboro="#dcdcdc",ghostwhite="#f8f8ff",goldenrod="#daa520",gold="#ffd700",gray$1="#808080",green$1="#008000",greenyellow="#adff2f",grey$1="#808080",honeydew="#f0fff0",hotpink="#ff69b4",indianred="#cd5c5c",indigo="#4b0082",ivory="#fffff0",khaki="#f0e68c",lavenderblush="#fff0f5",lavender="#e6e6fa",lawngreen="#7cfc00",lemonchiffon="#fffacd",lightblue="#add8e6",lightcoral="#f08080",lightcyan="#e0ffff",lightgoldenrodyellow="#fafad2",lightgray="#d3d3d3",lightgreen="#90ee90",lightgrey="#d3d3d3",lightpink="#ffb6c1",lightsalmon="#ffa07a",lightseagreen="#20b2aa",lightskyblue="#87cefa",lightslategray="#778899",lightslategrey="#778899",lightsteelblue="#b0c4de",lightyellow="#ffffe0",lime="#00ff00",limegreen="#32cd32",linen="#faf0e6",magenta$1="#ff00ff",maroon="#800000",mediumaquamarine="#66cdaa",mediumblue="#0000cd",mediumorchid="#ba55d3",mediumpurple="#9370db",mediumseagreen="#3cb371",mediumslateblue="#7b68ee",mediumspringgreen="#00fa9a",mediumturquoise="#48d1cc",mediumvioletred="#c71585",midnightblue="#191970",mintcream="#f5fffa",mistyrose="#ffe4e1",moccasin="#ffe4b5",navajowhite="#ffdead",navy="#000080",oldlace="#fdf5e6",olive="#808000",olivedrab="#6b8e23",orange="#ffa500",orangered="#ff4500",orchid="#da70d6",palegoldenrod="#eee8aa",palegreen="#98fb98",paleturquoise="#afeeee",palevioletred="#db7093",papayawhip="#ffefd5",peachpuff="#ffdab9",peru="#cd853f",pink="#ffc0cb",plum="#dda0dd",powderblue="#b0e0e6",purple="#800080",rebeccapurple="#663399",red$1="#ff0000",rosybrown="#bc8f8f",royalblue="#4169e1",saddlebrown="#8b4513",salmon="#fa8072",sandybrown="#f4a460",seagreen="#2e8b57",seashell="#fff5ee",sienna="#a0522d",silver="#c0c0c0",skyblue="#87ceeb",slateblue="#6a5acd",slategray="#708090",slategrey="#708090",snow="#fffafa",springgreen="#00ff7f",steelblue="#4682b4",tan="#d2b48c",teal="#008080",thistle="#d8bfd8",tomato="#ff6347",turquoise="#40e0d0",violet="#ee82ee",wheat="#f5deb3",white$1="#ffffff",whitesmoke="#f5f5f5",yellow$1="#ffff00",yellowgreen="#9acd32",cssColorNames={aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black:black$1,blanchedalmond,blue:blue$1,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan:cyan$1,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,goldenrod,gold,gray:gray$1,green:green$1,greenyellow,grey:grey$1,honeydew,hotpink,indianred,indigo,ivory,khaki,lavenderblush,lavender,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta:magenta$1,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red:red$1,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white:white$1,whitesmoke,yellow:yellow$1,yellowgreen};function hex2rgb(ie,ee){return ee===void 0&&(ee=[]),ee[0]=(ie>>16&255)/255,ee[1]=(ie>>8&255)/255,ee[2]=(ie&255)/255,ee}function hex2string(ie){var ee=ie.toString(16);return ee="000000".substring(0,6-ee.length)+ee,"#"+ee}function string2hex(ie){return typeof ie=="string"&&(ie=cssColorNames[ie.toLowerCase()]||ie,ie[0]==="#"&&(ie=ie.slice(1))),parseInt(ie,16)}function mapPremultipliedBlendModes(){for(var ie=[],ee=[],te=0;te<32;te++)ie[te]=te,ee[te]=te;ie[BLEND_MODES.NORMAL_NPM]=BLEND_MODES.NORMAL,ie[BLEND_MODES.ADD_NPM]=BLEND_MODES.ADD,ie[BLEND_MODES.SCREEN_NPM]=BLEND_MODES.SCREEN,ee[BLEND_MODES.NORMAL]=BLEND_MODES.NORMAL_NPM,ee[BLEND_MODES.ADD]=BLEND_MODES.ADD_NPM,ee[BLEND_MODES.SCREEN]=BLEND_MODES.SCREEN_NPM;var se=[];return se.push(ee),se.push(ie),se}var premultiplyBlendMode=mapPremultipliedBlendModes();function correctBlendMode(ie,ee){return premultiplyBlendMode[ee?1:0][ie]}function premultiplyTint(ie,ee){if(ee===1)return(ee*255<<24)+ie;if(ee===0)return 0;var te=ie>>16&255,se=ie>>8&255,ne=ie&255;return te=te*ee+.5|0,se=se*ee+.5|0,ne=ne*ee+.5|0,(ee*255<<24)+(te<<16)+(se<<8)+ne}function premultiplyTintToRgba(ie,ee,te,se){return te=te||new Float32Array(4),te[0]=(ie>>16&255)/255,te[1]=(ie>>8&255)/255,te[2]=(ie&255)/255,(se||se===void 0)&&(te[0]*=ee,te[1]*=ee,te[2]*=ee),te[3]=ee,te}function createIndicesForQuads(ie,ee){ee===void 0&&(ee=null);var te=ie*6;if(ee=ee||new Uint16Array(te),ee.length!==te)throw new Error("Out buffer length is incorrect, got "+ee.length+" and expected "+te);for(var se=0,ne=0;se<te;se+=6,ne+=4)ee[se+0]=ne+0,ee[se+1]=ne+1,ee[se+2]=ne+2,ee[se+3]=ne+0,ee[se+4]=ne+2,ee[se+5]=ne+3;return ee}function getBufferType(ie){if(ie.BYTES_PER_ELEMENT===4)return ie instanceof Float32Array?"Float32Array":ie instanceof Uint32Array?"Uint32Array":"Int32Array";if(ie.BYTES_PER_ELEMENT===2){if(ie instanceof Uint16Array)return"Uint16Array"}else if(ie.BYTES_PER_ELEMENT===1&&ie instanceof Uint8Array)return"Uint8Array";return null}function nextPow2$1(ie){return ie+=ie===0?1:0,--ie,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie+1}function isPow2$1(ie){return!(ie&ie-1)&&!!ie}function log2(ie){var ee=(ie>65535?1:0)<<4;ie>>>=ee;var te=(ie>255?1:0)<<3;return ie>>>=te,ee|=te,te=(ie>15?1:0)<<2,ie>>>=te,ee|=te,te=(ie>3?1:0)<<1,ie>>>=te,ee|=te,ee|ie>>1}function removeItems$1(ie,ee,te){var se=ie.length,ne;if(!(ee>=se||te===0)){te=ee+te>se?se-ee:te;var le=se-te;for(ne=ee;ne<le;++ne)ie[ne]=ie[ne+te];ie.length=le}}function sign(ie){return ie===0?0:ie<0?-1:1}var nextUid=0;function uid$1(){return++nextUid}var warnings$1={};function deprecation$1(ie,ee,te){if(te===void 0&&(te=3),!warnings$1[ee]){var se=new Error().stack;typeof se>"u"?console.warn("PixiJS Deprecation Warning: ",ee+`
Deprecated since v`+ie):(se=se.split(`
`).splice(te).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",ee+`
Deprecated since v`+ie),console.warn(se),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",ee+`
Deprecated since v`+ie),console.warn(se))),warnings$1[ee]=!0}}var ProgramCache={},TextureCache=Object.create(null),BaseTextureCache=Object.create(null),CanvasRenderTarget=function(){function ie(ee,te,se){this.canvas=settings$1.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=se||settings$1.RESOLUTION,this.resize(ee,te)}return ie.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},ie.prototype.resize=function(ee,te){this.canvas.width=Math.round(ee*this.resolution),this.canvas.height=Math.round(te*this.resolution)},ie.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(ie.prototype,"width",{get:function(){return this.canvas.width},set:function(ee){this.canvas.width=Math.round(ee)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"height",{get:function(){return this.canvas.height},set:function(ee){this.canvas.height=Math.round(ee)},enumerable:!1,configurable:!0}),ie}();function trimCanvas(ie){var ee=ie.width,te=ie.height,se=ie.getContext("2d",{willReadFrequently:!0}),ne=se.getImageData(0,0,ee,te),le=ne.data,ue=le.length,ce={top:null,left:null,right:null,bottom:null},he=null,de,_e,fe;for(de=0;de<ue;de+=4)le[de+3]!==0&&(_e=de/4%ee,fe=~~(de/4/ee),ce.top===null&&(ce.top=fe),(ce.left===null||_e<ce.left)&&(ce.left=_e),(ce.right===null||ce.right<_e)&&(ce.right=_e+1),(ce.bottom===null||ce.bottom<fe)&&(ce.bottom=fe));return ce.top!==null&&(ee=ce.right-ce.left,te=ce.bottom-ce.top+1,he=se.getImageData(ce.left,ce.top,ee,te)),{height:te,width:ee,data:he}}var tempAnchor$1;function determineCrossOrigin(ie,ee){if(ee===void 0&&(ee=globalThis.location),ie.indexOf("data:")===0)return"";ee=ee||globalThis.location,tempAnchor$1||(tempAnchor$1=document.createElement("a")),tempAnchor$1.href=ie;var te=url.parse(tempAnchor$1.href),se=!te.port&&ee.port===""||te.port===ee.port;return te.hostname!==ee.hostname||!se||te.protocol!==ee.protocol?"anonymous":""}function getResolutionOfUrl(ie,ee){var te=settings$1.RETINA_PREFIX.exec(ie);return te?parseFloat(te[1]):ee!==void 0?ee:1}/*!
 * @pixi/extensions - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var __assign$1=function(){return __assign$1=Object.assign||function(ee){for(var te=arguments,se,ne=1,le=arguments.length;ne<le;ne++){se=te[ne];for(var ue in se)Object.prototype.hasOwnProperty.call(se,ue)&&(ee[ue]=se[ue])}return ee},__assign$1.apply(this,arguments)},ExtensionType$1;(function(ie){ie.Application="application",ie.RendererPlugin="renderer-webgl-plugin",ie.CanvasRendererPlugin="renderer-canvas-plugin",ie.Loader="loader",ie.LoadParser="load-parser",ie.ResolveParser="resolve-parser",ie.CacheParser="cache-parser",ie.DetectionParser="detection-parser"})(ExtensionType$1||(ExtensionType$1={}));var normalizeExtension$1=function(ie){if(typeof ie=="function"||typeof ie=="object"&&ie.extension){if(!ie.extension)throw new Error("Extension class must have an extension object");var ee=typeof ie.extension!="object"?{type:ie.extension}:ie.extension;ie=__assign$1(__assign$1({},ee),{ref:ie})}if(typeof ie=="object")ie=__assign$1({},ie);else throw new Error("Invalid extension type");return typeof ie.type=="string"&&(ie.type=[ie.type]),ie},extensions$1={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var ie=arguments,ee=this,te=[],se=0;se<arguments.length;se++)te[se]=ie[se];return te.map(normalizeExtension$1).forEach(function(ne){ne.type.forEach(function(le){var ue,ce;return(ce=(ue=ee._removeHandlers)[le])===null||ce===void 0?void 0:ce.call(ue,ne)})}),this},add:function(){for(var ie=arguments,ee=this,te=[],se=0;se<arguments.length;se++)te[se]=ie[se];return te.map(normalizeExtension$1).forEach(function(ne){ne.type.forEach(function(le){var ue=ee._addHandlers,ce=ee._queue;ue[le]?ue[le](ne):(ce[le]=ce[le]||[],ce[le].push(ne))})}),this},handle:function(ie,ee,te){var se=this._addHandlers=this._addHandlers||{},ne=this._removeHandlers=this._removeHandlers||{};if(se[ie]||ne[ie])throw new Error("Extension type "+ie+" already has a handler");se[ie]=ee,ne[ie]=te;var le=this._queue;return le[ie]&&(le[ie].forEach(function(ue){return ee(ue)}),delete le[ie]),this},handleByMap:function(ie,ee){return this.handle(ie,function(te){ee[te.name]=te.ref},function(te){delete ee[te.name]})},handleByList:function(ie,ee){return this.handle(ie,function(te){var se,ne;ee.includes(te.ref)||(ee.push(te.ref),ie===ExtensionType$1.Loader&&((ne=(se=te.ref).add)===null||ne===void 0||ne.call(se)))},function(te){var se=ee.indexOf(te.ref);se!==-1&&ee.splice(se,1)})}};/*!
 * @pixi/runner - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Runner=function(){function ie(ee){this.items=[],this._name=ee,this._aliasCount=0}return ie.prototype.emit=function(ee,te,se,ne,le,ue,ce,he){if(arguments.length>8)throw new Error("max arguments reached");var de=this,_e=de.name,fe=de.items;this._aliasCount++;for(var ye=0,be=fe.length;ye<be;ye++)fe[ye][_e](ee,te,se,ne,le,ue,ce,he);return fe===this.items&&this._aliasCount--,this},ie.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},ie.prototype.add=function(ee){return ee[this._name]&&(this.ensureNonAliasedItems(),this.remove(ee),this.items.push(ee)),this},ie.prototype.remove=function(ee){var te=this.items.indexOf(ee);return te!==-1&&(this.ensureNonAliasedItems(),this.items.splice(te,1)),this},ie.prototype.contains=function(ee){return this.items.indexOf(ee)!==-1},ie.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},ie.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(ie.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),ie}();Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}});/*!
 * @pixi/ticker - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.TARGET_FPMS=.06;var UPDATE_PRIORITY$1;(function(ie){ie[ie.INTERACTION=50]="INTERACTION",ie[ie.HIGH=25]="HIGH",ie[ie.NORMAL=0]="NORMAL",ie[ie.LOW=-25]="LOW",ie[ie.UTILITY=-50]="UTILITY"})(UPDATE_PRIORITY$1||(UPDATE_PRIORITY$1={}));var TickerListener$1=function(){function ie(ee,te,se,ne){te===void 0&&(te=null),se===void 0&&(se=0),ne===void 0&&(ne=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=ee,this.context=te,this.priority=se,this.once=ne}return ie.prototype.match=function(ee,te){return te===void 0&&(te=null),this.fn===ee&&this.context===te},ie.prototype.emit=function(ee){this.fn&&(this.context?this.fn.call(this.context,ee):this.fn(ee));var te=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),te},ie.prototype.connect=function(ee){this.previous=ee,ee.next&&(ee.next.previous=this),this.next=ee.next,ee.next=this},ie.prototype.destroy=function(ee){ee===void 0&&(ee=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var te=this.next;return this.next=ee?null:te,this.previous=null,te},ie}(),Ticker$1=function(){function ie(){var ee=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener$1(null,null,1/0),this.deltaMS=1/settings$1.TARGET_FPMS,this.elapsedMS=1/settings$1.TARGET_FPMS,this._tick=function(te){ee._requestId=null,ee.started&&(ee.update(te),ee.started&&ee._requestId===null&&ee._head.next&&(ee._requestId=requestAnimationFrame(ee._tick)))}}return ie.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},ie.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},ie.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},ie.prototype.add=function(ee,te,se){return se===void 0&&(se=UPDATE_PRIORITY$1.NORMAL),this._addListener(new TickerListener$1(ee,te,se))},ie.prototype.addOnce=function(ee,te,se){return se===void 0&&(se=UPDATE_PRIORITY$1.NORMAL),this._addListener(new TickerListener$1(ee,te,se,!0))},ie.prototype._addListener=function(ee){var te=this._head.next,se=this._head;if(!te)ee.connect(se);else{for(;te;){if(ee.priority>te.priority){ee.connect(se);break}se=te,te=te.next}ee.previous||ee.connect(se)}return this._startIfPossible(),this},ie.prototype.remove=function(ee,te){for(var se=this._head.next;se;)se.match(ee,te)?se=se.destroy():se=se.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(ie.prototype,"count",{get:function(){if(!this._head)return 0;for(var ee=0,te=this._head;te=te.next;)ee++;return ee},enumerable:!1,configurable:!0}),ie.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},ie.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},ie.prototype.destroy=function(){if(!this._protected){this.stop();for(var ee=this._head.next;ee;)ee=ee.destroy(!0);this._head.destroy(),this._head=null}},ie.prototype.update=function(ee){ee===void 0&&(ee=performance.now());var te;if(ee>this.lastTime){if(te=this.elapsedMS=ee-this.lastTime,te>this._maxElapsedMS&&(te=this._maxElapsedMS),te*=this.speed,this._minElapsedMS){var se=ee-this._lastFrame|0;if(se<this._minElapsedMS)return;this._lastFrame=ee-se%this._minElapsedMS}this.deltaMS=te,this.deltaTime=this.deltaMS*settings$1.TARGET_FPMS;for(var ne=this._head,le=ne.next;le;)le=le.emit(this.deltaTime);ne.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=ee},Object.defineProperty(ie.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(ee){var te=Math.min(this.maxFPS,ee),se=Math.min(Math.max(0,te)/1e3,settings$1.TARGET_FPMS);this._maxElapsedMS=1/se},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(ee){if(ee===0)this._minElapsedMS=0;else{var te=Math.max(this.minFPS,ee);this._minElapsedMS=1/(te/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(ie,"shared",{get:function(){if(!ie._shared){var ee=ie._shared=new ie;ee.autoStart=!0,ee._protected=!0}return ie._shared},enumerable:!1,configurable:!0}),Object.defineProperty(ie,"system",{get:function(){if(!ie._system){var ee=ie._system=new ie;ee.autoStart=!0,ee._protected=!0}return ie._system},enumerable:!1,configurable:!0}),ie}(),TickerPlugin$1=function(){function ie(){}return ie.init=function(ee){var te=this;ee=Object.assign({autoStart:!0,sharedTicker:!1},ee),Object.defineProperty(this,"ticker",{set:function(se){this._ticker&&this._ticker.remove(this.render,this),this._ticker=se,se&&se.add(this.render,this,UPDATE_PRIORITY$1.LOW)},get:function(){return this._ticker}}),this.stop=function(){te._ticker.stop()},this.start=function(){te._ticker.start()},this._ticker=null,this.ticker=ee.sharedTicker?Ticker$1.shared:new Ticker$1,ee.autoStart&&this.start()},ie.destroy=function(){if(this._ticker){var ee=this._ticker;this.ticker=null,ee.destroy()}},ie.extension=ExtensionType$1.Application,ie}();/*!
 * @pixi/math - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var PI_2$1=Math.PI*2,RAD_TO_DEG$1=180/Math.PI,DEG_TO_RAD$1=Math.PI/180,SHAPES;(function(ie){ie[ie.POLY=0]="POLY",ie[ie.RECT=1]="RECT",ie[ie.CIRC=2]="CIRC",ie[ie.ELIP=3]="ELIP",ie[ie.RREC=4]="RREC"})(SHAPES||(SHAPES={}));var Point$1=function(){function ie(ee,te){ee===void 0&&(ee=0),te===void 0&&(te=0),this.x=0,this.y=0,this.x=ee,this.y=te}return ie.prototype.clone=function(){return new ie(this.x,this.y)},ie.prototype.copyFrom=function(ee){return this.set(ee.x,ee.y),this},ie.prototype.copyTo=function(ee){return ee.set(this.x,this.y),ee},ie.prototype.equals=function(ee){return ee.x===this.x&&ee.y===this.y},ie.prototype.set=function(ee,te){return ee===void 0&&(ee=0),te===void 0&&(te=ee),this.x=ee,this.y=te,this},ie.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},ie}(),tempPoints$2=[new Point$1,new Point$1,new Point$1,new Point$1],Rectangle$1=function(){function ie(ee,te,se,ne){ee===void 0&&(ee=0),te===void 0&&(te=0),se===void 0&&(se=0),ne===void 0&&(ne=0),this.x=Number(ee),this.y=Number(te),this.width=Number(se),this.height=Number(ne),this.type=SHAPES.RECT}return Object.defineProperty(ie.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(ie,"EMPTY",{get:function(){return new ie(0,0,0,0)},enumerable:!1,configurable:!0}),ie.prototype.clone=function(){return new ie(this.x,this.y,this.width,this.height)},ie.prototype.copyFrom=function(ee){return this.x=ee.x,this.y=ee.y,this.width=ee.width,this.height=ee.height,this},ie.prototype.copyTo=function(ee){return ee.x=this.x,ee.y=this.y,ee.width=this.width,ee.height=this.height,ee},ie.prototype.contains=function(ee,te){return this.width<=0||this.height<=0?!1:ee>=this.x&&ee<this.x+this.width&&te>=this.y&&te<this.y+this.height},ie.prototype.intersects=function(ee,te){if(!te){var se=this.x<ee.x?ee.x:this.x,ne=this.right>ee.right?ee.right:this.right;if(ne<=se)return!1;var le=this.y<ee.y?ee.y:this.y,ue=this.bottom>ee.bottom?ee.bottom:this.bottom;return ue>le}var ce=this.left,he=this.right,de=this.top,_e=this.bottom;if(he<=ce||_e<=de)return!1;var fe=tempPoints$2[0].set(ee.left,ee.top),ye=tempPoints$2[1].set(ee.left,ee.bottom),be=tempPoints$2[2].set(ee.right,ee.top),Pe=tempPoints$2[3].set(ee.right,ee.bottom);if(be.x<=fe.x||ye.y<=fe.y)return!1;var Ne=Math.sign(te.a*te.d-te.b*te.c);if(Ne===0||(te.apply(fe,fe),te.apply(ye,ye),te.apply(be,be),te.apply(Pe,Pe),Math.max(fe.x,ye.x,be.x,Pe.x)<=ce||Math.min(fe.x,ye.x,be.x,Pe.x)>=he||Math.max(fe.y,ye.y,be.y,Pe.y)<=de||Math.min(fe.y,ye.y,be.y,Pe.y)>=_e))return!1;var we=Ne*(ye.y-fe.y),De=Ne*(fe.x-ye.x),$e=we*ce+De*de,Ge=we*he+De*de,Be=we*ce+De*_e,ze=we*he+De*_e;if(Math.max($e,Ge,Be,ze)<=we*fe.x+De*fe.y||Math.min($e,Ge,Be,ze)>=we*Pe.x+De*Pe.y)return!1;var $t=Ne*(fe.y-be.y),ut=Ne*(be.x-fe.x),Ti=$t*ce+ut*de,Hi=$t*he+ut*de,bn=$t*ce+ut*_e,gd=$t*he+ut*_e;return!(Math.max(Ti,Hi,bn,gd)<=$t*fe.x+ut*fe.y||Math.min(Ti,Hi,bn,gd)>=$t*Pe.x+ut*Pe.y)},ie.prototype.pad=function(ee,te){return ee===void 0&&(ee=0),te===void 0&&(te=ee),this.x-=ee,this.y-=te,this.width+=ee*2,this.height+=te*2,this},ie.prototype.fit=function(ee){var te=Math.max(this.x,ee.x),se=Math.min(this.x+this.width,ee.x+ee.width),ne=Math.max(this.y,ee.y),le=Math.min(this.y+this.height,ee.y+ee.height);return this.x=te,this.width=Math.max(se-te,0),this.y=ne,this.height=Math.max(le-ne,0),this},ie.prototype.ceil=function(ee,te){ee===void 0&&(ee=1),te===void 0&&(te=.001);var se=Math.ceil((this.x+this.width-te)*ee)/ee,ne=Math.ceil((this.y+this.height-te)*ee)/ee;return this.x=Math.floor((this.x+te)*ee)/ee,this.y=Math.floor((this.y+te)*ee)/ee,this.width=se-this.x,this.height=ne-this.y,this},ie.prototype.enlarge=function(ee){var te=Math.min(this.x,ee.x),se=Math.max(this.x+this.width,ee.x+ee.width),ne=Math.min(this.y,ee.y),le=Math.max(this.y+this.height,ee.y+ee.height);return this.x=te,this.width=se-te,this.y=ne,this.height=le-ne,this},ie.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},ie}(),Circle$1=function(){function ie(ee,te,se){ee===void 0&&(ee=0),te===void 0&&(te=0),se===void 0&&(se=0),this.x=ee,this.y=te,this.radius=se,this.type=SHAPES.CIRC}return ie.prototype.clone=function(){return new ie(this.x,this.y,this.radius)},ie.prototype.contains=function(ee,te){if(this.radius<=0)return!1;var se=this.radius*this.radius,ne=this.x-ee,le=this.y-te;return ne*=ne,le*=le,ne+le<=se},ie.prototype.getBounds=function(){return new Rectangle$1(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},ie.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},ie}(),Ellipse$1=function(){function ie(ee,te,se,ne){ee===void 0&&(ee=0),te===void 0&&(te=0),se===void 0&&(se=0),ne===void 0&&(ne=0),this.x=ee,this.y=te,this.width=se,this.height=ne,this.type=SHAPES.ELIP}return ie.prototype.clone=function(){return new ie(this.x,this.y,this.width,this.height)},ie.prototype.contains=function(ee,te){if(this.width<=0||this.height<=0)return!1;var se=(ee-this.x)/this.width,ne=(te-this.y)/this.height;return se*=se,ne*=ne,se+ne<=1},ie.prototype.getBounds=function(){return new Rectangle$1(this.x-this.width,this.y-this.height,this.width,this.height)},ie.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},ie}(),Polygon$1=function(){function ie(){for(var ee=arguments,te=[],se=0;se<arguments.length;se++)te[se]=ee[se];var ne=Array.isArray(te[0])?te[0]:te;if(typeof ne[0]!="number"){for(var le=[],ue=0,ce=ne.length;ue<ce;ue++)le.push(ne[ue].x,ne[ue].y);ne=le}this.points=ne,this.type=SHAPES.POLY,this.closeStroke=!0}return ie.prototype.clone=function(){var ee=this.points.slice(),te=new ie(ee);return te.closeStroke=this.closeStroke,te},ie.prototype.contains=function(ee,te){for(var se=!1,ne=this.points.length/2,le=0,ue=ne-1;le<ne;ue=le++){var ce=this.points[le*2],he=this.points[le*2+1],de=this.points[ue*2],_e=this.points[ue*2+1],fe=he>te!=_e>te&&ee<(de-ce)*((te-he)/(_e-he))+ce;fe&&(se=!se)}return se},ie.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(ee,te){return ee+", "+te},"")+"]")},ie}(),RoundedRectangle$1=function(){function ie(ee,te,se,ne,le){ee===void 0&&(ee=0),te===void 0&&(te=0),se===void 0&&(se=0),ne===void 0&&(ne=0),le===void 0&&(le=20),this.x=ee,this.y=te,this.width=se,this.height=ne,this.radius=le,this.type=SHAPES.RREC}return ie.prototype.clone=function(){return new ie(this.x,this.y,this.width,this.height,this.radius)},ie.prototype.contains=function(ee,te){if(this.width<=0||this.height<=0)return!1;if(ee>=this.x&&ee<=this.x+this.width&&te>=this.y&&te<=this.y+this.height){var se=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(te>=this.y+se&&te<=this.y+this.height-se||ee>=this.x+se&&ee<=this.x+this.width-se)return!0;var ne=ee-(this.x+se),le=te-(this.y+se),ue=se*se;if(ne*ne+le*le<=ue||(ne=ee-(this.x+this.width-se),ne*ne+le*le<=ue)||(le=te-(this.y+this.height-se),ne*ne+le*le<=ue)||(ne=ee-(this.x+se),ne*ne+le*le<=ue))return!0}return!1},ie.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},ie}(),ObservablePoint$1=function(){function ie(ee,te,se,ne){se===void 0&&(se=0),ne===void 0&&(ne=0),this._x=se,this._y=ne,this.cb=ee,this.scope=te}return ie.prototype.clone=function(ee,te){return ee===void 0&&(ee=this.cb),te===void 0&&(te=this.scope),new ie(ee,te,this._x,this._y)},ie.prototype.set=function(ee,te){return ee===void 0&&(ee=0),te===void 0&&(te=ee),(this._x!==ee||this._y!==te)&&(this._x=ee,this._y=te,this.cb.call(this.scope)),this},ie.prototype.copyFrom=function(ee){return(this._x!==ee.x||this._y!==ee.y)&&(this._x=ee.x,this._y=ee.y,this.cb.call(this.scope)),this},ie.prototype.copyTo=function(ee){return ee.set(this._x,this._y),ee},ie.prototype.equals=function(ee){return ee.x===this._x&&ee.y===this._y},ie.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(ie.prototype,"x",{get:function(){return this._x},set:function(ee){this._x!==ee&&(this._x=ee,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"y",{get:function(){return this._y},set:function(ee){this._y!==ee&&(this._y=ee,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),ie}(),Matrix$1=function(){function ie(ee,te,se,ne,le,ue){ee===void 0&&(ee=1),te===void 0&&(te=0),se===void 0&&(se=0),ne===void 0&&(ne=1),le===void 0&&(le=0),ue===void 0&&(ue=0),this.array=null,this.a=ee,this.b=te,this.c=se,this.d=ne,this.tx=le,this.ty=ue}return ie.prototype.fromArray=function(ee){this.a=ee[0],this.b=ee[1],this.c=ee[3],this.d=ee[4],this.tx=ee[2],this.ty=ee[5]},ie.prototype.set=function(ee,te,se,ne,le,ue){return this.a=ee,this.b=te,this.c=se,this.d=ne,this.tx=le,this.ty=ue,this},ie.prototype.toArray=function(ee,te){this.array||(this.array=new Float32Array(9));var se=te||this.array;return ee?(se[0]=this.a,se[1]=this.b,se[2]=0,se[3]=this.c,se[4]=this.d,se[5]=0,se[6]=this.tx,se[7]=this.ty,se[8]=1):(se[0]=this.a,se[1]=this.c,se[2]=this.tx,se[3]=this.b,se[4]=this.d,se[5]=this.ty,se[6]=0,se[7]=0,se[8]=1),se},ie.prototype.apply=function(ee,te){te=te||new Point$1;var se=ee.x,ne=ee.y;return te.x=this.a*se+this.c*ne+this.tx,te.y=this.b*se+this.d*ne+this.ty,te},ie.prototype.applyInverse=function(ee,te){te=te||new Point$1;var se=1/(this.a*this.d+this.c*-this.b),ne=ee.x,le=ee.y;return te.x=this.d*se*ne+-this.c*se*le+(this.ty*this.c-this.tx*this.d)*se,te.y=this.a*se*le+-this.b*se*ne+(-this.ty*this.a+this.tx*this.b)*se,te},ie.prototype.translate=function(ee,te){return this.tx+=ee,this.ty+=te,this},ie.prototype.scale=function(ee,te){return this.a*=ee,this.d*=te,this.c*=ee,this.b*=te,this.tx*=ee,this.ty*=te,this},ie.prototype.rotate=function(ee){var te=Math.cos(ee),se=Math.sin(ee),ne=this.a,le=this.c,ue=this.tx;return this.a=ne*te-this.b*se,this.b=ne*se+this.b*te,this.c=le*te-this.d*se,this.d=le*se+this.d*te,this.tx=ue*te-this.ty*se,this.ty=ue*se+this.ty*te,this},ie.prototype.append=function(ee){var te=this.a,se=this.b,ne=this.c,le=this.d;return this.a=ee.a*te+ee.b*ne,this.b=ee.a*se+ee.b*le,this.c=ee.c*te+ee.d*ne,this.d=ee.c*se+ee.d*le,this.tx=ee.tx*te+ee.ty*ne+this.tx,this.ty=ee.tx*se+ee.ty*le+this.ty,this},ie.prototype.setTransform=function(ee,te,se,ne,le,ue,ce,he,de){return this.a=Math.cos(ce+de)*le,this.b=Math.sin(ce+de)*le,this.c=-Math.sin(ce-he)*ue,this.d=Math.cos(ce-he)*ue,this.tx=ee-(se*this.a+ne*this.c),this.ty=te-(se*this.b+ne*this.d),this},ie.prototype.prepend=function(ee){var te=this.tx;if(ee.a!==1||ee.b!==0||ee.c!==0||ee.d!==1){var se=this.a,ne=this.c;this.a=se*ee.a+this.b*ee.c,this.b=se*ee.b+this.b*ee.d,this.c=ne*ee.a+this.d*ee.c,this.d=ne*ee.b+this.d*ee.d}return this.tx=te*ee.a+this.ty*ee.c+ee.tx,this.ty=te*ee.b+this.ty*ee.d+ee.ty,this},ie.prototype.decompose=function(ee){var te=this.a,se=this.b,ne=this.c,le=this.d,ue=ee.pivot,ce=-Math.atan2(-ne,le),he=Math.atan2(se,te),de=Math.abs(ce+he);return de<1e-5||Math.abs(PI_2$1-de)<1e-5?(ee.rotation=he,ee.skew.x=ee.skew.y=0):(ee.rotation=0,ee.skew.x=ce,ee.skew.y=he),ee.scale.x=Math.sqrt(te*te+se*se),ee.scale.y=Math.sqrt(ne*ne+le*le),ee.position.x=this.tx+(ue.x*te+ue.y*ne),ee.position.y=this.ty+(ue.x*se+ue.y*le),ee},ie.prototype.invert=function(){var ee=this.a,te=this.b,se=this.c,ne=this.d,le=this.tx,ue=ee*ne-te*se;return this.a=ne/ue,this.b=-te/ue,this.c=-se/ue,this.d=ee/ue,this.tx=(se*this.ty-ne*le)/ue,this.ty=-(ee*this.ty-te*le)/ue,this},ie.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},ie.prototype.clone=function(){var ee=new ie;return ee.a=this.a,ee.b=this.b,ee.c=this.c,ee.d=this.d,ee.tx=this.tx,ee.ty=this.ty,ee},ie.prototype.copyTo=function(ee){return ee.a=this.a,ee.b=this.b,ee.c=this.c,ee.d=this.d,ee.tx=this.tx,ee.ty=this.ty,ee},ie.prototype.copyFrom=function(ee){return this.a=ee.a,this.b=ee.b,this.c=ee.c,this.d=ee.d,this.tx=ee.tx,this.ty=ee.ty,this},ie.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(ie,"IDENTITY",{get:function(){return new ie},enumerable:!1,configurable:!0}),Object.defineProperty(ie,"TEMP_MATRIX",{get:function(){return new ie},enumerable:!1,configurable:!0}),ie}(),ux$1=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy$1=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx$1=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy$1=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley$1=[],rotationMatrices$1=[],signum$1=Math.sign;function init$1(){for(var ie=0;ie<16;ie++){var ee=[];rotationCayley$1.push(ee);for(var te=0;te<16;te++)for(var se=signum$1(ux$1[ie]*ux$1[te]+vx$1[ie]*uy$1[te]),ne=signum$1(uy$1[ie]*ux$1[te]+vy$1[ie]*uy$1[te]),le=signum$1(ux$1[ie]*vx$1[te]+vx$1[ie]*vy$1[te]),ue=signum$1(uy$1[ie]*vx$1[te]+vy$1[ie]*vy$1[te]),ce=0;ce<16;ce++)if(ux$1[ce]===se&&uy$1[ce]===ne&&vx$1[ce]===le&&vy$1[ce]===ue){ee.push(ce);break}}for(var ie=0;ie<16;ie++){var he=new Matrix$1;he.set(ux$1[ie],uy$1[ie],vx$1[ie],vy$1[ie],0,0),rotationMatrices$1.push(he)}}init$1();var groupD8$1={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(ie){return ux$1[ie]},uY:function(ie){return uy$1[ie]},vX:function(ie){return vx$1[ie]},vY:function(ie){return vy$1[ie]},inv:function(ie){return ie&8?ie&15:-ie&7},add:function(ie,ee){return rotationCayley$1[ie][ee]},sub:function(ie,ee){return rotationCayley$1[ie][groupD8$1.inv(ee)]},rotate180:function(ie){return ie^4},isVertical:function(ie){return(ie&3)===2},byDirection:function(ie,ee){return Math.abs(ie)*2<=Math.abs(ee)?ee>=0?groupD8$1.S:groupD8$1.N:Math.abs(ee)*2<=Math.abs(ie)?ie>0?groupD8$1.E:groupD8$1.W:ee>0?ie>0?groupD8$1.SE:groupD8$1.SW:ie>0?groupD8$1.NE:groupD8$1.NW},matrixAppendRotationInv:function(ie,ee,te,se){te===void 0&&(te=0),se===void 0&&(se=0);var ne=rotationMatrices$1[groupD8$1.inv(ee)];ne.tx=te,ne.ty=se,ie.append(ne)}},Transform=function(){function ie(){this.worldTransform=new Matrix$1,this.localTransform=new Matrix$1,this.position=new ObservablePoint$1(this.onChange,this,0,0),this.scale=new ObservablePoint$1(this.onChange,this,1,1),this.pivot=new ObservablePoint$1(this.onChange,this,0,0),this.skew=new ObservablePoint$1(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return ie.prototype.onChange=function(){this._localID++},ie.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},ie.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},ie.prototype.updateLocalTransform=function(){var ee=this.localTransform;this._localID!==this._currentLocalID&&(ee.a=this._cx*this.scale.x,ee.b=this._sx*this.scale.x,ee.c=this._cy*this.scale.y,ee.d=this._sy*this.scale.y,ee.tx=this.position.x-(this.pivot.x*ee.a+this.pivot.y*ee.c),ee.ty=this.position.y-(this.pivot.x*ee.b+this.pivot.y*ee.d),this._currentLocalID=this._localID,this._parentID=-1)},ie.prototype.updateTransform=function(ee){var te=this.localTransform;if(this._localID!==this._currentLocalID&&(te.a=this._cx*this.scale.x,te.b=this._sx*this.scale.x,te.c=this._cy*this.scale.y,te.d=this._sy*this.scale.y,te.tx=this.position.x-(this.pivot.x*te.a+this.pivot.y*te.c),te.ty=this.position.y-(this.pivot.x*te.b+this.pivot.y*te.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==ee._worldID){var se=ee.worldTransform,ne=this.worldTransform;ne.a=te.a*se.a+te.b*se.c,ne.b=te.a*se.b+te.b*se.d,ne.c=te.c*se.a+te.d*se.c,ne.d=te.c*se.b+te.d*se.d,ne.tx=te.tx*se.a+te.ty*se.c+se.tx,ne.ty=te.tx*se.b+te.ty*se.d+se.ty,this._parentID=ee._worldID,this._worldID++}},ie.prototype.setFromMatrix=function(ee){ee.decompose(this),this._localID++},Object.defineProperty(ie.prototype,"rotation",{get:function(){return this._rotation},set:function(ee){this._rotation!==ee&&(this._rotation=ee,this.updateSkew())},enumerable:!1,configurable:!0}),ie.IDENTITY=new ie,ie}();/*!
 * @pixi/core - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.PREFER_ENV=isMobile$2.any?ENV.WEBGL:ENV.WEBGL2,settings$1.STRICT_TEXTURE_CACHE=!1;var INSTALLED=[];function autoDetectResource(ie,ee){if(!ie)return null;var te="";if(typeof ie=="string"){var se=/\.(\w{3,4})(?:$|\?|#)/i.exec(ie);se&&(te=se[1].toLowerCase())}for(var ne=INSTALLED.length-1;ne>=0;--ne){var le=INSTALLED[ne];if(le.test&&le.test(ie,te))return new le(ie,ee)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics$9=function(ie,ee){return extendStatics$9=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,se){te.__proto__=se}||function(te,se){for(var ne in se)se.hasOwnProperty(ne)&&(te[ne]=se[ne])},extendStatics$9(ie,ee)};function __extends$9(ie,ee){extendStatics$9(ie,ee);function te(){this.constructor=ie}ie.prototype=ee===null?Object.create(ee):(te.prototype=ee.prototype,new te)}var __assign=function(){return __assign=Object.assign||function(ee){for(var te=arguments,se,ne=1,le=arguments.length;ne<le;ne++){se=te[ne];for(var ue in se)Object.prototype.hasOwnProperty.call(se,ue)&&(ee[ue]=se[ue])}return ee},__assign.apply(this,arguments)};function __rest$1(ie,ee){var te={};for(var se in ie)Object.prototype.hasOwnProperty.call(ie,se)&&ee.indexOf(se)<0&&(te[se]=ie[se]);if(ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,se=Object.getOwnPropertySymbols(ie);ne<se.length;ne++)ee.indexOf(se[ne])<0&&Object.prototype.propertyIsEnumerable.call(ie,se[ne])&&(te[se[ne]]=ie[se[ne]]);return te}var Resource=function(){function ie(ee,te){ee===void 0&&(ee=0),te===void 0&&(te=0),this._width=ee,this._height=te,this.destroyed=!1,this.internal=!1,this.onResize=new Runner("setRealSize"),this.onUpdate=new Runner("update"),this.onError=new Runner("onError")}return ie.prototype.bind=function(ee){this.onResize.add(ee),this.onUpdate.add(ee),this.onError.add(ee),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},ie.prototype.unbind=function(ee){this.onResize.remove(ee),this.onUpdate.remove(ee),this.onError.remove(ee)},ie.prototype.resize=function(ee,te){(ee!==this._width||te!==this._height)&&(this._width=ee,this._height=te,this.onResize.emit(ee,te))},Object.defineProperty(ie.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),ie.prototype.update=function(){this.destroyed||this.onUpdate.emit()},ie.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(ie.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),ie.prototype.style=function(ee,te,se){return!1},ie.prototype.dispose=function(){},ie.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},ie.test=function(ee,te){return!1},ie}(),BufferResource$1=function(ie){__extends$9(ee,ie);function ee(te,se){var ne=this,le=se||{},ue=le.width,ce=le.height;if(!ue||!ce)throw new Error("BufferResource width or height invalid");return ne=ie.call(this,ue,ce)||this,ne.data=te,ne}return ee.prototype.upload=function(te,se,ne){var le=te.gl;le.pixelStorei(le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.alphaMode===ALPHA_MODES.UNPACK);var ue=se.realWidth,ce=se.realHeight;return ne.width===ue&&ne.height===ce?le.texSubImage2D(se.target,0,0,0,ue,ce,se.format,ne.type,this.data):(ne.width=ue,ne.height=ce,le.texImage2D(se.target,0,ne.internalFormat,ue,ce,0,se.format,ne.type,this.data)),!0},ee.prototype.dispose=function(){this.data=null},ee.test=function(te){return te instanceof Float32Array||te instanceof Uint8Array||te instanceof Uint32Array},ee}(Resource),defaultBufferOptions={scaleMode:SCALE_MODES.NEAREST,format:FORMATS.RGBA,alphaMode:ALPHA_MODES.NPM},BaseTexture=function(ie){__extends$9(ee,ie);function ee(te,se){te===void 0&&(te=null),se===void 0&&(se=null);var ne=ie.call(this)||this;se=se||{};var le=se.alphaMode,ue=se.mipmap,ce=se.anisotropicLevel,he=se.scaleMode,de=se.width,_e=se.height,fe=se.wrapMode,ye=se.format,be=se.type,Pe=se.target,Ne=se.resolution,we=se.resourceOptions;return te&&!(te instanceof Resource)&&(te=autoDetectResource(te,we),te.internal=!0),ne.resolution=Ne||settings$1.RESOLUTION,ne.width=Math.round((de||0)*ne.resolution)/ne.resolution,ne.height=Math.round((_e||0)*ne.resolution)/ne.resolution,ne._mipmap=ue!==void 0?ue:settings$1.MIPMAP_TEXTURES,ne.anisotropicLevel=ce!==void 0?ce:settings$1.ANISOTROPIC_LEVEL,ne._wrapMode=fe||settings$1.WRAP_MODE,ne._scaleMode=he!==void 0?he:settings$1.SCALE_MODE,ne.format=ye||FORMATS.RGBA,ne.type=be||TYPES.UNSIGNED_BYTE,ne.target=Pe||TARGETS.TEXTURE_2D,ne.alphaMode=le!==void 0?le:ALPHA_MODES.UNPACK,ne.uid=uid$1(),ne.touched=0,ne.isPowerOfTwo=!1,ne._refreshPOT(),ne._glTextures={},ne.dirtyId=0,ne.dirtyStyleId=0,ne.cacheId=null,ne.valid=de>0&&_e>0,ne.textureCacheIds=[],ne.destroyed=!1,ne.resource=null,ne._batchEnabled=0,ne._batchLocation=0,ne.parentTextureArray=null,ne.setResource(te),ne}return Object.defineProperty(ee.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"mipmap",{get:function(){return this._mipmap},set:function(te){this._mipmap!==te&&(this._mipmap=te,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(te){this._scaleMode!==te&&(this._scaleMode=te,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(te){this._wrapMode!==te&&(this._wrapMode=te,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),ee.prototype.setStyle=function(te,se){var ne;return te!==void 0&&te!==this.scaleMode&&(this.scaleMode=te,ne=!0),se!==void 0&&se!==this.mipmap&&(this.mipmap=se,ne=!0),ne&&this.dirtyStyleId++,this},ee.prototype.setSize=function(te,se,ne){return ne=ne||this.resolution,this.setRealSize(te*ne,se*ne,ne)},ee.prototype.setRealSize=function(te,se,ne){return this.resolution=ne||this.resolution,this.width=Math.round(te)/this.resolution,this.height=Math.round(se)/this.resolution,this._refreshPOT(),this.update(),this},ee.prototype._refreshPOT=function(){this.isPowerOfTwo=isPow2$1(this.realWidth)&&isPow2$1(this.realHeight)},ee.prototype.setResolution=function(te){var se=this.resolution;return se===te?this:(this.resolution=te,this.valid&&(this.width=Math.round(this.width*se)/te,this.height=Math.round(this.height*se)/te,this.emit("update",this)),this._refreshPOT(),this)},ee.prototype.setResource=function(te){if(this.resource===te)return this;if(this.resource)throw new Error("Resource can be set only once");return te.bind(this),this.resource=te,this},ee.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},ee.prototype.onError=function(te){this.emit("error",this,te)},ee.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache[this.cacheId],delete TextureCache[this.cacheId],this.cacheId=null),this.dispose(),ee.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},ee.prototype.dispose=function(){this.emit("dispose",this)},ee.prototype.castToBaseTexture=function(){return this},ee.from=function(te,se,ne){ne===void 0&&(ne=settings$1.STRICT_TEXTURE_CACHE);var le=typeof te=="string",ue=null;if(le)ue=te;else{if(!te._pixiId){var ce=se&&se.pixiIdPrefix||"pixiid";te._pixiId=ce+"_"+uid$1()}ue=te._pixiId}var he=BaseTextureCache[ue];if(le&&ne&&!he)throw new Error('The cacheId "'+ue+'" does not exist in BaseTextureCache.');return he||(he=new ee(te,se),he.cacheId=ue,ee.addToCache(he,ue)),he},ee.fromBuffer=function(te,se,ne,le){te=te||new Float32Array(se*ne*4);var ue=new BufferResource$1(te,{width:se,height:ne}),ce=te instanceof Float32Array?TYPES.FLOAT:TYPES.UNSIGNED_BYTE;return new ee(ue,Object.assign({},defaultBufferOptions,le||{width:se,height:ne,type:ce}))},ee.addToCache=function(te,se){se&&(te.textureCacheIds.indexOf(se)===-1&&te.textureCacheIds.push(se),BaseTextureCache[se]&&console.warn("BaseTexture added to the cache with an id ["+se+"] that already had an entry"),BaseTextureCache[se]=te)},ee.removeFromCache=function(te){if(typeof te=="string"){var se=BaseTextureCache[te];if(se){var ne=se.textureCacheIds.indexOf(te);return ne>-1&&se.textureCacheIds.splice(ne,1),delete BaseTextureCache[te],se}}else if(te&&te.textureCacheIds){for(var le=0;le<te.textureCacheIds.length;++le)delete BaseTextureCache[te.textureCacheIds[le]];return te.textureCacheIds.length=0,te}return null},ee._globalBatch=0,ee}(EventEmitter$1),AbstractMultiResource=function(ie){__extends$9(ee,ie);function ee(te,se){var ne=this,le=se||{},ue=le.width,ce=le.height;ne=ie.call(this,ue,ce)||this,ne.items=[],ne.itemDirtyIds=[];for(var he=0;he<te;he++){var de=new BaseTexture;ne.items.push(de),ne.itemDirtyIds.push(-2)}return ne.length=te,ne._load=null,ne.baseTexture=null,ne}return ee.prototype.initFromArray=function(te,se){for(var ne=0;ne<this.length;ne++)te[ne]&&(te[ne].castToBaseTexture?this.addBaseTextureAt(te[ne].castToBaseTexture(),ne):te[ne]instanceof Resource?this.addResourceAt(te[ne],ne):this.addResourceAt(autoDetectResource(te[ne],se),ne))},ee.prototype.dispose=function(){for(var te=0,se=this.length;te<se;te++)this.items[te].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},ee.prototype.addResourceAt=function(te,se){if(!this.items[se])throw new Error("Index "+se+" is out of bounds");return te.valid&&!this.valid&&this.resize(te.width,te.height),this.items[se].setResource(te),this},ee.prototype.bind=function(te){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");ie.prototype.bind.call(this,te);for(var se=0;se<this.length;se++)this.items[se].parentTextureArray=te,this.items[se].on("update",te.update,te)},ee.prototype.unbind=function(te){ie.prototype.unbind.call(this,te);for(var se=0;se<this.length;se++)this.items[se].parentTextureArray=null,this.items[se].off("update",te.update,te)},ee.prototype.load=function(){var te=this;if(this._load)return this._load;var se=this.items.map(function(le){return le.resource}).filter(function(le){return le}),ne=se.map(function(le){return le.load()});return this._load=Promise.all(ne).then(function(){var le=te.items[0],ue=le.realWidth,ce=le.realHeight;return te.resize(ue,ce),Promise.resolve(te)}),this._load},ee}(Resource),ArrayResource=function(ie){__extends$9(ee,ie);function ee(te,se){var ne=this,le=se||{},ue=le.width,ce=le.height,he,de;return Array.isArray(te)?(he=te,de=te.length):de=te,ne=ie.call(this,de,{width:ue,height:ce})||this,he&&ne.initFromArray(he,se),ne}return ee.prototype.addBaseTextureAt=function(te,se){if(te.resource)this.addResourceAt(te.resource,se);else throw new Error("ArrayResource does not support RenderTexture");return this},ee.prototype.bind=function(te){ie.prototype.bind.call(this,te),te.target=TARGETS.TEXTURE_2D_ARRAY},ee.prototype.upload=function(te,se,ne){var le=this,ue=le.length,ce=le.itemDirtyIds,he=le.items,de=te.gl;ne.dirtyId<0&&de.texImage3D(de.TEXTURE_2D_ARRAY,0,ne.internalFormat,this._width,this._height,ue,0,se.format,ne.type,null);for(var _e=0;_e<ue;_e++){var fe=he[_e];ce[_e]<fe.dirtyId&&(ce[_e]=fe.dirtyId,fe.valid&&de.texSubImage3D(de.TEXTURE_2D_ARRAY,0,0,0,_e,fe.resource.width,fe.resource.height,1,se.format,ne.type,fe.resource.source))}return!0},ee}(AbstractMultiResource),BaseImageResource=function(ie){__extends$9(ee,ie);function ee(te){var se=this,ne=te,le=ne.naturalWidth||ne.videoWidth||ne.width,ue=ne.naturalHeight||ne.videoHeight||ne.height;return se=ie.call(this,le,ue)||this,se.source=te,se.noSubImage=!1,se}return ee.crossOrigin=function(te,se,ne){ne===void 0&&se.indexOf("data:")!==0?te.crossOrigin=determineCrossOrigin(se):ne!==!1&&(te.crossOrigin=typeof ne=="string"?ne:"anonymous")},ee.prototype.upload=function(te,se,ne,le){var ue=te.gl,ce=se.realWidth,he=se.realHeight;if(le=le||this.source,le instanceof HTMLImageElement){if(!le.complete||le.naturalWidth===0)return!1}else if(le instanceof HTMLVideoElement&&le.readyState<=1)return!1;return ue.pixelStorei(ue.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.alphaMode===ALPHA_MODES.UNPACK),!this.noSubImage&&se.target===ue.TEXTURE_2D&&ne.width===ce&&ne.height===he?ue.texSubImage2D(ue.TEXTURE_2D,0,0,0,se.format,ne.type,le):(ne.width=ce,ne.height=he,ue.texImage2D(se.target,0,ne.internalFormat,se.format,ne.type,le)),!0},ee.prototype.update=function(){if(!this.destroyed){var te=this.source,se=te.naturalWidth||te.videoWidth||te.width,ne=te.naturalHeight||te.videoHeight||te.height;this.resize(se,ne),ie.prototype.update.call(this)}},ee.prototype.dispose=function(){this.source=null},ee}(Resource),CanvasResource=function(ie){__extends$9(ee,ie);function ee(te){return ie.call(this,te)||this}return ee.test=function(te){var se=globalThis.OffscreenCanvas;return se&&te instanceof se?!0:globalThis.HTMLCanvasElement&&te instanceof HTMLCanvasElement},ee}(BaseImageResource),CubeResource=function(ie){__extends$9(ee,ie);function ee(te,se){var ne=this,le=se||{},ue=le.width,ce=le.height,he=le.autoLoad,de=le.linkBaseTexture;if(te&&te.length!==ee.SIDES)throw new Error("Invalid length. Got "+te.length+", expected 6");ne=ie.call(this,6,{width:ue,height:ce})||this;for(var _e=0;_e<ee.SIDES;_e++)ne.items[_e].target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+_e;return ne.linkBaseTexture=de!==!1,te&&ne.initFromArray(te,se),he!==!1&&ne.load(),ne}return ee.prototype.bind=function(te){ie.prototype.bind.call(this,te),te.target=TARGETS.TEXTURE_CUBE_MAP},ee.prototype.addBaseTextureAt=function(te,se,ne){if(!this.items[se])throw new Error("Index "+se+" is out of bounds");if(!this.linkBaseTexture||te.parentTextureArray||Object.keys(te._glTextures).length>0)if(te.resource)this.addResourceAt(te.resource,se);else throw new Error("CubeResource does not support copying of renderTexture.");else te.target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+se,te.parentTextureArray=this.baseTexture,this.items[se]=te;return te.valid&&!this.valid&&this.resize(te.realWidth,te.realHeight),this.items[se]=te,this},ee.prototype.upload=function(te,se,ne){for(var le=this.itemDirtyIds,ue=0;ue<ee.SIDES;ue++){var ce=this.items[ue];(le[ue]<ce.dirtyId||ne.dirtyId<se.dirtyId)&&(ce.valid&&ce.resource?(ce.resource.upload(te,ce,ne),le[ue]=ce.dirtyId):le[ue]<-1&&(te.gl.texImage2D(ce.target,0,ne.internalFormat,se.realWidth,se.realHeight,0,se.format,ne.type,null),le[ue]=-1))}return!0},ee.test=function(te){return Array.isArray(te)&&te.length===ee.SIDES},ee.SIDES=6,ee}(AbstractMultiResource),ImageResource=function(ie){__extends$9(ee,ie);function ee(te,se){var ne=this;if(se=se||{},!(te instanceof HTMLImageElement)){var le=new Image;BaseImageResource.crossOrigin(le,te,se.crossorigin),le.src=te,te=le}return ne=ie.call(this,te)||this,!te.complete&&ne._width&&ne._height&&(ne._width=0,ne._height=0),ne.url=te.src,ne._process=null,ne.preserveBitmap=!1,ne.createBitmap=(se.createBitmap!==void 0?se.createBitmap:settings$1.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,ne.alphaMode=typeof se.alphaMode=="number"?se.alphaMode:null,ne.bitmap=null,ne._load=null,se.autoLoad!==!1&&ne.load(),ne}return ee.prototype.load=function(te){var se=this;return this._load?this._load:(te!==void 0&&(this.createBitmap=te),this._load=new Promise(function(ne,le){var ue=se.source;se.url=ue.src;var ce=function(){se.destroyed||(ue.onload=null,ue.onerror=null,se.resize(ue.width,ue.height),se._load=null,se.createBitmap?ne(se.process()):ne(se))};ue.complete&&ue.src?ce():(ue.onload=ce,ue.onerror=function(he){le(he),se.onError.emit(he)})}),this._load)},ee.prototype.process=function(){var te=this,se=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var ne=globalThis.createImageBitmap,le=!se.crossOrigin||se.crossOrigin==="anonymous";return this._process=fetch(se.src,{mode:le?"cors":"no-cors"}).then(function(ue){return ue.blob()}).then(function(ue){return ne(ue,0,0,se.width,se.height,{premultiplyAlpha:te.alphaMode===null||te.alphaMode===ALPHA_MODES.UNPACK?"premultiply":"none"})}).then(function(ue){return te.destroyed?Promise.reject():(te.bitmap=ue,te.update(),te._process=null,Promise.resolve(te))}),this._process},ee.prototype.upload=function(te,se,ne){if(typeof this.alphaMode=="number"&&(se.alphaMode=this.alphaMode),!this.createBitmap)return ie.prototype.upload.call(this,te,se,ne);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(ie.prototype.upload.call(this,te,se,ne,this.bitmap),!this.preserveBitmap){var le=!0,ue=se._glTextures;for(var ce in ue){var he=ue[ce];if(he!==ne&&he.dirtyId!==se.dirtyId){le=!1;break}}le&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},ee.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,ie.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},ee.test=function(te){return typeof te=="string"||te instanceof HTMLImageElement},ee}(BaseImageResource),SVGResource=function(ie){__extends$9(ee,ie);function ee(te,se){var ne=this;return se=se||{},ne=ie.call(this,settings$1.ADAPTER.createCanvas())||this,ne._width=0,ne._height=0,ne.svg=te,ne.scale=se.scale||1,ne._overrideWidth=se.width,ne._overrideHeight=se.height,ne._resolve=null,ne._crossorigin=se.crossorigin,ne._load=null,se.autoLoad!==!1&&ne.load(),ne}return ee.prototype.load=function(){var te=this;return this._load?this._load:(this._load=new Promise(function(se){if(te._resolve=function(){te.resize(te.source.width,te.source.height),se(te)},ee.SVG_XML.test(te.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");te.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(te.svg)))}te._loadSvg()}),this._load)},ee.prototype._loadSvg=function(){var te=this,se=new Image;BaseImageResource.crossOrigin(se,this.svg,this._crossorigin),se.src=this.svg,se.onerror=function(ne){te._resolve&&(se.onerror=null,te.onError.emit(ne))},se.onload=function(){if(te._resolve){var ne=se.width,le=se.height;if(!ne||!le)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var ue=ne*te.scale,ce=le*te.scale;(te._overrideWidth||te._overrideHeight)&&(ue=te._overrideWidth||te._overrideHeight/le*ne,ce=te._overrideHeight||te._overrideWidth/ne*le),ue=Math.round(ue),ce=Math.round(ce);var he=te.source;he.width=ue,he.height=ce,he._pixiId="canvas_"+uid$1(),he.getContext("2d").drawImage(se,0,0,ne,le,0,0,ue,ce),te._resolve(),te._resolve=null}}},ee.getSize=function(te){var se=ee.SVG_SIZE.exec(te),ne={};return se&&(ne[se[1]]=Math.round(parseFloat(se[3])),ne[se[5]]=Math.round(parseFloat(se[7]))),ne},ee.prototype.dispose=function(){ie.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},ee.test=function(te,se){return se==="svg"||typeof te=="string"&&te.startsWith("data:image/svg+xml")||typeof te=="string"&&ee.SVG_XML.test(te)},ee.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,ee.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,ee}(BaseImageResource),VideoResource=function(ie){__extends$9(ee,ie);function ee(te,se){var ne=this;if(se=se||{},!(te instanceof HTMLVideoElement)){var le=document.createElement("video");le.setAttribute("preload","auto"),le.setAttribute("webkit-playsinline",""),le.setAttribute("playsinline",""),typeof te=="string"&&(te=[te]);var ue=te[0].src||te[0];BaseImageResource.crossOrigin(le,ue,se.crossorigin);for(var ce=0;ce<te.length;++ce){var he=document.createElement("source"),de=te[ce],_e=de.src,fe=de.mime;_e=_e||te[ce];var ye=_e.split("?").shift().toLowerCase(),be=ye.slice(ye.lastIndexOf(".")+1);fe=fe||ee.MIME_TYPES[be]||"video/"+be,he.src=_e,he.type=fe,le.appendChild(he)}te=le}return ne=ie.call(this,te)||this,ne.noSubImage=!0,ne._autoUpdate=!0,ne._isConnectedToTicker=!1,ne._updateFPS=se.updateFPS||0,ne._msToNextUpdate=0,ne.autoPlay=se.autoPlay!==!1,ne._load=null,ne._resolve=null,ne._onCanPlay=ne._onCanPlay.bind(ne),ne._onError=ne._onError.bind(ne),se.autoLoad!==!1&&ne.load(),ne}return ee.prototype.update=function(te){if(!this.destroyed){var se=Ticker$1.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-se),(!this._updateFPS||this._msToNextUpdate<=0)&&(ie.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},ee.prototype.load=function(){var te=this;if(this._load)return this._load;var se=this.source;return(se.readyState===se.HAVE_ENOUGH_DATA||se.readyState===se.HAVE_FUTURE_DATA)&&se.width&&se.height&&(se.complete=!0),se.addEventListener("play",this._onPlayStart.bind(this)),se.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(se.addEventListener("canplay",this._onCanPlay),se.addEventListener("canplaythrough",this._onCanPlay),se.addEventListener("error",this._onError,!0)),this._load=new Promise(function(ne){te.valid?ne(te):(te._resolve=ne,se.load())}),this._load},ee.prototype._onError=function(te){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(te)},ee.prototype._isSourcePlaying=function(){var te=this.source;return!te.paused&&!te.ended&&this._isSourceReady()},ee.prototype._isSourceReady=function(){var te=this.source;return te.readyState>2},ee.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ticker$1.shared.add(this.update,this),this._isConnectedToTicker=!0)},ee.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1)},ee.prototype._onCanPlay=function(){var te=this.source;te.removeEventListener("canplay",this._onCanPlay),te.removeEventListener("canplaythrough",this._onCanPlay);var se=this.valid;this.resize(te.videoWidth,te.videoHeight),!se&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&te.play()},ee.prototype.dispose=function(){this._isConnectedToTicker&&(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1);var te=this.source;te&&(te.removeEventListener("error",this._onError,!0),te.pause(),te.src="",te.load()),ie.prototype.dispose.call(this)},Object.defineProperty(ee.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(te){te!==this._autoUpdate&&(this._autoUpdate=te,!this._autoUpdate&&this._isConnectedToTicker?(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ticker$1.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(te){te!==this._updateFPS&&(this._updateFPS=te)},enumerable:!1,configurable:!0}),ee.test=function(te,se){return globalThis.HTMLVideoElement&&te instanceof HTMLVideoElement||ee.TYPES.indexOf(se)>-1},ee.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],ee.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},ee}(BaseImageResource),ImageBitmapResource=function(ie){__extends$9(ee,ie);function ee(te){return ie.call(this,te)||this}return ee.test=function(te){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&te instanceof ImageBitmap},ee}(BaseImageResource);INSTALLED.push(ImageResource,ImageBitmapResource,CanvasResource,VideoResource,SVGResource,BufferResource$1,CubeResource,ArrayResource);var DepthResource=function(ie){__extends$9(ee,ie);function ee(){return ie!==null&&ie.apply(this,arguments)||this}return ee.prototype.upload=function(te,se,ne){var le=te.gl;le.pixelStorei(le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,se.alphaMode===ALPHA_MODES.UNPACK);var ue=se.realWidth,ce=se.realHeight;return ne.width===ue&&ne.height===ce?le.texSubImage2D(se.target,0,0,0,ue,ce,se.format,ne.type,this.data):(ne.width=ue,ne.height=ce,le.texImage2D(se.target,0,ne.internalFormat,ue,ce,0,se.format,ne.type,this.data)),!0},ee}(BufferResource$1),Framebuffer=function(){function ie(ee,te){this.width=Math.round(ee||100),this.height=Math.round(te||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner("disposeFramebuffer"),this.multisample=MSAA_QUALITY.NONE}return Object.defineProperty(ie.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),ie.prototype.addColorTexture=function(ee,te){return ee===void 0&&(ee=0),this.colorTextures[ee]=te||new BaseTexture(null,{scaleMode:SCALE_MODES.NEAREST,resolution:1,mipmap:MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},ie.prototype.addDepthTexture=function(ee){return this.depthTexture=ee||new BaseTexture(new DepthResource(null,{width:this.width,height:this.height}),{scaleMode:SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES.OFF,format:FORMATS.DEPTH_COMPONENT,type:TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},ie.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},ie.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},ie.prototype.resize=function(ee,te){if(ee=Math.round(ee),te=Math.round(te),!(ee===this.width&&te===this.height)){this.width=ee,this.height=te,this.dirtyId++,this.dirtySize++;for(var se=0;se<this.colorTextures.length;se++){var ne=this.colorTextures[se],le=ne.resolution;ne.setSize(ee/le,te/le)}if(this.depthTexture){var le=this.depthTexture.resolution;this.depthTexture.setSize(ee/le,te/le)}}},ie.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},ie.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},ie}(),BaseRenderTexture=function(ie){__extends$9(ee,ie);function ee(te){te===void 0&&(te={});var se=this;if(typeof te=="number"){var ne=arguments[0],le=arguments[1],ue=arguments[2],ce=arguments[3];te={width:ne,height:le,scaleMode:ue,resolution:ce}}return te.width=te.width||100,te.height=te.height||100,te.multisample=te.multisample!==void 0?te.multisample:MSAA_QUALITY.NONE,se=ie.call(this,null,te)||this,se.mipmap=MIPMAP_MODES.OFF,se.valid=!0,se.clearColor=[0,0,0,0],se.framebuffer=new Framebuffer(se.realWidth,se.realHeight).addColorTexture(0,se),se.framebuffer.multisample=te.multisample,se.maskStack=[],se.filterStack=[{}],se}return ee.prototype.resize=function(te,se){this.framebuffer.resize(te*this.resolution,se*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},ee.prototype.dispose=function(){this.framebuffer.dispose(),ie.prototype.dispose.call(this)},ee.prototype.destroy=function(){ie.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},ee}(BaseTexture),TextureUvs=function(){function ie(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return ie.prototype.set=function(ee,te,se){var ne=te.width,le=te.height;if(se){var ue=ee.width/2/ne,ce=ee.height/2/le,he=ee.x/ne+ue,de=ee.y/le+ce;se=groupD8$1.add(se,groupD8$1.NW),this.x0=he+ue*groupD8$1.uX(se),this.y0=de+ce*groupD8$1.uY(se),se=groupD8$1.add(se,2),this.x1=he+ue*groupD8$1.uX(se),this.y1=de+ce*groupD8$1.uY(se),se=groupD8$1.add(se,2),this.x2=he+ue*groupD8$1.uX(se),this.y2=de+ce*groupD8$1.uY(se),se=groupD8$1.add(se,2),this.x3=he+ue*groupD8$1.uX(se),this.y3=de+ce*groupD8$1.uY(se)}else this.x0=ee.x/ne,this.y0=ee.y/le,this.x1=(ee.x+ee.width)/ne,this.y1=ee.y/le,this.x2=(ee.x+ee.width)/ne,this.y2=(ee.y+ee.height)/le,this.x3=ee.x/ne,this.y3=(ee.y+ee.height)/le;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},ie.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},ie}(),DEFAULT_UVS=new TextureUvs;function removeAllHandlers(ie){ie.destroy=function(){},ie.on=function(){},ie.once=function(){},ie.emit=function(){}}var Texture$1=function(ie){__extends$9(ee,ie);function ee(te,se,ne,le,ue,ce){var he=ie.call(this)||this;if(he.noFrame=!1,se||(he.noFrame=!0,se=new Rectangle$1(0,0,1,1)),te instanceof ee&&(te=te.baseTexture),he.baseTexture=te,he._frame=se,he.trim=le,he.valid=!1,he._uvs=DEFAULT_UVS,he.uvMatrix=null,he.orig=ne||se,he._rotate=Number(ue||0),ue===!0)he._rotate=2;else if(he._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return he.defaultAnchor=ce?new Point$1(ce.x,ce.y):new Point$1(0,0),he._updateID=0,he.textureCacheIds=[],te.valid?he.noFrame?te.valid&&he.onBaseTextureUpdated(te):he.frame=se:te.once("loaded",he.onBaseTextureUpdated,he),he.noFrame&&te.on("update",he.onBaseTextureUpdated,he),he}return ee.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},ee.prototype.onBaseTextureUpdated=function(te){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=te.width,this._frame.height=te.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},ee.prototype.destroy=function(te){if(this.baseTexture){if(te){var se=this.baseTexture.resource;se&&se.url&&TextureCache[se.url]&&ee.removeFromCache(se.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ee.removeFromCache(this),this.textureCacheIds=null},ee.prototype.clone=function(){var te=this._frame.clone(),se=this._frame===this.orig?te:this.orig.clone(),ne=new ee(this.baseTexture,!this.noFrame&&te,se,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(ne._frame=te),ne},ee.prototype.updateUvs=function(){this._uvs===DEFAULT_UVS&&(this._uvs=new TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},ee.from=function(te,se,ne){se===void 0&&(se={}),ne===void 0&&(ne=settings$1.STRICT_TEXTURE_CACHE);var le=typeof te=="string",ue=null;if(le)ue=te;else if(te instanceof BaseTexture){if(!te.cacheId){var ce=se&&se.pixiIdPrefix||"pixiid";te.cacheId=ce+"-"+uid$1(),BaseTexture.addToCache(te,te.cacheId)}ue=te.cacheId}else{if(!te._pixiId){var ce=se&&se.pixiIdPrefix||"pixiid";te._pixiId=ce+"_"+uid$1()}ue=te._pixiId}var he=TextureCache[ue];if(le&&ne&&!he)throw new Error('The cacheId "'+ue+'" does not exist in TextureCache.');return!he&&!(te instanceof BaseTexture)?(se.resolution||(se.resolution=getResolutionOfUrl(te)),he=new ee(new BaseTexture(te,se)),he.baseTexture.cacheId=ue,BaseTexture.addToCache(he.baseTexture,ue),ee.addToCache(he,ue)):!he&&te instanceof BaseTexture&&(he=new ee(te),ee.addToCache(he,ue)),he},ee.fromURL=function(te,se){var ne=Object.assign({autoLoad:!1},se==null?void 0:se.resourceOptions),le=ee.from(te,Object.assign({resourceOptions:ne},se),!1),ue=le.baseTexture.resource;return le.baseTexture.valid?Promise.resolve(le):ue.load().then(function(){return Promise.resolve(le)})},ee.fromBuffer=function(te,se,ne,le){return new ee(BaseTexture.fromBuffer(te,se,ne,le))},ee.fromLoader=function(te,se,ne,le){var ue=new BaseTexture(te,Object.assign({scaleMode:settings$1.SCALE_MODE,resolution:getResolutionOfUrl(se)},le)),ce=ue.resource;ce instanceof ImageResource&&(ce.url=se);var he=new ee(ue);return ne||(ne=se),BaseTexture.addToCache(he.baseTexture,ne),ee.addToCache(he,ne),ne!==se&&(BaseTexture.addToCache(he.baseTexture,se),ee.addToCache(he,se)),he.baseTexture.valid?Promise.resolve(he):new Promise(function(de){he.baseTexture.once("loaded",function(){return de(he)})})},ee.addToCache=function(te,se){se&&(te.textureCacheIds.indexOf(se)===-1&&te.textureCacheIds.push(se),TextureCache[se]&&console.warn("Texture added to the cache with an id ["+se+"] that already had an entry"),TextureCache[se]=te)},ee.removeFromCache=function(te){if(typeof te=="string"){var se=TextureCache[te];if(se){var ne=se.textureCacheIds.indexOf(te);return ne>-1&&se.textureCacheIds.splice(ne,1),delete TextureCache[te],se}}else if(te&&te.textureCacheIds){for(var le=0;le<te.textureCacheIds.length;++le)TextureCache[te.textureCacheIds[le]]===te&&delete TextureCache[te.textureCacheIds[le]];return te.textureCacheIds.length=0,te}return null},Object.defineProperty(ee.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"frame",{get:function(){return this._frame},set:function(te){this._frame=te,this.noFrame=!1;var se=te.x,ne=te.y,le=te.width,ue=te.height,ce=se+le>this.baseTexture.width,he=ne+ue>this.baseTexture.height;if(ce||he){var de=ce&&he?"and":"or",_e="X: "+se+" + "+le+" = "+(se+le)+" > "+this.baseTexture.width,fe="Y: "+ne+" + "+ue+" = "+(ne+ue)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(_e+" "+de+" "+fe))}this.valid=le&&ue&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=te),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"rotate",{get:function(){return this._rotate},set:function(te){this._rotate=te,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),ee.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(ee,"EMPTY",{get:function(){return ee._EMPTY||(ee._EMPTY=new ee(new BaseTexture),removeAllHandlers(ee._EMPTY),removeAllHandlers(ee._EMPTY.baseTexture)),ee._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(ee,"WHITE",{get:function(){if(!ee._WHITE){var te=settings$1.ADAPTER.createCanvas(16,16),se=te.getContext("2d");te.width=16,te.height=16,se.fillStyle="white",se.fillRect(0,0,16,16),ee._WHITE=new ee(BaseTexture.from(te)),removeAllHandlers(ee._WHITE),removeAllHandlers(ee._WHITE.baseTexture)}return ee._WHITE},enumerable:!1,configurable:!0}),ee}(EventEmitter$1),RenderTexture$1=function(ie){__extends$9(ee,ie);function ee(te,se){var ne=ie.call(this,te,se)||this;return ne.valid=!0,ne.filterFrame=null,ne.filterPoolKey=null,ne.updateUvs(),ne}return Object.defineProperty(ee.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(te){this.framebuffer.multisample=te},enumerable:!1,configurable:!0}),ee.prototype.resize=function(te,se,ne){ne===void 0&&(ne=!0);var le=this.baseTexture.resolution,ue=Math.round(te*le)/le,ce=Math.round(se*le)/le;this.valid=ue>0&&ce>0,this._frame.width=this.orig.width=ue,this._frame.height=this.orig.height=ce,ne&&this.baseTexture.resize(ue,ce),this.updateUvs()},ee.prototype.setResolution=function(te){var se=this.baseTexture;se.resolution!==te&&(se.setResolution(te),this.resize(se.width,se.height,!1))},ee.create=function(te){for(var se=arguments,ne=[],le=1;le<arguments.length;le++)ne[le-1]=se[le];return typeof te=="number"&&(deprecation$1("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),te={width:te,height:ne[0],scaleMode:ne[1],resolution:ne[2]}),new ee(new BaseRenderTexture(te))},ee}(Texture$1),RenderTexturePool=function(){function ie(ee){this.texturePool={},this.textureOptions=ee||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return ie.prototype.createTexture=function(ee,te,se){se===void 0&&(se=MSAA_QUALITY.NONE);var ne=new BaseRenderTexture(Object.assign({width:ee,height:te,resolution:1,multisample:se},this.textureOptions));return new RenderTexture$1(ne)},ie.prototype.getOptimalTexture=function(ee,te,se,ne){se===void 0&&(se=1),ne===void 0&&(ne=MSAA_QUALITY.NONE);var le;ee=Math.ceil(ee*se-1e-6),te=Math.ceil(te*se-1e-6),!this.enableFullScreen||ee!==this._pixelsWidth||te!==this._pixelsHeight?(ee=nextPow2$1(ee),te=nextPow2$1(te),le=((ee&65535)<<16|te&65535)>>>0,ne>1&&(le+=ne*4294967296)):le=ne>1?-ne:-1,this.texturePool[le]||(this.texturePool[le]=[]);var ue=this.texturePool[le].pop();return ue||(ue=this.createTexture(ee,te,ne)),ue.filterPoolKey=le,ue.setResolution(se),ue},ie.prototype.getFilterTexture=function(ee,te,se){var ne=this.getOptimalTexture(ee.width,ee.height,te||ee.resolution,se||MSAA_QUALITY.NONE);return ne.filterFrame=ee.filterFrame,ne},ie.prototype.returnTexture=function(ee){var te=ee.filterPoolKey;ee.filterFrame=null,this.texturePool[te].push(ee)},ie.prototype.returnFilterTexture=function(ee){this.returnTexture(ee)},ie.prototype.clear=function(ee){if(ee=ee!==!1,ee)for(var te in this.texturePool){var se=this.texturePool[te];if(se)for(var ne=0;ne<se.length;ne++)se[ne].destroy(!0)}this.texturePool={}},ie.prototype.setScreenSize=function(ee){if(!(ee.width===this._pixelsWidth&&ee.height===this._pixelsHeight)){this.enableFullScreen=ee.width>0&&ee.height>0;for(var te in this.texturePool)if(Number(te)<0){var se=this.texturePool[te];if(se)for(var ne=0;ne<se.length;ne++)se[ne].destroy(!0);this.texturePool[te]=[]}this._pixelsWidth=ee.width,this._pixelsHeight=ee.height}},ie.SCREEN_KEY=-1,ie}(),Attribute=function(){function ie(ee,te,se,ne,le,ue,ce){te===void 0&&(te=0),se===void 0&&(se=!1),ne===void 0&&(ne=TYPES.FLOAT),this.buffer=ee,this.size=te,this.normalized=se,this.type=ne,this.stride=le,this.start=ue,this.instance=ce}return ie.prototype.destroy=function(){this.buffer=null},ie.from=function(ee,te,se,ne,le){return new ie(ee,te,se,ne,le)},ie}(),UID$4=0,Buffer$1=function(){function ie(ee,te,se){te===void 0&&(te=!0),se===void 0&&(se=!1),this.data=ee||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=se,this.static=te,this.id=UID$4++,this.disposeRunner=new Runner("disposeBuffer")}return ie.prototype.update=function(ee){ee instanceof Array&&(ee=new Float32Array(ee)),this.data=ee||this.data,this._updateID++},ie.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},ie.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(ie.prototype,"index",{get:function(){return this.type===BUFFER_TYPE$1.ELEMENT_ARRAY_BUFFER},set:function(ee){this.type=ee?BUFFER_TYPE$1.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE$1.ARRAY_BUFFER},enumerable:!1,configurable:!0}),ie.from=function(ee){return ee instanceof Array&&(ee=new Float32Array(ee)),new ie(ee)},ie}(),map$1={Float32Array,Uint32Array,Int32Array,Uint8Array};function interleaveTypedArrays(ie,ee){for(var te=0,se=0,ne={},le=0;le<ie.length;le++)se+=ee[le],te+=ie[le].length;for(var ue=new ArrayBuffer(te*4),ce=null,he=0,le=0;le<ie.length;le++){var de=ee[le],_e=ie[le],fe=getBufferType(_e);ne[fe]||(ne[fe]=new map$1[fe](ue)),ce=ne[fe];for(var ye=0;ye<_e.length;ye++){var be=(ye/de|0)*se+he,Pe=ye%de;ce[be+Pe]=_e[ye]}he+=de}return new Float32Array(ue)}var byteSizeMap$1={5126:4,5123:2,5121:1},UID$3=0,map={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Geometry$1=function(){function ie(ee,te){ee===void 0&&(ee=[]),te===void 0&&(te={}),this.buffers=ee,this.indexBuffer=null,this.attributes=te,this.glVertexArrayObjects={},this.id=UID$3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner("disposeGeometry"),this.refCount=0}return ie.prototype.addAttribute=function(ee,te,se,ne,le,ue,ce,he){if(se===void 0&&(se=0),ne===void 0&&(ne=!1),he===void 0&&(he=!1),!te)throw new Error("You must pass a buffer when creating an attribute");te instanceof Buffer$1||(te instanceof Array&&(te=new Float32Array(te)),te=new Buffer$1(te));var de=ee.split("|");if(de.length>1){for(var _e=0;_e<de.length;_e++)this.addAttribute(de[_e],te,se,ne,le);return this}var fe=this.buffers.indexOf(te);return fe===-1&&(this.buffers.push(te),fe=this.buffers.length-1),this.attributes[ee]=new Attribute(fe,se,ne,le,ue,ce,he),this.instanced=this.instanced||he,this},ie.prototype.getAttribute=function(ee){return this.attributes[ee]},ie.prototype.getBuffer=function(ee){return this.buffers[this.getAttribute(ee).buffer]},ie.prototype.addIndex=function(ee){return ee instanceof Buffer$1||(ee instanceof Array&&(ee=new Uint16Array(ee)),ee=new Buffer$1(ee)),ee.type=BUFFER_TYPE$1.ELEMENT_ARRAY_BUFFER,this.indexBuffer=ee,this.buffers.indexOf(ee)===-1&&this.buffers.push(ee),this},ie.prototype.getIndex=function(){return this.indexBuffer},ie.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var ee=[],te=[],se=new Buffer$1,ne;for(ne in this.attributes){var le=this.attributes[ne],ue=this.buffers[le.buffer];ee.push(ue.data),te.push(le.size*byteSizeMap$1[le.type]/4),le.buffer=0}for(se.data=interleaveTypedArrays(ee,te),ne=0;ne<this.buffers.length;ne++)this.buffers[ne]!==this.indexBuffer&&this.buffers[ne].destroy();return this.buffers=[se],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},ie.prototype.getSize=function(){for(var ee in this.attributes){var te=this.attributes[ee],se=this.buffers[te.buffer];return se.data.length/(te.stride/4||te.size)}return 0},ie.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},ie.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},ie.prototype.clone=function(){for(var ee=new ie,te=0;te<this.buffers.length;te++)ee.buffers[te]=new Buffer$1(this.buffers[te].data.slice(0));for(var te in this.attributes){var se=this.attributes[te];ee.attributes[te]=new Attribute(se.buffer,se.size,se.normalized,se.type,se.stride,se.start,se.instance)}return this.indexBuffer&&(ee.indexBuffer=ee.buffers[this.buffers.indexOf(this.indexBuffer)],ee.indexBuffer.type=BUFFER_TYPE$1.ELEMENT_ARRAY_BUFFER),ee},ie.merge=function(ee){for(var te=new ie,se=[],ne=[],le=[],ue,ce=0;ce<ee.length;ce++){ue=ee[ce];for(var he=0;he<ue.buffers.length;he++)ne[he]=ne[he]||0,ne[he]+=ue.buffers[he].data.length,le[he]=0}for(var ce=0;ce<ue.buffers.length;ce++)se[ce]=new map[getBufferType(ue.buffers[ce].data)](ne[ce]),te.buffers[ce]=new Buffer$1(se[ce]);for(var ce=0;ce<ee.length;ce++){ue=ee[ce];for(var he=0;he<ue.buffers.length;he++)se[he].set(ue.buffers[he].data,le[he]),le[he]+=ue.buffers[he].data.length}if(te.attributes=ue.attributes,ue.indexBuffer){te.indexBuffer=te.buffers[ue.buffers.indexOf(ue.indexBuffer)],te.indexBuffer.type=BUFFER_TYPE$1.ELEMENT_ARRAY_BUFFER;for(var de=0,_e=0,fe=0,ye=0,ce=0;ce<ue.buffers.length;ce++)if(ue.buffers[ce]!==ue.indexBuffer){ye=ce;break}for(var ce in ue.attributes){var be=ue.attributes[ce];(be.buffer|0)===ye&&(_e+=be.size*byteSizeMap$1[be.type]/4)}for(var ce=0;ce<ee.length;ce++){for(var Pe=ee[ce].indexBuffer.data,he=0;he<Pe.length;he++)te.indexBuffer.data[he+fe]+=de;de+=ee[ce].buffers[ye].data.length/_e,fe+=Pe.length}}return te},ie}(),Quad=function(ie){__extends$9(ee,ie);function ee(){var te=ie.call(this)||this;return te.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),te}return ee}(Geometry$1),QuadUv=function(ie){__extends$9(ee,ie);function ee(){var te=ie.call(this)||this;return te.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),te.uvs=new Float32Array([0,0,1,0,1,1,0,1]),te.vertexBuffer=new Buffer$1(te.vertices),te.uvBuffer=new Buffer$1(te.uvs),te.addAttribute("aVertexPosition",te.vertexBuffer).addAttribute("aTextureCoord",te.uvBuffer).addIndex([0,1,2,0,2,3]),te}return ee.prototype.map=function(te,se){var ne=0,le=0;return this.uvs[0]=ne,this.uvs[1]=le,this.uvs[2]=ne+se.width/te.width,this.uvs[3]=le,this.uvs[4]=ne+se.width/te.width,this.uvs[5]=le+se.height/te.height,this.uvs[6]=ne,this.uvs[7]=le+se.height/te.height,ne=se.x,le=se.y,this.vertices[0]=ne,this.vertices[1]=le,this.vertices[2]=ne+se.width,this.vertices[3]=le,this.vertices[4]=ne+se.width,this.vertices[5]=le+se.height,this.vertices[6]=ne,this.vertices[7]=le+se.height,this.invalidate(),this},ee.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},ee}(Geometry$1),UID$2=0,UniformGroup$1=function(){function ie(ee,te,se){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$2++,this.static=!!te,this.ubo=!!se,ee instanceof Buffer$1?(this.buffer=ee,this.buffer.type=BUFFER_TYPE$1.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=ee,this.ubo&&(this.buffer=new Buffer$1(new Float32Array(1)),this.buffer.type=BUFFER_TYPE$1.UNIFORM_BUFFER,this.autoManage=!0))}return ie.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},ie.prototype.add=function(ee,te,se){if(!this.ubo)this.uniforms[ee]=new ie(te,se);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},ie.from=function(ee,te,se){return new ie(ee,te,se)},ie.uboFrom=function(ee,te){return new ie(ee,te??!0,!0)},ie}(),FilterState=function(){function ie(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY.NONE,this.sourceFrame=new Rectangle$1,this.destinationFrame=new Rectangle$1,this.bindingSourceFrame=new Rectangle$1,this.bindingDestinationFrame=new Rectangle$1,this.filters=[],this.transform=null}return ie.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},ie}(),tempPoints$1=[new Point$1,new Point$1,new Point$1,new Point$1],tempMatrix$2$1=new Matrix$1,FilterSystem$1=function(){function ie(ee){this.renderer=ee,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool,this.texturePool.setScreenSize(ee.view),this.statePool=[],this.quad=new Quad,this.quadUv=new QuadUv,this.tempRect=new Rectangle$1,this.activeState={},this.globalUniforms=new UniformGroup$1({outputFrame:new Rectangle$1,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return ie.prototype.push=function(ee,te){for(var se,ne,le=this.renderer,ue=this.defaultFilterStack,ce=this.statePool.pop()||new FilterState,he=this.renderer.renderTexture,de=te[0].resolution,_e=te[0].multisample,fe=te[0].padding,ye=te[0].autoFit,be=(se=te[0].legacy)!==null&&se!==void 0?se:!0,Pe=1;Pe<te.length;Pe++){var Ne=te[Pe];de=Math.min(de,Ne.resolution),_e=Math.min(_e,Ne.multisample),fe=this.useMaxPadding?Math.max(fe,Ne.padding):fe+Ne.padding,ye=ye&&Ne.autoFit,be=be||((ne=Ne.legacy)!==null&&ne!==void 0?ne:!0)}ue.length===1&&(this.defaultFilterStack[0].renderTexture=he.current),ue.push(ce),ce.resolution=de,ce.multisample=_e,ce.legacy=be,ce.target=ee,ce.sourceFrame.copyFrom(ee.filterArea||ee.getBounds(!0)),ce.sourceFrame.pad(fe);var we=this.tempRect.copyFrom(he.sourceFrame);le.projection.transform&&this.transformAABB(tempMatrix$2$1.copyFrom(le.projection.transform).invert(),we),ye?(ce.sourceFrame.fit(we),(ce.sourceFrame.width<=0||ce.sourceFrame.height<=0)&&(ce.sourceFrame.width=0,ce.sourceFrame.height=0)):ce.sourceFrame.intersects(we)||(ce.sourceFrame.width=0,ce.sourceFrame.height=0),this.roundFrame(ce.sourceFrame,he.current?he.current.resolution:le.resolution,he.sourceFrame,he.destinationFrame,le.projection.transform),ce.renderTexture=this.getOptimalFilterTexture(ce.sourceFrame.width,ce.sourceFrame.height,de,_e),ce.filters=te,ce.destinationFrame.width=ce.renderTexture.width,ce.destinationFrame.height=ce.renderTexture.height;var De=this.tempRect;De.x=0,De.y=0,De.width=ce.sourceFrame.width,De.height=ce.sourceFrame.height,ce.renderTexture.filterFrame=ce.sourceFrame,ce.bindingSourceFrame.copyFrom(he.sourceFrame),ce.bindingDestinationFrame.copyFrom(he.destinationFrame),ce.transform=le.projection.transform,le.projection.transform=null,he.bind(ce.renderTexture,ce.sourceFrame,De),le.framebuffer.clear(0,0,0,0)},ie.prototype.pop=function(){var ee=this.defaultFilterStack,te=ee.pop(),se=te.filters;this.activeState=te;var ne=this.globalUniforms.uniforms;ne.outputFrame=te.sourceFrame,ne.resolution=te.resolution;var le=ne.inputSize,ue=ne.inputPixel,ce=ne.inputClamp;if(le[0]=te.destinationFrame.width,le[1]=te.destinationFrame.height,le[2]=1/le[0],le[3]=1/le[1],ue[0]=Math.round(le[0]*te.resolution),ue[1]=Math.round(le[1]*te.resolution),ue[2]=1/ue[0],ue[3]=1/ue[1],ce[0]=.5*ue[2],ce[1]=.5*ue[3],ce[2]=te.sourceFrame.width*le[2]-.5*ue[2],ce[3]=te.sourceFrame.height*le[3]-.5*ue[3],te.legacy){var he=ne.filterArea;he[0]=te.destinationFrame.width,he[1]=te.destinationFrame.height,he[2]=te.sourceFrame.x,he[3]=te.sourceFrame.y,ne.filterClamp=ne.inputClamp}this.globalUniforms.update();var de=ee[ee.length-1];if(this.renderer.framebuffer.blit(),se.length===1)se[0].apply(this,te.renderTexture,de.renderTexture,CLEAR_MODES.BLEND,te),this.returnFilterTexture(te.renderTexture);else{var _e=te.renderTexture,fe=this.getOptimalFilterTexture(_e.width,_e.height,te.resolution);fe.filterFrame=_e.filterFrame;var ye=0;for(ye=0;ye<se.length-1;++ye){ye===1&&te.multisample>1&&(fe=this.getOptimalFilterTexture(_e.width,_e.height,te.resolution),fe.filterFrame=_e.filterFrame),se[ye].apply(this,_e,fe,CLEAR_MODES.CLEAR,te);var be=_e;_e=fe,fe=be}se[ye].apply(this,_e,de.renderTexture,CLEAR_MODES.BLEND,te),ye>1&&te.multisample>1&&this.returnFilterTexture(te.renderTexture),this.returnFilterTexture(_e),this.returnFilterTexture(fe)}te.clear(),this.statePool.push(te)},ie.prototype.bindAndClear=function(ee,te){te===void 0&&(te=CLEAR_MODES.CLEAR);var se=this.renderer,ne=se.renderTexture,le=se.state;if(ee===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,ee&&ee.filterFrame){var ue=this.tempRect;ue.x=0,ue.y=0,ue.width=ee.filterFrame.width,ue.height=ee.filterFrame.height,ne.bind(ee,ee.filterFrame,ue)}else ee!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?ne.bind(ee):this.renderer.renderTexture.bind(ee,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var ce=le.stateId&1||this.forceClear;(te===CLEAR_MODES.CLEAR||te===CLEAR_MODES.BLIT&&ce)&&this.renderer.framebuffer.clear(0,0,0,0)},ie.prototype.applyFilter=function(ee,te,se,ne){var le=this.renderer;le.state.set(ee.state),this.bindAndClear(se,ne),ee.uniforms.uSampler=te,ee.uniforms.filterGlobals=this.globalUniforms,le.shader.bind(ee),ee.legacy=!!ee.program.attributeData.aTextureCoord,ee.legacy?(this.quadUv.map(te._frame,te.filterFrame),le.geometry.bind(this.quadUv),le.geometry.draw(DRAW_MODES.TRIANGLES)):(le.geometry.bind(this.quad),le.geometry.draw(DRAW_MODES.TRIANGLE_STRIP))},ie.prototype.calculateSpriteMatrix=function(ee,te){var se=this.activeState,ne=se.sourceFrame,le=se.destinationFrame,ue=te._texture.orig,ce=ee.set(le.width,0,0,le.height,ne.x,ne.y),he=te.worldTransform.copyTo(Matrix$1.TEMP_MATRIX);return he.invert(),ce.prepend(he),ce.scale(1/ue.width,1/ue.height),ce.translate(te.anchor.x,te.anchor.y),ce},ie.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},ie.prototype.getOptimalFilterTexture=function(ee,te,se,ne){return se===void 0&&(se=1),ne===void 0&&(ne=MSAA_QUALITY.NONE),this.texturePool.getOptimalTexture(ee,te,se,ne)},ie.prototype.getFilterTexture=function(ee,te,se){if(typeof ee=="number"){var ne=ee;ee=te,te=ne}ee=ee||this.activeState.renderTexture;var le=this.texturePool.getOptimalTexture(ee.width,ee.height,te||ee.resolution,se||MSAA_QUALITY.NONE);return le.filterFrame=ee.filterFrame,le},ie.prototype.returnFilterTexture=function(ee){this.texturePool.returnTexture(ee)},ie.prototype.emptyPool=function(){this.texturePool.clear(!0)},ie.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},ie.prototype.transformAABB=function(ee,te){var se=tempPoints$1[0],ne=tempPoints$1[1],le=tempPoints$1[2],ue=tempPoints$1[3];se.set(te.left,te.top),ne.set(te.left,te.bottom),le.set(te.right,te.top),ue.set(te.right,te.bottom),ee.apply(se,se),ee.apply(ne,ne),ee.apply(le,le),ee.apply(ue,ue);var ce=Math.min(se.x,ne.x,le.x,ue.x),he=Math.min(se.y,ne.y,le.y,ue.y),de=Math.max(se.x,ne.x,le.x,ue.x),_e=Math.max(se.y,ne.y,le.y,ue.y);te.x=ce,te.y=he,te.width=de-ce,te.height=_e-he},ie.prototype.roundFrame=function(ee,te,se,ne,le){if(!(ee.width<=0||ee.height<=0||se.width<=0||se.height<=0)){if(le){var ue=le.a,ce=le.b,he=le.c,de=le.d;if((Math.abs(ce)>1e-4||Math.abs(he)>1e-4)&&(Math.abs(ue)>1e-4||Math.abs(de)>1e-4))return}le=le?tempMatrix$2$1.copyFrom(le):tempMatrix$2$1.identity(),le.translate(-se.x,-se.y).scale(ne.width/se.width,ne.height/se.height).translate(ne.x,ne.y),this.transformAABB(le,ee),ee.ceil(te),this.transformAABB(le.invert(),ee)}},ie}(),ObjectRenderer=function(){function ie(ee){this.renderer=ee}return ie.prototype.flush=function(){},ie.prototype.destroy=function(){this.renderer=null},ie.prototype.start=function(){},ie.prototype.stop=function(){this.flush()},ie.prototype.render=function(ee){},ie}(),BatchSystem=function(){function ie(ee){this.renderer=ee,this.emptyRenderer=new ObjectRenderer(ee),this.currentRenderer=this.emptyRenderer}return ie.prototype.setObjectRenderer=function(ee){this.currentRenderer!==ee&&(this.currentRenderer.stop(),this.currentRenderer=ee,this.currentRenderer.start())},ie.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},ie.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},ie.prototype.copyBoundTextures=function(ee,te){for(var se=this.renderer.texture.boundTextures,ne=te-1;ne>=0;--ne)ee[ne]=se[ne]||null,ee[ne]&&(ee[ne]._batchLocation=ne)},ie.prototype.boundArray=function(ee,te,se,ne){for(var le=ee.elements,ue=ee.ids,ce=ee.count,he=0,de=0;de<ce;de++){var _e=le[de],fe=_e._batchLocation;if(fe>=0&&fe<ne&&te[fe]===_e){ue[de]=fe;continue}for(;he<ne;){var ye=te[he];if(ye&&ye._batchEnabled===se&&ye._batchLocation===he){he++;continue}ue[de]=he,_e._batchLocation=he,te[he]=_e;break}}},ie.prototype.destroy=function(){this.renderer=null},ie}(),CONTEXT_UID_COUNTER=0,ContextSystem=function(){function ie(ee){this.renderer=ee,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),ee.view.addEventListener("webglcontextlost",this.handleContextLost,!1),ee.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(ie.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),ie.prototype.contextChange=function(ee){this.gl=ee,this.renderer.gl=ee,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++},ie.prototype.initFromContext=function(ee){this.gl=ee,this.validateContext(ee),this.renderer.gl=ee,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,this.renderer.runners.contextChange.emit(ee)},ie.prototype.initFromOptions=function(ee){var te=this.createContext(this.renderer.view,ee);this.initFromContext(te)},ie.prototype.createContext=function(ee,te){var se;if(settings$1.PREFER_ENV>=ENV.WEBGL2&&(se=ee.getContext("webgl2",te)),se)this.webGLVersion=2;else if(this.webGLVersion=1,se=ee.getContext("webgl",te)||ee.getContext("experimental-webgl",te),!se)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=se,this.getExtensions(),this.gl},ie.prototype.getExtensions=function(){var ee=this.gl,te={loseContext:ee.getExtension("WEBGL_lose_context"),anisotropicFiltering:ee.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:ee.getExtension("OES_texture_float_linear"),s3tc:ee.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ee.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ee.getExtension("WEBGL_compressed_texture_etc"),etc1:ee.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ee.getExtension("WEBGL_compressed_texture_pvrtc")||ee.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ee.getExtension("WEBGL_compressed_texture_atc"),astc:ee.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,te,{drawBuffers:ee.getExtension("WEBGL_draw_buffers"),depthTexture:ee.getExtension("WEBGL_depth_texture"),vertexArrayObject:ee.getExtension("OES_vertex_array_object")||ee.getExtension("MOZ_OES_vertex_array_object")||ee.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:ee.getExtension("OES_element_index_uint"),floatTexture:ee.getExtension("OES_texture_float"),floatTextureLinear:ee.getExtension("OES_texture_float_linear"),textureHalfFloat:ee.getExtension("OES_texture_half_float"),textureHalfFloatLinear:ee.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,te,{colorBufferFloat:ee.getExtension("EXT_color_buffer_float")})},ie.prototype.handleContextLost=function(ee){var te=this;ee.preventDefault(),setTimeout(function(){te.gl.isContextLost()&&te.extensions.loseContext&&te.extensions.loseContext.restoreContext()},0)},ie.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},ie.prototype.destroy=function(){var ee=this.renderer.view;this.renderer=null,ee.removeEventListener("webglcontextlost",this.handleContextLost),ee.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},ie.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},ie.prototype.validateContext=function(ee){var te=ee.getContextAttributes(),se="WebGL2RenderingContext"in globalThis&&ee instanceof globalThis.WebGL2RenderingContext;se&&(this.webGLVersion=2),te&&!te.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var ne=se||!!ee.getExtension("OES_element_index_uint");this.supports.uint32Indices=ne,ne||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},ie}(),GLFramebuffer=function(){function ie(ee){this.framebuffer=ee,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return ie}(),tempRectangle$1=new Rectangle$1,FramebufferSystem=function(){function ie(ee){this.renderer=ee,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer(10,10),this.msaaSamples=null}return ie.prototype.contextChange=function(){this.disposeAll(!0);var ee=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle$1,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){var te=this.renderer.context.extensions.drawBuffers,se=this.renderer.context.extensions.depthTexture;settings$1.PREFER_ENV===ENV.WEBGL_LEGACY&&(te=null,se=null),te?ee.drawBuffers=function(ne){return te.drawBuffersWEBGL(ne)}:(this.hasMRT=!1,ee.drawBuffers=function(){}),se||(this.writeDepthTexture=!1)}else this.msaaSamples=ee.getInternalformatParameter(ee.RENDERBUFFER,ee.RGBA8,ee.SAMPLES)},ie.prototype.bind=function(ee,te,se){se===void 0&&(se=0);var ne=this.gl;if(ee){var le=ee.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(ee);this.current!==ee&&(this.current=ee,ne.bindFramebuffer(ne.FRAMEBUFFER,le.framebuffer)),le.mipLevel!==se&&(ee.dirtyId++,ee.dirtyFormat++,le.mipLevel=se),le.dirtyId!==ee.dirtyId&&(le.dirtyId=ee.dirtyId,le.dirtyFormat!==ee.dirtyFormat?(le.dirtyFormat=ee.dirtyFormat,le.dirtySize=ee.dirtySize,this.updateFramebuffer(ee,se)):le.dirtySize!==ee.dirtySize&&(le.dirtySize=ee.dirtySize,this.resizeFramebuffer(ee)));for(var ue=0;ue<ee.colorTextures.length;ue++){var ce=ee.colorTextures[ue];this.renderer.texture.unbind(ce.parentTextureArray||ce)}if(ee.depthTexture&&this.renderer.texture.unbind(ee.depthTexture),te){var he=te.width>>se,de=te.height>>se,_e=he/te.width;this.setViewport(te.x*_e,te.y*_e,he,de)}else{var he=ee.width>>se,de=ee.height>>se;this.setViewport(0,0,he,de)}}else this.current&&(this.current=null,ne.bindFramebuffer(ne.FRAMEBUFFER,null)),te?this.setViewport(te.x,te.y,te.width,te.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},ie.prototype.setViewport=function(ee,te,se,ne){var le=this.viewport;ee=Math.round(ee),te=Math.round(te),se=Math.round(se),ne=Math.round(ne),(le.width!==se||le.height!==ne||le.x!==ee||le.y!==te)&&(le.x=ee,le.y=te,le.width=se,le.height=ne,this.gl.viewport(ee,te,se,ne))},Object.defineProperty(ie.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),ie.prototype.clear=function(ee,te,se,ne,le){le===void 0&&(le=BUFFER_BITS.COLOR|BUFFER_BITS.DEPTH);var ue=this.gl;ue.clearColor(ee,te,se,ne),ue.clear(le)},ie.prototype.initFramebuffer=function(ee){var te=this.gl,se=new GLFramebuffer(te.createFramebuffer());return se.multisample=this.detectSamples(ee.multisample),ee.glFramebuffers[this.CONTEXT_UID]=se,this.managedFramebuffers.push(ee),ee.disposeRunner.add(this),se},ie.prototype.resizeFramebuffer=function(ee){var te=this.gl,se=ee.glFramebuffers[this.CONTEXT_UID];se.msaaBuffer&&(te.bindRenderbuffer(te.RENDERBUFFER,se.msaaBuffer),te.renderbufferStorageMultisample(te.RENDERBUFFER,se.multisample,te.RGBA8,ee.width,ee.height)),se.stencil&&(te.bindRenderbuffer(te.RENDERBUFFER,se.stencil),se.msaaBuffer?te.renderbufferStorageMultisample(te.RENDERBUFFER,se.multisample,te.DEPTH24_STENCIL8,ee.width,ee.height):te.renderbufferStorage(te.RENDERBUFFER,te.DEPTH_STENCIL,ee.width,ee.height));var ne=ee.colorTextures,le=ne.length;te.drawBuffers||(le=Math.min(le,1));for(var ue=0;ue<le;ue++){var ce=ne[ue],he=ce.parentTextureArray||ce;this.renderer.texture.bind(he,0)}ee.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(ee.depthTexture,0)},ie.prototype.updateFramebuffer=function(ee,te){var se=this.gl,ne=ee.glFramebuffers[this.CONTEXT_UID],le=ee.colorTextures,ue=le.length;se.drawBuffers||(ue=Math.min(ue,1)),ne.multisample>1&&this.canMultisampleFramebuffer(ee)?(ne.msaaBuffer=ne.msaaBuffer||se.createRenderbuffer(),se.bindRenderbuffer(se.RENDERBUFFER,ne.msaaBuffer),se.renderbufferStorageMultisample(se.RENDERBUFFER,ne.multisample,se.RGBA8,ee.width,ee.height),se.framebufferRenderbuffer(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.RENDERBUFFER,ne.msaaBuffer)):ne.msaaBuffer&&(se.deleteRenderbuffer(ne.msaaBuffer),ne.msaaBuffer=null,ne.blitFramebuffer&&(ne.blitFramebuffer.dispose(),ne.blitFramebuffer=null));for(var ce=[],he=0;he<ue;he++){var de=le[he],_e=de.parentTextureArray||de;this.renderer.texture.bind(_e,0),!(he===0&&ne.msaaBuffer)&&(se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0+he,de.target,_e._glTextures[this.CONTEXT_UID].texture,te),ce.push(se.COLOR_ATTACHMENT0+he))}if(ce.length>1&&se.drawBuffers(ce),ee.depthTexture){var fe=this.writeDepthTexture;if(fe){var ye=ee.depthTexture;this.renderer.texture.bind(ye,0),se.framebufferTexture2D(se.FRAMEBUFFER,se.DEPTH_ATTACHMENT,se.TEXTURE_2D,ye._glTextures[this.CONTEXT_UID].texture,te)}}(ee.stencil||ee.depth)&&!(ee.depthTexture&&this.writeDepthTexture)?(ne.stencil=ne.stencil||se.createRenderbuffer(),se.bindRenderbuffer(se.RENDERBUFFER,ne.stencil),ne.msaaBuffer?se.renderbufferStorageMultisample(se.RENDERBUFFER,ne.multisample,se.DEPTH24_STENCIL8,ee.width,ee.height):se.renderbufferStorage(se.RENDERBUFFER,se.DEPTH_STENCIL,ee.width,ee.height),se.framebufferRenderbuffer(se.FRAMEBUFFER,se.DEPTH_STENCIL_ATTACHMENT,se.RENDERBUFFER,ne.stencil)):ne.stencil&&(se.deleteRenderbuffer(ne.stencil),ne.stencil=null)},ie.prototype.canMultisampleFramebuffer=function(ee){return this.renderer.context.webGLVersion!==1&&ee.colorTextures.length<=1&&!ee.depthTexture},ie.prototype.detectSamples=function(ee){var te=this.msaaSamples,se=MSAA_QUALITY.NONE;if(ee<=1||te===null)return se;for(var ne=0;ne<te.length;ne++)if(te[ne]<=ee){se=te[ne];break}return se===1&&(se=MSAA_QUALITY.NONE),se},ie.prototype.blit=function(ee,te,se){var ne=this,le=ne.current,ue=ne.renderer,ce=ne.gl,he=ne.CONTEXT_UID;if(ue.context.webGLVersion===2&&le){var de=le.glFramebuffers[he];if(de){if(!ee){if(!de.msaaBuffer)return;var _e=le.colorTextures[0];if(!_e)return;de.blitFramebuffer||(de.blitFramebuffer=new Framebuffer(le.width,le.height),de.blitFramebuffer.addColorTexture(0,_e)),ee=de.blitFramebuffer,ee.colorTextures[0]!==_e&&(ee.colorTextures[0]=_e,ee.dirtyId++,ee.dirtyFormat++),(ee.width!==le.width||ee.height!==le.height)&&(ee.width=le.width,ee.height=le.height,ee.dirtyId++,ee.dirtySize++)}te||(te=tempRectangle$1,te.width=le.width,te.height=le.height),se||(se=te);var fe=te.width===se.width&&te.height===se.height;this.bind(ee),ce.bindFramebuffer(ce.READ_FRAMEBUFFER,de.framebuffer),ce.blitFramebuffer(te.left,te.top,te.right,te.bottom,se.left,se.top,se.right,se.bottom,ce.COLOR_BUFFER_BIT,fe?ce.NEAREST:ce.LINEAR)}}},ie.prototype.disposeFramebuffer=function(ee,te){var se=ee.glFramebuffers[this.CONTEXT_UID],ne=this.gl;if(se){delete ee.glFramebuffers[this.CONTEXT_UID];var le=this.managedFramebuffers.indexOf(ee);le>=0&&this.managedFramebuffers.splice(le,1),ee.disposeRunner.remove(this),te||(ne.deleteFramebuffer(se.framebuffer),se.msaaBuffer&&ne.deleteRenderbuffer(se.msaaBuffer),se.stencil&&ne.deleteRenderbuffer(se.stencil)),se.blitFramebuffer&&se.blitFramebuffer.dispose()}},ie.prototype.disposeAll=function(ee){var te=this.managedFramebuffers;this.managedFramebuffers=[];for(var se=0;se<te.length;se++)this.disposeFramebuffer(te[se],ee)},ie.prototype.forceStencil=function(){var ee=this.current;if(ee){var te=ee.glFramebuffers[this.CONTEXT_UID];if(!(!te||te.stencil)){ee.stencil=!0;var se=ee.width,ne=ee.height,le=this.gl,ue=le.createRenderbuffer();le.bindRenderbuffer(le.RENDERBUFFER,ue),te.msaaBuffer?le.renderbufferStorageMultisample(le.RENDERBUFFER,te.multisample,le.DEPTH24_STENCIL8,se,ne):le.renderbufferStorage(le.RENDERBUFFER,le.DEPTH_STENCIL,se,ne),te.stencil=ue,le.framebufferRenderbuffer(le.FRAMEBUFFER,le.DEPTH_STENCIL_ATTACHMENT,le.RENDERBUFFER,ue)}}},ie.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle$1},ie.prototype.destroy=function(){this.renderer=null},ie}(),byteSizeMap={5126:4,5123:2,5121:1},GeometrySystem=function(){function ie(ee){this.renderer=ee,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return ie.prototype.contextChange=function(){this.disposeAll(!0);var ee=this.gl=this.renderer.gl,te=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,te.webGLVersion!==2){var se=this.renderer.context.extensions.vertexArrayObject;settings$1.PREFER_ENV===ENV.WEBGL_LEGACY&&(se=null),se?(ee.createVertexArray=function(){return se.createVertexArrayOES()},ee.bindVertexArray=function(le){return se.bindVertexArrayOES(le)},ee.deleteVertexArray=function(le){return se.deleteVertexArrayOES(le)}):(this.hasVao=!1,ee.createVertexArray=function(){return null},ee.bindVertexArray=function(){return null},ee.deleteVertexArray=function(){return null})}if(te.webGLVersion!==2){var ne=ee.getExtension("ANGLE_instanced_arrays");ne?(ee.vertexAttribDivisor=function(le,ue){return ne.vertexAttribDivisorANGLE(le,ue)},ee.drawElementsInstanced=function(le,ue,ce,he,de){return ne.drawElementsInstancedANGLE(le,ue,ce,he,de)},ee.drawArraysInstanced=function(le,ue,ce,he){return ne.drawArraysInstancedANGLE(le,ue,ce,he)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=te.webGLVersion===2||!!te.extensions.uint32ElementIndex},ie.prototype.bind=function(ee,te){te=te||this.renderer.shader.shader;var se=this.gl,ne=ee.glVertexArrayObjects[this.CONTEXT_UID],le=!1;ne||(this.managedGeometries[ee.id]=ee,ee.disposeRunner.add(this),ee.glVertexArrayObjects[this.CONTEXT_UID]=ne={},le=!0);var ue=ne[te.program.id]||this.initGeometryVao(ee,te,le);this._activeGeometry=ee,this._activeVao!==ue&&(this._activeVao=ue,this.hasVao?se.bindVertexArray(ue):this.activateVao(ee,te.program)),this.updateBuffers()},ie.prototype.reset=function(){this.unbind()},ie.prototype.updateBuffers=function(){for(var ee=this._activeGeometry,te=this.renderer.buffer,se=0;se<ee.buffers.length;se++){var ne=ee.buffers[se];te.update(ne)}},ie.prototype.checkCompatibility=function(ee,te){var se=ee.attributes,ne=te.attributeData;for(var le in ne)if(!se[le])throw new Error('shader and geometry incompatible, geometry missing the "'+le+'" attribute')},ie.prototype.getSignature=function(ee,te){var se=ee.attributes,ne=te.attributeData,le=["g",ee.id];for(var ue in se)ne[ue]&&le.push(ue,ne[ue].location);return le.join("-")},ie.prototype.initGeometryVao=function(ee,te,se){se===void 0&&(se=!0);var ne=this.gl,le=this.CONTEXT_UID,ue=this.renderer.buffer,ce=te.program;ce.glPrograms[le]||this.renderer.shader.generateProgram(te),this.checkCompatibility(ee,ce);var he=this.getSignature(ee,ce),de=ee.glVertexArrayObjects[this.CONTEXT_UID],_e=de[he];if(_e)return de[ce.id]=_e,_e;var fe=ee.buffers,ye=ee.attributes,be={},Pe={};for(var Ne in fe)be[Ne]=0,Pe[Ne]=0;for(var Ne in ye)!ye[Ne].size&&ce.attributeData[Ne]?ye[Ne].size=ce.attributeData[Ne].size:ye[Ne].size||console.warn("PIXI Geometry attribute '"+Ne+"' size cannot be determined (likely the bound shader does not have the attribute)"),be[ye[Ne].buffer]+=ye[Ne].size*byteSizeMap[ye[Ne].type];for(var Ne in ye){var we=ye[Ne],De=we.size;we.stride===void 0&&(be[we.buffer]===De*byteSizeMap[we.type]?we.stride=0:we.stride=be[we.buffer]),we.start===void 0&&(we.start=Pe[we.buffer],Pe[we.buffer]+=De*byteSizeMap[we.type])}_e=ne.createVertexArray(),ne.bindVertexArray(_e);for(var $e=0;$e<fe.length;$e++){var Ge=fe[$e];ue.bind(Ge),se&&Ge._glBuffers[le].refCount++}return this.activateVao(ee,ce),this._activeVao=_e,de[ce.id]=_e,de[he]=_e,_e},ie.prototype.disposeGeometry=function(ee,te){var se;if(this.managedGeometries[ee.id]){delete this.managedGeometries[ee.id];var ne=ee.glVertexArrayObjects[this.CONTEXT_UID],le=this.gl,ue=ee.buffers,ce=(se=this.renderer)===null||se===void 0?void 0:se.buffer;if(ee.disposeRunner.remove(this),!!ne){if(ce)for(var he=0;he<ue.length;he++){var de=ue[he]._glBuffers[this.CONTEXT_UID];de&&(de.refCount--,de.refCount===0&&!te&&ce.dispose(ue[he],te))}if(!te){for(var _e in ne)if(_e[0]==="g"){var fe=ne[_e];this._activeVao===fe&&this.unbind(),le.deleteVertexArray(fe)}}delete ee.glVertexArrayObjects[this.CONTEXT_UID]}}},ie.prototype.disposeAll=function(ee){for(var te=Object.keys(this.managedGeometries),se=0;se<te.length;se++)this.disposeGeometry(this.managedGeometries[te[se]],ee)},ie.prototype.activateVao=function(ee,te){var se=this.gl,ne=this.CONTEXT_UID,le=this.renderer.buffer,ue=ee.buffers,ce=ee.attributes;ee.indexBuffer&&le.bind(ee.indexBuffer);var he=null;for(var de in ce){var _e=ce[de],fe=ue[_e.buffer],ye=fe._glBuffers[ne];if(te.attributeData[de]){he!==ye&&(le.bind(fe),he=ye);var be=te.attributeData[de].location;if(se.enableVertexAttribArray(be),se.vertexAttribPointer(be,_e.size,_e.type||se.FLOAT,_e.normalized,_e.stride,_e.start),_e.instance)if(this.hasInstance)se.vertexAttribDivisor(be,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},ie.prototype.draw=function(ee,te,se,ne){var le=this.gl,ue=this._activeGeometry;if(ue.indexBuffer){var ce=ue.indexBuffer.data.BYTES_PER_ELEMENT,he=ce===2?le.UNSIGNED_SHORT:le.UNSIGNED_INT;ce===2||ce===4&&this.canUseUInt32ElementIndex?ue.instanced?le.drawElementsInstanced(ee,te||ue.indexBuffer.data.length,he,(se||0)*ce,ne||1):le.drawElements(ee,te||ue.indexBuffer.data.length,he,(se||0)*ce):console.warn("unsupported index buffer type: uint32")}else ue.instanced?le.drawArraysInstanced(ee,se,te||ue.getSize(),ne||1):le.drawArrays(ee,se,te||ue.getSize());return this},ie.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},ie.prototype.destroy=function(){this.renderer=null},ie}(),MaskData=function(){function ie(ee){ee===void 0&&(ee=null),this.type=MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=ee||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=settings$1.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(ie.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(ee){ee?this._filters?this._filters[0]=ee:this._filters=[ee]:this._filters=null},enumerable:!1,configurable:!0}),ie.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},ie.prototype.copyCountersOrReset=function(ee){ee?(this._stencilCounter=ee._stencilCounter,this._scissorCounter=ee._scissorCounter,this._scissorRect=ee._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},ie}();function compileShader$1(ie,ee,te){var se=ie.createShader(ee);return ie.shaderSource(se,te),ie.compileShader(se),se}function logPrettyShaderError$1(ie,ee){var te=ie.getShaderSource(ee).split(`
`).map(function(de,_e){return _e+": "+de}),se=ie.getShaderInfoLog(ee),ne=se.split(`
`),le={},ue=ne.map(function(de){return parseFloat(de.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(de){return de&&!le[de]?(le[de]=!0,!0):!1}),ce=[""];ue.forEach(function(de){te[de-1]="%c"+te[de-1]+"%c",ce.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var he=te.join(`
`);ce[0]=he,console.error(se),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,ce),console.groupEnd()}function logProgramError$1(ie,ee,te,se){ie.getProgramParameter(ee,ie.LINK_STATUS)||(ie.getShaderParameter(te,ie.COMPILE_STATUS)||logPrettyShaderError$1(ie,te),ie.getShaderParameter(se,ie.COMPILE_STATUS)||logPrettyShaderError$1(ie,se),console.error("PixiJS Error: Could not initialize shader."),ie.getProgramInfoLog(ee)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",ie.getProgramInfoLog(ee)))}function booleanArray$1(ie){for(var ee=new Array(ie),te=0;te<ee.length;te++)ee[te]=!1;return ee}function defaultValue$1(ie,ee){switch(ie){case"float":return 0;case"vec2":return new Float32Array(2*ee);case"vec3":return new Float32Array(3*ee);case"vec4":return new Float32Array(4*ee);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*ee);case"ivec3":return new Int32Array(3*ee);case"ivec4":return new Int32Array(4*ee);case"uvec2":return new Uint32Array(2*ee);case"uvec3":return new Uint32Array(3*ee);case"uvec4":return new Uint32Array(4*ee);case"bool":return!1;case"bvec2":return booleanArray$1(2*ee);case"bvec3":return booleanArray$1(3*ee);case"bvec4":return booleanArray$1(4*ee);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var unknownContext={},context$1=unknownContext;function getTestContext$1(){if(context$1===unknownContext||context$1&&context$1.isContextLost()){var ie=settings$1.ADAPTER.createCanvas(),ee=void 0;settings$1.PREFER_ENV>=ENV.WEBGL2&&(ee=ie.getContext("webgl2",{})),ee||(ee=ie.getContext("webgl",{})||ie.getContext("experimental-webgl",{}),ee?ee.getExtension("WEBGL_draw_buffers"):ee=null),context$1=ee}return context$1}var maxFragmentPrecision$1;function getMaxFragmentPrecision$1(){if(!maxFragmentPrecision$1){maxFragmentPrecision$1=PRECISION.MEDIUM;var ie=getTestContext$1();if(ie&&ie.getShaderPrecisionFormat){var ee=ie.getShaderPrecisionFormat(ie.FRAGMENT_SHADER,ie.HIGH_FLOAT);maxFragmentPrecision$1=ee.precision?PRECISION.HIGH:PRECISION.MEDIUM}}return maxFragmentPrecision$1}function setPrecision(ie,ee,te){if(ie.substring(0,9)!=="precision"){var se=ee;return ee===PRECISION.HIGH&&te!==PRECISION.HIGH&&(se=PRECISION.MEDIUM),"precision "+se+` float;
`+ie}else if(te!==PRECISION.HIGH&&ie.substring(0,15)==="precision highp")return ie.replace("precision highp","precision mediump");return ie}var GLSL_TO_SIZE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize(ie){return GLSL_TO_SIZE[ie]}var GL_TABLE$1=null,GL_TO_GLSL_TYPES$1={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType$1(ie,ee){if(!GL_TABLE$1){var te=Object.keys(GL_TO_GLSL_TYPES$1);GL_TABLE$1={};for(var se=0;se<te.length;++se){var ne=te[se];GL_TABLE$1[ie[ne]]=GL_TO_GLSL_TYPES$1[ne]}}return GL_TABLE$1[ee]}var uniformParsers$1=[{test:function(ie){return ie.type==="float"&&ie.size===1&&!ie.isArray},code:function(ie){return`
            if(uv["`+ie+'"] !== ud["'+ie+`"].value)
            {
                ud["`+ie+'"].value = uv["'+ie+`"]
                gl.uniform1f(ud["`+ie+'"].location, uv["'+ie+`"])
            }
            `}},{test:function(ie,ee){return(ie.type==="sampler2D"||ie.type==="samplerCube"||ie.type==="sampler2DArray")&&ie.size===1&&!ie.isArray&&(ee==null||ee.castToBaseTexture!==void 0)},code:function(ie){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+ie+`"], t);

            if(ud["`+ie+`"].value !== t)
            {
                ud["`+ie+`"].value = t;
                gl.uniform1i(ud["`+ie+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(ie,ee){return ie.type==="mat3"&&ie.size===1&&!ie.isArray&&ee.a!==void 0},code:function(ie){return`
            gl.uniformMatrix3fv(ud["`+ie+'"].location, false, uv["'+ie+`"].toArray(true));
            `},codeUbo:function(ie){return`
                var `+ie+"_matrix = uv."+ie+`.toArray(true);

                data[offset] = `+ie+`_matrix[0];
                data[offset+1] = `+ie+`_matrix[1];
                data[offset+2] = `+ie+`_matrix[2];
        
                data[offset + 4] = `+ie+`_matrix[3];
                data[offset + 5] = `+ie+`_matrix[4];
                data[offset + 6] = `+ie+`_matrix[5];
        
                data[offset + 8] = `+ie+`_matrix[6];
                data[offset + 9] = `+ie+`_matrix[7];
                data[offset + 10] = `+ie+`_matrix[8];
            `}},{test:function(ie,ee){return ie.type==="vec2"&&ie.size===1&&!ie.isArray&&ee.x!==void 0},code:function(ie){return`
                cv = ud["`+ie+`"].value;
                v = uv["`+ie+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+ie+`"].location, v.x, v.y);
                }`},codeUbo:function(ie){return`
                v = uv.`+ie+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(ie){return ie.type==="vec2"&&ie.size===1&&!ie.isArray},code:function(ie){return`
                cv = ud["`+ie+`"].value;
                v = uv["`+ie+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+ie+`"].location, v[0], v[1]);
                }
            `}},{test:function(ie,ee){return ie.type==="vec4"&&ie.size===1&&!ie.isArray&&ee.width!==void 0},code:function(ie){return`
                cv = ud["`+ie+`"].value;
                v = uv["`+ie+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+ie+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(ie){return`
                    v = uv.`+ie+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(ie){return ie.type==="vec4"&&ie.size===1&&!ie.isArray},code:function(ie){return`
                cv = ud["`+ie+`"].value;
                v = uv["`+ie+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+ie+`"].location, v[0], v[1], v[2], v[3])
                }`}}],GLSL_TO_SINGLE_SETTERS_CACHED={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},GLSL_TO_ARRAY_SETTERS={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function generateUniformsSync$1(ie,ee){var te,se=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var ne in ie.uniforms){var le=ee[ne];if(!le){!((te=ie.uniforms[ne])===null||te===void 0)&&te.group&&(ie.uniforms[ne].ubo?se.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+ne+", '"+ne+`');
                    `):se.push(`
                        renderer.shader.syncUniformGroup(uv.`+ne+`, syncData);
                    `));continue}for(var ue=ie.uniforms[ne],ce=!1,he=0;he<uniformParsers$1.length;he++)if(uniformParsers$1[he].test(le,ue)){se.push(uniformParsers$1[he].code(ne,ue)),ce=!0;break}if(!ce){var de=le.size===1&&!le.isArray?GLSL_TO_SINGLE_SETTERS_CACHED:GLSL_TO_ARRAY_SETTERS,_e=de[le.type].replace("location",'ud["'+ne+'"].location');se.push(`
            cu = ud["`+ne+`"];
            cv = cu.value;
            v = uv["`+ne+`"];
            `+_e+";")}}return new Function("ud","uv","renderer","syncData",se.join(`
`))}var fragTemplate=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(ie){for(var ee="",te=0;te<ie;++te)te>0&&(ee+=`
else `),te<ie-1&&(ee+="if(test == "+te+".0){}");return ee}function checkMaxIfStatementsInShader(ie,ee){if(ie===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var te=ee.createShader(ee.FRAGMENT_SHADER);;){var se=fragTemplate.replace(/%forloop%/gi,generateIfTestSrc(ie));if(ee.shaderSource(te,se),ee.compileShader(te),!ee.getShaderParameter(te,ee.COMPILE_STATUS))ie=ie/2|0;else break}return ie}var unsafeEval$1;function unsafeEvalSupported$1(){if(typeof unsafeEval$1=="boolean")return unsafeEval$1;try{var ie=new Function("param1","param2","param3","return param1[param2] === param3;");unsafeEval$1=ie({a:"b"},"a","b")===!0}catch{unsafeEval$1=!1}return unsafeEval$1}var defaultFragment$2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,defaultVertex$3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,UID$1=0,nameCache={},Program=function(){function ie(ee,te,se){se===void 0&&(se="pixi-shader"),this.id=UID$1++,this.vertexSrc=ee||ie.defaultVertexSrc,this.fragmentSrc=te||ie.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(se=se.replace(/\s+/g,"-"),nameCache[se]?(nameCache[se]++,se+="-"+nameCache[se]):nameCache[se]=1,this.vertexSrc="#define SHADER_NAME "+se+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+se+`
`+this.fragmentSrc,this.vertexSrc=setPrecision(this.vertexSrc,settings$1.PRECISION_VERTEX,PRECISION.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,settings$1.PRECISION_FRAGMENT,getMaxFragmentPrecision$1())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(ie,"defaultVertexSrc",{get:function(){return defaultVertex$3},enumerable:!1,configurable:!0}),Object.defineProperty(ie,"defaultFragmentSrc",{get:function(){return defaultFragment$2},enumerable:!1,configurable:!0}),ie.from=function(ee,te,se){var ne=ee+te,le=ProgramCache[ne];return le||(ProgramCache[ne]=le=new ie(ee,te,se)),le},ie}(),Shader$1=function(){function ie(ee,te){this.uniformBindCount=0,this.program=ee,te?te instanceof UniformGroup$1?this.uniformGroup=te:this.uniformGroup=new UniformGroup$1(te):this.uniformGroup=new UniformGroup$1({}),this.disposeRunner=new Runner("disposeShader")}return ie.prototype.checkUniformExists=function(ee,te){if(te.uniforms[ee])return!0;for(var se in te.uniforms){var ne=te.uniforms[se];if(ne.group&&this.checkUniformExists(ee,ne))return!0}return!1},ie.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(ie.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),ie.from=function(ee,te,se){var ne=Program.from(ee,te);return new ie(ne,se)},ie}(),BLEND$1$1=0,OFFSET$1$1=1,CULLING$1$1=2,DEPTH_TEST$1$1=3,WINDING$1$1=4,DEPTH_MASK$1$1=5,State$1=function(){function ie(){this.data=0,this.blendMode=BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(ie.prototype,"blend",{get:function(){return!!(this.data&1<<BLEND$1$1)},set:function(ee){!!(this.data&1<<BLEND$1$1)!==ee&&(this.data^=1<<BLEND$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"offsets",{get:function(){return!!(this.data&1<<OFFSET$1$1)},set:function(ee){!!(this.data&1<<OFFSET$1$1)!==ee&&(this.data^=1<<OFFSET$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"culling",{get:function(){return!!(this.data&1<<CULLING$1$1)},set:function(ee){!!(this.data&1<<CULLING$1$1)!==ee&&(this.data^=1<<CULLING$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"depthTest",{get:function(){return!!(this.data&1<<DEPTH_TEST$1$1)},set:function(ee){!!(this.data&1<<DEPTH_TEST$1$1)!==ee&&(this.data^=1<<DEPTH_TEST$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"depthMask",{get:function(){return!!(this.data&1<<DEPTH_MASK$1$1)},set:function(ee){!!(this.data&1<<DEPTH_MASK$1$1)!==ee&&(this.data^=1<<DEPTH_MASK$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<WINDING$1$1)},set:function(ee){!!(this.data&1<<WINDING$1$1)!==ee&&(this.data^=1<<WINDING$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"blendMode",{get:function(){return this._blendMode},set:function(ee){this.blend=ee!==BLEND_MODES.NONE,this._blendMode=ee},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(ee){this.offsets=!!ee,this._polygonOffset=ee},enumerable:!1,configurable:!0}),ie.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},ie.for2d=function(){var ee=new ie;return ee.depthTest=!1,ee.blend=!0,ee},ie}(),defaultFragment$1=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,defaultVertex$2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Filter$1=function(ie){__extends$9(ee,ie);function ee(te,se,ne){var le=this,ue=Program.from(te||ee.defaultVertexSrc,se||ee.defaultFragmentSrc);return le=ie.call(this,ue,ne)||this,le.padding=0,le.resolution=settings$1.FILTER_RESOLUTION,le.multisample=settings$1.FILTER_MULTISAMPLE,le.enabled=!0,le.autoFit=!0,le.state=new State$1,le}return ee.prototype.apply=function(te,se,ne,le,ue){te.applyFilter(this,se,ne,le)},Object.defineProperty(ee.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(te){this.state.blendMode=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"resolution",{get:function(){return this._resolution},set:function(te){this._resolution=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee,"defaultVertexSrc",{get:function(){return defaultVertex$2},enumerable:!1,configurable:!0}),Object.defineProperty(ee,"defaultFragmentSrc",{get:function(){return defaultFragment$1},enumerable:!1,configurable:!0}),ee}(Shader$1),vertex$3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,fragment$5=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,tempMat$2=new Matrix$1,TextureMatrix$1=function(){function ie(ee,te){this._texture=ee,this.mapCoord=new Matrix$1,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof te>"u"?.5:te,this.isSimple=!1}return Object.defineProperty(ie.prototype,"texture",{get:function(){return this._texture},set:function(ee){this._texture=ee,this._textureID=-1},enumerable:!1,configurable:!0}),ie.prototype.multiplyUvs=function(ee,te){te===void 0&&(te=ee);for(var se=this.mapCoord,ne=0;ne<ee.length;ne+=2){var le=ee[ne],ue=ee[ne+1];te[ne]=le*se.a+ue*se.c+se.tx,te[ne+1]=le*se.b+ue*se.d+se.ty}return te},ie.prototype.update=function(ee){var te=this._texture;if(!te||!te.valid||!ee&&this._textureID===te._updateID)return!1;this._textureID=te._updateID,this._updateID++;var se=te._uvs;this.mapCoord.set(se.x1-se.x0,se.y1-se.y0,se.x3-se.x0,se.y3-se.y0,se.x0,se.y0);var ne=te.orig,le=te.trim;le&&(tempMat$2.set(ne.width/le.width,0,0,ne.height/le.height,-le.x/le.width,-le.y/le.height),this.mapCoord.append(tempMat$2));var ue=te.baseTexture,ce=this.uClampFrame,he=this.clampMargin/ue.resolution,de=this.clampOffset;return ce[0]=(te._frame.x+he+de)/ue.width,ce[1]=(te._frame.y+he+de)/ue.height,ce[2]=(te._frame.x+te._frame.width-he+de)/ue.width,ce[3]=(te._frame.y+te._frame.height-he+de)/ue.height,this.uClampOffset[0]=de/ue.realWidth,this.uClampOffset[1]=de/ue.realHeight,this.isSimple=te._frame.width===ue.width&&te._frame.height===ue.height&&te.rotate===0,!0},ie}(),SpriteMaskFilter=function(ie){__extends$9(ee,ie);function ee(te,se,ne){var le=this,ue=null;return typeof te!="string"&&se===void 0&&ne===void 0&&(ue=te,te=void 0,se=void 0,ne=void 0),le=ie.call(this,te||vertex$3,se||fragment$5,ne)||this,le.maskSprite=ue,le.maskMatrix=new Matrix$1,le}return Object.defineProperty(ee.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(te){this._maskSprite=te,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),ee.prototype.apply=function(te,se,ne,le){var ue=this._maskSprite,ce=ue._texture;ce.valid&&(ce.uvMatrix||(ce.uvMatrix=new TextureMatrix$1(ce,0)),ce.uvMatrix.update(),this.uniforms.npmAlpha=ce.baseTexture.alphaMode?0:1,this.uniforms.mask=ce,this.uniforms.otherMatrix=te.calculateSpriteMatrix(this.maskMatrix,ue).prepend(ce.uvMatrix.mapCoord),this.uniforms.alpha=ue.worldAlpha,this.uniforms.maskClamp=ce.uvMatrix.uClampFrame,te.applyFilter(this,se,ne,le))},ee}(Filter$1),MaskSystem=function(){function ie(ee){this.renderer=ee,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return ie.prototype.setMaskStack=function(ee){this.maskStack=ee,this.renderer.scissor.setMaskStack(ee),this.renderer.stencil.setMaskStack(ee)},ie.prototype.push=function(ee,te){var se=te;if(!se.isMaskData){var ne=this.maskDataPool.pop()||new MaskData;ne.pooled=!0,ne.maskObject=te,se=ne}var le=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(se.copyCountersOrReset(le),se._colorMask=le?le._colorMask:15,se.autoDetect&&this.detect(se),se._target=ee,se.type!==MASK_TYPES.SPRITE&&this.maskStack.push(se),se.enabled)switch(se.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.push(se);break;case MASK_TYPES.STENCIL:this.renderer.stencil.push(se);break;case MASK_TYPES.SPRITE:se.copyCountersOrReset(null),this.pushSpriteMask(se);break;case MASK_TYPES.COLOR:this.pushColorMask(se);break}se.type===MASK_TYPES.SPRITE&&this.maskStack.push(se)},ie.prototype.pop=function(ee){var te=this.maskStack.pop();if(!(!te||te._target!==ee)){if(te.enabled)switch(te.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.pop(te);break;case MASK_TYPES.STENCIL:this.renderer.stencil.pop(te.maskObject);break;case MASK_TYPES.SPRITE:this.popSpriteMask(te);break;case MASK_TYPES.COLOR:this.popColorMask(te);break}if(te.reset(),te.pooled&&this.maskDataPool.push(te),this.maskStack.length!==0){var se=this.maskStack[this.maskStack.length-1];se.type===MASK_TYPES.SPRITE&&se._filters&&(se._filters[0].maskSprite=se.maskObject)}}},ie.prototype.detect=function(ee){var te=ee.maskObject;te?te.isSprite?ee.type=MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(ee)?ee.type=MASK_TYPES.SCISSOR:ee.type=MASK_TYPES.STENCIL:ee.type=MASK_TYPES.COLOR},ie.prototype.pushSpriteMask=function(ee){var te,se,ne=ee.maskObject,le=ee._target,ue=ee._filters;ue||(ue=this.alphaMaskPool[this.alphaMaskIndex],ue||(ue=this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter]));var ce=this.renderer,he=ce.renderTexture,de,_e;if(he.current){var fe=he.current;de=ee.resolution||fe.resolution,_e=(te=ee.multisample)!==null&&te!==void 0?te:fe.multisample}else de=ee.resolution||ce.resolution,_e=(se=ee.multisample)!==null&&se!==void 0?se:ce.multisample;ue[0].resolution=de,ue[0].multisample=_e,ue[0].maskSprite=ne;var ye=le.filterArea;le.filterArea=ne.getBounds(!0),ce.filter.push(le,ue),le.filterArea=ye,ee._filters||this.alphaMaskIndex++},ie.prototype.popSpriteMask=function(ee){this.renderer.filter.pop(),ee._filters?ee._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},ie.prototype.pushColorMask=function(ee){var te=ee._colorMask,se=ee._colorMask=te&ee.colorMask;se!==te&&this.renderer.gl.colorMask((se&1)!==0,(se&2)!==0,(se&4)!==0,(se&8)!==0)},ie.prototype.popColorMask=function(ee){var te=ee._colorMask,se=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;se!==te&&this.renderer.gl.colorMask((se&1)!==0,(se&2)!==0,(se&4)!==0,(se&8)!==0)},ie.prototype.destroy=function(){this.renderer=null},ie}(),AbstractMaskSystem=function(){function ie(ee){this.renderer=ee,this.maskStack=[],this.glConst=0}return ie.prototype.getStackLength=function(){return this.maskStack.length},ie.prototype.setMaskStack=function(ee){var te=this.renderer.gl,se=this.getStackLength();this.maskStack=ee;var ne=this.getStackLength();ne!==se&&(ne===0?te.disable(this.glConst):(te.enable(this.glConst),this._useCurrent()))},ie.prototype._useCurrent=function(){},ie.prototype.destroy=function(){this.renderer=null,this.maskStack=null},ie}(),tempMatrix$1$1=new Matrix$1,rectPool=[],ScissorSystem=function(ie){__extends$9(ee,ie);function ee(te){var se=ie.call(this,te)||this;return se.glConst=settings$1.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,se}return ee.prototype.getStackLength=function(){var te=this.maskStack[this.maskStack.length-1];return te?te._scissorCounter:0},ee.prototype.calcScissorRect=function(te){var se;if(!te._scissorRectLocal){var ne=te._scissorRect,le=te.maskObject,ue=this.renderer,ce=ue.renderTexture,he=le.getBounds(!0,(se=rectPool.pop())!==null&&se!==void 0?se:new Rectangle$1);this.roundFrameToPixels(he,ce.current?ce.current.resolution:ue.resolution,ce.sourceFrame,ce.destinationFrame,ue.projection.transform),ne&&he.fit(ne),te._scissorRectLocal=he}},ee.isMatrixRotated=function(te){if(!te)return!1;var se=te.a,ne=te.b,le=te.c,ue=te.d;return(Math.abs(ne)>1e-4||Math.abs(le)>1e-4)&&(Math.abs(se)>1e-4||Math.abs(ue)>1e-4)},ee.prototype.testScissor=function(te){var se=te.maskObject;if(!se.isFastRect||!se.isFastRect()||ee.isMatrixRotated(se.worldTransform)||ee.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(te);var ne=te._scissorRectLocal;return ne.width>0&&ne.height>0},ee.prototype.roundFrameToPixels=function(te,se,ne,le,ue){ee.isMatrixRotated(ue)||(ue=ue?tempMatrix$1$1.copyFrom(ue):tempMatrix$1$1.identity(),ue.translate(-ne.x,-ne.y).scale(le.width/ne.width,le.height/ne.height).translate(le.x,le.y),this.renderer.filter.transformAABB(ue,te),te.fit(le),te.x=Math.round(te.x*se),te.y=Math.round(te.y*se),te.width=Math.round(te.width*se),te.height=Math.round(te.height*se))},ee.prototype.push=function(te){te._scissorRectLocal||this.calcScissorRect(te);var se=this.renderer.gl;te._scissorRect||se.enable(se.SCISSOR_TEST),te._scissorCounter++,te._scissorRect=te._scissorRectLocal,this._useCurrent()},ee.prototype.pop=function(te){var se=this.renderer.gl;te&&rectPool.push(te._scissorRectLocal),this.getStackLength()>0?this._useCurrent():se.disable(se.SCISSOR_TEST)},ee.prototype._useCurrent=function(){var te=this.maskStack[this.maskStack.length-1]._scissorRect,se;this.renderer.renderTexture.current?se=te.y:se=this.renderer.height-te.height-te.y,this.renderer.gl.scissor(te.x,se,te.width,te.height)},ee}(AbstractMaskSystem),StencilSystem=function(ie){__extends$9(ee,ie);function ee(te){var se=ie.call(this,te)||this;return se.glConst=settings$1.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,se}return ee.prototype.getStackLength=function(){var te=this.maskStack[this.maskStack.length-1];return te?te._stencilCounter:0},ee.prototype.push=function(te){var se=te.maskObject,ne=this.renderer.gl,le=te._stencilCounter;le===0&&(this.renderer.framebuffer.forceStencil(),ne.clearStencil(0),ne.clear(ne.STENCIL_BUFFER_BIT),ne.enable(ne.STENCIL_TEST)),te._stencilCounter++;var ue=te._colorMask;ue!==0&&(te._colorMask=0,ne.colorMask(!1,!1,!1,!1)),ne.stencilFunc(ne.EQUAL,le,4294967295),ne.stencilOp(ne.KEEP,ne.KEEP,ne.INCR),se.renderable=!0,se.render(this.renderer),this.renderer.batch.flush(),se.renderable=!1,ue!==0&&(te._colorMask=ue,ne.colorMask((ue&1)!==0,(ue&2)!==0,(ue&4)!==0,(ue&8)!==0)),this._useCurrent()},ee.prototype.pop=function(te){var se=this.renderer.gl;if(this.getStackLength()===0)se.disable(se.STENCIL_TEST);else{var ne=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,le=ne?ne._colorMask:15;le!==0&&(ne._colorMask=0,se.colorMask(!1,!1,!1,!1)),se.stencilOp(se.KEEP,se.KEEP,se.DECR),te.renderable=!0,te.render(this.renderer),this.renderer.batch.flush(),te.renderable=!1,le!==0&&(ne._colorMask=le,se.colorMask((le&1)!==0,(le&2)!==0,(le&4)!==0,(le&8)!==0)),this._useCurrent()}},ee.prototype._useCurrent=function(){var te=this.renderer.gl;te.stencilFunc(te.EQUAL,this.getStackLength(),4294967295),te.stencilOp(te.KEEP,te.KEEP,te.KEEP)},ee}(AbstractMaskSystem),ProjectionSystem=function(){function ie(ee){this.renderer=ee,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix$1,this.transform=null}return ie.prototype.update=function(ee,te,se,ne){this.destinationFrame=ee||this.destinationFrame||this.defaultFrame,this.sourceFrame=te||this.sourceFrame||ee,this.calculateProjection(this.destinationFrame,this.sourceFrame,se,ne),this.transform&&this.projectionMatrix.append(this.transform);var le=this.renderer;le.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,le.globalUniforms.update(),le.shader.shader&&le.shader.syncUniformGroup(le.shader.shader.uniforms.globals)},ie.prototype.calculateProjection=function(ee,te,se,ne){var le=this.projectionMatrix,ue=ne?-1:1;le.identity(),le.a=1/te.width*2,le.d=ue*(1/te.height*2),le.tx=-1-te.x*le.a,le.ty=-ue-te.y*le.d},ie.prototype.setTransform=function(ee){},ie.prototype.destroy=function(){this.renderer=null},ie}(),tempRect$2=new Rectangle$1,tempRect2=new Rectangle$1,RenderTextureSystem=function(){function ie(ee){this.renderer=ee,this.clearColor=ee._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle$1,this.destinationFrame=new Rectangle$1,this.viewportFrame=new Rectangle$1}return ie.prototype.bind=function(ee,te,se){ee===void 0&&(ee=null);var ne=this.renderer;this.current=ee;var le,ue,ce;ee?(le=ee.baseTexture,ce=le.resolution,te||(tempRect$2.width=ee.frame.width,tempRect$2.height=ee.frame.height,te=tempRect$2),se||(tempRect2.x=ee.frame.x,tempRect2.y=ee.frame.y,tempRect2.width=te.width,tempRect2.height=te.height,se=tempRect2),ue=le.framebuffer):(ce=ne.resolution,te||(tempRect$2.width=ne.screen.width,tempRect$2.height=ne.screen.height,te=tempRect$2),se||(se=tempRect$2,se.width=te.width,se.height=te.height));var he=this.viewportFrame;he.x=se.x*ce,he.y=se.y*ce,he.width=se.width*ce,he.height=se.height*ce,ee||(he.y=ne.view.height-(he.y+he.height)),he.ceil(),this.renderer.framebuffer.bind(ue,he),this.renderer.projection.update(se,te,ce,!ue),ee?this.renderer.mask.setMaskStack(le.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(te),this.destinationFrame.copyFrom(se)},ie.prototype.clear=function(ee,te){this.current?ee=ee||this.current.baseTexture.clearColor:ee=ee||this.clearColor;var se=this.destinationFrame,ne=this.current?this.current.baseTexture:this.renderer.screen,le=se.width!==ne.width||se.height!==ne.height;if(le){var ue=this.viewportFrame,ce=ue.x,he=ue.y,de=ue.width,_e=ue.height;ce=Math.round(ce),he=Math.round(he),de=Math.round(de),_e=Math.round(_e),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(ce,he,de,_e)}this.renderer.framebuffer.clear(ee[0],ee[1],ee[2],ee[3],te),le&&this.renderer.scissor.pop()},ie.prototype.resize=function(){this.bind(null)},ie.prototype.reset=function(){this.bind(null)},ie.prototype.destroy=function(){this.renderer=null},ie}();function uboUpdate(ie,ee,te,se,ne){te.buffer.update(ne)}var UBO_TO_SINGLE_SETTERS={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},GLSL_TO_STD40_SIZE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function createUBOElements(ie){for(var ee=ie.map(function(he){return{data:he,offset:0,dataLen:0,dirty:0}}),te=0,se=0,ne=0,le=0;le<ee.length;le++){var ue=ee[le];if(te=GLSL_TO_STD40_SIZE[ue.data.type],ue.data.size>1&&(te=Math.max(te,16)*ue.data.size),ue.dataLen=te,se%te!==0&&se<16){var ce=se%te%16;se+=ce,ne+=ce}se+te>16?(ne=Math.ceil(ne/16)*16,ue.offset=ne,ne+=te,se=te):(ue.offset=ne,se+=te,ne+=te)}return ne=Math.ceil(ne/16)*16,{uboElements:ee,size:ne}}function getUBOData(ie,ee){var te=[];for(var se in ie)ee[se]&&te.push(ee[se]);return te.sort(function(ne,le){return ne.index-le.index}),te}function generateUniformBufferSync(ie,ee){if(!ie.autoManage)return{size:0,syncFunc:uboUpdate};for(var te=getUBOData(ie.uniforms,ee),se=createUBOElements(te),ne=se.uboElements,le=se.size,ue=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],ce=0;ce<ne.length;ce++){for(var he=ne[ce],de=ie.uniforms[he.data.name],_e=he.data.name,fe=!1,ye=0;ye<uniformParsers$1.length;ye++){var be=uniformParsers$1[ye];if(be.codeUbo&&be.test(he.data,de)){ue.push("offset = "+he.offset/4+";",uniformParsers$1[ye].codeUbo(he.data.name,de)),fe=!0;break}}if(!fe)if(he.data.size>1){var Pe=mapSize(he.data.type),Ne=Math.max(GLSL_TO_STD40_SIZE[he.data.type]/16,1),we=Pe/Ne,De=(4-we%4)%4;ue.push(`
                cv = ud.`+_e+`.value;
                v = uv.`+_e+`;
                offset = `+he.offset/4+`;

                t = 0;

                for(var i=0; i < `+he.data.size*Ne+`; i++)
                {
                    for(var j = 0; j < `+we+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+De+`;
                }

                `)}else{var $e=UBO_TO_SINGLE_SETTERS[he.data.type];ue.push(`
                cv = ud.`+_e+`.value;
                v = uv.`+_e+`;
                offset = `+he.offset/4+`;
                `+$e+`;
                `)}}return ue.push(`
       renderer.buffer.update(buffer);
    `),{size:le,syncFunc:new Function("ud","uv","renderer","syncData","buffer",ue.join(`
`))}}var GLProgram=function(){function ie(ee,te){this.program=ee,this.uniformData=te,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return ie.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},ie}();function getAttributeData(ie,ee){for(var te={},se=ee.getProgramParameter(ie,ee.ACTIVE_ATTRIBUTES),ne=0;ne<se;ne++){var le=ee.getActiveAttrib(ie,ne);if(le.name.indexOf("gl_")!==0){var ue=mapType$1(ee,le.type),ce={type:ue,name:le.name,size:mapSize(ue),location:ee.getAttribLocation(ie,le.name)};te[le.name]=ce}}return te}function getUniformData$1(ie,ee){for(var te={},se=ee.getProgramParameter(ie,ee.ACTIVE_UNIFORMS),ne=0;ne<se;ne++){var le=ee.getActiveUniform(ie,ne),ue=le.name.replace(/\[.*?\]$/,""),ce=!!le.name.match(/\[.*?\]$/),he=mapType$1(ee,le.type);te[ue]={name:ue,index:ne,type:he,size:le.size,isArray:ce,value:defaultValue$1(he,le.size)}}return te}function generateProgram$1(ie,ee){var te=compileShader$1(ie,ie.VERTEX_SHADER,ee.vertexSrc),se=compileShader$1(ie,ie.FRAGMENT_SHADER,ee.fragmentSrc),ne=ie.createProgram();if(ie.attachShader(ne,te),ie.attachShader(ne,se),ie.linkProgram(ne),ie.getProgramParameter(ne,ie.LINK_STATUS)||logProgramError$1(ie,ne,te,se),ee.attributeData=getAttributeData(ne,ie),ee.uniformData=getUniformData$1(ne,ie),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(ee.vertexSrc)){var le=Object.keys(ee.attributeData);le.sort(function(_e,fe){return _e>fe?1:-1});for(var ue=0;ue<le.length;ue++)ee.attributeData[le[ue]].location=ue,ie.bindAttribLocation(ne,ue,le[ue]);ie.linkProgram(ne)}ie.deleteShader(te),ie.deleteShader(se);var ce={};for(var ue in ee.uniformData){var he=ee.uniformData[ue];ce[ue]={location:ie.getUniformLocation(ne,ue),value:defaultValue$1(he.type,he.size)}}var de=new GLProgram(ne,ce);return de}var UID=0,defaultSyncData$1={textureCount:0,uboCount:0},ShaderSystem=function(){function ie(ee){this.destroyed=!1,this.renderer=ee,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID++}return ie.prototype.systemCheck=function(){if(!unsafeEvalSupported$1())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},ie.prototype.contextChange=function(ee){this.gl=ee,this.reset()},ie.prototype.bind=function(ee,te){ee.disposeRunner.add(this),ee.uniforms.globals=this.renderer.globalUniforms;var se=ee.program,ne=se.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(ee);return this.shader=ee,this.program!==se&&(this.program=se,this.gl.useProgram(ne.program)),te||(defaultSyncData$1.textureCount=0,defaultSyncData$1.uboCount=0,this.syncUniformGroup(ee.uniformGroup,defaultSyncData$1)),ne},ie.prototype.setUniforms=function(ee){var te=this.shader.program,se=te.glPrograms[this.renderer.CONTEXT_UID];te.syncUniforms(se.uniformData,ee,this.renderer)},ie.prototype.syncUniformGroup=function(ee,te){var se=this.getGlProgram();(!ee.static||ee.dirtyId!==se.uniformDirtyGroups[ee.id])&&(se.uniformDirtyGroups[ee.id]=ee.dirtyId,this.syncUniforms(ee,se,te))},ie.prototype.syncUniforms=function(ee,te,se){var ne=ee.syncUniforms[this.shader.program.id]||this.createSyncGroups(ee);ne(te.uniformData,ee.uniforms,this.renderer,se)},ie.prototype.createSyncGroups=function(ee){var te=this.getSignature(ee,this.shader.program.uniformData,"u");return this.cache[te]||(this.cache[te]=generateUniformsSync$1(ee,this.shader.program.uniformData)),ee.syncUniforms[this.shader.program.id]=this.cache[te],ee.syncUniforms[this.shader.program.id]},ie.prototype.syncUniformBufferGroup=function(ee,te){var se=this.getGlProgram();if(!ee.static||ee.dirtyId!==0||!se.uniformGroups[ee.id]){ee.dirtyId=0;var ne=se.uniformGroups[ee.id]||this.createSyncBufferGroup(ee,se,te);ee.buffer.update(),ne(se.uniformData,ee.uniforms,this.renderer,defaultSyncData$1,ee.buffer)}this.renderer.buffer.bindBufferBase(ee.buffer,se.uniformBufferBindings[te])},ie.prototype.createSyncBufferGroup=function(ee,te,se){var ne=this.renderer.gl;this.renderer.buffer.bind(ee.buffer);var le=this.gl.getUniformBlockIndex(te.program,se);te.uniformBufferBindings[se]=this.shader.uniformBindCount,ne.uniformBlockBinding(te.program,le,this.shader.uniformBindCount),this.shader.uniformBindCount++;var ue=this.getSignature(ee,this.shader.program.uniformData,"ubo"),ce=this._uboCache[ue];if(ce||(ce=this._uboCache[ue]=generateUniformBufferSync(ee,this.shader.program.uniformData)),ee.autoManage){var he=new Float32Array(ce.size/4);ee.buffer.update(he)}return te.uniformGroups[ee.id]=ce.syncFunc,te.uniformGroups[ee.id]},ie.prototype.getSignature=function(ee,te,se){var ne=ee.uniforms,le=[se+"-"];for(var ue in ne)le.push(ue),te[ue]&&le.push(te[ue].type);return le.join("-")},ie.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},ie.prototype.generateProgram=function(ee){var te=this.gl,se=ee.program,ne=generateProgram$1(te,se);return se.glPrograms[this.renderer.CONTEXT_UID]=ne,ne},ie.prototype.reset=function(){this.program=null,this.shader=null},ie.prototype.disposeShader=function(ee){this.shader===ee&&(this.shader=null)},ie.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},ie}();function mapWebGLBlendModesToPixi$1(ie,ee){return ee===void 0&&(ee=[]),ee[BLEND_MODES.NORMAL]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.ADD]=[ie.ONE,ie.ONE],ee[BLEND_MODES.MULTIPLY]=[ie.DST_COLOR,ie.ONE_MINUS_SRC_ALPHA,ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.SCREEN]=[ie.ONE,ie.ONE_MINUS_SRC_COLOR,ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.OVERLAY]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.DARKEN]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.LIGHTEN]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.COLOR_DODGE]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.COLOR_BURN]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.HARD_LIGHT]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.SOFT_LIGHT]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.DIFFERENCE]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.EXCLUSION]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.HUE]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.SATURATION]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.COLOR]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.LUMINOSITY]=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.NONE]=[0,0],ee[BLEND_MODES.NORMAL_NPM]=[ie.SRC_ALPHA,ie.ONE_MINUS_SRC_ALPHA,ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.ADD_NPM]=[ie.SRC_ALPHA,ie.ONE,ie.ONE,ie.ONE],ee[BLEND_MODES.SCREEN_NPM]=[ie.SRC_ALPHA,ie.ONE_MINUS_SRC_COLOR,ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.SRC_IN]=[ie.DST_ALPHA,ie.ZERO],ee[BLEND_MODES.SRC_OUT]=[ie.ONE_MINUS_DST_ALPHA,ie.ZERO],ee[BLEND_MODES.SRC_ATOP]=[ie.DST_ALPHA,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.DST_OVER]=[ie.ONE_MINUS_DST_ALPHA,ie.ONE],ee[BLEND_MODES.DST_IN]=[ie.ZERO,ie.SRC_ALPHA],ee[BLEND_MODES.DST_OUT]=[ie.ZERO,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.DST_ATOP]=[ie.ONE_MINUS_DST_ALPHA,ie.SRC_ALPHA],ee[BLEND_MODES.XOR]=[ie.ONE_MINUS_DST_ALPHA,ie.ONE_MINUS_SRC_ALPHA],ee[BLEND_MODES.SUBTRACT]=[ie.ONE,ie.ONE,ie.ONE,ie.ONE,ie.FUNC_REVERSE_SUBTRACT,ie.FUNC_ADD],ee}var BLEND$2=0,OFFSET$2=1,CULLING$2=2,DEPTH_TEST$2=3,WINDING$2=4,DEPTH_MASK$2=5,StateSystem=function(){function ie(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[BLEND$2]=this.setBlend,this.map[OFFSET$2]=this.setOffset,this.map[CULLING$2]=this.setCullFace,this.map[DEPTH_TEST$2]=this.setDepthTest,this.map[WINDING$2]=this.setFrontFace,this.map[DEPTH_MASK$2]=this.setDepthMask,this.checks=[],this.defaultState=new State$1,this.defaultState.blend=!0}return ie.prototype.contextChange=function(ee){this.gl=ee,this.blendModes=mapWebGLBlendModesToPixi$1(ee),this.set(this.defaultState),this.reset()},ie.prototype.set=function(ee){if(ee=ee||this.defaultState,this.stateId!==ee.data){for(var te=this.stateId^ee.data,se=0;te;)te&1&&this.map[se].call(this,!!(ee.data&1<<se)),te=te>>1,se++;this.stateId=ee.data}for(var se=0;se<this.checks.length;se++)this.checks[se](this,ee)},ie.prototype.forceState=function(ee){ee=ee||this.defaultState;for(var te=0;te<this.map.length;te++)this.map[te].call(this,!!(ee.data&1<<te));for(var te=0;te<this.checks.length;te++)this.checks[te](this,ee);this.stateId=ee.data},ie.prototype.setBlend=function(ee){this.updateCheck(ie.checkBlendMode,ee),this.gl[ee?"enable":"disable"](this.gl.BLEND)},ie.prototype.setOffset=function(ee){this.updateCheck(ie.checkPolygonOffset,ee),this.gl[ee?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},ie.prototype.setDepthTest=function(ee){this.gl[ee?"enable":"disable"](this.gl.DEPTH_TEST)},ie.prototype.setDepthMask=function(ee){this.gl.depthMask(ee)},ie.prototype.setCullFace=function(ee){this.gl[ee?"enable":"disable"](this.gl.CULL_FACE)},ie.prototype.setFrontFace=function(ee){this.gl.frontFace(this.gl[ee?"CW":"CCW"])},ie.prototype.setBlendMode=function(ee){if(ee!==this.blendMode){this.blendMode=ee;var te=this.blendModes[ee],se=this.gl;te.length===2?se.blendFunc(te[0],te[1]):se.blendFuncSeparate(te[0],te[1],te[2],te[3]),te.length===6?(this._blendEq=!0,se.blendEquationSeparate(te[4],te[5])):this._blendEq&&(this._blendEq=!1,se.blendEquationSeparate(se.FUNC_ADD,se.FUNC_ADD))}},ie.prototype.setPolygonOffset=function(ee,te){this.gl.polygonOffset(ee,te)},ie.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},ie.prototype.updateCheck=function(ee,te){var se=this.checks.indexOf(ee);te&&se===-1?this.checks.push(ee):!te&&se!==-1&&this.checks.splice(se,1)},ie.checkBlendMode=function(ee,te){ee.setBlendMode(te.blendMode)},ie.checkPolygonOffset=function(ee,te){ee.setPolygonOffset(1,te.polygonOffset)},ie.prototype.destroy=function(){this.gl=null},ie}(),TextureGCSystem$1=function(){function ie(ee){this.renderer=ee,this.count=0,this.checkCount=0,this.maxIdle=settings$1.GC_MAX_IDLE,this.checkCountMax=settings$1.GC_MAX_CHECK_COUNT,this.mode=settings$1.GC_MODE}return ie.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},ie.prototype.run=function(){for(var ee=this.renderer.texture,te=ee.managedTextures,se=!1,ne=0;ne<te.length;ne++){var le=te[ne];!le.framebuffer&&this.count-le.touched>this.maxIdle&&(ee.destroyTexture(le,!0),te[ne]=null,se=!0)}if(se){for(var ue=0,ne=0;ne<te.length;ne++)te[ne]!==null&&(te[ue++]=te[ne]);te.length=ue}},ie.prototype.unload=function(ee){var te=this.renderer.texture,se=ee._texture;se&&!se.framebuffer&&te.destroyTexture(se);for(var ne=ee.children.length-1;ne>=0;ne--)this.unload(ee.children[ne])},ie.prototype.destroy=function(){this.renderer=null},ie}();function mapTypeAndFormatToInternalFormat(ie){var ee,te,se,ne,le,ue,ce,he,de,_e,fe,ye,be,Pe,Ne,we,De,$e,Ge,Be,ze,$t,ut;return"WebGL2RenderingContext"in globalThis&&ie instanceof globalThis.WebGL2RenderingContext?ut=(ee={},ee[TYPES.UNSIGNED_BYTE]=(te={},te[FORMATS.RGBA]=ie.RGBA8,te[FORMATS.RGB]=ie.RGB8,te[FORMATS.RG]=ie.RG8,te[FORMATS.RED]=ie.R8,te[FORMATS.RGBA_INTEGER]=ie.RGBA8UI,te[FORMATS.RGB_INTEGER]=ie.RGB8UI,te[FORMATS.RG_INTEGER]=ie.RG8UI,te[FORMATS.RED_INTEGER]=ie.R8UI,te[FORMATS.ALPHA]=ie.ALPHA,te[FORMATS.LUMINANCE]=ie.LUMINANCE,te[FORMATS.LUMINANCE_ALPHA]=ie.LUMINANCE_ALPHA,te),ee[TYPES.BYTE]=(se={},se[FORMATS.RGBA]=ie.RGBA8_SNORM,se[FORMATS.RGB]=ie.RGB8_SNORM,se[FORMATS.RG]=ie.RG8_SNORM,se[FORMATS.RED]=ie.R8_SNORM,se[FORMATS.RGBA_INTEGER]=ie.RGBA8I,se[FORMATS.RGB_INTEGER]=ie.RGB8I,se[FORMATS.RG_INTEGER]=ie.RG8I,se[FORMATS.RED_INTEGER]=ie.R8I,se),ee[TYPES.UNSIGNED_SHORT]=(ne={},ne[FORMATS.RGBA_INTEGER]=ie.RGBA16UI,ne[FORMATS.RGB_INTEGER]=ie.RGB16UI,ne[FORMATS.RG_INTEGER]=ie.RG16UI,ne[FORMATS.RED_INTEGER]=ie.R16UI,ne[FORMATS.DEPTH_COMPONENT]=ie.DEPTH_COMPONENT16,ne),ee[TYPES.SHORT]=(le={},le[FORMATS.RGBA_INTEGER]=ie.RGBA16I,le[FORMATS.RGB_INTEGER]=ie.RGB16I,le[FORMATS.RG_INTEGER]=ie.RG16I,le[FORMATS.RED_INTEGER]=ie.R16I,le),ee[TYPES.UNSIGNED_INT]=(ue={},ue[FORMATS.RGBA_INTEGER]=ie.RGBA32UI,ue[FORMATS.RGB_INTEGER]=ie.RGB32UI,ue[FORMATS.RG_INTEGER]=ie.RG32UI,ue[FORMATS.RED_INTEGER]=ie.R32UI,ue[FORMATS.DEPTH_COMPONENT]=ie.DEPTH_COMPONENT24,ue),ee[TYPES.INT]=(ce={},ce[FORMATS.RGBA_INTEGER]=ie.RGBA32I,ce[FORMATS.RGB_INTEGER]=ie.RGB32I,ce[FORMATS.RG_INTEGER]=ie.RG32I,ce[FORMATS.RED_INTEGER]=ie.R32I,ce),ee[TYPES.FLOAT]=(he={},he[FORMATS.RGBA]=ie.RGBA32F,he[FORMATS.RGB]=ie.RGB32F,he[FORMATS.RG]=ie.RG32F,he[FORMATS.RED]=ie.R32F,he[FORMATS.DEPTH_COMPONENT]=ie.DEPTH_COMPONENT32F,he),ee[TYPES.HALF_FLOAT]=(de={},de[FORMATS.RGBA]=ie.RGBA16F,de[FORMATS.RGB]=ie.RGB16F,de[FORMATS.RG]=ie.RG16F,de[FORMATS.RED]=ie.R16F,de),ee[TYPES.UNSIGNED_SHORT_5_6_5]=(_e={},_e[FORMATS.RGB]=ie.RGB565,_e),ee[TYPES.UNSIGNED_SHORT_4_4_4_4]=(fe={},fe[FORMATS.RGBA]=ie.RGBA4,fe),ee[TYPES.UNSIGNED_SHORT_5_5_5_1]=(ye={},ye[FORMATS.RGBA]=ie.RGB5_A1,ye),ee[TYPES.UNSIGNED_INT_2_10_10_10_REV]=(be={},be[FORMATS.RGBA]=ie.RGB10_A2,be[FORMATS.RGBA_INTEGER]=ie.RGB10_A2UI,be),ee[TYPES.UNSIGNED_INT_10F_11F_11F_REV]=(Pe={},Pe[FORMATS.RGB]=ie.R11F_G11F_B10F,Pe),ee[TYPES.UNSIGNED_INT_5_9_9_9_REV]=(Ne={},Ne[FORMATS.RGB]=ie.RGB9_E5,Ne),ee[TYPES.UNSIGNED_INT_24_8]=(we={},we[FORMATS.DEPTH_STENCIL]=ie.DEPTH24_STENCIL8,we),ee[TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]=(De={},De[FORMATS.DEPTH_STENCIL]=ie.DEPTH32F_STENCIL8,De),ee):ut=($e={},$e[TYPES.UNSIGNED_BYTE]=(Ge={},Ge[FORMATS.RGBA]=ie.RGBA,Ge[FORMATS.RGB]=ie.RGB,Ge[FORMATS.ALPHA]=ie.ALPHA,Ge[FORMATS.LUMINANCE]=ie.LUMINANCE,Ge[FORMATS.LUMINANCE_ALPHA]=ie.LUMINANCE_ALPHA,Ge),$e[TYPES.UNSIGNED_SHORT_5_6_5]=(Be={},Be[FORMATS.RGB]=ie.RGB,Be),$e[TYPES.UNSIGNED_SHORT_4_4_4_4]=(ze={},ze[FORMATS.RGBA]=ie.RGBA,ze),$e[TYPES.UNSIGNED_SHORT_5_5_5_1]=($t={},$t[FORMATS.RGBA]=ie.RGBA,$t),$e),ut}var GLTexture=function(){function ie(ee){this.texture=ee,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES.UNSIGNED_BYTE,this.internalFormat=FORMATS.RGBA,this.samplerType=0}return ie}(),TextureSystem=function(){function ie(ee){this.renderer=ee,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture,this.hasIntegerTextures=!1}return ie.prototype.contextChange=function(){var ee=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat(ee);var te=ee.getParameter(ee.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=te;for(var se=0;se<te;se++)this.boundTextures[se]=null;this.emptyTextures={};var ne=new GLTexture(ee.createTexture());ee.bindTexture(ee.TEXTURE_2D,ne.texture),ee.texImage2D(ee.TEXTURE_2D,0,ee.RGBA,1,1,0,ee.RGBA,ee.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[ee.TEXTURE_2D]=ne,this.emptyTextures[ee.TEXTURE_CUBE_MAP]=new GLTexture(ee.createTexture()),ee.bindTexture(ee.TEXTURE_CUBE_MAP,this.emptyTextures[ee.TEXTURE_CUBE_MAP].texture);for(var se=0;se<6;se++)ee.texImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,ee.RGBA,1,1,0,ee.RGBA,ee.UNSIGNED_BYTE,null);ee.texParameteri(ee.TEXTURE_CUBE_MAP,ee.TEXTURE_MAG_FILTER,ee.LINEAR),ee.texParameteri(ee.TEXTURE_CUBE_MAP,ee.TEXTURE_MIN_FILTER,ee.LINEAR);for(var se=0;se<this.boundTextures.length;se++)this.bind(null,se)},ie.prototype.bind=function(ee,te){te===void 0&&(te=0);var se=this.gl;if(ee=ee==null?void 0:ee.castToBaseTexture(),ee&&ee.valid&&!ee.parentTextureArray){ee.touched=this.renderer.textureGC.count;var ne=ee._glTextures[this.CONTEXT_UID]||this.initTexture(ee);this.boundTextures[te]!==ee&&(this.currentLocation!==te&&(this.currentLocation=te,se.activeTexture(se.TEXTURE0+te)),se.bindTexture(ee.target,ne.texture)),ne.dirtyId!==ee.dirtyId?(this.currentLocation!==te&&(this.currentLocation=te,se.activeTexture(se.TEXTURE0+te)),this.updateTexture(ee)):ne.dirtyStyleId!==ee.dirtyStyleId&&this.updateTextureStyle(ee),this.boundTextures[te]=ee}else this.currentLocation!==te&&(this.currentLocation=te,se.activeTexture(se.TEXTURE0+te)),se.bindTexture(se.TEXTURE_2D,this.emptyTextures[se.TEXTURE_2D].texture),this.boundTextures[te]=null},ie.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var ee=0;ee<this.boundTextures.length;ee++)this.boundTextures[ee]=this.unknownTexture},ie.prototype.unbind=function(ee){var te=this,se=te.gl,ne=te.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var le=0;le<ne.length;le++)ne[le]===this.unknownTexture&&this.bind(null,le)}for(var le=0;le<ne.length;le++)ne[le]===ee&&(this.currentLocation!==le&&(se.activeTexture(se.TEXTURE0+le),this.currentLocation=le),se.bindTexture(ee.target,this.emptyTextures[ee.target].texture),ne[le]=null)},ie.prototype.ensureSamplerType=function(ee){var te=this,se=te.boundTextures,ne=te.hasIntegerTextures,le=te.CONTEXT_UID;if(ne)for(var ue=ee-1;ue>=0;--ue){var ce=se[ue];if(ce){var he=ce._glTextures[le];he.samplerType!==SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(ce)}}},ie.prototype.initTexture=function(ee){var te=new GLTexture(this.gl.createTexture());return te.dirtyId=-1,ee._glTextures[this.CONTEXT_UID]=te,this.managedTextures.push(ee),ee.on("dispose",this.destroyTexture,this),te},ie.prototype.initTextureType=function(ee,te){var se,ne;te.internalFormat=(ne=(se=this.internalFormats[ee.type])===null||se===void 0?void 0:se[ee.format])!==null&&ne!==void 0?ne:ee.format,this.webGLVersion===2&&ee.type===TYPES.HALF_FLOAT?te.type=this.gl.HALF_FLOAT:te.type=ee.type},ie.prototype.updateTexture=function(ee){var te=ee._glTextures[this.CONTEXT_UID];if(te){var se=this.renderer;if(this.initTextureType(ee,te),ee.resource&&ee.resource.upload(se,ee,te))te.samplerType!==SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0);else{var ne=ee.realWidth,le=ee.realHeight,ue=se.gl;(te.width!==ne||te.height!==le||te.dirtyId<0)&&(te.width=ne,te.height=le,ue.texImage2D(ee.target,0,te.internalFormat,ne,le,0,ee.format,te.type,null))}ee.dirtyStyleId!==te.dirtyStyleId&&this.updateTextureStyle(ee),te.dirtyId=ee.dirtyId}},ie.prototype.destroyTexture=function(ee,te){var se=this.gl;if(ee=ee.castToBaseTexture(),ee._glTextures[this.CONTEXT_UID]&&(this.unbind(ee),se.deleteTexture(ee._glTextures[this.CONTEXT_UID].texture),ee.off("dispose",this.destroyTexture,this),delete ee._glTextures[this.CONTEXT_UID],!te)){var ne=this.managedTextures.indexOf(ee);ne!==-1&&removeItems$1(this.managedTextures,ne,1)}},ie.prototype.updateTextureStyle=function(ee){var te=ee._glTextures[this.CONTEXT_UID];te&&((ee.mipmap===MIPMAP_MODES.POW2||this.webGLVersion!==2)&&!ee.isPowerOfTwo?te.mipmap=!1:te.mipmap=ee.mipmap>=1,this.webGLVersion!==2&&!ee.isPowerOfTwo?te.wrapMode=WRAP_MODES.CLAMP:te.wrapMode=ee.wrapMode,ee.resource&&ee.resource.style(this.renderer,ee,te)||this.setStyle(ee,te),te.dirtyStyleId=ee.dirtyStyleId)},ie.prototype.setStyle=function(ee,te){var se=this.gl;if(te.mipmap&&ee.mipmap!==MIPMAP_MODES.ON_MANUAL&&se.generateMipmap(ee.target),se.texParameteri(ee.target,se.TEXTURE_WRAP_S,te.wrapMode),se.texParameteri(ee.target,se.TEXTURE_WRAP_T,te.wrapMode),te.mipmap){se.texParameteri(ee.target,se.TEXTURE_MIN_FILTER,ee.scaleMode===SCALE_MODES.LINEAR?se.LINEAR_MIPMAP_LINEAR:se.NEAREST_MIPMAP_NEAREST);var ne=this.renderer.context.extensions.anisotropicFiltering;if(ne&&ee.anisotropicLevel>0&&ee.scaleMode===SCALE_MODES.LINEAR){var le=Math.min(ee.anisotropicLevel,se.getParameter(ne.MAX_TEXTURE_MAX_ANISOTROPY_EXT));se.texParameterf(ee.target,ne.TEXTURE_MAX_ANISOTROPY_EXT,le)}}else se.texParameteri(ee.target,se.TEXTURE_MIN_FILTER,ee.scaleMode===SCALE_MODES.LINEAR?se.LINEAR:se.NEAREST);se.texParameteri(ee.target,se.TEXTURE_MAG_FILTER,ee.scaleMode===SCALE_MODES.LINEAR?se.LINEAR:se.NEAREST)},ie.prototype.destroy=function(){this.renderer=null},ie}(),tempMatrix$5=new Matrix$1,AbstractRenderer$1=function(ie){__extends$9(ee,ie);function ee(te,se){te===void 0&&(te=RENDERER_TYPE.UNKNOWN);var ne=ie.call(this)||this;return se=Object.assign({},settings$1.RENDER_OPTIONS,se),ne.options=se,ne.type=te,ne.screen=new Rectangle$1(0,0,se.width,se.height),ne.view=se.view||settings$1.ADAPTER.createCanvas(),ne.resolution=se.resolution||settings$1.RESOLUTION,ne.useContextAlpha=se.useContextAlpha,ne.autoDensity=!!se.autoDensity,ne.preserveDrawingBuffer=se.preserveDrawingBuffer,ne.clearBeforeRender=se.clearBeforeRender,ne._backgroundColor=0,ne._backgroundColorRgba=[0,0,0,1],ne._backgroundColorString="#000000",ne.backgroundColor=se.backgroundColor||ne._backgroundColor,ne.backgroundAlpha=se.backgroundAlpha,se.transparent!==void 0&&(deprecation$1("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),ne.useContextAlpha=se.transparent,ne.backgroundAlpha=se.transparent?0:1),ne._lastObjectRendered=null,ne.plugins={},ne}return ee.prototype.initPlugins=function(te){for(var se in te)this.plugins[se]=new te[se](this)},Object.defineProperty(ee.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),ee.prototype.resize=function(te,se){this.view.width=Math.round(te*this.resolution),this.view.height=Math.round(se*this.resolution);var ne=this.view.width/this.resolution,le=this.view.height/this.resolution;this.screen.width=ne,this.screen.height=le,this.autoDensity&&(this.view.style.width=ne+"px",this.view.style.height=le+"px"),this.emit("resize",ne,le)},ee.prototype.generateTexture=function(te,se,ne,le){se===void 0&&(se={}),typeof se=="number"&&(deprecation$1("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),se={scaleMode:se,resolution:ne,region:le});var ue=se.region,ce=__rest$1(se,["region"]);le=ue||te.getLocalBounds(null,!0),le.width===0&&(le.width=1),le.height===0&&(le.height=1);var he=RenderTexture$1.create(__assign({width:le.width,height:le.height},ce));return tempMatrix$5.tx=-le.x,tempMatrix$5.ty=-le.y,this.render(te,{renderTexture:he,clear:!1,transform:tempMatrix$5,skipUpdateTransform:!!te.parent}),he},ee.prototype.destroy=function(te){for(var se in this.plugins)this.plugins[se].destroy(),this.plugins[se]=null;te&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var ne=this;ne.plugins=null,ne.type=RENDERER_TYPE.UNKNOWN,ne.view=null,ne.screen=null,ne._tempDisplayObjectParent=null,ne.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(ee.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(te){this._backgroundColor=te,this._backgroundColorString=hex2string(te),hex2rgb(te,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(te){this._backgroundColorRgba[3]=te},enumerable:!1,configurable:!0}),ee}(EventEmitter$1),GLBuffer=function(){function ie(ee){this.buffer=ee||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return ie}(),BufferSystem=function(){function ie(ee){this.renderer=ee,this.managedBuffers={},this.boundBufferBases={}}return ie.prototype.destroy=function(){this.renderer=null},ie.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},ie.prototype.bind=function(ee){var te=this,se=te.gl,ne=te.CONTEXT_UID,le=ee._glBuffers[ne]||this.createGLBuffer(ee);se.bindBuffer(ee.type,le.buffer)},ie.prototype.bindBufferBase=function(ee,te){var se=this,ne=se.gl,le=se.CONTEXT_UID;if(this.boundBufferBases[te]!==ee){var ue=ee._glBuffers[le]||this.createGLBuffer(ee);this.boundBufferBases[te]=ee,ne.bindBufferBase(ne.UNIFORM_BUFFER,te,ue.buffer)}},ie.prototype.bindBufferRange=function(ee,te,se){var ne=this,le=ne.gl,ue=ne.CONTEXT_UID;se=se||0;var ce=ee._glBuffers[ue]||this.createGLBuffer(ee);le.bindBufferRange(le.UNIFORM_BUFFER,te||0,ce.buffer,se*256,256)},ie.prototype.update=function(ee){var te=this,se=te.gl,ne=te.CONTEXT_UID,le=ee._glBuffers[ne];if(ee._updateID!==le.updateID)if(le.updateID=ee._updateID,se.bindBuffer(ee.type,le.buffer),le.byteLength>=ee.data.byteLength)se.bufferSubData(ee.type,0,ee.data);else{var ue=ee.static?se.STATIC_DRAW:se.DYNAMIC_DRAW;le.byteLength=ee.data.byteLength,se.bufferData(ee.type,ee.data,ue)}},ie.prototype.dispose=function(ee,te){if(this.managedBuffers[ee.id]){delete this.managedBuffers[ee.id];var se=ee._glBuffers[this.CONTEXT_UID],ne=this.gl;ee.disposeRunner.remove(this),se&&(te||ne.deleteBuffer(se.buffer),delete ee._glBuffers[this.CONTEXT_UID])}},ie.prototype.disposeAll=function(ee){for(var te=Object.keys(this.managedBuffers),se=0;se<te.length;se++)this.dispose(this.managedBuffers[te[se]],ee)},ie.prototype.createGLBuffer=function(ee){var te=this,se=te.CONTEXT_UID,ne=te.gl;return ee._glBuffers[se]=new GLBuffer(ne.createBuffer()),this.managedBuffers[ee.id]=ee,ee.disposeRunner.add(this),ee._glBuffers[se]},ie}(),Renderer=function(ie){__extends$9(ee,ie);function ee(te){var se=ie.call(this,RENDERER_TYPE.WEBGL,te)||this;return te=se.options,se.gl=null,se.CONTEXT_UID=0,se.runners={destroy:new Runner("destroy"),contextChange:new Runner("contextChange"),reset:new Runner("reset"),update:new Runner("update"),postrender:new Runner("postrender"),prerender:new Runner("prerender"),resize:new Runner("resize")},se.runners.contextChange.add(se),se.globalUniforms=new UniformGroup$1({projectionMatrix:new Matrix$1},!0),se.addSystem(MaskSystem,"mask").addSystem(ContextSystem,"context").addSystem(StateSystem,"state").addSystem(ShaderSystem,"shader").addSystem(TextureSystem,"texture").addSystem(BufferSystem,"buffer").addSystem(GeometrySystem,"geometry").addSystem(FramebufferSystem,"framebuffer").addSystem(ScissorSystem,"scissor").addSystem(StencilSystem,"stencil").addSystem(ProjectionSystem,"projection").addSystem(TextureGCSystem$1,"textureGC").addSystem(FilterSystem$1,"filter").addSystem(RenderTextureSystem,"renderTexture").addSystem(BatchSystem,"batch"),se.initPlugins(ee.__plugins),se.multisample=void 0,te.context?se.context.initFromContext(te.context):se.context.initFromOptions({alpha:!!se.useContextAlpha,antialias:te.antialias,premultipliedAlpha:se.useContextAlpha&&se.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:te.preserveDrawingBuffer,powerPreference:se.options.powerPreference}),se.renderingToScreen=!0,sayHello$1(se.context.webGLVersion===2?"WebGL 2":"WebGL 1"),se.resize(se.options.width,se.options.height),se}return ee.create=function(te){if(isWebGLSupported$1())return new ee(te);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},ee.prototype.contextChange=function(){var te=this.gl,se;if(this.context.webGLVersion===1){var ne=te.getParameter(te.FRAMEBUFFER_BINDING);te.bindFramebuffer(te.FRAMEBUFFER,null),se=te.getParameter(te.SAMPLES),te.bindFramebuffer(te.FRAMEBUFFER,ne)}else{var ne=te.getParameter(te.DRAW_FRAMEBUFFER_BINDING);te.bindFramebuffer(te.DRAW_FRAMEBUFFER,null),se=te.getParameter(te.SAMPLES),te.bindFramebuffer(te.DRAW_FRAMEBUFFER,ne)}se>=MSAA_QUALITY.HIGH?this.multisample=MSAA_QUALITY.HIGH:se>=MSAA_QUALITY.MEDIUM?this.multisample=MSAA_QUALITY.MEDIUM:se>=MSAA_QUALITY.LOW?this.multisample=MSAA_QUALITY.LOW:this.multisample=MSAA_QUALITY.NONE},ee.prototype.addSystem=function(te,se){var ne=new te(this);if(this[se])throw new Error('Whoops! The name "'+se+'" is already in use');this[se]=ne;for(var le in this.runners)this.runners[le].add(ne);return this},ee.prototype.render=function(te,se){var ne,le,ue,ce;if(se&&(se instanceof RenderTexture$1?(deprecation$1("6.0.0","Renderer#render arguments changed, use options instead."),ne=se,le=arguments[2],ue=arguments[3],ce=arguments[4]):(ne=se.renderTexture,le=se.clear,ue=se.transform,ce=se.skipUpdateTransform)),this.renderingToScreen=!ne,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=ue,!this.context.isLost){if(ne||(this._lastObjectRendered=te),!ce){var he=te.enableTempParent();te.updateTransform(),te.disableTempParent(he)}this.renderTexture.bind(ne),this.batch.currentRenderer.start(),(le!==void 0?le:this.clearBeforeRender)&&this.renderTexture.clear(),te.render(this),this.batch.currentRenderer.flush(),ne&&ne.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},ee.prototype.generateTexture=function(te,se,ne,le){se===void 0&&(se={});var ue=ie.prototype.generateTexture.call(this,te,se,ne,le);return this.framebuffer.blit(),ue},ee.prototype.resize=function(te,se){ie.prototype.resize.call(this,te,se),this.runners.resize.emit(this.screen.height,this.screen.width)},ee.prototype.reset=function(){return this.runners.reset.emit(),this},ee.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},ee.prototype.destroy=function(te){this.runners.destroy.emit();for(var se in this.runners)this.runners[se].destroy();ie.prototype.destroy.call(this,te),this.gl=null},Object.defineProperty(ee.prototype,"extract",{get:function(){return deprecation$1("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),ee.registerPlugin=function(te,se){deprecation$1("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),extensions$1.add({name:te,type:ExtensionType$1.RendererPlugin,ref:se})},ee.__plugins={},ee}(AbstractRenderer$1);extensions$1.handleByMap(ExtensionType$1.RendererPlugin,Renderer.__plugins);function autoDetectRenderer$1(ie){return Renderer.create(ie)}var $defaultVertex=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$defaultFilterVertex=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,defaultVertex$1=$defaultVertex,defaultFilterVertex=$defaultFilterVertex,BatchDrawCall=function(){function ie(){this.texArray=null,this.blend=0,this.type=DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}return ie}(),BatchTextureArray$1=function(){function ie(){this.elements=[],this.ids=[],this.count=0}return ie.prototype.clear=function(){for(var ee=0;ee<this.count;ee++)this.elements[ee]=null;this.count=0},ie}(),ViewableBuffer$1=function(){function ie(ee){typeof ee=="number"?this.rawBinaryData=new ArrayBuffer(ee):ee instanceof Uint8Array?this.rawBinaryData=ee.buffer:this.rawBinaryData=ee,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(ie.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),ie.prototype.view=function(ee){return this[ee+"View"]},ie.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},ie.sizeOf=function(ee){switch(ee){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(ee+" isn't a valid view type")}},ie}(),AbstractBatchRenderer=function(ie){__extends$9(ee,ie);function ee(te){var se=ie.call(this,te)||this;return se.shaderGenerator=null,se.geometryClass=null,se.vertexSize=null,se.state=State$1.for2d(),se.size=settings$1.SPRITE_BATCH_SIZE*4,se._vertexCount=0,se._indexCount=0,se._bufferedElements=[],se._bufferedTextures=[],se._bufferSize=0,se._shader=null,se._packedGeometries=[],se._packedGeometryPoolSize=2,se._flushId=0,se._aBuffers={},se._iBuffers={},se.MAX_TEXTURES=1,se.renderer.on("prerender",se.onPrerender,se),te.runners.contextChange.add(se),se._dcIndex=0,se._aIndex=0,se._iIndex=0,se._attributeBuffer=null,se._indexBuffer=null,se._tempBoundTextures=[],se}return ee.prototype.contextChange=function(){var te=this.renderer.gl;settings$1.PREFER_ENV===ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(te.getParameter(te.MAX_TEXTURE_IMAGE_UNITS),settings$1.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=checkMaxIfStatementsInShader(this.MAX_TEXTURES,te)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var se=0;se<this._packedGeometryPoolSize;se++)this._packedGeometries[se]=new this.geometryClass;this.initFlushBuffers()},ee.prototype.initFlushBuffers=function(){for(var te=ee._drawCallPool,se=ee._textureArrayPool,ne=this.size/4,le=Math.floor(ne/this.MAX_TEXTURES)+1;te.length<ne;)te.push(new BatchDrawCall);for(;se.length<le;)se.push(new BatchTextureArray$1);for(var ue=0;ue<this.MAX_TEXTURES;ue++)this._tempBoundTextures[ue]=null},ee.prototype.onPrerender=function(){this._flushId=0},ee.prototype.render=function(te){te._texture.valid&&(this._vertexCount+te.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=te.vertexData.length/2,this._indexCount+=te.indices.length,this._bufferedTextures[this._bufferSize]=te._texture.baseTexture,this._bufferedElements[this._bufferSize++]=te)},ee.prototype.buildTexturesAndDrawCalls=function(){var te=this,se=te._bufferedTextures,ne=te.MAX_TEXTURES,le=ee._textureArrayPool,ue=this.renderer.batch,ce=this._tempBoundTextures,he=this.renderer.textureGC.count,de=++BaseTexture._globalBatch,_e=0,fe=le[0],ye=0;ue.copyBoundTextures(ce,ne);for(var be=0;be<this._bufferSize;++be){var Pe=se[be];se[be]=null,Pe._batchEnabled!==de&&(fe.count>=ne&&(ue.boundArray(fe,ce,de,ne),this.buildDrawCalls(fe,ye,be),ye=be,fe=le[++_e],++de),Pe._batchEnabled=de,Pe.touched=he,fe.elements[fe.count++]=Pe)}fe.count>0&&(ue.boundArray(fe,ce,de,ne),this.buildDrawCalls(fe,ye,this._bufferSize),++_e,++de);for(var be=0;be<ce.length;be++)ce[be]=null;BaseTexture._globalBatch=de},ee.prototype.buildDrawCalls=function(te,se,ne){var le=this,ue=le._bufferedElements,ce=le._attributeBuffer,he=le._indexBuffer,de=le.vertexSize,_e=ee._drawCallPool,fe=this._dcIndex,ye=this._aIndex,be=this._iIndex,Pe=_e[fe];Pe.start=this._iIndex,Pe.texArray=te;for(var Ne=se;Ne<ne;++Ne){var we=ue[Ne],De=we._texture.baseTexture,$e=premultiplyBlendMode[De.alphaMode?1:0][we.blendMode];ue[Ne]=null,se<Ne&&Pe.blend!==$e&&(Pe.size=be-Pe.start,se=Ne,Pe=_e[++fe],Pe.texArray=te,Pe.start=be),this.packInterleavedGeometry(we,ce,he,ye,be),ye+=we.vertexData.length/2*de,be+=we.indices.length,Pe.blend=$e}se<ne&&(Pe.size=be-Pe.start,++fe),this._dcIndex=fe,this._aIndex=ye,this._iIndex=be},ee.prototype.bindAndClearTexArray=function(te){for(var se=this.renderer.texture,ne=0;ne<te.count;ne++)se.bind(te.elements[ne],te.ids[ne]),te.elements[ne]=null;te.count=0},ee.prototype.updateGeometry=function(){var te=this,se=te._packedGeometries,ne=te._attributeBuffer,le=te._indexBuffer;settings$1.CAN_UPLOAD_SAME_BUFFER?(se[this._flushId]._buffer.update(ne.rawBinaryData),se[this._flushId]._indexBuffer.update(le),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,se[this._flushId]=new this.geometryClass),se[this._flushId]._buffer.update(ne.rawBinaryData),se[this._flushId]._indexBuffer.update(le),this.renderer.geometry.bind(se[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},ee.prototype.drawBatches=function(){for(var te=this._dcIndex,se=this.renderer,ne=se.gl,le=se.state,ue=ee._drawCallPool,ce=null,he=0;he<te;he++){var de=ue[he],_e=de.texArray,fe=de.type,ye=de.size,be=de.start,Pe=de.blend;ce!==_e&&(ce=_e,this.bindAndClearTexArray(_e)),this.state.blendMode=Pe,le.set(this.state),ne.drawElements(fe,ye,ne.UNSIGNED_SHORT,be*2)}},ee.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},ee.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),settings$1.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},ee.prototype.stop=function(){this.flush()},ee.prototype.destroy=function(){for(var te=0;te<this._packedGeometryPoolSize;te++)this._packedGeometries[te]&&this._packedGeometries[te].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),ie.prototype.destroy.call(this)},ee.prototype.getAttributeBuffer=function(te){var se=nextPow2$1(Math.ceil(te/8)),ne=log2(se),le=se*8;this._aBuffers.length<=ne&&(this._iBuffers.length=ne+1);var ue=this._aBuffers[le];return ue||(this._aBuffers[le]=ue=new ViewableBuffer$1(le*this.vertexSize*4)),ue},ee.prototype.getIndexBuffer=function(te){var se=nextPow2$1(Math.ceil(te/12)),ne=log2(se),le=se*12;this._iBuffers.length<=ne&&(this._iBuffers.length=ne+1);var ue=this._iBuffers[ne];return ue||(this._iBuffers[ne]=ue=new Uint16Array(le)),ue},ee.prototype.packInterleavedGeometry=function(te,se,ne,le,ue){for(var ce=se.uint32View,he=se.float32View,de=le/this.vertexSize,_e=te.uvs,fe=te.indices,ye=te.vertexData,be=te._texture.baseTexture._batchLocation,Pe=Math.min(te.worldAlpha,1),Ne=Pe<1&&te._texture.baseTexture.alphaMode?premultiplyTint(te._tintRGB,Pe):te._tintRGB+(Pe*255<<24),we=0;we<ye.length;we+=2)he[le++]=ye[we],he[le++]=ye[we+1],he[le++]=_e[we],he[le++]=_e[we+1],ce[le++]=Ne,he[le++]=be;for(var we=0;we<fe.length;we++)ne[ue++]=de+fe[we]},ee._drawCallPool=[],ee._textureArrayPool=[],ee}(ObjectRenderer),BatchShaderGenerator=function(){function ie(ee,te){if(this.vertexSrc=ee,this.fragTemplate=te,this.programCache={},this.defaultGroupCache={},te.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(te.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return ie.prototype.generateShader=function(ee){if(!this.programCache[ee]){for(var te=new Int32Array(ee),se=0;se<ee;se++)te[se]=se;this.defaultGroupCache[ee]=UniformGroup$1.from({uSamplers:te},!0);var ne=this.fragTemplate;ne=ne.replace(/%count%/gi,""+ee),ne=ne.replace(/%forloop%/gi,this.generateSampleSrc(ee)),this.programCache[ee]=new Program(this.vertexSrc,ne)}var le={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix$1,default:this.defaultGroupCache[ee]};return new Shader$1(this.programCache[ee],le)},ie.prototype.generateSampleSrc=function(ee){var te="";te+=`
`,te+=`
`;for(var se=0;se<ee;se++)se>0&&(te+=`
else `),se<ee-1&&(te+="if(vTextureId < "+se+".5)"),te+=`
{`,te+=`
	color = texture2D(uSamplers[`+se+"], vTextureCoord);",te+=`
}`;return te+=`
`,te+=`
`,te},ie}(),BatchGeometry$1=function(ie){__extends$9(ee,ie);function ee(te){te===void 0&&(te=!1);var se=ie.call(this)||this;return se._buffer=new Buffer$1(null,te,!1),se._indexBuffer=new Buffer$1(null,te,!0),se.addAttribute("aVertexPosition",se._buffer,2,!1,TYPES.FLOAT).addAttribute("aTextureCoord",se._buffer,2,!1,TYPES.FLOAT).addAttribute("aColor",se._buffer,4,!0,TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",se._buffer,1,!0,TYPES.FLOAT).addIndex(se._indexBuffer),se}return ee}(Geometry$1),defaultVertex=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,defaultFragment=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,BatchPluginFactory=function(){function ie(){}return ie.create=function(ee){var te=Object.assign({vertex:defaultVertex,fragment:defaultFragment,geometryClass:BatchGeometry$1,vertexSize:6},ee),se=te.vertex,ne=te.fragment,le=te.vertexSize,ue=te.geometryClass;return function(ce){__extends$9(he,ce);function he(de){var _e=ce.call(this,de)||this;return _e.shaderGenerator=new BatchShaderGenerator(se,ne),_e.geometryClass=ue,_e.vertexSize=le,_e}return he}(AbstractBatchRenderer)},Object.defineProperty(ie,"defaultVertexSrc",{get:function(){return defaultVertex},enumerable:!1,configurable:!0}),Object.defineProperty(ie,"defaultFragmentTemplate",{get:function(){return defaultFragment},enumerable:!1,configurable:!0}),ie}(),BatchRenderer=BatchPluginFactory.create();Object.assign(BatchRenderer,{extension:{name:"batch",type:ExtensionType$1.RendererPlugin}});/*!
 * @pixi/loaders - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var SignalBinding=function(){function ie(ee,te,se){te===void 0&&(te=!1),this._fn=ee,this._once=te,this._thisArg=se,this._next=this._prev=this._owner=null}return ie.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},ie}();function _addSignalBinding(ie,ee){return ie._head?(ie._tail._next=ee,ee._prev=ie._tail,ie._tail=ee):(ie._head=ee,ie._tail=ee),ee._owner=ie,ee}var Signal=function(){function ie(){this._head=this._tail=void 0}return ie.prototype.handlers=function(ee){ee===void 0&&(ee=!1);var te=this._head;if(ee)return!!te;for(var se=[];te;)se.push(te),te=te._next;return se},ie.prototype.has=function(ee){if(!(ee instanceof SignalBinding))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return ee._owner===this},ie.prototype.dispatch=function(){for(var ee=arguments,te=[],se=0;se<arguments.length;se++)te[se]=ee[se];var ne=this._head;if(!ne)return!1;for(;ne;)ne._once&&this.detach(ne),ne._fn.apply(ne._thisArg,te),ne=ne._next;return!0},ie.prototype.add=function(ee,te){if(te===void 0&&(te=null),typeof ee!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(ee,!1,te))},ie.prototype.once=function(ee,te){if(te===void 0&&(te=null),typeof ee!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(ee,!0,te))},ie.prototype.detach=function(ee){if(!(ee instanceof SignalBinding))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return ee._owner!==this?this:(ee._prev&&(ee._prev._next=ee._next),ee._next&&(ee._next._prev=ee._prev),ee===this._head?(this._head=ee._next,ee._next===null&&(this._tail=null)):ee===this._tail&&(this._tail=ee._prev,this._tail._next=null),ee._owner=null,this)},ie.prototype.detachAll=function(){var ee=this._head;if(!ee)return this;for(this._head=this._tail=null;ee;)ee._owner=null,ee=ee._next;return this},ie}();function parseUri(ie,ee){ee=ee||{};for(var te={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},se=te.parser[ee.strictMode?"strict":"loose"].exec(ie),ne={},le=14;le--;)ne[te.key[le]]=se[le]||"";return ne[te.q.name]={},ne[te.key[12]].replace(te.q.parser,function(ue,ce,he){ce&&(ne[te.q.name][ce]=he)}),ne}var useXdr,tempAnchor=null,STATUS_NONE=0,STATUS_OK=200,STATUS_EMPTY=204,STATUS_IE_BUG_EMPTY=1223,STATUS_TYPE_OK=2;function _noop$1(){}function setExtMap(ie,ee,te){ee&&ee.indexOf(".")===0&&(ee=ee.substring(1)),ee&&(ie[ee]=te)}function reqType(ie){return ie.toString().replace("object ","")}var LoaderResource=function(){function ie(ee,te,se){if(this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof ee!="string"||typeof te!="string")throw new Error("Both name and url are required for constructing a resource.");se=se||{},this._flags=0,this._setFlag(ie.STATUS_FLAGS.DATA_URL,te.indexOf("data:")===0),this.name=ee,this.url=te,this.extension=this._getExtension(),this.data=null,this.crossOrigin=se.crossOrigin===!0?"anonymous":se.crossOrigin,this.timeout=se.timeout||0,this.loadType=se.loadType||this._determineLoadType(),this.xhrType=se.xhrType,this.metadata=se.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=ie.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Signal,this.onProgress=new Signal,this.onComplete=new Signal,this.onAfterMiddleware=new Signal}return ie.setExtensionLoadType=function(ee,te){setExtMap(ie._loadTypeMap,ee,te)},ie.setExtensionXhrType=function(ee,te){setExtMap(ie._xhrTypeMap,ee,te)},Object.defineProperty(ie.prototype,"isDataUrl",{get:function(){return this._hasFlag(ie.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"isComplete",{get:function(){return this._hasFlag(ie.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"isLoading",{get:function(){return this._hasFlag(ie.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),ie.prototype.complete=function(){this._clearEvents(),this._finish()},ie.prototype.abort=function(ee){if(!this.error){if(this.error=new Error(ee),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=ie.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},ie.prototype.load=function(ee){var te=this;if(!this.isLoading){if(this.isComplete){ee&&setTimeout(function(){return ee(te)},1);return}else ee&&this.onComplete.once(ee);switch(this._setFlag(ie.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case ie.LOAD_TYPE.IMAGE:this.type=ie.TYPE.IMAGE,this._loadElement("image");break;case ie.LOAD_TYPE.AUDIO:this.type=ie.TYPE.AUDIO,this._loadSourceElement("audio");break;case ie.LOAD_TYPE.VIDEO:this.type=ie.TYPE.VIDEO,this._loadSourceElement("video");break;case ie.LOAD_TYPE.XHR:default:typeof useXdr>"u"&&(useXdr=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),useXdr&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},ie.prototype._hasFlag=function(ee){return(this._flags&ee)!==0},ie.prototype._setFlag=function(ee,te){this._flags=te?this._flags|ee:this._flags&~ee},ie.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},ie.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(ie.STATUS_FLAGS.COMPLETE,!0),this._setFlag(ie.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},ie.prototype._loadElement=function(ee){this.metadata.loadElement?this.data=this.metadata.loadElement:ee==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(ee),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},ie.prototype._loadSourceElement=function(ee){if(this.metadata.loadElement?this.data=this.metadata.loadElement:ee==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(ee),this.data===null){this.abort("Unsupported element: "+ee);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var te=this.metadata.mimeType,se=0;se<this.url.length;++se)this.data.appendChild(this._createSource(ee,this.url[se],Array.isArray(te)?te[se]:te));else{var te=this.metadata.mimeType;this.data.appendChild(this._createSource(ee,this.url,Array.isArray(te)?te[0]:te))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},ie.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var ee=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(ee.withCredentials=!0),ee.open("GET",this.url,!0),ee.timeout=this.timeout,this.xhrType===ie.XHR_RESPONSE_TYPE.JSON||this.xhrType===ie.XHR_RESPONSE_TYPE.DOCUMENT?ee.responseType=ie.XHR_RESPONSE_TYPE.TEXT:ee.responseType=this.xhrType,ee.addEventListener("error",this._boundXhrOnError,!1),ee.addEventListener("timeout",this._boundXhrOnTimeout,!1),ee.addEventListener("abort",this._boundXhrOnAbort,!1),ee.addEventListener("progress",this._boundOnProgress,!1),ee.addEventListener("load",this._boundXhrOnLoad,!1),ee.send()},ie.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var ee=this.xhr=new globalThis.XDomainRequest;ee.timeout=this.timeout||5e3,ee.onerror=this._boundXhrOnError,ee.ontimeout=this._boundXhrOnTimeout,ee.onprogress=this._boundOnProgress,ee.onload=this._boundXhrOnLoad,ee.open("GET",this.url,!0),setTimeout(function(){return ee.send()},1)},ie.prototype._createSource=function(ee,te,se){se||(se=ee+"/"+this._getExtension(te));var ne=document.createElement("source");return ne.src=te,ne.type=se,ne},ie.prototype._onError=function(ee){this.abort("Failed to load element using: "+ee.target.nodeName)},ie.prototype._onProgress=function(ee){ee&&ee.lengthComputable&&this.onProgress.dispatch(this,ee.loaded/ee.total)},ie.prototype._onTimeout=function(){this.abort("Load timed out.")},ie.prototype._xhrOnError=function(){var ee=this.xhr;this.abort(reqType(ee)+" Request failed. Status: "+ee.status+', text: "'+ee.statusText+'"')},ie.prototype._xhrOnTimeout=function(){var ee=this.xhr;this.abort(reqType(ee)+" Request timed out.")},ie.prototype._xhrOnAbort=function(){var ee=this.xhr;this.abort(reqType(ee)+" Request was aborted by the user.")},ie.prototype._xhrOnLoad=function(){var ee=this.xhr,te="",se=typeof ee.status>"u"?STATUS_OK:ee.status;(ee.responseType===""||ee.responseType==="text"||typeof ee.responseType>"u")&&(te=ee.responseText),se===STATUS_NONE&&(te.length>0||ee.responseType===ie.XHR_RESPONSE_TYPE.BUFFER)?se=STATUS_OK:se===STATUS_IE_BUG_EMPTY&&(se=STATUS_EMPTY);var ne=se/100|0;if(ne===STATUS_TYPE_OK)if(this.xhrType===ie.XHR_RESPONSE_TYPE.TEXT)this.data=te,this.type=ie.TYPE.TEXT;else if(this.xhrType===ie.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(te),this.type=ie.TYPE.JSON}catch(ce){this.abort("Error trying to parse loaded json: "+ce);return}else if(this.xhrType===ie.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var le=new DOMParser;this.data=le.parseFromString(te,"text/xml")}else{var ue=document.createElement("div");ue.innerHTML=te,this.data=ue}this.type=ie.TYPE.XML}catch(ce){this.abort("Error trying to parse loaded xml: "+ce);return}else this.data=ee.response||te;else{this.abort("["+ee.status+"] "+ee.statusText+": "+ee.responseURL);return}this.complete()},ie.prototype._determineCrossOrigin=function(ee,te){if(ee.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";te=te||globalThis.location,tempAnchor||(tempAnchor=document.createElement("a")),tempAnchor.href=ee;var se=parseUri(tempAnchor.href,{strictMode:!0}),ne=!se.port&&te.port===""||se.port===te.port,le=se.protocol?se.protocol+":":"";return se.host!==te.hostname||!ne||le!==te.protocol?"anonymous":""},ie.prototype._determineXhrType=function(){return ie._xhrTypeMap[this.extension]||ie.XHR_RESPONSE_TYPE.TEXT},ie.prototype._determineLoadType=function(){return ie._loadTypeMap[this.extension]||ie.LOAD_TYPE.XHR},ie.prototype._getExtension=function(ee){ee===void 0&&(ee=this.url);var te="";if(this.isDataUrl){var se=ee.indexOf("/");te=ee.substring(se+1,ee.indexOf(";",se))}else{var ne=ee.indexOf("?"),le=ee.indexOf("#"),ue=Math.min(ne>-1?ne:ee.length,le>-1?le:ee.length);ee=ee.substring(0,ue),te=ee.substring(ee.lastIndexOf(".")+1)}return te.toLowerCase()},ie.prototype._getMimeFromXhrType=function(ee){switch(ee){case ie.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case ie.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case ie.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case ie.XHR_RESPONSE_TYPE.JSON:return"application/json";case ie.XHR_RESPONSE_TYPE.DEFAULT:case ie.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},ie}();(function(ie){(function(ee){ee[ee.NONE=0]="NONE",ee[ee.DATA_URL=1]="DATA_URL",ee[ee.COMPLETE=2]="COMPLETE",ee[ee.LOADING=4]="LOADING"})(ie.STATUS_FLAGS||(ie.STATUS_FLAGS={})),function(ee){ee[ee.UNKNOWN=0]="UNKNOWN",ee[ee.JSON=1]="JSON",ee[ee.XML=2]="XML",ee[ee.IMAGE=3]="IMAGE",ee[ee.AUDIO=4]="AUDIO",ee[ee.VIDEO=5]="VIDEO",ee[ee.TEXT=6]="TEXT"}(ie.TYPE||(ie.TYPE={})),function(ee){ee[ee.XHR=1]="XHR",ee[ee.IMAGE=2]="IMAGE",ee[ee.AUDIO=3]="AUDIO",ee[ee.VIDEO=4]="VIDEO"}(ie.LOAD_TYPE||(ie.LOAD_TYPE={})),function(ee){ee.DEFAULT="text",ee.BUFFER="arraybuffer",ee.BLOB="blob",ee.DOCUMENT="document",ee.JSON="json",ee.TEXT="text"}(ie.XHR_RESPONSE_TYPE||(ie.XHR_RESPONSE_TYPE={})),ie._loadTypeMap={gif:ie.LOAD_TYPE.IMAGE,png:ie.LOAD_TYPE.IMAGE,bmp:ie.LOAD_TYPE.IMAGE,jpg:ie.LOAD_TYPE.IMAGE,jpeg:ie.LOAD_TYPE.IMAGE,tif:ie.LOAD_TYPE.IMAGE,tiff:ie.LOAD_TYPE.IMAGE,webp:ie.LOAD_TYPE.IMAGE,tga:ie.LOAD_TYPE.IMAGE,avif:ie.LOAD_TYPE.IMAGE,svg:ie.LOAD_TYPE.IMAGE,"svg+xml":ie.LOAD_TYPE.IMAGE,mp3:ie.LOAD_TYPE.AUDIO,ogg:ie.LOAD_TYPE.AUDIO,wav:ie.LOAD_TYPE.AUDIO,mp4:ie.LOAD_TYPE.VIDEO,webm:ie.LOAD_TYPE.VIDEO},ie._xhrTypeMap={xhtml:ie.XHR_RESPONSE_TYPE.DOCUMENT,html:ie.XHR_RESPONSE_TYPE.DOCUMENT,htm:ie.XHR_RESPONSE_TYPE.DOCUMENT,xml:ie.XHR_RESPONSE_TYPE.DOCUMENT,tmx:ie.XHR_RESPONSE_TYPE.DOCUMENT,svg:ie.XHR_RESPONSE_TYPE.DOCUMENT,tsx:ie.XHR_RESPONSE_TYPE.DOCUMENT,gif:ie.XHR_RESPONSE_TYPE.BLOB,png:ie.XHR_RESPONSE_TYPE.BLOB,bmp:ie.XHR_RESPONSE_TYPE.BLOB,jpg:ie.XHR_RESPONSE_TYPE.BLOB,jpeg:ie.XHR_RESPONSE_TYPE.BLOB,tif:ie.XHR_RESPONSE_TYPE.BLOB,tiff:ie.XHR_RESPONSE_TYPE.BLOB,webp:ie.XHR_RESPONSE_TYPE.BLOB,tga:ie.XHR_RESPONSE_TYPE.BLOB,avif:ie.XHR_RESPONSE_TYPE.BLOB,json:ie.XHR_RESPONSE_TYPE.JSON,text:ie.XHR_RESPONSE_TYPE.TEXT,txt:ie.XHR_RESPONSE_TYPE.TEXT,ttf:ie.XHR_RESPONSE_TYPE.BUFFER,otf:ie.XHR_RESPONSE_TYPE.BUFFER},ie.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(LoaderResource);function _noop(){}function onlyOnce(ie){return function(){for(var te=arguments,se=[],ne=0;ne<arguments.length;ne++)se[ne]=te[ne];if(ie===null)throw new Error("Callback was already called.");var le=ie;ie=null,le.apply(this,se)}}var AsyncQueueItem=function(){function ie(ee,te){this.data=ee,this.callback=te}return ie}(),AsyncQueue=function(){function ie(ee,te){var se=this;if(te===void 0&&(te=1),this.workers=0,this.saturated=_noop,this.unsaturated=_noop,this.empty=_noop,this.drain=_noop,this.error=_noop,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(ne,le,ue){if(ue&&typeof ue!="function")throw new Error("task callback must be a function");if(se.started=!0,ne==null&&se.idle()){setTimeout(function(){return se.drain()},1);return}var ce=new AsyncQueueItem(ne,typeof ue=="function"?ue:_noop);le?se._tasks.unshift(ce):se._tasks.push(ce),setTimeout(se.process,1)},this.process=function(){for(;!se.paused&&se.workers<se.concurrency&&se._tasks.length;){var ne=se._tasks.shift();se._tasks.length===0&&se.empty(),se.workers+=1,se.workers===se.concurrency&&se.saturated(),se._worker(ne.data,onlyOnce(se._next(ne)))}},this._worker=ee,te===0)throw new Error("Concurrency must not be zero");this.concurrency=te,this.buffer=te/4}return ie.prototype._next=function(ee){var te=this;return function(){for(var se=arguments,ne=[],le=0;le<arguments.length;le++)ne[le]=se[le];te.workers-=1,ee.callback.apply(ee,ne),ne[0]!=null&&te.error(ne[0],ee.data),te.workers<=te.concurrency-te.buffer&&te.unsaturated(),te.idle()&&te.drain(),te.process()}},ie.prototype.push=function(ee,te){this._insert(ee,!1,te)},ie.prototype.kill=function(){this.workers=0,this.drain=_noop,this.started=!1,this._tasks=[]},ie.prototype.unshift=function(ee,te){this._insert(ee,!0,te)},ie.prototype.length=function(){return this._tasks.length},ie.prototype.running=function(){return this.workers},ie.prototype.idle=function(){return this._tasks.length+this.workers===0},ie.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},ie.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var ee=1;ee<=this.concurrency;ee++)this.process()}},ie.eachSeries=function(ee,te,se,ne){var le=0,ue=ee.length;function ce(he){if(he||le===ue){se&&se(he);return}ne?setTimeout(function(){te(ee[le++],ce)},1):te(ee[le++],ce)}ce()},ie.queue=function(ee,te){return new ie(ee,te)},ie}(),MAX_PROGRESS=100,rgxExtractUrlHash=/(#[\w-]+)?$/,Loader$1=function(){function ie(ee,te){var se=this;ee===void 0&&(ee=""),te===void 0&&(te=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(he,de){return se._loadResource(he,de)},this.resources={},this.baseUrl=ee,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(he,de){return se._loadResource(he,de)},this._queue=AsyncQueue.queue(this._boundLoadResource,te),this._queue.pause(),this.resources={},this.onProgress=new Signal,this.onError=new Signal,this.onLoad=new Signal,this.onStart=new Signal,this.onComplete=new Signal;for(var ne=0;ne<ie._plugins.length;++ne){var le=ie._plugins[ne],ue=le.pre,ce=le.use;ue&&this.pre(ue),ce&&this.use(ce)}this._protected=!1}return ie.prototype._add=function(ee,te,se,ne){if(this.loading&&(!se||!se.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[ee])throw new Error('Resource named "'+ee+'" already exists.');if(te=this._prepareUrl(te),this.resources[ee]=new LoaderResource(ee,te,se),typeof ne=="function"&&this.resources[ee].onAfterMiddleware.once(ne),this.loading){for(var le=se.parentResource,ue=[],ce=0;ce<le.children.length;++ce)le.children[ce].isComplete||ue.push(le.children[ce]);var he=le.progressChunk*(ue.length+1),de=he/(ue.length+2);le.children.push(this.resources[ee]),le.progressChunk=de;for(var ce=0;ce<ue.length;++ce)ue[ce].progressChunk=de;this.resources[ee].progressChunk=de}return this._queue.push(this.resources[ee]),this},ie.prototype.pre=function(ee){return this._beforeMiddleware.push(ee),this},ie.prototype.use=function(ee){return this._afterMiddleware.push(ee),this},ie.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var ee in this.resources){var te=this.resources[ee];te._onLoadBinding&&te._onLoadBinding.detach(),te.isLoading&&te.abort("loader reset")}return this.resources={},this},ie.prototype.load=function(ee){if(deprecation$1("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof ee=="function"&&this.onComplete.once(ee),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var te=this._queue._tasks.length,se=MAX_PROGRESS/te,ne=0;ne<this._queue._tasks.length;++ne)this._queue._tasks[ne].data.progressChunk=se;this._onStart(),this._queue.resume()}return this},Object.defineProperty(ie.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(ee){this._queue.concurrency=ee},enumerable:!1,configurable:!0}),ie.prototype._prepareUrl=function(ee){var te=parseUri(ee,{strictMode:!0}),se;if(te.protocol||!te.path||ee.indexOf("//")===0?se=ee:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&ee.charAt(0)!=="/"?se=this.baseUrl+"/"+ee:se=this.baseUrl+ee,this.defaultQueryString){var ne=rgxExtractUrlHash.exec(se)[0];se=se.slice(0,se.length-ne.length),se.indexOf("?")!==-1?se+="&"+this.defaultQueryString:se+="?"+this.defaultQueryString,se+=ne}return se},ie.prototype._loadResource=function(ee,te){var se=this;ee._dequeue=te,AsyncQueue.eachSeries(this._beforeMiddleware,function(ne,le){ne.call(se,ee,function(){le(ee.isComplete?{}:null)})},function(){ee.isComplete?se._onLoad(ee):(ee._onLoadBinding=ee.onComplete.once(se._onLoad,se),ee.load())},!0)},ie.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},ie.prototype._onComplete=function(){this.progress=MAX_PROGRESS,this.loading=!1,this.onComplete.dispatch(this,this.resources)},ie.prototype._onLoad=function(ee){var te=this;ee._onLoadBinding=null,this._resourcesParsing.push(ee),ee._dequeue(),AsyncQueue.eachSeries(this._afterMiddleware,function(se,ne){se.call(te,ee,ne)},function(){ee.onAfterMiddleware.dispatch(ee),te.progress=Math.min(MAX_PROGRESS,te.progress+ee.progressChunk),te.onProgress.dispatch(te,ee),ee.error?te.onError.dispatch(ee.error,te,ee):te.onLoad.dispatch(te,ee),te._resourcesParsing.splice(te._resourcesParsing.indexOf(ee),1),te._queue.idle()&&te._resourcesParsing.length===0&&te._onComplete()},!0)},ie.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(ie,"shared",{get:function(){var ee=ie._shared;return ee||(ee=new ie,ee._protected=!0,ie._shared=ee),ee},enumerable:!1,configurable:!0}),ie.registerPlugin=function(ee){return deprecation$1("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),extensions$1.add({type:ExtensionType$1.Loader,ref:ee}),ie},ie._plugins=[],ie}();extensions$1.handleByList(ExtensionType$1.Loader,Loader$1._plugins),Loader$1.prototype.add=function(ee,te,se,ne){if(Array.isArray(ee)){for(var le=0;le<ee.length;++le)this.add(ee[le]);return this}if(typeof ee=="object"&&(se=ee,ne=te||se.callback||se.onComplete,te=se.url,ee=se.name||se.key||se.url),typeof te!="string"&&(ne=se,se=te,te=ee),typeof te!="string")throw new Error("No url passed to add resource to loader.");return typeof se=="function"&&(ne=se,se=null),this._add(ee,te,se,ne)};var AppLoaderPlugin=function(){function ie(){}return ie.init=function(ee){ee=Object.assign({sharedLoader:!1},ee),this.loader=ee.sharedLoader?Loader$1.shared:new Loader$1},ie.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},ie.extension=ExtensionType$1.Application,ie}(),TextureLoader=function(){function ie(){}return ie.add=function(){LoaderResource.setExtensionLoadType("svg",LoaderResource.LOAD_TYPE.XHR),LoaderResource.setExtensionXhrType("svg",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},ie.use=function(ee,te){if(ee.data&&(ee.type===LoaderResource.TYPE.IMAGE||ee.extension==="svg")){var se=ee.data,ne=ee.url,le=ee.name,ue=ee.metadata;Texture$1.fromLoader(se,ne,le,ue).then(function(ce){ee.texture=ce,te()}).catch(te)}else te()},ie.extension=ExtensionType$1.Loader,ie}(),_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encodeBinary(ie){for(var ee="",te=0;te<ie.length;){for(var se=[0,0,0],ne=[0,0,0,0],le=0;le<se.length;++le)te<ie.length?se[le]=ie.charCodeAt(te++)&255:se[le]=0;ne[0]=se[0]>>2,ne[1]=(se[0]&3)<<4|se[1]>>4,ne[2]=(se[1]&15)<<2|se[2]>>6,ne[3]=se[2]&63;var ue=te-(ie.length-1);switch(ue){case 2:ne[3]=64,ne[2]=64;break;case 1:ne[3]=64;break}for(var le=0;le<ne.length;++le)ee+=_keyStr.charAt(ne[le])}return ee}function parsing(ie,ee){if(!ie.data){ee();return}if(ie.xhr&&ie.xhrType===LoaderResource.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof ie.data=="string"){var te=ie.xhr.getResponseHeader("content-type");if(te&&te.indexOf("image")===0){ie.data=new Image,ie.data.src="data:"+te+";base64,"+encodeBinary(ie.xhr.responseText),ie.type=LoaderResource.TYPE.IMAGE,ie.data.onload=function(){ie.data.onload=null,ee()};return}}else if(ie.data.type.indexOf("image")===0){var se=globalThis.URL||globalThis.webkitURL,ne=se.createObjectURL(ie.data);ie.blob=ie.data,ie.data=new Image,ie.data.src=ne,ie.type=LoaderResource.TYPE.IMAGE,ie.data.onload=function(){se.revokeObjectURL(ne),ie.data.onload=null,ee()};return}}ee()}var ParsingLoader=function(){function ie(){}return ie.extension=ExtensionType$1.Loader,ie.use=parsing,ie}();extensions$1.add(TextureLoader,ParsingLoader);/*!
 * @pixi/spritesheet - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Spritesheet$1=function(){function ie(ee,te,se){se===void 0&&(se=null),this.linkedSheets=[],this._texture=ee instanceof Texture$1?ee:null,this.baseTexture=ee instanceof BaseTexture?ee:this._texture.baseTexture,this.textures={},this.animations={},this.data=te;var ne=this.baseTexture.resource;this.resolution=this._updateResolution(se||(ne?ne.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return ie.prototype._updateResolution=function(ee){ee===void 0&&(ee=null);var te=this.data.meta.scale,se=getResolutionOfUrl(ee,null);return se===null&&(se=te!==void 0?parseFloat(te):1),se!==1&&this.baseTexture.setResolution(se),se},ie.prototype.parse=function(ee){var te=this;return ee&&deprecation$1("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(se){te._callback=function(ne){ee==null||ee(ne),se(ne)},te._batchIndex=0,te._frameKeys.length<=ie.BATCH_SIZE?(te._processFrames(0),te._processAnimations(),te._parseComplete()):te._nextBatch()})},ie.prototype._processFrames=function(ee){for(var te=ee,se=ie.BATCH_SIZE;te-ee<se&&te<this._frameKeys.length;){var ne=this._frameKeys[te],le=this._frames[ne],ue=le.frame;if(ue){var ce=null,he=null,de=le.trimmed!==!1&&le.sourceSize?le.sourceSize:le.frame,_e=new Rectangle$1(0,0,Math.floor(de.w)/this.resolution,Math.floor(de.h)/this.resolution);le.rotated?ce=new Rectangle$1(Math.floor(ue.x)/this.resolution,Math.floor(ue.y)/this.resolution,Math.floor(ue.h)/this.resolution,Math.floor(ue.w)/this.resolution):ce=new Rectangle$1(Math.floor(ue.x)/this.resolution,Math.floor(ue.y)/this.resolution,Math.floor(ue.w)/this.resolution,Math.floor(ue.h)/this.resolution),le.trimmed!==!1&&le.spriteSourceSize&&(he=new Rectangle$1(Math.floor(le.spriteSourceSize.x)/this.resolution,Math.floor(le.spriteSourceSize.y)/this.resolution,Math.floor(ue.w)/this.resolution,Math.floor(ue.h)/this.resolution)),this.textures[ne]=new Texture$1(this.baseTexture,ce,_e,he,le.rotated?2:0,le.anchor),Texture$1.addToCache(this.textures[ne],ne)}te++}},ie.prototype._processAnimations=function(){var ee=this.data.animations||{};for(var te in ee){this.animations[te]=[];for(var se=0;se<ee[te].length;se++){var ne=ee[te][se];this.animations[te].push(this.textures[ne])}}},ie.prototype._parseComplete=function(){var ee=this._callback;this._callback=null,this._batchIndex=0,ee.call(this,this.textures)},ie.prototype._nextBatch=function(){var ee=this;this._processFrames(this._batchIndex*ie.BATCH_SIZE),this._batchIndex++,setTimeout(function(){ee._batchIndex*ie.BATCH_SIZE<ee._frameKeys.length?ee._nextBatch():(ee._processAnimations(),ee._parseComplete())},0)},ie.prototype.destroy=function(ee){var te;ee===void 0&&(ee=!1);for(var se in this.textures)this.textures[se].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,ee&&((te=this._texture)===null||te===void 0||te.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},ie.BATCH_SIZE=1e3,ie}(),SpritesheetLoader=function(){function ie(){}return ie.use=function(ee,te){var se,ne,le=this,ue=ee.name+"_image";if(!ee.data||ee.type!==LoaderResource.TYPE.JSON||!ee.data.frames||le.resources[ue]){te();return}var ce=(ne=(se=ee.data)===null||se===void 0?void 0:se.meta)===null||ne===void 0?void 0:ne.related_multi_packs;if(Array.isArray(ce))for(var he=function(Pe){if(typeof Pe!="string")return"continue";var Ne=Pe.replace(".json",""),we=url.resolve(ee.url.replace(le.baseUrl,""),Pe);if(le.resources[Ne]||Object.values(le.resources).some(function($e){return url.format(url.parse($e.url))===we}))return"continue";var De={crossOrigin:ee.crossOrigin,loadType:LoaderResource.LOAD_TYPE.XHR,xhrType:LoaderResource.XHR_RESPONSE_TYPE.JSON,parentResource:ee,metadata:ee.metadata};le.add(Ne,we,De)},de=0,_e=ce;de<_e.length;de++){var fe=_e[de];he(fe)}var ye={crossOrigin:ee.crossOrigin,metadata:ee.metadata.imageMetadata,parentResource:ee},be=ie.getResourcePath(ee,le.baseUrl);le.add(ue,be,ye,function(Ne){if(Ne.error){te(Ne.error);return}var we=new Spritesheet$1(Ne.texture,ee.data,ee.url);we.parse().then(function(){ee.spritesheet=we,ee.textures=we.textures,te()})})},ie.getResourcePath=function(ee,te){return ee.isDataUrl?ee.data.meta.image:url.resolve(ee.url.replace(te,""),ee.data.meta.image)},ie.extension=ExtensionType$1.Loader,ie}();const LI=class LI{static log(...ee){this.LOG_DEBUG&&console.log(this.logPrefix(),...ee)}static warn(...ee){this.LOG_WARN&&console.warn(this.logPrefix(),...ee)}static error(...ee){this.LOG_ERROR&&console.error(this.logPrefix(),...ee)}static events(...ee){this.LOG_EVENTS&&console.log(this.logPrefix(),...ee)}static packets(...ee){this.LOG_PACKETS&&console.log(this.logPrefix(),...ee)}static logPrefix(){return"[Nitro]"}};LI.LOG_DEBUG=!1,LI.LOG_WARN=!1,LI.LOG_ERROR=!1,LI.LOG_EVENTS=!1,LI.LOG_PACKETS=!1;let NitroLogger=LI;class AdvancedMap{constructor(ee=null){if(this._length=0,this._dictionary=new Map,this._array=[],this._keys=[],ee)for(const[te,se]of ee.entries())this.add(te,se)}get length(){return this._length}get disposed(){return!this._dictionary}dispose(){if(!this._dictionary){for(const ee of this._dictionary.keys())this._dictionary.delete(ee);this._dictionary=null}this._length=0,this._array=null,this._keys=null}reset(){for(const ee of this._dictionary.keys())this._dictionary.delete(ee);this._length=0,this._array=[],this._keys=[]}unshift(ee,te){return this._dictionary.get(ee)!==null?!1:(this._dictionary.set(ee,te),this._array.unshift(te),this._keys.unshift(ee),this._length++,!0)}add(ee,te){return this._dictionary.get(ee)!==void 0?!1:(this._dictionary.set(ee,te),this._array[this._length]=te,this._keys[this._length]=ee,this._length++,!0)}remove(ee){const te=this._dictionary.get(ee);if(!te)return null;const se=this._array.indexOf(te);return se>=0&&(this._array.splice(se,1),this._keys.splice(se,1),this._length--),this._dictionary.delete(ee),te}getWithIndex(ee){return ee<0||ee>=this._length?null:this._array[ee]}getKey(ee){return ee<0||ee>=this._length?null:this._keys[ee]}getKeys(){return this._keys.slice()}hasKey(ee){return this._keys.indexOf(ee)>-1}getValue(ee){return this._dictionary.get(ee)}getValues(){return this._array.slice()}hasValue(ee){return this._array.indexOf(ee)>-1}indexOf(ee){return this._array.indexOf(ee)}concatenate(ee){for(const te of ee._keys)this.add(te,ee.getValue(te))}clone(){const ee=new AdvancedMap;return ee.concatenate(this),ee}}const ArrayBufferToBase64=ie=>{let ee="";const te=new Uint8Array(ie),se=te.byteLength;for(let ne=0;ne<se;ne++)ee+=String.fromCharCode(te[ne]);return window.btoa(ee)};let BinaryReader$1=class Tk{constructor(ee){this._position=0,this._dataView=new DataView(ee)}readBytes(ee){const te=new Tk(this._dataView.buffer.slice(this._position,this._position+ee));return this._position+=ee,te}readByte(){const ee=this._dataView.getInt8(this._position);return this._position++,ee}readShort(){const ee=this._dataView.getInt16(this._position);return this._position+=2,ee}readInt(){const ee=this._dataView.getInt32(this._position);return this._position+=4,ee}readFloat(){const ee=this._dataView.getFloat32(this._position);return this._position+=4,ee}readDouble(){const ee=this._dataView.getFloat64(this._position);return this._position+=8,ee}remaining(){return this._dataView.byteLength-this._position}toString(ee){return new TextDecoder().decode(this._dataView.buffer)}toArrayBuffer(){return this._dataView.buffer}},BinaryWriter$1=class{constructor(){this._buffer=new Uint8Array,this._position=0}writeByte(ee){const te=new Uint8Array(1);return te[0]=ee,this.appendArray(te),this}writeBytes(ee){const te=new Uint8Array(ee);return this.appendArray(te),this}writeShort(ee){const te=new Uint8Array(2);return te[0]=ee>>8,te[1]=ee&255,this.appendArray(te),this}writeInt(ee){const te=new Uint8Array(4);return te[0]=ee>>24,te[1]=ee>>16,te[2]=ee>>8,te[3]=ee&255,this.appendArray(te),this}writeString(ee,te=!0){const se=new TextEncoder().encode(ee);return te?(this.writeShort(se.length),this.appendArray(se)):this.appendArray(se),this}appendArray(ee){if(!ee)return;const te=new Uint8Array(this.position+ee.length>this._buffer.length?this.position+ee.length:this._buffer.length);te.set(this._buffer),te.set(ee,this.position),this._buffer=te,this.position+=ee.length}getBuffer(){return this._buffer.buffer}get position(){return this._position}set position(ee){this._position=ee}toString(ee){return new TextDecoder(ee).decode(this._buffer)}};/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(ie){let ee=ie.length;for(;--ee>=0;)ie[ee]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(ie,ee,te,se,ne){this.static_tree=ie,this.extra_bits=ee,this.extra_base=te,this.elems=se,this.max_length=ne,this.has_stree=ie&&ie.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(ie,ee){this.dyn_tree=ie,this.max_code=0,this.stat_desc=ee}const d_code=ie=>ie<256?_dist_code[ie]:_dist_code[256+(ie>>>7)],put_short=(ie,ee)=>{ie.pending_buf[ie.pending++]=ee&255,ie.pending_buf[ie.pending++]=ee>>>8&255},send_bits=(ie,ee,te)=>{ie.bi_valid>Buf_size-te?(ie.bi_buf|=ee<<ie.bi_valid&65535,put_short(ie,ie.bi_buf),ie.bi_buf=ee>>Buf_size-ie.bi_valid,ie.bi_valid+=te-Buf_size):(ie.bi_buf|=ee<<ie.bi_valid&65535,ie.bi_valid+=te)},send_code=(ie,ee,te)=>{send_bits(ie,te[ee*2],te[ee*2+1])},bi_reverse=(ie,ee)=>{let te=0;do te|=ie&1,ie>>>=1,te<<=1;while(--ee>0);return te>>>1},bi_flush=ie=>{ie.bi_valid===16?(put_short(ie,ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0):ie.bi_valid>=8&&(ie.pending_buf[ie.pending++]=ie.bi_buf&255,ie.bi_buf>>=8,ie.bi_valid-=8)},gen_bitlen=(ie,ee)=>{const te=ee.dyn_tree,se=ee.max_code,ne=ee.stat_desc.static_tree,le=ee.stat_desc.has_stree,ue=ee.stat_desc.extra_bits,ce=ee.stat_desc.extra_base,he=ee.stat_desc.max_length;let de,_e,fe,ye,be,Pe,Ne=0;for(ye=0;ye<=MAX_BITS$1;ye++)ie.bl_count[ye]=0;for(te[ie.heap[ie.heap_max]*2+1]=0,de=ie.heap_max+1;de<HEAP_SIZE$1;de++)_e=ie.heap[de],ye=te[te[_e*2+1]*2+1]+1,ye>he&&(ye=he,Ne++),te[_e*2+1]=ye,!(_e>se)&&(ie.bl_count[ye]++,be=0,_e>=ce&&(be=ue[_e-ce]),Pe=te[_e*2],ie.opt_len+=Pe*(ye+be),le&&(ie.static_len+=Pe*(ne[_e*2+1]+be)));if(Ne!==0){do{for(ye=he-1;ie.bl_count[ye]===0;)ye--;ie.bl_count[ye]--,ie.bl_count[ye+1]+=2,ie.bl_count[he]--,Ne-=2}while(Ne>0);for(ye=he;ye!==0;ye--)for(_e=ie.bl_count[ye];_e!==0;)fe=ie.heap[--de],!(fe>se)&&(te[fe*2+1]!==ye&&(ie.opt_len+=(ye-te[fe*2+1])*te[fe*2],te[fe*2+1]=ye),_e--)}},gen_codes=(ie,ee,te)=>{const se=new Array(MAX_BITS$1+1);let ne=0,le,ue;for(le=1;le<=MAX_BITS$1;le++)ne=ne+te[le-1]<<1,se[le]=ne;for(ue=0;ue<=ee;ue++){let ce=ie[ue*2+1];ce!==0&&(ie[ue*2]=bi_reverse(se[ce]++,ce))}},tr_static_init=()=>{let ie,ee,te,se,ne;const le=new Array(MAX_BITS$1+1);for(te=0,se=0;se<LENGTH_CODES$1-1;se++)for(base_length[se]=te,ie=0;ie<1<<extra_lbits[se];ie++)_length_code[te++]=se;for(_length_code[te-1]=se,ne=0,se=0;se<16;se++)for(base_dist[se]=ne,ie=0;ie<1<<extra_dbits[se];ie++)_dist_code[ne++]=se;for(ne>>=7;se<D_CODES$1;se++)for(base_dist[se]=ne<<7,ie=0;ie<1<<extra_dbits[se]-7;ie++)_dist_code[256+ne++]=se;for(ee=0;ee<=MAX_BITS$1;ee++)le[ee]=0;for(ie=0;ie<=143;)static_ltree[ie*2+1]=8,ie++,le[8]++;for(;ie<=255;)static_ltree[ie*2+1]=9,ie++,le[9]++;for(;ie<=279;)static_ltree[ie*2+1]=7,ie++,le[7]++;for(;ie<=287;)static_ltree[ie*2+1]=8,ie++,le[8]++;for(gen_codes(static_ltree,L_CODES$1+1,le),ie=0;ie<D_CODES$1;ie++)static_dtree[ie*2+1]=5,static_dtree[ie*2]=bi_reverse(ie,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=ie=>{let ee;for(ee=0;ee<L_CODES$1;ee++)ie.dyn_ltree[ee*2]=0;for(ee=0;ee<D_CODES$1;ee++)ie.dyn_dtree[ee*2]=0;for(ee=0;ee<BL_CODES$1;ee++)ie.bl_tree[ee*2]=0;ie.dyn_ltree[END_BLOCK*2]=1,ie.opt_len=ie.static_len=0,ie.sym_next=ie.matches=0},bi_windup=ie=>{ie.bi_valid>8?put_short(ie,ie.bi_buf):ie.bi_valid>0&&(ie.pending_buf[ie.pending++]=ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0},smaller=(ie,ee,te,se)=>{const ne=ee*2,le=te*2;return ie[ne]<ie[le]||ie[ne]===ie[le]&&se[ee]<=se[te]},pqdownheap=(ie,ee,te)=>{const se=ie.heap[te];let ne=te<<1;for(;ne<=ie.heap_len&&(ne<ie.heap_len&&smaller(ee,ie.heap[ne+1],ie.heap[ne],ie.depth)&&ne++,!smaller(ee,se,ie.heap[ne],ie.depth));)ie.heap[te]=ie.heap[ne],te=ne,ne<<=1;ie.heap[te]=se},compress_block=(ie,ee,te)=>{let se,ne,le=0,ue,ce;if(ie.sym_next!==0)do se=ie.pending_buf[ie.sym_buf+le++]&255,se+=(ie.pending_buf[ie.sym_buf+le++]&255)<<8,ne=ie.pending_buf[ie.sym_buf+le++],se===0?send_code(ie,ne,ee):(ue=_length_code[ne],send_code(ie,ue+LITERALS$1+1,ee),ce=extra_lbits[ue],ce!==0&&(ne-=base_length[ue],send_bits(ie,ne,ce)),se--,ue=d_code(se),send_code(ie,ue,te),ce=extra_dbits[ue],ce!==0&&(se-=base_dist[ue],send_bits(ie,se,ce)));while(le<ie.sym_next);send_code(ie,END_BLOCK,ee)},build_tree=(ie,ee)=>{const te=ee.dyn_tree,se=ee.stat_desc.static_tree,ne=ee.stat_desc.has_stree,le=ee.stat_desc.elems;let ue,ce,he=-1,de;for(ie.heap_len=0,ie.heap_max=HEAP_SIZE$1,ue=0;ue<le;ue++)te[ue*2]!==0?(ie.heap[++ie.heap_len]=he=ue,ie.depth[ue]=0):te[ue*2+1]=0;for(;ie.heap_len<2;)de=ie.heap[++ie.heap_len]=he<2?++he:0,te[de*2]=1,ie.depth[de]=0,ie.opt_len--,ne&&(ie.static_len-=se[de*2+1]);for(ee.max_code=he,ue=ie.heap_len>>1;ue>=1;ue--)pqdownheap(ie,te,ue);de=le;do ue=ie.heap[1],ie.heap[1]=ie.heap[ie.heap_len--],pqdownheap(ie,te,1),ce=ie.heap[1],ie.heap[--ie.heap_max]=ue,ie.heap[--ie.heap_max]=ce,te[de*2]=te[ue*2]+te[ce*2],ie.depth[de]=(ie.depth[ue]>=ie.depth[ce]?ie.depth[ue]:ie.depth[ce])+1,te[ue*2+1]=te[ce*2+1]=de,ie.heap[1]=de++,pqdownheap(ie,te,1);while(ie.heap_len>=2);ie.heap[--ie.heap_max]=ie.heap[1],gen_bitlen(ie,ee),gen_codes(te,he,ie.bl_count)},scan_tree=(ie,ee,te)=>{let se,ne=-1,le,ue=ee[0*2+1],ce=0,he=7,de=4;for(ue===0&&(he=138,de=3),ee[(te+1)*2+1]=65535,se=0;se<=te;se++)le=ue,ue=ee[(se+1)*2+1],!(++ce<he&&le===ue)&&(ce<de?ie.bl_tree[le*2]+=ce:le!==0?(le!==ne&&ie.bl_tree[le*2]++,ie.bl_tree[REP_3_6*2]++):ce<=10?ie.bl_tree[REPZ_3_10*2]++:ie.bl_tree[REPZ_11_138*2]++,ce=0,ne=le,ue===0?(he=138,de=3):le===ue?(he=6,de=3):(he=7,de=4))},send_tree=(ie,ee,te)=>{let se,ne=-1,le,ue=ee[0*2+1],ce=0,he=7,de=4;for(ue===0&&(he=138,de=3),se=0;se<=te;se++)if(le=ue,ue=ee[(se+1)*2+1],!(++ce<he&&le===ue)){if(ce<de)do send_code(ie,le,ie.bl_tree);while(--ce!==0);else le!==0?(le!==ne&&(send_code(ie,le,ie.bl_tree),ce--),send_code(ie,REP_3_6,ie.bl_tree),send_bits(ie,ce-3,2)):ce<=10?(send_code(ie,REPZ_3_10,ie.bl_tree),send_bits(ie,ce-3,3)):(send_code(ie,REPZ_11_138,ie.bl_tree),send_bits(ie,ce-11,7));ce=0,ne=le,ue===0?(he=138,de=3):le===ue?(he=6,de=3):(he=7,de=4)}},build_bl_tree=ie=>{let ee;for(scan_tree(ie,ie.dyn_ltree,ie.l_desc.max_code),scan_tree(ie,ie.dyn_dtree,ie.d_desc.max_code),build_tree(ie,ie.bl_desc),ee=BL_CODES$1-1;ee>=3&&ie.bl_tree[bl_order[ee]*2+1]===0;ee--);return ie.opt_len+=3*(ee+1)+5+5+4,ee},send_all_trees=(ie,ee,te,se)=>{let ne;for(send_bits(ie,ee-257,5),send_bits(ie,te-1,5),send_bits(ie,se-4,4),ne=0;ne<se;ne++)send_bits(ie,ie.bl_tree[bl_order[ne]*2+1],3);send_tree(ie,ie.dyn_ltree,ee-1),send_tree(ie,ie.dyn_dtree,te-1)},detect_data_type=ie=>{let ee=4093624447,te;for(te=0;te<=31;te++,ee>>>=1)if(ee&1&&ie.dyn_ltree[te*2]!==0)return Z_BINARY;if(ie.dyn_ltree[9*2]!==0||ie.dyn_ltree[10*2]!==0||ie.dyn_ltree[13*2]!==0)return Z_TEXT;for(te=32;te<LITERALS$1;te++)if(ie.dyn_ltree[te*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=ie=>{static_init_done||(tr_static_init(),static_init_done=!0),ie.l_desc=new TreeDesc(ie.dyn_ltree,static_l_desc),ie.d_desc=new TreeDesc(ie.dyn_dtree,static_d_desc),ie.bl_desc=new TreeDesc(ie.bl_tree,static_bl_desc),ie.bi_buf=0,ie.bi_valid=0,init_block(ie)},_tr_stored_block$1=(ie,ee,te,se)=>{send_bits(ie,(STORED_BLOCK<<1)+(se?1:0),3),bi_windup(ie),put_short(ie,te),put_short(ie,~te),te&&ie.pending_buf.set(ie.window.subarray(ee,ee+te),ie.pending),ie.pending+=te},_tr_align$1=ie=>{send_bits(ie,STATIC_TREES<<1,3),send_code(ie,END_BLOCK,static_ltree),bi_flush(ie)},_tr_flush_block$1=(ie,ee,te,se)=>{let ne,le,ue=0;ie.level>0?(ie.strm.data_type===Z_UNKNOWN$1&&(ie.strm.data_type=detect_data_type(ie)),build_tree(ie,ie.l_desc),build_tree(ie,ie.d_desc),ue=build_bl_tree(ie),ne=ie.opt_len+3+7>>>3,le=ie.static_len+3+7>>>3,le<=ne&&(ne=le)):ne=le=te+5,te+4<=ne&&ee!==-1?_tr_stored_block$1(ie,ee,te,se):ie.strategy===Z_FIXED$1||le===ne?(send_bits(ie,(STATIC_TREES<<1)+(se?1:0),3),compress_block(ie,static_ltree,static_dtree)):(send_bits(ie,(DYN_TREES<<1)+(se?1:0),3),send_all_trees(ie,ie.l_desc.max_code+1,ie.d_desc.max_code+1,ue+1),compress_block(ie,ie.dyn_ltree,ie.dyn_dtree)),init_block(ie),se&&bi_windup(ie)},_tr_tally$1=(ie,ee,te)=>(ie.pending_buf[ie.sym_buf+ie.sym_next++]=ee,ie.pending_buf[ie.sym_buf+ie.sym_next++]=ee>>8,ie.pending_buf[ie.sym_buf+ie.sym_next++]=te,ee===0?ie.dyn_ltree[te*2]++:(ie.matches++,ee--,ie.dyn_ltree[(_length_code[te]+LITERALS$1+1)*2]++,ie.dyn_dtree[d_code(ee)*2]++),ie.sym_next===ie.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(ie,ee,te,se)=>{let ne=ie&65535|0,le=ie>>>16&65535|0,ue=0;for(;te!==0;){ue=te>2e3?2e3:te,te-=ue;do ne=ne+ee[se++]|0,le=le+ne|0;while(--ue);ne%=65521,le%=65521}return ne|le<<16|0};var adler32_1=adler32;const makeTable=()=>{let ie,ee=[];for(var te=0;te<256;te++){ie=te;for(var se=0;se<8;se++)ie=ie&1?3988292384^ie>>>1:ie>>>1;ee[te]=ie}return ee},crcTable=new Uint32Array(makeTable()),crc32=(ie,ee,te,se)=>{const ne=crcTable,le=se+te;ie^=-1;for(let ue=se;ue<le;ue++)ie=ie>>>8^ne[(ie^ee[ue])&255];return ie^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(ie,ee)=>(ie.msg=messages[ee],ee),rank=ie=>ie*2-(ie>4?9:0),zero=ie=>{let ee=ie.length;for(;--ee>=0;)ie[ee]=0},slide_hash=ie=>{let ee,te,se,ne=ie.w_size;ee=ie.hash_size,se=ee;do te=ie.head[--se],ie.head[se]=te>=ne?te-ne:0;while(--ee);ee=ne,se=ee;do te=ie.prev[--se],ie.prev[se]=te>=ne?te-ne:0;while(--ee)};let HASH_ZLIB=(ie,ee,te)=>(ee<<ie.hash_shift^te)&ie.hash_mask,HASH=HASH_ZLIB;const flush_pending=ie=>{const ee=ie.state;let te=ee.pending;te>ie.avail_out&&(te=ie.avail_out),te!==0&&(ie.output.set(ee.pending_buf.subarray(ee.pending_out,ee.pending_out+te),ie.next_out),ie.next_out+=te,ee.pending_out+=te,ie.total_out+=te,ie.avail_out-=te,ee.pending-=te,ee.pending===0&&(ee.pending_out=0))},flush_block_only=(ie,ee)=>{_tr_flush_block(ie,ie.block_start>=0?ie.block_start:-1,ie.strstart-ie.block_start,ee),ie.block_start=ie.strstart,flush_pending(ie.strm)},put_byte=(ie,ee)=>{ie.pending_buf[ie.pending++]=ee},putShortMSB=(ie,ee)=>{ie.pending_buf[ie.pending++]=ee>>>8&255,ie.pending_buf[ie.pending++]=ee&255},read_buf=(ie,ee,te,se)=>{let ne=ie.avail_in;return ne>se&&(ne=se),ne===0?0:(ie.avail_in-=ne,ee.set(ie.input.subarray(ie.next_in,ie.next_in+ne),te),ie.state.wrap===1?ie.adler=adler32_1(ie.adler,ee,ne,te):ie.state.wrap===2&&(ie.adler=crc32_1(ie.adler,ee,ne,te)),ie.next_in+=ne,ie.total_in+=ne,ne)},longest_match=(ie,ee)=>{let te=ie.max_chain_length,se=ie.strstart,ne,le,ue=ie.prev_length,ce=ie.nice_match;const he=ie.strstart>ie.w_size-MIN_LOOKAHEAD?ie.strstart-(ie.w_size-MIN_LOOKAHEAD):0,de=ie.window,_e=ie.w_mask,fe=ie.prev,ye=ie.strstart+MAX_MATCH;let be=de[se+ue-1],Pe=de[se+ue];ie.prev_length>=ie.good_match&&(te>>=2),ce>ie.lookahead&&(ce=ie.lookahead);do if(ne=ee,!(de[ne+ue]!==Pe||de[ne+ue-1]!==be||de[ne]!==de[se]||de[++ne]!==de[se+1])){se+=2,ne++;do;while(de[++se]===de[++ne]&&de[++se]===de[++ne]&&de[++se]===de[++ne]&&de[++se]===de[++ne]&&de[++se]===de[++ne]&&de[++se]===de[++ne]&&de[++se]===de[++ne]&&de[++se]===de[++ne]&&se<ye);if(le=MAX_MATCH-(ye-se),se=ye-MAX_MATCH,le>ue){if(ie.match_start=ee,ue=le,le>=ce)break;be=de[se+ue-1],Pe=de[se+ue]}}while((ee=fe[ee&_e])>he&&--te!==0);return ue<=ie.lookahead?ue:ie.lookahead},fill_window=ie=>{const ee=ie.w_size;let te,se,ne;do{if(se=ie.window_size-ie.lookahead-ie.strstart,ie.strstart>=ee+(ee-MIN_LOOKAHEAD)&&(ie.window.set(ie.window.subarray(ee,ee+ee-se),0),ie.match_start-=ee,ie.strstart-=ee,ie.block_start-=ee,ie.insert>ie.strstart&&(ie.insert=ie.strstart),slide_hash(ie),se+=ee),ie.strm.avail_in===0)break;if(te=read_buf(ie.strm,ie.window,ie.strstart+ie.lookahead,se),ie.lookahead+=te,ie.lookahead+ie.insert>=MIN_MATCH)for(ne=ie.strstart-ie.insert,ie.ins_h=ie.window[ne],ie.ins_h=HASH(ie,ie.ins_h,ie.window[ne+1]);ie.insert&&(ie.ins_h=HASH(ie,ie.ins_h,ie.window[ne+MIN_MATCH-1]),ie.prev[ne&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ne,ne++,ie.insert--,!(ie.lookahead+ie.insert<MIN_MATCH)););}while(ie.lookahead<MIN_LOOKAHEAD&&ie.strm.avail_in!==0)},deflate_stored=(ie,ee)=>{let te=ie.pending_buf_size-5>ie.w_size?ie.w_size:ie.pending_buf_size-5,se,ne,le,ue=0,ce=ie.strm.avail_in;do{if(se=65535,le=ie.bi_valid+42>>3,ie.strm.avail_out<le||(le=ie.strm.avail_out-le,ne=ie.strstart-ie.block_start,se>ne+ie.strm.avail_in&&(se=ne+ie.strm.avail_in),se>le&&(se=le),se<te&&(se===0&&ee!==Z_FINISH$3||ee===Z_NO_FLUSH$2||se!==ne+ie.strm.avail_in)))break;ue=ee===Z_FINISH$3&&se===ne+ie.strm.avail_in?1:0,_tr_stored_block(ie,0,0,ue),ie.pending_buf[ie.pending-4]=se,ie.pending_buf[ie.pending-3]=se>>8,ie.pending_buf[ie.pending-2]=~se,ie.pending_buf[ie.pending-1]=~se>>8,flush_pending(ie.strm),ne&&(ne>se&&(ne=se),ie.strm.output.set(ie.window.subarray(ie.block_start,ie.block_start+ne),ie.strm.next_out),ie.strm.next_out+=ne,ie.strm.avail_out-=ne,ie.strm.total_out+=ne,ie.block_start+=ne,se-=ne),se&&(read_buf(ie.strm,ie.strm.output,ie.strm.next_out,se),ie.strm.next_out+=se,ie.strm.avail_out-=se,ie.strm.total_out+=se)}while(ue===0);return ce-=ie.strm.avail_in,ce&&(ce>=ie.w_size?(ie.matches=2,ie.window.set(ie.strm.input.subarray(ie.strm.next_in-ie.w_size,ie.strm.next_in),0),ie.strstart=ie.w_size,ie.insert=ie.strstart):(ie.window_size-ie.strstart<=ce&&(ie.strstart-=ie.w_size,ie.window.set(ie.window.subarray(ie.w_size,ie.w_size+ie.strstart),0),ie.matches<2&&ie.matches++,ie.insert>ie.strstart&&(ie.insert=ie.strstart)),ie.window.set(ie.strm.input.subarray(ie.strm.next_in-ce,ie.strm.next_in),ie.strstart),ie.strstart+=ce,ie.insert+=ce>ie.w_size-ie.insert?ie.w_size-ie.insert:ce),ie.block_start=ie.strstart),ie.high_water<ie.strstart&&(ie.high_water=ie.strstart),ue?BS_FINISH_DONE:ee!==Z_NO_FLUSH$2&&ee!==Z_FINISH$3&&ie.strm.avail_in===0&&ie.strstart===ie.block_start?BS_BLOCK_DONE:(le=ie.window_size-ie.strstart,ie.strm.avail_in>le&&ie.block_start>=ie.w_size&&(ie.block_start-=ie.w_size,ie.strstart-=ie.w_size,ie.window.set(ie.window.subarray(ie.w_size,ie.w_size+ie.strstart),0),ie.matches<2&&ie.matches++,le+=ie.w_size,ie.insert>ie.strstart&&(ie.insert=ie.strstart)),le>ie.strm.avail_in&&(le=ie.strm.avail_in),le&&(read_buf(ie.strm,ie.window,ie.strstart,le),ie.strstart+=le,ie.insert+=le>ie.w_size-ie.insert?ie.w_size-ie.insert:le),ie.high_water<ie.strstart&&(ie.high_water=ie.strstart),le=ie.bi_valid+42>>3,le=ie.pending_buf_size-le>65535?65535:ie.pending_buf_size-le,te=le>ie.w_size?ie.w_size:le,ne=ie.strstart-ie.block_start,(ne>=te||(ne||ee===Z_FINISH$3)&&ee!==Z_NO_FLUSH$2&&ie.strm.avail_in===0&&ne<=le)&&(se=ne>le?le:ne,ue=ee===Z_FINISH$3&&ie.strm.avail_in===0&&se===ne?1:0,_tr_stored_block(ie,ie.block_start,se,ue),ie.block_start+=se,flush_pending(ie.strm)),ue?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(ie,ee)=>{let te,se;for(;;){if(ie.lookahead<MIN_LOOKAHEAD){if(fill_window(ie),ie.lookahead<MIN_LOOKAHEAD&&ee===Z_NO_FLUSH$2)return BS_NEED_MORE;if(ie.lookahead===0)break}if(te=0,ie.lookahead>=MIN_MATCH&&(ie.ins_h=HASH(ie,ie.ins_h,ie.window[ie.strstart+MIN_MATCH-1]),te=ie.prev[ie.strstart&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ie.strstart),te!==0&&ie.strstart-te<=ie.w_size-MIN_LOOKAHEAD&&(ie.match_length=longest_match(ie,te)),ie.match_length>=MIN_MATCH)if(se=_tr_tally(ie,ie.strstart-ie.match_start,ie.match_length-MIN_MATCH),ie.lookahead-=ie.match_length,ie.match_length<=ie.max_lazy_match&&ie.lookahead>=MIN_MATCH){ie.match_length--;do ie.strstart++,ie.ins_h=HASH(ie,ie.ins_h,ie.window[ie.strstart+MIN_MATCH-1]),te=ie.prev[ie.strstart&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ie.strstart;while(--ie.match_length!==0);ie.strstart++}else ie.strstart+=ie.match_length,ie.match_length=0,ie.ins_h=ie.window[ie.strstart],ie.ins_h=HASH(ie,ie.ins_h,ie.window[ie.strstart+1]);else se=_tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++;if(se&&(flush_block_only(ie,!1),ie.strm.avail_out===0))return BS_NEED_MORE}return ie.insert=ie.strstart<MIN_MATCH-1?ie.strstart:MIN_MATCH-1,ee===Z_FINISH$3?(flush_block_only(ie,!0),ie.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):ie.sym_next&&(flush_block_only(ie,!1),ie.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(ie,ee)=>{let te,se,ne;for(;;){if(ie.lookahead<MIN_LOOKAHEAD){if(fill_window(ie),ie.lookahead<MIN_LOOKAHEAD&&ee===Z_NO_FLUSH$2)return BS_NEED_MORE;if(ie.lookahead===0)break}if(te=0,ie.lookahead>=MIN_MATCH&&(ie.ins_h=HASH(ie,ie.ins_h,ie.window[ie.strstart+MIN_MATCH-1]),te=ie.prev[ie.strstart&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ie.strstart),ie.prev_length=ie.match_length,ie.prev_match=ie.match_start,ie.match_length=MIN_MATCH-1,te!==0&&ie.prev_length<ie.max_lazy_match&&ie.strstart-te<=ie.w_size-MIN_LOOKAHEAD&&(ie.match_length=longest_match(ie,te),ie.match_length<=5&&(ie.strategy===Z_FILTERED||ie.match_length===MIN_MATCH&&ie.strstart-ie.match_start>4096)&&(ie.match_length=MIN_MATCH-1)),ie.prev_length>=MIN_MATCH&&ie.match_length<=ie.prev_length){ne=ie.strstart+ie.lookahead-MIN_MATCH,se=_tr_tally(ie,ie.strstart-1-ie.prev_match,ie.prev_length-MIN_MATCH),ie.lookahead-=ie.prev_length-1,ie.prev_length-=2;do++ie.strstart<=ne&&(ie.ins_h=HASH(ie,ie.ins_h,ie.window[ie.strstart+MIN_MATCH-1]),te=ie.prev[ie.strstart&ie.w_mask]=ie.head[ie.ins_h],ie.head[ie.ins_h]=ie.strstart);while(--ie.prev_length!==0);if(ie.match_available=0,ie.match_length=MIN_MATCH-1,ie.strstart++,se&&(flush_block_only(ie,!1),ie.strm.avail_out===0))return BS_NEED_MORE}else if(ie.match_available){if(se=_tr_tally(ie,0,ie.window[ie.strstart-1]),se&&flush_block_only(ie,!1),ie.strstart++,ie.lookahead--,ie.strm.avail_out===0)return BS_NEED_MORE}else ie.match_available=1,ie.strstart++,ie.lookahead--}return ie.match_available&&(se=_tr_tally(ie,0,ie.window[ie.strstart-1]),ie.match_available=0),ie.insert=ie.strstart<MIN_MATCH-1?ie.strstart:MIN_MATCH-1,ee===Z_FINISH$3?(flush_block_only(ie,!0),ie.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):ie.sym_next&&(flush_block_only(ie,!1),ie.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(ie,ee)=>{let te,se,ne,le;const ue=ie.window;for(;;){if(ie.lookahead<=MAX_MATCH){if(fill_window(ie),ie.lookahead<=MAX_MATCH&&ee===Z_NO_FLUSH$2)return BS_NEED_MORE;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=MIN_MATCH&&ie.strstart>0&&(ne=ie.strstart-1,se=ue[ne],se===ue[++ne]&&se===ue[++ne]&&se===ue[++ne])){le=ie.strstart+MAX_MATCH;do;while(se===ue[++ne]&&se===ue[++ne]&&se===ue[++ne]&&se===ue[++ne]&&se===ue[++ne]&&se===ue[++ne]&&se===ue[++ne]&&se===ue[++ne]&&ne<le);ie.match_length=MAX_MATCH-(le-ne),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=MIN_MATCH?(te=_tr_tally(ie,1,ie.match_length-MIN_MATCH),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(te=_tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),te&&(flush_block_only(ie,!1),ie.strm.avail_out===0))return BS_NEED_MORE}return ie.insert=0,ee===Z_FINISH$3?(flush_block_only(ie,!0),ie.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):ie.sym_next&&(flush_block_only(ie,!1),ie.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(ie,ee)=>{let te;for(;;){if(ie.lookahead===0&&(fill_window(ie),ie.lookahead===0)){if(ee===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(ie.match_length=0,te=_tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,te&&(flush_block_only(ie,!1),ie.strm.avail_out===0))return BS_NEED_MORE}return ie.insert=0,ee===Z_FINISH$3?(flush_block_only(ie,!0),ie.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):ie.sym_next&&(flush_block_only(ie,!1),ie.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(ie,ee,te,se,ne){this.good_length=ie,this.max_lazy=ee,this.nice_length=te,this.max_chain=se,this.func=ne}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=ie=>{ie.window_size=2*ie.w_size,zero(ie.head),ie.max_lazy_match=configuration_table[ie.level].max_lazy,ie.good_match=configuration_table[ie.level].good_length,ie.nice_match=configuration_table[ie.level].nice_length,ie.max_chain_length=configuration_table[ie.level].max_chain,ie.strstart=0,ie.block_start=0,ie.lookahead=0,ie.insert=0,ie.match_length=ie.prev_length=MIN_MATCH-1,ie.match_available=0,ie.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=ie=>{if(!ie)return 1;const ee=ie.state;return!ee||ee.strm!==ie||ee.status!==INIT_STATE&&ee.status!==GZIP_STATE&&ee.status!==EXTRA_STATE&&ee.status!==NAME_STATE&&ee.status!==COMMENT_STATE&&ee.status!==HCRC_STATE&&ee.status!==BUSY_STATE&&ee.status!==FINISH_STATE?1:0},deflateResetKeep=ie=>{if(deflateStateCheck(ie))return err(ie,Z_STREAM_ERROR$2);ie.total_in=ie.total_out=0,ie.data_type=Z_UNKNOWN;const ee=ie.state;return ee.pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap===2?GZIP_STATE:ee.wrap?INIT_STATE:BUSY_STATE,ie.adler=ee.wrap===2?0:1,ee.last_flush=-2,_tr_init(ee),Z_OK$3},deflateReset=ie=>{const ee=deflateResetKeep(ie);return ee===Z_OK$3&&lm_init(ie.state),ee},deflateSetHeader=(ie,ee)=>deflateStateCheck(ie)||ie.state.wrap!==2?Z_STREAM_ERROR$2:(ie.state.gzhead=ee,Z_OK$3),deflateInit2=(ie,ee,te,se,ne,le)=>{if(!ie)return Z_STREAM_ERROR$2;let ue=1;if(ee===Z_DEFAULT_COMPRESSION$1&&(ee=6),se<0?(ue=0,se=-se):se>15&&(ue=2,se-=16),ne<1||ne>MAX_MEM_LEVEL||te!==Z_DEFLATED$2||se<8||se>15||ee<0||ee>9||le<0||le>Z_FIXED||se===8&&ue!==1)return err(ie,Z_STREAM_ERROR$2);se===8&&(se=9);const ce=new DeflateState;return ie.state=ce,ce.strm=ie,ce.status=INIT_STATE,ce.wrap=ue,ce.gzhead=null,ce.w_bits=se,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=ne+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+MIN_MATCH-1)/MIN_MATCH),ce.window=new Uint8Array(ce.w_size*2),ce.head=new Uint16Array(ce.hash_size),ce.prev=new Uint16Array(ce.w_size),ce.lit_bufsize=1<<ne+6,ce.pending_buf_size=ce.lit_bufsize*4,ce.pending_buf=new Uint8Array(ce.pending_buf_size),ce.sym_buf=ce.lit_bufsize,ce.sym_end=(ce.lit_bufsize-1)*3,ce.level=ee,ce.strategy=le,ce.method=te,deflateReset(ie)},deflateInit=(ie,ee)=>deflateInit2(ie,ee,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(ie,ee)=>{if(deflateStateCheck(ie)||ee>Z_BLOCK$1||ee<0)return ie?err(ie,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const te=ie.state;if(!ie.output||ie.avail_in!==0&&!ie.input||te.status===FINISH_STATE&&ee!==Z_FINISH$3)return err(ie,ie.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const se=te.last_flush;if(te.last_flush=ee,te.pending!==0){if(flush_pending(ie),ie.avail_out===0)return te.last_flush=-1,Z_OK$3}else if(ie.avail_in===0&&rank(ee)<=rank(se)&&ee!==Z_FINISH$3)return err(ie,Z_BUF_ERROR$1);if(te.status===FINISH_STATE&&ie.avail_in!==0)return err(ie,Z_BUF_ERROR$1);if(te.status===INIT_STATE&&te.wrap===0&&(te.status=BUSY_STATE),te.status===INIT_STATE){let ne=Z_DEFLATED$2+(te.w_bits-8<<4)<<8,le=-1;if(te.strategy>=Z_HUFFMAN_ONLY||te.level<2?le=0:te.level<6?le=1:te.level===6?le=2:le=3,ne|=le<<6,te.strstart!==0&&(ne|=PRESET_DICT),ne+=31-ne%31,putShortMSB(te,ne),te.strstart!==0&&(putShortMSB(te,ie.adler>>>16),putShortMSB(te,ie.adler&65535)),ie.adler=1,te.status=BUSY_STATE,flush_pending(ie),te.pending!==0)return te.last_flush=-1,Z_OK$3}if(te.status===GZIP_STATE){if(ie.adler=0,put_byte(te,31),put_byte(te,139),put_byte(te,8),te.gzhead)put_byte(te,(te.gzhead.text?1:0)+(te.gzhead.hcrc?2:0)+(te.gzhead.extra?4:0)+(te.gzhead.name?8:0)+(te.gzhead.comment?16:0)),put_byte(te,te.gzhead.time&255),put_byte(te,te.gzhead.time>>8&255),put_byte(te,te.gzhead.time>>16&255),put_byte(te,te.gzhead.time>>24&255),put_byte(te,te.level===9?2:te.strategy>=Z_HUFFMAN_ONLY||te.level<2?4:0),put_byte(te,te.gzhead.os&255),te.gzhead.extra&&te.gzhead.extra.length&&(put_byte(te,te.gzhead.extra.length&255),put_byte(te,te.gzhead.extra.length>>8&255)),te.gzhead.hcrc&&(ie.adler=crc32_1(ie.adler,te.pending_buf,te.pending,0)),te.gzindex=0,te.status=EXTRA_STATE;else if(put_byte(te,0),put_byte(te,0),put_byte(te,0),put_byte(te,0),put_byte(te,0),put_byte(te,te.level===9?2:te.strategy>=Z_HUFFMAN_ONLY||te.level<2?4:0),put_byte(te,OS_CODE),te.status=BUSY_STATE,flush_pending(ie),te.pending!==0)return te.last_flush=-1,Z_OK$3}if(te.status===EXTRA_STATE){if(te.gzhead.extra){let ne=te.pending,le=(te.gzhead.extra.length&65535)-te.gzindex;for(;te.pending+le>te.pending_buf_size;){let ce=te.pending_buf_size-te.pending;if(te.pending_buf.set(te.gzhead.extra.subarray(te.gzindex,te.gzindex+ce),te.pending),te.pending=te.pending_buf_size,te.gzhead.hcrc&&te.pending>ne&&(ie.adler=crc32_1(ie.adler,te.pending_buf,te.pending-ne,ne)),te.gzindex+=ce,flush_pending(ie),te.pending!==0)return te.last_flush=-1,Z_OK$3;ne=0,le-=ce}let ue=new Uint8Array(te.gzhead.extra);te.pending_buf.set(ue.subarray(te.gzindex,te.gzindex+le),te.pending),te.pending+=le,te.gzhead.hcrc&&te.pending>ne&&(ie.adler=crc32_1(ie.adler,te.pending_buf,te.pending-ne,ne)),te.gzindex=0}te.status=NAME_STATE}if(te.status===NAME_STATE){if(te.gzhead.name){let ne=te.pending,le;do{if(te.pending===te.pending_buf_size){if(te.gzhead.hcrc&&te.pending>ne&&(ie.adler=crc32_1(ie.adler,te.pending_buf,te.pending-ne,ne)),flush_pending(ie),te.pending!==0)return te.last_flush=-1,Z_OK$3;ne=0}te.gzindex<te.gzhead.name.length?le=te.gzhead.name.charCodeAt(te.gzindex++)&255:le=0,put_byte(te,le)}while(le!==0);te.gzhead.hcrc&&te.pending>ne&&(ie.adler=crc32_1(ie.adler,te.pending_buf,te.pending-ne,ne)),te.gzindex=0}te.status=COMMENT_STATE}if(te.status===COMMENT_STATE){if(te.gzhead.comment){let ne=te.pending,le;do{if(te.pending===te.pending_buf_size){if(te.gzhead.hcrc&&te.pending>ne&&(ie.adler=crc32_1(ie.adler,te.pending_buf,te.pending-ne,ne)),flush_pending(ie),te.pending!==0)return te.last_flush=-1,Z_OK$3;ne=0}te.gzindex<te.gzhead.comment.length?le=te.gzhead.comment.charCodeAt(te.gzindex++)&255:le=0,put_byte(te,le)}while(le!==0);te.gzhead.hcrc&&te.pending>ne&&(ie.adler=crc32_1(ie.adler,te.pending_buf,te.pending-ne,ne))}te.status=HCRC_STATE}if(te.status===HCRC_STATE){if(te.gzhead.hcrc){if(te.pending+2>te.pending_buf_size&&(flush_pending(ie),te.pending!==0))return te.last_flush=-1,Z_OK$3;put_byte(te,ie.adler&255),put_byte(te,ie.adler>>8&255),ie.adler=0}if(te.status=BUSY_STATE,flush_pending(ie),te.pending!==0)return te.last_flush=-1,Z_OK$3}if(ie.avail_in!==0||te.lookahead!==0||ee!==Z_NO_FLUSH$2&&te.status!==FINISH_STATE){let ne=te.level===0?deflate_stored(te,ee):te.strategy===Z_HUFFMAN_ONLY?deflate_huff(te,ee):te.strategy===Z_RLE?deflate_rle(te,ee):configuration_table[te.level].func(te,ee);if((ne===BS_FINISH_STARTED||ne===BS_FINISH_DONE)&&(te.status=FINISH_STATE),ne===BS_NEED_MORE||ne===BS_FINISH_STARTED)return ie.avail_out===0&&(te.last_flush=-1),Z_OK$3;if(ne===BS_BLOCK_DONE&&(ee===Z_PARTIAL_FLUSH?_tr_align(te):ee!==Z_BLOCK$1&&(_tr_stored_block(te,0,0,!1),ee===Z_FULL_FLUSH$1&&(zero(te.head),te.lookahead===0&&(te.strstart=0,te.block_start=0,te.insert=0))),flush_pending(ie),ie.avail_out===0))return te.last_flush=-1,Z_OK$3}return ee!==Z_FINISH$3?Z_OK$3:te.wrap<=0?Z_STREAM_END$3:(te.wrap===2?(put_byte(te,ie.adler&255),put_byte(te,ie.adler>>8&255),put_byte(te,ie.adler>>16&255),put_byte(te,ie.adler>>24&255),put_byte(te,ie.total_in&255),put_byte(te,ie.total_in>>8&255),put_byte(te,ie.total_in>>16&255),put_byte(te,ie.total_in>>24&255)):(putShortMSB(te,ie.adler>>>16),putShortMSB(te,ie.adler&65535)),flush_pending(ie),te.wrap>0&&(te.wrap=-te.wrap),te.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=ie=>{if(deflateStateCheck(ie))return Z_STREAM_ERROR$2;const ee=ie.state.status;return ie.state=null,ee===BUSY_STATE?err(ie,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(ie,ee)=>{let te=ee.length;if(deflateStateCheck(ie))return Z_STREAM_ERROR$2;const se=ie.state,ne=se.wrap;if(ne===2||ne===1&&se.status!==INIT_STATE||se.lookahead)return Z_STREAM_ERROR$2;if(ne===1&&(ie.adler=adler32_1(ie.adler,ee,te,0)),se.wrap=0,te>=se.w_size){ne===0&&(zero(se.head),se.strstart=0,se.block_start=0,se.insert=0);let he=new Uint8Array(se.w_size);he.set(ee.subarray(te-se.w_size,te),0),ee=he,te=se.w_size}const le=ie.avail_in,ue=ie.next_in,ce=ie.input;for(ie.avail_in=te,ie.next_in=0,ie.input=ee,fill_window(se);se.lookahead>=MIN_MATCH;){let he=se.strstart,de=se.lookahead-(MIN_MATCH-1);do se.ins_h=HASH(se,se.ins_h,se.window[he+MIN_MATCH-1]),se.prev[he&se.w_mask]=se.head[se.ins_h],se.head[se.ins_h]=he,he++;while(--de);se.strstart=he,se.lookahead=MIN_MATCH-1,fill_window(se)}return se.strstart+=se.lookahead,se.block_start=se.strstart,se.insert=se.lookahead,se.lookahead=0,se.match_length=se.prev_length=MIN_MATCH-1,se.match_available=0,ie.next_in=ue,ie.input=ce,ie.avail_in=le,se.wrap=ne,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(ie,ee)=>Object.prototype.hasOwnProperty.call(ie,ee);var assign=function(ie){const ee=Array.prototype.slice.call(arguments,1);for(;ee.length;){const te=ee.shift();if(te){if(typeof te!="object")throw new TypeError(te+"must be non-object");for(const se in te)_has(te,se)&&(ie[se]=te[se])}}return ie},flattenChunks=ie=>{let ee=0;for(let se=0,ne=ie.length;se<ne;se++)ee+=ie[se].length;const te=new Uint8Array(ee);for(let se=0,ne=0,le=ie.length;se<le;se++){let ue=ie[se];te.set(ue,ne),ne+=ue.length}return te},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(ie){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let ie=0;ie<256;ie++)_utf8len[ie]=ie>=252?6:ie>=248?5:ie>=240?4:ie>=224?3:ie>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=ie=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(ie);let ee,te,se,ne,le,ue=ie.length,ce=0;for(ne=0;ne<ue;ne++)te=ie.charCodeAt(ne),(te&64512)===55296&&ne+1<ue&&(se=ie.charCodeAt(ne+1),(se&64512)===56320&&(te=65536+(te-55296<<10)+(se-56320),ne++)),ce+=te<128?1:te<2048?2:te<65536?3:4;for(ee=new Uint8Array(ce),le=0,ne=0;le<ce;ne++)te=ie.charCodeAt(ne),(te&64512)===55296&&ne+1<ue&&(se=ie.charCodeAt(ne+1),(se&64512)===56320&&(te=65536+(te-55296<<10)+(se-56320),ne++)),te<128?ee[le++]=te:te<2048?(ee[le++]=192|te>>>6,ee[le++]=128|te&63):te<65536?(ee[le++]=224|te>>>12,ee[le++]=128|te>>>6&63,ee[le++]=128|te&63):(ee[le++]=240|te>>>18,ee[le++]=128|te>>>12&63,ee[le++]=128|te>>>6&63,ee[le++]=128|te&63);return ee};const buf2binstring=(ie,ee)=>{if(ee<65534&&ie.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,ie.length===ee?ie:ie.subarray(0,ee));let te="";for(let se=0;se<ee;se++)te+=String.fromCharCode(ie[se]);return te};var buf2string=(ie,ee)=>{const te=ee||ie.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(ie.subarray(0,ee));let se,ne;const le=new Array(te*2);for(ne=0,se=0;se<te;){let ue=ie[se++];if(ue<128){le[ne++]=ue;continue}let ce=_utf8len[ue];if(ce>4){le[ne++]=65533,se+=ce-1;continue}for(ue&=ce===2?31:ce===3?15:7;ce>1&&se<te;)ue=ue<<6|ie[se++]&63,ce--;if(ce>1){le[ne++]=65533;continue}ue<65536?le[ne++]=ue:(ue-=65536,le[ne++]=55296|ue>>10&1023,le[ne++]=56320|ue&1023)}return buf2binstring(le,ne)},utf8border=(ie,ee)=>{ee=ee||ie.length,ee>ie.length&&(ee=ie.length);let te=ee-1;for(;te>=0&&(ie[te]&192)===128;)te--;return te<0||te===0?ee:te+_utf8len[ie[te]]>ee?te:ee},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(ie){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},ie||{});let ee=this.options;ee.raw&&ee.windowBits>0?ee.windowBits=-ee.windowBits:ee.gzip&&ee.windowBits>0&&ee.windowBits<16&&(ee.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let te=deflate_1$2.deflateInit2(this.strm,ee.level,ee.method,ee.windowBits,ee.memLevel,ee.strategy);if(te!==Z_OK$2)throw new Error(messages[te]);if(ee.header&&deflate_1$2.deflateSetHeader(this.strm,ee.header),ee.dictionary){let se;if(typeof ee.dictionary=="string"?se=strings.string2buf(ee.dictionary):toString$1.call(ee.dictionary)==="[object ArrayBuffer]"?se=new Uint8Array(ee.dictionary):se=ee.dictionary,te=deflate_1$2.deflateSetDictionary(this.strm,se),te!==Z_OK$2)throw new Error(messages[te]);this._dict_set=!0}}Deflate$1.prototype.push=function(ie,ee){const te=this.strm,se=this.options.chunkSize;let ne,le;if(this.ended)return!1;for(ee===~~ee?le=ee:le=ee===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof ie=="string"?te.input=strings.string2buf(ie):toString$1.call(ie)==="[object ArrayBuffer]"?te.input=new Uint8Array(ie):te.input=ie,te.next_in=0,te.avail_in=te.input.length;;){if(te.avail_out===0&&(te.output=new Uint8Array(se),te.next_out=0,te.avail_out=se),(le===Z_SYNC_FLUSH||le===Z_FULL_FLUSH)&&te.avail_out<=6){this.onData(te.output.subarray(0,te.next_out)),te.avail_out=0;continue}if(ne=deflate_1$2.deflate(te,le),ne===Z_STREAM_END$2)return te.next_out>0&&this.onData(te.output.subarray(0,te.next_out)),ne=deflate_1$2.deflateEnd(this.strm),this.onEnd(ne),this.ended=!0,ne===Z_OK$2;if(te.avail_out===0){this.onData(te.output);continue}if(le>0&&te.next_out>0){this.onData(te.output.subarray(0,te.next_out)),te.avail_out=0;continue}if(te.avail_in===0)break}return!0},Deflate$1.prototype.onData=function(ie){this.chunks.push(ie)},Deflate$1.prototype.onEnd=function(ie){ie===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=ie,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function(ee,te){let se,ne,le,ue,ce,he,de,_e,fe,ye,be,Pe,Ne,we,De,$e,Ge,Be,ze,$t,ut,Ti,Hi,bn;const gd=ee.state;se=ee.next_in,Hi=ee.input,ne=se+(ee.avail_in-5),le=ee.next_out,bn=ee.output,ue=le-(te-ee.avail_out),ce=le+(ee.avail_out-257),he=gd.dmax,de=gd.wsize,_e=gd.whave,fe=gd.wnext,ye=gd.window,be=gd.hold,Pe=gd.bits,Ne=gd.lencode,we=gd.distcode,De=(1<<gd.lenbits)-1,$e=(1<<gd.distbits)-1;e:do{Pe<15&&(be+=Hi[se++]<<Pe,Pe+=8,be+=Hi[se++]<<Pe,Pe+=8),Ge=Ne[be&De];t:for(;;){if(Be=Ge>>>24,be>>>=Be,Pe-=Be,Be=Ge>>>16&255,Be===0)bn[le++]=Ge&65535;else if(Be&16){ze=Ge&65535,Be&=15,Be&&(Pe<Be&&(be+=Hi[se++]<<Pe,Pe+=8),ze+=be&(1<<Be)-1,be>>>=Be,Pe-=Be),Pe<15&&(be+=Hi[se++]<<Pe,Pe+=8,be+=Hi[se++]<<Pe,Pe+=8),Ge=we[be&$e];s:for(;;){if(Be=Ge>>>24,be>>>=Be,Pe-=Be,Be=Ge>>>16&255,Be&16){if($t=Ge&65535,Be&=15,Pe<Be&&(be+=Hi[se++]<<Pe,Pe+=8,Pe<Be&&(be+=Hi[se++]<<Pe,Pe+=8)),$t+=be&(1<<Be)-1,$t>he){ee.msg="invalid distance too far back",gd.mode=BAD$1;break e}if(be>>>=Be,Pe-=Be,Be=le-ue,$t>Be){if(Be=$t-Be,Be>_e&&gd.sane){ee.msg="invalid distance too far back",gd.mode=BAD$1;break e}if(ut=0,Ti=ye,fe===0){if(ut+=de-Be,Be<ze){ze-=Be;do bn[le++]=ye[ut++];while(--Be);ut=le-$t,Ti=bn}}else if(fe<Be){if(ut+=de+fe-Be,Be-=fe,Be<ze){ze-=Be;do bn[le++]=ye[ut++];while(--Be);if(ut=0,fe<ze){Be=fe,ze-=Be;do bn[le++]=ye[ut++];while(--Be);ut=le-$t,Ti=bn}}}else if(ut+=fe-Be,Be<ze){ze-=Be;do bn[le++]=ye[ut++];while(--Be);ut=le-$t,Ti=bn}for(;ze>2;)bn[le++]=Ti[ut++],bn[le++]=Ti[ut++],bn[le++]=Ti[ut++],ze-=3;ze&&(bn[le++]=Ti[ut++],ze>1&&(bn[le++]=Ti[ut++]))}else{ut=le-$t;do bn[le++]=bn[ut++],bn[le++]=bn[ut++],bn[le++]=bn[ut++],ze-=3;while(ze>2);ze&&(bn[le++]=bn[ut++],ze>1&&(bn[le++]=bn[ut++]))}}else if(Be&64){ee.msg="invalid distance code",gd.mode=BAD$1;break e}else{Ge=we[(Ge&65535)+(be&(1<<Be)-1)];continue s}break}}else if(Be&64)if(Be&32){gd.mode=TYPE$1;break e}else{ee.msg="invalid literal/length code",gd.mode=BAD$1;break e}else{Ge=Ne[(Ge&65535)+(be&(1<<Be)-1)];continue t}break}}while(se<ne&&le<ce);ze=Pe>>3,se-=ze,Pe-=ze<<3,be&=(1<<Pe)-1,ee.next_in=se,ee.next_out=le,ee.avail_in=se<ne?5+(ne-se):5-(se-ne),ee.avail_out=le<ce?257+(ce-le):257-(le-ce),gd.hold=be,gd.bits=Pe};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(ie,ee,te,se,ne,le,ue,ce)=>{const he=ce.bits;let de=0,_e=0,fe=0,ye=0,be=0,Pe=0,Ne=0,we=0,De=0,$e=0,Ge,Be,ze,$t,ut,Ti=null,Hi;const bn=new Uint16Array(MAXBITS+1),gd=new Uint16Array(MAXBITS+1);let Pm=null,oE,aE,nE;for(de=0;de<=MAXBITS;de++)bn[de]=0;for(_e=0;_e<se;_e++)bn[ee[te+_e]]++;for(be=he,ye=MAXBITS;ye>=1&&bn[ye]===0;ye--);if(be>ye&&(be=ye),ye===0)return ne[le++]=1<<24|64<<16|0,ne[le++]=1<<24|64<<16|0,ce.bits=1,0;for(fe=1;fe<ye&&bn[fe]===0;fe++);for(be<fe&&(be=fe),we=1,de=1;de<=MAXBITS;de++)if(we<<=1,we-=bn[de],we<0)return-1;if(we>0&&(ie===CODES$1||ye!==1))return-1;for(gd[1]=0,de=1;de<MAXBITS;de++)gd[de+1]=gd[de]+bn[de];for(_e=0;_e<se;_e++)ee[te+_e]!==0&&(ue[gd[ee[te+_e]]++]=_e);if(ie===CODES$1?(Ti=Pm=ue,Hi=20):ie===LENS$1?(Ti=lbase,Pm=lext,Hi=257):(Ti=dbase,Pm=dext,Hi=0),$e=0,_e=0,de=fe,ut=le,Pe=be,Ne=0,ze=-1,De=1<<be,$t=De-1,ie===LENS$1&&De>ENOUGH_LENS$1||ie===DISTS$1&&De>ENOUGH_DISTS$1)return 1;for(;;){oE=de-Ne,ue[_e]+1<Hi?(aE=0,nE=ue[_e]):ue[_e]>=Hi?(aE=Pm[ue[_e]-Hi],nE=Ti[ue[_e]-Hi]):(aE=96,nE=0),Ge=1<<de-Ne,Be=1<<Pe,fe=Be;do Be-=Ge,ne[ut+($e>>Ne)+Be]=oE<<24|aE<<16|nE|0;while(Be!==0);for(Ge=1<<de-1;$e&Ge;)Ge>>=1;if(Ge!==0?($e&=Ge-1,$e+=Ge):$e=0,_e++,--bn[de]===0){if(de===ye)break;de=ee[te+ue[_e]]}if(de>be&&($e&$t)!==ze){for(Ne===0&&(Ne=be),ut+=fe,Pe=de-Ne,we=1<<Pe;Pe+Ne<ye&&(we-=bn[Pe+Ne],!(we<=0));)Pe++,we<<=1;if(De+=1<<Pe,ie===LENS$1&&De>ENOUGH_LENS$1||ie===DISTS$1&&De>ENOUGH_DISTS$1)return 1;ze=$e&$t,ne[ze]=be<<24|Pe<<16|ut-le|0}}return $e!==0&&(ne[ut+$e]=de-Ne<<24|64<<16|0),ce.bits=be,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=ie=>(ie>>>24&255)+(ie>>>8&65280)+((ie&65280)<<8)+((ie&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=ie=>{if(!ie)return 1;const ee=ie.state;return!ee||ee.strm!==ie||ee.mode<HEAD||ee.mode>SYNC?1:0},inflateResetKeep=ie=>{if(inflateStateCheck(ie))return Z_STREAM_ERROR$1;const ee=ie.state;return ie.total_in=ie.total_out=ee.total=0,ie.msg="",ee.wrap&&(ie.adler=ee.wrap&1),ee.mode=HEAD,ee.last=0,ee.havedict=0,ee.flags=-1,ee.dmax=32768,ee.head=null,ee.hold=0,ee.bits=0,ee.lencode=ee.lendyn=new Int32Array(ENOUGH_LENS),ee.distcode=ee.distdyn=new Int32Array(ENOUGH_DISTS),ee.sane=1,ee.back=-1,Z_OK$1},inflateReset=ie=>{if(inflateStateCheck(ie))return Z_STREAM_ERROR$1;const ee=ie.state;return ee.wsize=0,ee.whave=0,ee.wnext=0,inflateResetKeep(ie)},inflateReset2=(ie,ee)=>{let te;if(inflateStateCheck(ie))return Z_STREAM_ERROR$1;const se=ie.state;return ee<0?(te=0,ee=-ee):(te=(ee>>4)+5,ee<48&&(ee&=15)),ee&&(ee<8||ee>15)?Z_STREAM_ERROR$1:(se.window!==null&&se.wbits!==ee&&(se.window=null),se.wrap=te,se.wbits=ee,inflateReset(ie))},inflateInit2=(ie,ee)=>{if(!ie)return Z_STREAM_ERROR$1;const te=new InflateState;ie.state=te,te.strm=ie,te.window=null,te.mode=HEAD;const se=inflateReset2(ie,ee);return se!==Z_OK$1&&(ie.state=null),se},inflateInit=ie=>inflateInit2(ie,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=ie=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let ee=0;for(;ee<144;)ie.lens[ee++]=8;for(;ee<256;)ie.lens[ee++]=9;for(;ee<280;)ie.lens[ee++]=7;for(;ee<288;)ie.lens[ee++]=8;for(inftrees(LENS,ie.lens,0,288,lenfix,0,ie.work,{bits:9}),ee=0;ee<32;)ie.lens[ee++]=5;inftrees(DISTS,ie.lens,0,32,distfix,0,ie.work,{bits:5}),virgin=!1}ie.lencode=lenfix,ie.lenbits=9,ie.distcode=distfix,ie.distbits=5},updatewindow=(ie,ee,te,se)=>{let ne;const le=ie.state;return le.window===null&&(le.wsize=1<<le.wbits,le.wnext=0,le.whave=0,le.window=new Uint8Array(le.wsize)),se>=le.wsize?(le.window.set(ee.subarray(te-le.wsize,te),0),le.wnext=0,le.whave=le.wsize):(ne=le.wsize-le.wnext,ne>se&&(ne=se),le.window.set(ee.subarray(te-se,te-se+ne),le.wnext),se-=ne,se?(le.window.set(ee.subarray(te-se,te),0),le.wnext=se,le.whave=le.wsize):(le.wnext+=ne,le.wnext===le.wsize&&(le.wnext=0),le.whave<le.wsize&&(le.whave+=ne))),0},inflate$2=(ie,ee)=>{let te,se,ne,le,ue,ce,he,de,_e,fe,ye,be,Pe,Ne,we=0,De,$e,Ge,Be,ze,$t,ut,Ti;const Hi=new Uint8Array(4);let bn,gd;const Pm=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(ie)||!ie.output||!ie.input&&ie.avail_in!==0)return Z_STREAM_ERROR$1;te=ie.state,te.mode===TYPE&&(te.mode=TYPEDO),ue=ie.next_out,ne=ie.output,he=ie.avail_out,le=ie.next_in,se=ie.input,ce=ie.avail_in,de=te.hold,_e=te.bits,fe=ce,ye=he,Ti=Z_OK$1;e:for(;;)switch(te.mode){case HEAD:if(te.wrap===0){te.mode=TYPEDO;break}for(;_e<16;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}if(te.wrap&2&&de===35615){te.wbits===0&&(te.wbits=15),te.check=0,Hi[0]=de&255,Hi[1]=de>>>8&255,te.check=crc32_1(te.check,Hi,2,0),de=0,_e=0,te.mode=FLAGS;break}if(te.head&&(te.head.done=!1),!(te.wrap&1)||(((de&255)<<8)+(de>>8))%31){ie.msg="incorrect header check",te.mode=BAD;break}if((de&15)!==Z_DEFLATED){ie.msg="unknown compression method",te.mode=BAD;break}if(de>>>=4,_e-=4,ut=(de&15)+8,te.wbits===0&&(te.wbits=ut),ut>15||ut>te.wbits){ie.msg="invalid window size",te.mode=BAD;break}te.dmax=1<<te.wbits,te.flags=0,ie.adler=te.check=1,te.mode=de&512?DICTID:TYPE,de=0,_e=0;break;case FLAGS:for(;_e<16;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}if(te.flags=de,(te.flags&255)!==Z_DEFLATED){ie.msg="unknown compression method",te.mode=BAD;break}if(te.flags&57344){ie.msg="unknown header flags set",te.mode=BAD;break}te.head&&(te.head.text=de>>8&1),te.flags&512&&te.wrap&4&&(Hi[0]=de&255,Hi[1]=de>>>8&255,te.check=crc32_1(te.check,Hi,2,0)),de=0,_e=0,te.mode=TIME;case TIME:for(;_e<32;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}te.head&&(te.head.time=de),te.flags&512&&te.wrap&4&&(Hi[0]=de&255,Hi[1]=de>>>8&255,Hi[2]=de>>>16&255,Hi[3]=de>>>24&255,te.check=crc32_1(te.check,Hi,4,0)),de=0,_e=0,te.mode=OS;case OS:for(;_e<16;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}te.head&&(te.head.xflags=de&255,te.head.os=de>>8),te.flags&512&&te.wrap&4&&(Hi[0]=de&255,Hi[1]=de>>>8&255,te.check=crc32_1(te.check,Hi,2,0)),de=0,_e=0,te.mode=EXLEN;case EXLEN:if(te.flags&1024){for(;_e<16;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}te.length=de,te.head&&(te.head.extra_len=de),te.flags&512&&te.wrap&4&&(Hi[0]=de&255,Hi[1]=de>>>8&255,te.check=crc32_1(te.check,Hi,2,0)),de=0,_e=0}else te.head&&(te.head.extra=null);te.mode=EXTRA;case EXTRA:if(te.flags&1024&&(be=te.length,be>ce&&(be=ce),be&&(te.head&&(ut=te.head.extra_len-te.length,te.head.extra||(te.head.extra=new Uint8Array(te.head.extra_len)),te.head.extra.set(se.subarray(le,le+be),ut)),te.flags&512&&te.wrap&4&&(te.check=crc32_1(te.check,se,be,le)),ce-=be,le+=be,te.length-=be),te.length))break e;te.length=0,te.mode=NAME;case NAME:if(te.flags&2048){if(ce===0)break e;be=0;do ut=se[le+be++],te.head&&ut&&te.length<65536&&(te.head.name+=String.fromCharCode(ut));while(ut&&be<ce);if(te.flags&512&&te.wrap&4&&(te.check=crc32_1(te.check,se,be,le)),ce-=be,le+=be,ut)break e}else te.head&&(te.head.name=null);te.length=0,te.mode=COMMENT;case COMMENT:if(te.flags&4096){if(ce===0)break e;be=0;do ut=se[le+be++],te.head&&ut&&te.length<65536&&(te.head.comment+=String.fromCharCode(ut));while(ut&&be<ce);if(te.flags&512&&te.wrap&4&&(te.check=crc32_1(te.check,se,be,le)),ce-=be,le+=be,ut)break e}else te.head&&(te.head.comment=null);te.mode=HCRC;case HCRC:if(te.flags&512){for(;_e<16;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}if(te.wrap&4&&de!==(te.check&65535)){ie.msg="header crc mismatch",te.mode=BAD;break}de=0,_e=0}te.head&&(te.head.hcrc=te.flags>>9&1,te.head.done=!0),ie.adler=te.check=0,te.mode=TYPE;break;case DICTID:for(;_e<32;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}ie.adler=te.check=zswap32(de),de=0,_e=0,te.mode=DICT;case DICT:if(te.havedict===0)return ie.next_out=ue,ie.avail_out=he,ie.next_in=le,ie.avail_in=ce,te.hold=de,te.bits=_e,Z_NEED_DICT$1;ie.adler=te.check=1,te.mode=TYPE;case TYPE:if(ee===Z_BLOCK||ee===Z_TREES)break e;case TYPEDO:if(te.last){de>>>=_e&7,_e-=_e&7,te.mode=CHECK;break}for(;_e<3;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}switch(te.last=de&1,de>>>=1,_e-=1,de&3){case 0:te.mode=STORED;break;case 1:if(fixedtables(te),te.mode=LEN_,ee===Z_TREES){de>>>=2,_e-=2;break e}break;case 2:te.mode=TABLE;break;case 3:ie.msg="invalid block type",te.mode=BAD}de>>>=2,_e-=2;break;case STORED:for(de>>>=_e&7,_e-=_e&7;_e<32;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}if((de&65535)!==(de>>>16^65535)){ie.msg="invalid stored block lengths",te.mode=BAD;break}if(te.length=de&65535,de=0,_e=0,te.mode=COPY_,ee===Z_TREES)break e;case COPY_:te.mode=COPY;case COPY:if(be=te.length,be){if(be>ce&&(be=ce),be>he&&(be=he),be===0)break e;ne.set(se.subarray(le,le+be),ue),ce-=be,le+=be,he-=be,ue+=be,te.length-=be;break}te.mode=TYPE;break;case TABLE:for(;_e<14;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}if(te.nlen=(de&31)+257,de>>>=5,_e-=5,te.ndist=(de&31)+1,de>>>=5,_e-=5,te.ncode=(de&15)+4,de>>>=4,_e-=4,te.nlen>286||te.ndist>30){ie.msg="too many length or distance symbols",te.mode=BAD;break}te.have=0,te.mode=LENLENS;case LENLENS:for(;te.have<te.ncode;){for(;_e<3;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}te.lens[Pm[te.have++]]=de&7,de>>>=3,_e-=3}for(;te.have<19;)te.lens[Pm[te.have++]]=0;if(te.lencode=te.lendyn,te.lenbits=7,bn={bits:te.lenbits},Ti=inftrees(CODES,te.lens,0,19,te.lencode,0,te.work,bn),te.lenbits=bn.bits,Ti){ie.msg="invalid code lengths set",te.mode=BAD;break}te.have=0,te.mode=CODELENS;case CODELENS:for(;te.have<te.nlen+te.ndist;){for(;we=te.lencode[de&(1<<te.lenbits)-1],De=we>>>24,$e=we>>>16&255,Ge=we&65535,!(De<=_e);){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}if(Ge<16)de>>>=De,_e-=De,te.lens[te.have++]=Ge;else{if(Ge===16){for(gd=De+2;_e<gd;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}if(de>>>=De,_e-=De,te.have===0){ie.msg="invalid bit length repeat",te.mode=BAD;break}ut=te.lens[te.have-1],be=3+(de&3),de>>>=2,_e-=2}else if(Ge===17){for(gd=De+3;_e<gd;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}de>>>=De,_e-=De,ut=0,be=3+(de&7),de>>>=3,_e-=3}else{for(gd=De+7;_e<gd;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}de>>>=De,_e-=De,ut=0,be=11+(de&127),de>>>=7,_e-=7}if(te.have+be>te.nlen+te.ndist){ie.msg="invalid bit length repeat",te.mode=BAD;break}for(;be--;)te.lens[te.have++]=ut}}if(te.mode===BAD)break;if(te.lens[256]===0){ie.msg="invalid code -- missing end-of-block",te.mode=BAD;break}if(te.lenbits=9,bn={bits:te.lenbits},Ti=inftrees(LENS,te.lens,0,te.nlen,te.lencode,0,te.work,bn),te.lenbits=bn.bits,Ti){ie.msg="invalid literal/lengths set",te.mode=BAD;break}if(te.distbits=6,te.distcode=te.distdyn,bn={bits:te.distbits},Ti=inftrees(DISTS,te.lens,te.nlen,te.ndist,te.distcode,0,te.work,bn),te.distbits=bn.bits,Ti){ie.msg="invalid distances set",te.mode=BAD;break}if(te.mode=LEN_,ee===Z_TREES)break e;case LEN_:te.mode=LEN;case LEN:if(ce>=6&&he>=258){ie.next_out=ue,ie.avail_out=he,ie.next_in=le,ie.avail_in=ce,te.hold=de,te.bits=_e,inffast(ie,ye),ue=ie.next_out,ne=ie.output,he=ie.avail_out,le=ie.next_in,se=ie.input,ce=ie.avail_in,de=te.hold,_e=te.bits,te.mode===TYPE&&(te.back=-1);break}for(te.back=0;we=te.lencode[de&(1<<te.lenbits)-1],De=we>>>24,$e=we>>>16&255,Ge=we&65535,!(De<=_e);){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}if($e&&!($e&240)){for(Be=De,ze=$e,$t=Ge;we=te.lencode[$t+((de&(1<<Be+ze)-1)>>Be)],De=we>>>24,$e=we>>>16&255,Ge=we&65535,!(Be+De<=_e);){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}de>>>=Be,_e-=Be,te.back+=Be}if(de>>>=De,_e-=De,te.back+=De,te.length=Ge,$e===0){te.mode=LIT;break}if($e&32){te.back=-1,te.mode=TYPE;break}if($e&64){ie.msg="invalid literal/length code",te.mode=BAD;break}te.extra=$e&15,te.mode=LENEXT;case LENEXT:if(te.extra){for(gd=te.extra;_e<gd;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}te.length+=de&(1<<te.extra)-1,de>>>=te.extra,_e-=te.extra,te.back+=te.extra}te.was=te.length,te.mode=DIST;case DIST:for(;we=te.distcode[de&(1<<te.distbits)-1],De=we>>>24,$e=we>>>16&255,Ge=we&65535,!(De<=_e);){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}if(!($e&240)){for(Be=De,ze=$e,$t=Ge;we=te.distcode[$t+((de&(1<<Be+ze)-1)>>Be)],De=we>>>24,$e=we>>>16&255,Ge=we&65535,!(Be+De<=_e);){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}de>>>=Be,_e-=Be,te.back+=Be}if(de>>>=De,_e-=De,te.back+=De,$e&64){ie.msg="invalid distance code",te.mode=BAD;break}te.offset=Ge,te.extra=$e&15,te.mode=DISTEXT;case DISTEXT:if(te.extra){for(gd=te.extra;_e<gd;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}te.offset+=de&(1<<te.extra)-1,de>>>=te.extra,_e-=te.extra,te.back+=te.extra}if(te.offset>te.dmax){ie.msg="invalid distance too far back",te.mode=BAD;break}te.mode=MATCH;case MATCH:if(he===0)break e;if(be=ye-he,te.offset>be){if(be=te.offset-be,be>te.whave&&te.sane){ie.msg="invalid distance too far back",te.mode=BAD;break}be>te.wnext?(be-=te.wnext,Pe=te.wsize-be):Pe=te.wnext-be,be>te.length&&(be=te.length),Ne=te.window}else Ne=ne,Pe=ue-te.offset,be=te.length;be>he&&(be=he),he-=be,te.length-=be;do ne[ue++]=Ne[Pe++];while(--be);te.length===0&&(te.mode=LEN);break;case LIT:if(he===0)break e;ne[ue++]=te.length,he--,te.mode=LEN;break;case CHECK:if(te.wrap){for(;_e<32;){if(ce===0)break e;ce--,de|=se[le++]<<_e,_e+=8}if(ye-=he,ie.total_out+=ye,te.total+=ye,te.wrap&4&&ye&&(ie.adler=te.check=te.flags?crc32_1(te.check,ne,ye,ue-ye):adler32_1(te.check,ne,ye,ue-ye)),ye=he,te.wrap&4&&(te.flags?de:zswap32(de))!==te.check){ie.msg="incorrect data check",te.mode=BAD;break}de=0,_e=0}te.mode=LENGTH;case LENGTH:if(te.wrap&&te.flags){for(;_e<32;){if(ce===0)break e;ce--,de+=se[le++]<<_e,_e+=8}if(te.wrap&4&&de!==(te.total&4294967295)){ie.msg="incorrect length check",te.mode=BAD;break}de=0,_e=0}te.mode=DONE;case DONE:Ti=Z_STREAM_END$1;break e;case BAD:Ti=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return ie.next_out=ue,ie.avail_out=he,ie.next_in=le,ie.avail_in=ce,te.hold=de,te.bits=_e,(te.wsize||ye!==ie.avail_out&&te.mode<BAD&&(te.mode<CHECK||ee!==Z_FINISH$1))&&updatewindow(ie,ie.output,ie.next_out,ye-ie.avail_out),fe-=ie.avail_in,ye-=ie.avail_out,ie.total_in+=fe,ie.total_out+=ye,te.total+=ye,te.wrap&4&&ye&&(ie.adler=te.check=te.flags?crc32_1(te.check,ne,ye,ie.next_out-ye):adler32_1(te.check,ne,ye,ie.next_out-ye)),ie.data_type=te.bits+(te.last?64:0)+(te.mode===TYPE?128:0)+(te.mode===LEN_||te.mode===COPY_?256:0),(fe===0&&ye===0||ee===Z_FINISH$1)&&Ti===Z_OK$1&&(Ti=Z_BUF_ERROR),Ti},inflateEnd=ie=>{if(inflateStateCheck(ie))return Z_STREAM_ERROR$1;let ee=ie.state;return ee.window&&(ee.window=null),ie.state=null,Z_OK$1},inflateGetHeader=(ie,ee)=>{if(inflateStateCheck(ie))return Z_STREAM_ERROR$1;const te=ie.state;return te.wrap&2?(te.head=ee,ee.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(ie,ee)=>{const te=ee.length;let se,ne,le;return inflateStateCheck(ie)||(se=ie.state,se.wrap!==0&&se.mode!==DICT)?Z_STREAM_ERROR$1:se.mode===DICT&&(ne=1,ne=adler32_1(ne,ee,te,0),ne!==se.check)?Z_DATA_ERROR$1:(le=updatewindow(ie,ee,te,te),le?(se.mode=MEM,Z_MEM_ERROR$1):(se.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(ie){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},ie||{});const ee=this.options;ee.raw&&ee.windowBits>=0&&ee.windowBits<16&&(ee.windowBits=-ee.windowBits,ee.windowBits===0&&(ee.windowBits=-15)),ee.windowBits>=0&&ee.windowBits<16&&!(ie&&ie.windowBits)&&(ee.windowBits+=32),ee.windowBits>15&&ee.windowBits<48&&(ee.windowBits&15||(ee.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let te=inflate_1$2.inflateInit2(this.strm,ee.windowBits);if(te!==Z_OK)throw new Error(messages[te]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),ee.dictionary&&(typeof ee.dictionary=="string"?ee.dictionary=strings.string2buf(ee.dictionary):toString.call(ee.dictionary)==="[object ArrayBuffer]"&&(ee.dictionary=new Uint8Array(ee.dictionary)),ee.raw&&(te=inflate_1$2.inflateSetDictionary(this.strm,ee.dictionary),te!==Z_OK)))throw new Error(messages[te])}Inflate$1.prototype.push=function(ie,ee){const te=this.strm,se=this.options.chunkSize,ne=this.options.dictionary;let le,ue,ce;if(this.ended)return!1;for(ee===~~ee?ue=ee:ue=ee===!0?Z_FINISH:Z_NO_FLUSH,toString.call(ie)==="[object ArrayBuffer]"?te.input=new Uint8Array(ie):te.input=ie,te.next_in=0,te.avail_in=te.input.length;;){for(te.avail_out===0&&(te.output=new Uint8Array(se),te.next_out=0,te.avail_out=se),le=inflate_1$2.inflate(te,ue),le===Z_NEED_DICT&&ne&&(le=inflate_1$2.inflateSetDictionary(te,ne),le===Z_OK?le=inflate_1$2.inflate(te,ue):le===Z_DATA_ERROR&&(le=Z_NEED_DICT));te.avail_in>0&&le===Z_STREAM_END&&te.state.wrap>0&&ie[te.next_in]!==0;)inflate_1$2.inflateReset(te),le=inflate_1$2.inflate(te,ue);switch(le){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(le),this.ended=!0,!1}if(ce=te.avail_out,te.next_out&&(te.avail_out===0||le===Z_STREAM_END))if(this.options.to==="string"){let he=strings.utf8border(te.output,te.next_out),de=te.next_out-he,_e=strings.buf2string(te.output,he);te.next_out=de,te.avail_out=se-de,de&&te.output.set(te.output.subarray(he,he+de),0),this.onData(_e)}else this.onData(te.output.length===te.next_out?te.output:te.output.subarray(0,te.next_out));if(!(le===Z_OK&&ce===0)){if(le===Z_STREAM_END)return le=inflate_1$2.inflateEnd(this.strm),this.onEnd(le),this.ended=!0,!0;if(te.avail_in===0)break}}return!0},Inflate$1.prototype.onData=function(ie){this.chunks.push(ie)},Inflate$1.prototype.onEnd=function(ie){ie===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=ie,this.msg=this.strm.msg};function inflate$1(ie,ee){const te=new Inflate$1(ee);if(te.push(ie),te.err)throw te.msg||messages[te.err];return te.result}function inflateRaw$1(ie,ee){return ee=ee||{},ee.raw=!0,inflate$1(ie,ee)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate;const QI=class QI{constructor(ee){this._jsonFile=null,this._image=null,this._imageData=null,this._baseTexture=null,this.parse(ee)}parse(ee){const te=new BinaryReader$1(ee);let se=te.readShort();for(;se>0;){const ne=te.readShort(),le=te.readBytes(ne).toString(),ue=te.readInt(),ce=te.readBytes(ue);if(le.endsWith(".json")){const he=inflate_1(ce.toArrayBuffer());this._jsonFile=JSON.parse(QI.TEXT_DECODER.decode(he))}else{const he=inflate_1(ce.toArrayBuffer()),de=ArrayBufferToBase64(he);this._baseTexture=new BaseTexture("data:image/png;base64,"+de)}se--}}get jsonFile(){return this._jsonFile}get baseTexture(){return this._baseTexture}};QI.TEXT_DECODER=new TextDecoder("utf-8");let NitroBundle=QI;/*!
 * @pixi/display - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.SORTABLE_CHILDREN=!1;var Bounds$1=function(){function ie(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return ie.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},ie.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},ie.prototype.getRectangle=function(ee){return this.minX>this.maxX||this.minY>this.maxY?Rectangle$1.EMPTY:(ee=ee||new Rectangle$1(0,0,1,1),ee.x=this.minX,ee.y=this.minY,ee.width=this.maxX-this.minX,ee.height=this.maxY-this.minY,ee)},ie.prototype.addPoint=function(ee){this.minX=Math.min(this.minX,ee.x),this.maxX=Math.max(this.maxX,ee.x),this.minY=Math.min(this.minY,ee.y),this.maxY=Math.max(this.maxY,ee.y)},ie.prototype.addPointMatrix=function(ee,te){var se=ee.a,ne=ee.b,le=ee.c,ue=ee.d,ce=ee.tx,he=ee.ty,de=se*te.x+le*te.y+ce,_e=ne*te.x+ue*te.y+he;this.minX=Math.min(this.minX,de),this.maxX=Math.max(this.maxX,de),this.minY=Math.min(this.minY,_e),this.maxY=Math.max(this.maxY,_e)},ie.prototype.addQuad=function(ee){var te=this.minX,se=this.minY,ne=this.maxX,le=this.maxY,ue=ee[0],ce=ee[1];te=ue<te?ue:te,se=ce<se?ce:se,ne=ue>ne?ue:ne,le=ce>le?ce:le,ue=ee[2],ce=ee[3],te=ue<te?ue:te,se=ce<se?ce:se,ne=ue>ne?ue:ne,le=ce>le?ce:le,ue=ee[4],ce=ee[5],te=ue<te?ue:te,se=ce<se?ce:se,ne=ue>ne?ue:ne,le=ce>le?ce:le,ue=ee[6],ce=ee[7],te=ue<te?ue:te,se=ce<se?ce:se,ne=ue>ne?ue:ne,le=ce>le?ce:le,this.minX=te,this.minY=se,this.maxX=ne,this.maxY=le},ie.prototype.addFrame=function(ee,te,se,ne,le){this.addFrameMatrix(ee.worldTransform,te,se,ne,le)},ie.prototype.addFrameMatrix=function(ee,te,se,ne,le){var ue=ee.a,ce=ee.b,he=ee.c,de=ee.d,_e=ee.tx,fe=ee.ty,ye=this.minX,be=this.minY,Pe=this.maxX,Ne=this.maxY,we=ue*te+he*se+_e,De=ce*te+de*se+fe;ye=we<ye?we:ye,be=De<be?De:be,Pe=we>Pe?we:Pe,Ne=De>Ne?De:Ne,we=ue*ne+he*se+_e,De=ce*ne+de*se+fe,ye=we<ye?we:ye,be=De<be?De:be,Pe=we>Pe?we:Pe,Ne=De>Ne?De:Ne,we=ue*te+he*le+_e,De=ce*te+de*le+fe,ye=we<ye?we:ye,be=De<be?De:be,Pe=we>Pe?we:Pe,Ne=De>Ne?De:Ne,we=ue*ne+he*le+_e,De=ce*ne+de*le+fe,ye=we<ye?we:ye,be=De<be?De:be,Pe=we>Pe?we:Pe,Ne=De>Ne?De:Ne,this.minX=ye,this.minY=be,this.maxX=Pe,this.maxY=Ne},ie.prototype.addVertexData=function(ee,te,se){for(var ne=this.minX,le=this.minY,ue=this.maxX,ce=this.maxY,he=te;he<se;he+=2){var de=ee[he],_e=ee[he+1];ne=de<ne?de:ne,le=_e<le?_e:le,ue=de>ue?de:ue,ce=_e>ce?_e:ce}this.minX=ne,this.minY=le,this.maxX=ue,this.maxY=ce},ie.prototype.addVertices=function(ee,te,se,ne){this.addVerticesMatrix(ee.worldTransform,te,se,ne)},ie.prototype.addVerticesMatrix=function(ee,te,se,ne,le,ue){le===void 0&&(le=0),ue===void 0&&(ue=le);for(var ce=ee.a,he=ee.b,de=ee.c,_e=ee.d,fe=ee.tx,ye=ee.ty,be=this.minX,Pe=this.minY,Ne=this.maxX,we=this.maxY,De=se;De<ne;De+=2){var $e=te[De],Ge=te[De+1],Be=ce*$e+de*Ge+fe,ze=_e*Ge+he*$e+ye;be=Math.min(be,Be-le),Ne=Math.max(Ne,Be+le),Pe=Math.min(Pe,ze-ue),we=Math.max(we,ze+ue)}this.minX=be,this.minY=Pe,this.maxX=Ne,this.maxY=we},ie.prototype.addBounds=function(ee){var te=this.minX,se=this.minY,ne=this.maxX,le=this.maxY;this.minX=ee.minX<te?ee.minX:te,this.minY=ee.minY<se?ee.minY:se,this.maxX=ee.maxX>ne?ee.maxX:ne,this.maxY=ee.maxY>le?ee.maxY:le},ie.prototype.addBoundsMask=function(ee,te){var se=ee.minX>te.minX?ee.minX:te.minX,ne=ee.minY>te.minY?ee.minY:te.minY,le=ee.maxX<te.maxX?ee.maxX:te.maxX,ue=ee.maxY<te.maxY?ee.maxY:te.maxY;if(se<=le&&ne<=ue){var ce=this.minX,he=this.minY,de=this.maxX,_e=this.maxY;this.minX=se<ce?se:ce,this.minY=ne<he?ne:he,this.maxX=le>de?le:de,this.maxY=ue>_e?ue:_e}},ie.prototype.addBoundsMatrix=function(ee,te){this.addFrameMatrix(te,ee.minX,ee.minY,ee.maxX,ee.maxY)},ie.prototype.addBoundsArea=function(ee,te){var se=ee.minX>te.x?ee.minX:te.x,ne=ee.minY>te.y?ee.minY:te.y,le=ee.maxX<te.x+te.width?ee.maxX:te.x+te.width,ue=ee.maxY<te.y+te.height?ee.maxY:te.y+te.height;if(se<=le&&ne<=ue){var ce=this.minX,he=this.minY,de=this.maxX,_e=this.maxY;this.minX=se<ce?se:ce,this.minY=ne<he?ne:he,this.maxX=le>de?le:de,this.maxY=ue>_e?ue:_e}},ie.prototype.pad=function(ee,te){ee===void 0&&(ee=0),te===void 0&&(te=ee),this.isEmpty()||(this.minX-=ee,this.maxX+=ee,this.minY-=te,this.maxY+=te)},ie.prototype.addFramePad=function(ee,te,se,ne,le,ue){ee-=le,te-=ue,se+=le,ne+=ue,this.minX=this.minX<ee?this.minX:ee,this.maxX=this.maxX>se?this.maxX:se,this.minY=this.minY<te?this.minY:te,this.maxY=this.maxY>ne?this.maxY:ne},ie}();/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics$8=function(ie,ee){return extendStatics$8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,se){te.__proto__=se}||function(te,se){for(var ne in se)se.hasOwnProperty(ne)&&(te[ne]=se[ne])},extendStatics$8(ie,ee)};function __extends$8(ie,ee){extendStatics$8(ie,ee);function te(){this.constructor=ie}ie.prototype=ee===null?Object.create(ee):(te.prototype=ee.prototype,new te)}var DisplayObject=function(ie){__extends$8(ee,ie);function ee(){var te=ie.call(this)||this;return te.tempDisplayObjectParent=null,te.transform=new Transform,te.alpha=1,te.visible=!0,te.renderable=!0,te.cullable=!1,te.cullArea=null,te.parent=null,te.worldAlpha=1,te._lastSortedIndex=0,te._zIndex=0,te.filterArea=null,te.filters=null,te._enabledFilters=null,te._bounds=new Bounds$1,te._localBounds=null,te._boundsID=0,te._boundsRect=null,te._localBoundsRect=null,te._mask=null,te._maskRefCount=0,te._destroyed=!1,te.isSprite=!1,te.isMask=!1,te}return ee.mixin=function(te){for(var se=Object.keys(te),ne=0;ne<se.length;++ne){var le=se[ne];Object.defineProperty(ee.prototype,le,Object.getOwnPropertyDescriptor(te,le))}},Object.defineProperty(ee.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),ee.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},ee.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},ee.prototype.getBounds=function(te,se){return te||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),se||(this._boundsRect||(this._boundsRect=new Rectangle$1),se=this._boundsRect),this._bounds.getRectangle(se)},ee.prototype.getLocalBounds=function(te){te||(this._localBoundsRect||(this._localBoundsRect=new Rectangle$1),te=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds$1);var se=this.transform,ne=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var le=this._bounds,ue=this._boundsID;this._bounds=this._localBounds;var ce=this.getBounds(!1,te);return this.parent=ne,this.transform=se,this._bounds=le,this._bounds.updateID+=this._boundsID-ue,ce},ee.prototype.toGlobal=function(te,se,ne){return ne===void 0&&(ne=!1),ne||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(te,se)},ee.prototype.toLocal=function(te,se,ne,le){return se&&(te=se.toGlobal(te,ne,le)),le||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(te,ne)},ee.prototype.setParent=function(te){if(!te||!te.addChild)throw new Error("setParent: Argument must be a Container");return te.addChild(this),te},ee.prototype.setTransform=function(te,se,ne,le,ue,ce,he,de,_e){return te===void 0&&(te=0),se===void 0&&(se=0),ne===void 0&&(ne=1),le===void 0&&(le=1),ue===void 0&&(ue=0),ce===void 0&&(ce=0),he===void 0&&(he=0),de===void 0&&(de=0),_e===void 0&&(_e=0),this.position.x=te,this.position.y=se,this.scale.x=ne||1,this.scale.y=le||1,this.rotation=ue,this.skew.x=ce,this.skew.y=he,this.pivot.x=de,this.pivot.y=_e,this},ee.prototype.destroy=function(te){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(ee.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),ee.prototype.enableTempParent=function(){var te=this.parent;return this.parent=this._tempDisplayObjectParent,te},ee.prototype.disableTempParent=function(te){this.parent=te},Object.defineProperty(ee.prototype,"x",{get:function(){return this.position.x},set:function(te){this.transform.position.x=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"y",{get:function(){return this.position.y},set:function(te){this.transform.position.y=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"position",{get:function(){return this.transform.position},set:function(te){this.transform.position.copyFrom(te)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"scale",{get:function(){return this.transform.scale},set:function(te){this.transform.scale.copyFrom(te)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(te){this.transform.pivot.copyFrom(te)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"skew",{get:function(){return this.transform.skew},set:function(te){this.transform.skew.copyFrom(te)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(te){this.transform.rotation=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"angle",{get:function(){return this.transform.rotation*RAD_TO_DEG$1},set:function(te){this.transform.rotation=te*DEG_TO_RAD$1},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"zIndex",{get:function(){return this._zIndex},set:function(te){this._zIndex=te,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"worldVisible",{get:function(){var te=this;do{if(!te.visible)return!1;te=te.parent}while(te);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"mask",{get:function(){return this._mask},set:function(te){if(this._mask!==te){if(this._mask){var se=this._mask.isMaskData?this._mask.maskObject:this._mask;se&&(se._maskRefCount--,se._maskRefCount===0&&(se.renderable=!0,se.isMask=!1))}if(this._mask=te,this._mask){var se=this._mask.isMaskData?this._mask.maskObject:this._mask;se&&(se._maskRefCount===0&&(se.renderable=!1,se.isMask=!0),se._maskRefCount++)}}},enumerable:!1,configurable:!0}),ee}(EventEmitter$1),TemporaryDisplayObject=function(ie){__extends$8(ee,ie);function ee(){var te=ie!==null&&ie.apply(this,arguments)||this;return te.sortDirty=null,te}return ee}(DisplayObject);DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform;function sortChildren$1(ie,ee){return ie.zIndex===ee.zIndex?ie._lastSortedIndex-ee._lastSortedIndex:ie.zIndex-ee.zIndex}var Container$1=function(ie){__extends$8(ee,ie);function ee(){var te=ie.call(this)||this;return te.children=[],te.sortableChildren=settings$1.SORTABLE_CHILDREN,te.sortDirty=!1,te}return ee.prototype.onChildrenChange=function(te){},ee.prototype.addChild=function(){for(var te=arguments,se=[],ne=0;ne<arguments.length;ne++)se[ne]=te[ne];if(se.length>1)for(var le=0;le<se.length;le++)this.addChild(se[le]);else{var ue=se[0];ue.parent&&ue.parent.removeChild(ue),ue.parent=this,this.sortDirty=!0,ue.transform._parentID=-1,this.children.push(ue),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",ue,this,this.children.length-1),ue.emit("added",this)}return se[0]},ee.prototype.addChildAt=function(te,se){if(se<0||se>this.children.length)throw new Error(te+"addChildAt: The index "+se+" supplied is out of bounds "+this.children.length);return te.parent&&te.parent.removeChild(te),te.parent=this,this.sortDirty=!0,te.transform._parentID=-1,this.children.splice(se,0,te),this._boundsID++,this.onChildrenChange(se),te.emit("added",this),this.emit("childAdded",te,this,se),te},ee.prototype.swapChildren=function(te,se){if(te!==se){var ne=this.getChildIndex(te),le=this.getChildIndex(se);this.children[ne]=se,this.children[le]=te,this.onChildrenChange(ne<le?ne:le)}},ee.prototype.getChildIndex=function(te){var se=this.children.indexOf(te);if(se===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return se},ee.prototype.setChildIndex=function(te,se){if(se<0||se>=this.children.length)throw new Error("The index "+se+" supplied is out of bounds "+this.children.length);var ne=this.getChildIndex(te);removeItems$1(this.children,ne,1),this.children.splice(se,0,te),this.onChildrenChange(se)},ee.prototype.getChildAt=function(te){if(te<0||te>=this.children.length)throw new Error("getChildAt: Index ("+te+") does not exist.");return this.children[te]},ee.prototype.removeChild=function(){for(var te=arguments,se=[],ne=0;ne<arguments.length;ne++)se[ne]=te[ne];if(se.length>1)for(var le=0;le<se.length;le++)this.removeChild(se[le]);else{var ue=se[0],ce=this.children.indexOf(ue);if(ce===-1)return null;ue.parent=null,ue.transform._parentID=-1,removeItems$1(this.children,ce,1),this._boundsID++,this.onChildrenChange(ce),ue.emit("removed",this),this.emit("childRemoved",ue,this,ce)}return se[0]},ee.prototype.removeChildAt=function(te){var se=this.getChildAt(te);return se.parent=null,se.transform._parentID=-1,removeItems$1(this.children,te,1),this._boundsID++,this.onChildrenChange(te),se.emit("removed",this),this.emit("childRemoved",se,this,te),se},ee.prototype.removeChildren=function(te,se){te===void 0&&(te=0),se===void 0&&(se=this.children.length);var ne=te,le=se,ue=le-ne,ce;if(ue>0&&ue<=le){ce=this.children.splice(ne,ue);for(var he=0;he<ce.length;++he)ce[he].parent=null,ce[he].transform&&(ce[he].transform._parentID=-1);this._boundsID++,this.onChildrenChange(te);for(var he=0;he<ce.length;++he)ce[he].emit("removed",this),this.emit("childRemoved",ce[he],this,he);return ce}else if(ue===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},ee.prototype.sortChildren=function(){for(var te=!1,se=0,ne=this.children.length;se<ne;++se){var le=this.children[se];le._lastSortedIndex=se,!te&&le.zIndex!==0&&(te=!0)}te&&this.children.length>1&&this.children.sort(sortChildren$1),this.sortDirty=!1},ee.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var te=0,se=this.children.length;te<se;++te){var ne=this.children[te];ne.visible&&ne.updateTransform()}},ee.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var te=0;te<this.children.length;te++){var se=this.children[te];if(!(!se.visible||!se.renderable))if(se.calculateBounds(),se._mask){var ne=se._mask.isMaskData?se._mask.maskObject:se._mask;ne?(ne.calculateBounds(),this._bounds.addBoundsMask(se._bounds,ne._bounds)):this._bounds.addBounds(se._bounds)}else se.filterArea?this._bounds.addBoundsArea(se._bounds,se.filterArea):this._bounds.addBounds(se._bounds)}this._bounds.updateID=this._boundsID},ee.prototype.getLocalBounds=function(te,se){se===void 0&&(se=!1);var ne=ie.prototype.getLocalBounds.call(this,te);if(!se)for(var le=0,ue=this.children.length;le<ue;++le){var ce=this.children[le];ce.visible&&ce.updateTransform()}return ne},ee.prototype._calculateBounds=function(){},ee.prototype._renderWithCulling=function(te){var se=te.renderTexture.sourceFrame;if(se.width>0&&se.height>0){var ne,le;if(this.cullArea?(ne=this.cullArea,le=this.worldTransform):this._render!==ee.prototype._render&&(ne=this.getBounds(!0)),ne&&se.intersects(ne,le))this._render(te);else if(this.cullArea)return;for(var ue=0,ce=this.children.length;ue<ce;++ue){var he=this.children[ue],de=he.cullable;he.cullable=de||!this.cullArea,he.render(te),he.cullable=de}}},ee.prototype.render=function(te){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(te);else if(this.cullable)this._renderWithCulling(te);else{this._render(te);for(var se=0,ne=this.children.length;se<ne;++se)this.children[se].render(te)}},ee.prototype.renderAdvanced=function(te){var se=this.filters,ne=this._mask;if(se){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var le=0;le<se.length;le++)se[le].enabled&&this._enabledFilters.push(se[le])}var ue=se&&this._enabledFilters&&this._enabledFilters.length||ne&&(!ne.isMaskData||ne.enabled&&(ne.autoDetect||ne.type!==MASK_TYPES.NONE));if(ue&&te.batch.flush(),se&&this._enabledFilters&&this._enabledFilters.length&&te.filter.push(this,this._enabledFilters),ne&&te.mask.push(this,this._mask),this.cullable)this._renderWithCulling(te);else{this._render(te);for(var le=0,ce=this.children.length;le<ce;++le)this.children[le].render(te)}ue&&te.batch.flush(),ne&&te.mask.pop(this),se&&this._enabledFilters&&this._enabledFilters.length&&te.filter.pop()},ee.prototype._render=function(te){},ee.prototype.destroy=function(te){ie.prototype.destroy.call(this),this.sortDirty=!1;var se=typeof te=="boolean"?te:te&&te.children,ne=this.removeChildren(0,this.children.length);if(se)for(var le=0;le<ne.length;++le)ne[le].destroy(te)},Object.defineProperty(ee.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(te){var se=this.getLocalBounds().width;se!==0?this.scale.x=te/se:this.scale.x=1,this._width=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(te){var se=this.getLocalBounds().height;se!==0?this.scale.y=te/se:this.scale.y=1,this._height=te},enumerable:!1,configurable:!0}),ee}(DisplayObject);Container$1.prototype.containerUpdateTransform=Container$1.prototype.updateTransform;const settings={TEXTURES_PER_TILEMAP:16,TEXTILE_DIMEN:1024,TEXTILE_UNITS:1,TEXTILE_SCALE_MODE:SCALE_MODES.LINEAR,use32bitIndex:!1,DO_CLEAR:!0,get maxTextures(){return this.MAX_TEXTURES},set maxTextures(ie){this.MAX_TEXTURES=ie},get boundSize(){return this.TEXTURE_TILE_DIMEN},set boundSize(ie){this.TILE_TEXTURE_DIMEN=ie},get boundCountPerBuffer(){return this.TEXTILE_UNITS},set boundCountPerBuffer(ie){this.TEXTILE_UNITS=ie}};var POINT_STRUCT;(function(ie){ie[ie.U=0]="U";const te=1;ie[ie.V=te]="V";const se=te+1;ie[ie.X=se]="X";const ne=se+1;ie[ie.Y=ne]="Y";const le=ne+1;ie[ie.TILE_WIDTH=le]="TILE_WIDTH";const ue=le+1;ie[ie.TILE_HEIGHT=ue]="TILE_HEIGHT";const ce=ue+1;ie[ie.ROTATE=ce]="ROTATE";const he=ce+1;ie[ie.ANIM_X=he]="ANIM_X";const de=he+1;ie[ie.ANIM_Y=de]="ANIM_Y";const _e=de+1;ie[ie.TEXTURE_INDEX=_e]="TEXTURE_INDEX";const fe=_e+1;ie[ie.ANIM_COUNT_X=fe]="ANIM_COUNT_X";const ye=fe+1;ie[ie.ANIM_COUNT_Y=ye]="ANIM_COUNT_Y";const be=ye+1;ie[ie.ANIM_DIVISOR=be]="ANIM_DIVISOR";const Pe=be+1;ie[ie.ALPHA=Pe]="ALPHA"})(POINT_STRUCT||(POINT_STRUCT={})),Object.keys(POINT_STRUCT).length/2;function generateSampleSrc$1(ie){let ee="";ee+=`
`,ee+=`
`,ee+="if(vTextureId <= -1.0) {",ee+=`
	color = shadowColor;`,ee+=`
}`;for(let te=0;te<ie;te++)ee+=`
else `,te<ie-1&&(ee+=`if(textureId == ${te}.0)`),ee+=`
{`,ee+=`
	color = texture2D(uSamplers[${te}], textureCoord * uSamplerSize[${te}]);`,ee+=`
}`;return ee+=`
`,ee+=`
`,ee}function fillSamplers(ie,ee){const te=[];for(let ne=0;ne<ee;ne++)te[ne]=ne;ie.uniforms.uSamplers=te;const se=[];for(let ne=0;ne<ee;ne++)se.push(1/2048),se.push(1/2048);ie.uniforms.uSamplerSize=se}function generateFragmentSrc(ie,ee){return ee.replace(/%count%/gi,`${ie}`).replace(/%forloop%/gi,generateSampleSrc$1(ie))}const tilemapVertexTemplateSrc=`#version 100
precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aFrame;
attribute vec2 aAnim;
attribute float aAnimDivisor;
attribute float aTextureId;
attribute float aAlpha;

uniform mat3 projTransMatrix;
uniform vec2 animationFrame;

varying vec2 vTextureCoord;
varying float vTextureId;
varying vec4 vFrame;
varying float vAlpha;

void main(void)
{
   gl_Position = vec4((projTransMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vec2 animCount = floor((aAnim + 0.5) / 2048.0);
   vec2 animFrameOffset = aAnim - animCount * 2048.0;
   vec2 currentFrame = floor(animationFrame / aAnimDivisor);
   vec2 animOffset = animFrameOffset * floor(mod(currentFrame + 0.5, animCount));

   vTextureCoord = aTextureCoord + animOffset;
   vFrame = aFrame + vec4(animOffset, animOffset);
   vTextureId = aTextureId;
   vAlpha = aAlpha;
}
`,tilemapFragmentTemplateSrc=`#version 100
#ifdef GL_FRAGMENT_PRECISION_HIGH
precision highp float;
#else
precision mediump float;
#endif
varying vec2 vTextureCoord;
varying vec4 vFrame;
varying float vTextureId;
varying float vAlpha;
uniform vec4 shadowColor;
uniform sampler2D uSamplers[%count%];
uniform vec2 uSamplerSize[%count%];

void main(void)
{
   vec2 textureCoord = clamp(vTextureCoord, vFrame.xy, vFrame.zw);
   float textureId = floor(vTextureId + 0.5);

   vec4 color;
   %forloop%
   gl_FragColor = color * vAlpha;
}
`;class TilemapShader extends Shader$1{__init(){this.maxTextures=0}constructor(ee){super(new Program(tilemapVertexTemplateSrc,generateFragmentSrc(ee,tilemapFragmentTemplateSrc)),{animationFrame:new Float32Array(2),uSamplers:[],uSamplerSize:[],projTransMatrix:new Matrix$1}),TilemapShader.prototype.__init.call(this),this.maxTextures=ee,fillSamplers(this,this.maxTextures)}}class TilemapGeometry extends Geometry$1{__init2(){this.vertSize=13}__init3(){this.vertPerQuad=4}__init4(){this.stride=this.vertSize*4}__init5(){this.lastTimeAccess=0}constructor(){super(),TilemapGeometry.prototype.__init2.call(this),TilemapGeometry.prototype.__init3.call(this),TilemapGeometry.prototype.__init4.call(this),TilemapGeometry.prototype.__init5.call(this);const ee=this.buf=new Buffer$1(new Float32Array(2),!0,!1);this.addAttribute("aVertexPosition",ee,0,!1,0,this.stride,0).addAttribute("aTextureCoord",ee,0,!1,0,this.stride,2*4).addAttribute("aFrame",ee,0,!1,0,this.stride,4*4).addAttribute("aAnim",ee,0,!1,0,this.stride,8*4).addAttribute("aTextureId",ee,0,!1,0,this.stride,10*4).addAttribute("aAnimDivisor",ee,0,!1,0,this.stride,11*4).addAttribute("aAlpha",ee,0,!1,0,this.stride,12*4)}}class TileRenderer extends ObjectRenderer{__init(){this.tileAnim=[0,0]}__init2(){this.ibLen=0}__init3(){this.indexBuffer=null}__init4(){this.textiles=[]}constructor(ee){super(ee),TileRenderer.prototype.__init.call(this),TileRenderer.prototype.__init2.call(this),TileRenderer.prototype.__init3.call(this),TileRenderer.prototype.__init4.call(this),this.shader=new TilemapShader(settings.TEXTURES_PER_TILEMAP),this.indexBuffer=new Buffer$1(void 0,!0,!0),this.checkIndexBuffer(2e3),this.makeTextiles()}bindTileTextures(ee,te){const se=te.length,ne=this.shader,le=settings.TEXTURES_PER_TILEMAP,ue=ne.uniforms.uSamplerSize;if(!(se>settings.TEXTILE_UNITS*le)){for(let ce=0;ce<te.length;ce++){const he=te[ce];if(!he||!he.valid)return;ee.texture.bind(te[ce],ce),ue[ce*2]=1/te[ce].realWidth,ue[ce*2+1]=1/te[ce].realHeight}ne.uniforms.uSamplerSize=ue}}start(){}createVb(){const ee=new TilemapGeometry;return ee.addIndex(this.indexBuffer),ee.lastTimeAccess=Date.now(),ee}getShader(){return this.shader}destroy(){super.destroy(),this.shader=null}checkIndexBuffer(ee,te=null){const se=ee*6;se<=this.ibLen||(this.ibLen=se,this.indexBuffer.update(createIndicesForQuads(ee,void 0)))}makeTextiles(){}}Renderer.registerPlugin("tilemap",TileRenderer);class AdjustmentFilter extends Filter$1{constructor(ee){super(`attribute vec2 aVertexPosition;
            attribute vec2 aTextureCoord;
            
            uniform mat3 projectionMatrix;
            
            varying vec2 vTextureCoord;
            
            void main(void)
            {
                gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
                vTextureCoord = aTextureCoord;
            }`,`varying vec2 vTextureCoord;
            uniform sampler2D uSampler;
            
            uniform float gamma;
            uniform float contrast;
            uniform float saturation;
            uniform float brightness;
            uniform float red;
            uniform float green;
            uniform float blue;
            uniform float alpha;
            
            void main(void)
            {
                vec4 c = texture2D(uSampler, vTextureCoord);
            
                if (c.a > 0.0) {
                    c.rgb /= c.a;
            
                    vec3 rgb = pow(c.rgb, vec3(1. / gamma));
                    rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);
                    rgb.r *= red;
                    rgb.g *= green;
                    rgb.b *= blue;
                    c.rgb = rgb * brightness;
            
                    c.rgb *= c.a;
                }
            
                gl_FragColor = c * alpha;
            }`),this.gamma=1,this.saturation=1,this.contrast=1,this.brightness=1,this.red=1,this.green=1,this.blue=1,this.alpha=1,Object.assign(this,ee)}apply(ee,te,se,ne){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,ee.applyFilter(this,te,se,ne)}}const vertex$2=`
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
uniform mat3 projectionMatrix;
varying vec2 vTextureCoord;
void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,fragment$4=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D mask;
uniform int fromChannel;
uniform int toChannel;

void main(void) {
    vec4 maskColor = texture2D(mask, vTextureCoord);
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec4 adjusted = currentColor;

    if(maskColor.r == 0.0 && maskColor.g == 0.0 && maskColor.b == 0.0)
    {
        adjusted.a = 0.0;
    }

    gl_FragColor = vec4(adjusted.r, adjusted.g, adjusted.b, adjusted.a);
}`,EO=class EO extends Filter$1{constructor(ee,te,se){super(vertex$2,fragment$4,{mask:ee.castToBaseTexture(),fromChannel:te,toChannel:se})}};EO.CHANNEL_RED=0,EO.CHANNEL_GREEN=1,EO.CHANNEL_BLUE=2,EO.CHANNEL_ALPHA=3;let CopyChannelFilter=EO;/*!
 * @pixi/app - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ResizePlugin$1=function(){function ie(){}return ie.init=function(ee){var te=this;Object.defineProperty(this,"resizeTo",{set:function(se){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=se,se&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){te._resizeTo&&(te.cancelResize(),te._resizeId=requestAnimationFrame(function(){return te.resize()}))},this.cancelResize=function(){te._resizeId&&(cancelAnimationFrame(te._resizeId),te._resizeId=null)},this.resize=function(){if(te._resizeTo){te.cancelResize();var se,ne;if(te._resizeTo===globalThis.window)se=globalThis.innerWidth,ne=globalThis.innerHeight;else{var le=te._resizeTo,ue=le.clientWidth,ce=le.clientHeight;se=ue,ne=ce}te.renderer.resize(se,ne)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=ee.resizeTo||null},ie.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},ie.extension=ExtensionType$1.Application,ie}(),Application$1=function(){function ie(ee){var te=this;this.stage=new Container$1,ee=Object.assign({forceCanvas:!1},ee),this.renderer=autoDetectRenderer$1(ee),ie._plugins.forEach(function(se){se.init.call(te,ee)})}return ie.registerPlugin=function(ee){deprecation$1("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),extensions$1.add({type:ExtensionType$1.Application,ref:ee})},ie.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(ie.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),ie.prototype.destroy=function(ee,te){var se=this,ne=ie._plugins.slice(0);ne.reverse(),ne.forEach(function(le){le.destroy.call(se)}),this.stage.destroy(te),this.stage=null,this.renderer.destroy(ee),this.renderer=null},ie._plugins=[],ie}();extensions$1.handleByList(ExtensionType$1.Application,Application$1._plugins),extensions$1.add(ResizePlugin$1);const dD=class dD extends Application$1{constructor(ee){super(ee),dD.INSTANCE||(dD.INSTANCE=this)}static get instance(){return this.INSTANCE||null}};dD.INSTANCE=null;let PixiApplicationProxy=dD;const GetTicker=()=>{var ie;return((ie=PixiApplicationProxy.instance)==null?void 0:ie.ticker)||null},GetTickerFPS=()=>{var ie;return((ie=GetTicker())==null?void 0:ie.FPS)||0},GetTickerTime=()=>{var ie;return((ie=GetTicker())==null?void 0:ie.lastTime)||0};/*!
 * @pixi/filter-alpha - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics$7=function(ie,ee){return extendStatics$7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,se){te.__proto__=se}||function(te,se){for(var ne in se)se.hasOwnProperty(ne)&&(te[ne]=se[ne])},extendStatics$7(ie,ee)};function __extends$7(ie,ee){extendStatics$7(ie,ee);function te(){this.constructor=ie}ie.prototype=ee===null?Object.create(ee):(te.prototype=ee.prototype,new te)}var fragment$3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,AlphaFilter=function(ie){__extends$7(ee,ie);function ee(te){te===void 0&&(te=1);var se=ie.call(this,defaultVertex$1,fragment$3,{uAlpha:1})||this;return se.alpha=te,se}return Object.defineProperty(ee.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(te){this.uniforms.uAlpha=te},enumerable:!1,configurable:!0}),ee}(Filter$1);class NitroBaseTexture extends BaseTexture{}class NitroContainer extends Container$1{}class NitroFilter extends Filter$1{}class NitroPoint extends Point$1{}/*!
 * @pixi/sprite - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics$6=function(ie,ee){return extendStatics$6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,se){te.__proto__=se}||function(te,se){for(var ne in se)se.hasOwnProperty(ne)&&(te[ne]=se[ne])},extendStatics$6(ie,ee)};function __extends$6(ie,ee){extendStatics$6(ie,ee);function te(){this.constructor=ie}ie.prototype=ee===null?Object.create(ee):(te.prototype=ee.prototype,new te)}var tempPoint$2=new Point$1,indices=new Uint16Array([0,1,2,0,2,3]),Sprite$1=function(ie){__extends$6(ee,ie);function ee(te){var se=ie.call(this)||this;return se._anchor=new ObservablePoint$1(se._onAnchorUpdate,se,te?te.defaultAnchor.x:0,te?te.defaultAnchor.y:0),se._texture=null,se._width=0,se._height=0,se._tint=null,se._tintRGB=null,se.tint=16777215,se.blendMode=BLEND_MODES.NORMAL,se._cachedTint=16777215,se.uvs=null,se.texture=te||Texture$1.EMPTY,se.vertexData=new Float32Array(8),se.vertexTrimmedData=null,se._transformID=-1,se._textureID=-1,se._transformTrimmedID=-1,se._textureTrimmedID=-1,se.indices=indices,se.pluginName="batch",se.isSprite=!0,se._roundPixels=settings$1.ROUND_PIXELS,se}return ee.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign(this.scale.y)*this._height/this._texture.orig.height)},ee.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},ee.prototype.calculateVertices=function(){var te=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===te._updateID)){this._textureID!==te._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=te._updateID;var se=this.transform.worldTransform,ne=se.a,le=se.b,ue=se.c,ce=se.d,he=se.tx,de=se.ty,_e=this.vertexData,fe=te.trim,ye=te.orig,be=this._anchor,Pe=0,Ne=0,we=0,De=0;if(fe?(Ne=fe.x-be._x*ye.width,Pe=Ne+fe.width,De=fe.y-be._y*ye.height,we=De+fe.height):(Ne=-be._x*ye.width,Pe=Ne+ye.width,De=-be._y*ye.height,we=De+ye.height),_e[0]=ne*Ne+ue*De+he,_e[1]=ce*De+le*Ne+de,_e[2]=ne*Pe+ue*De+he,_e[3]=ce*De+le*Pe+de,_e[4]=ne*Pe+ue*we+he,_e[5]=ce*we+le*Pe+de,_e[6]=ne*Ne+ue*we+he,_e[7]=ce*we+le*Ne+de,this._roundPixels)for(var $e=settings$1.RESOLUTION,Ge=0;Ge<_e.length;++Ge)_e[Ge]=Math.round((_e[Ge]*$e|0)/$e)}},ee.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var te=this._texture,se=this.vertexTrimmedData,ne=te.orig,le=this._anchor,ue=this.transform.worldTransform,ce=ue.a,he=ue.b,de=ue.c,_e=ue.d,fe=ue.tx,ye=ue.ty,be=-le._x*ne.width,Pe=be+ne.width,Ne=-le._y*ne.height,we=Ne+ne.height;se[0]=ce*be+de*Ne+fe,se[1]=_e*Ne+he*be+ye,se[2]=ce*Pe+de*Ne+fe,se[3]=_e*Ne+he*Pe+ye,se[4]=ce*Pe+de*we+fe,se[5]=_e*we+he*Pe+ye,se[6]=ce*be+de*we+fe,se[7]=_e*we+he*be+ye},ee.prototype._render=function(te){this.calculateVertices(),te.batch.setObjectRenderer(te.plugins[this.pluginName]),te.plugins[this.pluginName].render(this)},ee.prototype._calculateBounds=function(){var te=this._texture.trim,se=this._texture.orig;!te||te.width===se.width&&te.height===se.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},ee.prototype.getLocalBounds=function(te){return this.children.length===0?(this._localBounds||(this._localBounds=new Bounds$1),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),te||(this._localBoundsRect||(this._localBoundsRect=new Rectangle$1),te=this._localBoundsRect),this._localBounds.getRectangle(te)):ie.prototype.getLocalBounds.call(this,te)},ee.prototype.containsPoint=function(te){this.worldTransform.applyInverse(te,tempPoint$2);var se=this._texture.orig.width,ne=this._texture.orig.height,le=-se*this.anchor.x,ue=0;return tempPoint$2.x>=le&&tempPoint$2.x<le+se&&(ue=-ne*this.anchor.y,tempPoint$2.y>=ue&&tempPoint$2.y<ue+ne)},ee.prototype.destroy=function(te){ie.prototype.destroy.call(this,te),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var se=typeof te=="boolean"?te:te&&te.texture;if(se){var ne=typeof te=="boolean"?te:te&&te.baseTexture;this._texture.destroy(!!ne)}this._texture=null},ee.from=function(te,se){var ne=te instanceof Texture$1?te:Texture$1.from(te,se);return new ee(ne)},Object.defineProperty(ee.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(te){this._roundPixels!==te&&(this._transformID=-1),this._roundPixels=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(te){var se=sign(this.scale.x)||1;this.scale.x=se*te/this._texture.orig.width,this._width=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(te){var se=sign(this.scale.y)||1;this.scale.y=se*te/this._texture.orig.height,this._height=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"anchor",{get:function(){return this._anchor},set:function(te){this._anchor.copyFrom(te)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"tint",{get:function(){return this._tint},set:function(te){this._tint=te,this._tintRGB=(te>>16)+(te&65280)+((te&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"texture",{get:function(){return this._texture},set:function(te){this._texture!==te&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=te||Texture$1.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,te&&(te.baseTexture.valid?this._onTextureUpdate():te.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),ee}(Container$1);class NitroSprite extends Sprite$1{}class NitroTexture extends Texture$1{}const vertex$1=`
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
uniform mat3 projectionMatrix;
varying vec2 vTextureCoord;
void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,fragment$2=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform sampler2D lut;
uniform int channel;

void main(void) {
    vec4 currentColor = texture2D(uSampler, vTextureCoord);
    vec4 adjusted = currentColor;

    if(currentColor.a > 0.0)
    {
        if(channel == 0)
        {
            adjusted = texture2D(lut, vec2((currentColor.r * 255.0 + 0.5) / 256.0, 0.5));
        } else if(channel == 1) {
            adjusted = texture2D(lut, vec2((currentColor.g * 255.0 + 0.5) / 256.0, 0.5));
        } else if(channel == 2) {
            adjusted = texture2D(lut, vec2((currentColor.b * 255.0 + 0.5) / 256.0, 0.5));
        } else if(channel == 3) {
            adjusted = texture2D(lut, vec2((currentColor.a * 255.0 + 0.5) / 256.0, 0.5));
        }
    }

    gl_FragColor = vec4(adjusted.r, adjusted.g, adjusted.b, currentColor.a);
}`,vO=class vO extends NitroFilter{constructor(ee,te=vO.CHANNEL_RED){super(vertex$1,fragment$2),this._channel=te;let se=[];se=this.getLutForPalette(ee),this._lut=NitroBaseTexture.fromBuffer(Uint8Array.from(se),se.length/4,1,{mipmap:0,scaleMode:0}),this.uniforms.lut=this._lut,this.uniforms.channel=this._channel}getLutForPalette(ee){const te=[];for(let se=0;se<ee.length;se++)te[se*4+vO.CHANNEL_RED]=ee[se]>>16&255,te[se*4+vO.CHANNEL_GREEN]=ee[se]>>8&255,te[se*4+vO.CHANNEL_BLUE]=ee[se]&255,te[se*4+vO.CHANNEL_ALPHA]=ee[se]>>24&255;return te}get lut(){return this._lut}get channel(){return this._channel}};vO.CHANNEL_RED=0,vO.CHANNEL_GREEN=1,vO.CHANNEL_BLUE=2,vO.CHANNEL_ALPHA=3;let PaletteMapFilter=vO;/*!
 * @pixi/interaction - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var InteractionData=function(){function ie(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Point$1,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(ie.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),ie.prototype.getLocalPosition=function(ee,te,se){return ee.worldTransform.applyInverse(se||this.global,te)},ie.prototype.copyEvent=function(ee){"isPrimary"in ee&&ee.isPrimary&&(this.isPrimary=!0),this.button="button"in ee&&ee.button;var te="buttons"in ee&&ee.buttons;this.buttons=Number.isInteger(te)?te:"which"in ee&&ee.which,this.width="width"in ee&&ee.width,this.height="height"in ee&&ee.height,this.tiltX="tiltX"in ee&&ee.tiltX,this.tiltY="tiltY"in ee&&ee.tiltY,this.pointerType="pointerType"in ee&&ee.pointerType,this.pressure="pressure"in ee&&ee.pressure,this.rotationAngle="rotationAngle"in ee&&ee.rotationAngle,this.twist="twist"in ee&&ee.twist||0,this.tangentialPressure="tangentialPressure"in ee&&ee.tangentialPressure||0},ie.prototype.reset=function(){this.isPrimary=!1},ie}();/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics$5=function(ie,ee){return extendStatics$5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,se){te.__proto__=se}||function(te,se){for(var ne in se)se.hasOwnProperty(ne)&&(te[ne]=se[ne])},extendStatics$5(ie,ee)};function __extends$5(ie,ee){extendStatics$5(ie,ee);function te(){this.constructor=ie}ie.prototype=ee===null?Object.create(ee):(te.prototype=ee.prototype,new te)}var InteractionEvent=function(){function ie(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return ie.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},ie.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},ie}(),InteractionTrackingData=function(){function ie(ee){this._pointerId=ee,this._flags=ie.FLAGS.NONE}return ie.prototype._doSet=function(ee,te){te?this._flags=this._flags|ee:this._flags=this._flags&~ee},Object.defineProperty(ie.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"flags",{get:function(){return this._flags},set:function(ee){this._flags=ee},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"none",{get:function(){return this._flags===ie.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"over",{get:function(){return(this._flags&ie.FLAGS.OVER)!==0},set:function(ee){this._doSet(ie.FLAGS.OVER,ee)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"rightDown",{get:function(){return(this._flags&ie.FLAGS.RIGHT_DOWN)!==0},set:function(ee){this._doSet(ie.FLAGS.RIGHT_DOWN,ee)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"leftDown",{get:function(){return(this._flags&ie.FLAGS.LEFT_DOWN)!==0},set:function(ee){this._doSet(ie.FLAGS.LEFT_DOWN,ee)},enumerable:!1,configurable:!0}),ie.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),ie}(),TreeSearch=function(){function ie(){this._tempPoint=new Point$1}return ie.prototype.recursiveFindHit=function(ee,te,se,ne,le){var ue;if(!te||!te.visible)return!1;var ce=ee.data.global;le=te.interactive||le;var he=!1,de=le,_e=!0;if(te.hitArea)ne&&(te.worldTransform.applyInverse(ce,this._tempPoint),te.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?he=!0:(ne=!1,_e=!1)),de=!1;else if(te._mask&&ne){var fe=te._mask.isMaskData?te._mask.maskObject:te._mask;fe&&!(!((ue=fe.containsPoint)===null||ue===void 0)&&ue.call(fe,ce))&&(ne=!1)}if(_e&&te.interactiveChildren&&te.children)for(var ye=te.children,be=ye.length-1;be>=0;be--){var Pe=ye[be],Ne=this.recursiveFindHit(ee,Pe,se,ne,de);if(Ne){if(!Pe.parent)continue;de=!1,Ne&&(ee.target&&(ne=!1),he=!0)}}return le&&(ne&&!ee.target&&!te.hitArea&&te.containsPoint&&te.containsPoint(ce)&&(he=!0),te.interactive&&(he&&!ee.target&&(ee.target=te),se&&se(ee,te,!!he))),he},ie.prototype.findHit=function(ee,te,se,ne){this.recursiveFindHit(ee,te,se,ne,!1)},ie}(),interactiveTarget={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(ie){ie?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};DisplayObject.mixin(interactiveTarget);var MOUSE_POINTER_ID$1=1,hitTestEvent={target:null,data:{global:null}},InteractionManager=function(ie){__extends$5(ee,ie);function ee(te,se){var ne=ie.call(this)||this;return se=se||{},ne.renderer=te,ne.autoPreventDefault=se.autoPreventDefault!==void 0?se.autoPreventDefault:!0,ne.interactionFrequency=se.interactionFrequency||10,ne.mouse=new InteractionData,ne.mouse.identifier=MOUSE_POINTER_ID$1,ne.mouse.global.set(-999999),ne.activeInteractionData={},ne.activeInteractionData[MOUSE_POINTER_ID$1]=ne.mouse,ne.interactionDataPool=[],ne.eventData=new InteractionEvent,ne.interactionDOMElement=null,ne.moveWhenInside=!1,ne.eventsAdded=!1,ne.tickerAdded=!1,ne.mouseOverRenderer=!("PointerEvent"in globalThis),ne.supportsTouchEvents="ontouchstart"in globalThis,ne.supportsPointerEvents=!!globalThis.PointerEvent,ne.onPointerUp=ne.onPointerUp.bind(ne),ne.processPointerUp=ne.processPointerUp.bind(ne),ne.onPointerCancel=ne.onPointerCancel.bind(ne),ne.processPointerCancel=ne.processPointerCancel.bind(ne),ne.onPointerDown=ne.onPointerDown.bind(ne),ne.processPointerDown=ne.processPointerDown.bind(ne),ne.onPointerMove=ne.onPointerMove.bind(ne),ne.processPointerMove=ne.processPointerMove.bind(ne),ne.onPointerOut=ne.onPointerOut.bind(ne),ne.processPointerOverOut=ne.processPointerOverOut.bind(ne),ne.onPointerOver=ne.onPointerOver.bind(ne),ne.cursorStyles={default:"inherit",pointer:"pointer"},ne.currentCursorMode=null,ne.cursor=null,ne.resolution=1,ne.delayedEvents=[],ne.search=new TreeSearch,ne._tempDisplayObject=new TemporaryDisplayObject,ne._eventListenerOptions={capture:!0,passive:!1},ne._useSystemTicker=se.useSystemTicker!==void 0?se.useSystemTicker:!0,ne.setTargetElement(ne.renderer.view,ne.renderer.resolution),ne}return Object.defineProperty(ee.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(te){this._useSystemTicker=te,te?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),ee.prototype.hitTest=function(te,se){return hitTestEvent.target=null,hitTestEvent.data.global=te,se||(se=this.lastObjectRendered),this.processInteractive(hitTestEvent,se,null,!0),hitTestEvent.target},ee.prototype.setTargetElement=function(te,se){se===void 0&&(se=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=te,this.resolution=se,this.addEvents(),this.addTickerListener()},ee.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Ticker$1.system.add(this.tickerUpdate,this,UPDATE_PRIORITY$1.INTERACTION),this.tickerAdded=!0)},ee.prototype.removeTickerListener=function(){this.tickerAdded&&(Ticker$1.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},ee.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var te=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(te.msContentZooming="none",te.msTouchAction="none"):this.supportsPointerEvents&&(te.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},ee.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var te=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(te.msContentZooming="",te.msTouchAction=""):this.supportsPointerEvents&&(te.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},ee.prototype.tickerUpdate=function(te){this._deltaTime+=te,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},ee.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var te in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(te)){var se=this.activeInteractionData[te];if(se.originalEvent&&se.pointerType!=="touch"){var ne=this.configureInteractionEventForDOMEvent(this.eventData,se.originalEvent,se);this.processInteractive(ne,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},ee.prototype.setCursorMode=function(te){te=te||"default";var se=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(se=!1),this.currentCursorMode!==te){this.currentCursorMode=te;var ne=this.cursorStyles[te];if(ne)switch(typeof ne){case"string":se&&(this.interactionDOMElement.style.cursor=ne);break;case"function":ne(te);break;case"object":se&&Object.assign(this.interactionDOMElement.style,ne);break}else se&&typeof te=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,te)&&(this.interactionDOMElement.style.cursor=te)}},ee.prototype.dispatchEvent=function(te,se,ne){(!ne.stopPropagationHint||te===ne.stopsPropagatingAt)&&(ne.currentTarget=te,ne.type=se,te.emit(se,ne),te[se]&&te[se](ne))},ee.prototype.delayDispatchEvent=function(te,se,ne){this.delayedEvents.push({displayObject:te,eventString:se,eventData:ne})},ee.prototype.mapPositionToPoint=function(te,se,ne){var le;this.interactionDOMElement.parentElement?le=this.interactionDOMElement.getBoundingClientRect():le={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var ue=1/this.resolution;te.x=(se-le.left)*(this.interactionDOMElement.width/le.width)*ue,te.y=(ne-le.top)*(this.interactionDOMElement.height/le.height)*ue},ee.prototype.processInteractive=function(te,se,ne,le){var ue=this.search.findHit(te,se,ne,le),ce=this.delayedEvents;if(!ce.length)return ue;te.stopPropagationHint=!1;var he=ce.length;this.delayedEvents=[];for(var de=0;de<he;de++){var _e=ce[de],fe=_e.displayObject,ye=_e.eventString,be=_e.eventData;be.stopsPropagatingAt===fe&&(be.stopPropagationHint=!0),this.dispatchEvent(fe,ye,be)}return ue},ee.prototype.onPointerDown=function(te){if(!(this.supportsTouchEvents&&te.pointerType==="touch")){var se=this.normalizeToPointerData(te);if(this.autoPreventDefault&&se[0].isNormalized){var ne=te.cancelable||!("cancelable"in te);ne&&te.preventDefault()}for(var le=se.length,ue=0;ue<le;ue++){var ce=se[ue],he=this.getInteractionDataForPointerId(ce),de=this.configureInteractionEventForDOMEvent(this.eventData,ce,he);if(de.data.originalEvent=te,this.processInteractive(de,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",de),ce.pointerType==="touch")this.emit("touchstart",de);else if(ce.pointerType==="mouse"||ce.pointerType==="pen"){var _e=ce.button===2;this.emit(_e?"rightdown":"mousedown",this.eventData)}}}},ee.prototype.processPointerDown=function(te,se,ne){var le=te.data,ue=te.data.identifier;if(ne){if(se.trackedPointers[ue]||(se.trackedPointers[ue]=new InteractionTrackingData(ue)),this.dispatchEvent(se,"pointerdown",te),le.pointerType==="touch")this.dispatchEvent(se,"touchstart",te);else if(le.pointerType==="mouse"||le.pointerType==="pen"){var ce=le.button===2;ce?se.trackedPointers[ue].rightDown=!0:se.trackedPointers[ue].leftDown=!0,this.dispatchEvent(se,ce?"rightdown":"mousedown",te)}}},ee.prototype.onPointerComplete=function(te,se,ne){var le=this.normalizeToPointerData(te),ue=le.length,ce=te.target;te.composedPath&&te.composedPath().length>0&&(ce=te.composedPath()[0]);for(var he=ce!==this.interactionDOMElement?"outside":"",de=0;de<ue;de++){var _e=le[de],fe=this.getInteractionDataForPointerId(_e),ye=this.configureInteractionEventForDOMEvent(this.eventData,_e,fe);if(ye.data.originalEvent=te,this.processInteractive(ye,this.lastObjectRendered,ne,se||!he),this.emit(se?"pointercancel":"pointerup"+he,ye),_e.pointerType==="mouse"||_e.pointerType==="pen"){var be=_e.button===2;this.emit(be?"rightup"+he:"mouseup"+he,ye)}else _e.pointerType==="touch"&&(this.emit(se?"touchcancel":"touchend"+he,ye),this.releaseInteractionDataForPointerId(_e.pointerId))}},ee.prototype.onPointerCancel=function(te){this.supportsTouchEvents&&te.pointerType==="touch"||this.onPointerComplete(te,!0,this.processPointerCancel)},ee.prototype.processPointerCancel=function(te,se){var ne=te.data,le=te.data.identifier;se.trackedPointers[le]!==void 0&&(delete se.trackedPointers[le],this.dispatchEvent(se,"pointercancel",te),ne.pointerType==="touch"&&this.dispatchEvent(se,"touchcancel",te))},ee.prototype.onPointerUp=function(te){this.supportsTouchEvents&&te.pointerType==="touch"||this.onPointerComplete(te,!1,this.processPointerUp)},ee.prototype.processPointerUp=function(te,se,ne){var le=te.data,ue=te.data.identifier,ce=se.trackedPointers[ue],he=le.pointerType==="touch",de=le.pointerType==="mouse"||le.pointerType==="pen",_e=!1;if(de){var fe=le.button===2,ye=InteractionTrackingData.FLAGS,be=fe?ye.RIGHT_DOWN:ye.LEFT_DOWN,Pe=ce!==void 0&&ce.flags&be;ne?(this.dispatchEvent(se,fe?"rightup":"mouseup",te),Pe&&(this.dispatchEvent(se,fe?"rightclick":"click",te),_e=!0)):Pe&&this.dispatchEvent(se,fe?"rightupoutside":"mouseupoutside",te),ce&&(fe?ce.rightDown=!1:ce.leftDown=!1)}ne?(this.dispatchEvent(se,"pointerup",te),he&&this.dispatchEvent(se,"touchend",te),ce&&((!de||_e)&&this.dispatchEvent(se,"pointertap",te),he&&(this.dispatchEvent(se,"tap",te),ce.over=!1))):ce&&(this.dispatchEvent(se,"pointerupoutside",te),he&&this.dispatchEvent(se,"touchendoutside",te)),ce&&ce.none&&delete se.trackedPointers[ue]},ee.prototype.onPointerMove=function(te){if(!(this.supportsTouchEvents&&te.pointerType==="touch")){var se=this.normalizeToPointerData(te);(se[0].pointerType==="mouse"||se[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var ne=se.length,le=0;le<ne;le++){var ue=se[le],ce=this.getInteractionDataForPointerId(ue),he=this.configureInteractionEventForDOMEvent(this.eventData,ue,ce);he.data.originalEvent=te,this.processInteractive(he,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",he),ue.pointerType==="touch"&&this.emit("touchmove",he),(ue.pointerType==="mouse"||ue.pointerType==="pen")&&this.emit("mousemove",he)}se[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},ee.prototype.processPointerMove=function(te,se,ne){var le=te.data,ue=le.pointerType==="touch",ce=le.pointerType==="mouse"||le.pointerType==="pen";ce&&this.processPointerOverOut(te,se,ne),(!this.moveWhenInside||ne)&&(this.dispatchEvent(se,"pointermove",te),ue&&this.dispatchEvent(se,"touchmove",te),ce&&this.dispatchEvent(se,"mousemove",te))},ee.prototype.onPointerOut=function(te){if(!(this.supportsTouchEvents&&te.pointerType==="touch")){var se=this.normalizeToPointerData(te),ne=se[0];ne.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var le=this.getInteractionDataForPointerId(ne),ue=this.configureInteractionEventForDOMEvent(this.eventData,ne,le);ue.data.originalEvent=ne,this.processInteractive(ue,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",ue),ne.pointerType==="mouse"||ne.pointerType==="pen"?this.emit("mouseout",ue):this.releaseInteractionDataForPointerId(le.identifier)}},ee.prototype.processPointerOverOut=function(te,se,ne){var le=te.data,ue=te.data.identifier,ce=le.pointerType==="mouse"||le.pointerType==="pen",he=se.trackedPointers[ue];ne&&!he&&(he=se.trackedPointers[ue]=new InteractionTrackingData(ue)),he!==void 0&&(ne&&this.mouseOverRenderer?(he.over||(he.over=!0,this.delayDispatchEvent(se,"pointerover",te),ce&&this.delayDispatchEvent(se,"mouseover",te)),ce&&this.cursor===null&&(this.cursor=se.cursor)):he.over&&(he.over=!1,this.dispatchEvent(se,"pointerout",this.eventData),ce&&this.dispatchEvent(se,"mouseout",te),he.none&&delete se.trackedPointers[ue]))},ee.prototype.onPointerOver=function(te){if(!(this.supportsTouchEvents&&te.pointerType==="touch")){var se=this.normalizeToPointerData(te),ne=se[0],le=this.getInteractionDataForPointerId(ne),ue=this.configureInteractionEventForDOMEvent(this.eventData,ne,le);ue.data.originalEvent=ne,ne.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",ue),(ne.pointerType==="mouse"||ne.pointerType==="pen")&&this.emit("mouseover",ue)}},ee.prototype.getInteractionDataForPointerId=function(te){var se=te.pointerId,ne;return se===MOUSE_POINTER_ID$1||te.pointerType==="mouse"?ne=this.mouse:this.activeInteractionData[se]?ne=this.activeInteractionData[se]:(ne=this.interactionDataPool.pop()||new InteractionData,ne.identifier=se,this.activeInteractionData[se]=ne),ne.copyEvent(te),ne},ee.prototype.releaseInteractionDataForPointerId=function(te){var se=this.activeInteractionData[te];se&&(delete this.activeInteractionData[te],se.reset(),this.interactionDataPool.push(se))},ee.prototype.configureInteractionEventForDOMEvent=function(te,se,ne){return te.data=ne,this.mapPositionToPoint(ne.global,se.clientX,se.clientY),se.pointerType==="touch"&&(se.globalX=ne.global.x,se.globalY=ne.global.y),ne.originalEvent=se,te.reset(),te},ee.prototype.normalizeToPointerData=function(te){var se=[];if(this.supportsTouchEvents&&te instanceof TouchEvent)for(var ne=0,le=te.changedTouches.length;ne<le;ne++){var ue=te.changedTouches[ne];typeof ue.button>"u"&&(ue.button=te.touches.length?1:0),typeof ue.buttons>"u"&&(ue.buttons=te.touches.length?1:0),typeof ue.isPrimary>"u"&&(ue.isPrimary=te.touches.length===1&&te.type==="touchstart"),typeof ue.width>"u"&&(ue.width=ue.radiusX||1),typeof ue.height>"u"&&(ue.height=ue.radiusY||1),typeof ue.tiltX>"u"&&(ue.tiltX=0),typeof ue.tiltY>"u"&&(ue.tiltY=0),typeof ue.pointerType>"u"&&(ue.pointerType="touch"),typeof ue.pointerId>"u"&&(ue.pointerId=ue.identifier||0),typeof ue.pressure>"u"&&(ue.pressure=ue.force||.5),typeof ue.twist>"u"&&(ue.twist=0),typeof ue.tangentialPressure>"u"&&(ue.tangentialPressure=0),typeof ue.layerX>"u"&&(ue.layerX=ue.offsetX=ue.clientX),typeof ue.layerY>"u"&&(ue.layerY=ue.offsetY=ue.clientY),ue.isNormalized=!0,se.push(ue)}else if(!globalThis.MouseEvent||te instanceof MouseEvent&&(!this.supportsPointerEvents||!(te instanceof globalThis.PointerEvent))){var ce=te;typeof ce.isPrimary>"u"&&(ce.isPrimary=!0),typeof ce.width>"u"&&(ce.width=1),typeof ce.height>"u"&&(ce.height=1),typeof ce.tiltX>"u"&&(ce.tiltX=0),typeof ce.tiltY>"u"&&(ce.tiltY=0),typeof ce.pointerType>"u"&&(ce.pointerType="mouse"),typeof ce.pointerId>"u"&&(ce.pointerId=MOUSE_POINTER_ID$1),typeof ce.pressure>"u"&&(ce.pressure=.5),typeof ce.twist>"u"&&(ce.twist=0),typeof ce.tangentialPressure>"u"&&(ce.tangentialPressure=0),ce.isNormalized=!0,se.push(ce)}else se.push(te);return se},ee.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},ee.extension={name:"interaction",type:[ExtensionType$1.RendererPlugin,ExtensionType$1.CanvasRendererPlugin]},ee}(EventEmitter$1);const ML=class ML{constructor(){this.RENDER_TEXTURE_POOL=new Map,this.RENDER_TEXTURE_CACHE=[]}clearCache(){this.RENDER_TEXTURE_POOL.forEach(ee=>ee==null?void 0:ee.destroy(!0)),this.RENDER_TEXTURE_POOL.clear(),this.RENDER_TEXTURE_CACHE=[]}clearRenderTexture(ee){return ee?this.writeToRenderTexture(new Sprite$1(Texture$1.EMPTY),ee):null}getTextureIdentifier(ee,te,se){return`${se??ML.DEFAULT_PLANE_ID}:${ee}:${te}`}createRenderTexture(ee,te,se=null){if(ee<0||te<0)return null;if(!se){const le=RenderTexture$1.create({width:ee,height:te});return this.RENDER_TEXTURE_CACHE.push(le),le}se=this.getTextureIdentifier(ee,te,se);let ne=this.RENDER_TEXTURE_POOL.get(se);return ne||(ne=RenderTexture$1.create({width:ee,height:te}),this.RENDER_TEXTURE_CACHE.push(ne),this.RENDER_TEXTURE_POOL.set(se,ne)),ne}createAndFillRenderTexture(ee,te,se=null,ne=16777215){if(ee<0||te<0)return null;const le=this.createRenderTexture(ee,te,se);return this.clearAndFillRenderTexture(le,ne)}createAndWriteRenderTexture(ee,te,se,ne=null,le=null){if(ee<0||te<0)return null;const ue=this.createRenderTexture(ee,te,ne);return this.writeToRenderTexture(se,ue,!0,le)}clearAndFillRenderTexture(ee,te=16777215){if(!ee)return null;const se=new Sprite$1(Texture$1.WHITE);return se.tint=te,se.width=ee.width,se.height=ee.height,this.writeToRenderTexture(se,ee)}writeToRenderTexture(ee,te,se=!0,ne=null){return!ee||!te?null:(this.getRenderer().render(ee,{renderTexture:te,clear:se,transform:ne}),te)}getPixels(ee,te=null){return this.getExtractor().pixels(ee)}getRenderer(){return PixiApplicationProxy.instance.renderer}getExtractor(){return this.getRenderer().plugins.extract}};ML.DEFAULT_PLANE_ID="DEFAULT";let PlaneTextureCache=ML;class TextureUtils{static generateTexture(ee,te=null,se=null,ne=1){return ee?(se===null&&(se=settings$1.SCALE_MODE),this.getRenderer().generateTexture(ee,{scaleMode:se,resolution:ne,region:te})):null}static generateTextureFromImage(ee){return ee?Texture$1.from(ee):null}static generateImage(ee){return ee?this.getExtractor().image(ee):null}static generateImageUrl(ee){return ee?this.getExtractor().base64(ee):null}static generateCanvas(ee){return ee?this.getExtractor().canvas(ee):null}static clearRenderTexture(ee){return ee?this.writeToRenderTexture(new Sprite$1(Texture$1.EMPTY),ee):null}static createRenderTexture(ee,te){return ee<0||te<0?null:RenderTexture$1.create({width:ee,height:te})}static createAndFillRenderTexture(ee,te,se=16777215){if(ee<0||te<0)return null;const ne=this.createRenderTexture(ee,te);return this.clearAndFillRenderTexture(ne,se)}static createAndWriteRenderTexture(ee,te,se,ne=null){if(ee<0||te<0)return null;const le=this.createRenderTexture(ee,te);return this.writeToRenderTexture(se,le,!0,ne)}static clearAndFillRenderTexture(ee,te=16777215){if(!ee)return null;const se=new Sprite$1(Texture$1.WHITE);return se.tint=te,se.width=ee.width,se.height=ee.height,this.writeToRenderTexture(se,ee)}static writeToRenderTexture(ee,te,se=!0,ne=null){return!ee||!te?null:(this.getRenderer().render(ee,{renderTexture:te,clear:se,transform:ne}),te)}static getPixels(ee,te=null){return this.getExtractor().pixels(ee)}static getRenderer(){return PixiApplicationProxy.instance.renderer}static getExtractor(){return this.getRenderer().plugins.extract}}const hP=class hP{static createAsset(ee,te,se,ne,le,ue=!1,ce=!1,he=!1){const de=hP.GRAPHIC_POOL.length?hP.GRAPHIC_POOL.pop():new hP;return de._name=ee,de._source=te||null,se?(de._texture=se,de._initialized=!1):(de._texture=null,de._initialized=!0),de._usesPalette=he,de._x=ne,de._y=le,de._flipH=ue,de._flipV=ce,de._rectangle=null,de}recycle(){this._texture=null,hP.GRAPHIC_POOL.push(this)}initialize(){this._initialized||!this._texture||(this._width=this._texture.width,this._height=this._texture.height,this._initialized=!0)}getImageUrl(){return TextureUtils.generateImageUrl(new Sprite$1(this._texture))}get name(){return this._name}get source(){return this._source}get texture(){return this._texture}get usesPalette(){return this._usesPalette}get x(){return this._x}get y(){return this._y}get width(){return this.initialize(),this._width}get height(){return this.initialize(),this._height}get offsetX(){return this._flipH?-this._x:this._x}get offsetY(){return this._flipV?-this._y:this._y}get flipH(){return this._flipH}get flipV(){return this._flipV}get rectangle(){return this._rectangle||(this._rectangle=new Rectangle$1(0,0,this.width,this.height)),this._rectangle}};hP.GRAPHIC_POOL=[];let GraphicAsset=hP;class GraphicAssetPalette{constructor(ee,te,se){for(this._palette=ee;this._palette.length<256;)this._palette.push([0,0,0]);this._primaryColor=te,this._secondaryColor=se}dispose(){}applyPalette(ee){var ue,ce;const te=TextureUtils.createAndWriteRenderTexture(ee.width,ee.height,new Sprite$1(ee)),se=TextureUtils.getPixels(te);for(let he=0;he<se.length;he+=4){let de=this._palette[se[he+1]];de===void 0&&(de=[0,0,0]),se[he]=de[0],se[he+1]=de[1],se[he+2]=de[2]}const ne=(ue=te.baseTexture._glTextures[1])==null?void 0:ue.texture,le=(ce=PixiApplicationProxy.instance.renderer)==null?void 0:ce.gl;return le.bindTexture(le.TEXTURE_2D,ne),le.texImage2D(le.TEXTURE_2D,0,le.RGBA,te.width,te.height,0,le.RGBA,le.UNSIGNED_BYTE,se),le.bindTexture(le.TEXTURE_2D,null),te}get primaryColor(){return this._primaryColor}get secondaryColor(){return this._secondaryColor}}const fD=class fD{constructor(ee,te){if(!ee)throw new Error("invalid_collection");this._name=ee.name,this._baseTexture=te&&te.baseTexture||null,this._data=ee,this._textures=new Map,this._assets=new Map,this._palettes=new Map,this._paletteAssetNames=[],te&&this.addLibraryAsset(te.textures),this.define(ee)}static removeFileExtension(ee){return ee.substring(0,ee.lastIndexOf("."))||ee}dispose(){if(this._palettes){for(const ee of this._palettes.values())ee.dispose();this._palettes.clear()}if(this._paletteAssetNames&&(this.disposePaletteAssets(),this._paletteAssetNames=null),this._assets){for(const ee of this._assets.values())ee.recycle();this._assets.clear()}}addReference(){this._referenceCount++,this._referenceTimestamp=GetTickerTime()}removeReference(){this._referenceCount--,this._referenceCount<=0&&(this._referenceCount=0,this._referenceTimestamp=GetTickerTime(),this.disposePaletteAssets(!1))}define(ee){const te=ee.assets,se=ee.palettes;te&&this.defineAssets(te),se&&this.definePalettes(se)}defineAssets(ee){if(ee)for(const te in ee){const se=ee[te];if(!se)continue;const ne=-se.x||0,le=-se.y||0;let ue=!1;const ce=!1,he=se.usesPalette||!1;let de=se.source||"";se.flipH&&de.length&&(ue=!0),de.length||(de=te);const _e=this.getLibraryAsset(de);if(!_e)continue;let fe=this.createAsset(te,de,_e,ue,ce,ne,le,he);if(!fe){const ye=this.getAsset(te);ye&&ye.name!==ye.source&&(fe=this.replaceAsset(te,de,_e,ue,ce,ne,le,he))}}}definePalettes(ee){if(ee)for(const te in ee){const se=ee[te];if(!se)continue;const ne=se.id.toString();if(this._palettes.get(ne))continue;let le=16777215,ue=16777215,ce=se.color1;ce&&ce.length>0&&(le=parseInt(ce,16)),ce=se.color2,ce&&ce.length>0&&(ue=parseInt(ce,16)),this._palettes.set(ne,new GraphicAssetPalette(se.rgb,le,ue))}}createAsset(ee,te,se,ne,le,ue,ce,he){if(this._assets.get(ee))return!1;const de=GraphicAsset.createAsset(ee,te,se,ue,ce,ne,le,he);return this._assets.set(ee,de),!0}replaceAsset(ee,te,se,ne,le,ue,ce,he){const de=this._assets.get(ee);return de&&(this._assets.delete(ee),de.recycle()),this.createAsset(ee,te,se,ne,le,ue,ce,he)}getAsset(ee){if(!ee)return null;const te=this._assets.get(ee);return te||null}getAssetWithPalette(ee,te){const se=ee+"@"+te;let ne=this.getAsset(se);if(!ne){if(ne=this.getAsset(ee),!ne||!ne.usesPalette)return ne;const le=this.getPalette(te);if(le){const ue=le.applyPalette(ne.texture);ue&&(this._paletteAssetNames.push(se),this.createAsset(se,ne.source+"@"+te,ue,ne.flipH,ne.flipV,ne.x,ne.y,!1),ne=this.getAsset(se))}}return ne}getTexture(ee){return this._textures.get(ee)}getPaletteNames(){return Array.from(this._palettes.keys())}getPaletteColors(ee){const te=this.getPalette(ee);return te?[te.primaryColor,te.secondaryColor]:null}getPalette(ee){if(!ee)return null;const te=this._palettes.get(ee);return te||null}addAsset(ee,te,se,ne=0,le=0,ue=!1,ce=!1){if(!ee||!te)return!1;const he=this.getLibraryAsset(ee);return he?se?(he.baseTexture=te.baseTexture,he.frame=te.frame,he.trim=te.trim,he.updateUvs(),!0):!1:(this._textures.set(ee,te),this.createAsset(ee,ee,te,ue,ce,ne,le,!1))}disposeAsset(ee){const te=this._assets.get(ee);if(!te)return;this._assets.delete(ee);const se=this.getLibraryAsset(te.source);se&&(this._textures.delete(te.source),se.destroy(!0)),te.recycle()}getLibraryAsset(ee){if(!ee)return null;ee=this._name+"_"+ee;const te=this._textures.get(ee);return te||null}addLibraryAsset(ee){if(ee)for(const te in ee){const se=ee[te];se&&this._textures.set(fD.removeFileExtension(te),se)}}disposePaletteAssets(ee=!0){if(this._paletteAssetNames&&(ee||this._paletteAssetNames.length>fD.PALETTE_ASSET_DISPOSE_THRESHOLD)){for(const te of this._paletteAssetNames)this.disposeAsset(te);this._paletteAssetNames=[]}}get referenceCount(){return this._referenceCount}get referenceTimestamp(){return this._referenceTimestamp}get name(){return this._name}get baseTexture(){return this._baseTexture}get data(){return this._data}get textures(){return this._textures}get assets(){return this._assets}};fD.PALETTE_ASSET_DISPOSE_THRESHOLD=10;let GraphicAssetCollection=fD;const PL=class PL{constructor(){this._textures=new Map,this._collections=new Map}getTexture(ee){if(!ee)return null;const te=this._textures.get(ee);return te||null}setTexture(ee,te){!ee||!te||this._textures.set(ee,te)}getAsset(ee){if(!ee)return null;for(const te of this._collections.values()){if(!te)continue;const se=te.getAsset(ee);if(se)return se}return null}getCollection(ee){if(!ee)return null;const te=this._collections.get(ee);return te||null}createCollection(ee,te){if(!ee)return null;const se=new GraphicAssetCollection(ee,te);if(se){for(const[ne,le]of se.textures.entries())this.setTexture(ne,le);this._collections.set(se.name,se)}return se}async downloadAsset(ee){return await this.downloadAssets([ee])}async downloadAssets(ee){if(!ee||!ee.length)return Promise.resolve(!0);try{for(const te of ee){const se=await fetch(te);if(se.status!==200)continue;let ne="application/octet-stream";switch(se.headers.has("Content-Type")&&(ne=se.headers.get("Content-Type")),ne){case"application/octet-stream":{const le=await se.arrayBuffer(),ue=new NitroBundle(le);await this.processAsset(ue.baseTexture,ue.jsonFile);break}case"image/png":case"image/jpeg":case"image/gif":{const le=await se.arrayBuffer(),ue=ArrayBufferToBase64(le),ce=BaseTexture.from(`data:${ne};base64,${ue}`),he=async()=>{const de=new Texture$1(ce);this.setTexture(te,de)};ce.valid?await he():await new Promise((de,_e)=>{ce.once("update",async()=>(await he(),de()))});break}}}return Promise.resolve(!0)}catch(te){return NitroLogger.error(te),Promise.resolve(!1)}}async processAsset(ee,te){const se=te.spritesheet;if(!ee||!se||!Object.keys(se).length){this.createCollection(te,null);return}const ne=async()=>{const le=new Spritesheet$1(ee,se);await le.parse(),this.createCollection(te,le)};ee.valid?await ne():await new Promise((le,ue)=>{ee.once("update",async()=>(await ne(),le()))})}get collections(){return this._collections}};PL._INSTANCE=new PL;let AssetManager=PL;const GetAssetManager=()=>AssetManager._INSTANCE;class GraphicAssetGifCollection{constructor(ee,te,se){this.name=ee,this.textures=te,this.durations=se}}const wL=class wL{};wL.UNKNOWN=0,wL.BROWSER=1;let ClientDeviceCategoryEnum=wL;const pD=class pD{};pD.UNKNOWN=0,pD.FLASH=1,pD.HTML5=2;let ClientPlatformEnum=pD;const iN=class iN{};iN.CONNECTION_OPENED="open",iN.CONNECTION_CLOSED="close",iN.CONNECTION_ERROR="error",iN.CONNECTION_MESSAGE="message";let WebSocketEventEnum=iN;const _D=class _D{static parseConfiguration(ee,te=!1){if(!ee)return!1;try{const se=new RegExp(/\${(.*?)}/g);for(const ne in ee){let le=ee[ne];typeof le=="string"&&(le=this.interpolate(le,se)),this._definitions.has(ne)?te&&this.setValue(ne,le):this.setValue(ne,le)}return!0}catch(se){return NitroLogger.error(se.stack),!1}}static interpolate(ee,te=null){te||(te=new RegExp(/\${(.*?)}/g));const se=ee.match(te);if(se&&se.length)for(const ne of se){const le=this._definitions.get(this.removeInterpolateKey(ne));le&&(ee=ee.replace(ne,le))}return ee}static removeInterpolateKey(ee){return ee.replace("${","").replace("}","")}static getValue(ee,te=null){let se=this._definitions.get(ee);if(se===void 0){if(this._missingKeys.indexOf(ee)>=0)return te;this._missingKeys.push(ee),NitroLogger.warn(`Missing configuration key: ${ee}`),se=te}return se}static setValue(ee,te){const se=ee.split(".");let ne=this._config;for(let le=0;le<se.length;le++){const ue=se[le].toString();if(le!==se.length-1){ne[ue]||(ne[ue]={}),ne=ne[ue];continue}ne[ue]=te}this._definitions.set(ee,te)}static get definitions(){return this._definitions}};_D._definitions=new Map,_D._config={},_D._missingKeys=[];let NitroConfiguration=_D;const iR=class iR{static getExpressionTimeout(ee){switch(ee=parseInt(ee),ee){case 1:return 5e3;case 2:return 1400;case 3:return 2e3;case 4:return 2e3;case 5:return 0;case 6:return 700;case 7:return 2e3;case 8:return 1500;case 9:return 1500;case 10:return 1500;default:return 0}}static getExpressionId(ee){return iR.EXPRESSION_MAP.indexOf(ee)}static getExpression(ee){return ee>iR.EXPRESSION_MAP.length?null:iR.EXPRESSION_MAP[ee]}static getGestureId(ee){return iR.GESTURE_MAP.indexOf(ee)}static getGesture(ee){return ee>iR.GESTURE_MAP.length?null:iR.GESTURE_MAP[ee]}static idToAvatarActionState(ee){return ee==="Lay"?"lay":ee==="Float"?"float":ee==="Swim"?"swim":ee==="Sit"?"sit":ee==="Respect"?"respect":ee==="Wave"?"wave":ee==="Idle"?"idle":ee==="Dance"?"dance":ee==="UseItem"?"usei":ee==="CarryItem"?"cri":ee==="Talk"?"talk":ee==="Sleep"?"Sleep":ee==="Move"?"mv":"std"}};iR.CARRY_OBJECT="cri",iR.DANCE="dance",iR.EFFECT="fx",iR.EXPRESSION="expression",iR.EXPRESSION_BLOW_A_KISS="blow",iR.EXPRESSION_CRY="cry",iR.EXPRESSION_IDLE="idle",iR.EXPRESSION_LAUGH="laugh",iR.EXPRESSION_RESPECT="respect",iR.EXPRESSION_RIDE_JUMP="ridejump",iR.EXPRESSION_SNOWBOARD_OLLIE="sbollie",iR.EXPRESSION_SNOWBORD_360="sb360",iR.EXPRESSION_WAVE="wave",iR.GESTURE="gest",iR.GESTURE_AGGRAVATED="agr",iR.GESTURE_SAD="sad",iR.GESTURE_SMILE="sml",iR.GESTURE_SURPRISED="srp",iR.GUIDE_STATUS="guide",iR.MUTED="muted",iR.PET_GESTURE_BLINK="eyb",iR.PET_GESTURE_CRAZY="crz",iR.PET_GESTURE_JOY="joy",iR.PET_GESTURE_MISERABLE="mis",iR.PET_GESTURE_PUZZLED="puz",iR.PET_GESTURE_TONGUE="tng",iR.PLAYING_GAME="playing_game",iR.POSTURE="posture",iR.POSTURE_FLOAT="float",iR.POSTURE_LAY="lay",iR.POSTURE_SIT="sit",iR.POSTURE_STAND="std",iR.POSTURE_SWIM="swim",iR.POSTURE_WALK="mv",iR.SIGN="sign",iR.SLEEP="sleep",iR.SNOWWAR_DIE_BACK="swdieback",iR.SNOWWAR_DIE_FRONT="swdiefront",iR.SNOWWAR_PICK="swpick",iR.SNOWWAR_RUN="swrun",iR.SNOWWAR_THROW="swthrow",iR.TALK="talk",iR.BLINK="blink",iR.TYPING="typing",iR.USE_OBJECT="usei",iR.VOTE="vote",iR.GESTURE_MAP=["",iR.GESTURE_SMILE,iR.GESTURE_AGGRAVATED,iR.GESTURE_SURPRISED,iR.GESTURE_SAD,iR.PET_GESTURE_JOY,iR.PET_GESTURE_CRAZY,iR.PET_GESTURE_TONGUE,iR.PET_GESTURE_BLINK,iR.PET_GESTURE_MISERABLE,iR.PET_GESTURE_PUZZLED],iR.EXPRESSION_MAP=["",iR.EXPRESSION_WAVE,iR.EXPRESSION_BLOW_A_KISS,iR.EXPRESSION_LAUGH,iR.EXPRESSION_CRY,iR.EXPRESSION_IDLE,iR.DANCE,iR.EXPRESSION_RESPECT,iR.EXPRESSION_SNOWBOARD_OLLIE,iR.EXPRESSION_SNOWBORD_360,iR.EXPRESSION_RIDE_JUMP];let AvatarAction=iR;const nN=class nN{};nN.DIRECTION_TO_ANGLE=[45,90,135,180,225,270,315,0],nN.DIRECTION_IS_FLIPPED=[!1,!1,!1,!1,!0,!0,!0,!1],nN.MIN_DIRECTION=0,nN.MAX_DIRECTION=7;let AvatarDirectionAngle=nN;const eM=class eM{};eM.GENERIC="hd",eM.HEAD="head",eM.TORSO="torso",eM.LEGS="legs",eM.HOTLOOKS="hotlooks",eM.WARDROBE="wardrobe",eM.EFFECTS="effects";let AvatarEditorFigureCategory=eM;const aN=class aN{};aN.OWN_AVATAR_EDITOR=0,aN.FURNITURE_AVATAR_EDITOR=1,aN.BOT_EDITOR=2,aN.DEV_TOOL_EDITOR=3;let AvatarEditorInstanceId=aN;const LR=class LR{};LR.BODY="bd",LR.SHOES="sh",LR.LEGS="lg",LR.CHEST="ch",LR.WAIST_ACCESSORY="wa",LR.CHEST_ACCESSORY="ca",LR.HEAD="hd",LR.HAIR="hr",LR.FACE_ACCESSORY="fa",LR.EYE_ACCESSORY="ea",LR.HEAD_ACCESSORY="ha",LR.HEAD_ACCESSORY_EXTRA="he",LR.COAT_CHEST="cc",LR.CHEST_PRINT="cp",LR.LEFT_HAND_ITEM="li",LR.LEFT_HAND="lh",LR.LEFT_SLEEVE="ls",LR.RIGHT_HAND="rh",LR.RIGHT_SLEEVE="rs",LR.FACE="fc",LR.EYES="ey",LR.HAIR_BIG="hrb",LR.RIGHT_HAND_ITEM="ri",LR.LEFT_COAT_SLEEVE="lc",LR.RIGHT_COAT_SLEEVE="rc",LR.FIGURE_SETS=[LR.SHOES,LR.LEGS,LR.CHEST,LR.WAIST_ACCESSORY,LR.CHEST_ACCESSORY,LR.HEAD,LR.HAIR,LR.FACE_ACCESSORY,LR.EYE_ACCESSORY,LR.HEAD_ACCESSORY,LR.HEAD_ACCESSORY_EXTRA,LR.COAT_CHEST,LR.CHEST_PRINT];let AvatarFigurePartType=LR;const gD=class gD{};gD.NONE=0,gD.GUIDE=1,gD.REQUESTER=2;let AvatarGuideStatus=gD;const NL=class NL{};NL.LARGE="h",NL.SMALL="sh";let AvatarScaleType=NL;const mD=class mD{};mD.FULL="full",mD.HEAD="head",mD.BODY="body";let AvatarSetType=mD;const dP=class dP{};dP.VERTICAL="vertical",dP.SITTING="sitting",dP.HORIZONTAL="horizontal",dP.SWIM="swim",dP.SNOWWARS_HORIZONTAL="swhorizontal";let GeometryType=dP;const oN=class oN{};oN.TOOL="tool",oN.COMPONENT="component",oN.ONLINE_TOOL="online_tool",oN.LOCAL_ONLY="local_only";let RenderMode=oN;const kR=class kR{};kR.DOG=0,kR.CAT=1,kR.CROCODILE=2,kR.TERRIER=3,kR.BEAR=4,kR.PIG=5,kR.LION=6,kR.RHINO=7,kR.SPIDER=8,kR.TURTLE=9,kR.CHICKEN=10,kR.FROG=11,kR.DRAGON=12,kR.MONSTER=13,kR.MONKEY=14,kR.HORSE=15,kR.MONSTERPLANT=16,kR.BUNNY=17,kR.BUNNYEVIL=18,kR.BUNNYDEPRESSED=19,kR.BUNNYLOVE=20,kR.PIGEONGOOD=21,kR.PIGEONEVIL=22,kR.DEMONMONKEY=23,kR.BABYBEAR=24,kR.BABYTERRIER=25,kR.GNOME=26,kR.LEPRECHAUN=27,kR.KITTENBABY=28,kR.PUPPYBABY=29,kR.PIGLETNBABY=30,kR.HALOOMPA=31,kR.FOOLS=32,kR.PTEROSAUR=33,kR.VELOCIRAPTOR=34;let PetType=kR;const CM=class CM{};CM.NONE=0,CM.HEART=1,CM.SMILE=2,CM.BOBBA=3,CM.RELATIONSHIP_TYPES=[0,1,2,3],CM.RELATIONSHIP_NAMES=["None","Heart","Smile","Bobba"];let RelationshipStatusEnum=CM;const tM=class tM{};tM.HOTEL_VIEW="hotel_view",tM.HOME_ROOM="home_room",tM.NAVIGATOR="navigator",tM.CATALOG="catalog",tM.INVENTORY="inventory",tM.ME_MENU="me_menu",tM.FRIEND_LIST="friendlist";let ToolbarIconEnum=tM;const fP=class fP{};fP.LOVE_LOCK=0,fP.CARVE_A_TREE=1,fP.FRIENDS_PORTRAIT=2,fP.WILD_WEST_WANTED=3,fP.HABBOWEEN=4;let FriendFurniEngravingWidgetType=fP;const DL=class DL{};DL.CATALOG="catalog",DL.INVENTORY="inventory";let RoomObjectPlacementSource=DL;const FE=class FE{};FE.OBJECT_ROOM_ID="object_room_id",FE.OBJECT_ACCURATE_Z_VALUE="object_accurate_z_value",FE.TILE_CURSOR_HEIGHT="tile_cursor_height",FE.FIGURE="figure",FE.GENDER="gender",FE.OWN_USER="own_user",FE.FIGURE_CAN_STAND_UP="figure_can_stand_up",FE.FIGURE_VERTICAL_OFFSET="figure_vertical_offset",FE.FIGURE_TALK="figure_talk",FE.FIGURE_DANCE="figure_dance",FE.FIGURE_SLEEP="figure_sleep",FE.FIGURE_BLINK="figure_blink",FE.FIGURE_EFFECT="figure_effect",FE.FIGURE_CARRY_OBJECT="figure_carry_object",FE.FIGURE_USE_OBJECT="figure_use_object",FE.FIGURE_GESTURE="figure_gesture",FE.FIGURE_POSTURE="figure_posture",FE.FIGURE_POSTURE_PARAMETER="figure_posture_parameter",FE.FIGURE_HIGHLIGHT_ENABLE="figure_highlight_enable",FE.FIGURE_HIGHLIGHT="figure_highlight",FE.FURNITURE_PURCHASER_NAME="furniture_purchaser_name",FE.FURNITURE_PURCHASER_FIGURE="furniture_purchaser_figure",FE.STD="std",FE.FIGURE_SIGN="figure_sign",FE.FIGURE_FLAT_CONTROL="figure_flat_control",FE.FIGURE_IS_TYPING="figure_is_typing",FE.FIGURE_IS_MUTED="figure_is_muted",FE.FIGURE_GAINED_EXPERIENCE="figure_gained_experience",FE.FIGURE_EXPERIENCE_TIMESTAMP="figure_experience_timestamp",FE.FIGURE_NUMBER_VALUE="figure_number_value",FE.FIGURE_IS_PLAYING_GAME="figure_is_playing_game",FE.FIGURE_GUIDE_STATUS="figure_guide_status",FE.FIGURE_EXPRESSION="figure_expression",FE.HEAD_DIRECTION="head_direction",FE.FURNITURE_CUSTOM_VARIABLES="furniture_custom_variables",FE.FURNITURE_AUTOMATIC_STATE_INDEX="furniture_automatic_state_index",FE.FURNITURE_ALWAYS_STACKABLE="furniture_always_stackable",FE.FURNITURE_DISABLE_PICKING_ANIMATION="furniture_disable_picking_animation",FE.FURNITURE_DATA_FORMAT="furniture_data_format",FE.FURNITURE_UNIQUE_SERIAL_NUMBER="furniture_unique_serial_number",FE.FURNITURE_UNIQUE_EDITION_SIZE="furniture_unique_edition_size",FE.FURNITURE_CRACKABLE_STATE="furniture_crackable_state",FE.FURNITURE_CRACKABLE_HITS="furniture_crackable_hits",FE.FURNITURE_CRACKABLE_TARGET="furniture_crackable_target",FE.FURNITURE_CREDIT_VALUE="furniture_credit_value",FE.FURNITURE_DATA="furniture_data",FE.FURNITURE_ITEMDATA="furniture_itemdata",FE.FURNITURE_COLOR="furniture_color",FE.FURNITURE_LIFT_AMOUNT="furniure_lift_amount",FE.FURNITURE_GUILD_CUSTOMIZED_GUILD_ID="furniture_guild_customized_guild_id",FE.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME="furniture_guild_customized_asset_name",FE.FURNITURE_GUILD_CUSTOMIZED_COLOR_1="furniture_guild_customized_color_1",FE.FURNITURE_GUILD_CUSTOMIZED_COLOR_2="furniture_guild_customized_color_2",FE.FURNITURE_STATE_UPDATE_TIME="furniture_state_update_time",FE.FURNITURE_SELECTION_DISABLED="furniture_selection_disabled",FE.FURNITURE_SIZE_X="furniture_size_x",FE.FURNITURE_SIZE_Y="furniture_size_y",FE.FURNITURE_SIZE_Z="furniture_size_z",FE.FURNITURE_CENTER_X="furniture_center_x",FE.FURNITURE_CENTER_Y="furniture_center_y",FE.FURNITURE_CENTER_Z="furniture_center_z",FE.FURNITURE_ALLOWED_DIRECTIONS="furniture_allowed_directions",FE.FURNITURE_AD_URL="furniture_ad_url",FE.FURNITURE_TYPE_ID="furniture_type_id",FE.FURNITURE_EXTRAS="furniture_extras",FE.FURNITURE_EXPIRY_TIME="furniture_expiry_time",FE.FURNITURE_EXPIRTY_TIMESTAMP="furniture_expiry_timestamp",FE.FURNITURE_REAL_ROOM_OBJECT="furniture_real_room_object",FE.FURNITURE_IS_STICKIE="furniture_is_stickie",FE.FURNITURE_BRANDING_IMAGE_STATUS="furniture_branding_image_status",FE.FURNITURE_BRANDING_IMAGE_URL="furniture_branding_image_url",FE.FURNITURE_BRANDING_URL="furniture_branding_url",FE.FURNITURE_BRANDING_OFFSET_X="furniture_branding_offset_x",FE.FURNITURE_BRANDING_OFFSET_Y="furniture_branding_offset_y",FE.FURNITURE_BRANDING_OFFSET_Z="furniture_branding_offset_z",FE.FURNITURE_BRANDING_IS_ANIMATED="furniture_branding_is_animated",FE.FURNITURE_BADGE_IMAGE_STATUS="furniture_badge_image_status",FE.FURNITURE_BADGE_ASSET_NAME="furniture_badge_asset_name",FE.FURNITURE_BADGE_VISIBLE_IN_STATE="furniture_badge_visible_in_state",FE.FURNITURE_ALPHA_MULTIPLIER="furniture_alpha_multiplier",FE.FURNITURE_USAGE_POLICY="furniture_usage_policy",FE.FURNITURE_OWNER_ID="furniture_owner_id",FE.FURNITURE_OWNER_NAME="furniture_owner_name",FE.FURNITURE_ROOM_BACKGROUND_COLOR_HUE="furniture_room_background_color_hue",FE.FURNITURE_ROOM_BACKGROUND_COLOR_SATURATION="furniture_room_background_color_saturation",FE.FURNITURE_ROOM_BACKGROUND_COLOR_LIGHTNESS="furniture_room_background_color_lightness",FE.FURNITURE_USES_PLANE_MASK="furniture_uses_plane_mask",FE.FURNITURE_PLANE_MASK_TYPE="furniture_plane_mask_type",FE.FURNITURE_IS_VARIABLE_HEIGHT="furniture_is_variable_height",FE.FURNITURE_VOTE_MAJORITY_RESULT="furniture_vote_majority_result",FE.FURNITURE_VOTE_COUNTER_COUNT="furniture_vote_counter_count",FE.FURNITURE_SOUNDBLOCK_RELATIVE_ANIMATION_SPEED="furniture_soundblock_relative_animation_speed",FE.FURNITURE_MANNEQUIN_NAME="furniture_mannequin_name",FE.FURNITURE_MANNEQUIN_GENDER="furniture_mannequin_gender",FE.FURNITURE_MANNEQUIN_FIGURE="furniture_mannequin_figure",FE.FURNITURE_HIGHSCORE_SCORE_TYPE="furniture_highscore_score_type",FE.FURNITURE_HIGHSCORE_CLEAR_TYPE="furniture_highscore_clear_type",FE.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT="furniture_highscore_data_entry_count",FE.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_="furniture_highscore_data_entry_base_users_",FE.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_="furniture_highscore_data_entry_base_score_",FE.FURNITURE_INTERNAL_LINK="furniture_internal_link",FE.FURNITURE_CLOTHING_BOY="furniture_clothing_boy",FE.FURNITURE_CLOTHING_GIRL="furniture_clothing_girl",FE.FURNITURE_PLANETSYSTEM_DATA="furniture_planetsystem_data",FE.FURNITURE_FIREWORKS_DATA="furniture_fireworks_data",FE.PET_PALETTE_INDEX="pet_palette_index",FE.PET_COLOR="pet_color",FE.PET_HEAD_ONLY="pet_head_only",FE.PET_CUSTOM_LAYER_IDS="pet_custom_layer_ids",FE.PET_CUSTOM_PARTS_IDS="pet_custom_part_ids",FE.PET_CUSTOM_PALETTE_IDS="pet_custom_palette_ids",FE.PET_IS_RIDING="pet_is_riding",FE.PET_TYPE="pet_type",FE.PET_ALLOWED_DIRECTIONS="pet_allowed_directions",FE.RACE="race",FE.ROOM_MAP_DATA="room_map_data",FE.ROOM_PLANE_MASK_XML="room_plane_mask_xml",FE.ROOM_FLOOR_TYPE="room_floor_type",FE.ROOM_WALL_TYPE="room_wall_type",FE.ROOM_LANDSCAPE_TYPE="room_landscape_type",FE.ROOM_WALL_THICKNESS="room_wall_thickness",FE.ROOM_FLOOR_THICKNESS="room_floor_thickness",FE.ROOM_FLOOR_HOLE_UPDATE_TIME="room_floor_hole_update_time",FE.ROOM_FLOOR_VISIBILITY="room_floor_visibility",FE.ROOM_WALL_VISIBILITY="room_wall_visibility",FE.ROOM_LANDSCAPE_VISIBILITY="room_landscape_visibility",FE.ROOM_DOOR_X="room_door_x",FE.ROOM_DOOR_Y="room_door_y",FE.ROOM_DOOR_Z="room_door_z",FE.ROOM_DOOR_DIR="room_door_dir",FE.ROOM_BACKGROUND_COLOR="room_background_color",FE.ROOM_COLORIZE_BG_ONLY="room_colorize_bg_only",FE.ROOM_RANDOM_SEED="room_random_seed",FE.ROOM_WORLD_TYPE="room_world_type",FE.ROOM_SELECTED_X="room_selected_x",FE.ROOM_SELECTED_Y="room_selected_y",FE.ROOM_SELECTED_Z="room_selected_z",FE.ROOM_SELECTED_PLANE="room_selected_plane",FE.IMAGE_QUERY_SCALE="image_query_scale",FE.FURNITURE_FRIENDFURNI_ENGRAVING="furniture_friendfurni_engraving_type",FE.SESSION_URL_PREFIX="session_url_prefix",FE.SESSION_CURRENT_USER_ID="session_current_user_id";let RoomObjectVariable=FE;const _F=class _F{};_F.UNIQUE_SET=256;let ObjectDataFlags=_F;class ObjectDataBase{constructor(){this._flags=0,this._uniqueNumber=0,this._uniqueSeries=0}parseWrapper(ee){(this._flags&ObjectDataFlags.UNIQUE_SET)>0&&(this._uniqueNumber=ee.readInt(),this._uniqueSeries=ee.readInt())}initializeFromRoomObjectModel(ee){this._uniqueNumber=ee.getValue(RoomObjectVariable.FURNITURE_UNIQUE_SERIAL_NUMBER),this._uniqueSeries=ee.getValue(RoomObjectVariable.FURNITURE_UNIQUE_EDITION_SIZE)}writeRoomObjectModel(ee){ee&&(ee.setValue(RoomObjectVariable.FURNITURE_UNIQUE_SERIAL_NUMBER,this._uniqueNumber),ee.setValue(RoomObjectVariable.FURNITURE_UNIQUE_EDITION_SIZE,this._uniqueSeries))}getLegacyString(){return""}compare(ee){return!1}get state(){const ee=parseInt(this.getLegacyString());return isNaN(ee)?0:ee}get isUnique(){return this._uniqueSeries>0}get uniqueNumber(){return this._uniqueNumber}set uniqueNumber(ee){this._uniqueNumber=ee}get uniqueSeries(){return this._uniqueSeries}set uniqueSeries(ee){this._uniqueSeries=ee}get rarityLevel(){return-1}get flags(){return this._flags}set flags(ee){this._flags=ee}}const HO=class HO{};HO.LEGACY_KEY=0,HO.MAP_KEY=1,HO.STRING_KEY=2,HO.VOTE_KEY=3,HO.EMPTY_KEY=4,HO.NUMBER_KEY=5,HO.HIGHSCORE_KEY=6,HO.CRACKABLE_KEY=7;let ObjectDataKey=HO;const LL=class LL extends ObjectDataBase{constructor(){super(),this._state="",this._hits=0,this._target=0}parseWrapper(ee){ee&&(this._state=ee.readString(),this._hits=ee.readInt(),this._target=ee.readInt(),super.parseWrapper(ee))}initializeFromRoomObjectModel(ee){super.initializeFromRoomObjectModel(ee),this._state=ee.getValue(RoomObjectVariable.FURNITURE_CRACKABLE_STATE),this._hits=ee.getValue(RoomObjectVariable.FURNITURE_CRACKABLE_HITS),this._target=ee.getValue(RoomObjectVariable.FURNITURE_CRACKABLE_TARGET)}writeRoomObjectModel(ee){super.writeRoomObjectModel(ee),ee.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,LL.FORMAT_KEY),ee.setValue(RoomObjectVariable.FURNITURE_CRACKABLE_STATE,this._state),ee.setValue(RoomObjectVariable.FURNITURE_CRACKABLE_HITS,this._hits),ee.setValue(RoomObjectVariable.FURNITURE_CRACKABLE_TARGET,this._target)}getLegacyString(){return this._state}compare(ee){return!0}get hits(){return this._hits}get target(){return this._target}};LL.FORMAT_KEY=ObjectDataKey.CRACKABLE_KEY;let CrackableDataType=LL;const UL=class UL extends ObjectDataBase{parseWrapper(ee){ee&&(this._state="",super.parseWrapper(ee))}writeRoomObjectModel(ee){super.writeRoomObjectModel(ee),ee.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,UL.FORMAT_KEY)}getLegacyString(){return this._state}compare(ee){return super.compare(ee)}};UL.FORMAT_KEY=ObjectDataKey.EMPTY_KEY;let EmptyDataType=UL;class HighScoreData{constructor(){this._score=-1,this._users=[]}get score(){return this._score}set score(ee){this._score=ee}get users(){return this._users}set users(ee){this._users=ee}addUsername(ee){this._users.push(ee)}}const FL=class FL extends ObjectDataBase{constructor(){super(),this._state="",this._scoreType=-1,this._clearType=-1,this._entries=[]}parseWrapper(ee){if(!ee)return;this._state=ee.readString(),this._scoreType=ee.readInt(),this._clearType=ee.readInt();let te=ee.readInt();for(;te>0;){const se=new HighScoreData;se.score=ee.readInt();let ne=ee.readInt();for(;ne>0;)se.addUsername(ee.readString()),ne--;this._entries.push(se),te--}super.parseWrapper(ee)}initializeFromRoomObjectModel(ee){this._scoreType=ee.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_SCORE_TYPE),this._clearType=ee.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_CLEAR_TYPE),this._entries=[];const te=ee.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT);let se=0;for(;se<te;){const ne=new HighScoreData;ne.score=ee.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_+se),ne.users=ee.getValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_+se),this._entries.push(ne),se++}super.initializeFromRoomObjectModel(ee)}writeRoomObjectModel(ee){if(super.writeRoomObjectModel(ee),ee.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,FL.FORMAT_KEY),ee.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_SCORE_TYPE,this._scoreType),ee.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_CLEAR_TYPE,this._clearType),this._entries){ee.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_COUNT,this._entries.length);let te=0;for(;te<this._entries.length;){const se=this._entries[te];ee.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_SCORE_+te,se.score),ee.setValue(RoomObjectVariable.FURNITURE_HIGHSCORE_DATA_ENTRY_BASE_USERS_+te,se.users),te++}}}getLegacyString(){return this._state}get entries(){return this._entries}get clearType(){return this._clearType}get scoreType(){return this._scoreType}};FL.FORMAT_KEY=ObjectDataKey.HIGHSCORE_KEY;let HighScoreDataType=FL;const BL=class BL extends ObjectDataBase{constructor(){super(),this._data=""}parseWrapper(ee){ee&&(this._data=ee.readString(),super.parseWrapper(ee))}initializeFromRoomObjectModel(ee){super.initializeFromRoomObjectModel(ee),this._data=ee.getValue(RoomObjectVariable.FURNITURE_DATA)}writeRoomObjectModel(ee){super.writeRoomObjectModel(ee),ee.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,BL.FORMAT_KEY),ee.setValue(RoomObjectVariable.FURNITURE_DATA,this._data)}getLegacyString(){return this._data}compare(ee){return this._data===ee.getLegacyString()}setString(ee){this._data=ee}};BL.FORMAT_KEY=ObjectDataKey.LEGACY_KEY;let LegacyDataType=BL;const MM=class MM extends ObjectDataBase{constructor(){super(),this._data={}}parseWrapper(ee){if(!ee)return;this._data={};const te=ee.readInt();if(te)for(let se=0;se<te;se++)this._data[ee.readString()]=ee.readString();super.parseWrapper(ee)}initializeFromRoomObjectModel(ee){super.initializeFromRoomObjectModel(ee),this._data=ee.getValue(RoomObjectVariable.FURNITURE_DATA)||{}}writeRoomObjectModel(ee){super.writeRoomObjectModel(ee),ee.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,MM.FORMAT_KEY),ee.setValue(RoomObjectVariable.FURNITURE_DATA,this._data)}getLegacyString(){if(!this._data)return"";const ee=this._data[MM.STATE];return ee??""}compare(ee){return!1}getValue(ee){return this._data[ee]}get rarityLevel(){if(!this._data)return-1;const ee=this._data[MM.RARITY];return ee==null?-1:parseInt(ee)}get data(){return this._data}};MM.FORMAT_KEY=ObjectDataKey.MAP_KEY,MM.STATE="state",MM.RARITY="rarity";let MapDataType=MM;const pP=class pP extends ObjectDataBase{constructor(){super(),this._data=[]}parseWrapper(ee){if(!ee)return;this._data=[];const te=ee.readInt();if(te)for(let se=0;se<te;se++)this._data.push(ee.readInt());super.parseWrapper(ee)}initializeFromRoomObjectModel(ee){super.initializeFromRoomObjectModel(ee),this._data=ee.getValue(RoomObjectVariable.FURNITURE_DATA)}writeRoomObjectModel(ee){super.writeRoomObjectModel(ee),ee.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,pP.FORMAT_KEY),ee.setValue(RoomObjectVariable.FURNITURE_DATA,this._data)}getLegacyString(){return!this._data||!this._data.length?"":this._data[pP.STATE].toString()}compare(ee){if(!(ee instanceof pP))return!1;let te=0;for(;te<this._data.length;){if(te!==0){if(this._data[te]!==ee.getValue(te))return!1}te++}return!0}getValue(ee){if(!this._data||!this._data.length)return-1;const te=this._data[ee];return te??-1}};pP.FORMAT_KEY=ObjectDataKey.NUMBER_KEY,pP.STATE=0;let NumberDataType=pP;const _P=class _P extends ObjectDataBase{constructor(){super(),this._data=[]}parseWrapper(ee){if(!ee)return;this._data=[];const te=ee.readInt();if(te)for(let se=0;se<te;se++)this._data.push(ee.readString());super.parseWrapper(ee)}initializeFromRoomObjectModel(ee){super.initializeFromRoomObjectModel(ee),this._data=ee.getValue(RoomObjectVariable.FURNITURE_DATA)}writeRoomObjectModel(ee){super.writeRoomObjectModel(ee),ee.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,_P.FORMAT_KEY),ee.setValue(RoomObjectVariable.FURNITURE_DATA,this._data)}getLegacyString(){return!this._data||!this._data.length?"":this._data[_P.STATE]}compare(ee){if(!(ee instanceof _P))return!1;let te=0;for(;te<this._data.length;){if(te!==0){if(this._data[te]!==ee.getValue(te))return!1}te++}return!0}getValue(ee){return this._data[ee]||""}setValue(ee){this._data=ee}};_P.FORMAT_KEY=ObjectDataKey.STRING_KEY,_P.STATE=0;let StringDataType=_P;const jL=class jL extends ObjectDataBase{constructor(){super(),this._state="",this._result=0}parseWrapper(ee){ee&&(this._state=ee.readString(),this._result=ee.readInt(),super.parseWrapper(ee))}writeRoomObjectModel(ee){super.writeRoomObjectModel(ee),ee.setValue(RoomObjectVariable.FURNITURE_DATA_FORMAT,jL.FORMAT_KEY);const te={};te.S=this._state,te.R=this._result.toString(),ee.setValue(RoomObjectVariable.FURNITURE_DATA,te)}getLegacyString(){return this._state}compare(ee){return!0}setString(ee){this._state=ee}get result(){return this._result}};jL.FORMAT_KEY=ObjectDataKey.VOTE_KEY;let VoteDataType=jL;class ObjectDataFactory{static getData(ee){let te=null;switch(ee&255){case CrackableDataType.FORMAT_KEY:te=new CrackableDataType;break;case EmptyDataType.FORMAT_KEY:te=new EmptyDataType;break;case HighScoreDataType.FORMAT_KEY:te=new HighScoreDataType;break;case LegacyDataType.FORMAT_KEY:te=new LegacyDataType;break;case MapDataType.FORMAT_KEY:te=new MapDataType;break;case NumberDataType.FORMAT_KEY:te=new NumberDataType;break;case StringDataType.FORMAT_KEY:te=new StringDataType;break;case VoteDataType.FORMAT_KEY:te=new VoteDataType;break}return te?(te.flags=ee&65280,te):null}}const PM=class PM{};PM.MINIMUM=-2,PM.ROOM=0,PM.FLOOR=10,PM.WALL=20,PM.UNIT=100,PM.CURSOR=200;let RoomObjectCategory=PM;const aR=class aR{};aR.FURNITURE_BASIC="furniture_basic",aR.FURNITURE_MULTISTATE="furniture_multistate",aR.FURNITURE_MULTIHEIGHT="furniture_multiheight",aR.FURNITURE_RANDOMSTATE="furniture_randomstate",aR.FURNITURE_PLACEHOLDER="furniture_placeholder",aR.FURNITURE_CREDIT="furniture_credit",aR.FURNITURE_STICKIE="furniture_stickie",aR.FURNITURE_PRESENT="furniture_present",aR.FURNITURE_TROPHY="furniture_trophy",aR.FURNITURE_ECOTRON_BOX="furniture_ecotron_box",aR.FURNITURE_DICE="furniture_dice",aR.FURNITURE_HOCKEY_SCORE="furniture_hockey_score",aR.FURNITURE_HABBOWHEEL="furniture_habbowheel",aR.FURNITURE_ONE_WAY_DOOR="furniture_one_way_door",aR.FURNITURE_PLANET_SYSTEM="furniture_planet_system",aR.FURNITURE_WINDOW="furniture_window",aR.FURNITURE_EXTERNAL_IMAGE_WALLITEM="furniture_external_image_wallitem",aR.FURNITURE_ROOMDIMMER="furniture_roomdimmer",aR.FURNITURE_SOUND_MACHINE="furniture_sound_machine",aR.FURNITURE_JUKEBOX="furniture_jukebox",aR.FURNITURE_CRACKABLE="furniture_crackable",aR.FURNITURE_PUSHABLE="furniture_pushable",aR.FURNITURE_CLOTHING_CHANGE="furniture_clothing_change",aR.FURNITURE_COUNTER_CLOCK="furniture_counter_clock",aR.FURNITURE_SCORE="furniture_score",aR.FURNITURE_ES="furniture_es",aR.FURNITURE_FIREWORKS="furniture_fireworks",aR.FURNITURE_SONG_DISK="furniture_song_disk",aR.FURNITURE_BB="furniture_bb",aR.FURNITURE_BG="furniture_bg",aR.FURNITURE_WELCOME_GIFT="furniture_welcome_gift",aR.FURNITURE_FLOOR_HOLE="furniture_floor_hole",aR.FURNITURE_MANNEQUIN="furniture_mannequin",aR.FURNITURE_GUILD_CUSTOMIZED="furniture_guild_customized",aR.FURNITURE_GROUP_FORUM_TERMINAL="furniture_group_forum_terminal",aR.FURNITURE_PET_CUSTOMIZATION="furniture_pet_customization",aR.FURNITURE_CUCKOO_CLOCK="furniture_cuckoo_clock",aR.FURNITURE_VOTE_COUNTER="furniture_vote_counter",aR.FURNITURE_VOTE_MAJORITY="furniture_vote_majority",aR.FURNITURE_SOUNDBLOCK="furniture_soundblock",aR.FURNITURE_RANDOM_TELEPORT="furniture_random_teleport",aR.FURNITURE_MONSTERPLANT_SEED="furniture_monsterplant_seed",aR.FURNITURE_PURCHASABLE_CLOTHING="furniture_purchasable_clothing",aR.FURNITURE_BACKGROUND_COLOR="furniture_background_color",aR.FURNITURE_MYSTERYBOX="furniture_mysterybox",aR.FURNITURE_EFFECTBOX="furniture_effectbox",aR.FURNITURE_MYSTERYTROPHY="furniture_mysterytrophy",aR.FURNITURE_ACHIEVEMENT_RESOLUTION="furniture_achievement_resolution",aR.FURNITURE_LOVELOCK="furniture_lovelock",aR.FURNITURE_WILDWEST_WANTED="furniture_wildwest_wanted",aR.FURNITURE_HWEEN_LOVELOCK="furniture_hween_lovelock",aR.FURNITURE_BADGE_DISPLAY="furniture_badge_display",aR.FURNITURE_HIGH_SCORE="furniture_high_score",aR.FURNITURE_INTERNAL_LINK="furniture_internal_link",aR.FURNITURE_CUSTOM_STACK_HEIGHT="furniture_custom_stack_height",aR.FURNITURE_YOUTUBE="furniture_youtube",aR.FURNITURE_RENTABLE_SPACE="furniture_rentable_space",aR.FURNITURE_CHANGE_STATE_WHEN_STEP_ON="furniture_change_state_when_step_on",aR.FURNITURE_VIMEO="furniture_vimeo",aR.FURNITURE_EDITABLE_INTERNAL_LINK="furniture_editable_internal_link",aR.FURNITURE_EDITABLE_ROOM_LINK="furniture_editable_room_link",aR.FURNITURE_CRAFTING_GIZMO="furniture_crafting_gizmo",aR.ROOM="room",aR.USER="user",aR.BOT="bot",aR.RENTABLE_BOT="rentable_bot",aR.PET="pet",aR.TILE_CURSOR="tile_cursor",aR.SELECTION_ARROW="selection_arrow",aR.GAME_SNOWBALL="game_snowball",aR.GAME_SNOWSPLASH="game_snowsplash";let RoomObjectLogicType=aR;const nI=class nI{};nI.OBJECT_UNDEFINED="OBJECT_UNDEFINED",nI.OBJECT_MOVE="OBJECT_MOVE",nI.OBJECT_PLACE="OBJECT_PLACE",nI.OBJECT_ROTATE_POSITIVE="OBJECT_ROTATE_POSITIVE",nI.OBJECT_ROTATE_NEGATIVE="OBJECT_ROTATE_NEGATIVE",nI.OBJECT_MOVE_TO="OBJECT_MOVE_TO",nI.OBJECT_PLACE_TO="OBJECT_PLACE_TO",nI.OBJECT_PICKUP="OBJECT_PICKUP",nI.OBJECT_PICKUP_BOT="OBJECT_PICKUP_BOT",nI.OBJECT_PICKUP_PET="OBJECT_PICKUP_PET",nI.OBJECT_EJECT="OBJECT_EJECT",nI.OBJECT_SAVE_STUFF_DATA="OBJECT_SAVE_STUFF_DATA";let RoomObjectOperationType=nI;const lN=class lN{};lN.USER=1,lN.PET=2,lN.BOT=3,lN.RENTABLE_BOT=4;let RoomObjectType=lN;const aI=class aI{static getTypeNumber(ee){return aI.AVATAR_TYPES[ee]}static getTypeString(ee){for(const te in aI.AVATAR_TYPES)if(te&&aI.AVATAR_TYPES[te]===ee)return te;return null}static getRealType(ee){switch(ee){case aI.BOT:case aI.RENTABLE_BOT:return aI.USER;default:return ee}}};aI.USER="user",aI.PET="pet",aI.BOT="bot",aI.RENTABLE_BOT="rentable_bot",aI.MONSTER_PLANT="monsterplant",aI.AVATAR_TYPES={user:1,pet:2,bot:3,rentable_bot:4};let RoomObjectUserType=aI;const FR=class FR{};FR.FURNITURE_STATIC="furniture_static",FR.FURNITURE_ANIMATED="furniture_animated",FR.FURNITURE_RESETTING_ANIMATED="furniture_resetting_animated",FR.FURNITURE_POSTER="furniture_poster",FR.FURNITURE_EXTERNAL_IMAGE="furniture_external_image",FR.FURNITURE_HABBOWHEEL="furniture_habbowheel",FR.FURNITURE_VAL_RANDOMIZER="furniture_val_randomizer",FR.FURNITURE_BOTTLE="furniture_bottle",FR.FURNITURE_PLANET_SYSTEM="furniture_planet_system",FR.FURNITURE_QUEUE_TILE="furniture_queue_tile",FR.FURNITURE_PARTY_BEAMER="furniture_party_beamer",FR.FURNITURE_CUBOID="furniture_cuboid",FR.FURNITURE_GIFT_WRAPPED="furniture_gift_wrapped",FR.FURNITURE_GIFT_WRAPPED_FIREWORKS="furniture_gift_wrapped_fireworks",FR.FURNITURE_COUNTER_CLOCK="furniture_counter_clock",FR.FURNITURE_WATER_AREA="furniture_water_area",FR.FURNITURE_SCORE_BOARD="furniture_score_board",FR.FURNITURE_FIREWORKS="furniture_fireworks",FR.FURNITURE_BB="furniture_bb",FR.FURNITURE_ISOMETRIC_BB="furniture_isometric_bb",FR.FURNITURE_BG="furniture_bg",FR.FURNITURE_STICKIE="furniture_stickie",FR.FURNITURE_MANNEQUIN="furniture_mannequin",FR.FURNITURE_GUILD_CUSTOMIZED="furniture_guild_customized",FR.FURNITURE_GUILD_ISOMETRIC_BADGE="furniture_guild_isometric_badge",FR.FURNITURE_VOTE_COUNTER="furniture_vote_counter",FR.FURNITURE_VOTE_MAJORITY="furniture_vote_majority",FR.FURNITURE_SOUNDBLOCK="furniture_soundblock",FR.FURNITURE_BADGE_DISPLAY="furniture_badge_display",FR.FURNITURE_YOUTUBE="furniture_youtube",FR.FURNITURE_BUILDER_PLACEHOLDER="furniture_builder_placeholder",FR.ROOM="room",FR.USER="user",FR.PET_ANIMATED="pet_animated",FR.BOT="bot",FR.RENTABLE_BOT="rentable_bot",FR.TILE_CURSOR="tile_cursor";let RoomObjectVisualizationType=FR;const GL=class GL{constructor(ee,te,se,ne=null){this._id=ee,this._location=te,this._targetLocation=se,this._movementType=ne}get id(){return this._id}get location(){return this._location}get targetLocation(){return this._targetLocation}get movementType(){return this._movementType}};GL.MOVE="mv",GL.SLIDE="sld";let ObjectRolling=GL;const kL=class kL{};kL.KICKED_OUT_OF_ROOM=4008,kL.STRIP_LOCKED_FOR_TRADING=-13001;let GenericErrorEnum=kL;const ED=class ED{};ED.OLD_IDENTITY=0,ED.NEW_IDENTITY=1,ED.REAL_NOOB=2;let NoobnessLevelEnum=ED;const wM=class wM{};wM.NONE=0,wM.GUEST=1,wM.GUILD_MEMBER=2,wM.GUILD_ADMIN=3,wM.ROOM_OWNER=4,wM.MODERATOR=5;let RoomControllerLevel=wM;const NM=class NM{static getLocalizationKey(ee){switch(ee){case NM.FREE_TRADING:return"${trading.mode.free}";case NM.ROOM_CONTROLLER_REQUIRED:return"${trading.mode.controller}";case NM.NO_TRADING:return"${trading.mode.not.allowed}"}return""}};NM.NO_TRADING=0,NM.ROOM_CONTROLLER_REQUIRED=1,NM.FREE_TRADING=2;let RoomTradingLevelEnum=NM;const JI=class JI{};JI.SUPER_USER=9,JI.ADMINISTRATOR=8,JI.COMMUNITY=7,JI.PLAYER_SUPPORT=6,JI.MODERATOR=5,JI.EMPLOYEE=4,JI.BUS_PARTNER=3,JI.PARTNER=2,JI.CELEBRITY=1,JI.NONE=0;let SecurityLevel=JI;var FurnitureType=(ie=>(ie.FLOOR="S",ie.WALL="I",ie.EFFECT="E",ie.BADGE="B",ie.ROBOT="R",ie.HABBO_CLUB="H",ie.PET="P",ie))(FurnitureType||{});const vD=class vD{};vD.MATCH_ALL_PIXELS=-1,vD.MATCH_OPAQUE_PIXELS=128,vD.MATCH_NOTHING=256;let AlphaTolerance=vD;const uN=class uN{};uN.DEFAULT=1,uN.ROOM_PLANE=2,uN.AVATAR=3,uN.AVATAR_OWN=4;let RoomObjectSpriteType=uN;class RoomObjectSpriteData{}class Vector3d{constructor(ee=0,te=0,se=0){this._x=ee,this._y=te,this._z=se,this._length=NaN}static sum(ee,te){return!ee||!te?null:new Vector3d(ee.x+te.x,ee.y+te.y,ee.z+te.z)}static dif(ee,te){return!ee||!te?null:new Vector3d(ee.x-te.x,ee.y-te.y,ee.z-te.z)}static product(ee,te){return ee?new Vector3d(ee.x*te,ee.y*te,ee.z*te):null}static dotProduct(ee,te){return!ee||!te?0:ee.x*te.x+ee.y*te.y+ee.z*te.z}static crossProduct(ee,te){return!ee||!te?null:new Vector3d(ee.y*te.z-ee.z*te.y,ee.z*te.x-ee.x*te.z,ee.x*te.y-ee.y*te.x)}static scalarProjection(ee,te){if(!ee||!te)return-1;const se=te.length;return se>0?(ee.x*te.x+ee.y*te.y+ee.z*te.z)/se:-1}static cosAngle(ee,te){if(!ee||!te)return 0;const se=ee.length*te.length;return se?Vector3d.dotProduct(ee,te)/se:0}static isEqual(ee,te){return!(!ee||!te||ee.x!==te.x||ee.y!==te.y||ee.z!==te.z)}negate(){this._x=-this._x,this._y=-this._y,this._z=-this._z}add(ee){ee&&(this._x+=ee.x,this._y+=ee.y,this._z+=ee.z,this._length=NaN)}subtract(ee){ee&&(this._x-=ee.x,this._y-=ee.y,this._z-=ee.z,this._length=NaN)}multiply(ee){this._x*=ee,this._y*=ee,this._z*=ee,this._length=NaN}divide(ee){ee&&(this._x/=ee,this._y/=ee,this._z/=ee,this._length=NaN)}assign(ee){ee&&(this._x=ee.x,this._y=ee.y,this._z=ee.z,this._length=NaN)}get x(){return this._x}set x(ee){this._x=ee,this._length=NaN}get y(){return this._y}set y(ee){this._y=ee,this._length=NaN}get z(){return this._z}set z(ee){this._z=ee,this._length=NaN}get length(){return isNaN(this._length)&&(this._length=Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z)),this._length}toString(){return`[Vector3d: ${this._x}, ${this._y}, ${this._z}]`}}const yO=class yO{};yO.MOUSE_CLICK="click",yO.DOUBLE_CLICK="double_click",yO.MOUSE_MOVE="mousemove",yO.MOUSE_DOWN="mousedown",yO.MOUSE_DOWN_LONG="mousedown_long",yO.MOUSE_UP="mouseup",yO.ROLL_OVER="mouseover",yO.ROLL_OUT="mouseout",yO.RIGHT_CLICK="contextmenu";let MouseEventType=yO;const gP=class gP{};gP.TOUCH_START="touchstart",gP.TOUCH_MOVE="touchmove",gP.TOUCH_CANCEL="touchcancel",gP.TOUCH_END="touchend",gP.TOUCH_LONG="touchlong";let TouchEventType=gP;const ST=class ST{constructor(ee){this._ordinal=ee}get ordinal(){return this._ordinal}equals(ee){return ee&&ee._ordinal==this._ordinal}};ST.NONE=new ST(0),ST.WAVE=new ST(1),ST.BLOW=new ST(2),ST.LAUGH=new ST(3),ST.CRY=new ST(4),ST.IDLE=new ST(5),ST.JUMP=new ST(6),ST.RESPECT=new ST(7);let AvatarExpressionEnum=ST;const RO=class RO{};RO.DUMMY="DUMMY",RO.FRIEND_FURNITURE="FRIEND_FURNITURE",RO.MONSTERPLANT_SEED="MONSTERPLANT_SEED",RO.MYSTERY_BOX="MYSTERY_BOX",RO.EFFECT_BOX="EFFECT_BOX",RO.MYSTERY_TROPHY="MYSTERY_TROPHY",RO.RANDOM_TELEPORT="RANDOM_TELEPORT",RO.PURCHASABLE_CLOTHING="PURCHASABLE_CLOTHING",RO.GENERIC_USABLE="GENERIC_USABLE";let ContextMenuEnum=RO;const mP=class mP{};mP.LOVE_LOCK=0,mP.CARVE_A_TREE=1,mP.FRIENDS_PORTRAIT=2,mP.WILD_WEST_WANTED=3,mP.HABBOWEEN=4;let FriendWidgetEngravingWidgetTypeEnum=mP;const fR=class fR{};fR.CHAT_WIDGET="RWE_CHAT_WIDGET",fR.INFOSTAND="RWE_INFOSTAND",fR.ME_MENU="RWE_ME_MENU",fR.CHAT_INPUT_WIDGET="RWE_CHAT_INPUT_WIDGET",fR.FURNI_PLACEHOLDER="RWE_FURNI_PLACEHOLDER",fR.FURNI_CREDIT_WIDGET="RWE_FURNI_CREDIT_WIDGET",fR.FURNI_STICKIE_WIDGET="RWE_FURNI_STICKIE_WIDGET",fR.FURNI_TROPHY_WIDGET="RWE_FURNI_TROPHY_WIDGET",fR.FURNI_LOVELOCK_WIDGET="RWE_FURNI_LOVELOCK_WIDGET",fR.FURNI_PRESENT_WIDGET="RWE_FURNI_PRESENT_WIDGET",fR.FURNI_ECOTRONBOX_WIDGET="RWE_FURNI_ECOTRONBOX_WIDGET",fR.FURNI_PET_PACKAGE_WIDGET="RWE_FURNI_PET_PACKAGE_WIDGET",fR.PLAYLIST_EDITOR_WIDGET="RWE_PLAYLIST_EDITOR_WIDGET",fR.DOORBELL="RWE_DOORBELL",fR.LOADINGBAR="RWE_LOADINGBAR",fR.ROOM_QUEUE="RWE_ROOM_QUEUE",fR.ROOM_POLL="RWE_ROOM_POLL",fR.ROOM_VOTE="RWE_ROOM_VOTE",fR.USER_CHOOSER="RWE_USER_CHOOSER",fR.FURNI_CHOOSER="RWE_FURNI_CHOOSER",fR.ROOM_DIMMER="RWE_ROOM_DIMMER",fR.FRIEND_REQUEST="RWE_FRIEND_REQUEST",fR.CLOTHING_CHANGE="RWE_CLOTHING_CHANGE",fR.CONVERSION_TRACKING="RWE_CONVERSION_TRACKING",fR.USER_NOTIFICATION="RWE_USER_NOTIFICATION",fR.FRIENDS_BAR="RWE_FRIENDS_BAR",fR.PURSE_WIDGET="RWE_PURSE_WIDGET",fR.AVATAR_INFO="RWE_AVATAR_INFO",fR.WELCOME_GIFT="RWE_WELCOME_GIFT",fR.SPAMWALL_POSTIT_WIDGET="RWE_SPAMWALL_POSTIT_WIDGET",fR.EFFECTS="RWE_EFFECTS",fR.MANNEQUIN="RWE_MANNEQUIN",fR.FURNITURE_CONTEXT_MENU="RWE_FURNITURE_CONTEXT_MENU",fR.LOCATION_WIDGET="RWE_LOCATION_WIDGET",fR.CAMERA="RWE_CAMERA",fR.ROOM_THUMBNAIL_CAMERA="RWE_ROOM_THUMBNAIL_CAMERA",fR.ROOM_BACKGROUND_COLOR="RWE_ROOM_BACKGROUND_COLOR",fR.CUSTOM_USER_NOTIFICATION="RWE_CUSTOM_USER_NOTIFICATION",fR.FURNI_ACHIEVEMENT_RESOLUTION_ENGRAVING="RWE_FURNI_ACHIEVEMENT_RESOLUTION_ENGRAVING",fR.FRIEND_FURNI_CONFIRM="RWE_FRIEND_FURNI_CONFIRM",fR.FRIEND_FURNI_ENGRAVING="RWE_FRIEND_FURNI_ENGRAVING",fR.HIGH_SCORE_DISPLAY="RWE_HIGH_SCORE_DISPLAY",fR.INTERNAL_LINK="RWE_INTERNAL_LINK",fR.CUSTOM_STACK_HEIGHT="RWE_CUSTOM_STACK_HEIGHT",fR.YOUTUBE="RWE_YOUTUBE",fR.RENTABLESPACE="RWE_RENTABLESPACE",fR.VIMEO="RWE_VIMEO",fR.ROOM_TOOLS="RWE_ROOM_TOOLS",fR.EXTERNAL_IMAGE="RWE_EXTERNAL_IMAGE",fR.WORD_QUIZZ="RWE_WORD_QUIZZ",fR.UI_HELP_BUBBLE="RWE_UI_HELP_BUBBLE",fR.ROOM_LINK="RWE_ROOM_LINK",fR.CRAFTING="RWE_CRAFTING",fR.ROOMGAME_CHECKERS="RWE_GAME_CHECKERS";let RoomWidgetEnum=fR;const sM=class sM{};sM.INFOSTAND_EXTRA_PARAM="RWEIEP_INFOSTAND_EXTRA_PARAM",sM.JUKEBOX="RWEIEP_JUKEBOX",sM.USABLE_PRODUCT="RWEIEP_USABLE_PRODUCT",sM.SONGDISK="RWEIEP_SONGDISK",sM.CRACKABLE_FURNI="RWEIEP_CRACKABLE_FURNI",sM.BRANDING_OPTIONS="RWEIEP_BRANDING_OPTIONS",sM.USABLE="RWEIEP_USABLE";let RoomWidgetEnumItemExtradataParameter=sM;const yD=class yD{};yD.NOBODY=0,yD.CONTROLLER=1,yD.EVERYBODY=2;let RoomWidgetFurniInfoUsagePolicyEnum=yD;const RD=class RD{};RD.NORMAL=0,RD.GENERIC=1,RD.BOT=2;let SystemChatStyleEnum=RD;class Disposable{constructor(){this._isDisposed=!1,this._isDisposing=!1}dispose(){this._isDisposed||this._isDisposing||(this._isDisposing=!0,this.onDispose(),this._isDisposed=!0,this._isDisposing=!1)}onDispose(){}get disposed(){return this._isDisposed}get isDisposing(){return this._isDisposing}}class EventDispatcher extends Disposable{constructor(){super(),this._listeners=new Map}onDispose(){this.removeAllListeners(),super.onDispose()}addEventListener(ee,te){if(!ee||!te)return;const se=this._listeners.get(ee);if(!se){this._listeners.set(ee,[te]);return}se.push(te)}removeEventListener(ee,te){if(!ee||!te)return;const se=this._listeners.get(ee);if(!(!se||!se.length)){for(const[ne,le]of se.entries())if(!(!le||le!==te)){se.splice(ne,1),se.length||this._listeners.delete(ee);return}}}dispatchEvent(ee){return ee?(NitroLogger.events("Dispatched Event",ee.type),this.processEvent(ee),!0):!1}processEvent(ee){const te=this._listeners.get(ee.type);if(!te||!te.length)return;const se=[];for(const ne of te)ne&&se.push(ne);for(;se.length;){const ne=se.shift();try{ne(ee)}catch(le){NitroLogger.error(le.stack);return}}}removeAllListeners(){this._listeners.clear()}}class NitroManager extends Disposable{constructor(){super(),this._events=new EventDispatcher,this._isLoaded=!1,this._isLoading=!1}init(){this._isLoaded||this._isLoading||this.isDisposing||(this._isLoading=!0,this.onInit(),this._isLoaded=!0,this._isLoading=!1)}onInit(){}onDispose(){this._events&&this._events.dispose(),super.onDispose()}reload(){this.dispose(),this.init()}get events(){return this._events}get isLoaded(){return this._isLoaded}get isLoading(){return this._isLoading}}class Byte{constructor(ee){this._value=ee}get value(){return this._value}}class EvaWireDataWrapper{constructor(ee,te){this._header=ee,this._buffer=te}readBytes(ee){return this._buffer?this._buffer.readBytes(ee):null}readByte(){return this._buffer?this._buffer.readByte():-1}readBoolean(){return this.readByte()===1}readShort(){return this._buffer?this._buffer.readShort():-1}readInt(){return this._buffer?this._buffer.readInt():-1}readFloat(){return this._buffer?this._buffer.readFloat():-1}readDouble(){return this._buffer?this._buffer.readDouble():-1}readString(){const ee=this.readShort();return this._buffer.readBytes(ee).toString("utf8")}get header(){return this._header}get bytesAvailable(){return this._buffer&&this._buffer.remaining()>0}}class Short{constructor(ee){this._value=ee}get value(){return this._value}}class EvaWireFormat{encode(ee,te){const se=new BinaryWriter$1;se.writeShort(ee);for(const le of te){let ue=typeof le;switch(ue==="object"&&(le===null?ue="null":le instanceof Byte?ue="byte":le instanceof Short?ue="short":le instanceof ArrayBuffer&&(ue="arraybuffer")),ue){case"undefined":case"null":se.writeShort(0);break;case"byte":se.writeByte(le.value);break;case"short":se.writeShort(le.value);break;case"number":se.writeInt(le);break;case"boolean":se.writeByte(le?1:0);break;case"string":le?se.writeString(le,!0):se.writeShort(0);break;case"arraybuffer":se.writeBytes(le);break}}const ne=se.getBuffer();return ne?new BinaryWriter$1().writeInt(ne.byteLength).writeBytes(ne):null}decode(ee){if(!ee||!ee.dataBuffer||!ee.dataBuffer.byteLength)return null;const te=[];for(;ee.dataBuffer.byteLength&&!(ee.dataBuffer.byteLength<4);){const se=new BinaryReader$1(ee.dataBuffer),ne=se.readInt();if(ne>ee.dataBuffer.byteLength-4)break;const le=se.readBytes(ne);te.push(new EvaWireDataWrapper(le.readShort(),le)),ee.dataBuffer=ee.dataBuffer.slice(ne+4)}return te}}let MessageEvent$1=class{constructor(ee,te){this._callBack=ee,this._parserClass=te,this._parser=null,this._connection=null}dispose(){this._callBack=null,this._parserClass=null,this._parser=null,this._connection=null}get callBack(){return this._callBack}get parserClass(){return this._parserClass}get parser(){return this._parser}set parser(ee){this._parser=ee}get connection(){return this._connection}set connection(ee){this._connection=ee}};class NitroEvent{constructor(ee){this._type=ee}get type(){return this._type}}const cN=class cN extends NitroEvent{constructor(ee,te,se){super(ee),this._connection=te,this._originalEvent=event}get connection(){return this._connection}get originalEvent(){return this._originalEvent}};cN.CONNECTION_OPENED="SCE_OPEN",cN.CONNECTION_CLOSED="SCE_CLOSED",cN.CONNECTION_ERROR="SCE_ERROR",cN.CONNECTION_MESSAGE="SCE_MESSAGE";let SocketConnectionEvent=cN;const gF=class gF extends NitroEvent{constructor(ee,te){super(ee),this._library=te}get library(){return this._library}};gF.DOWNLOAD_COMPLETE="ARELE_DOWNLOAD_COMPLETE";let AvatarRenderEffectLibraryEvent=gF;const mF=class mF{};mF.AVATAR_RENDER_READY="AVATAR_RENDER_READY";let AvatarRenderEvent=mF;const EF=class EF extends NitroEvent{constructor(ee,te){super(ee),this._library=te}get library(){return this._library}};EF.DOWNLOAD_COMPLETE="ARLE_DOWNLOAD_COMPLETE";let AvatarRenderLibraryEvent=EF;const vF=class vF extends NitroEvent{constructor(ee){super(ee)}};vF.INITIALIZED="RCWM_INITIALIZED";let RoomCameraWidgetManagerEvent=vF;const rM=class rM extends NitroEvent{constructor(ee,te){super(ee),this._connection=te}get connection(){return this._connection}};rM.CONNECTION_ESTABLISHED="NCE_ESTABLISHED",rM.CONNECTION_CLOSED="NCE_CLOSED",rM.CONNECTION_ERROR="NCE_ERROR",rM.CONNECTION_HANDSHAKING="NCE_HANDSHAKING",rM.CONNECTION_HANDSHAKED="NCE_HANDSHAKED",rM.CONNECTION_HANDSHAKE_FAILED="NCE_HANDSHAKE_FAILED",rM.CONNECTION_AUTHENTICATED="NCE_AUTHENTICATED";let NitroCommunicationDemoEvent=rM;const $L=class $L extends NitroEvent{constructor(ee){super(ee)}};$L.LOADED="NLE_LOADED",$L.FAILED="NLE_FAILED";let NitroLocalizationEvent=$L;const TD=class TD extends NitroEvent{constructor(){super(TD.SETTINGS_UPDATED)}clone(){const ee=new TD;return ee._volumeSystem=this._volumeSystem,ee._volumeFurni=this._volumeFurni,ee._volumeTrax=this._volumeTrax,ee._oldChat=this._oldChat,ee._roomInvites=this._roomInvites,ee._cameraFollow=this._cameraFollow,ee._flags=this._flags,ee._chatType=this._chatType,ee}get volumeSystem(){return this._volumeSystem}set volumeSystem(ee){this._volumeSystem=ee}get volumeFurni(){return this._volumeFurni}set volumeFurni(ee){this._volumeFurni=ee}get volumeTrax(){return this._volumeTrax}set volumeTrax(ee){this._volumeTrax=ee}get oldChat(){return this._oldChat}set oldChat(ee){this._oldChat=ee}get roomInvites(){return this._roomInvites}set roomInvites(ee){this._roomInvites=ee}get cameraFollow(){return this._cameraFollow}set cameraFollow(ee){this._cameraFollow=ee}get flags(){return this._flags}set flags(ee){this._flags=ee}get chatType(){return this._chatType}set chatType(ee){this._chatType=ee}};TD.SETTINGS_UPDATED="NSE_SETTINGS_UPDATED";let NitroSettingsEvent=TD;const yF=class yF extends NitroEvent{constructor(ee,te){super(ee),this._sampleCode=te}get sampleCode(){return this._sampleCode}};yF.PLAY_SOUND="NSOE_PLAY_SOUND";let NitroSoundEvent=yF;const HL=class HL extends NitroEvent{constructor(ee){super(ee)}get iconId(){return this._iconId}set iconId(ee){this._iconId=ee}get iconName(){return this._iconName}set iconName(ee){this._iconName=ee}};HL.TOOLBAR_CLICK="NTE_TOOLBAR_CLICK",HL.SELECT_OWN_AVATAR="NTE_SELECT_OWN_AVATAR";let NitroToolbarEvent=HL;const VL=class VL extends NitroToolbarEvent{constructor(ee,te,se){super(VL.ANIMATE_ICON),this._image=ee,this._x=te,this._y=se}get image(){return this._image}get x(){return this._x}get y(){return this._y}};VL.ANIMATE_ICON="NTAIE_ANIMATE_ICON";let NitroToolbarAnimateIconEvent=VL;const iM=class iM extends NitroEvent{constructor(ee,te){super(ee),this._roomId=te}get roomId(){return this._roomId}};iM.INITIALIZED="REE_INITIALIZED",iM.ENGINE_INITIALIZED="REE_ENGINE_INITIALIZED",iM.OBJECTS_INITIALIZED="REE_OBJECTS_INITIALIZED",iM.NORMAL_MODE="REE_NORMAL_MODE",iM.GAME_MODE="REE_GAME_MODE",iM.ROOM_ZOOMED="REE_ROOM_ZOOMED",iM.DISPOSED="REE_DISPOSED";let RoomEngineEvent=iM;const zL=class zL extends RoomEngineEvent{constructor(ee,te,se,ne){super(zL.ROOM_COLOR,ee),this._color=te,this._brightness=se,this._bgOnly=ne}get color(){return this._color}get brightness(){return this._brightness}get bgOnly(){return this._bgOnly}};zL.ROOM_COLOR="REE_ROOM_COLOR";let RoomBackgroundColorEvent=zL;const SD=class SD extends NitroEvent{constructor(ee,te){super(ee),this._contentType=te}get contentType(){return this._contentType}};SD.RCLE_SUCCESS="RCLE_SUCCESS",SD.RCLE_FAILURE="RCLE_FAILURE",SD.RCLE_CANCEL="RCLE_CANCEL";let RoomContentLoadedEvent=SD;const WL=class WL extends RoomEngineEvent{constructor(ee,te,se){super(WL.ROOM_DRAG,ee),this._offsetX=te,this._offsetY=se}get offsetX(){return this._offsetX}get offsetY(){return this._offsetY}};WL.ROOM_DRAG="RDE_ROOM_DRAG";let RoomDragEvent=WL;const YL=class YL extends RoomEngineEvent{constructor(ee,te,se,ne,le,ue){super(YL.ROOM_COLOR,ee),this._state=te,this._presetId=se,this._effectId=ne,this._color=le,this._brightness=ue}get state(){return this._state}get presetId(){return this._presetId}get effectId(){return this._effectId}get color(){return this._color}get brightness(){return this._brightness}};YL.ROOM_COLOR="REDSE_ROOM_COLOR";let RoomEngineDimmerStateEvent=YL;const zT=class zT extends RoomEngineEvent{constructor(ee,te,se,ne){super(ee,te),this._objectId=se,this._category=ne}get objectId(){return this._objectId}get category(){return this._category}};zT.SELECTED="REOE_SELECTED",zT.DESELECTED="REOE_DESELECTED",zT.ADDED="REOE_ADDED",zT.REMOVED="REOE_REMOVED",zT.PLACED="REOE_PLACED",zT.PLACED_ON_USER="REOE_PLACED_ON_USER",zT.CONTENT_UPDATED="REOE_CONTENT_UPDATED",zT.REQUEST_MOVE="REOE_REQUEST_MOVE",zT.REQUEST_ROTATE="REOE_REQUEST_ROTATE",zT.REQUEST_MANIPULATION="REOE_REQUEST_MANIPULATION",zT.MOUSE_ENTER="REOE_MOUSE_ENTER",zT.MOUSE_LEAVE="REOE_MOUSE_LEAVE",zT.DOUBLE_CLICK="REOE_DOUBLE_CLICK";let RoomEngineObjectEvent=zT;class RoomEngineObjectPlacedEvent extends RoomEngineObjectEvent{constructor(ee,te,se,ne,le,ue,ce,he,de,_e,fe,ye,be){super(ee,te,se,ne),this._wallLocation="",this._x=0,this._y=0,this._z=0,this._direction=0,this._placedInRoom=!1,this._placedOnFloor=!1,this._placedOnWall=!1,this._instanceData=null,this._wallLocation=le,this._x=ue,this._y=ce,this._z=he,this._direction=de,this._placedInRoom=_e,this._placedOnFloor=fe,this._placedOnWall=ye,this._instanceData=be}get wallLocation(){return this._wallLocation}get x(){return this._x}get y(){return this._y}get z(){return this._z}get direction(){return this._direction}get placedInRoom(){return this._placedInRoom}get placedOnFloor(){return this._placedOnFloor}get placedOnWall(){return this._placedOnWall}get instanceData(){return this._instanceData}}class RoomEngineObjectPlacedOnUserEvent extends RoomEngineObjectEvent{constructor(ee,te,se,ne,le,ue){super(ee,te,se,ne),this._droppedObjectId=le,this._droppedObjectCategory=ue}get droppedObjectId(){return this._droppedObjectId}get droppedObjectCategory(){return this._droppedObjectCategory}}const qL=class qL extends RoomEngineObjectEvent{constructor(ee,te,se,ne,le,ue=1){super(ee,te,se,ne),this._soundId=le,this._pitch=ue}get soundId(){return this._soundId}get pitch(){return this._pitch}};qL.PLAY_SOUND="REOPSE_PLAY_SOUND",qL.PLAY_SOUND_AT_PITCH="REOPSE_PLAY_SOUND_AT_PITCH";let RoomEngineObjectPlaySoundEvent=qL;const hN=class hN extends RoomEngineObjectEvent{};hN.FURNI_CLICK="RERAE_FURNI_CLICK",hN.FURNI_DOUBLE_CLICK="RERAE_FURNI_DOUBLE_CLICK",hN.TOOLTIP_SHOW="RERAE_TOOLTIP_SHOW",hN.TOOLTIP_HIDE="RERAE_TOOLTIP_HIDE";let RoomEngineRoomAdEvent=hN;const dN=class dN extends RoomEngineObjectEvent{constructor(ee,te,se,ne,le,ue=1){super(ee,te,se,ne),this._sampleId=le,this._pitch=ue}get sampleId(){return this._sampleId}get pitch(){return this._pitch}};dN.ROOM_OBJECT_INITIALIZED="ROPSPE_ROOM_OBJECT_INITIALIZED",dN.ROOM_OBJECT_DISPOSED="ROPSPE_ROOM_OBJECT_DISPOSED",dN.PLAY_SAMPLE="ROPSPE_PLAY_SAMPLE",dN.CHANGE_PITCH="ROPSPE_CHANGE_PITCH";let RoomEngineSamplePlaybackEvent=dN;const $R=class $R extends RoomEngineObjectEvent{constructor(ee,te,se,ne,le=null){super(ee,te,se,ne),this._widget=le}get widget(){return this._widget}get contextMenu(){return this._widget}};$R.OPEN_WIDGET="RETWE_OPEN_WIDGET",$R.CLOSE_WIDGET="RETWE_CLOSE_WIDGET",$R.OPEN_FURNI_CONTEXT_MENU="RETWE_OPEN_FURNI_CONTEXT_MENU",$R.CLOSE_FURNI_CONTEXT_MENU="RETWE_CLOSE_FURNI_CONTEXT_MENU",$R.REQUEST_PLACEHOLDER="RETWE_REQUEST_PLACEHOLDER",$R.REQUEST_CREDITFURNI="RETWE_REQUEST_CREDITFURNI",$R.REQUEST_STACK_HEIGHT="RETWE_REQUEST_STACK_HEIGHT",$R.REQUEST_EXTERNAL_IMAGE="RETWE_REQUEST_EXTERNAL_IMAGE",$R.REQUEST_STICKIE="RETWE_REQUEST_STICKIE",$R.REQUEST_PRESENT="RETWE_REQUEST_PRESENT",$R.REQUEST_TROPHY="RETWE_REQUEST_TROPHY",$R.REQUEST_TEASER="RETWE_REQUEST_TEASER",$R.REQUEST_ECOTRONBOX="RETWE_REQUEST_ECOTRONBOX",$R.REQUEST_DIMMER="RETWE_REQUEST_DIMMER",$R.REMOVE_DIMMER="RETWE_REMOVE_DIMMER",$R.REQUEST_CLOTHING_CHANGE="RETWE_REQUEST_CLOTHING_CHANGE",$R.REQUEST_PLAYLIST_EDITOR="RETWE_REQUEST_PLAYLIST_EDITOR",$R.REQUEST_MANNEQUIN="RETWE_REQUEST_MANNEQUIN",$R.REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG="ROWRE_REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG",$R.REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG="ROWRE_REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG",$R.REQUEST_BACKGROUND_COLOR="RETWE_REQUEST_BACKGROUND_COLOR",$R.REQUEST_MYSTERYBOX_OPEN_DIALOG="RETWE_REQUEST_MYSTERYBOX_OPEN_DIALOG",$R.REQUEST_EFFECTBOX_OPEN_DIALOG="RETWE_REQUEST_EFFECTBOX_OPEN_DIALOG",$R.REQUEST_MYSTERYTROPHY_OPEN_DIALOG="RETWE_REQUEST_MYSTERYTROPHY_OPEN_DIALOG",$R.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING="RETWE_REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING",$R.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED="RETWE_REQUEST_ACHIEVEMENT_RESOLUTION_FAILED",$R.REQUEST_FRIEND_FURNITURE_CONFIRM="RETWE_REQUEST_FRIEND_FURNITURE_CONFIRM",$R.REQUEST_FRIEND_FURNITURE_ENGRAVING="RETWE_REQUEST_FRIEND_FURNITURE_ENGRAVING",$R.REQUEST_BADGE_DISPLAY_ENGRAVING="RETWE_REQUEST_BADGE_DISPLAY_ENGRAVING",$R.REQUEST_HIGH_SCORE_DISPLAY="RETWE_REQUEST_HIGH_SCORE_DISPLAY",$R.REQUEST_HIDE_HIGH_SCORE_DISPLAY="RETWE_REQUEST_HIDE_HIGH_SCORE_DISPLAY",$R.REQUEST_INTERNAL_LINK="RETWE_REQUEST_INTERNAL_LINK",$R.REQUEST_ROOM_LINK="RETWE_REQUEST_ROOM_LINK",$R.REQUEST_YOUTUBE="RETWE_REQUEST_YOUTUBE";let RoomEngineTriggerWidgetEvent=$R;const XL=class XL extends RoomEngineObjectEvent{constructor(ee,te,se,ne,le=-1,ue=-1){super(ee,te,se,ne),this._inventoryStripId=le,this._furnitureTypeId=ue}get inventoryStripId(){return this._inventoryStripId}get furnitureTypeId(){return this._furnitureTypeId}};XL.USE_PRODUCT_FROM_ROOM="REUPE_USE_PRODUCT_FROM_ROOM",XL.USE_PRODUCT_FROM_INVENTORY="REUPE_USE_PRODUCT_FROM_INVENTORY";let RoomEngineUseProductEvent=XL;class RoomObjectEvent extends NitroEvent{constructor(ee,te){super(ee),this._object=te}get object(){return this._object}get objectId(){return this._object?this._object.id:-1}get objectType(){return this._object?this._object.type:null}}const RF=class RF extends RoomObjectEvent{constructor(ee,te,se,ne=!0){super(ee,te),this._badgeId=se,this._groupBadge=ne}get badgeId(){return this._badgeId}get groupBadge(){return this._groupBadge}};RF.LOAD_BADGE="ROBAE_LOAD_BADGE";let RoomObjectBadgeAssetEvent=RF;const KL=class KL extends RoomObjectEvent{constructor(ee,te){super(ee,te)}};KL.RODRE_CURRENT_USER_ID="RODRE_CURRENT_USER_ID",KL.RODRE_URL_PREFIX="RODRE_URL_PREFIX";let RoomObjectDataRequestEvent=KL;const ZL=class ZL extends RoomObjectEvent{constructor(ee,te,se,ne,le,ue){super(ZL.DIMMER_STATE,ee),this._state=te,this._presetId=se,this._effectId=ne,this._color=le,this._brightness=ue}get state(){return this._state}get presetId(){return this._presetId}get effectId(){return this._effectId}get color(){return this._color}get brightness(){return this._brightness}};ZL.DIMMER_STATE="RODSUE_DIMMER_STATE";let RoomObjectDimmerStateUpdateEvent=ZL;const QL=class QL extends RoomObjectEvent{constructor(ee,te){super(ee,te)}};QL.ADD_HOLE="ROFHO_ADD_HOLE",QL.REMOVE_HOLE="ROFHO_REMOVE_HOLE";let RoomObjectFloorHoleEvent=QL;const MT=class MT extends RoomObjectEvent{};MT.DICE_OFF="ROFCAE_DICE_OFF",MT.DICE_ACTIVATE="ROFCAE_DICE_ACTIVATE",MT.USE_HABBOWHEEL="ROFCAE_USE_HABBOWHEEL",MT.STICKIE="ROFCAE_STICKIE",MT.ENTER_ONEWAYDOOR="ROFCAE_ENTER_ONEWAYDOOR",MT.SOUND_MACHINE_INIT="ROFCAE_SOUND_MACHINE_INIT",MT.SOUND_MACHINE_START="ROFCAE_SOUND_MACHINE_START",MT.SOUND_MACHINE_STOP="ROFCAE_SOUND_MACHINE_STOP",MT.SOUND_MACHINE_DISPOSE="ROFCAE_SOUND_MACHINE_DISPOSE",MT.JUKEBOX_INIT="ROFCAE_JUKEBOX_INIT",MT.JUKEBOX_START="ROFCAE_JUKEBOX_START",MT.JUKEBOX_MACHINE_STOP="ROFCAE_JUKEBOX_MACHINE_STOP",MT.JUKEBOX_DISPOSE="ROFCAE_JUKEBOX_DISPOSE",MT.MOUSE_BUTTON="ROFCAE_MOUSE_BUTTON",MT.MOUSE_ARROW="ROFCAE_MOUSE_ARROW";let RoomObjectFurnitureActionEvent=MT;const TF=class TF extends RoomEngineEvent{constructor(ee,te,se,ne,le,ue){super(ee,te),this._enable=se,this._hue=ne,this._saturation=le,this._lightness=ue}get enable(){return this._enable}get hue(){return this._hue}get saturation(){return this._saturation}get lightness(){return this._lightness}};TF.ROOM_BACKGROUND_COLOR="ROHSLCEE_ROOM_BACKGROUND_COLOR";let RoomObjectHSLColorEnabledEvent=TF;const SF=class SF extends RoomObjectEvent{constructor(ee,te,se,ne,le,ue){super(ee,te),this._enable=se,this._hue=ne,this._saturation=le,this._lightness=ue}get enable(){return this._enable}get hue(){return this._hue}get saturation(){return this._saturation}get lightness(){return this._lightness}};SF.ROOM_BACKGROUND_COLOR="ROHSLCEE_ROOM_BACKGROUND_COLOR";let RoomObjectHSLColorEnableEvent=SF;const VO=class VO extends RoomObjectEvent{constructor(ee,te,se,ne=!1,le=!1,ue=!1,ce=!1){super(ee,te),this._eventId="",this._eventId=se,this._altKey=ne,this._ctrlKey=le,this._shiftKey=ue,this._buttonDown=ce}get eventId(){return this._eventId}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get shiftKey(){return this._shiftKey}get buttonDown(){return this._buttonDown}get localX(){return this._localX}set localX(ee){this._localX=ee}get localY(){return this._localY}set localY(ee){this._localY=ee}get spriteOffsetX(){return this._spriteOffsetX}set spriteOffsetX(ee){this._spriteOffsetX=ee}get spriteOffsetY(){return this._spriteOffsetY}set spriteOffsetY(ee){this._spriteOffsetY=ee}};VO.CLICK="ROE_MOUSE_CLICK",VO.DOUBLE_CLICK="ROE_MOUSE_DOUBLE_CLICK",VO.MOUSE_MOVE="ROE_MOUSE_MOVE",VO.MOUSE_DOWN="ROE_MOUSE_DOWN",VO.MOUSE_DOWN_LONG="ROE_MOUSE_DOWN_LONG",VO.MOUSE_UP="ROE_MOUSE_UP",VO.MOUSE_ENTER="ROE_MOUSE_ENTER",VO.MOUSE_LEAVE="ROE_MOUSE_LEAVE";let RoomObjectMouseEvent=VO;const JL=class JL extends RoomObjectEvent{constructor(ee,te){super(ee,te)}};JL.POSITION_CHANGED="ROME_POSITION_CHANGED",JL.OBJECT_REMOVED="ROME_OBJECT_REMOVED";let RoomObjectMoveEvent=JL;const e2=class e2 extends RoomObjectFurnitureActionEvent{constructor(ee,te,se,ne=1){super(ee,te),this._soundId=se,this._pitch=ne}get soundId(){return this._soundId}get pitch(){return this._pitch}};e2.PLAY_SOUND="ROPSIE_PLAY_SOUND",e2.PLAY_SOUND_AT_PITCH="ROPSIE_PLAY_SOUND_AT_PITCH";let RoomObjectPlaySoundIdEvent=e2;const EP=class EP extends RoomObjectEvent{constructor(ee,te,se="",ne=""){super(ee,te),this._imageUrl="",this._clickUrl="",this._imageUrl=se,this._clickUrl=ne}get imageUrl(){return this._imageUrl}get clickUrl(){return this._clickUrl}};EP.ROOM_AD_LOAD_IMAGE="RORAE_ROOM_AD_LOAD_IMAGE",EP.ROOM_AD_FURNI_CLICK="RORAE_ROOM_AD_FURNI_CLICK",EP.ROOM_AD_FURNI_DOUBLE_CLICK="RORAE_ROOM_AD_FURNI_DOUBLE_CLICK",EP.ROOM_AD_TOOLTIP_SHOW="RORAE_ROOM_AD_TOOLTIP_SHOW",EP.ROOM_AD_TOOLTIP_HIDE="RORAE_ROOM_AD_TOOLTIP_HIDE";let RoomObjectRoomAdEvent=EP;const fN=class fN extends RoomObjectEvent{constructor(ee,te,se,ne=1){super(ee,te),this._sampleId=se,this._pitch=ne}get sampleId(){return this._sampleId}get pitch(){return this._pitch}};fN.ROOM_OBJECT_INITIALIZED="ROPSPE_ROOM_OBJECT_INITIALIZED",fN.ROOM_OBJECT_DISPOSED="ROPSPE_ROOM_OBJECT_DISPOSED",fN.PLAY_SAMPLE="ROPSPE_PLAY_SAMPLE",fN.CHANGE_PITCH="ROPSPE_CHANGE_PITCH";let RoomObjectSamplePlaybackEvent=fN;const zO=class zO extends RoomEngineObjectEvent{};zO.SOUND_MACHINE_INIT="ROSM_SOUND_MACHINE_INIT",zO.SOUND_MACHINE_SWITCHED_ON="ROSM_SOUND_MACHINE_SWITCHED_ON",zO.SOUND_MACHINE_SWITCHED_OFF="ROSM_SOUND_MACHINE_SWITCHED_OFF",zO.SOUND_MACHINE_DISPOSE="ROSM_SOUND_MACHINE_DISPOSE",zO.JUKEBOX_INIT="ROSM_JUKEBOX_INIT",zO.JUKEBOX_SWITCHED_ON="ROSM_JUKEBOX_SWITCHED_ON",zO.JUKEBOX_SWITCHED_OFF="ROSM_JUKEBOX_SWITCHED_OFF",zO.JUKEBOX_DISPOSE="ROSM_JUKEBOX_DISPOSE";let RoomObjectSoundMachineEvent=zO;const t2=class t2 extends RoomObjectEvent{constructor(ee,te,se=0){super(ee,te),this._state=se}get state(){return this._state}};t2.STATE_CHANGE="ROSCE_STATE_CHANGE",t2.STATE_RANDOM="ROSCE_STATE_RANDOM";let RoomObjectStateChangedEvent=t2;class RoomObjectTileMouseEvent extends RoomObjectMouseEvent{constructor(ee,te,se,ne,le,ue,ce=!1,he=!1,de=!1,_e=!1){super(ee,te,se,ce,he,de,_e),this._tileX=ne,this._tileY=le,this._tileZ=ue}get tileX(){return this._tileX}get tileY(){return this._tileY}get tileZ(){return this._tileZ}get tileXAsInt(){return Math.trunc(this._tileX+.499)}get tileYAsInt(){return Math.trunc(this._tileY+.499)}get tileZAsInt(){return Math.trunc(this._tileZ+.499)}}class RoomObjectWallMouseEvent extends RoomObjectMouseEvent{constructor(ee,te,se,ne,le,ue,ce,he,de,_e=!1,fe=!1,ye=!1,be=!1){super(ee,te,se,_e,fe,ye,be),this._wallLocation=new Vector3d,this._wallWd=new Vector3d,this._wallHt=new Vector3d,this._wallLocation.assign(ne),this._wallWd.assign(le),this._wallHt.assign(ue),this._x=ce,this._y=he,this._direction=de}get wallLocation(){return this._wallLocation}get wallWidth(){return this._wallWd}get wallHeight(){return this._wallHt}get x(){return this._x}get y(){return this._y}get direction(){return this._direction}}const BR=class BR extends RoomObjectEvent{constructor(ee,te){super(ee,te)}};BR.OPEN_WIDGET="ROWRE_OPEN_WIDGET",BR.CLOSE_WIDGET="ROWRE_CLOSE_WIDGET",BR.OPEN_FURNI_CONTEXT_MENU="ROWRE_OPEN_FURNI_CONTEXT_MENU",BR.CLOSE_FURNI_CONTEXT_MENU="ROWRE_CLOSE_FURNI_CONTEXT_MENU",BR.PLACEHOLDER="ROWRE_PLACEHOLDER",BR.CREDITFURNI="ROWRE_CREDITFURNI",BR.STACK_HEIGHT="ROWRE_STACK_HEIGHT",BR.EXTERNAL_IMAGE="ROWRE_EXTERNAL_IMAGE",BR.STICKIE="ROWRE_STICKIE",BR.PRESENT="ROWRE_PRESENT",BR.TROPHY="ROWRE_TROPHY",BR.TEASER="ROWRE_TEASER",BR.ECOTRONBOX="ROWRE_ECOTRONBOX",BR.DIMMER="ROWRE_DIMMER",BR.WIDGET_REMOVE_DIMMER="ROWRE_WIDGET_REMOVE_DIMMER",BR.CLOTHING_CHANGE="ROWRE_CLOTHING_CHANGE",BR.JUKEBOX_PLAYLIST_EDITOR="ROWRE_JUKEBOX_PLAYLIST_EDITOR",BR.MANNEQUIN="ROWRE_MANNEQUIN",BR.PET_PRODUCT_MENU="ROWRE_PET_PRODUCT_MENU",BR.GUILD_FURNI_CONTEXT_MENU="ROWRE_GUILD_FURNI_CONTEXT_MENU",BR.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG="ROWRE_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG",BR.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG="ROWRE_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG",BR.BACKGROUND_COLOR="ROWRE_BACKGROUND_COLOR",BR.MYSTERYBOX_OPEN_DIALOG="ROWRE_MYSTERYBOX_OPEN_DIALOG",BR.EFFECTBOX_OPEN_DIALOG="ROWRE_EFFECTBOX_OPEN_DIALOG",BR.MYSTERYTROPHY_OPEN_DIALOG="ROWRE_MYSTERYTROPHY_OPEN_DIALOG",BR.ACHIEVEMENT_RESOLUTION_OPEN="ROWRE_ACHIEVEMENT_RESOLUTION_OPEN",BR.ACHIEVEMENT_RESOLUTION_ENGRAVING="ROWRE_ACHIEVEMENT_RESOLUTION_ENGRAVING",BR.ACHIEVEMENT_RESOLUTION_FAILED="ROWRE_ACHIEVEMENT_RESOLUTION_FAILED",BR.FRIEND_FURNITURE_CONFIRM="ROWRE_FRIEND_FURNITURE_CONFIRM",BR.FRIEND_FURNITURE_ENGRAVING="ROWRE_FRIEND_FURNITURE_ENGRAVING",BR.BADGE_DISPLAY_ENGRAVING="ROWRE_BADGE_DISPLAY_ENGRAVING",BR.HIGH_SCORE_DISPLAY="ROWRE_HIGH_SCORE_DISPLAY",BR.HIDE_HIGH_SCORE_DISPLAY="ROWRE_HIDE_HIGH_SCORE_DISPLAY",BR.INERNAL_LINK="ROWRE_INTERNAL_LINK",BR.ROOM_LINK="ROWRE_ROOM_LINK",BR.YOUTUBE="ROWRE_YOUTUBE";let RoomObjectWidgetRequestEvent=BR;class RoomSpriteMouseEvent{constructor(ee,te,se,ne,le,ue,ce=0,he=0,de=!1,_e=!1,fe=!1,ye=!1){this._type=ee,this._eventId=te,this._canvasId=se,this._spriteTag=ne,this._screenX=le,this._screenY=ue,this._localX=ce,this._localY=he,this._ctrlKey=de,this._altKey=_e,this._shiftKey=fe,this._buttonDown=ye,this._spriteOffsetX=0,this._spriteOffsetY=0}get type(){return this._type}get eventId(){return this._eventId}get canvasId(){return this._canvasId}get spriteTag(){return this._spriteTag}get screenX(){return this._screenX}get screenY(){return this._screenY}get localX(){return this._localX}get localY(){return this._localY}get ctrlKey(){return this._ctrlKey}get altKey(){return this._altKey}get shiftKey(){return this._shiftKey}get buttonDown(){return this._buttonDown}get spriteOffsetX(){return this._spriteOffsetX}set spriteOffsetX(ee){this._spriteOffsetX=ee}get spriteOffsetY(){return this._spriteOffsetY}set spriteOffsetY(ee){this._spriteOffsetY=ee}}class RoomToObjectEvent extends NitroEvent{constructor(ee){super(ee)}}const bF=class bF extends RoomToObjectEvent{constructor(ee,te){super(ee),this._targetLocation=te}get targetLocation(){return this._targetLocation}};bF.ROAME_MOVE_TO="ROAME_MOVE_TO";let RoomToObjectOwnAvatarMoveEvent=bF;const s2=class s2 extends RoomEngineEvent{constructor(ee,te,se=!1,ne=!1){super(s2.ROOM_ZOOM,ee),this._level=te,this._forceFlip=se,this._asDelta=ne}get level(){return this._level}get forceFlip(){return this._forceFlip}get asDelta(){return this._asDelta}};s2.ROOM_ZOOM="REE_ROOM_ZOOM";let RoomZoomEvent=s2;const r2=class r2 extends NitroEvent{constructor(ee,te){super(r2.IMAGE_READY),this._badgeId=ee,this._image=te}get badgeId(){return this._badgeId}get image(){return this._image}};r2.IMAGE_READY="BIME_BADGE_IMAGE_READY";let BadgeImageReadyEvent=r2;const i2=class i2 extends NitroEvent{constructor(ee,te){super(i2.MYSTERY_BOX_KEYS_UPDATE),this._boxColor=ee,this._keyColor=te}get boxColor(){return this._boxColor}get keyColor(){return this._keyColor}};i2.MYSTERY_BOX_KEYS_UPDATE="mbke_update";let MysteryBoxKeysUpdateEvent=i2;const n2=class n2 extends NitroEvent{constructor(){super(n2.PERKS_UPDATED)}};n2.PERKS_UPDATED="PUE_perks_updated";let PerksUpdatedEvent=n2;const pN=class pN extends NitroEvent{constructor(ee,te,se=!0){super(ee),this._session=te,this._openLandingView=se}get session(){return this._session}get openLandingView(){return this._openLandingView}};pN.CREATED="RSE_CREATED",pN.STARTED="RSE_STARTED",pN.ENDED="RSE_ENDED",pN.ROOM_DATA="RSE_ROOM_DATA";let RoomSessionEvent=pN;const WT=class WT extends RoomSessionEvent{constructor(ee,te,se,ne,le,ue=0,ce=null,he=-1){super(ee,te),this._objectId=se,this._message=ne,this._chatType=le,this._links=ce,this._extraParam=he,this._style=ue}get objectId(){return this._objectId}get message(){return this._message}get chatType(){return this._chatType}get links(){return this._links}get extraParam(){return this._extraParam}get style(){return this._style}};WT.CHAT_EVENT="RSCE_CHAT_EVENT",WT.FLOOD_EVENT="RSCE_FLOOD_EVENT",WT.CHAT_TYPE_SPEAK=0,WT.CHAT_TYPE_WHISPER=1,WT.CHAT_TYPE_SHOUT=2,WT.CHAT_TYPE_RESPECT=3,WT.CHAT_TYPE_PETRESPECT=4,WT.CHAT_TYPE_HAND_ITEM_RECEIVED=5,WT.CHAT_TYPE_PETTREAT=6,WT.CHAT_TYPE_PETREVIVE=7,WT.CHAT_TYPE_PET_REBREED_FERTILIZE=8,WT.CHAT_TYPE_PET_SPEED_FERTILIZE=9,WT.CHAT_TYPE_MUTE_REMAINING=10;let RoomSessionChatEvent=WT;const a2=class a2 extends RoomSessionEvent{constructor(ee,te,se,ne,le,ue){super(a2.CONFIRM_PET_BREEDING,ee),this._nestId=te,this._pet1=se,this._pet2=ne,this._rarityCategories=le,this._resultPetTypeId=ue}get nestId(){return this._nestId}get pet1(){return this._pet1}get pet2(){return this._pet2}get rarityCategories(){return this._rarityCategories}get resultPetTypeId(){return this._resultPetTypeId}};a2.CONFIRM_PET_BREEDING="RSPFUE_CONFIRM_PET_BREEDING";let RoomSessionConfirmPetBreedingEvent=a2;const o2=class o2 extends RoomSessionEvent{constructor(ee,te,se){super(o2.RSPFUE_CONFIRM_PET_BREEDING_RESULT,ee),this._breedingNestStuffId=te,this._result=se}get breedingNestStuffId(){return this._breedingNestStuffId}get result(){return this._result}};o2.RSPFUE_CONFIRM_PET_BREEDING_RESULT="RSPFUE_CONFIRM_PET_BREEDING_RESULT";let RoomSessionConfirmPetBreedingResultEvent=o2;const l2=class l2 extends RoomSessionEvent{constructor(ee,te,se){super(l2.RSDE_DANCE,ee),this._roomIndex=te,this._danceId=se}get roomIndex(){return this._roomIndex}get danceId(){return this._danceId}};l2.RSDE_DANCE="RSDE_DANCE";let RoomSessionDanceEvent=l2;class RoomSessionDimmerPresetsEventPresetItem{constructor(ee,te,se,ne){this._id=ee,this._type=te,this._color=se,this._brightness=ne}get id(){return this._id}get type(){return this._type}get color(){return this._color}get brightness(){return this._brightness}}const IF=class IF extends RoomSessionEvent{constructor(ee,te){super(ee,te),this._selectedPresetId=0,this._presets=[]}storePreset(ee,te,se,ne){this._presets[ee-1]=new RoomSessionDimmerPresetsEventPresetItem(ee,te,se,ne)}getPreset(ee){return ee<0||ee>=this._presets.length?null:this._presets[ee]}get presetCount(){return this._presets.length}get selectedPresetId(){return this._selectedPresetId}set selectedPresetId(ee){this._selectedPresetId=ee}};IF.ROOM_DIMMER_PRESETS="RSDPE_PRESETS";let RoomSessionDimmerPresetsEvent=IF;const bD=class bD extends RoomSessionEvent{constructor(ee,te,se){super(ee,te),this._userName="",this._userName=se}get userName(){return this._userName}};bD.DOORBELL="RSDE_DOORBELL",bD.RSDE_REJECTED="RSDE_REJECTED",bD.RSDE_ACCEPTED="RSDE_ACCEPTED";let RoomSessionDoorbellEvent=bD;const oI=class oI extends RoomSessionEvent{constructor(ee,te,se=null){super(ee,te),this._message=se}get message(){return this._message}};oI.RSEME_KICKED="RSEME_KICKED",oI.RSEME_PETS_FORBIDDEN_IN_HOTEL="RSEME_PETS_FORBIDDEN_IN_HOTEL",oI.RSEME_PETS_FORBIDDEN_IN_FLAT="RSEME_PETS_FORBIDDEN_IN_FLAT",oI.RSEME_MAX_PETS="RSEME_MAX_PETS",oI.RSEME_MAX_NUMBER_OF_OWN_PETS="RSEME_MAX_NUMBER_OF_OWN_PETS",oI.RSEME_NO_FREE_TILES_FOR_PET="RSEME_NO_FREE_TILES_FOR_PET",oI.RSEME_SELECTED_TILE_NOT_FREE_FOR_PET="RSEME_SELECTED_TILE_NOT_FREE_FOR_PET",oI.RSEME_BOTS_FORBIDDEN_IN_HOTEL="RSEME_BOTS_FORBIDDEN_IN_HOTEL",oI.RSEME_BOTS_FORBIDDEN_IN_FLAT="RSEME_BOTS_FORBIDDEN_IN_FLAT",oI.RSEME_BOT_LIMIT_REACHED="RSEME_BOT_LIMIT_REACHED",oI.RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT="RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT",oI.RSEME_BOT_NAME_NOT_ACCEPTED="RSEME_BOT_NAME_NOT_ACCEPTED";let RoomSessionErrorMessageEvent=oI;const u2=class u2 extends RoomSessionEvent{constructor(ee,te,se,ne,le){super(u2.FAVOURITE_GROUP_UPDATE,ee),this._roomIndex=te,this._habboGroupId=se,this._habboGroupName=le,this._status=ne}get roomIndex(){return this._roomIndex}get habboGroupId(){return this._habboGroupId}get habboGroupName(){return this._habboGroupName}get status(){return this._status}};u2.FAVOURITE_GROUP_UPDATE="RSFGUE_FAVOURITE_GROUP_UPDATE";let RoomSessionFavoriteGroupUpdateEvent=u2;const c2=class c2 extends RoomSessionEvent{constructor(ee,te,se,ne){super(c2.RSFRE_FRIEND_REQUEST,ee),this._requestId=0,this._userId=0,this._requestId=te,this._userId=se,this._userName=ne}get requestId(){return this._requestId}get userId(){return this._userId}get userName(){return this._userName}};c2.RSFRE_FRIEND_REQUEST="RSFRE_FRIEND_REQUEST";let RoomSessionFriendRequestEvent=c2;const h2=class h2 extends RoomSessionEvent{constructor(ee,te,se){super(h2.NEST_BREEDING_SUCCESS,ee),this._petId=te,this._rarityCategory=se}get rarityCategory(){return this._rarityCategory}get petId(){return this._petId}};h2.NEST_BREEDING_SUCCESS="RSPFUE_NEST_BREEDING_SUCCESS";let RoomSessionNestBreedingSuccessEvent=h2;const d2=class d2 extends RoomSessionEvent{constructor(ee,te,se,ne){super(d2.PET_BREEDING,ee),this._state=te,this._ownPetId=se,this._otherPetId=ne}get state(){return this._state}get ownPetId(){return this._ownPetId}get otherPetId(){return this._otherPetId}};d2.PET_BREEDING="RSPFUE_PET_BREEDING";let RoomSessionPetBreedingEvent=d2;const f2=class f2 extends RoomSessionEvent{constructor(ee,te,se){super(f2.PET_BREEDING_RESULT,ee),this._resultData=te,this._otherResultData=se}get resultData(){return this._resultData}get otherResultData(){return this._otherResultData}};f2.PET_BREEDING_RESULT="RSPFUE_PET_BREEDING_RESULT";let RoomSessionPetBreedingResultEvent=f2;const p2=class p2 extends RoomSessionEvent{constructor(ee,te,se,ne){super(p2.PET_COMMANDS,ee),this._petId=te,this._allCommandIds=se,this._enabledCommandIds=ne}get id(){return this._petId}get commands(){return this._allCommandIds}get enabledCommands(){return this._enabledCommandIds}};p2.PET_COMMANDS="RSPIUE_ENABLED_PET_COMMANDS";let RoomSessionPetCommandsUpdateEvent=p2;const _2=class _2 extends RoomSessionEvent{constructor(ee,te,se){super(_2.PET_FIGURE_UPDATE,ee),this._petId=te,this._figure=se}get id(){return this._petId}get figure(){return this._figure}};_2.PET_FIGURE_UPDATE="RSPFUE_PET_FIGURE_UPDATE";let RoomSessionPetFigureUpdateEvent=_2;const g2=class g2 extends RoomSessionEvent{constructor(ee,te){super(g2.PET_INFO,ee),this._petInfo=te}get petInfo(){return this._petInfo}};g2.PET_INFO="RSPIUE_PET_INFO";let RoomSessionPetInfoUpdateEvent=g2;const m2=class m2 extends RoomSessionEvent{constructor(ee,te,se){super(m2.PET_LEVEL_UPDATE,ee),this._petId=te,this._level=se}get petId(){return this._petId}get level(){return this._level}};m2.PET_LEVEL_UPDATE="RSPLUE_PET_LEVEL_UPDATE";let RoomSessionPetLevelUpdateEvent=m2;const E2=class E2 extends RoomSessionEvent{constructor(ee,te,se,ne,le,ue){super(ee,te),this._objectId=-1,this._nameValidationStatus=0,this._nameValidationInfo=null,this._objectId=se,this._figureData=ne,this._nameValidationStatus=le,this._nameValidationInfo=ue}get objectId(){return this._objectId}get figureData(){return this._figureData}get nameValidationStatus(){return this._nameValidationStatus}get nameValidationInfo(){return this._nameValidationInfo}};E2.RSOPPE_OPEN_PET_PACKAGE_REQUESTED="RSOPPE_OPEN_PET_PACKAGE_REQUESTED",E2.RSOPPE_OPEN_PET_PACKAGE_RESULT="RSOPPE_OPEN_PET_PACKAGE_RESULT";let RoomSessionPetPackageEvent=E2;const v2=class v2 extends RoomSessionEvent{constructor(ee,te,se,ne,le,ue){super(v2.PET_STATUS_UPDATE,ee),this._petId=te,this._canBreed=se,this._canHarvest=ne,this._canRevive=le,this._hasBreedingPermission=ue}get petId(){return this._petId}get canBreed(){return this._canBreed}get canHarvest(){return this._canHarvest}get canRevive(){return this._canRevive}get hasBreedingPermission(){return this._hasBreedingPermission}};v2.PET_STATUS_UPDATE="RSPFUE_PET_STATUS_UPDATE";let RoomSessionPetStatusUpdateEvent=v2;const ID=class ID extends RoomSessionEvent{constructor(ee,te,se){super(ee,te),this._id=-1,this._numQuestions=0,this._startMessage="",this._endMessage="",this._questionArray=null,this._npsPoll=!1,this._id=se}get id(){return this._id}get headline(){return this._headline}set headline(ee){this._headline=ee}get summary(){return this._summary}set summary(ee){this._summary=ee}get numQuestions(){return this._numQuestions}set numQuestions(ee){this._numQuestions=ee}get startMessage(){return this._startMessage}set startMessage(ee){this._startMessage=ee}get endMessage(){return this._endMessage}set endMessage(ee){this._endMessage=ee}get questionArray(){return this._questionArray}set questionArray(ee){this._questionArray=ee}get npsPoll(){return this._npsPoll}set npsPoll(ee){this._npsPoll=ee}};ID.OFFER="RSPE_POLL_OFFER",ID.ERROR="RSPE_POLL_ERROR",ID.CONTENT="RSPE_POLL_CONTENT";let RoomSessionPollEvent=ID;const AF=class AF extends RoomSessionEvent{constructor(ee,te,se,ne,le,ue,ce,he,de){super(ee,te),this._classId=0,this._itemType="",this._placedItemId=0,this._placedItemType="",this._classId=se,this._itemType=ne,this._productCode=le,this._placedItemId=ue,this._placedItemType=ce,this._placedInRoom=he,this._petFigureString=de}get classId(){return this._classId}get itemType(){return this._itemType}get productCode(){return this._productCode}get placedItemId(){return this._placedItemId}get placedInRoom(){return this._placedInRoom}get placedItemType(){return this._placedItemType}get petFigureString(){return this._petFigureString}};AF.RSPE_PRESENT_OPENED="RSPE_PRESENT_OPENED";let RoomSessionPresentEvent=AF;const xF=class xF extends RoomSessionEvent{constructor(ee,te){super(ee,te)}};xF.RSDUE_ALLOW_PETS="RSDUE_ALLOW_PETS";let RoomSessionPropertyUpdateEvent=xF;const DM=class DM extends RoomSessionEvent{constructor(ee,te,se,ne=!1){super(DM.QUEUE_STATUS,ee),this._name=te,this._target=se,this._queues=new Map,this._isActive=ne}get isActive(){return this._isActive}get queueSetName(){return this._name}get queueSetTarget(){return this._target}get queueTypes(){return Array.from(this._queues.keys())}getQueueSize(ee){return this._queues.get(ee)}addQueue(ee,te){this._queues.set(ee,te)}};DM.QUEUE_STATUS="RSQE_QUEUE_STATUS",DM.QUEUE_TYPE_CLUB="c",DM.QUEUE_TYPE_NORMAL="d",DM.QUEUE_TARGET_VISITOR=2,DM.QUEUE_TARGET_SPECTATOR=1;let RoomSessionQueueEvent=DM;const OF=class OF extends RoomSessionEvent{constructor(ee,te){super(ee,te)}};OF.SPECTATOR_MODE="RSSME_SPECTATOR_MODE";let RoomSessionSpectatorModeEvent=OF;const y2=class y2 extends RoomSessionEvent{constructor(ee,te,se){super(y2.RSUBE_BADGES,ee),this._userId=0,this._badges=[],this._userId=te,this._badges=se}get userId(){return this._userId}get badges(){return this._badges}};y2.RSUBE_BADGES="RSUBE_BADGES";let RoomSessionUserBadgesEvent=y2;const R2=class R2 extends RoomSessionEvent{constructor(ee,te){super(R2.USER_DATA_UPDATED,ee),this._addedUsers=te}get addedUsers(){return this._addedUsers}};R2.USER_DATA_UPDATED="RMUDUE_USER_DATA_UPDATED";let RoomSessionUserDataUpdateEvent=R2;const T2=class T2 extends RoomSessionEvent{constructor(ee,te,se,ne,le,ue){super(T2.USER_FIGURE,ee),this._roomIndex=0,this._figure="",this._gender="",this._customInfo="",this._roomIndex=te,this._figure=se,this._gender=ne,this._customInfo=le,this._achievementScore=ue}get roomIndex(){return this._roomIndex}get figure(){return this._figure}get gender(){return this._gender}get customInfo(){return this._customInfo}get activityPoints(){return this._achievementScore}};T2.USER_FIGURE="RSUBE_FIGURE";let RoomSessionUserFigureUpdateEvent=T2;const S2=class S2 extends NitroEvent{constructor(ee,te){super(S2.UTRE_USER_TAGS_RECEIVED),this._userId=ee,this._tags=te}get userId(){return this._userId}get tags(){return this._tags}};S2.UTRE_USER_TAGS_RECEIVED="UTRE_USER_TAGS_RECEIVED";let RoomSessionUserTagsEvent=S2;const b2=class b2 extends RoomSessionEvent{constructor(ee,te,se,ne,le=null,ue=0){super(ee,te),this._question="",this._SafeStr_7654=0,this._choices=[],this._SafeStr_7651=[],this._question=se,this._choices=ne,this._SafeStr_7651=le,this._SafeStr_7651==null&&(this._SafeStr_7651=[]),this._SafeStr_7654=ue}get question(){return this._question}get choices(){return this._choices.slice()}get _SafeStr_4173(){return this._SafeStr_7651.slice()}get _SafeStr_4174(){return this._SafeStr_7654}};b2.VOTE_QUESTION="RSPE_VOTE_QUESTION",b2.VOTE_RESULT="RSPE_VOTE_RESULT";let RoomSessionVoteEvent=b2;const AD=class AD extends RoomSessionEvent{constructor(ee,te,se=-1){super(ee,te),this._id=-1,this._pollType=null,this._pollId=-1,this._questionId=-1,this._duration=-1,this._question=null,this._userId=-1,this._id=se}get id(){return this._id}get pollType(){return this._pollType}set pollType(ee){this._pollType=ee}get pollId(){return this._pollId}set pollId(ee){this._pollId=ee}get questionId(){return this._questionId}set questionId(ee){this._questionId=ee}get duration(){return this._duration}set duration(ee){this._duration=ee}get question(){return this._question}set question(ee){this._question=ee}get userId(){return this._userId}set userId(ee){this._userId=ee}get value(){return this._value}set value(ee){this._value=ee}get answerCounts(){return this._answerCounts}set answerCounts(ee){this._answerCounts=ee}};AD.QUESTION="RWPUW_NEW_QUESTION",AD.FINISHED="RWPUW_QUESION_FINSIHED",AD.ANSWERED="RWPUW_QUESTION_ANSWERED";let RoomSessionWordQuizEvent=AD;const I2=class I2 extends NitroEvent{constructor(ee){super(I2.UPDATED),this._uiFlags=ee}get uiFlags(){return this._uiFlags}};I2.UPDATED="APUE_UPDATED";let SessionDataPreferencesEvent=I2;const A2=class A2 extends NitroEvent{constructor(ee){super(A2.UNUE_NAME_UPDATED),this._name=ee}get name(){return this._name}};A2.UNUE_NAME_UPDATED="unue_name_updated";let UserNameUpdateEvent=A2;class MessageClassManager{constructor(){this._messageIdByEvent=new Map,this._messageIdByComposer=new Map,this._messageInstancesById=new Map}dispose(){this._messageIdByEvent.clear(),this._messageIdByComposer.clear(),this._messageInstancesById.clear()}registerMessages(ee){for(const[te,se]of ee.events)this.registerMessageEventClass(te,se);for(const[te,se]of ee.composers)this.registerMessageComposerClass(te,se)}registerMessageEventClass(ee,te){!ee||!te||this._messageIdByEvent.set(te,ee)}registerMessageComposerClass(ee,te){!ee||!te||this._messageIdByComposer.set(te,ee)}registerMessageEvent(ee){if(!ee)return;const te=this.getEventId(ee);if(!te)return;let se=this._messageInstancesById.get(te);(!se||!se.length)&&(se=[],this._messageInstancesById.set(te,se)),se.push(ee)}removeMessageEvent(ee){if(!ee)return;const te=this.getEventId(ee);if(!te)return;const se=this._messageInstancesById.get(te);if(se){for(const[ne,le]of se.entries())if(le&&le===ee){se.splice(ne,1),se.length===0&&this._messageInstancesById.delete(te),le.dispose();return}}}getEvents(ee){if(!ee)return;const te=this._messageInstancesById.get(ee);if(te)return te}getEventId(ee){if(!ee)return-1;const te=ee instanceof MessageEvent$1?ee.constructor:ee,se=this._messageIdByEvent.get(te);return se||-1}getComposerId(ee){if(!ee)return-1;const te=this._messageIdByComposer.get(ee.constructor);return te||-1}}class SocketConnection extends EventDispatcher{constructor(ee,te){super(),this._communicationManager=ee,this._stateListener=te,this._socket=null,this._messages=new MessageClassManager,this._codec=new EvaWireFormat,this._dataBuffer=null,this._isReady=!1,this._pendingClientMessages=[],this._pendingServerMessages=[],this._isAuthenticated=!1,this.onOpen=this.onOpen.bind(this),this.onClose=this.onClose.bind(this),this.onError=this.onError.bind(this),this.onMessage=this.onMessage.bind(this)}init(ee){this._stateListener&&this._stateListener.connectionInit(ee),this.createSocket(ee)}onDispose(){super.onDispose(),this.destroySocket(),this._communicationManager=null,this._stateListener=null,this._messages=null,this._codec=null,this._dataBuffer=null}onReady(){this._isReady||(this._isReady=!0,this._pendingServerMessages&&this._pendingServerMessages.length&&this.processWrappers(...this._pendingServerMessages),this._pendingClientMessages&&this._pendingClientMessages.length&&this.send(...this._pendingClientMessages),this._pendingServerMessages=[],this._pendingClientMessages=[])}createSocket(ee){ee&&(this.destroySocket(),this._dataBuffer=new ArrayBuffer(0),this._socket=new WebSocket(ee),this._socket.addEventListener(WebSocketEventEnum.CONNECTION_OPENED,this.onOpen),this._socket.addEventListener(WebSocketEventEnum.CONNECTION_CLOSED,this.onClose),this._socket.addEventListener(WebSocketEventEnum.CONNECTION_ERROR,this.onError),this._socket.addEventListener(WebSocketEventEnum.CONNECTION_MESSAGE,this.onMessage))}destroySocket(){this._socket&&(this._socket.removeEventListener(WebSocketEventEnum.CONNECTION_OPENED,this.onOpen),this._socket.removeEventListener(WebSocketEventEnum.CONNECTION_CLOSED,this.onClose),this._socket.removeEventListener(WebSocketEventEnum.CONNECTION_ERROR,this.onError),this._socket.removeEventListener(WebSocketEventEnum.CONNECTION_MESSAGE,this.onMessage),this._socket.readyState===WebSocket.OPEN&&this._socket.close(),this._socket=null)}onOpen(ee){this.dispatchConnectionEvent(SocketConnectionEvent.CONNECTION_OPENED,ee)}onClose(ee){this.dispatchConnectionEvent(SocketConnectionEvent.CONNECTION_CLOSED,ee)}onError(ee){this.dispatchConnectionEvent(SocketConnectionEvent.CONNECTION_ERROR,ee)}onMessage(ee){if(!ee)return;const te=new FileReader;te.readAsArrayBuffer(ee.data),te.onloadend=()=>{this._dataBuffer=this.concatArrayBuffers(this._dataBuffer,te.result),this.processReceivedData()}}dispatchConnectionEvent(ee,te){this.dispatchEvent(new SocketConnectionEvent(ee,this,te))}authenticated(){this._isAuthenticated=!0}send(...ee){if(this.disposed||!ee)return!1;if(ee=[...ee],this._isAuthenticated&&!this._isReady)return this._pendingClientMessages||(this._pendingClientMessages=[]),this._pendingClientMessages.push(...ee),!1;for(const te of ee){if(!te)continue;const se=this._messages.getComposerId(te);if(se===-1){NitroLogger.packets("Unknown Composer",te.constructor.name);continue}const ne=te.getMessageArray(),le=this._codec.encode(se,ne);if(!le){NitroLogger.packets("Encoding Failed",te.constructor.name);continue}NitroLogger.packets("OutgoingComposer",se,te.constructor.name,ne),this.write(le.getBuffer())}return!0}write(ee){this._socket.readyState===WebSocket.OPEN&&this._socket.send(ee)}processReceivedData(){try{this.processData()}catch(ee){NitroLogger.error(ee)}}processData(){const ee=this.splitReceivedMessages();if(!(!ee||!ee.length)){if(this._isAuthenticated&&!this._isReady){this._pendingServerMessages||(this._pendingServerMessages=[]),this._pendingServerMessages.push(...ee);return}this.processWrappers(...ee)}}processWrappers(...ee){if(!(!ee||!ee.length))for(const te of ee){if(!te)continue;const se=this.getMessagesForWrapper(te);!se||!se.length||(NitroLogger.packets("IncomingMessage",te.header,se[0].constructor.name,se[0].parser),this.handleMessages(...se))}}splitReceivedMessages(){return!this._dataBuffer||!this._dataBuffer.byteLength?null:this._codec.decode(this)}concatArrayBuffers(ee,te){const se=new Uint8Array(ee.byteLength+te.byteLength);return se.set(new Uint8Array(ee),0),se.set(new Uint8Array(te),ee.byteLength),se.buffer}getMessagesForWrapper(ee){if(!ee)return null;const te=this._messages.getEvents(ee.header);if(!te||!te.length){NitroLogger.packets("IncomingMessage",ee.header,"UNREGISTERED",ee);return}try{const se=new te[0].parserClass;if(!se||!se.flush()||!se.parse(ee))return null;for(const ne of te)ne.parser=se}catch(se){return NitroLogger.error("Error parsing message",se,te[0].constructor.name),null}return te}handleMessages(...ee){ee=[...ee];for(const te of ee)te&&(te.connection=this,te.callBack&&te.callBack(te))}registerMessages(ee){ee&&this._messages.registerMessages(ee)}addMessageEvent(ee){!ee||!this._messages||this._messages.registerMessageEvent(ee)}removeMessageEvent(ee){!ee||!this._messages||this._messages.removeMessageEvent(ee)}get isAuthenticated(){return this._isAuthenticated}get dataBuffer(){return this._dataBuffer}set dataBuffer(ee){this._dataBuffer=ee}}class CommunicationManager extends Disposable{constructor(){super(),this._connections=[]}onDispose(){if(!(!this._connections||!this._connections.length))for(const ee of this._connections.values())ee&&ee.dispose()}createConnection(ee=null){const te=new SocketConnection(this,ee);if(te)return this._connections.push(te),te}update(ee){let te=0;for(;te<this._connections.length;){const se=this._connections[te];if(se.processReceivedData(),this.disposed)return;se.disposed?this._connections.splice(te,1):te++}}}const x2=class x2 extends NitroEvent{constructor(ee){super(ee)}};x2.LOADED="NCE_LOADED",x2.FAILED="NCE_FAILED";let ConfigurationEvent=x2;class ConfigurationManager extends NitroManager{constructor(){super(),this._definitions=new Map,this._config=[],this._pendingUrls=[],this._missingKeys=[],this.onConfigurationLoaded=this.onConfigurationLoaded.bind(this)}onInit(){NitroConfiguration.parseConfiguration(this.getDefaultConfig(),!0),this._pendingUrls=NitroConfiguration.getValue("config.urls").slice(),this.loadNextConfiguration()}loadNextConfiguration(){if(!this._pendingUrls.length){this.dispatchConfigurationEvent(ConfigurationEvent.LOADED);return}this.loadConfigurationFromUrl(this._pendingUrls[0])}loadConfigurationFromUrl(ee){if(!ee||ee===""){this.dispatchConfigurationEvent(ConfigurationEvent.FAILED);return}fetch(ee).then(te=>te.json()).then(te=>this.onConfigurationLoaded(te,ee)).catch(te=>this.onConfigurationFailed(te))}onConfigurationLoaded(ee,te){if(ee){if(NitroConfiguration.parseConfiguration(ee)){const se=this._pendingUrls.indexOf(te);se>=0&&this._pendingUrls.splice(se,1),this.loadNextConfiguration();return}this.dispatchConfigurationEvent(ConfigurationEvent.FAILED)}}onConfigurationFailed(ee){this.dispatchConfigurationEvent(ConfigurationEvent.FAILED)}dispatchConfigurationEvent(ee){this.events&&this.events.dispatchEvent(new ConfigurationEvent(ee))}getDefaultConfig(){return NitroConfig}}const LM=class LM{static sayHello(){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){const ee=[`
 %c %c %c Nitro ${LM.UI_VERSION} - Renderer ${LM.RENDERER_VERSION} %c %c %c https://discord.nitrodev.co %c %c 

`,"background: #ffffff; padding:5px 0;","background: #ffffff; padding:5px 0;","color: #ffffff; background: #000000; padding:5px 0;","background: #ffffff; padding:5px 0;","background: #ffffff; padding:5px 0;","background: #000000; padding:5px 0;","background: #ffffff; padding:5px 0;","background: #ffffff; padding:5px 0;"];self.console.log(...ee)}else self.console&&self.console.log(`Nitro ${LM.UI_VERSION} - Renderer ${LM.RENDERER_VERSION} `)}};LM.RENDERER_VERSION="1.6.6",LM.UI_VERSION="";let NitroVersion=LM;class NitroCore extends Disposable{constructor(){super(),NitroVersion.sayHello(),this._configuration=new ConfigurationManager,this._communication=new CommunicationManager}onDispose(){this._communication&&(this._communication.dispose(),this._communication=null)}get configuration(){return this._configuration}get communication(){return this._communication}}class ActionType{constructor(ee){this._id=parseInt(ee.id),this._value=parseInt(ee.id),this._prevents=ee.prevents||[],this._preventHeadTurn=ee.preventHeadTurn||!1,this._isAnimated=!0,ee.animated!==void 0&&ee.animated===!1&&(this._isAnimated=!1)}get id(){return this._id}get value(){return this._value}get prevents(){return this._prevents}get preventHeadTurn(){return this._preventHeadTurn}get isAnimated(){return this._isAnimated}}class ActionDefinition{constructor(ee){if(this._id=ee.id,this._state=ee.state,this._precedence=ee.precedence,this._activePartSet=ee.activePartSet,this._assetPartDefinition=ee.assetPartDefinition,this._lay=ee.lay,this._geometryType=ee.geometryType,this._isMain=ee.main||!1,this._isDefault=ee.isDefault||!1,this._isAnimation=ee.animation||!1,this._startFromFrameZero=ee.startFromFrameZero||!1,this._prevents=ee.prevents||[],this._preventHeadTurn=ee.preventHeadTurn||!1,this._types=new Map,this._params=new Map,this._defaultParameterValue="",this._canvasOffsets=null,ee.params&&ee.params.length>0)for(const te of ee.params)te&&(te.id==="default"?this._defaultParameterValue=te.value:this._params.set(te.id,te.value));if(ee.types&&ee.types.length>0)for(const te of ee.types){if(!te)continue;const se=new ActionType(te);this._types.set(se.id,se)}}setOffsets(ee,te,se){this._canvasOffsets||(this._canvasOffsets=new Map);let ne=this._canvasOffsets.get(ee);ne||(ne=new Map,this._canvasOffsets.set(ee,ne)),ne.set(te,se)}getOffsets(ee,te){if(!this._canvasOffsets)return null;const se=this._canvasOffsets.get(ee);return se?se.get(te):null}getType(ee){if(!ee)return null;const te=this._types.get(parseInt(ee));return te||null}getParameterValue(ee){if(!ee)return"";const te=this._params.get(ee);return te||this._defaultParameterValue}getPrevents(ee){return this._prevents.concat(this.getTypePrevents(ee))}getTypePrevents(ee){if(!ee)return[];const te=this._types.get(parseInt(ee));return te?te.prevents:[]}getPreventHeadTurn(ee){if(!ee)return this._preventHeadTurn;const te=this.getType(ee);return te?te.preventHeadTurn:this._preventHeadTurn}isAnimated(ee){if(!ee)return!0;const te=this.getType(ee);return te?te.isAnimated:!0}get id(){return this._id}get state(){return this._state}get precedence(){return this._precedence}get activePartSet(){return this._activePartSet}get assetPartDefinition(){return this._assetPartDefinition}get lay(){return this._lay}get geometryType(){return this._geometryType}get isMain(){return this._isMain}get isDefault(){return this._isDefault}get isAnimation(){return this._isAnimation}get startFromFrameZero(){return this._startFromFrameZero}get prevents(){return this._prevents}get preventHeadTurn(){return this._preventHeadTurn}get params(){return this._params}}class ActiveActionData{constructor(ee,te="",se=0){this._actionType=ee||"",this._actionParameter=te||"",this._definition=null,this._startFrame=se||0,this._overridingAction=null}dispose(){this._actionType=null,this._actionParameter=null,this._definition=null}get id(){return this._definition?this._definition.id+"_"+this._actionParameter:""}get actionType(){return this._actionType}get actionParameter(){return this._actionParameter}set actionParameter(ee){this._actionParameter=ee}get definition(){return this._definition}set definition(ee){this._definition=ee}get startFrame(){return this._startFrame}get overridingAction(){return this._overridingAction}set overridingAction(ee){this._overridingAction=ee}}class AvatarActionManager{constructor(ee,te){this._assets=ee,this._actions=new Map,this._defaultAction=null,this.updateActions(te)}updateActions(ee){if(ee){for(const te of ee.actions){if(!te||!te.state)continue;const se=new ActionDefinition(te);this._actions.set(se.state,se)}ee.actionOffsets&&this.parseActionOffsets(ee.actionOffsets)}}parseActionOffsets(ee){if(!(!ee||!ee.length))for(const te of ee){const se=this._actions.get(te.action);if(se)for(const ne of te.offsets){const le=ne.size||"",ue=ne.direction;if(le===""||ue===void 0)continue;const ce=ne.x||0,he=ne.y||0,de=ne.z||0;se.setOffsets(le,ue,[ce,he,de])}}}getActionDefinition(ee){if(!ee)return null;for(const te of this._actions.values())if(!(!te||te.id!==ee))return te;return null}getActionDefinitionWithState(ee){const te=this._actions.get(ee);return te||null}getDefaultAction(){if(this._defaultAction)return this._defaultAction;for(const ee of this._actions.values())if(!(!ee||!ee.isDefault))return this._defaultAction=ee,ee;return null}getCanvasOffsets(ee,te,se){let ne=[];for(const le of ee){if(!le)continue;const ue=this._actions.get(le.actionType),ce=ue&&ue.getOffsets(te,se);ce&&(ne=ce)}return ne}sortActions(ee){if(!ee)return null;ee=this.filterActions(ee);const te=[];for(const se of ee){if(!se)continue;const ne=this._actions.get(se.actionType);ne&&(se.definition=ne,te.push(se))}return te.sort(this.sortByPrecedence),te}filterActions(ee){let te=[];const se=[];for(const ne of ee){if(!ne)continue;const le=this._actions.get(ne.actionType);le&&(te=te.concat(le.getPrevents(ne.actionParameter)))}for(const ne of ee){if(!ne)continue;let le=ne.actionType;ne.actionType==="fx"&&(le=le+("."+ne.actionParameter)),!(te.indexOf(le)>=0)&&se.push(ne)}return se}sortByPrecedence(ee,te){if(!ee||!te)return 0;const se=ee.definition.precedence,ne=te.definition.precedence;return se<ne?1:se>ne?-1:0}}class AssetAlias{constructor(ee,te){this._name=ee,this._link=te.link,this._flipH=te.flipH,this._flipV=te.flipV}get name(){return this._name}get link(){return this._link}get flipH(){return this._flipH}get flipV(){return this._flipV}}class AssetAliasCollection{constructor(ee,te){this._avatarRenderManager=ee,this._aliases=new Map,this._assets=te,this._missingAssetNames=[]}dispose(){this._assets=null,this._aliases=null}reset(){this.init()}init(){for(const ee of this._assets.collections.values()){if(!ee)continue;const te=ee.data&&ee.data.aliases;if(te)for(const se in te){const ne=te[se];ne&&this._aliases.set(se,new AssetAlias(se,ne))}}}hasAlias(ee){return!!this._aliases.get(ee)}getAssetName(ee){let te=ee,se=5;for(;this.hasAlias(te)&&se>=0;)te=this._aliases.get(te).link,se--;return te}getAsset(ee){if(!this._assets)return null;ee=this.getAssetName(ee);const te=this._assets.getAsset(ee);return te||null}}class AddDataContainer{constructor(ee){this._id=ee.id||"",this._align=ee.align||"",this._base=ee.base||"",this._ink=ee.ink||0,this._blend=0;const te=ee.blend;te&&te.length>0&&(this._blend=parseInt(te),this._blend>1&&(this._blend=this._blend/100))}get id(){return this._id}get align(){return this._align}get base(){return this._base}get ink(){return this._ink}get blend(){return this._blend}get isBlended(){return this._blend!==1}}const O2=class O2{constructor(ee,te,se){if(this._id=ee.id,this._animationFrame=ee.frame||0,this._dx=ee.dx||0,this._dy=ee.dy||0,this._dz=ee.dz||0,this._directionOffset=ee.dd||0,this._type=te,this._base=ee.base||"",this._items=new Map,ee.items)for(const ne of ee.items)this._items.set(ne.id,ne.base);this._base!==""&&this.baseAsInt().toString(),se&&(this._action=new ActiveActionData(se.state,this.base),this._action.definition=se)}get items(){return this._items}baseAsInt(){let ee=0,te=0;for(;te<this._base.length;)ee=ee+this._base.charCodeAt(te),te++;return ee}get id(){return this._id}get animationFrame(){return this._animationFrame}get dx(){return this._dx}get dy(){return this._dy}get dz(){return this._dz}get dd(){return this._directionOffset}get type(){return this._type}get base(){return this._base}get action(){return this._action}};O2.BODYPART="bodypart",O2.FX="fx";let AvatarAnimationLayerData=O2;class AvatarDataContainer{constructor(ee){this._ink=ee.ink;let te=ee.foreground,se=ee.background;te=te.replace("#",""),se=se.replace("#",""),this._foreGround=parseInt(te,16),this._backGround=parseInt(se,16),this._colorTransform=null,this._rgb=parseInt(te,16),this._r=this._rgb>>16&255,this._g=this._rgb>>8&255,this._b=this._rgb>>0&255,this._redMultiplier=this._r/255*1,this._greenMultiplier=this._g/255*1,this._blueMultiplier=this._b/255*1,this._alphaMultiplier=1,this._paletteIsGrayscale=!0,this._ink===37&&(this._alphaMultiplier=.5,this._paletteIsGrayscale=!1),this._colorTransform=new AdjustmentFilter({red:this._r/255,green:this._g/255,blue:this._b/255,alpha:this._alphaMultiplier}),this._colorMap=this.generatePaletteMapForGrayscale(this._backGround,this._foreGround)}get ink(){return this._ink}get colorTransform(){return this._colorTransform}get reds(){return this._colorMap.get("reds")}get greens(){return this._colorMap.get("greens")}get blues(){return this._colorMap.get("blues")}get alphas(){return this._colorMap.get("alphas")}get paletteIsGrayscale(){return this._paletteIsGrayscale}generatePaletteMapForGrayscale(ee,te){const se=ee>>24&255,ne=ee>>16&255,le=ee>>8&255,ue=ee>>0&255,ce=te>>24&255,he=te>>16&255,de=te>>8&255,_e=te>>0&255,fe=(ce-se)/255,ye=(he-ne)/255,be=(de-le)/255,Pe=(_e-ue)/255,Ne=new Map,we=[],De=[],$e=[];let Ge=se,Be=ne,ze=le,$t=ue;for(let ut=0;ut<256;ut++)Be==ne&&ze==le&&$t==ue&&(Ge=0),Ge=Ge+fe,Be=Be+ye,ze=ze+be,$t=$t+Pe,we.push(Ge<<24|Be<<16|ze<<8|$t),De.push(Ge<<24|Be<<16|ze<<8|$t),$e.push(Ge<<24|Be<<16|ze<<8|$t);return Ne.set("alphas",we),Ne.set("reds",we),Ne.set("greens",De),Ne.set("blues",$e),Ne}}class DirectionDataContainer{constructor(ee){this._offset=ee.offset}get offset(){return this._offset}}class SpriteDataContainer{constructor(ee,te){this._animation=ee,this._id=te.id,this._ink=te.ink,this._member=te.member,this._hasStaticY=!!te.staticY,this._hasDirections=!!te.directions,this._dx=[],this._dy=[],this._dz=[];const se=te.directionList;if(se&&se.length)for(const ne of se){const le=ne.id;le!==void 0&&(this._dx[le]=ne.dx||0,this._dy[le]=ne.dy||0,this._dz[le]=ne.dz||0)}}getDirectionOffsetX(ee){return ee<this._dx.length?this._dx[ee]:0}getDirectionOffsetY(ee){return ee<this._dy.length?this._dy[ee]:0}getDirectionOffsetZ(ee){return ee<this._dz.length?this._dz[ee]:0}get animation(){return this._animation}get id(){return this._id}get ink(){return this._ink}get member(){return this._member}get hasDirections(){return this._hasDirections}get hasStaticY(){return this._hasStaticY}}let Animation$1=(nM=class{constructor(ee,te){if(this._id=te.name,this._description=this._id,this._frames=[],this._spriteData=null,this._avatarData=null,this._directionData=null,this._removeData=null,this._addData=null,this._overriddenActions=null,this._overrideFrames=null,this._resetOnToggle=te.resetOnToggle||!1,te.sprites&&te.sprites.length){this._spriteData=[];for(const se of te.sprites)this._spriteData.push(new SpriteDataContainer(this,se))}if(te.avatars&&te.avatars.length&&(this._avatarData=new AvatarDataContainer(te.avatars[0])),te.directions&&te.directions.length&&(this._directionData=new DirectionDataContainer(te.directions[0])),te.removes&&te.removes.length){this._removeData=[];for(const se of te.removes)this._removeData.push(se.id)}if(te.adds&&te.adds.length){this._addData=[];for(const se of te.adds)this._addData.push(new AddDataContainer(se))}if(te.overrides&&te.overrides.length){this._overrideFrames=new Map,this._overriddenActions=new Map;for(const se of te.overrides){const ne=se.name,le=se.override;this._overriddenActions.set(le,ne);const ue=[];this.parseFrames(ue,se.frames,ee),this._overrideFrames.set(ne,ue)}}this.parseFrames(this._frames,te.frames,ee)}parseFrames(ee,te,se){if(!(!te||!te.length))for(const ne of te){let le=1;ne.repeats&&ne.repeats>1&&(le=ne.repeats);let ue=0;for(;ue<le;){const ce=[];if(ne.bodyparts&&ne.bodyparts.length)for(const he of ne.bodyparts){const de=se.getActionDefinition(he.action),_e=new AvatarAnimationLayerData(he,AvatarAnimationLayerData.BODYPART,de);ce.push(_e)}if(ne.fxs&&ne.fxs.length)for(const he of ne.fxs){const de=se.getActionDefinition(he.action),_e=new AvatarAnimationLayerData(he,AvatarAnimationLayerData.FX,de);ce.push(_e)}ee.push(ce),ue++}}}frameCount(ee=null){if(!ee)return this._frames.length;if(this._overrideFrames){const te=this._overrideFrames.get(ee);if(te)return te.length}return 0}hasOverriddenActions(){return this._overriddenActions?this._overriddenActions.size>0:!1}overriddenActionNames(){if(!this._overriddenActions)return null;const ee=[];for(const te of this._overriddenActions.keys())ee.push(te);return ee}overridingAction(ee){return this._overriddenActions?this._overriddenActions.get(ee):null}getFrame(ee,te=null){ee<0&&(ee=0);let se=[];if(!te)this._frames.length>0&&(se=this._frames[ee%this._frames.length]);else{const ne=this._overrideFrames.get(te);ne&&ne.length>0&&(se=ne[ee%ne.length])}return se}getAnimatedBodyPartIds(ee,te=null){const se=[];for(const ne of this.getFrame(ee,te))if(ne.type===AvatarAnimationLayerData.BODYPART)se.push(ne.id);else if(ne.type===AvatarAnimationLayerData.FX&&this._addData&&this._addData.length)for(const le of this._addData)le.id===ne.id&&se.push(le.align);return se}getLayerData(ee,te,se=null){for(const ne of this.getFrame(ee,se)){if(ne.id===te)return ne;if(ne.type===AvatarAnimationLayerData.FX&&this._addData&&this._addData.length){for(const le of this._addData)if(le.align===te&&le.id===ne.id)return ne}}return null}hasAvatarData(){return this._avatarData!==null}hasDirectionData(){return this._directionData!==null}hasAddData(){return this._addData!==null}getAddData(ee){if(this._addData){for(const te of this._addData)if(te.id===ee)return te}return null}get id(){return this._id}get spriteData(){return this._spriteData||nM.EMPTY_ARRAY}get avatarData(){return this._avatarData}get directionData(){return this._directionData}get removeData(){return this._removeData||nM.EMPTY_ARRAY}get addData(){return this._addData||nM.EMPTY_ARRAY}toString(){return this._description}get resetOnToggle(){return this._resetOnToggle}},nM.EMPTY_ARRAY=[],nM);class AnimationManager{constructor(){this._animations=new Map}registerAnimation(ee,te){if(!te)return!1;const se=te[Object.keys(te)[0]],ne=new Animation$1(ee,se);return this._animations.set(se.name,ne),!0}getAnimation(ee){const te=this._animations.get(ee);return te||null}getLayerData(ee,te,se){const ne=this.getAnimation(ee);return ne?ne.getLayerData(te,se):null}get animations(){return this._animations}}const lI=class lI extends EventDispatcher{constructor(ee,te,se,ne){super(),this._state=lI.NOT_LOADED,this._libraryName=ee,this._revision=te,this._downloadUrl=ne,this._assets=se,this._downloadUrl=this._downloadUrl.replace(/%libname%/gi,this._libraryName),this._downloadUrl=this._downloadUrl.replace(/%revision%/gi,this._revision),this._assets.getCollection(this._libraryName)&&(this._state=lI.LOADED)}async downloadAsset(){if(!this._assets||this._state===lI.LOADING||this._state===lI.LOADED)return;if(this._assets.getCollection(this._libraryName)){this._state=lI.LOADED,this.dispatchEvent(new AvatarRenderLibraryEvent(AvatarRenderLibraryEvent.DOWNLOAD_COMPLETE,this));return}this._state=lI.LOADING,await this._assets.downloadAsset(this._downloadUrl)&&(this._state=lI.LOADED,this.dispatchEvent(new AvatarRenderLibraryEvent(AvatarRenderLibraryEvent.DOWNLOAD_COMPLETE,this)))}get libraryName(){return this._libraryName}get isLoaded(){return this._state===lI.LOADED}};lI.DOWNLOAD_COMPLETE="AADL_DOWNLOAD_COMPLETE",lI.NOT_LOADED=0,lI.LOADING=1,lI.LOADED=2;let AvatarAssetDownloadLibrary=lI;const vP=class vP extends EventDispatcher{constructor(ee,te){super(),this._assets=ee,this._structure=te,this._missingMandatoryLibs=NitroConfiguration.getValue("avatar.mandatory.libraries"),this._figureMap=new Map,this._pendingContainers=[],this._figureListeners=new Map,this._incompleteFigures=new Map,this._pendingDownloadQueue=[],this._currentDownloads=[],this._libraryNames=[],this._isReady=!1,this.onLibraryLoaded=this.onLibraryLoaded.bind(this),this.onAvatarRenderReady=this.onAvatarRenderReady.bind(this),this.loadFigureMap(),this._structure.renderManager.events.addEventListener(AvatarRenderEvent.AVATAR_RENDER_READY,this.onAvatarRenderReady)}loadFigureMap(){const ee=new XMLHttpRequest;try{ee.open("GET",NitroConfiguration.getValue("avatar.figuremap.url")),ee.send(),ee.onloadend=te=>{if(ee.responseText){const se=JSON.parse(ee.responseText);this.processFigureMap(se.libraries),this.processMissingLibraries(),this._isReady=!0,this.dispatchEvent(new NitroEvent(vP.DOWNLOADER_READY))}},ee.onerror=te=>{throw new Error("invalid_avatar_figure_map")}}catch(te){NitroLogger.error(te)}}processFigureMap(ee){if(ee)for(const te of ee){if(!te)continue;const se=te.id,ne=te.revision||"";if(this._libraryNames.indexOf(se)>=0)continue;this._libraryNames.push(se);const le=new AvatarAssetDownloadLibrary(se,ne,this._assets,NitroConfiguration.getValue("avatar.asset.url"));le.addEventListener(AvatarRenderLibraryEvent.DOWNLOAD_COMPLETE,this.onLibraryLoaded);for(const ue of te.parts){const ce=ue.id,de=ue.type+":"+ce;let _e=this._figureMap.get(de);_e||(_e=[]),_e.push(le),this._figureMap.set(de,_e)}}}onAvatarRenderReady(ee){if(ee){for(const[te,se]of this._pendingContainers)this.downloadAvatarFigure(te,se);this._pendingContainers=[]}}onLibraryLoaded(ee){if(!ee||!ee.library)return;const te=[];for(const[ne,le]of this._incompleteFigures.entries()){let ue=!0;for(const ce of le)if(!(!ce||ce.isLoaded)){ue=!1;break}if(ue){te.push(ne);const ce=this._figureListeners.get(ne);if(ce)for(const he of ce)!he||he.disposed||he.resetFigure(ne);this._figureListeners.delete(ne),this.dispatchEvent(new NitroEvent(vP.LIBRARY_LOADED))}}for(const ne of te)ne&&this._incompleteFigures.delete(ne);let se=0;for(;se<this._currentDownloads.length;){const ne=this._currentDownloads[se];ne&&ne.libraryName===ee.library.libraryName&&this._currentDownloads.splice(se,1),se++}}processMissingLibraries(){const ee=this._missingMandatoryLibs.slice();for(const te of ee){if(!te)continue;const se=this._figureMap.get(te);if(se)for(const ne of se)ne&&this.downloadLibrary(ne)}}isAvatarFigureContainerReady(ee){return!this._isReady||!this._structure.renderManager.isReady?!1:!this.getAvatarFigurePendingLibraries(ee).length}getAvatarFigurePendingLibraries(ee){const te=[];if(!ee||!this._structure)return te;const se=this._structure.figureData;if(!se)return te;const ne=ee.getPartTypeIds();for(const le of ne){const ue=se.getSetType(le);if(!ue)continue;const ce=ue.getPartSet(ee.getPartSetId(le));if(ce)for(const he of ce.parts){if(!he)continue;const de=he.type+":"+he.id,_e=this._figureMap.get(de);if(_e!==void 0)for(const fe of _e)!fe||fe.isLoaded||te.indexOf(fe)>=0||te.push(fe)}}return te}downloadAvatarFigure(ee,te){if(!this._isReady||!this._structure.renderManager.isReady){this._pendingContainers.push([ee,te]);return}const se=ee.getFigureString(),ne=this.getAvatarFigurePendingLibraries(ee);if(ne&&ne.length){if(te&&!te.disposed){let le=this._figureListeners.get(se);le||(le=[],this._figureListeners.set(se,le)),le.push(te)}this._incompleteFigures.set(se,ne);for(const le of ne)le&&this.downloadLibrary(le)}else te&&!te.disposed&&te.resetFigure(se)}downloadLibrary(ee){!ee||ee.isLoaded||this._pendingDownloadQueue.indexOf(ee)>=0||this._currentDownloads.indexOf(ee)>=0||(this._pendingDownloadQueue.push(ee),this.processDownloadQueue())}processDownloadQueue(){for(;this._pendingDownloadQueue.length;)this._pendingDownloadQueue[0].downloadAsset(),this._currentDownloads.push(this._pendingDownloadQueue.shift())}};vP.DOWNLOADER_READY="AADM_DOWNLOADER_READY",vP.LIBRARY_LOADED="AADM_LIBRARY_LOADED",vP.MAX_DOWNLOADS=2;let AvatarAssetDownloadManager=vP;class AvatarFigureContainer{constructor(ee){this._parts=new Map,this.parseFigure(ee)}getPartTypeIds(){return this.partSets().keys()}hasPartType(ee){return!!this.partSets().get(ee)}getPartSetId(ee){const te=this.partSets().get(ee);return te?te.get("setid"):0}getPartColorIds(ee){const te=this.partSets().get(ee);return te?te.get("colorids"):null}updatePart(ee,te,se){const ne=new Map;ne.set("type",ee),ne.set("setid",te),ne.set("colorids",se);const le=this.partSets();le.delete(ee),le.set(ee,ne)}removePart(ee){this.partSets().delete(ee)}getFigureString(){const ee=[];for(const te of this.partSets().keys()){if(!te)continue;let se=[];se.push(te),se.push(this.getPartSetId(te)),se=se.concat(this.getPartColorIds(te)),ee.push(se.join("-"))}return ee.join(".")}partSets(){return this._parts||(this._parts=new Map),this._parts}parseFigure(ee){ee||(ee="");for(const te of ee.split(".")){const se=te.split("-");if(se.length>=2){const ne=se[0],le=parseInt(se[1]),ue=[];let ce=2;for(;ce<se.length;)ue.push(parseInt(se[ce])),ce++;this.updatePart(ne,le,ue)}}}}/*!
 * @pixi/filter-color-matrix - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics$4=function(ie,ee){return extendStatics$4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,se){te.__proto__=se}||function(te,se){for(var ne in se)se.hasOwnProperty(ne)&&(te[ne]=se[ne])},extendStatics$4(ie,ee)};function __extends$4(ie,ee){extendStatics$4(ie,ee);function te(){this.constructor=ie}ie.prototype=ee===null?Object.create(ee):(te.prototype=ee.prototype,new te)}var fragment$1=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,ColorMatrixFilter=function(ie){__extends$4(ee,ie);function ee(){var te=this,se={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return te=ie.call(this,defaultFilterVertex,fragment$1,se)||this,te.alpha=1,te}return ee.prototype._loadMatrix=function(te,se){se===void 0&&(se=!1);var ne=te;se&&(this._multiply(ne,this.uniforms.m,te),ne=this._colorMatrix(ne)),this.uniforms.m=ne},ee.prototype._multiply=function(te,se,ne){return te[0]=se[0]*ne[0]+se[1]*ne[5]+se[2]*ne[10]+se[3]*ne[15],te[1]=se[0]*ne[1]+se[1]*ne[6]+se[2]*ne[11]+se[3]*ne[16],te[2]=se[0]*ne[2]+se[1]*ne[7]+se[2]*ne[12]+se[3]*ne[17],te[3]=se[0]*ne[3]+se[1]*ne[8]+se[2]*ne[13]+se[3]*ne[18],te[4]=se[0]*ne[4]+se[1]*ne[9]+se[2]*ne[14]+se[3]*ne[19]+se[4],te[5]=se[5]*ne[0]+se[6]*ne[5]+se[7]*ne[10]+se[8]*ne[15],te[6]=se[5]*ne[1]+se[6]*ne[6]+se[7]*ne[11]+se[8]*ne[16],te[7]=se[5]*ne[2]+se[6]*ne[7]+se[7]*ne[12]+se[8]*ne[17],te[8]=se[5]*ne[3]+se[6]*ne[8]+se[7]*ne[13]+se[8]*ne[18],te[9]=se[5]*ne[4]+se[6]*ne[9]+se[7]*ne[14]+se[8]*ne[19]+se[9],te[10]=se[10]*ne[0]+se[11]*ne[5]+se[12]*ne[10]+se[13]*ne[15],te[11]=se[10]*ne[1]+se[11]*ne[6]+se[12]*ne[11]+se[13]*ne[16],te[12]=se[10]*ne[2]+se[11]*ne[7]+se[12]*ne[12]+se[13]*ne[17],te[13]=se[10]*ne[3]+se[11]*ne[8]+se[12]*ne[13]+se[13]*ne[18],te[14]=se[10]*ne[4]+se[11]*ne[9]+se[12]*ne[14]+se[13]*ne[19]+se[14],te[15]=se[15]*ne[0]+se[16]*ne[5]+se[17]*ne[10]+se[18]*ne[15],te[16]=se[15]*ne[1]+se[16]*ne[6]+se[17]*ne[11]+se[18]*ne[16],te[17]=se[15]*ne[2]+se[16]*ne[7]+se[17]*ne[12]+se[18]*ne[17],te[18]=se[15]*ne[3]+se[16]*ne[8]+se[17]*ne[13]+se[18]*ne[18],te[19]=se[15]*ne[4]+se[16]*ne[9]+se[17]*ne[14]+se[18]*ne[19]+se[19],te},ee.prototype._colorMatrix=function(te){var se=new Float32Array(te);return se[4]/=255,se[9]/=255,se[14]/=255,se[19]/=255,se},ee.prototype.brightness=function(te,se){var ne=[te,0,0,0,0,0,te,0,0,0,0,0,te,0,0,0,0,0,1,0];this._loadMatrix(ne,se)},ee.prototype.tint=function(te,se){var ne=te>>16&255,le=te>>8&255,ue=te&255,ce=[ne/255,0,0,0,0,0,le/255,0,0,0,0,0,ue/255,0,0,0,0,0,1,0];this._loadMatrix(ce,se)},ee.prototype.greyscale=function(te,se){var ne=[te,te,te,0,0,te,te,te,0,0,te,te,te,0,0,0,0,0,1,0];this._loadMatrix(ne,se)},ee.prototype.blackAndWhite=function(te){var se=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(se,te)},ee.prototype.hue=function(te,se){te=(te||0)/180*Math.PI;var ne=Math.cos(te),le=Math.sin(te),ue=Math.sqrt,ce=1/3,he=ue(ce),de=ne+(1-ne)*ce,_e=ce*(1-ne)-he*le,fe=ce*(1-ne)+he*le,ye=ce*(1-ne)+he*le,be=ne+ce*(1-ne),Pe=ce*(1-ne)-he*le,Ne=ce*(1-ne)-he*le,we=ce*(1-ne)+he*le,De=ne+ce*(1-ne),$e=[de,_e,fe,0,0,ye,be,Pe,0,0,Ne,we,De,0,0,0,0,0,1,0];this._loadMatrix($e,se)},ee.prototype.contrast=function(te,se){var ne=(te||0)+1,le=-.5*(ne-1),ue=[ne,0,0,0,le,0,ne,0,0,le,0,0,ne,0,le,0,0,0,1,0];this._loadMatrix(ue,se)},ee.prototype.saturate=function(te,se){te===void 0&&(te=0);var ne=te*2/3+1,le=(ne-1)*-.5,ue=[ne,le,le,0,0,le,ne,le,0,0,le,le,ne,0,0,0,0,0,1,0];this._loadMatrix(ue,se)},ee.prototype.desaturate=function(){this.saturate(-1)},ee.prototype.negative=function(te){var se=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(se,te)},ee.prototype.sepia=function(te){var se=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(se,te)},ee.prototype.technicolor=function(te){var se=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(se,te)},ee.prototype.polaroid=function(te){var se=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(se,te)},ee.prototype.toBGR=function(te){var se=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(se,te)},ee.prototype.kodachrome=function(te){var se=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(se,te)},ee.prototype.browni=function(te){var se=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(se,te)},ee.prototype.vintage=function(te){var se=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(se,te)},ee.prototype.colorTone=function(te,se,ne,le,ue){te=te||.2,se=se||.15,ne=ne||16770432,le=le||3375104;var ce=(ne>>16&255)/255,he=(ne>>8&255)/255,de=(ne&255)/255,_e=(le>>16&255)/255,fe=(le>>8&255)/255,ye=(le&255)/255,be=[.3,.59,.11,0,0,ce,he,de,te,0,_e,fe,ye,se,0,ce-_e,he-fe,de-ye,0,0];this._loadMatrix(be,ue)},ee.prototype.night=function(te,se){te=te||.1;var ne=[te*-2,-te,0,0,0,-te,0,te,0,0,0,te,te*2,0,0,0,0,0,1,0];this._loadMatrix(ne,se)},ee.prototype.predator=function(te,se){var ne=[11.224130630493164*te,-4.794486999511719*te,-2.8746118545532227*te,0*te,.40342438220977783*te,-3.6330697536468506*te,9.193157196044922*te,-2.951810836791992*te,0*te,-1.316135048866272*te,-3.2184197902679443*te,-4.2375030517578125*te,7.476448059082031*te,0*te,.8044459223747253*te,0,0,0,1,0];this._loadMatrix(ne,se)},ee.prototype.lsd=function(te){var se=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(se,te)},ee.prototype.reset=function(){var te=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(te,!1)},Object.defineProperty(ee.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(te){this.uniforms.m=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(te){this.uniforms.uAlpha=te},enumerable:!1,configurable:!0}),ee}(Filter$1);ColorMatrixFilter.prototype.grayscale=ColorMatrixFilter.prototype.greyscale;class AvatarImageActionCache{constructor(){this._cache=new Map,this.setLastAccessTime(GetTickerTime())}dispose(){if(this.debugInfo("[dispose]"),!!this._cache){for(const ee of this._cache.values())ee&&ee.dispose();this._cache.clear()}}getDirectionCache(ee){const te=this._cache.get(ee.toString());return te||null}updateDirectionCache(ee,te){this._cache.set(ee.toString(),te)}setLastAccessTime(ee){this._lastAccessTime=ee}getLastAccessTime(){return this._lastAccessTime}debugInfo(ee){}}class AvatarImageBodyPartCache{constructor(){this._cache=new Map}setAction(ee,te){this._currentAction||(this._currentAction=ee);const se=this.getActionCache(this._currentAction);se&&se.setLastAccessTime(te),this._currentAction=ee}dispose(){if(!this._disposed){if(!this._cache)return;this.disposeActions(0,2147483647),this._cache.clear(),this._cache=null,this._disposed=!0}}disposeActions(ee,te){if(!(!this._cache||this._disposed))for(const[se,ne]of this._cache.entries()){if(!ne)continue;const le=ne.getLastAccessTime();te-le>=ee&&(ne.dispose(),this._cache.delete(se))}}getAction(){return this._currentAction}setDirection(ee){this._currentDirection=ee}getDirection(){return this._currentDirection}getActionCache(ee=null){return this._currentAction?(ee||(ee=this._currentAction),ee.overridingAction?this._cache.get(ee.overridingAction):this._cache.get(ee.id)):null}updateActionCache(ee,te){ee.overridingAction?this._cache.set(ee.overridingAction,te):this._cache.set(ee.id,te)}debugInfo(ee){}}class AvatarImageBodyPartContainer{constructor(ee,te,se){this._image=ee,this._regPoint=te,this._offset=new Point$1(0,0),this._regPoint=te,this._isCacheable=se,this.cleanPoints()}dispose(){this._image&&this._image.destroy({children:!0}),this._image=null,this._regPoint=null,this._offset=null}cleanPoints(){}setRegPoint(ee){this._regPoint=ee,this.cleanPoints()}get image(){return this._image}set image(ee){this._image&&this._image!==ee&&this._image.destroy({children:!0}),this._image=ee}get regPoint(){const ee=this._regPoint.clone();return ee.x+=this._offset.x,ee.y+=this._offset.y,ee}set offset(ee){this._offset=ee,this.cleanPoints()}get isCacheable(){return this._isCacheable}}class AvatarImageDirectionCache{constructor(ee){this._partList=ee,this._images=new Map}dispose(){for(const ee of this._images.values())ee&&ee.dispose();this._images=null}getPartList(){return this._partList}getImageContainer(ee){const te=this._images.get(this.getCacheKey(ee));return te||null}updateImageContainer(ee,te){const se=this.getCacheKey(te),ne=this._images.get(se);ne&&ne.dispose(),this._images.set(se,ee)}getCacheKey(ee){let te="";for(const se of this._partList)te+=se.getCacheableKey(ee)+"/";return te}debugInfo(ee){}}class ImageData{constructor(ee,te,se,ne,le,ue=null){this._texture=ee,this._container=ue,this._rect=te,this._regPoint=se,this._flipH=ne,this._colorTransform=le,ne&&(this._regPoint.x=-this._regPoint.x+te.width)}dispose(){this._texture=null,this._regPoint=null,this._colorTransform=null}get texture(){return this._texture}get container(){return this._container}get rect(){return this._rect}get regPoint(){return this._regPoint}get flipH(){return this._flipH}get colorTransform(){return this._colorTransform}get offsetRect(){return new Rectangle$1(-this._regPoint.x,-this._regPoint.y,this._rect.width,this._rect.height)}}const CF=class CF{constructor(ee,te,se,ne){this._structure=ee,this._avatar=te,this._assets=se,this._scale=ne,this._cache=new Map,this._canvas=null,this._disposed=!1,this._unionImages=[],this._matrix=new Matrix$1,this._serverRenderData=[]}dispose(){if(!this._disposed){if(this._structure=null,this._avatar=null,this._assets=null,this._canvas=null,this._disposed=!0,this._cache){for(const ee of this._cache.values())ee&&ee.dispose();this._cache=null}if(this._unionImages){for(const ee of this._unionImages)ee&&ee.dispose();this._unionImages=[]}}}disposeInactiveActions(ee=6e4){const te=GetTickerTime();if(this._cache)for(const se of this._cache.values())se&&se.disposeActions(ee,te)}resetBodyPartCache(ee){if(this._cache)for(const te of this._cache.values())te&&te.setAction(ee,0)}setDirection(ee,te){const se=this._structure.getBodyPartsUnordered(ee);if(se)for(const ne of se){const le=this.getBodyPartCache(ne);le&&le.setDirection(te)}}setAction(ee,te){const se=this._structure.getActiveBodyPartIds(ee,this._avatar);for(const ne of se){const le=this.getBodyPartCache(ne);le&&le.setAction(ee,te)}}setGeometryType(ee){if(this._geometryType!==ee){if(this._geometryType===GeometryType.SITTING&&ee===GeometryType.VERTICAL||this._geometryType===GeometryType.VERTICAL&&ee===GeometryType.SITTING||this._geometryType===GeometryType.SNOWWARS_HORIZONTAL&&(ee=GeometryType.SNOWWARS_HORIZONTAL)){this._geometryType=ee,this._canvas=null;return}this.disposeInactiveActions(0),this._geometryType=ee,this._canvas=null}}getImageContainer(ee,te,se=!1){let ne=this.getBodyPartCache(ee);ne||(ne=new AvatarImageBodyPartCache,this._cache.set(ee,ne));let le=ne.getDirection(),ue=ne.getAction(),ce=te;ue.definition.startFromFrameZero&&(ce-=ue.startFrame);let he=ue,de=[],_e=new Map;const fe=new Point$1;if(!(!ue||!ue.definition)&&ue.definition.isAnimation){let we=le;const De=this._structure.getAnimation(ue.definition.state+"."+ue.actionParameter),$e=te-ue.startFrame;if(De){const Ge=De.getLayerData($e,ee,ue.overridingAction);Ge&&(we=le+Ge.dd,Ge.dd<0?we<0?we=8+we:we>7&&(we=8-we):we<0?we=we+8:we>7&&(we=we-8),this._scale===AvatarScaleType.LARGE?(fe.x=Ge.dx,fe.y=Ge.dy):(fe.x=Ge.dx/2,fe.y=Ge.dy/2),ce=Ge.animationFrame,Ge.action&&(ue=Ge.action),Ge.type===AvatarAnimationLayerData.BODYPART?(Ge.action!=null&&(he=Ge.action),le=we):Ge.type===AvatarAnimationLayerData.FX&&(le=we),_e=Ge.items),de=De.removeData}}let ye=ne.getActionCache(he);(!ye||se)&&(ye=new AvatarImageActionCache,ne.updateActionCache(he,ye));let be=ye.getDirectionCache(le);if(!be||se){const we=this._structure.getParts(ee,this._avatar.getFigure(),he,this._geometryType,le,de,this._avatar,_e);be=new AvatarImageDirectionCache(we),ye.updateDirectionCache(le,be)}let Pe=be.getImageContainer(ce);if(!Pe||se){const we=be.getPartList();if(Pe=this.renderBodyPart(le,we,ce,ue,se),Pe&&!se)Pe.isCacheable&&be.updateImageContainer(Pe,ce);else return null}const Ne=this._structure.getFrameBodyPartOffset(he,le,ce,ee);return fe.x+=Ne.x,fe.y+=Ne.y,Pe.offset=fe,Pe}getServerRenderData(){return this._serverRenderData=[],this._serverRenderData}getBodyPartCache(ee){let te=this._cache.get(ee);return te||(te=new AvatarImageBodyPartCache,this._cache.set(ee,te)),te}renderBodyPart(ee,te,se,ne,le=!1){if(!te||!te.length||!this._canvas&&(this._canvas=this._structure.getCanvas(this._scale,this._geometryType),!this._canvas))return null;const ue=AvatarDirectionAngle.DIRECTION_IS_FLIPPED[ee]||!1;let ce=ne.definition.assetPartDefinition,he=!0,de=te.length-1;for(;de>=0;){const Pe=te[de];let Ne=16777215;if(!(ee==7&&(Pe.partType==="fc"||Pe.partType==="ey"))&&!(Pe.partType==="ri"&&!Pe.partId)){const we=Pe.partId,De=Pe.getFrameDefinition(se);let $e=Pe.partType,Ge=0;De?(Ge=De.number,De.assetPartDefinition&&De.assetPartDefinition!==""&&(ce=De.assetPartDefinition)):Ge=Pe.getFrameIndex(se);let Be=ee,ze=!1;ue&&(ce==="wav"&&($e===AvatarFigurePartType.LEFT_HAND||$e===AvatarFigurePartType.LEFT_SLEEVE||$e===AvatarFigurePartType.LEFT_COAT_SLEEVE)||ce==="drk"&&($e===AvatarFigurePartType.RIGHT_HAND||$e===AvatarFigurePartType.RIGHT_SLEEVE||$e===AvatarFigurePartType.RIGHT_COAT_SLEEVE)||ce==="blw"&&$e===AvatarFigurePartType.RIGHT_HAND||ce==="sig"&&$e===AvatarFigurePartType.LEFT_HAND||ce==="respect"&&$e===AvatarFigurePartType.LEFT_HAND||$e===AvatarFigurePartType.RIGHT_HAND_ITEM||$e===AvatarFigurePartType.LEFT_HAND_ITEM||$e===AvatarFigurePartType.CHEST_PRINT?ze=!0:(ee===4?Be=2:ee===5?Be=1:ee===6&&(Be=0),Pe.flippedPartType!==$e&&($e=Pe.flippedPartType)));let $t=this._scale+"_"+ce+"_"+$e+"_"+we+"_"+Be+"_"+Ge,ut=this._assets.getAsset($t);if(ut||($t=this._scale+"_std_"+$e+"_"+we+"_"+Be+"_0",ut=this._assets.getAsset($t)),ut){const Ti=ut.texture;if(!Ti||!Ti.valid||!Ti.baseTexture)he=!1;else{Pe.isColorable&&Pe.color&&(Ne=Pe.color.rgb);const Hi=new Point$1(-ut.x,-ut.y);if(ze&&(Hi.x=Hi.x+(this._scale===AvatarScaleType.LARGE?65:31)),le){const bn=new RoomObjectSpriteData;bn.name=this._assets.getAssetName($t),bn.x=-Hi.x-33,bn.y=-Hi.y,bn.z=this._serverRenderData.length*-1e-4,bn.width=ut.rectangle.width,bn.height=ut.rectangle.height,bn.flipH=ze,ce==="lay"&&(bn.x=bn.x+53),ue&&(bn.flipH=!bn.flipH,bn.flipH?bn.x=-bn.x-Ti.width:bn.x=bn.x+65),Pe.isColorable&&(bn.color=`${Ne}`),this._serverRenderData.push(bn)}this._unionImages.push(new ImageData(Ti,ut.rectangle,Hi,ze,Ne))}}}de--}if(!this._unionImages.length)return null;const _e=this.createUnionImage(this._unionImages,ue),fe=this._scale===AvatarScaleType.LARGE?this._canvas.height-16:this._canvas.height-8,ye=new Point$1(-_e.regPoint.x,fe-_e.regPoint.y);ue&&ce!=="lay"&&(ye.x=ye.x+(this._scale===AvatarScaleType.LARGE?67:31));let be=this._unionImages.length-1;for(;be>=0;){const Pe=this._unionImages.pop();Pe&&Pe.dispose(),be--}return new AvatarImageBodyPartContainer(_e.container,ye,he)}convertColorToHex(ee){let te=(ee*255).toString(16);return te.length<2&&(te="0"+te),te}createUnionImage(ee,te){const se=new Rectangle$1;for(const ce of ee)ce&&se.enlarge(ce.offsetRect);const ne=new Point$1(-se.x,-se.y),le=new NitroContainer,ue=new NitroSprite(Texture$1.EMPTY);ue.width=se.width,ue.height=se.height,le.addChild(ue);for(const ce of ee){if(!ce)continue;const he=ce.texture,de=ce.colorTransform,_e=!(te&&ce.flipH)&&(te||ce.flipH),fe=ne.clone();fe.x-=ce.regPoint.x,fe.y-=ce.regPoint.y,te&&(fe.x=le.width-(fe.x+ce.rect.width)),_e?(this._matrix.a=-1,this._matrix.tx=ce.rect.x+ce.rect.width+fe.x,this._matrix.ty=fe.y-ce.rect.y):(this._matrix.a=1,this._matrix.tx=fe.x-ce.rect.x,this._matrix.ty=fe.y-ce.rect.y);const ye=new NitroSprite(he);ye.tint=de,ye.transform.setFromMatrix(this._matrix),le.addChild(ye)}return new ImageData(null,le.getLocalBounds(),ne,te,null,le)}};CF.DEFAULT_MAX_CACHE_STORAGE_TIME_MS=6e4;let AvatarImageCache=CF;const mT=class mT{constructor(ee,te,se,ne,le,ue=null){this._frameCounter=0,this._directionOffset=0,this._isAnimating=!1,this._animationHasResetOnToggle=!1,this._actionsSorted=!1,this._fullImageCacheSize=5,this._isCachedImage=!1,this._useFullImageCache=!1,this._effectIdInUse=-1,this._cachedBodyPartsDirection=-1,this._cachedBodyPartsGeometryType=null,this._cachedBodyPartsAvatarSet=null,this._canvasOffsets=[],this._actions=[],this._cachedBodyParts=[],this._changes=!0,this._disposed=!1,this._effectManager=le,this._structure=ee,this._assets=te,this._scale=ne,this._effectListener=ue,this._scale==null&&(this._scale=AvatarScaleType.LARGE),se==null&&(se=new AvatarFigureContainer("hr-893-45.hd-180-2.ch-210-66.lg-270-82.sh-300-91.wa-2007-.ri-1-")),this._figure=se,this._cache=new AvatarImageCache(this._structure,this,this._assets,this._scale),this.setDirection(mT.DEFAULT_AVATAR_SET,mT.DEFAULT_DIRECTION),this._actions=[],this._defaultAction=new ActiveActionData(AvatarAction.POSTURE_STAND),this._defaultAction.definition=this._structure.getActionDefinition(mT.DEFAULT_ACTION),this.resetActions(),this._fullImageCache=new AdvancedMap,this._animationFrameCount=0}getServerRenderData(){return this.getAvatarPartsForCamera(AvatarSetType.FULL),this._cache.getServerRenderData()}dispose(){if(!this._disposed){if(this._structure=null,this._assets=null,this._mainAction=null,this._figure=null,this._avatarSpriteData=null,this._actions=null,this._image&&(this._image.destroy(),this._image=null),this._cache&&(this._cache.dispose(),this._cache=null),this._fullImageCache){for(const ee of this._fullImageCache.getValues())ee&&ee.destroy();this._fullImageCache=null}this._image=null,this._canvasOffsets=null,this._disposed=!0}}get disposed(){return this._disposed}getFigure(){return this._figure}getScale(){return this._scale}getPartColor(ee){return this._structure.getPartColor(this._figure,ee)}setDirection(ee,te){te=te+this._directionOffset,te<AvatarDirectionAngle.MIN_DIRECTION&&(te=AvatarDirectionAngle.MAX_DIRECTION+(te+1)),te>AvatarDirectionAngle.MAX_DIRECTION&&(te=te-(AvatarDirectionAngle.MAX_DIRECTION+1)),this._structure.isMainAvatarSet(ee)&&(this._mainDirection=te),(ee===AvatarSetType.HEAD||ee===AvatarSetType.FULL)&&(ee===AvatarSetType.HEAD&&this.isHeadTurnPreventedByAction()&&(te=this._mainDirection),this._headDirection=te),this._cache.setDirection(ee,te),this._changes=!0}setDirectionAngle(ee,te){this.setDirection(ee,Math.floor(te/45))}getSprites(){return this._sprites}getCanvasOffsets(){return this._canvasOffsets}getLayerData(ee){return this._structure.getBodyPartData(ee.animation.id,this._frameCounter,ee.id)}updateAnimationByFrames(ee=1){this._frameCounter+=ee,this._changes=!0}resetAnimationFrameCounter(){this._frameCounter=0,this._changes=!0}getFullImageCacheKey(){if(!this._useFullImageCache)return null;if(this._sortedActions.length==1&&this._mainDirection==this._headDirection)return this._mainDirection+this._currentActionsString+this._frameCounter%4;if(this._sortedActions.length==2)for(const ee of this._sortedActions){if(ee.actionType=="fx"&&(ee.actionParameter=="33"||ee.actionParameter=="34"||ee.actionParameter=="35"||ee.actionParameter=="36"))return this._mainDirection+this._currentActionsString+0;if(ee.actionType=="fx"&&(ee.actionParameter=="38"||ee.actionParameter=="39"))return this._mainDirection+"_"+this._headDirection+this._currentActionsString+this._frameCounter%11;if(ee.actionType==="dance"&&(ee.actionParameter==="1"||ee.actionParameter==="2"||ee.actionParameter==="3"||ee.actionParameter==="4")){let te=this._frameCounter%8;return ee.actionParameter==="3"&&(te=this._frameCounter%10),ee.actionParameter==="4"&&(te=this._frameCounter%16),this._mainDirection+ee.actionType+ee.actionParameter+te}}return null}getBodyParts(ee,te,se){return(se!=this._cachedBodyPartsDirection||te!=this._cachedBodyPartsGeometryType||ee!=this._cachedBodyPartsAvatarSet)&&(this._cachedBodyPartsDirection=se,this._cachedBodyPartsGeometryType=te,this._cachedBodyPartsAvatarSet=ee,this._cachedBodyParts=this._structure.getBodyParts(ee,te,se)),this._cachedBodyParts}getAvatarPartsForCamera(ee){let te;if(this._mainAction==null||this._structure.getCanvas(this._scale,this._mainAction.definition.geometryType)==null)return;const ne=this.getBodyParts(ee,this._mainAction.definition.geometryType,this._mainDirection);let le=ne.length-1;for(;le>=0;)te=ne[le],this._cache.getImageContainer(te,this._frameCounter,!0),le--}getImage(ee,te,se=1,ne=!0){if(!this._changes)return this._image;if(!this._mainAction)return null;this._actionsSorted||this.endActionAppends();const le=this._structure.getCanvas(this._scale,this._mainAction.definition.geometryType);if(!le)return null;this._image&&(this._image.width!==le.width||this._image.height!==le.height)&&(this._reusableTexture&&(this._reusableTexture.destroy(!0),this._reusableTexture=null),this._image=null,this._isCachedImage=!1);const ue=this.getBodyParts(ee,this._mainAction.definition.geometryType,this._mainDirection);this._image=null;const ce=new NitroContainer;let he=!0,de=ue.length-1;for(;de>=0;){const _e=ue[de],fe=this._cache.getImageContainer(_e,this._frameCounter);if(fe){const ye=fe.image;if(!ye)return ce.destroy({children:!0}),null;he=he&&fe.isCacheable;const be=fe.regPoint.clone();if(be){be.x+=le.offset.x,be.y+=le.offset.y,be.x+=le.regPoint.x,be.y+=le.regPoint.y;const Pe=new NitroContainer;Pe.addChild(ye),Pe&&(Pe.position.set(be.x,be.y),ce.addChild(Pe))}}de--}return this._avatarSpriteData&&(ce.filters||(ce.filters=[]),this._avatarSpriteData.colorTransform&&ce.filters.push(this._avatarSpriteData.colorTransform),this._avatarSpriteData.paletteIsGrayscale&&(this.convertToGrayscale(ce),ce.filters.push(new PaletteMapFilter(this._avatarSpriteData.reds,PaletteMapFilter.CHANNEL_RED)))),ne?(this._reusableTexture?(PixiApplicationProxy.instance.renderer.render(ce,{renderTexture:this._reusableTexture,clear:!0}),this._reusableTexture.baseTexture.hitMap=null):this._reusableTexture=TextureUtils.generateTexture(ce,new Rectangle$1(0,0,le.width,le.height)),this._reusableTexture?(this._image=this._reusableTexture,this._changes=!1,this._image):null):TextureUtils.generateTexture(ce,new Rectangle$1(0,0,le.width,le.height))}applyPalette(ee,te=[],se=[],ne=[]){const le=TextureUtils.generateCanvas(ee),ue=le.getContext("2d"),ce=ue.getImageData(0,0,le.width,le.height),he=ce.data;for(let _e=0;_e<he.length;_e+=4){if(te.length==256){let fe=te[he[_e]];fe===void 0&&(fe=0),he[_e]=fe>>16&255,he[_e+1]=fe>>8&255,he[_e+2]=fe&255}if(se.length==256){let fe=se[he[_e+1]];fe===void 0&&(fe=0),he[_e]=fe>>16&255,he[_e+1]=fe>>8&255,he[_e+2]=fe&255}if(ne.length==256){let fe=se[he[_e+2]];fe===void 0&&(fe=0),he[_e]=fe>>16&255,he[_e+1]=fe>>8&255,he[_e+2]=fe&255}}ue.putImageData(ce,0,0);const de=new Sprite$1(Texture$1.from(le));return PixiApplicationProxy.instance.renderer.render(de,{renderTexture:ee,clear:!0}),ee}getImageAsSprite(ee,te=1){if(!this._mainAction)return null;this._actionsSorted||this.endActionAppends();const se=this._structure.getCanvas(this._scale,this._mainAction.definition.geometryType);if(!se)return null;const ne=this.getBodyParts(ee,this._mainAction.definition.geometryType,this._mainDirection),le=new NitroSprite,ue=new NitroSprite(Texture$1.EMPTY);ue.width=se.width,ue.height=se.height,le.addChild(ue);let ce=ne.length-1;for(;ce>=0;){const he=ne[ce],de=this._cache.getImageContainer(he,this._frameCounter);if(de){const _e=de.image;if(!_e)return le.destroy({children:!0}),null;const fe=de.regPoint.clone();if(fe){fe.x+=se.offset.x,fe.y+=se.offset.y,fe.x+=se.regPoint.x,fe.y+=se.regPoint.y;const ye=new NitroContainer;ye.addChild(_e),ye.position.set(fe.x,fe.y),le.addChild(ye)}}ce--}return le}getCroppedImage(ee,te=1){if(!this._mainAction)return null;this._actionsSorted||this.endActionAppends();const se=this._structure.getCanvas(this._scale,this._mainAction.definition.geometryType);if(!se)return null;const ne=this.getBodyParts(ee,this._mainAction.definition.geometryType,this._mainDirection),le=new NitroContainer;let ue=ne.length-1;for(;ue>=0;){const de=ne[ue],_e=this._cache.getImageContainer(de,this._frameCounter);if(_e){const fe=_e.image;if(!fe)return le.destroy({children:!0}),null;const ye=_e.regPoint.clone();if(ye){ye.x+=se.offset.x,ye.y+=se.offset.y,ye.x+=se.regPoint.x,ye.y+=se.regPoint.y;const be=new NitroContainer;be.addChild(fe),be&&(be.position.set(ye.x,ye.y),le.addChild(be))}}ue--}const ce=TextureUtils.generateTexture(le,new Rectangle$1(0,0,se.width,se.height)),he=TextureUtils.generateImage(ce);return he||null}getFullImage(ee){const te=this._fullImageCache.getValue(ee);return te?(te.valid||(this._fullImageCache.remove(ee),te.destroy(!0)),te):null}cacheFullImage(ee,te){const se=this._fullImageCache.getValue(ee);if(se&&(this._fullImageCache.remove(ee),se.destroy(!0)),this._fullImageCache.length===this._fullImageCacheSize){const ne=this._fullImageCache.getKey(0);ne&&this._fullImageCache.remove(ne).destroy(!0)}this._fullImageCache.add(ee,te)}getAsset(ee){return this._assets.getAsset(ee)}getDirection(){return this._mainDirection}initActionAppends(){this._actions=[],this._actionsSorted=!1,this._currentActionsString="",this._useFullImageCache=!1}endActionAppends(){if(this.sortActions()){for(const ee of this._sortedActions)ee.actionType===AvatarAction.EFFECT&&(this._effectManager.isAvatarEffectReady(parseInt(ee.actionParameter))||this._effectManager.downloadAvatarEffect(parseInt(ee.actionParameter),this));this.resetActions(),this.setActionsToParts()}}appendAction(ee,...te){let se="";switch(this._actionsSorted=!1,te&&te.length>0&&(se=te[0]),se!=null&&(se=se.toString()),ee){case AvatarAction.POSTURE:switch(se){case AvatarAction.POSTURE_LAY:case AvatarAction.POSTURE_WALK:case AvatarAction.POSTURE_STAND:case AvatarAction.POSTURE_SWIM:case AvatarAction.POSTURE_FLOAT:case AvatarAction.POSTURE_SIT:case AvatarAction.SNOWWAR_RUN:case AvatarAction.SNOWWAR_DIE_FRONT:case AvatarAction.SNOWWAR_DIE_BACK:case AvatarAction.SNOWWAR_PICK:case AvatarAction.SNOWWAR_THROW:(se===AvatarAction.POSTURE_LAY||se===AvatarAction.POSTURE_LAY||se===AvatarAction.POSTURE_LAY)&&(se===AvatarAction.POSTURE_LAY&&(this._mainDirection==0?this.setDirection(AvatarSetType.FULL,4):this.setDirection(AvatarSetType.FULL,2)),this._useFullImageCache=!0,this._useFullImageCache=!0),this.addActionData(se);break}break;case AvatarAction.GESTURE:switch(se){case AvatarAction.GESTURE_AGGRAVATED:case AvatarAction.GESTURE_SAD:case AvatarAction.GESTURE_SMILE:case AvatarAction.GESTURE_SURPRISED:this.addActionData(se);break}break;case AvatarAction.EFFECT:case AvatarAction.DANCE:case AvatarAction.TALK:case AvatarAction.EXPRESSION_WAVE:case AvatarAction.SLEEP:case AvatarAction.SIGN:case AvatarAction.EXPRESSION_RESPECT:case AvatarAction.EXPRESSION_BLOW_A_KISS:case AvatarAction.EXPRESSION_LAUGH:case AvatarAction.EXPRESSION_CRY:case AvatarAction.EXPRESSION_IDLE:case AvatarAction.EXPRESSION_SNOWBOARD_OLLIE:case AvatarAction.EXPRESSION_SNOWBORD_360:case AvatarAction.EXPRESSION_RIDE_JUMP:se===AvatarAction.EFFECT&&(se==="33"||se==="34"||se==="35"||se==="36"||se==="38"||se==="39")&&(this._useFullImageCache=!0),this.addActionData(ee,se);break;case AvatarAction.CARRY_OBJECT:case AvatarAction.USE_OBJECT:{const ne=this._structure.getActionDefinitionWithState(ee);ne&&(se=ne.getParameterValue(se)),this.addActionData(ee,se);break}}return!0}addActionData(ee,te=""){let se;this._actions||(this._actions=[]);let ne=0;for(;ne<this._actions.length;){if(se=this._actions[ne],se.actionType==ee&&se.actionParameter==te)return;ne++}this._actions.push(new ActiveActionData(ee,te,this._frameCounter))}isAnimating(){return this._isAnimating||this._animationFrameCount>1}resetActions(){return this._animationHasResetOnToggle=!1,this._isAnimating=!1,this._sprites=[],this._avatarSpriteData=null,this._directionOffset=0,this._structure.removeDynamicItems(this),this._mainAction=this._defaultAction,this._mainAction.definition=this._defaultAction.definition,this.resetBodyPartCache(this._defaultAction),!0}isHeadTurnPreventedByAction(){let ee,te;if(this._sortedActions==null)return!1;for(const se of this._sortedActions)ee=this._structure.getActionDefinitionWithState(se.actionType),ee!=null&&ee.getPreventHeadTurn(se.actionParameter)&&(te=!0);return te}sortActions(){let ee,te,se;if(this._currentActionsString="",this._sortedActions=this._structure.sortActions(this._actions),this._animationFrameCount=this._structure.maxFrames(this._sortedActions),!this._sortedActions)this._canvasOffsets=[0,0,0],this._lastActionsString!==""&&(se=!0,this._lastActionsString="");else{this._canvasOffsets=this._structure.getCanvasOffsets(this._sortedActions,this._scale,this._mainDirection);for(const ne of this._sortedActions)if(this._currentActionsString=this._currentActionsString+(ne.actionType+ne.actionParameter),ne.actionType===AvatarAction.EFFECT){const le=parseInt(ne.actionParameter);this._effectIdInUse!==le&&(ee=!0),this._effectIdInUse=le,te=!0}te||(this._effectIdInUse>-1&&(ee=!0),this._effectIdInUse=-1),ee&&this._cache.disposeInactiveActions(0),this._lastActionsString!=this._currentActionsString&&(se=!0,this._lastActionsString=this._currentActionsString)}return this._actionsSorted=!0,se}setActionsToParts(){if(!this._sortedActions==null)return;const ee=GetTickerTime(),te=[];for(const se of this._sortedActions)te.push(se.actionType);for(const se of this._sortedActions)if(se&&se.definition&&se.definition.isAnimation){const ne=this._structure.getAnimation(se.definition.state+"."+se.actionParameter);if(ne&&ne.hasOverriddenActions()){const le=ne.overriddenActionNames();if(le)for(const ue of le)te.indexOf(ue)>=0&&(se.overridingAction=ne.overridingAction(ue))}ne&&ne.resetOnToggle&&(this._animationHasResetOnToggle=!0)}for(const se of this._sortedActions)if(!(!se||!se.definition)&&(se.definition.isAnimation&&se.actionParameter===""&&(se.actionParameter="1"),this.setActionToParts(se,ee),se.definition.isAnimation)){this._isAnimating=se.definition.isAnimated(se.actionParameter);const ne=this._structure.getAnimation(se.definition.state+"."+se.actionParameter);ne&&(this._sprites=this._sprites.concat(ne.spriteData),ne.hasDirectionData()&&(this._directionOffset=ne.directionData.offset),ne.hasAvatarData()&&(this._avatarSpriteData=ne.avatarData))}}setActionToParts(ee,te){ee==null||ee.definition==null||ee.definition.assetPartDefinition!=""&&(ee.definition.isMain&&(this._mainAction=ee,this._cache.setGeometryType(ee.definition.geometryType)),this._cache.setAction(ee,te),this._changes=!0)}resetBodyPartCache(ee){ee&&ee.definition.assetPartDefinition!==""&&(ee.definition.isMain&&(this._mainAction=ee,this._cache.setGeometryType(ee.definition.geometryType)),this._cache.resetBodyPartCache(ee),this._changes=!0)}get avatarSpriteData(){return this._avatarSpriteData}convertToGrayscale(ee,te="CHANNELS_EQUAL"){let se=.33,ne=.33,le=.33;switch(te){case mT.CHANNELS_UNIQUE:se=.3,ne=.59,le=.11;break;case mT.CHANNELS_RED:se=1,ne=0,le=0;break;case mT.CHANNELS_GREEN:se=0,ne=1,le=0;break;case mT.CHANNELS_BLUE:se=0,ne=0,le=1;break;case mT.CHANNELS_DESATURATED:se=.3086,ne=.6094,le=.082;break}const ue=new ColorMatrixFilter;return ue.matrix=[se,ne,le,0,0,se,ne,le,0,0,se,ne,le,0,0,0,0,0,1,0],ee.filters.push(ue),ee}errorThis(ee){}logThis(ee){}isPlaceholder(){return!1}forceActionUpdate(){this._lastActionsString=""}get animationHasResetOnToggle(){return this._animationHasResetOnToggle}get mainAction(){return this._mainAction.actionType}resetEffect(ee){ee===this._effectIdInUse&&(this.resetActions(),this.setActionsToParts(),this._animationHasResetOnToggle=!0,this._changes=!0,this._effectListener&&this._effectListener.resetEffect(ee))}};mT.CHANNELS_EQUAL="CHANNELS_EQUAL",mT.CHANNELS_UNIQUE="CHANNELS_UNIQUE",mT.CHANNELS_RED="CHANNELS_RED",mT.CHANNELS_GREEN="CHANNELS_GREEN",mT.CHANNELS_BLUE="CHANNELS_BLUE",mT.CHANNELS_DESATURATED="CHANNELS_DESATURATED",mT.DEFAULT_ACTION="Default",mT.DEFAULT_DIRECTION=2,mT.DEFAULT_AVATAR_SET=AvatarSetType.FULL;let AvatarImage=mT;class AvatarAnimationFrame{constructor(ee){this._number=ee.number,this._assetPartDefinition=ee.assetPartDefinition||null}get number(){return this._number}get assetPartDefinition(){return this._assetPartDefinition}}class AnimationActionPart{constructor(ee){if(this._frames=[],ee.frames&&ee.frames.length>0)for(const te of ee.frames){if(!te)continue;this._frames.push(new AvatarAnimationFrame(te));let se=te.repeats||0;if(se>1)for(;--se>0;)this._frames.push(this._frames[this._frames.length-1])}}get frames(){return this._frames}}const _N=class _N{constructor(ee){if(this._id=ee.id,this._actionParts=new Map,this._bodyPartOffsets=new Map,this._frameCount=0,this._frameIndexes=[],ee.parts&&ee.parts.length>0)for(const te of ee.parts){if(!te)continue;const se=new AnimationActionPart(te);this._actionParts.set(te.setType,se),this._frameCount=Math.max(this._frameCount,se.frames.length)}if(ee.offsets&&ee.offsets.frames&&ee.offsets.frames.length>0)for(const te of ee.offsets.frames){if(!te)continue;const se=te.id;this._frameCount=Math.max(this._frameCount,se);const ne=new Map;if(this._bodyPartOffsets.set(se,ne),te.directions&&te.directions.length>0)for(const le of te.directions){if(!le)continue;const ue=le.id,ce=new Map;if(ne.set(ue,ce),le.bodyParts&&le.bodyParts.length>0)for(const he of le.bodyParts){if(!he)continue;const de=he.id;let _e=0,fe=0;he.dx!==void 0&&(_e=he.dx),he.dy!==void 0&&(fe=he.dy),ce.set(de,new Point$1(_e,fe))}}if(this._frameIndexes.push(se),te.repeats!==void 0){let le=te.repeats||0;if(le>1)for(;--le>0;)this._frameIndexes.push(se)}}}getPart(ee){if(!ee)return null;const te=this._actionParts.get(ee);return te||null}getFrameBodyPartOffset(ee,te,se){const ne=te%this._frameIndexes.length,le=this._frameIndexes[ne],ue=this._bodyPartOffsets.get(le);if(!ue)return _N.DEFAULT_OFFSET;const ce=ue.get(ee);if(!ce)return _N.DEFAULT_OFFSET;const he=ce.get(se);return he||_N.DEFAULT_OFFSET}get id(){return this._id}get parts(){return this._actionParts}get frameCount(){return this._frameCount}};_N.DEFAULT_OFFSET=new Point$1(0,0);let AnimationAction=_N;class AvatarAnimationData{constructor(){this._actions=new Map}parse(ee){if(ee&&ee.length>0)for(const te of ee){if(!te)continue;const se=new AnimationAction(te);this._actions.set(se.id,se)}return!0}appendJSON(ee){for(const te of ee.action)this._actions.set(te.id,new AnimationAction(te));return!0}getAction(ee){const te=this._actions.get(ee.id);return te||null}getFrameCount(ee){const te=this.getAction(ee);return te?te.frameCount:0}}class AvatarCanvas{constructor(ee,te){this._id=ee.id,this._width=ee.width,this._height=ee.height,this._offset=new Point$1(ee.dx,ee.dy),te==AvatarScaleType.LARGE?this._regPoint=new Point$1((this._width-64)/2,0):this._regPoint=new Point$1((this._width-32)/2,0)}get width(){return this._width}get height(){return this._height}get offset(){return this._offset}get id(){return this._id}get regPoint(){return this._regPoint}}const C2=class C2 extends EventDispatcher{constructor(ee,te){super(),this._dataReceiver=te,this.download(ee)}download(ee){const te=new XMLHttpRequest;try{te.open("GET",ee),te.send(),te.onloadend=se=>{const ne=te.responseText;if(!ne||!ne.length)throw new Error("invalid_figure_data");this._dataReceiver&&this._dataReceiver.appendJSON(JSON.parse(ne)),this.dispatchEvent(new NitroEvent(C2.AVATAR_STRUCTURE_DONE))},te.onerror=se=>{throw new Error("invalid_avatar_figure_data")}}catch(se){NitroLogger.error(se)}}};C2.AVATAR_STRUCTURE_DONE="AVATAR_STRUCTURE_DONE";let AvatarStructureDownload=C2;class FigurePart{constructor(ee){if(!ee)throw new Error("invalid_data");this._id=ee.id,this._type=ee.type,this._index=ee.index,this._colorLayerIndex=ee.colorindex,this._paletteMapId=-1,this._breed=-1}dispose(){}get id(){return this._id}get type(){return this._type}get breed(){return this._breed}get index(){return this._index}get colorLayerIndex(){return this._colorLayerIndex}get paletteMap(){return this._paletteMapId}}class FigurePartSet{constructor(ee,te){if(!ee||!te)throw new Error("invalid_data");this._id=te.id,this._type=ee,this._gender=te.gender,this._clubLevel=te.club,this._isColorable=te.colorable,this._isSelectable=te.selectable,this._parts=[],this._hiddenLayers=[],this._isPreSelectable=te.preselectable,this._isSellable=te.sellable;for(const se of te.parts){const ne=new FigurePart(se),le=this.getPartIndex(ne);le!==-1?this._parts.splice(le,0,ne):this._parts.push(ne)}if(te.hiddenLayers)for(const se of te.hiddenLayers)this._hiddenLayers.push(se.partType)}dispose(){for(const ee of this._parts)ee.dispose();this._parts=null,this._hiddenLayers=null}getPartIndex(ee){const te=this._parts.length;if(!te)return-1;for(let se=0;se<te;se++){const ne=this._parts[se];if(ne&&!(ne.type!==ee.type||ne.index>ee.index))return se}return-1}getPart(ee,te){for(const se of this._parts)if(!(se.type!==ee||se.id!==te))return se;return null}get id(){return this._id}get type(){return this._type}get gender(){return this._gender}get clubLevel(){return this._clubLevel}get isColorable(){return this._isColorable}get isSelectable(){return this._isSelectable}get parts(){return this._parts}get hiddenLayers(){return this._hiddenLayers}get isPreSelectable(){return this._isPreSelectable}get isSellable(){return this._isSellable}}class PartColor{constructor(ee){if(!ee)throw new Error("invalid_data");this._id=ee.id,this._index=ee.index,this._clubLevel=ee.club||0,this._isSelectable=ee.selectable,this._rgb=parseInt("0x"+ee.hexCode,16)}get id(){return this._id}get index(){return this._index}get clubLevel(){return this._clubLevel}get isSelectable(){return this._isSelectable}get rgb(){return this._rgb}}class Palette{constructor(ee){if(!ee)throw new Error("invalid_data");this._id=ee.id,this._colors=new AdvancedMap,this.append(ee)}append(ee){for(const te of ee.colors){const se=new PartColor(te);this._colors.add(te.id.toString(),se)}}getColor(ee){return ee===void 0||ee<0?null:this._colors.getValue(ee.toString())||null}get id(){return this._id}get colors(){return this._colors}}class SetType{constructor(ee){if(!ee)throw new Error("invalid_data");this._type=ee.type,this._paletteId=ee.paletteId,this._isMandatory={},this._isMandatory.F=[ee.mandatory_f_0,ee.mandatory_f_1],this._isMandatory.M=[ee.mandatory_m_0,ee.mandatory_m_1],this._partSets=new AdvancedMap,this.append(ee)}dispose(){for(const ee of this._partSets.getValues())ee.dispose();this._partSets=null}cleanUp(ee){for(const te of ee.sets){const se=te.id.toString(),ne=this._partSets.getValue(se);ne&&(ne.dispose(),this._partSets.remove(se))}}append(ee){if(!(!ee||!ee.sets))for(const te of ee.sets)this._partSets.add(te.id.toString(),new FigurePartSet(this._type,te))}getDefaultPartSet(ee){for(const te of this._partSets.getValues())if(te&&te.clubLevel===0&&(te.gender===ee||te.gender==="U"))return te;return null}getPartSet(ee){return this._partSets.getValue(ee.toString())}get type(){return this._type}get paletteID(){return this._paletteId}isMandatory(ee,te){return this._isMandatory[ee.toUpperCase()][Math.min(te,1)]}optionalFromClubLevel(ee){return this._isMandatory[ee.toUpperCase()].indexOf(!1)}get partSets(){return this._partSets}}class FigureSetData{constructor(){this._palettes=new Map,this._setTypes=new Map}dispose(){}parse(ee){if(!ee)return!1;for(const te of ee.palettes){const se=new Palette(te);se&&this._palettes.set(se.id.toString(),se)}for(const te of ee.setTypes){const se=new SetType(te);se&&this._setTypes.set(se.type,se)}return!0}injectJSON(ee){for(const te of ee.setTypes){const se=this._setTypes.get(te.type);se?se.cleanUp(te):this._setTypes.set(te.type,new SetType(te))}this.appendJSON(ee)}appendJSON(ee){if(!ee)return!1;for(const te of ee.palettes){const se=te.id.toString(),ne=this._palettes.get(se);ne?ne.append(te):this._palettes.set(se,new Palette(te))}for(const te of ee.setTypes){const se=te.type,ne=this._setTypes.get(se);ne?ne.append(te):this._setTypes.set(se,new SetType(te))}return!1}getMandatorySetTypeIds(ee,te){const se=[];for(const ne of this._setTypes.values())!ne||!ne.isMandatory(ee,te)||se.push(ne.type);return se}getDefaultPartSet(ee,te){const se=this._setTypes.get(ee);return se?se.getDefaultPartSet(te):null}getSetType(ee){return this._setTypes.get(ee)||null}getPalette(ee){return this._palettes.get(ee.toString())||null}getFigurePartSet(ee){for(const te of this._setTypes.values()){const se=te.getPartSet(ee);if(se)return se}return null}}class ActivePartSet{constructor(ee){if(this._id=ee.id,this._parts=[],ee.activeParts&&ee.activeParts.length>0)for(const te of ee.activeParts)te&&this._parts.push(te.setType)}get parts(){return this._parts}}class PartDefinition{constructor(ee){if(!ee)throw new Error("invalid_data");this._setType=ee.setType,this._flippedSetType=ee.flippedSetType||null,this._removeSetType=ee.removeSetType||null,this._appendToFigure=!1,this._staticId=-1}hasStaticId(){return this._staticId>=0}get staticId(){return this._staticId}set staticId(ee){this._staticId=ee}get setType(){return this._setType}get flippedSetType(){return this._flippedSetType}set flippedSetType(ee){this._flippedSetType=ee}get removeSetType(){return this._removeSetType}get appendToFigure(){return this._appendToFigure}set appendToFigure(ee){this._appendToFigure=ee}}class PartSetsData{constructor(){this._parts=new Map,this._activePartSets=new Map}parse(ee){if(ee.partSet&&ee.partSet.length>0)for(const te of ee.partSet)te&&this._parts.set(te.setType,new PartDefinition(te));if(ee.activePartSets&&ee.activePartSets.length>0)for(const te of ee.activePartSets)te&&this._activePartSets.set(te.id,new ActivePartSet(te));return!0}appendJSON(ee){if(ee.partSet&&ee.partSet.length>0)for(const te of ee.partSet)te&&this._parts.set(te.setType,new PartDefinition(te));if(ee.activePartSets&&ee.activePartSets.length>0)for(const te of ee.activePartSets)te&&this._activePartSets.set(te.id,new ActivePartSet(te));return!1}getActiveParts(ee){const te=this._activePartSets.get(ee.activePartSet);return te?te.parts:[]}getPartDefinition(ee){const te=this._parts.get(ee);return te||null}addPartDefinition(ee){const te=ee.setType;let se=this._parts.get(te);return se||(se=new PartDefinition(ee),this._parts.set(te,se)),se}getActivePartSet(ee){const te=this._activePartSets.get(ee.activePartSet);return te||null}get parts(){return this._parts}get activePartSets(){return this._activePartSets}}class AvatarImagePartContainer{constructor(ee,te,se,ne,le,ue,ce,he,de="",_e=!1,fe=1){this._bodyPartId=ee,this._partType=te,this._partId=se,this._color=ne,this._frames=le,this._action=ue,this._isColorable=ce,this._paletteMapId=he,this._flippedPartType=de,this._isBlendable=_e,this._blendTransform=null,this._partType==="ey"&&(this._isColorable=!1)}getFrameIndex(ee){if(!this._frames||!this._frames.length)return 0;const te=ee%this._frames.length;return this._frames[te]instanceof AvatarAnimationFrame?this._frames[te].number:te}getFrameDefinition(ee){const te=ee%this._frames.length;return this._frames&&this._frames.length>te&&this._frames[te]instanceof AvatarAnimationFrame?this._frames[te]:null}getCacheableKey(ee){const te=ee%this._frames.length;if(this._frames&&this._frames.length>te&&this._frames[te]instanceof AvatarAnimationFrame){const se=this._frames[te];return this.partId+":"+se.assetPartDefinition+":"+se.number}return this.partId+":"+te}get bodyPartId(){return this._bodyPartId}get partType(){return this._partType}get partId(){return this._partId}get color(){return this._color}get action(){return this._action}get isColorable(){return this._isColorable}set isColorable(ee){this._isColorable=ee}get paletteMapId(){return this._paletteMapId}get flippedPartType(){return this._flippedPartType}get isBlendable(){return this._isBlendable}toString(){return[this._bodyPartId,this._partType,this._partId].join(":")}}const ER=class ER{constructor(){this._gender="M",this._avatarEffectType=-1}loadAvatarData(ee,te){this._data=new Map,this._colors=new Map,this._gender=te,this.parseFigureString(ee)}dispose(){this._data=null,this._colors=null,this._isDisposed=!0}get disposed(){return this._isDisposed}parseFigureString(ee){if(ee)for(const te of ee.split(".")){const se=te.split("-");if(se.length>0){const ne=se[0],le=parseInt(se[1]),ue=[];let ce=2;for(;ce<se.length;)ue.push(parseInt(se[ce])),ce++;ue.length||ue.push(0),this.savePartSetId(ne,le,!1),this.savePartSetColourId(ne,ue,!1)}}}hasSetType(ee){return!!this._data.get(ee)}getPartSetId(ee){return this.hasSetType(ee)?this._data.get(ee):-1}getColourIds(ee){return this._colors.get(ee)?this._colors.get(ee):[]}getFigureString(){let ee="";const te=[];for(const[ne,le]of this._data.entries()){let ue=ne+"-"+le;const ce=this._colors.get(ne);if(ce)for(const he of ce)ue=ue+("-"+he);te.push(ue)}let se=0;for(;se<te.length;)ee=ee+te[se],se<te.length-1&&(ee=ee+"."),se++;return ee}savePartData(ee,te,se,ne=!1){this.savePartSetId(ee,te,ne),this.savePartSetColourId(ee,se,ne)}savePartSetId(ee,te,se=!0){switch(ee){case ER.HD:case ER.HAIR:case ER.HAT:case ER.HEAD_ACCESSORIES:case ER.EYE_ACCESSORIES:case ER.FACE_ACCESSORIES:case ER.SHIRT:case ER.JACKET:case ER.CHEST_ACCESSORIES:case ER.CHEST_PRINTS:case ER.TROUSERS:case ER.SHOES:case ER.TROUSER_ACCESSORIES:te>=0?this._data.set(ee,te):this._data.delete(ee)}}savePartSetColourId(ee,te,se=!0){switch(ee){case ER.HD:case ER.HAIR:case ER.HAT:case ER.HEAD_ACCESSORIES:case ER.EYE_ACCESSORIES:case ER.FACE_ACCESSORIES:case ER.SHIRT:case ER.JACKET:case ER.CHEST_ACCESSORIES:case ER.CHEST_PRINTS:case ER.TROUSERS:case ER.SHOES:case ER.TROUSER_ACCESSORIES:this._colors.set(ee,te);return}}getFigureStringWithFace(ee){const te=[ER.HD];let se="";const ne=[];for(const ue of te){const ce=this._colors.get(ue);if(ce){let he=this._data.get(ue);ue===ER.HD&&(he=ee);let de=ue+"-"+he;if(he>=0){let _e=0;for(;_e<ce.length;)de=de+("-"+ce[_e]),_e++}ne.push(de)}}let le=0;for(;le<ne.length;)se=se+ne[le],le<ne.length-1&&(se=se+"."),le++;return se}get gender(){return this._gender}};ER.MALE="M",ER.FEMALE="F",ER.UNISEX="U",ER.SCALE="h",ER.STD="std",ER.DEFAULT_FRAME="0",ER.HD="hd",ER.HAIR="hr",ER.HAT="ha",ER.HEAD_ACCESSORIES="he",ER.EYE_ACCESSORIES="ea",ER.FACE_ACCESSORIES="fa",ER.JACKET="cc",ER.SHIRT="ch",ER.CHEST_ACCESSORIES="ca",ER.CHEST_PRINTS="cp",ER.TROUSERS="lg",ER.SHOES="sh",ER.TROUSER_ACCESSORIES="wa",ER.BLOCKED_FX_TYPES=[28,29,30,33,34,35,36,37,38,39,40,41,42,43,68];let FigureDataContainer=ER;class RoomObjectUpdateMessage{constructor(ee,te){this._location=ee,this._direction=te}get location(){return this._location}get direction(){return this._direction}}class RoomObjectLogicBase extends Disposable{constructor(){super(),this._object=null,this._events=null,this._time=0}initialize(ee){}onDispose(){this._object=null}update(ee){this._time=ee}processUpdateMessage(ee){!ee||!this._object||(this._object.setLocation(ee.location),this._object.setDirection(ee.direction))}getEventTypes(){return[]}mergeTypes(ee,te){const se=ee.concat();for(const ne of te)!ne||se.indexOf(ne)>=0||se.push(ne);return se}mouseEvent(ee,te){}useObject(){}setObject(ee){if(this._object!==ee){if(this._object&&this._object.setLogic(null),!ee){this.dispose(),this._object=null;return}this._object=ee,this._object.setLogic(this)}}tearDown(){}get object(){return this._object}get eventDispatcher(){return this._events}set eventDispatcher(ee){this._events=ee}get widget(){return null}get contextMenu(){return null}get time(){return this._time}}class RoomObjectModel{constructor(){this._map=new Map,this._updateCounter=0}dispose(){this._map.clear(),this._updateCounter=0}getValue(ee){return this._map.get(ee)}setValue(ee,te){this._map.has(ee)&&this._map.get(ee)===te||(this._map.set(ee,te),this._updateCounter++)}removeKey(ee){ee&&(this._map.delete(ee),this._updateCounter++)}get updateCounter(){return this._updateCounter}}const M2=class M2 extends Disposable{constructor(ee,te,se){super(),this._id=ee,this._instanceId=M2.OBJECT_COUNTER++,this._type=se,this._model=new RoomObjectModel,this._location=new Vector3d,this._direction=new Vector3d,this._states=[],this._visualization=null,this._logic=null,this._pendingLogicMessages=[],this._updateCounter=0,this._isReady=!1;let ne=te-1;for(;ne>=0;)this._states[ne]=0,ne--}onDispose(){this._pendingLogicMessages=[],this.setVisualization(null),this.setLogic(null),this._model&&this._model.dispose(),super.onDispose()}getLocation(){return this._location}setLocation(ee){ee&&(ee.x===this._location.x&&ee.y===this._location.y&&ee.z===this._location.z||(this._location.x=ee.x,this._location.y=ee.y,this._location.z=ee.z,this._updateCounter++))}getDirection(){return this._direction}setDirection(ee){ee&&(ee.x===this._direction.x&&ee.y===this._direction.y&&ee.z===this._direction.z||(this._direction.x=(ee.x%360+360)%360,this._direction.y=(ee.y%360+360)%360,this._direction.z=(ee.z%360+360)%360,this._updateCounter++))}getState(ee=0){return ee>=0&&ee<this._states.length?this._states[ee]:-1}setState(ee,te=0){return te>=0&&te<this._states.length?(this._states[te]!==ee&&(this._states[te]=ee,this._updateCounter++),!0):!1}setVisualization(ee){this._visualization!==ee&&(this._visualization&&this._visualization.dispose(),this._visualization=ee,this._visualization&&(this._visualization.object=this))}setLogic(ee){if(this._logic===ee)return;const te=this._logic;if(te&&(this._logic=null,te.setObject(null)),this._logic=ee,this._logic)for(this._logic.setObject(this);this._pendingLogicMessages.length;){const se=this._pendingLogicMessages.shift();this._logic.processUpdateMessage(se)}}processUpdateMessage(ee){if(this._logic)return this._logic.processUpdateMessage(ee);this._pendingLogicMessages.push(ee)}tearDown(){this._logic&&this._logic.tearDown()}get id(){return this._id}get instanceId(){return this._instanceId}get type(){return this._type}get model(){return this._model}get visualization(){return this._visualization}get mouseHandler(){return this._logic}get logic(){return this._logic}get location(){return this._location}get direction(){return this._direction}get updateCounter(){return this._updateCounter}set updateCounter(ee){this._updateCounter=ee}get isReady(){return this._isReady}set isReady(ee){this._isReady=ee}};M2.OBJECT_COUNTER=0;let RoomObject=M2;const P2=class P2{constructor(){this._id=P2.SPRITE_COUNTER++,this._name="",this._type="",this._spriteType=RoomObjectSpriteType.DEFAULT,this._texture=null,this._container=null,this._width=0,this._height=0,this._offsetX=0,this._offsetY=0,this._flipH=!1,this._flipV=!1,this._direction=0,this._alpha=255,this._blendMode=BLEND_MODES.NORMAL,this._color=16777215,this._relativeDepth=0,this._varyingDepth=!1,this._libraryAssetName="",this._clickHandling=!1,this._visible=!0,this._tag="",this._posture=null,this._alphaTolerance=AlphaTolerance.MATCH_OPAQUE_PIXELS,this._filters=[],this._updateCounter=0,this._updateContainer=!1}dispose(){this._texture=null,this._width=0,this._height=0}get id(){return this._id}set id(ee){this._id=ee}get name(){return this._name}set name(ee){this._name!==ee&&(this._name=ee,this._updateCounter++)}get type(){return this._type}set type(ee){this._type=ee}get spriteType(){return this._spriteType}set spriteType(ee){this._spriteType=ee}get texture(){return this._texture}set texture(ee){this._texture!==ee&&(ee&&(this._width=ee.width,this._height=ee.height),this._texture=ee,this._updateCounter++)}get container(){return this._container}set container(ee){this._container!==ee&&(this.texture=Texture$1.EMPTY,ee&&(this._width=ee.width,this._height=ee.height),this._container=ee,this._updateCounter++,this._updateContainer=!0)}get width(){return this._width}get height(){return this._height}get offsetX(){return this._offsetX}set offsetX(ee){this._offsetX!==ee&&(this._offsetX=ee,this._updateCounter++)}get offsetY(){return this._offsetY}set offsetY(ee){this._offsetY!==ee&&(this._offsetY=ee,this._updateCounter++)}get flipH(){return this._flipH}set flipH(ee){this._flipH!==ee&&(this._flipH=ee,this._updateCounter++)}get flipV(){return this._flipV}set flipV(ee){this._flipV!==ee&&(this._flipV=ee,this._updateCounter++)}get direction(){return this._direction}set direction(ee){this._direction=ee}get alpha(){return this._alpha}set alpha(ee){ee=ee&255,this._alpha!==ee&&(this._alpha=ee,this._updateCounter++)}get blendMode(){return this._blendMode}set blendMode(ee){this._blendMode!==ee&&(this._blendMode=ee,this._updateCounter++)}get color(){return this._color}set color(ee){ee=ee&16777215,this._color!==ee&&(this._color=ee,this._updateCounter++)}get relativeDepth(){return this._relativeDepth}set relativeDepth(ee){this._relativeDepth!==ee&&(this._relativeDepth=ee,this._updateCounter++)}get varyingDepth(){return this._varyingDepth}set varyingDepth(ee){ee!==this._varyingDepth&&(this._varyingDepth=ee,this._updateCounter++)}get libraryAssetName(){return this._libraryAssetName}set libraryAssetName(ee){this._libraryAssetName=ee}get clickHandling(){return this._clickHandling}set clickHandling(ee){this._clickHandling=ee}get visible(){return this._visible}set visible(ee){this._visible!==ee&&(this._visible=ee,this._updateCounter++)}get tag(){return this._tag}set tag(ee){this._tag!==ee&&(this._tag=ee,this._updateCounter++)}get posture(){return this._posture}set posture(ee){this._posture!==ee&&(this._posture=ee,this._updateCounter++)}get alphaTolerance(){return this._alphaTolerance}set alphaTolerance(ee){this._alphaTolerance!==ee&&(this._alphaTolerance=ee,this._updateCounter++)}get filters(){return this._filters}set filters(ee){this._filters=ee,this._updateCounter++}get updateCounter(){return this._updateCounter}get updateContainer(){return this._updateContainer}set updateContainer(ee){this._updateContainer=ee}};P2.SPRITE_COUNTER=0;let RoomObjectSprite=P2;const w2=class w2{constructor(){this._id=w2.VISUALIZATION_COUNTER++,this._object=null,this._asset=null,this._sprites=[],this._scale=-1,this._updateObjectCounter=-1,this._updateModelCounter=-1,this._updateSpriteCounter=-1}initialize(ee){return!1}update(ee,te,se,ne){}reset(){this._scale=-1}dispose(){if(this._sprites){for(;this._sprites.length;){const ee=this._sprites[0];ee&&ee.dispose(),this._sprites.pop()}this._sprites=null}this._object=null,this._asset=null}getSprite(ee){return ee>=0&&ee<this._sprites.length?this._sprites[ee]:null}getSpriteList(){return null}createSprite(){return this.createSpriteAtIndex(this._sprites.length)}createSpriteAtIndex(ee){const te=new RoomObjectSprite;return ee>=this._sprites.length?this._sprites.push(te):this._sprites.splice(ee,0,te),te}createSprites(ee){for(;this._sprites.length>ee;){const te=this._sprites[this._sprites.length-1];te&&te.dispose(),this._sprites.pop()}for(;this._sprites.length<ee;)this._sprites.push(new RoomObjectSprite)}get image(){return this.getImage(0,-1)}getImage(ee,te){const se=this.getBoundingRectangle();if(se.width*se.height===0)return null;const ne=this.totalSprites,le=[];let ue=0;for(;ue<ne;){const de=this.getSprite(ue);de&&de.visible&&de.texture&&le.push(de),ue++}le.sort((de,_e)=>_e.relativeDepth-de.relativeDepth);const ce=new NitroContainer;for(ue=0;ue<le.length;){const de=le[ue],_e=de.texture;if(_e){const fe=new NitroSprite(_e);fe.alpha=de.alpha/255,fe.tint=de.color,fe.x=de.offsetX,fe.y=de.offsetY,fe.blendMode=de.blendMode,fe.filters=de.filters,de.flipH&&(fe.scale.x=-1),de.flipV&&(fe.scale.y=-1),ce.addChild(fe)}ue++}const he=TextureUtils.generateTexture(ce);return he||null}getBoundingRectangle(){const ee=this.totalSprites,te=new Rectangle$1;let se=0;for(;se<ee;){const ne=this.getSprite(se);if(ne&&ne.texture&&ne.visible){const le=ne.flipH?-ne.width+ne.offsetX:ne.offsetX,ue=ne.flipV?-ne.height+ne.offsetY:ne.offsetY,ce=new Point$1(le,ue);se===0?(te.x=ce.x,te.y=ce.y,te.width=ne.width,te.height=ne.height):(ce.x<te.x&&(te.x=ce.x),ce.y<te.y&&(te.y=ce.y),ce.x+ne.width>te.right&&(te.width=ce.x+ne.width-te.x),ce.y+ne.height>te.bottom&&(te.height=ce.y+ne.height-te.y))}se++}return te}get instanceId(){return this._id}get object(){return this._object}set object(ee){this._object=ee}get asset(){return this._asset}set asset(ee){this._asset&&this._asset.removeReference(),this._asset=ee,this._asset&&this._asset.addReference()}get sprites(){return this._sprites}get totalSprites(){return this._sprites.length}get updateObjectCounter(){return this._updateObjectCounter}set updateObjectCounter(ee){this._updateObjectCounter=ee}get updateModelCounter(){return this._updateModelCounter}set updateModelCounter(ee){this._updateModelCounter=ee}get updateSpriteCounter(){return this._updateSpriteCounter}set updateSpriteCounter(ee){this._updateSpriteCounter=ee}get spriteCount(){return this._sprites.length}};w2.VISUALIZATION_COUNTER=0;let RoomObjectSpriteVisualization=w2;class RoomObjectLocationCacheItem{constructor(ee){this._roomObjectVariableAccurateZ=ee||"",this._location=new Vector3d,this._screenLocation=new Vector3d,this._locationChanged=!1,this._geometryUpdateId=-1,this._objectUpdateId=-1}dispose(){this._screenLocation=null}updateLocation(ee,te){if(!ee||!te)return null;let se=!1;const ne=ee.getLocation();if((te.updateId!==this._geometryUpdateId||ee.updateCounter!==this._objectUpdateId)&&(this._objectUpdateId=ee.updateCounter,(te.updateId!==this._geometryUpdateId||ne.x!==this._location.x||ne.y!==this._location.y||ne.z!==this._location.z)&&(this._geometryUpdateId=te.updateId,this._location.assign(ne),se=!0)),this._locationChanged=se,this._locationChanged){const le=te.getScreenPosition(ne);if(!le)return null;const ue=ee.model.getValue(this._roomObjectVariableAccurateZ);if(isNaN(ue)||ue===0){const ce=new Vector3d(Math.round(ne.x),Math.round(ne.y),ne.z);if(ce.x!==ne.x||ce.y!==ne.y){const he=te.getScreenPosition(ce);this._screenLocation.assign(le),he&&(this._screenLocation.z=he.z)}else this._screenLocation.assign(le)}else this._screenLocation.assign(le);this._screenLocation.x=Math.round(this._screenLocation.x),this._screenLocation.y=Math.round(this._screenLocation.y)}return this._screenLocation}get locationChanged(){return this._locationChanged}}class RoomObjectSortableSpriteCacheItem{constructor(){this._sprites=[],this._updateId1=-1,this._updateId2=-1,this._isEmpty=!1}get spriteCount(){return this._sprites.length}get isEmpty(){return this._isEmpty}dispose(){this.setSpriteCount(0)}addSprite(ee){this._sprites.push(ee)}getSprite(ee){return this._sprites[ee]}get sprites(){return this._sprites}needsUpdate(ee,te){return ee===this._updateId1&&te===this._updateId2?!1:(this._updateId1=ee,this._updateId2=te,!0)}setSpriteCount(ee){if(ee<this._sprites.length){let te=ee;for(;te<this._sprites.length;){const se=this._sprites[te];se&&se.dispose(),te++}this._sprites.splice(ee,this._sprites.length-ee)}this._isEmpty=!this._sprites.length}}class RoomObjectCacheItem{constructor(ee){this._location=new RoomObjectLocationCacheItem(ee),this._sprites=new RoomObjectSortableSpriteCacheItem}get location(){return this._location}get sprites(){return this._sprites}dispose(){this._location&&(this._location.dispose(),this._location=null),this._sprites&&(this._sprites.dispose(),this._sprites=null)}get objectId(){return this._objectId}set objectId(ee){this._objectId=ee}}const xD=class xD{constructor(ee){this._data=new Map,this._roomObjectVariableAccurateZ=ee}dispose(){if(this._data){for(const[ee,te]of this._data.entries())te&&(this._data.delete(ee),te.dispose());this._data=null}}getObjectCache(ee){let te=this._data.get(ee);return te||(te=new RoomObjectCacheItem(this._roomObjectVariableAccurateZ),this._data.set(ee,te)),te}removeObjectCache(ee){const te=this._data.get(ee);te&&(this._data.delete(ee),te.dispose())}getSortableSpriteList(){const ee=[];for(const te of this._data.values()){if(!te)continue;const se=te.sprites&&te.sprites.sprites;if(!(!se||!se.length)){for(const ne of se)if(ne&&ne.sprite.spriteType!==RoomObjectSpriteType.ROOM_PLANE&&ne.sprite.name!==""){const le=new RoomObjectSpriteData;le.objectId=te.objectId,le.x=ne.x,le.y=ne.y,le.z=ne.z,le.name=ne.sprite.name||"",le.flipH=ne.sprite.flipH,le.alpha=ne.sprite.alpha,le.color=ne.sprite.color.toString(),le.blendMode=ne.sprite.blendMode.toString(),le.width=ne.sprite.width,le.height=ne.sprite.height,le.type=ne.sprite.type,le.posture=ne.sprite.posture;const ue=this.isSkewedSprite(ne.sprite);ue&&(le.skew=ne.sprite.direction%4===0?-.5:.5),(ue||ne.name.indexOf("%image.library.url%")>=0||ne.name.indexOf("%group.badge.url%")>=0)&&le.width<=xD.MAX_SIZE_FOR_AVG_COLOR&&le.height<=xD.MAX_SIZE_FOR_AVG_COLOR&&ne.sprite.name.indexOf("external_image_wallitem")===0&&(le.frame=!0),ee.push(le)}}}return!ee||!ee.length?null:ee}isSkewedSprite(ee){return ee.type?ee.type.indexOf("external_image_wallitem")===0&&ee.tag==="THUMBNAIL"||ee.type.indexOf("guild_forum")===0&&ee.tag==="THUMBNAIL":!1}getPlaneSortableSprites(){const ee=[];for(const te of this._data.values())for(const se of te.sprites.sprites)se.sprite.spriteType===RoomObjectSpriteType.ROOM_PLANE&&ee.push(se);return ee}};xD.MAX_SIZE_FOR_AVG_COLOR=200;let RoomObjectCache=xD;/*!
 * @pixi/graphics - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var LINE_JOIN;(function(ie){ie.MITER="miter",ie.BEVEL="bevel",ie.ROUND="round"})(LINE_JOIN||(LINE_JOIN={}));var LINE_CAP;(function(ie){ie.BUTT="butt",ie.ROUND="round",ie.SQUARE="square"})(LINE_CAP||(LINE_CAP={}));var GRAPHICS_CURVES={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(ie,ee){if(ee===void 0&&(ee=20),!this.adaptive||!ie||isNaN(ie))return ee;var te=Math.ceil(ie/this.maxLength);return te<this.minSegments?te=this.minSegments:te>this.maxSegments&&(te=this.maxSegments),te}},FillStyle=function(){function ie(){this.color=16777215,this.alpha=1,this.texture=Texture$1.WHITE,this.matrix=null,this.visible=!1,this.reset()}return ie.prototype.clone=function(){var ee=new ie;return ee.color=this.color,ee.alpha=this.alpha,ee.texture=this.texture,ee.matrix=this.matrix,ee.visible=this.visible,ee},ie.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Texture$1.WHITE,this.matrix=null,this.visible=!1},ie.prototype.destroy=function(){this.texture=null,this.matrix=null},ie}();/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics$3=function(ie,ee){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,se){te.__proto__=se}||function(te,se){for(var ne in se)se.hasOwnProperty(ne)&&(te[ne]=se[ne])},extendStatics$3(ie,ee)};function __extends$3(ie,ee){extendStatics$3(ie,ee);function te(){this.constructor=ie}ie.prototype=ee===null?Object.create(ee):(te.prototype=ee.prototype,new te)}function fixOrientation(ie,ee){var te,se;ee===void 0&&(ee=!1);var ne=ie.length;if(!(ne<6)){for(var le=0,ue=0,ce=ie[ne-2],he=ie[ne-1];ue<ne;ue+=2){var de=ie[ue],_e=ie[ue+1];le+=(de-ce)*(_e+he),ce=de,he=_e}if(!ee&&le>0||ee&&le<=0)for(var fe=ne/2,ue=fe+fe%2;ue<ne;ue+=2){var ye=ne-ue-2,be=ne-ue-1,Pe=ue,Ne=ue+1;te=[ie[Pe],ie[ye]],ie[ye]=te[0],ie[Pe]=te[1],se=[ie[Ne],ie[be]],ie[be]=se[0],ie[Ne]=se[1]}}}var buildPoly={build:function(ie){ie.points=ie.shape.points.slice()},triangulate:function(ie,ee){var te=ie.points,se=ie.holes,ne=ee.points,le=ee.indices;if(te.length>=6){fixOrientation(te,!1);for(var ue=[],ce=0;ce<se.length;ce++){var he=se[ce];fixOrientation(he.points,!0),ue.push(te.length/2),te=te.concat(he.points)}var de=earcut(te,ue,2);if(!de)return;for(var _e=ne.length/2,ce=0;ce<de.length;ce+=3)le.push(de[ce]+_e),le.push(de[ce+1]+_e),le.push(de[ce+2]+_e);for(var ce=0;ce<te.length;ce++)ne.push(te[ce])}}},buildCircle$1={build:function(ie){var ee=ie.points,te,se,ne,le,ue,ce;if(ie.type===SHAPES.CIRC){var he=ie.shape;te=he.x,se=he.y,ue=ce=he.radius,ne=le=0}else if(ie.type===SHAPES.ELIP){var de=ie.shape;te=de.x,se=de.y,ue=de.width,ce=de.height,ne=le=0}else{var _e=ie.shape,fe=_e.width/2,ye=_e.height/2;te=_e.x+fe,se=_e.y+ye,ue=ce=Math.max(0,Math.min(_e.radius,Math.min(fe,ye))),ne=fe-ue,le=ye-ce}if(!(ue>=0&&ce>=0&&ne>=0&&le>=0)){ee.length=0;return}var be=Math.ceil(2.3*Math.sqrt(ue+ce)),Pe=be*8+(ne?4:0)+(le?4:0);if(ee.length=Pe,Pe!==0){if(be===0){ee.length=8,ee[0]=ee[6]=te+ne,ee[1]=ee[3]=se+le,ee[2]=ee[4]=te-ne,ee[5]=ee[7]=se-le;return}var Ne=0,we=be*4+(ne?2:0)+2,De=we,$e=Pe;{var Ge=ne+ue,Be=le,ze=te+Ge,$t=te-Ge,ut=se+Be;if(ee[Ne++]=ze,ee[Ne++]=ut,ee[--we]=ut,ee[--we]=$t,le){var Ti=se-Be;ee[De++]=$t,ee[De++]=Ti,ee[--$e]=Ti,ee[--$e]=ze}}for(var Hi=1;Hi<be;Hi++){var bn=Math.PI/2*(Hi/be),Ge=ne+Math.cos(bn)*ue,Be=le+Math.sin(bn)*ce,ze=te+Ge,$t=te-Ge,ut=se+Be,Ti=se-Be;ee[Ne++]=ze,ee[Ne++]=ut,ee[--we]=ut,ee[--we]=$t,ee[De++]=$t,ee[De++]=Ti,ee[--$e]=Ti,ee[--$e]=ze}{var Ge=ne,Be=le+ce,ze=te+Ge,$t=te-Ge,ut=se+Be,Ti=se-Be;ee[Ne++]=ze,ee[Ne++]=ut,ee[--$e]=Ti,ee[--$e]=ze,ne&&(ee[Ne++]=$t,ee[Ne++]=ut,ee[--$e]=Ti,ee[--$e]=$t)}}},triangulate:function(ie,ee){var te=ie.points,se=ee.points,ne=ee.indices;if(te.length!==0){var le=se.length/2,ue=le,ce,he;if(ie.type!==SHAPES.RREC){var de=ie.shape;ce=de.x,he=de.y}else{var _e=ie.shape;ce=_e.x+_e.width/2,he=_e.y+_e.height/2}var fe=ie.matrix;se.push(ie.matrix?fe.a*ce+fe.c*he+fe.tx:ce,ie.matrix?fe.b*ce+fe.d*he+fe.ty:he),le++,se.push(te[0],te[1]);for(var ye=2;ye<te.length;ye+=2)se.push(te[ye],te[ye+1]),ne.push(le++,ue,le);ne.push(ue+1,ue,le)}}},buildRectangle$1={build:function(ie){var ee=ie.shape,te=ee.x,se=ee.y,ne=ee.width,le=ee.height,ue=ie.points;ue.length=0,ue.push(te,se,te+ne,se,te+ne,se+le,te,se+le)},triangulate:function(ie,ee){var te=ie.points,se=ee.points,ne=se.length/2;se.push(te[0],te[1],te[2],te[3],te[6],te[7],te[4],te[5]),ee.indices.push(ne,ne+1,ne+2,ne+1,ne+2,ne+3)}};function getPt(ie,ee,te){var se=ee-ie;return ie+se*te}function quadraticBezierCurve(ie,ee,te,se,ne,le,ue){ue===void 0&&(ue=[]);for(var ce=20,he=ue,de=0,_e=0,fe=0,ye=0,be=0,Pe=0,Ne=0,we=0;Ne<=ce;++Ne)we=Ne/ce,de=getPt(ie,te,we),_e=getPt(ee,se,we),fe=getPt(te,ne,we),ye=getPt(se,le,we),be=getPt(de,fe,we),Pe=getPt(_e,ye,we),!(Ne===0&&he[he.length-2]===be&&he[he.length-1]===Pe)&&he.push(be,Pe);return he}var buildRoundedRectangle={build:function(ie){if(Graphics$1.nextRoundedRectBehavior){buildCircle$1.build(ie);return}var ee=ie.shape,te=ie.points,se=ee.x,ne=ee.y,le=ee.width,ue=ee.height,ce=Math.max(0,Math.min(ee.radius,Math.min(le,ue)/2));te.length=0,ce?(quadraticBezierCurve(se,ne+ce,se,ne,se+ce,ne,te),quadraticBezierCurve(se+le-ce,ne,se+le,ne,se+le,ne+ce,te),quadraticBezierCurve(se+le,ne+ue-ce,se+le,ne+ue,se+le-ce,ne+ue,te),quadraticBezierCurve(se+ce,ne+ue,se,ne+ue,se,ne+ue-ce,te)):te.push(se,ne,se+le,ne,se+le,ne+ue,se,ne+ue)},triangulate:function(ie,ee){if(Graphics$1.nextRoundedRectBehavior){buildCircle$1.triangulate(ie,ee);return}for(var te=ie.points,se=ee.points,ne=ee.indices,le=se.length/2,ue=earcut(te,null,2),ce=0,he=ue.length;ce<he;ce+=3)ne.push(ue[ce]+le),ne.push(ue[ce+1]+le),ne.push(ue[ce+2]+le);for(var ce=0,he=te.length;ce<he;ce++)se.push(te[ce],te[++ce])}};function square$1(ie,ee,te,se,ne,le,ue,ce){var he=ie-te*ne,de=ee-se*ne,_e=ie+te*le,fe=ee+se*le,ye,be;ue?(ye=se,be=-te):(ye=-se,be=te);var Pe=he+ye,Ne=de+be,we=_e+ye,De=fe+be;return ce.push(Pe,Ne),ce.push(we,De),2}function round$3(ie,ee,te,se,ne,le,ue,ce){var he=te-ie,de=se-ee,_e=Math.atan2(he,de),fe=Math.atan2(ne-ie,le-ee);ce&&_e<fe?_e+=Math.PI*2:!ce&&_e>fe&&(fe+=Math.PI*2);var ye=_e,be=fe-_e,Pe=Math.abs(be),Ne=Math.sqrt(he*he+de*de),we=(15*Pe*Math.sqrt(Ne)/Math.PI>>0)+1,De=be/we;if(ye+=De,ce){ue.push(ie,ee),ue.push(te,se);for(var $e=1,Ge=ye;$e<we;$e++,Ge+=De)ue.push(ie,ee),ue.push(ie+Math.sin(Ge)*Ne,ee+Math.cos(Ge)*Ne);ue.push(ie,ee),ue.push(ne,le)}else{ue.push(te,se),ue.push(ie,ee);for(var $e=1,Ge=ye;$e<we;$e++,Ge+=De)ue.push(ie+Math.sin(Ge)*Ne,ee+Math.cos(Ge)*Ne),ue.push(ie,ee);ue.push(ne,le),ue.push(ie,ee)}return we*2}function buildNonNativeLine(ie,ee){var te=ie.shape,se=ie.points||te.points.slice(),ne=ee.closePointEps;if(se.length!==0){var le=ie.lineStyle,ue=new Point$1(se[0],se[1]),ce=new Point$1(se[se.length-2],se[se.length-1]),he=te.type!==SHAPES.POLY||te.closeStroke,de=Math.abs(ue.x-ce.x)<ne&&Math.abs(ue.y-ce.y)<ne;if(he){se=se.slice(),de&&(se.pop(),se.pop(),ce.set(se[se.length-2],se[se.length-1]));var _e=(ue.x+ce.x)*.5,fe=(ce.y+ue.y)*.5;se.unshift(_e,fe),se.push(_e,fe)}var ye=ee.points,be=se.length/2,Pe=se.length,Ne=ye.length/2,we=le.width/2,De=we*we,$e=le.miterLimit*le.miterLimit,Ge=se[0],Be=se[1],ze=se[2],$t=se[3],ut=0,Ti=0,Hi=-(Be-$t),bn=Ge-ze,gd=0,Pm=0,oE=Math.sqrt(Hi*Hi+bn*bn);Hi/=oE,bn/=oE,Hi*=we,bn*=we;var aE=le.alignment,nE=(1-aE)*2,On=aE*2;he||(le.cap===LINE_CAP.ROUND?Pe+=round$3(Ge-Hi*(nE-On)*.5,Be-bn*(nE-On)*.5,Ge-Hi*nE,Be-bn*nE,Ge+Hi*On,Be+bn*On,ye,!0)+2:le.cap===LINE_CAP.SQUARE&&(Pe+=square$1(Ge,Be,Hi,bn,nE,On,!0,ye))),ye.push(Ge-Hi*nE,Be-bn*nE),ye.push(Ge+Hi*On,Be+bn*On);for(var nh=1;nh<be-1;++nh){Ge=se[(nh-1)*2],Be=se[(nh-1)*2+1],ze=se[nh*2],$t=se[nh*2+1],ut=se[(nh+1)*2],Ti=se[(nh+1)*2+1],Hi=-(Be-$t),bn=Ge-ze,oE=Math.sqrt(Hi*Hi+bn*bn),Hi/=oE,bn/=oE,Hi*=we,bn*=we,gd=-($t-Ti),Pm=ze-ut,oE=Math.sqrt(gd*gd+Pm*Pm),gd/=oE,Pm/=oE,gd*=we,Pm*=we;var Hn=ze-Ge,Xp=Be-$t,Jp=ze-ut,md=Ti-$t,eE=Hn*Jp+Xp*md,hE=Xp*Jp-md*Hn,mE=hE<0;if(Math.abs(hE)<.001*Math.abs(eE)){ye.push(ze-Hi*nE,$t-bn*nE),ye.push(ze+Hi*On,$t+bn*On),eE>=0&&(le.join===LINE_JOIN.ROUND?Pe+=round$3(ze,$t,ze-Hi*nE,$t-bn*nE,ze-gd*nE,$t-Pm*nE,ye,!1)+4:Pe+=2,ye.push(ze-gd*On,$t-Pm*On),ye.push(ze+gd*nE,$t+Pm*nE));continue}var fE=(-Hi+Ge)*(-bn+$t)-(-Hi+ze)*(-bn+Be),yE=(-gd+ut)*(-Pm+$t)-(-gd+ze)*(-Pm+Ti),AE=(Hn*yE-Jp*fE)/hE,bE=(md*fE-Xp*yE)/hE,ME=(AE-ze)*(AE-ze)+(bE-$t)*(bE-$t),SE=ze+(AE-ze)*nE,jE=$t+(bE-$t)*nE,$E=ze-(AE-ze)*On,zE=$t-(bE-$t)*On,YE=Math.min(Hn*Hn+Xp*Xp,Jp*Jp+md*md),HE=mE?nE:On,VE=YE+HE*HE*De,TE=ME<=VE;TE?le.join===LINE_JOIN.BEVEL||ME/De>$e?(mE?(ye.push(SE,jE),ye.push(ze+Hi*On,$t+bn*On),ye.push(SE,jE),ye.push(ze+gd*On,$t+Pm*On)):(ye.push(ze-Hi*nE,$t-bn*nE),ye.push($E,zE),ye.push(ze-gd*nE,$t-Pm*nE),ye.push($E,zE)),Pe+=2):le.join===LINE_JOIN.ROUND?mE?(ye.push(SE,jE),ye.push(ze+Hi*On,$t+bn*On),Pe+=round$3(ze,$t,ze+Hi*On,$t+bn*On,ze+gd*On,$t+Pm*On,ye,!0)+4,ye.push(SE,jE),ye.push(ze+gd*On,$t+Pm*On)):(ye.push(ze-Hi*nE,$t-bn*nE),ye.push($E,zE),Pe+=round$3(ze,$t,ze-Hi*nE,$t-bn*nE,ze-gd*nE,$t-Pm*nE,ye,!1)+4,ye.push(ze-gd*nE,$t-Pm*nE),ye.push($E,zE)):(ye.push(SE,jE),ye.push($E,zE)):(ye.push(ze-Hi*nE,$t-bn*nE),ye.push(ze+Hi*On,$t+bn*On),le.join===LINE_JOIN.ROUND?mE?Pe+=round$3(ze,$t,ze+Hi*On,$t+bn*On,ze+gd*On,$t+Pm*On,ye,!0)+2:Pe+=round$3(ze,$t,ze-Hi*nE,$t-bn*nE,ze-gd*nE,$t-Pm*nE,ye,!1)+2:le.join===LINE_JOIN.MITER&&ME/De<=$e&&(mE?(ye.push($E,zE),ye.push($E,zE)):(ye.push(SE,jE),ye.push(SE,jE)),Pe+=2),ye.push(ze-gd*nE,$t-Pm*nE),ye.push(ze+gd*On,$t+Pm*On),Pe+=2)}Ge=se[(be-2)*2],Be=se[(be-2)*2+1],ze=se[(be-1)*2],$t=se[(be-1)*2+1],Hi=-(Be-$t),bn=Ge-ze,oE=Math.sqrt(Hi*Hi+bn*bn),Hi/=oE,bn/=oE,Hi*=we,bn*=we,ye.push(ze-Hi*nE,$t-bn*nE),ye.push(ze+Hi*On,$t+bn*On),he||(le.cap===LINE_CAP.ROUND?Pe+=round$3(ze-Hi*(nE-On)*.5,$t-bn*(nE-On)*.5,ze-Hi*nE,$t-bn*nE,ze+Hi*On,$t+bn*On,ye,!1)+2:le.cap===LINE_CAP.SQUARE&&(Pe+=square$1(ze,$t,Hi,bn,nE,On,!1,ye)));for(var xE=ee.indices,BE=GRAPHICS_CURVES.epsilon*GRAPHICS_CURVES.epsilon,nh=Ne;nh<Pe+Ne-2;++nh)Ge=ye[nh*2],Be=ye[nh*2+1],ze=ye[(nh+1)*2],$t=ye[(nh+1)*2+1],ut=ye[(nh+2)*2],Ti=ye[(nh+2)*2+1],!(Math.abs(Ge*($t-Ti)+ze*(Ti-Be)+ut*(Be-$t))<BE)&&xE.push(nh,nh+1,nh+2)}}function buildNativeLine(ie,ee){var te=0,se=ie.shape,ne=ie.points||se.points,le=se.type!==SHAPES.POLY||se.closeStroke;if(ne.length!==0){var ue=ee.points,ce=ee.indices,he=ne.length/2,de=ue.length/2,_e=de;for(ue.push(ne[0],ne[1]),te=1;te<he;te++)ue.push(ne[te*2],ne[te*2+1]),ce.push(_e,_e+1),_e++;le&&ce.push(_e,de)}}function buildLine$1(ie,ee){ie.lineStyle.native?buildNativeLine(ie,ee):buildNonNativeLine(ie,ee)}var ArcUtils=function(){function ie(){}return ie.curveTo=function(ee,te,se,ne,le,ue){var ce=ue[ue.length-2],he=ue[ue.length-1],de=he-te,_e=ce-ee,fe=ne-te,ye=se-ee,be=Math.abs(de*ye-_e*fe);if(be<1e-8||le===0)return(ue[ue.length-2]!==ee||ue[ue.length-1]!==te)&&ue.push(ee,te),null;var Pe=de*de+_e*_e,Ne=fe*fe+ye*ye,we=de*fe+_e*ye,De=le*Math.sqrt(Pe)/be,$e=le*Math.sqrt(Ne)/be,Ge=De*we/Pe,Be=$e*we/Ne,ze=De*ye+$e*_e,$t=De*fe+$e*de,ut=_e*($e+Ge),Ti=de*($e+Ge),Hi=ye*(De+Be),bn=fe*(De+Be),gd=Math.atan2(Ti-$t,ut-ze),Pm=Math.atan2(bn-$t,Hi-ze);return{cx:ze+ee,cy:$t+te,radius:le,startAngle:gd,endAngle:Pm,anticlockwise:_e*fe>ye*de}},ie.arc=function(ee,te,se,ne,le,ue,ce,he,de){for(var _e=ce-ue,fe=GRAPHICS_CURVES._segmentsCount(Math.abs(_e)*le,Math.ceil(Math.abs(_e)/PI_2$1)*40),ye=_e/(fe*2),be=ye*2,Pe=Math.cos(ye),Ne=Math.sin(ye),we=fe-1,De=we%1/we,$e=0;$e<=we;++$e){var Ge=$e+De*$e,Be=ye+ue+be*Ge,ze=Math.cos(Be),$t=-Math.sin(Be);de.push((Pe*ze+Ne*$t)*le+se,(Pe*-$t+Ne*ze)*le+ne)}},ie}(),BezierUtils=function(){function ie(){}return ie.curveLength=function(ee,te,se,ne,le,ue,ce,he){for(var de=10,_e=0,fe=0,ye=0,be=0,Pe=0,Ne=0,we=0,De=0,$e=0,Ge=0,Be=0,ze=ee,$t=te,ut=1;ut<=de;++ut)fe=ut/de,ye=fe*fe,be=ye*fe,Pe=1-fe,Ne=Pe*Pe,we=Ne*Pe,De=we*ee+3*Ne*fe*se+3*Pe*ye*le+be*ce,$e=we*te+3*Ne*fe*ne+3*Pe*ye*ue+be*he,Ge=ze-De,Be=$t-$e,ze=De,$t=$e,_e+=Math.sqrt(Ge*Ge+Be*Be);return _e},ie.curveTo=function(ee,te,se,ne,le,ue,ce){var he=ce[ce.length-2],de=ce[ce.length-1];ce.length-=2;var _e=GRAPHICS_CURVES._segmentsCount(ie.curveLength(he,de,ee,te,se,ne,le,ue)),fe=0,ye=0,be=0,Pe=0,Ne=0;ce.push(he,de);for(var we=1,De=0;we<=_e;++we)De=we/_e,fe=1-De,ye=fe*fe,be=ye*fe,Pe=De*De,Ne=Pe*De,ce.push(be*he+3*ye*De*ee+3*fe*Pe*se+Ne*le,be*de+3*ye*De*te+3*fe*Pe*ne+Ne*ue)},ie}(),QuadraticUtils=function(){function ie(){}return ie.curveLength=function(ee,te,se,ne,le,ue){var ce=ee-2*se+le,he=te-2*ne+ue,de=2*se-2*ee,_e=2*ne-2*te,fe=4*(ce*ce+he*he),ye=4*(ce*de+he*_e),be=de*de+_e*_e,Pe=2*Math.sqrt(fe+ye+be),Ne=Math.sqrt(fe),we=2*fe*Ne,De=2*Math.sqrt(be),$e=ye/Ne;return(we*Pe+Ne*ye*(Pe-De)+(4*be*fe-ye*ye)*Math.log((2*Ne+$e+Pe)/($e+De)))/(4*we)},ie.curveTo=function(ee,te,se,ne,le){for(var ue=le[le.length-2],ce=le[le.length-1],he=GRAPHICS_CURVES._segmentsCount(ie.curveLength(ue,ce,ee,te,se,ne)),de=0,_e=0,fe=1;fe<=he;++fe){var ye=fe/he;de=ue+(ee-ue)*ye,_e=ce+(te-ce)*ye,le.push(de+(ee+(se-ee)*ye-de)*ye,_e+(te+(ne-te)*ye-_e)*ye)}},ie}(),BatchPart=function(){function ie(){this.reset()}return ie.prototype.begin=function(ee,te,se){this.reset(),this.style=ee,this.start=te,this.attribStart=se},ie.prototype.end=function(ee,te){this.attribSize=te-this.attribStart,this.size=ee-this.start},ie.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},ie}(),_a,FILL_COMMANDS=(_a={},_a[SHAPES.POLY]=buildPoly,_a[SHAPES.CIRC]=buildCircle$1,_a[SHAPES.ELIP]=buildCircle$1,_a[SHAPES.RECT]=buildRectangle$1,_a[SHAPES.RREC]=buildRoundedRectangle,_a),BATCH_POOL=[],DRAW_CALL_POOL=[],GraphicsData=function(){function ie(ee,te,se,ne){te===void 0&&(te=null),se===void 0&&(se=null),ne===void 0&&(ne=null),this.points=[],this.holes=[],this.shape=ee,this.lineStyle=se,this.fillStyle=te,this.matrix=ne,this.type=ee.type}return ie.prototype.clone=function(){return new ie(this.shape,this.fillStyle,this.lineStyle,this.matrix)},ie.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},ie}(),tmpPoint$1=new Point$1,GraphicsGeometry=function(ie){__extends$3(ee,ie);function ee(){var te=ie.call(this)||this;return te.closePointEps=1e-4,te.boundsPadding=0,te.uvsFloat32=null,te.indicesUint16=null,te.batchable=!1,te.points=[],te.colors=[],te.uvs=[],te.indices=[],te.textureIds=[],te.graphicsData=[],te.drawCalls=[],te.batchDirty=-1,te.batches=[],te.dirty=0,te.cacheDirty=-1,te.clearDirty=0,te.shapeIndex=0,te._bounds=new Bounds$1,te.boundsDirty=-1,te}return Object.defineProperty(ee.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),ee.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var te=0;te<this.drawCalls.length;te++)this.drawCalls[te].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[te]);this.drawCalls.length=0;for(var te=0;te<this.batches.length;te++){var se=this.batches[te];se.reset(),BATCH_POOL.push(se)}this.batches.length=0},ee.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},ee.prototype.drawShape=function(te,se,ne,le){se===void 0&&(se=null),ne===void 0&&(ne=null),le===void 0&&(le=null);var ue=new GraphicsData(te,se,ne,le);return this.graphicsData.push(ue),this.dirty++,this},ee.prototype.drawHole=function(te,se){if(se===void 0&&(se=null),!this.graphicsData.length)return null;var ne=new GraphicsData(te,null,null,se),le=this.graphicsData[this.graphicsData.length-1];return ne.lineStyle=le.lineStyle,le.holes.push(ne),this.dirty++,this},ee.prototype.destroy=function(){ie.prototype.destroy.call(this);for(var te=0;te<this.graphicsData.length;++te)this.graphicsData[te].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},ee.prototype.containsPoint=function(te){for(var se=this.graphicsData,ne=0;ne<se.length;++ne){var le=se[ne];if(le.fillStyle.visible&&le.shape&&(le.matrix?le.matrix.applyInverse(te,tmpPoint$1):tmpPoint$1.copyFrom(te),le.shape.contains(tmpPoint$1.x,tmpPoint$1.y))){var ue=!1;if(le.holes)for(var ce=0;ce<le.holes.length;ce++){var he=le.holes[ce];if(he.shape.contains(tmpPoint$1.x,tmpPoint$1.y)){ue=!0;break}}if(!ue)return!0}}return!1},ee.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(this.validateBatching()){this.cacheDirty=this.dirty;var te=this.uvs,se=this.graphicsData,ne=null,le=null;this.batches.length>0&&(ne=this.batches[this.batches.length-1],le=ne.style);for(var ue=this.shapeIndex;ue<se.length;ue++){this.shapeIndex++;var ce=se[ue],he=ce.fillStyle,de=ce.lineStyle,_e=FILL_COMMANDS[ce.type];_e.build(ce),ce.matrix&&this.transformPoints(ce.points,ce.matrix),(he.visible||de.visible)&&this.processHoles(ce.holes);for(var fe=0;fe<2;fe++){var ye=fe===0?he:de;if(ye.visible){var be=ye.texture.baseTexture,Pe=this.indices.length,Ne=this.points.length/2;be.wrapMode=WRAP_MODES.REPEAT,fe===0?this.processFill(ce):this.processLine(ce);var we=this.points.length/2-Ne;we!==0&&(ne&&!this._compareStyles(le,ye)&&(ne.end(Pe,Ne),ne=null),ne||(ne=BATCH_POOL.pop()||new BatchPart,ne.begin(ye,Pe,Ne),this.batches.push(ne),le=ye),this.addUvs(this.points,te,ye.texture,Ne,we,ye.matrix))}}}var De=this.indices.length,$e=this.points.length/2;if(ne&&ne.end(De,$e),this.batches.length===0){this.batchable=!0;return}var Ge=$e>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&Ge===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=Ge?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},ee.prototype._compareStyles=function(te,se){return!(!te||!se||te.texture.baseTexture!==se.texture.baseTexture||te.color+te.alpha!==se.color+se.alpha||!!te.native!=!!se.native)},ee.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var te=0,se=this.graphicsData.length;te<se;te++){var ne=this.graphicsData[te],le=ne.fillStyle,ue=ne.lineStyle;if(le&&!le.texture.baseTexture.valid||ue&&!ue.texture.baseTexture.valid)return!1}return!0},ee.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var te=this.batches,se=0,ne=te.length;se<ne;se++)for(var le=te[se],ue=0;ue<le.size;ue++){var ce=le.start+ue;this.indicesUint16[ce]=this.indicesUint16[ce]-le.attribStart}},ee.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var te=this.batches,se=0;se<te.length;se++)if(te[se].style.native)return!1;return this.points.length<ee.BATCHABLE_SIZE*2},ee.prototype.buildDrawCalls=function(){for(var te=++BaseTexture._globalBatch,se=0;se<this.drawCalls.length;se++)this.drawCalls[se].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[se]);this.drawCalls.length=0;var ne=this.colors,le=this.textureIds,ue=DRAW_CALL_POOL.pop();ue||(ue=new BatchDrawCall,ue.texArray=new BatchTextureArray$1),ue.texArray.count=0,ue.start=0,ue.size=0,ue.type=DRAW_MODES.TRIANGLES;var ce=0,he=null,de=0,_e=!1,fe=DRAW_MODES.TRIANGLES,ye=0;this.drawCalls.push(ue);for(var se=0;se<this.batches.length;se++){var be=this.batches[se],Pe=8,Ne=be.style,we=Ne.texture.baseTexture;_e!==!!Ne.native&&(_e=!!Ne.native,fe=_e?DRAW_MODES.LINES:DRAW_MODES.TRIANGLES,he=null,ce=Pe,te++),he!==we&&(he=we,we._batchEnabled!==te&&(ce===Pe&&(te++,ce=0,ue.size>0&&(ue=DRAW_CALL_POOL.pop(),ue||(ue=new BatchDrawCall,ue.texArray=new BatchTextureArray$1),this.drawCalls.push(ue)),ue.start=ye,ue.size=0,ue.texArray.count=0,ue.type=fe),we.touched=1,we._batchEnabled=te,we._batchLocation=ce,we.wrapMode=WRAP_MODES.REPEAT,ue.texArray.elements[ue.texArray.count++]=we,ce++)),ue.size+=be.size,ye+=be.size,de=we._batchLocation,this.addColors(ne,Ne.color,Ne.alpha,be.attribSize,be.attribStart),this.addTextureIds(le,de,be.attribSize,be.attribStart)}BaseTexture._globalBatch=te,this.packAttributes()},ee.prototype.packAttributes=function(){for(var te=this.points,se=this.uvs,ne=this.colors,le=this.textureIds,ue=new ArrayBuffer(te.length*3*4),ce=new Float32Array(ue),he=new Uint32Array(ue),de=0,_e=0;_e<te.length/2;_e++)ce[de++]=te[_e*2],ce[de++]=te[_e*2+1],ce[de++]=se[_e*2],ce[de++]=se[_e*2+1],he[de++]=ne[_e],ce[de++]=le[_e];this._buffer.update(ue),this._indexBuffer.update(this.indicesUint16)},ee.prototype.processFill=function(te){if(te.holes.length)buildPoly.triangulate(te,this);else{var se=FILL_COMMANDS[te.type];se.triangulate(te,this)}},ee.prototype.processLine=function(te){buildLine$1(te,this);for(var se=0;se<te.holes.length;se++)buildLine$1(te.holes[se],this)},ee.prototype.processHoles=function(te){for(var se=0;se<te.length;se++){var ne=te[se],le=FILL_COMMANDS[ne.type];le.build(ne),ne.matrix&&this.transformPoints(ne.points,ne.matrix)}},ee.prototype.calculateBounds=function(){var te=this._bounds;te.clear(),te.addVertexData(this.points,0,this.points.length),te.pad(this.boundsPadding,this.boundsPadding)},ee.prototype.transformPoints=function(te,se){for(var ne=0;ne<te.length/2;ne++){var le=te[ne*2],ue=te[ne*2+1];te[ne*2]=se.a*le+se.c*ue+se.tx,te[ne*2+1]=se.b*le+se.d*ue+se.ty}},ee.prototype.addColors=function(te,se,ne,le,ue){ue===void 0&&(ue=0);var ce=(se>>16)+(se&65280)+((se&255)<<16),he=premultiplyTint(ce,ne);te.length=Math.max(te.length,ue+le);for(var de=0;de<le;de++)te[ue+de]=he},ee.prototype.addTextureIds=function(te,se,ne,le){le===void 0&&(le=0),te.length=Math.max(te.length,le+ne);for(var ue=0;ue<ne;ue++)te[le+ue]=se},ee.prototype.addUvs=function(te,se,ne,le,ue,ce){ce===void 0&&(ce=null);for(var he=0,de=se.length,_e=ne.frame;he<ue;){var fe=te[(le+he)*2],ye=te[(le+he)*2+1];if(ce){var be=ce.a*fe+ce.c*ye+ce.tx;ye=ce.b*fe+ce.d*ye+ce.ty,fe=be}he++,se.push(fe/_e.width,ye/_e.height)}var Pe=ne.baseTexture;(_e.width<Pe.width||_e.height<Pe.height)&&this.adjustUvs(se,ne,de,ue)},ee.prototype.adjustUvs=function(te,se,ne,le){for(var ue=se.baseTexture,ce=1e-6,he=ne+le*2,de=se.frame,_e=de.width/ue.width,fe=de.height/ue.height,ye=de.x/de.width,be=de.y/de.height,Pe=Math.floor(te[ne]+ce),Ne=Math.floor(te[ne+1]+ce),we=ne+2;we<he;we+=2)Pe=Math.min(Pe,Math.floor(te[we]+ce)),Ne=Math.min(Ne,Math.floor(te[we+1]+ce));ye-=Pe,be-=Ne;for(var we=ne;we<he;we+=2)te[we]=(te[we]+ye)*_e,te[we+1]=(te[we+1]+be)*fe},ee.BATCHABLE_SIZE=100,ee}(BatchGeometry$1),LineStyle=function(ie){__extends$3(ee,ie);function ee(){var te=ie!==null&&ie.apply(this,arguments)||this;return te.width=0,te.alignment=.5,te.native=!1,te.cap=LINE_CAP.BUTT,te.join=LINE_JOIN.MITER,te.miterLimit=10,te}return ee.prototype.clone=function(){var te=new ee;return te.color=this.color,te.alpha=this.alpha,te.texture=this.texture,te.matrix=this.matrix,te.visible=this.visible,te.width=this.width,te.alignment=this.alignment,te.native=this.native,te.cap=this.cap,te.join=this.join,te.miterLimit=this.miterLimit,te},ee.prototype.reset=function(){ie.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},ee}(FillStyle),temp=new Float32Array(3),DEFAULT_SHADERS={},Graphics$1=function(ie){__extends$3(ee,ie);function ee(te){te===void 0&&(te=null);var se=ie.call(this)||this;return se.shader=null,se.pluginName="batch",se.currentPath=null,se.batches=[],se.batchTint=-1,se.batchDirty=-1,se.vertexData=null,se._fillStyle=new FillStyle,se._lineStyle=new LineStyle,se._matrix=null,se._holeMode=!1,se.state=State$1.for2d(),se._geometry=te||new GraphicsGeometry,se._geometry.refCount++,se._transformID=-1,se.tint=16777215,se.blendMode=BLEND_MODES.NORMAL,se}return Object.defineProperty(ee.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),ee.prototype.clone=function(){return this.finishPoly(),new ee(this._geometry)},Object.defineProperty(ee.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(te){this.state.blendMode=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"tint",{get:function(){return this._tint},set:function(te){this._tint=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),ee.prototype.lineStyle=function(te,se,ne,le,ue){return te===void 0&&(te=null),se===void 0&&(se=0),ne===void 0&&(ne=1),le===void 0&&(le=.5),ue===void 0&&(ue=!1),typeof te=="number"&&(te={width:te,color:se,alpha:ne,alignment:le,native:ue}),this.lineTextureStyle(te)},ee.prototype.lineTextureStyle=function(te){te=Object.assign({width:0,texture:Texture$1.WHITE,color:te&&te.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:LINE_CAP.BUTT,join:LINE_JOIN.MITER,miterLimit:10},te),this.currentPath&&this.startPoly();var se=te.width>0&&te.alpha>0;return se?(te.matrix&&(te.matrix=te.matrix.clone(),te.matrix.invert()),Object.assign(this._lineStyle,{visible:se},te)):this._lineStyle.reset(),this},ee.prototype.startPoly=function(){if(this.currentPath){var te=this.currentPath.points,se=this.currentPath.points.length;se>2&&(this.drawShape(this.currentPath),this.currentPath=new Polygon$1,this.currentPath.closeStroke=!1,this.currentPath.points.push(te[se-2],te[se-1]))}else this.currentPath=new Polygon$1,this.currentPath.closeStroke=!1},ee.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},ee.prototype.moveTo=function(te,se){return this.startPoly(),this.currentPath.points[0]=te,this.currentPath.points[1]=se,this},ee.prototype.lineTo=function(te,se){this.currentPath||this.moveTo(0,0);var ne=this.currentPath.points,le=ne[ne.length-2],ue=ne[ne.length-1];return(le!==te||ue!==se)&&ne.push(te,se),this},ee.prototype._initCurve=function(te,se){te===void 0&&(te=0),se===void 0&&(se=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[te,se]):this.moveTo(te,se)},ee.prototype.quadraticCurveTo=function(te,se,ne,le){this._initCurve();var ue=this.currentPath.points;return ue.length===0&&this.moveTo(0,0),QuadraticUtils.curveTo(te,se,ne,le,ue),this},ee.prototype.bezierCurveTo=function(te,se,ne,le,ue,ce){return this._initCurve(),BezierUtils.curveTo(te,se,ne,le,ue,ce,this.currentPath.points),this},ee.prototype.arcTo=function(te,se,ne,le,ue){this._initCurve(te,se);var ce=this.currentPath.points,he=ArcUtils.curveTo(te,se,ne,le,ue,ce);if(he){var de=he.cx,_e=he.cy,fe=he.radius,ye=he.startAngle,be=he.endAngle,Pe=he.anticlockwise;this.arc(de,_e,fe,ye,be,Pe)}return this},ee.prototype.arc=function(te,se,ne,le,ue,ce){if(ce===void 0&&(ce=!1),le===ue)return this;!ce&&ue<=le?ue+=PI_2$1:ce&&le<=ue&&(le+=PI_2$1);var he=ue-le;if(he===0)return this;var de=te+Math.cos(le)*ne,_e=se+Math.sin(le)*ne,fe=this._geometry.closePointEps,ye=this.currentPath?this.currentPath.points:null;if(ye){var be=Math.abs(ye[ye.length-2]-de),Pe=Math.abs(ye[ye.length-1]-_e);be<fe&&Pe<fe||ye.push(de,_e)}else this.moveTo(de,_e),ye=this.currentPath.points;return ArcUtils.arc(de,_e,te,se,ne,le,ue,ce,ye),this},ee.prototype.beginFill=function(te,se){return te===void 0&&(te=0),se===void 0&&(se=1),this.beginTextureFill({texture:Texture$1.WHITE,color:te,alpha:se})},ee.prototype.beginTextureFill=function(te){te=Object.assign({texture:Texture$1.WHITE,color:16777215,alpha:1,matrix:null},te),this.currentPath&&this.startPoly();var se=te.alpha>0;return se?(te.matrix&&(te.matrix=te.matrix.clone(),te.matrix.invert()),Object.assign(this._fillStyle,{visible:se},te)):this._fillStyle.reset(),this},ee.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},ee.prototype.drawRect=function(te,se,ne,le){return this.drawShape(new Rectangle$1(te,se,ne,le))},ee.prototype.drawRoundedRect=function(te,se,ne,le,ue){return this.drawShape(new RoundedRectangle$1(te,se,ne,le,ue))},ee.prototype.drawCircle=function(te,se,ne){return this.drawShape(new Circle$1(te,se,ne))},ee.prototype.drawEllipse=function(te,se,ne,le){return this.drawShape(new Ellipse$1(te,se,ne,le))},ee.prototype.drawPolygon=function(){for(var te=arguments,se=[],ne=0;ne<arguments.length;ne++)se[ne]=te[ne];var le,ue=!0,ce=se[0];ce.points?(ue=ce.closeStroke,le=ce.points):Array.isArray(se[0])?le=se[0]:le=se;var he=new Polygon$1(le);return he.closeStroke=ue,this.drawShape(he),this},ee.prototype.drawShape=function(te){return this._holeMode?this._geometry.drawHole(te,this._matrix):this._geometry.drawShape(te,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},ee.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},ee.prototype.isFastRect=function(){var te=this._geometry.graphicsData;return te.length===1&&te[0].shape.type===SHAPES.RECT&&!te[0].matrix&&!te[0].holes.length&&!(te[0].lineStyle.visible&&te[0].lineStyle.width)},ee.prototype._render=function(te){this.finishPoly();var se=this._geometry;se.updateBatches(),se.batchable?(this.batchDirty!==se.batchDirty&&this._populateBatches(),this._renderBatched(te)):(te.batch.flush(),this._renderDirect(te))},ee.prototype._populateBatches=function(){var te=this._geometry,se=this.blendMode,ne=te.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=te.batchDirty,this.batches.length=ne,this.vertexData=new Float32Array(te.points);for(var le=0;le<ne;le++){var ue=te.batches[le],ce=ue.style.color,he=new Float32Array(this.vertexData.buffer,ue.attribStart*4*2,ue.attribSize*2),de=new Float32Array(te.uvsFloat32.buffer,ue.attribStart*4*2,ue.attribSize*2),_e=new Uint16Array(te.indicesUint16.buffer,ue.start*2,ue.size),fe={vertexData:he,blendMode:se,indices:_e,uvs:de,_batchRGB:hex2rgb(ce),_tintRGB:ce,_texture:ue.style.texture,alpha:ue.style.alpha,worldAlpha:1};this.batches[le]=fe}},ee.prototype._renderBatched=function(te){if(this.batches.length){te.batch.setObjectRenderer(te.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var se=0,ne=this.batches.length;se<ne;se++){var le=this.batches[se];le.worldAlpha=this.worldAlpha*le.alpha,te.plugins[this.pluginName].render(le)}}},ee.prototype._renderDirect=function(te){var se=this._resolveDirectShader(te),ne=this._geometry,le=this.tint,ue=this.worldAlpha,ce=se.uniforms,he=ne.drawCalls;ce.translationMatrix=this.transform.worldTransform,ce.tint[0]=(le>>16&255)/255*ue,ce.tint[1]=(le>>8&255)/255*ue,ce.tint[2]=(le&255)/255*ue,ce.tint[3]=ue,te.shader.bind(se),te.geometry.bind(ne,se),te.state.set(this.state);for(var de=0,_e=he.length;de<_e;de++)this._renderDrawCallDirect(te,ne.drawCalls[de])},ee.prototype._renderDrawCallDirect=function(te,se){for(var ne=se.texArray,le=se.type,ue=se.size,ce=se.start,he=ne.count,de=0;de<he;de++)te.texture.bind(ne.elements[de],de);te.geometry.draw(le,ue,ce)},ee.prototype._resolveDirectShader=function(te){var se=this.shader,ne=this.pluginName;if(!se){if(!DEFAULT_SHADERS[ne]){for(var le=te.plugins[ne].MAX_TEXTURES,ue=new Int32Array(le),ce=0;ce<le;ce++)ue[ce]=ce;var he={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix$1,default:UniformGroup$1.from({uSamplers:ue},!0)},de=te.plugins[ne]._shader.program;DEFAULT_SHADERS[ne]=new Shader$1(de,he)}se=DEFAULT_SHADERS[ne]}return se},ee.prototype._calculateBounds=function(){this.finishPoly();var te=this._geometry;if(te.graphicsData.length){var se=te.bounds,ne=se.minX,le=se.minY,ue=se.maxX,ce=se.maxY;this._bounds.addFrame(this.transform,ne,le,ue,ce)}},ee.prototype.containsPoint=function(te){return this.worldTransform.applyInverse(te,ee._TEMP_POINT),this._geometry.containsPoint(ee._TEMP_POINT)},ee.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var te=hex2rgb(this.tint,temp),se=0;se<this.batches.length;se++){var ne=this.batches[se],le=ne._batchRGB,ue=te[0]*le[0]*255,ce=te[1]*le[1]*255,he=te[2]*le[2]*255,de=(ue<<16)+(ce<<8)+(he|0);ne._tintRGB=(de>>16)+(de&65280)+((de&255)<<16)}}},ee.prototype.calculateVertices=function(){var te=this.transform._worldID;if(this._transformID!==te){this._transformID=te;for(var se=this.transform.worldTransform,ne=se.a,le=se.b,ue=se.c,ce=se.d,he=se.tx,de=se.ty,_e=this._geometry.points,fe=this.vertexData,ye=0,be=0;be<_e.length;be+=2){var Pe=_e[be],Ne=_e[be+1];fe[ye++]=ne*Pe+ue*Ne+he,fe[ye++]=ce*Ne+le*Pe+de}}},ee.prototype.closePath=function(){var te=this.currentPath;return te&&(te.closeStroke=!0,this.finishPoly()),this},ee.prototype.setMatrix=function(te){return this._matrix=te,this},ee.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},ee.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},ee.prototype.destroy=function(te){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,ie.prototype.destroy.call(this,te)},ee.nextRoundedRectBehavior=!1,ee._TEMP_POINT=new Point$1,ee}(Container$1);const WO=class WO{static hex2rgb(ee,te=[]){return te[0]=(ee>>16&255)/255,te[1]=(ee>>8&255)/255,te[2]=(ee&255)/255,te}static hex2rgba(ee,te=[]){return te[0]=(ee>>16&255)/255,te[1]=(ee>>8&255)/255,te[2]=(ee&255)/255,te[3]=ee&255,te}static rgb2hex(ee){return(ee[0]*255<<16)+(ee[1]*255<<8)+(ee[2]*255|0)}static rgba2hex(ee){return(ee[0]*255<<16)+(ee[1]*255<<8)+(ee[2]*255|0)+(ee[3]|0)}static rgbStringToHex(ee){const te=ee.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"#"+WO.getHex(te[1])+WO.getHex(te[2])+WO.getHex(te[3])}static getHex(ee){return isNaN(ee)?"00":WO.HEX_DIGITS[(ee-ee%16)/16]+WO.HEX_DIGITS[ee%16]}static int2rgb(ee){ee>>>=0;const te=ee&255,se=(ee&65280)>>>8;return"rgba("+[(ee&16711680)>>>16,se,te,1].join(",")+")"}static rgbToHSL(ee){const te=(ee>>16&255)/255,se=(ee>>8&255)/255,ne=(ee&255)/255,le=Math.max(te,se,ne),ue=Math.min(te,se,ne),ce=le-ue;let he=0,de=0,_e=0;ce==0?he=0:le==te?se>ne?he=60*(se-ne)/ce:he=60*(se-ne)/ce+360:le==se?he=60*(ne-te)/ce+120:le==ne&&(he=60*(te-se)/ce+240),de=.5*(le+ue),ce==0?_e=0:de<=.5?_e=ce/de*.5:_e=ce/(1-de)*.5;const fe=Math.round(he/360*255),ye=Math.round(_e*255),be=Math.round(de*255);return(fe<<16)+(ye<<8)+be}static hslToRGB(ee){let te,se,ne,le,ue;const ce=(ee>>16&255)/255,he=(ee>>8&255)/255,de=(ee&255)/255;let _e=0,fe=0,ye=0;he>0?(te=0,se=0,de<.5?te=de*(1+he):te=de+he-de*he,se=2*de-te,ne=ce+1/3,le=ce,ue=ce-1/3,ne<0?ne=ne+1:ne>1&&ne--,le<0?le=le+1:le>1&&le--,ue<0?ue=ue+1:ue>1&&ue--,ne*6<1?_e=se+(te-se)*6*ne:ne*2<1?_e=te:ne*3<2?_e=se+(te-se)*6*(2/3-ne):_e=se,le*6<1?fe=se+(te-se)*6*le:le*2<1?fe=te:le*3<2?fe=se+(te-se)*6*(2/3-le):fe=se,ue*6<1?ye=se+(te-se)*6*ue:ue*2<1?ye=te:ue*3<2?ye=se+(te-se)*6*(2/3-ue):ye=se):(_e=de,fe=de,ye=de);const be=Math.round(_e*255),Pe=Math.round(fe*255),Ne=Math.round(ye*255);return(be<<16)+(Pe<<8)+Ne}static rgb2xyz(ee){let te=(ee>>16&255)/255,se=(ee>>8&255)/255,ne=(ee>>0&255)/255;return te>.04045?te=Math.pow((te+.055)/1.055,2.4):te=te/12.92,se>.04045?se=Math.pow((se+.055)/1.055,2.4):se=se/12.92,ne>.04045?ne=Math.pow((ne+.055)/1.055,2.4):ne=ne/12.92,te=te*100,se=se*100,ne=ne*100,new Vector3d(te*.4124+se*.3576+ne*.1805,te*.2126+se*.7152+ne*.0722,te*.0193+se*.1192+ne*.9505)}static xyz2CieLab(ee){let te=ee.x/95.047,se=ee.y/100,ne=ee.z/108.883;return te>.008856?te=Math.pow(te,1/3):te=7.787*te+16/116,se>.008856?se=Math.pow(se,1/3):se=7.787*se+16/116,ne>.008856?ne=Math.pow(ne,1/3):ne=7.787*ne+16/116,new Vector3d(116*se-16,500*(te-se),200*(se-ne))}static rgb2CieLab(ee){return WO.xyz2CieLab(WO.rgb2xyz(ee))}static colorize(ee,te){if(te===4294967295)return ee;let se=te>>16&255,ne=te>>8&255,le=te&255;return se=(ee>>16&255)*se/255,ne=(ee>>8&255)*ne/255,le=(ee&255)*le/255,(ee&&4278190080)|se<<16|ne<<8|le}};WO.HEX_DIGITS=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];let ColorConverter=WO;class NumberBank{constructor(ee){ee<0&&(ee=0),this._reservedNumbers=[],this._freeNumbers=[];let te=0;for(;te<ee;)this._freeNumbers.push(te),te++}dispose(){this._reservedNumbers=null,this._freeNumbers=null}reserveNumber(){if(this._freeNumbers.length>0){const ee=this._freeNumbers.pop();return this._reservedNumbers.push(ee),ee}return-1}freeNumber(ee){const te=this._reservedNumbers.indexOf(ee);te>=0&&(this._reservedNumbers.splice(te,1),this._freeNumbers.push(ee))}}class Rasterizer{static getFlipHBitmapData(ee){if(!ee)return null;const te=TextureUtils.createRenderTexture(ee.width,ee.height),se=new Matrix$1;return se.scale(-1,1),se.translate(ee.width,0),PixiApplicationProxy.instance.renderer.render(new Sprite$1(ee),{renderTexture:te,clear:!0,transform:se}),te}static getFlipVBitmapData(ee){if(!ee)return null;const te=new Matrix$1;te.scale(1,-1),te.translate(0,ee.height);const se=new Graphics$1;return se.beginTextureFill({texture:ee,matrix:te}).drawRect(0,0,ee.width,ee.height).endFill(),TextureUtils.generateTexture(se)}static getFlipHVBitmapData(ee){if(!ee)return null;const te=new Matrix$1;te.scale(-1,-1),te.translate(ee.width,ee.height);const se=new Graphics$1;return se.beginTextureFill({texture:ee,matrix:te}).drawRect(0,0,ee.width,ee.height).endFill(),TextureUtils.generateTexture(se)}}const SR=class SR{static init(ee,te){SR._currentDelta=0,SR._startDelayMs=ee,SR._effectDurationMs=te,SR._initializationTimeMs=GetTickerTime(),SR._state=SR.STATE_START_DELAY}static turnVisualizationOn(){if(SR._state===SR.STATE_NOT_INITIALIZED||SR._state===SR.STATE_OVER)return;const ee=GetTickerTime()-SR._initializationTimeMs;if(ee>SR._startDelayMs+SR._effectDurationMs){SR._state=SR.STATE_OVER;return}if(SR._visualizationOn=!0,ee<SR._startDelayMs){SR._state=SR.STATE_START_DELAY;return}SR._state=SR.STATE_RUNNING,SR._currentDelta=(ee-SR._startDelayMs)/SR._effectDurationMs}static turnVisualizationOff(){SR._visualizationOn=!1}static isVisualizationOn(){return SR._visualizationOn&&SR.isRunning()}static isRunning(){return SR._state===SR.STATE_START_DELAY||SR._state===SR.STATE_RUNNING}static getDelta(ee=0,te=1){return Math.min(Math.max(SR._currentDelta,ee),te)}static get totalRunningTime(){return SR._startDelayMs+SR._effectDurationMs}};SR.STATE_NOT_INITIALIZED=0,SR.STATE_START_DELAY=1,SR.STATE_RUNNING=2,SR.STATE_OVER=3,SR._state=SR.STATE_NOT_INITIALIZED,SR._visualizationOn=!1,SR._currentDelta=0,SR._initializationTimeMs=0,SR._startDelayMs=20*1e3,SR._effectDurationMs=2e3;let RoomEnterEffect=SR;const YO=class YO{constructor(ee,te,se,ne=null){this._updateId=0,this._scale=1,this._x_scale=1,this._y_scale=1,this._z_scale=1,this._x_scale_internal=1,this._y_scale_internal=1,this._z_scale_internal=1,this._clipNear=-500,this._clipFar=500,this._displacements=null,this.scale=ee,this._x=new Vector3d,this._y=new Vector3d,this._z=new Vector3d,this._directionAxis=new Vector3d,this._location=new Vector3d,this._direction=new Vector3d,this._depth=new Vector3d,this._x_scale_internal=1,this._y_scale_internal=1,this.x_scale=1,this.y_scale=1,this._z_scale_internal=Math.sqrt(1/2)/Math.sqrt(3/4),this.z_scale=1,this.location=new Vector3d(se.x,se.y,se.z),this.direction=new Vector3d(te.x,te.y,te.z),ne!=null?this.setDepthVector(ne):this.setDepthVector(te),this._displacements=new Map}static getIntersectionVector(ee,te,se,ne){const le=Vector3d.dotProduct(te,ne);if(Math.abs(le)<1e-5)return null;const ue=Vector3d.dif(ee,se),ce=-Vector3d.dotProduct(ne,ue)/le;return Vector3d.sum(ee,Vector3d.product(te,ce))}get updateId(){return this._updateId}get scale(){return this._scale/Math.sqrt(.5)}set scale(ee){ee<=1&&(ee=1),ee=ee*Math.sqrt(.5),ee!=this._scale&&(this._scale=ee,this._updateId++)}get directionAxis(){return this._directionAxis}get location(){return this._location.assign(this._loc),this._location.x=this._location.x*this._x_scale,this._location.y=this._location.y*this._y_scale,this._location.z=this._location.z*this._z_scale,this._location}set location(ee){if(ee==null)return;this._loc==null&&(this._loc=new Vector3d);const te=this._loc.x,se=this._loc.y,ne=this._loc.z;this._loc.assign(ee),this._loc.x=this._loc.x/this._x_scale,this._loc.y=this._loc.y/this._y_scale,this._loc.z=this._loc.z/this._z_scale,(this._loc.x!=te||this._loc.y!=se||this._loc.z!=ne)&&this._updateId++}get direction(){return this._direction}set direction(ee){let te,se,ne,le,ue;if(ee==null)return;this._dir==null&&(this._dir=new Vector3d);const ce=this._dir.x,he=this._dir.y,de=this._dir.z;this._dir.assign(ee),this._direction.assign(ee),(this._dir.x!=ce||this._dir.y!=he||this._dir.z!=de)&&this._updateId++;const _e=new Vector3d(0,1,0),fe=new Vector3d(0,0,1),ye=new Vector3d(1,0,0),be=ee.x/180*Math.PI,Pe=ee.y/180*Math.PI,Ne=ee.z/180*Math.PI,we=Math.cos(be),De=Math.sin(be),$e=Vector3d.sum(Vector3d.product(_e,we),Vector3d.product(ye,-De)),Ge=new Vector3d(fe.x,fe.y,fe.z),Be=Vector3d.sum(Vector3d.product(_e,De),Vector3d.product(ye,we)),ze=Math.cos(Pe),$t=Math.sin(Pe),ut=new Vector3d($e.x,$e.y,$e.z),Ti=Vector3d.sum(Vector3d.product(Ge,ze),Vector3d.product(Be,$t)),Hi=Vector3d.sum(Vector3d.product(Ge,-$t),Vector3d.product(Be,ze));Ne!=0?(te=Math.cos(Ne),se=Math.sin(Ne),ne=Vector3d.sum(Vector3d.product(ut,te),Vector3d.product(Ti,se)),le=Vector3d.sum(Vector3d.product(ut,-se),Vector3d.product(Ti,te)),ue=new Vector3d(Hi.x,Hi.y,Hi.z),this._x.assign(ne),this._y.assign(le),this._z.assign(ue),this._directionAxis.assign(this._z)):(this._x.assign(ut),this._y.assign(Ti),this._z.assign(Hi),this._directionAxis.assign(this._z))}set x_scale(ee){this._x_scale!=ee*this._x_scale_internal&&(this._x_scale=ee*this._x_scale_internal,this._updateId++)}set y_scale(ee){this._y_scale!=ee*this._y_scale_internal&&(this._y_scale=ee*this._y_scale_internal,this._updateId++)}set z_scale(ee){this._z_scale!=ee*this._z_scale_internal&&(this._z_scale=ee*this._z_scale_internal,this._updateId++)}dispose(){this._x=null,this._y=null,this._z=null,this._loc=null,this._dir=null,this._directionAxis=null,this._location=null,this._displacements!=null&&(this._displacements.clear(),this._displacements=null)}setDisplacement(ee,te){let se,ne;ee==null||te==null||this._displacements!=null&&(se=Math.trunc(Math.round(ee.x))+"_"+Math.trunc(Math.round(ee.y))+"_"+Math.trunc(Math.round(ee.z)),this._displacements.delete(se),ne=new Vector3d,ne.assign(te),this._displacements.set(se,ne),this._updateId++)}getDisplacenent(ee){let te;return this._displacements!=null?(te=Math.trunc(Math.round(ee.x))+"_"+Math.trunc(Math.round(ee.y))+"_"+Math.trunc(Math.round(ee.z)),this._displacements.get(te)):null}setDepthVector(ee){let te,se,ne;const le=new Vector3d(0,1,0),ue=new Vector3d(0,0,1),ce=new Vector3d(1,0,0),he=ee.x/180*Math.PI,de=ee.y/180*Math.PI,_e=ee.z/180*Math.PI,fe=Math.cos(he),ye=Math.sin(he),be=Vector3d.sum(Vector3d.product(le,fe),Vector3d.product(ce,-ye)),Pe=new Vector3d(ue.x,ue.y,ue.z),Ne=Vector3d.sum(Vector3d.product(le,ye),Vector3d.product(ce,fe)),we=Math.cos(de),De=Math.sin(de),$e=new Vector3d(be.x,be.y,be.z),Ge=Vector3d.sum(Vector3d.product(Pe,we),Vector3d.product(Ne,De)),Be=Vector3d.sum(Vector3d.product(Pe,-De),Vector3d.product(Ne,we));_e!=0?(te=Math.cos(_e),se=Math.sin(_e),Vector3d.sum(Vector3d.product($e,te),Vector3d.product(Ge,se)),Vector3d.sum(Vector3d.product($e,-se),Vector3d.product(Ge,te)),ne=new Vector3d(Be.x,Be.y,Be.z),this._depth.assign(ne)):this._depth.assign(Be),this._updateId++}adjustLocation(ee,te){if(ee==null||this._z==null)return;const se=Vector3d.product(this._z,-te),ne=new Vector3d(ee.x+se.x,ee.y+se.y,ee.z+se.z);this.location=ne}getCoordinatePosition(ee){if(ee==null)return null;const te=Vector3d.scalarProjection(ee,this._x),se=Vector3d.scalarProjection(ee,this._y),ne=Vector3d.scalarProjection(ee,this._z);return new Vector3d(te,se,ne)}getScreenPosition(ee){let te=Vector3d.dif(ee,this._loc);te.x=te.x*this._x_scale,te.y=te.y*this._y_scale,te.z=te.z*this._z_scale;let se=Vector3d.scalarProjection(te,this._depth);if(se<this._clipNear||se>this._clipFar)return null;let ne=Vector3d.scalarProjection(te,this._x),le=-Vector3d.scalarProjection(te,this._y);ne=ne*this._scale,le=le*this._scale;const ue=this.getDisplacenent(ee);return ue!=null&&(te=Vector3d.dif(ee,this._loc),te.add(ue),te.x=te.x*this._x_scale,te.y=te.y*this._y_scale,te.z=te.z*this._z_scale,se=Vector3d.scalarProjection(te,this._depth)),te.x=ne,te.y=le,te.z=se,te}getScreenPoint(ee){const te=this.getScreenPosition(ee);return te==null?null:new Point$1(te.x,te.y)}getPlanePosition(ee,te,se,ne){let le,ue;const ce=ee.x/this._scale,he=-ee.y/this._scale,de=Vector3d.product(this._x,ce);de.add(Vector3d.product(this._y,he));const _e=new Vector3d(this._loc.x*this._x_scale,this._loc.y*this._y_scale,this._loc.z*this._z_scale);_e.add(de);const fe=this._z,ye=new Vector3d(te.x*this._x_scale,te.y*this._y_scale,te.z*this._z_scale),be=new Vector3d(se.x*this._x_scale,se.y*this._y_scale,se.z*this._z_scale),Pe=new Vector3d(ne.x*this._x_scale,ne.y*this._y_scale,ne.z*this._z_scale),Ne=Vector3d.crossProduct(be,Pe),we=new Vector3d;return we.assign(YO.getIntersectionVector(_e,fe,ye,Ne)),we!=null?(we.subtract(ye),le=Vector3d.scalarProjection(we,se)/be.length*se.length,ue=Vector3d.scalarProjection(we,ne)/Pe.length*ne.length,new Point$1(le,ue)):null}performZoom(){this.isZoomedIn()?this.scale=YO.SCALE_ZOOMED_OUT:this.scale=YO.SCALE_ZOOMED_IN}isZoomedIn(){return this.scale==YO.SCALE_ZOOMED_IN}performZoomOut(){this.scale=YO.SCALE_ZOOMED_OUT}performZoomIn(){this.scale=YO.SCALE_ZOOMED_IN}};YO.SCALE_ZOOMED_IN=64,YO.SCALE_ZOOMED_OUT=32;let RoomGeometry=YO;const OD=class OD{static makeRoomPreviewerId(ee){return(ee&65535)+OD.PREVIEW_ROOM_ID_BASE}static isRoomPreviewerId(ee){return ee>=OD.PREVIEW_ROOM_ID_BASE}};OD.PREVIEW_ROOM_ID_BASE=2147418112;let RoomId=OD;const eO=class eO{static init(ee,te){this._SafeStr_4513=0,this._SafeStr_4515=ee,this._SafeStr_4516=te,this._SafeStr_4514=GetTickerTime(),this._SafeStr_448=1}static turnVisualizationOn(){if(this._SafeStr_448===0||this._SafeStr_448===3)return;this._SafeStr_4524||(this._SafeStr_4524=setTimeout(()=>this.turnVisualizationOff(),this._SafeStr_4516));const ee=GetTickerTime()-this._SafeStr_4514;if(ee>this._SafeStr_4515+this._SafeStr_4516){this._SafeStr_448=3;return}if(this._SafeStr_4512=!0,ee<this._SafeStr_4515){this._SafeStr_448=1;return}this._SafeStr_448=2,this._SafeStr_4513=(ee-this._SafeStr_4515)/this._SafeStr_4516}static turnVisualizationOff(){this._SafeStr_4512=!1,clearTimeout(this._SafeStr_4524),this._SafeStr_4524=null}static isVisualizationOn(){return this._SafeStr_4512&&this.isRunning()}static isRunning(){return this._SafeStr_448===1||this._SafeStr_448===2}};eO.STATE_NOT_INITIALIZED=0,eO.STATE_START_DELAY=1,eO.STATE_RUNNING=2,eO.STATE_OVER=3,eO._SafeStr_448=0,eO._SafeStr_4512=!1,eO._SafeStr_4513=0,eO._SafeStr_4514=0,eO._SafeStr_4515=2e4,eO._SafeStr_4516=5e3;let RoomRotatingEffect=eO;const TO=class TO{static init(ee,te){this._SafeStr_4513=0,this._SafeStr_4515=ee,this._SafeStr_4516=te,this._SafeStr_4514=GetTickerTime(),this._SafeStr_448=1}static turnVisualizationOn(){if(this._SafeStr_448===0||this._SafeStr_448===3)return;this._SafeStr_4524||(this._SafeStr_4524=setTimeout(()=>this.turnVisualizationOff(),this._SafeStr_4516));const ee=GetTickerTime()-this._SafeStr_4514;if(ee>this._SafeStr_4515+this._SafeStr_4516){this._SafeStr_448=3;return}if(this._SafeStr_4512=!0,ee<this._SafeStr_4515){this._SafeStr_448=1;return}this._SafeStr_448=2,this._SafeStr_4513=(ee-this._SafeStr_4515)/this._SafeStr_4516}static turnVisualizationOff(){this._SafeStr_4512=!1,clearTimeout(this._SafeStr_4524),this._SafeStr_4524=null}static isVisualizationOn(){return this._SafeStr_4512&&this.isRunning()}static isRunning(){return this._SafeStr_448===1||this._SafeStr_448===2}};TO.STATE_NOT_INITIALIZED=0,TO.STATE_START_DELAY=1,TO.STATE_RUNNING=2,TO.STATE_OVER=3,TO._SafeStr_448=0,TO._SafeStr_4512=!1,TO._SafeStr_4514=0,TO._SafeStr_4515=2e4,TO._SafeStr_4516=5e3;let RoomShakingEffect=TO;class SpriteUtilities{static hex2int(ee){return parseInt(ee,16)}static inkToBlendMode(ee){return ee=="ADD"||ee==33?BLEND_MODES.ADD:ee=="SUBTRACT"?BLEND_MODES.SUBTRACT:ee=="DARKEN"?BLEND_MODES.DARKEN:BLEND_MODES.NORMAL}}class ExtendedSprite extends Sprite$1{constructor(ee=null){super(ee),this._offsetX=0,this._offsetY=0,this._tag="",this._alphaTolerance=128,this._varyingDepth=!1,this._clickHandling=!1,this._pairedSpriteId=-1,this._pairedSpriteUpdateCounter=-1}needsUpdate(ee,te){return this._pairedSpriteId===ee&&this._pairedSpriteUpdateCounter===te?!1:(this._pairedSpriteId=ee,this._pairedSpriteUpdateCounter=te,!0)}calculateVertices(){this.texture.orig&&super.calculateVertices()}setTexture(ee){ee||(ee=Texture$1.EMPTY),ee!==this.texture&&(ee===Texture$1.EMPTY&&(this._pairedSpriteId=-1,this._pairedSpriteUpdateCounter=-1),this.texture=ee)}containsPoint(ee){return ExtendedSprite.containsPoint(this,ee)}static containsPoint(ee,te){if(!ee||!te||ee.alphaTolerance>255||!(ee instanceof Sprite$1))return!1;if(ee.texture===Texture$1.EMPTY||ee.blendMode!==BLEND_MODES.NORMAL)return;const se=ee.texture,ne=se.baseTexture;if(!se||!ne||!ne.valid)return!1;const le=te.x*ee.scale.x,ue=te.y*ee.scale.y;if(!ee.getLocalBounds().contains(le,ue)||!ne.hitMap&&!ExtendedSprite.generateHitMap(ne))return!1;const ce=ne.hitMap;let he=le+se.frame.x,de=ue+se.frame.y;se.trim&&(he-=se.trim.x,de-=se.trim.y),he=Math.round(he)*ne.resolution,de=Math.round(de)*ne.resolution;const _e=he+de*ne.realWidth,fe=_e%32,ye=_e/32|0;return(ce[ye]&1<<fe)!==0}static generateHitMap(ee){if(!ee)return!1;const te=new Texture$1(ee),se=new Sprite$1(te),ne=TextureUtils.getPixels(se),le=ee.width,ue=ee.height,ce=new Uint32Array(Math.ceil(le*ue/32)),he=AlphaTolerance.MATCH_OPAQUE_PIXELS;for(let de=0;de<le*ue;de++){const _e=de%32,fe=de/32|0;ne[de*4+3]>=he&&(ce[fe]=ce[fe]|1<<_e)}return ee.hitMap=ce,se.destroy(),te.destroy(),!0}get offsetX(){return this._offsetX}set offsetX(ee){this._offsetX=ee}get offsetY(){return this._offsetY}set offsetY(ee){this._offsetY=ee}get tag(){return this._tag}set tag(ee){this._tag=ee}get alphaTolerance(){return this._alphaTolerance}set alphaTolerance(ee){this._alphaTolerance=ee}get varyingDepth(){return this._varyingDepth}set varyingDepth(ee){this._varyingDepth=ee}get clickHandling(){return this._clickHandling}set clickHandling(ee){this._clickHandling=ee}}class ObjectMouseData{constructor(){this._objectId="",this._spriteTag=""}get objectId(){return this._objectId}set objectId(ee){this._objectId=ee}get spriteTag(){return this._spriteTag}set spriteTag(ee){this._spriteTag=ee}}const N2=class N2{constructor(){this._name="",this._sprite=null,this._x=0,this._y=0,this._z=0}dispose(){this._z=-N2.Z_INFINITY,this._sprite=null}get name(){return this._name}set name(ee){this._name=ee}get sprite(){return this._sprite}set sprite(ee){this._sprite=ee}get x(){return this._x}set x(ee){this._x=ee}get y(){return this._y}set y(ee){this._y=ee}get z(){return this._z}set z(ee){this._z=ee}};N2.Z_INFINITY=1e8;let SortableSprite=N2;class RoomSpriteCanvas{constructor(ee,te,se,ne,le){this._SafeStr_4507=!1,this._rotation=0,this._rotationOrigin=null,this._rotationRodLength=0,this._SafeStr_795=0,this._id=te,this._container=ee,this._geometry=new RoomGeometry(le,new Vector3d(-135,30,0),new Vector3d(11,11,5),new Vector3d(-135,.5,0)),this._animationFPS=Nitro.instance.getConfiguration("system.fps.animation",24),this._renderTimestamp=0,this._totalTimeRunning=0,this._lastFrame=0,this._master=null,this._display=null,this._mask=null,this._sortableSprites=[],this._spriteCount=0,this._activeSpriteCount=0,this._spritePool=[],this._skipObjectUpdate=!1,this._runningSlow=!1,this._width=0,this._height=0,this._renderedWidth=0,this._renderedHeight=0,this._screenOffsetX=0,this._screenOffsetY=0,this._mouseLocation=new Point$1,this._mouseOldX=0,this._mouseOldY=0,this._mouseCheckCount=0,this._mouseSpriteWasHit=!1,this._mouseActiveObjects=new Map,this._eventCache=new Map,this._eventId=0,this._scale=1,this._restrictsScaling=!1,this._noSpriteVisibilityChecking=!1,this._usesExclusionRectangles=!1,this._usesMask=!0,this._canvasUpdated=!1,this._objectCache=new RoomObjectCache(this._container.roomObjectVariableAccurateZ),this._mouseListener=null,this.setupCanvas(),this.initialize(se,ne)}setupCanvas(){if(this._master||(this._master=new NitroSprite,this._master.interactiveChildren=!1),!this._display){const ee=new NitroContainer;this._master.addChild(ee),this._display=ee}}dispose(){if(this.cleanSprites(0,!0),this._geometry&&(this._geometry.dispose(),this._geometry=null),this._mask&&(this._mask=null),this._objectCache&&(this._objectCache.dispose(),this._objectCache=null),this._master){for(;this._master.children.length;)this._master.removeChildAt(0).destroy();this._master.parent&&this._master.parent.removeChild(this._master),this._master.destroy(),this._master=null}if(this._display=null,this._sortableSprites=[],this._mouseActiveObjects&&(this._mouseActiveObjects.clear(),this._mouseActiveObjects=null),this._spritePool){for(const ee of this._spritePool)this.cleanSprite(ee,!0);this._spritePool=[]}this._eventCache&&(this._eventCache.clear(),this._eventCache=null),this._mouseListener=null}initialize(ee,te){if(ee=ee<1?1:ee,te=te<1?1:te,this._usesMask&&(this._mask?this._mask.clear().beginFill(16711680).drawRect(0,0,ee,te).endFill():(this._mask=new Graphics$1().beginFill(16711680).drawRect(0,0,ee,te).endFill(),this._master&&(this._master.addChild(this._mask),this._display&&(this._display.mask=this._mask)))),this._master){if(this._master.hitArea){const se=this._master.hitArea;se.width=ee,se.height=te}else this._master.hitArea=new Rectangle$1(0,0,ee,te);if(this._master.filterArea){const se=this._master.filterArea;se.width=ee,se.height=te}else this._master.filterArea=new Rectangle$1(0,0,ee,te)}this._width=ee,this._height=te}setMask(ee){ee&&!this._usesMask?(this._usesMask=!0,this._mask&&this._mask.parent!==this._master&&(this._master.addChild(this._mask),this._display.mask=this._mask)):!ee&&this._usesMask&&(this._usesMask=!1,this._mask&&this._mask.parent===this._master&&(this._master.removeChild(this._mask),this._display.mask=null))}setScale(ee,te=null,se=null,ne=!1,le=!1){!this._master||!this._display||this._restrictsScaling&&!ne||(te||(te=new Point$1(this._width/2,this._height/2)),se||(se=te),te=this._display.toLocal(te),le?this._scale*=ee:this._scale=ee,this.screenOffsetX=se.x-te.x*this._scale,this.screenOffsetY=se.y-te.y*this._scale)}render(ee,te=!1){if(this._canvasUpdated=!1,this._totalTimeRunning+=GetTicker().deltaTime,this._totalTimeRunning===this._renderTimestamp||(ee===-1&&(ee=this._renderTimestamp+1),!this._container||!this._geometry))return;(this._width!==this._renderedWidth||this._height!==this._renderedHeight)&&(te=!0),(this._display.x!==this._screenOffsetX||this._display.y!==this._screenOffsetY)&&(this._display.position.set(this._screenOffsetX,this._screenOffsetY),te=!0),this._display.scale.x!==this._scale&&(this._display.scale.set(this._scale),te=!0),this.doMagic();const se=Math.round(this._totalTimeRunning/(60/this._animationFPS));let ne=!1;se!==this._lastFrame&&(this._lastFrame=se,ne=!0);let le=0;const ue=this._container.objects;if(ue.size)for(const he of ue.values())he&&(le=le+this.renderObject(he,he.instanceId.toString(),ee,te,ne,le));this._sortableSprites.sort((he,de)=>de.z-he.z),le<this._sortableSprites.length&&this._sortableSprites.splice(le);let ce=0;for(;ce<le;){const he=this._sortableSprites[ce];he&&he.sprite&&this.renderSprite(ce,he),ce++}this.cleanSprites(le),(te||ne)&&(this._canvasUpdated=!0),this._renderTimestamp=this._totalTimeRunning,this._renderedWidth=this._width,this._renderedHeight=this._height}skipSpriteVisibilityChecking(){this._noSpriteVisibilityChecking=!0,this.render(-1,!0)}resumeSpriteVisibilityChecking(){this._noSpriteVisibilityChecking=!1}getSortableSpriteList(){return this._objectCache.getSortableSpriteList()}getPlaneSortableSprites(){return this._objectCache.getPlaneSortableSprites()}removeFromCache(ee){this._objectCache.removeObjectCache(ee)}renderObject(ee,te,se,ne,le,ue){if(!ee)return 0;const ce=ee.visualization;if(!ce)return this.removeFromCache(te),0;const he=this.getCacheItem(te);he.objectId=ee.instanceId;const de=he.location,_e=he.sprites,fe=de.updateLocation(ee,this._geometry);if(!fe)return this.removeFromCache(te),0;if(le&&ce.update(this._geometry,se,!_e.isEmpty||ne,this._skipObjectUpdate&&this._runningSlow),de.locationChanged&&(ne=!0),!_e.needsUpdate(ce.instanceId,ce.updateSpriteCounter)&&!ne)return _e.spriteCount;let ye=fe.x,be=fe.y,Pe=fe.z;ye>0?Pe=Pe+ye*12e-8:Pe=Pe+-ye*12e-8,ye=ye+Math.trunc(this._width/2),be=be+Math.trunc(this._height/2);let Ne=0;for(const we of ce.sprites.values()){if(!we||!we.visible)continue;const De=we.texture,$e=De&&De.baseTexture;if(!De||!$e)continue;const Ge=ye+we.offsetX+this._screenOffsetX,Be=be+we.offsetY+this._screenOffsetY;if(we.flipH){const $t=ye+-(De.width+-we.offsetX)+this._screenOffsetX;if(!this.isSpriteVisible($t,Be,De.width,De.height))continue}else if(we.flipV){const $t=be+-(De.height+-we.offsetY)+this._screenOffsetY;if(!this.isSpriteVisible(Ge,$t,De.width,De.height))continue}else if(!this.isSpriteVisible(Ge,Be,De.width,De.height))continue;let ze=_e.getSprite(Ne);ze||(ze=new SortableSprite,_e.addSprite(ze),this._sortableSprites.push(ze),ze.name=te),ze.sprite=we,(we.spriteType===RoomObjectSpriteType.AVATAR||we.spriteType===RoomObjectSpriteType.AVATAR_OWN)&&(ze.sprite.libraryAssetName="avatar_"+ee.id),ze.x=Ge-this._screenOffsetX,ze.y=Be-this._screenOffsetY,ze.z=Pe+we.relativeDepth+37e-12*ue,Ne++,ue++}return _e.setSpriteCount(Ne),this._canvasUpdated=!0,Ne}getExtendedSprite(ee){if(ee<0||ee>=this._spriteCount)return null;const te=this._display.getChildAt(ee);return te||null}getExtendedSpriteIdentifier(ee){return ee?ee.name:""}renderSprite(ee,te){if(ee>=this._spriteCount)return this.createAndAddSprite(te),!0;if(!te)return!1;const se=te.sprite,ne=this.getExtendedSprite(ee);if(!se||!ne)return!1;if(ne.varyingDepth!==se.varyingDepth)return ne.varyingDepth&&!se.varyingDepth?(this._display.removeChildAt(ee),this._spritePool.push(ne),this.renderSprite(ee,te)):(this.createAndAddSprite(te,ee),!0);if(ne.needsUpdate(se.id,se.updateCounter)||RoomEnterEffect.isVisualizationOn()){ne.tag=se.tag,ne.alphaTolerance=se.alphaTolerance,ne.name=te.name,ne.varyingDepth=se.varyingDepth,ne.clickHandling=se.clickHandling,ne.filters=se.filters;const le=se.alpha/255;ne.alpha!==le&&(ne.alpha=le),ne.tint!==se.color&&(ne.tint=se.color),ne.blendMode!==se.blendMode&&(ne.blendMode=se.blendMode),ne.texture!==se.texture&&ne.setTexture(se.texture),se.updateContainer&&(ne.children.length===1&&ne.removeChildAt(0),ne.addChild(se.container),se.updateContainer=!1),se.flipH?ne.scale.x!==-1&&(ne.scale.x=-1):ne.scale.x!==1&&(ne.scale.x=1),se.flipV?ne.scale.y!==-1&&(ne.scale.y=-1):ne.scale.y!==1&&(ne.scale.y=1),this.updateEnterRoomEffect(ne,se)}return ne.x!==te.x&&(ne.x=te.x),ne.y!==te.y&&(ne.y=te.y),ne.offsetX=se.offsetX,ne.offsetY=se.offsetY,!0}createAndAddSprite(ee,te=-1){const se=ee.sprite;if(!se)return;let ne=null;this._spritePool.length>0&&(ne=this._spritePool.pop()),ne||(ne=new ExtendedSprite),ne.children.length&&ne.removeChildren(),ne.tag=se.tag,ne.alphaTolerance=se.alphaTolerance,ne.alpha=se.alpha/255,ne.tint=se.color,ne.x=ee.x,ne.y=ee.y,ne.offsetX=se.offsetX,ne.offsetY=se.offsetY,ne.name=se.name,ne.varyingDepth=se.varyingDepth,ne.clickHandling=se.clickHandling,ne.blendMode=se.blendMode,ne.filters=se.filters,ne.setTexture(se.texture),se.updateContainer&&(ne.addChild(se.container),se.updateContainer=!1),se.flipH&&(ne.scale.x=-1),se.flipV&&(ne.scale.y=-1),this.updateEnterRoomEffect(ne,se),te<0||te>=this._spriteCount?(this._display.addChild(ne),this._spriteCount++):this._display.addChildAt(ne,te),this._activeSpriteCount++}cleanSprites(ee,te=!1){if(this._display){if(ee<0&&(ee=0),ee<this._activeSpriteCount||!this._activeSpriteCount){let se=this._spriteCount-1;for(;se>=ee;)this.cleanSprite(this.getExtendedSprite(se),te),se--}this._activeSpriteCount=ee}}updateEnterRoomEffect(ee,te){if(!(!RoomEnterEffect.isVisualizationOn()||!te))switch(te.spriteType){case RoomObjectSpriteType.AVATAR_OWN:return;case RoomObjectSpriteType.ROOM_PLANE:ee.alpha=RoomEnterEffect.getDelta(.9);return;case RoomObjectSpriteType.AVATAR:ee.alpha=RoomEnterEffect.getDelta(.5);return;default:ee.alpha=RoomEnterEffect.getDelta(.1)}}cleanSprite(ee,te){ee&&(te?(ee.parent&&ee.parent.removeChild(ee),ee.destroy({children:!0})):ee.setTexture(null))}update(){this._mouseCheckCount,this._mouseCheckCount=0,this._eventId++}setMouseListener(ee){this._mouseListener=ee}getCacheItem(ee){return this._objectCache.getObjectCache(ee)}isSpriteVisible(ee,te,se,ne){return!!(this._noSpriteVisibilityChecking||(ee=(ee-this._screenOffsetX)*this._scale+this._screenOffsetX,te=(te-this._screenOffsetY)*this._scale+this._screenOffsetY,se=se*this._scale,ne=ne*this._scale,ee<this._width&&ee+se>=0&&te<this._height&&te+ne>=0&&!this._usesExclusionRectangles))}handleMouseEvent(ee,te,se,ne,le,ue,ce){return ee=ee-this._screenOffsetX,te=te-this._screenOffsetY,this._mouseLocation.x=ee/this._scale,this._mouseLocation.y=te/this._scale,this._mouseCheckCount>0&&se==MouseEventType.MOUSE_MOVE?this._mouseSpriteWasHit:(this._mouseSpriteWasHit=this.checkMouseHits(Math.trunc(ee/this._scale),Math.trunc(te/this._scale),se,ne,le,ue,ce),this._mouseCheckCount++,this._mouseSpriteWasHit)}checkMouseHits(ee,te,se,ne=!1,le=!1,ue=!1,ce=!1){const he=[];let de=!1,_e=null,fe=this._activeSpriteCount-1;for(;fe>=0;){const Pe=this.getExtendedSprite(fe);if(Pe&&Pe.containsPoint(new Point$1(ee-Pe.x,te-Pe.y))&&!(Pe.clickHandling&&(se===MouseEventType.MOUSE_CLICK||se===MouseEventType.DOUBLE_CLICK))){const Ne=this.getExtendedSpriteIdentifier(Pe);if(he.indexOf(Ne)===-1){const we=Pe.tag;let De=this._mouseActiveObjects.get(Ne);De&&De.spriteTag!==we&&(_e=this.createMouseEvent(0,0,0,0,MouseEventType.ROLL_OUT,De.spriteTag,ne,le,ue,ce),this.bufferMouseEvent(_e,Ne)),se===MouseEventType.MOUSE_MOVE&&(!De||De.spriteTag!==we)?_e=this.createMouseEvent(ee,te,ee-Pe.x,te-Pe.y,MouseEventType.ROLL_OVER,we,ne,le,ue,ce):(_e=this.createMouseEvent(ee,te,ee-Pe.x,te-Pe.y,se,we,ne,le,ue,ce),_e.spriteOffsetX=Pe.offsetX,_e.spriteOffsetY=Pe.offsetY),De||(De=new ObjectMouseData,De.objectId=Ne,this._mouseActiveObjects.set(Ne,De)),De.spriteTag=we,(se!==MouseEventType.MOUSE_MOVE||ee!==this._mouseOldX||te!==this._mouseOldY)&&this.bufferMouseEvent(_e,Ne),he.push(Ne)}de=!0}fe--}const ye=[];for(const Pe of this._mouseActiveObjects.keys())Pe&&ye.push(Pe);let be=0;for(;be<ye.length;){const Pe=ye[be];he.indexOf(Pe)>=0&&(ye[be]=null),be++}for(be=0;be<ye.length;){const Pe=ye[be];if(Pe!==null){const Ne=this._mouseActiveObjects.get(Pe);Ne&&this._mouseActiveObjects.delete(Pe);const we=this.createMouseEvent(0,0,0,0,MouseEventType.ROLL_OUT,Ne.spriteTag,ne,le,ue,ce);this.bufferMouseEvent(we,Pe)}be++}return this.processMouseEvents(),this._mouseOldX=ee,this._mouseOldY=te,de}createMouseEvent(ee,te,se,ne,le,ue,ce,he,de,_e){const fe=ee-this._width/2,ye=te-this._height/2,be=`canvas_${this._id}`;return new RoomSpriteMouseEvent(le,be+"_"+this._eventId,be,ue,fe,ye,se,ne,he,ce,de,_e)}bufferMouseEvent(ee,te){!ee||!this._eventCache||(this._eventCache.delete(te),this._eventCache.set(te,ee))}processMouseEvents(){if(!(!this._container||!this._eventCache)){for(const[ee,te]of this._eventCache.entries()){if(!this._eventCache)return;if(!te)continue;const se=this._container.getRoomObject(parseInt(ee));if(se)if(this._mouseListener)this._mouseListener.processRoomCanvasMouseEvent(te,se,this._geometry);else{const ne=se.mouseHandler;ne&&ne.mouseEvent(te,this._geometry)}}this._eventCache&&this._eventCache.clear()}}getDisplayAsTexture(){this._noSpriteVisibilityChecking=!0;const ee=this._scale,te=this._screenOffsetX,se=this._screenOffsetY;this.setScale(1,null,null,!0),this._screenOffsetX=0,this._screenOffsetY=0,this.render(-1,!0),this._display.mask=null;const ne=this._display.getBounds(),le=RenderTexture$1.create({width:this._display.width,height:this._display.height});return PixiApplicationProxy.instance.renderer.render(this._display,{renderTexture:le,clear:!0,transform:new Matrix$1(1,0,0,1,-ne.x,-ne.y)}),this._display.mask=this._mask,this._noSpriteVisibilityChecking=!1,this.setScale(ee,null,null,!0),this._screenOffsetX=te,this._screenOffsetY=se,le}doMagic(){const ee=this.geometry;if(this._rotation!==0){let te=this._effectDirection;ee.direction=new Vector3d(te.x+this._rotation,te.y,te.z),te=ee.direction,ee.setDepthVector(new Vector3d(te.x,te.y,5));const se=new Vector3d;se.assign(this._rotationOrigin),se.x=se.x+this._rotationRodLength*Math.cos((te.x+180)/180*3.14159265358979)*Math.cos(te.y/180*3.14159265358979),se.y=se.y+this._rotationRodLength*Math.sin((te.x+180)/180*3.14159265358979)*Math.cos(te.y/180*3.14159265358979),se.z=se.z+this._rotationRodLength*Math.sin(te.y/180*3.14159265358979),ee.location=se,this._effectLocation=new Vector3d,this._effectLocation.assign(se),this._effectDirection=new Vector3d,this._effectDirection.assign(ee.direction)}if(RoomShakingEffect.isVisualizationOn()&&!this._SafeStr_4507?this.changeShaking():!RoomShakingEffect.isVisualizationOn()&&this._SafeStr_4507&&this.changeShaking(),RoomRotatingEffect.isVisualizationOn()&&this.changeRotation(),this._SafeStr_4507){this._SafeStr_795++;const te=this._effectDirection,se=Vector3d.sum(te,new Vector3d(Math.sin(this._SafeStr_795*5/180*3.14159265358979)*2,Math.sin(this._SafeStr_795/180*3.14159265358979)*5,Math.sin(this._SafeStr_795*10/180*3.14159265358979)*2));ee.direction=se}else this._SafeStr_795=0,ee.direction=this._effectDirection}changeShaking(){if(this._SafeStr_4507=!this._SafeStr_4507,this._SafeStr_4507){const ee=this.geometry.direction;this._effectDirection=new Vector3d(ee.x,ee.y,ee.z)}}changeRotation(){if(this._SafeStr_4507)return;const ee=this.geometry;if(ee){if(this._rotation===0){const te=ee.location,se=ee.directionAxis;this._effectLocation=new Vector3d,this._effectLocation.assign(te),this._effectDirection=new Vector3d,this._effectDirection.assign(ee.direction);const ne=RoomGeometry.getIntersectionVector(te,se,new Vector3d(0,0,0),new Vector3d(0,0,1));ne!==null&&(this._rotationOrigin=new Vector3d(ne.x,ne.y,ne.z),this._rotationRodLength=Vector3d.dif(ne,te).length,this._rotation=1);return}this._rotation=0,ee.location=this._effectLocation,ee.direction=this._effectDirection,ee.setDepthVector(new Vector3d(this._effectDirection.x,this._effectDirection.y,5))}}moveLeft(){if(this._rotation!==0){this._rotation===1?this._rotation=-1:this._rotation=this._rotation-1;return}const ee=this.geometry,te=(ee.direction.x-90)/180*3.14159265358979;ee.location=Vector3d.sum(ee.location,new Vector3d(Math.cos(te)*Math.sqrt(2),Math.sin(te)*Math.sqrt(2)))}moveRight(){if(this._rotation!==0){this._rotation===-1?this._rotation=1:this._rotation=this._rotation+1;return}const ee=this.geometry,te=(ee.direction.x+90)/180*3.14159265358979;ee.location=Vector3d.sum(ee.location,new Vector3d(Math.cos(te)*Math.sqrt(2),Math.sin(te)*Math.sqrt(2)))}moveUp(){if(this._rotation!==0)return;const ee=this.geometry,te=ee.direction.x/180*3.14159265358979;ee.location=Vector3d.sum(ee.location,new Vector3d(Math.cos(te)*Math.sqrt(2),Math.sin(te)*Math.sqrt(2)))}moveDown(){if(this._rotation!==0)return;const ee=this.geometry,te=(ee.direction.x+180)/180*3.14159265358979;ee.location=Vector3d.sum(ee.location,new Vector3d(Math.cos(te)*Math.sqrt(2),Math.sin(te)*Math.sqrt(2)))}get id(){return this._id}get geometry(){return this._geometry}get master(){return this._master}get display(){return this._display}get screenOffsetX(){return this._screenOffsetX}set screenOffsetX(ee){ee=Math.trunc(ee),this._mouseLocation.x=this._mouseLocation.x-(ee-this._screenOffsetX),this._screenOffsetX=ee}get screenOffsetY(){return this._screenOffsetY}set screenOffsetY(ee){ee=Math.trunc(ee),this._mouseLocation.y=this._mouseLocation.y-(ee-this._screenOffsetY),this._screenOffsetY=ee}get scale(){return this._scale}get width(){return this._width*this._scale}get height(){return this._height*this._scale}get restrictsScaling(){return this._restrictsScaling}set restrictsScaling(ee){this._restrictsScaling=ee}get canvasUpdated(){return this._canvasUpdated}set canvasUpdated(ee){this._canvasUpdated=ee}}class RoomRenderer{constructor(){this._objects=new Map,this._canvases=new Map,this._disposed=!1,this._roomObjectVariableAccurateZ=null}dispose(){if(!this._disposed){if(this._canvases){for(const[ee,te]of this._canvases.entries())this._canvases.delete(ee),te&&te.dispose();this._canvases=null}this._objects&&(this._objects=null),this._disposed=!0}}reset(){this._objects.clear()}getInstanceId(ee){return ee?ee.instanceId:-1}getRoomObject(ee){return this._objects.get(ee)}addObject(ee){ee&&this._objects.set(this.getInstanceId(ee),ee)}removeObject(ee){const te=this.getInstanceId(ee);this._objects.delete(te);for(const se of this._canvases.values()){if(!se)continue;se.removeFromCache(te.toString())}}render(ee,te=!1){if(!(!this._canvases||!this._canvases.size))for(const se of this._canvases.values())se&&se.render(ee,te)}update(ee,te=!1){if(!(!this._canvases||!this._canvases.size)){this.render(ee,te);for(const se of this._canvases.values())se&&se.update()}}getCanvas(ee){const te=this._canvases.get(ee);return te||null}createCanvas(ee,te,se,ne){const le=this._canvases.get(ee);if(le)return le.initialize(te,se),le.geometry&&(le.geometry.scale=ne),le;const ue=this.createSpriteCanvas(ee,te,se,ne);if(ue)return this._canvases.set(ee,ue),ue}createSpriteCanvas(ee,te,se,ne){return new RoomSpriteCanvas(this,ee,te,se,ne)}removeCanvas(ee){const te=this._canvases.get(ee);te&&(this._canvases.delete(ee),te.dispose())}get objects(){return this._objects}get disposed(){return this._disposed}get roomObjectVariableAccurateZ(){return this._roomObjectVariableAccurateZ}set roomObjectVariableAccurateZ(ee){this._roomObjectVariableAccurateZ=ee}}class RoomRendererFactory{createRenderer(){return new RoomRenderer}}class RoomInstance extends Disposable{constructor(ee,te){super(),this._id=ee,this._container=te,this._renderer=null,this._managers=new Map,this._updateCategories=[],this._model=new RoomObjectModel}onDispose(){this.removeAllManagers(),this.destroyRenderer(),this._container=null,this._model.dispose()}setRenderer(ee){if(ee!==this._renderer&&(this._renderer&&this.destroyRenderer(),this._renderer=ee,!!this._renderer&&(this._renderer.reset(),this._managers.size)))for(const te of this._managers.values()){if(!te)continue;const se=te.objects;if(se.length)for(const ne of se.getValues())ne&&this._renderer.addObject(ne)}}destroyRenderer(){this._renderer&&(this._renderer.dispose(),this._renderer=null)}getManager(ee){const te=this._managers.get(ee);return te||null}getManagerOrCreate(ee){let te=this.getManager(ee);return te||(te=this._container.createRoomObjectManager(ee),te?(this._managers.set(ee,te),te):null)}getTotalObjectsForManager(ee){const te=this.getManager(ee);return te?te.totalObjects:0}getRoomObject(ee,te){const se=this.getManager(te);if(!se)return null;const ne=se.getObject(ee);return ne||null}getRoomObjectsForCategory(ee){const te=this.getManager(ee);return te?te.objects.getValues():[]}getRoomObjectByIndex(ee,te){const se=this.getManager(te);if(!se)return null;const ne=se.getObjectByIndex(ee);return ne||null}createRoomObject(ee,te,se,ne){const le=this.getManagerOrCreate(ne);if(!le)return null;const ue=le.createObject(ee,te,se);return ue?(this._renderer&&this._renderer.addObject(ue),ue):null}createRoomObjectAndInitalize(ee,te,se){return this._container?this._container.createRoomObjectAndInitalize(this._id,ee,te,se):null}removeRoomObject(ee,te){const se=this.getManager(te);if(!se)return;const ne=se.getObject(ee);ne&&(ne.tearDown(),this._renderer&&this._renderer.removeObject(ne),se.removeObject(ee))}removeAllManagers(){for(const ee of this._managers.values())if(ee){if(this._renderer){const te=ee.objects;if(te.length)for(const se of te.getValues())se&&this._renderer.removeObject(se)}ee.dispose()}this._managers.clear()}addUpdateCategory(ee){this._updateCategories.indexOf(ee)>=0||this._updateCategories.push(ee)}removeUpdateCategory(ee){const te=this._updateCategories.indexOf(ee);te!==-1&&this._updateCategories.splice(te,1)}update(ee,te=!1){for(const se of this._updateCategories){const ne=this.getManager(se);if(!ne)continue;const le=ne.objects;if(le.length)for(const ue of le.getValues()){if(!ue)continue;const ce=ue.logic;ce&&ce.update(ee)}}this._renderer&&this._renderer.update(ee,te)}hasUninitializedObjects(){for(const ee of this._managers.values())if(ee){for(const te of ee.objects.getValues())if(te&&!te.isReady)return!0}return!1}get id(){return this._id}get container(){return this._container}get renderer(){return this._renderer}get managers(){return this._managers}get model(){return this._model}}const CD=class CD{constructor(ee,te,se,ne,le,ue,ce){this._layerTags=[],this._primaryColor=ee&16777215,this._secondaryColor=te&16777215,this._breed=se,this._tag=ne>-1&&ne<CD.COLOR_TAGS.length?CD.COLOR_TAGS[ne]:"",this._id=le,this._isMaster=ue,this._layerTags=ce}get primaryColor(){return this._primaryColor}get secondaryColor(){return this._secondaryColor}get breed(){return this._breed}get tag(){return this._tag}get id(){return this._id}get isMaster(){return this._isMaster}get layerTags(){return this._layerTags}};CD.COLOR_TAGS=["Null","Black","White","Grey","Red","Orange","Pink","Green","Lime","Blue","Light-Blue","Dark-Blue","Yellow","Brown","Dark-Brown","Beige","Cyan","Purple","Gold"];let PetColorResult=CD;const HR=class HR{constructor(){this._stateEvents=null,this._sessionDataManager=null,this._waitingForSessionDataManager=!1,this._iconListener=null,this._collections=new Map,this._gifCollections=new Map,this._images=new Map,this._events=new Map,this._activeObjects={},this._activeObjectTypes=new Map,this._activeObjectTypeIds=new Map,this._objectTypeAdUrls=new Map,this._wallItems={},this._wallItemTypes=new Map,this._wallItemTypeIds=new Map,this._furniRevisions=new Map,this._pets={},this._petColors=new Map,this._objectAliases=new Map,this._objectOriginalNames=new Map,this._pendingContentTypes=[],this._dataInitialized=!1}initialize(ee){this._stateEvents=ee,this.setFurnitureData();for(const[te,se]of NitroConfiguration.getValue("pet.types").entries())this._pets[se]=te}dispose(){}setSessionDataManager(ee){this._sessionDataManager=ee,this._waitingForSessionDataManager&&(this._waitingForSessionDataManager=!1,this.setFurnitureData())}loadFurnitureData(){this.setFurnitureData()}setFurnitureData(){if(!this._sessionDataManager){this._waitingForSessionDataManager=!0;return}const ee=this._sessionDataManager.getAllFurnitureData(this);ee&&(this._sessionDataManager.removePendingFurniDataListener(this),this.processFurnitureData(ee),this._stateEvents.dispatchEvent(new NitroEvent(HR.LOADER_READY)))}processFurnitureData(ee){if(ee)for(const te of ee){if(!te)continue;const se=te.id;let ne=te.className;te.hasIndexedColor&&(ne=ne+"*"+te.colorIndex);const le=te.revision,ue=te.adUrl;ue&&ue.length>0&&this._objectTypeAdUrls.set(ne,ue);let ce=te.className;te.type===FurnitureType.FLOOR?(this._activeObjectTypes.set(se,ne),this._activeObjectTypeIds.set(ne,se),this._activeObjects[ce]||(this._activeObjects[ce]=1)):te.type===FurnitureType.WALL&&(ce==="post.it"&&(ne="post_it",ce="post_it"),ce==="post.it.vd"&&(ne="post_it_vd",ce="post_id_vd"),this._wallItemTypes.set(se,ne),this._wallItemTypeIds.set(ne,se),this._wallItems[ce]||(this._wallItems[ce]=1));const he=this._furniRevisions.get(ce);le>he&&(this._furniRevisions.delete(ce),this._furniRevisions.set(ce,le))}}getFurnitureFloorNameForTypeId(ee){const te=this._activeObjectTypes.get(ee);return this.removeColorIndex(te)}getFurnitureWallNameForTypeId(ee,te=null){let se=this._wallItemTypes.get(ee);return se==="poster"&&te!==null&&(se=se+te),this.removeColorIndex(se)}getFurnitureFloorColorIndex(ee){const te=this._activeObjectTypes.get(ee);return te?this.getColorIndexFromName(te):-1}getFurnitureWallColorIndex(ee){const te=this._wallItemTypes.get(ee);return te?this.getColorIndexFromName(te):-1}getColorIndexFromName(ee){if(!ee)return-1;const te=ee.indexOf("*");return te===-1?0:parseInt(ee.substr(te+1))}removeColorIndex(ee){if(!ee)return null;const te=ee.indexOf("*");return te===-1?ee:ee.substr(0,te)}getRoomObjectAdUrl(ee){const te=this._objectTypeAdUrls.get(ee);return te||""}getPetColorResult(ee,te){const se=this._petColors.get(ee);return se?se.get(te):null}getPetColorResultsForTag(ee,te){const se=this._petColors.get(ee),ne=[];if(se)for(const le of se.values())le.tag===te&&ne.push(le);return ne}getCollection(ee){if(!ee)return null;const te=this._collections.get(ee);if(!te){const se=GetAssetManager().getCollection(ee);return se?(this._collections.set(ee,se),se):null}return te}getGifCollection(ee){return ee&&this._gifCollections.get(ee)||null}getImage(ee){if(!ee)return null;const te=this._images.get(ee);if(!te)return null;const se=new Image;return se.src=te.src,se}addAssetToCollection(ee,te,se,ne=!0){const le=this.getCollection(ee);return le?le.addAsset(te,se,ne,0,0,!1,!1):!1}createGifCollection(ee,te,se){if(!ee||!te||!se)return null;const ne=new GraphicAssetGifCollection(ee,te,se);return this._gifCollections.set(ee,ne),ne}createCollection(ee,te){if(!ee||!te)return null;const se=new GraphicAssetCollection(ee,te);this._collections.set(se.name,se);const ne=this._pets[se.name];if(ne!==void 0){const le=se.getPaletteNames(),ue=new Map;for(const ce of le){const he=se.getPalette(ce),de=ee.palettes[ce],_e=he.primaryColor,fe=he.secondaryColor,ye=de.breed!==void 0?de.breed:0,be=de.colorTag!==void 0?de.colorTag:-1,Pe=de.master!==void 0?de.master:!1,Ne=de.tags!==void 0?de.tags:[];ue.set(parseInt(ce),new PetColorResult(_e,fe,ye,be,ce,Pe,Ne))}this._petColors.set(ne,ue)}}getPlaceholderName(ee){switch(this.getCategoryForType(ee)){case RoomObjectCategory.FLOOR:return HR.PLACE_HOLDER;case RoomObjectCategory.WALL:return HR.PLACE_HOLDER_WALL;default:return this._pets[ee]!==void 0?HR.PLACE_HOLDER_PET:HR.PLACE_HOLDER_DEFAULT}}getCategoryForType(ee){return ee?this._activeObjects[ee]!==void 0?RoomObjectCategory.FLOOR:this._wallItems[ee]!==void 0?RoomObjectCategory.WALL:this._pets[ee]!==void 0?RoomObjectCategory.UNIT:ee.indexOf("poster")===0?RoomObjectCategory.WALL:ee==="room"?RoomObjectCategory.ROOM:ee===RoomObjectUserType.USER||ee===RoomObjectUserType.PET||ee===RoomObjectUserType.BOT||ee===RoomObjectUserType.RENTABLE_BOT?RoomObjectCategory.UNIT:ee===HR.TILE_CURSOR||ee===HR.SELECTION_ARROW?RoomObjectCategory.CURSOR:RoomObjectCategory.MINIMUM:RoomObjectCategory.MINIMUM}getPetNameForType(ee){return NitroConfiguration.getValue("pet.types")[ee]||null}isLoaderType(ee){return ee=RoomObjectUserType.getRealType(ee),ee!==RoomObjectVisualizationType.USER}downloadImage(ee,te,se,ne=null){let le=null,ue=[];if(te&&te.indexOf(",")>=0&&(le=te,te=le.split(",")[0]),le?ue=this.getAssetUrls(le,se,!0):ue=this.getAssetUrls(te,se,!0),ue&&ue.length){const ce=ue[0],he=new Image;return he.src=ce,he.onload=()=>{he.onerror=null,this._images.set([te,se].join("_"),he),this._iconListener.onRoomContentLoaded(ee,[te,se].join("_"),!0)},he.onerror=()=>{he.onload=null,NitroLogger.error("Failed to download asset",ce),this._iconListener.onRoomContentLoaded(ee,[te,se].join("_"),!1)},!0}return!1}async downloadAsset(ee,te){var ne;const se=(ne=this.getAssetUrls(ee))==null?void 0:ne[0];if(!(!se||!se.length)&&!(this._pendingContentTypes.indexOf(ee)>=0||this.getOrRemoveEventDispatcher(ee))){this._pendingContentTypes.push(ee),this._events.set(ee,te);try{const le=await fetch(se);let ue="application/octet-stream";switch(le.headers.has("Content-Type")&&(ue=le.headers.get("Content-Type")),ue){case"application/octet-stream":{const ce=new NitroBundle(await le.arrayBuffer());await this.processAsset(ce.baseTexture,ce.jsonFile);const he=this._events.get(ee);if(!he)return;he.dispatchEvent(new RoomContentLoadedEvent(RoomContentLoadedEvent.RCLE_SUCCESS,ee));break}default:throw new Error}}catch{te.dispatchEvent(new RoomContentLoadedEvent(RoomContentLoadedEvent.RCLE_FAILURE,ee))}}}async processAsset(ee,te){const se=te.spritesheet;if(!ee||!se||!Object.keys(se).length){this.createCollection(te,null);return}const ne=async()=>{const le=new Spritesheet$1(ee,se);await le.parse(),this.createCollection(te,le)};ee.valid?await ne():await new Promise((le,ue)=>{ee.once("update",async()=>(await ne(),le()))})}setAssetAliasName(ee,te){this._objectAliases.set(ee,te),this._objectOriginalNames.set(te,ee)}getAssetAliasName(ee){const te=this._objectAliases.get(ee);return te||ee}getAssetOriginalName(ee){const te=this._objectOriginalNames.get(ee);return te||ee}getAssetUrls(ee,te=null,se=!1){switch(ee){case HR.PLACE_HOLDER:return[this.getAssetUrlWithGenericBase(HR.PLACE_HOLDER)];case HR.PLACE_HOLDER_WALL:return[this.getAssetUrlWithGenericBase(HR.PLACE_HOLDER_WALL)];case HR.PLACE_HOLDER_PET:return[this.getAssetUrlWithGenericBase(HR.PLACE_HOLDER_PET)];case HR.ROOM:return[this.getAssetUrlWithGenericBase("room")];case HR.TILE_CURSOR:return[this.getAssetUrlWithGenericBase(HR.TILE_CURSOR)];case HR.SELECTION_ARROW:return[this.getAssetUrlWithGenericBase(HR.SELECTION_ARROW)];default:{const ne=this.getCategoryForType(ee);if(ne===RoomObjectCategory.FLOOR||ne===RoomObjectCategory.WALL){const le=this.getAssetAliasName(ee);let ue=se?this.getAssetUrlWithFurniIconBase(le):this.getAssetUrlWithFurniBase(ee);if(se){const ce=te&&te!==""&&this._activeObjectTypeIds.has(le+"*"+te);ue=ue.replace(/%param%/gi,ce?"_"+te:"")}return[ue]}return ne===RoomObjectCategory.UNIT?[this.getAssetUrlWithPetBase(ee)]:null}}}getAssetIconUrl(ee,te){let se=null,ne=[];return ee&&ee.indexOf(",")>=0&&(se=ee,ee=se.split(",")[0]),se?ne=this.getAssetUrls(se,te,!0):ne=this.getAssetUrls(ee,te,!0),ne&&ne.length?ne[0]:null}getAssetUrlWithGenericBase(ee){return NitroConfiguration.getValue("generic.asset.url").replace(/%libname%/gi,ee)}getAssetUrlWithFurniBase(ee){return NitroConfiguration.getValue("furni.asset.url").replace(/%libname%/gi,ee)}getAssetUrlWithFurniIconBase(ee){return NitroConfiguration.getValue("furni.asset.icon.url").replace(/%libname%/gi,ee)}getAssetUrlWithPetBase(ee){return NitroConfiguration.getValue("pet.asset.url").replace(/%libname%/gi,ee)}setRoomObjectRoomId(ee,te){const se=ee&&ee.model;se&&se.setValue(RoomObjectVariable.OBJECT_ROOM_ID,te)}getOrRemoveEventDispatcher(ee,te=!1){const se=this._events.get(ee);return te&&this._events.delete(ee),se}setIconListener(ee){this._iconListener=ee}};HR.PLACE_HOLDER="place_holder",HR.PLACE_HOLDER_WALL="place_holder_wall",HR.PLACE_HOLDER_PET="place_holder_pet",HR.PLACE_HOLDER_DEFAULT=HR.PLACE_HOLDER,HR.ROOM="room",HR.TILE_CURSOR="tile_cursor",HR.SELECTION_ARROW="selection_arrow",HR.LOADER_READY="RCL_LOADER_READY",HR.MANDATORY_LIBRARIES=[HR.PLACE_HOLDER,HR.PLACE_HOLDER_WALL,HR.PLACE_HOLDER_PET,HR.ROOM,HR.TILE_CURSOR,HR.SELECTION_ARROW];let RoomContentLoader=HR;class RoomObjectManager{constructor(){this._objects=new AdvancedMap,this._objectsPerType=new AdvancedMap}dispose(){this.removeAllObjects()}getObject(ee){const te=this._objects.getValue(ee);return te||null}getObjectByIndex(ee){const te=this._objects.getWithIndex(ee);return te||null}createObject(ee,te,se){const ne=new RoomObject(ee,te,se);return this.addObject(ee,se,ne)}addObject(ee,te,se){if(this._objects.getValue(ee))return se.dispose(),null;this._objects.add(ee,se);const ne=this.getTypeMap(te);return ne&&ne.add(ee,se),se}removeObject(ee){const te=this._objects.remove(ee);if(te){const se=this.getTypeMap(te.type);se&&se.remove(te.id),te.dispose()}}removeAllObjects(){let ee=0;for(;ee<this._objects.length;){const te=this._objects.getWithIndex(ee);te&&te.dispose(),ee++}for(this._objects.reset(),ee=0;ee<this._objectsPerType.length;){const te=this._objectsPerType.getWithIndex(ee);te&&te.dispose(),ee++}this._objectsPerType.reset()}getTypeMap(ee,te=!0){let se=this._objectsPerType.getValue(ee);return!se&&te&&(se=new AdvancedMap,this._objectsPerType.add(ee,se)),se}get objects(){return this._objects}get totalObjects(){return this._objects.length}}const YT=class YT extends NitroManager{constructor(ee,te,se){super(),this._state=YT.ROOM_MANAGER_LOADED,this._rooms=new Map,this._contentLoader=null,this._updateCategories=[],this._listener=ee,this._visualizationFactory=te,this._logicFactory=se,this._initialLoadList=[],this._pendingContentTypes=[],this._skipContentProcessing=!1,this._disposed=!1,this.onRoomContentLoadedEvent=this.onRoomContentLoadedEvent.bind(this),this.events.addEventListener(RoomContentLoadedEvent.RCLE_SUCCESS,this.onRoomContentLoadedEvent),this.events.addEventListener(RoomContentLoadedEvent.RCLE_FAILURE,this.onRoomContentLoadedEvent),this.events.addEventListener(RoomContentLoadedEvent.RCLE_CANCEL,this.onRoomContentLoadedEvent)}onInit(){if(this._state>=YT.ROOM_MANAGER_INITIALIZING||!this._contentLoader)return;const ee=RoomContentLoader.MANDATORY_LIBRARIES;for(const te of ee)te&&this._initialLoadList.indexOf(te)===-1&&(this._contentLoader.downloadAsset(te,this.events),this._initialLoadList.push(te));this._state=YT.ROOM_MANAGER_INITIALIZING}getRoomInstance(ee){const te=this._rooms.get(ee);return te||null}createRoomInstance(ee){if(this._rooms.get(ee))return null;const te=new RoomInstance(ee,this);if(this._rooms.set(te.id,te),this._updateCategories.length)for(const se of this._updateCategories)te.addUpdateCategory(se);return te}removeRoomInstance(ee){const te=this._rooms.get(ee);return te?(this._rooms.delete(ee),te.dispose(),!0):!1}createRoomObjectAndInitalize(ee,te,se,ne){const le=this.getRoomInstance(ee);if(!le)return null;let ue=se,ce=se,he=se,de=null,_e=!1;if(this._contentLoader.isLoaderType(se)){if(de=this._contentLoader.getCollection(se),!de&&(_e=!0,this._contentLoader.downloadAsset(se,this.events),he=this._contentLoader.getPlaceholderName(se),de=this._contentLoader.getCollection(he),!de))return null;ue=de.data.visualizationType,ce=de.data.logicType}const fe=le.createRoomObject(te,1,se,ne);if(!fe)return null;if(this._visualizationFactory){const ye=this._visualizationFactory.getVisualization(ue);if(!ye)return le.removeRoomObject(te,ne),null;ye.asset=de;const be=this._visualizationFactory.getVisualizationData(he,ue,de&&de.data||null);if(!be||!ye.initialize(be))return le.removeRoomObject(te,ne),null;fe.setVisualization(ye)}if(this._logicFactory){const ye=this._logicFactory.getLogic(ce);fe.setLogic(ye),ye&&ye.initialize(de&&de.data||null)}return _e||(fe.isReady=!0),this._contentLoader.setRoomObjectRoomId(fe,ee),fe}reinitializeRoomObjectsByType(ee){if(!ee||!this._contentLoader||!this._visualizationFactory||!this._logicFactory)return;const te=this._contentLoader.getCollection(ee);if(!te)return;const se=te.data.visualizationType,ne=te.data.logicType,le=this._visualizationFactory.getVisualizationData(ee,se,te.data);for(const ue of this._rooms.values())if(ue){for(const[ce,he]of ue.managers.entries())if(he)for(const de of he.objects.getValues()){if(!de||de.type!==ee)continue;const _e=this._visualizationFactory.getVisualization(se);if(_e)if(_e.asset=te,!le||!_e.initialize(le))he.removeObject(de.id);else{de.setVisualization(_e);const fe=this._logicFactory.getLogic(ne);de.setLogic(fe),fe&&fe.initialize(te.data),de.isReady=!0,this._listener&&this._listener.objectInitialized(ue.id,de.id,ce)}else he.removeObject(de.id)}}}addUpdateCategory(ee){if(!(this._updateCategories.indexOf(ee)>=0)&&(this._updateCategories.push(ee),!!this._rooms.size))for(const se of this._rooms.values())se&&se.addUpdateCategory(ee)}removeUpdateCategory(ee){const te=this._updateCategories.indexOf(ee);if(te!==-1&&(this._updateCategories.splice(te,1),!!this._rooms.size))for(const se of this._rooms.values())se&&se.removeUpdateCategory(ee)}setContentLoader(ee){this._contentLoader&&this._contentLoader.dispose(),this._contentLoader=ee}processPendingContentTypes(ee){if(this._skipContentProcessing){this._skipContentProcessing=!1;return}for(;this._pendingContentTypes.length;){const te=this._pendingContentTypes.shift();if(!this._contentLoader.getCollection(te)){this._listener&&this._listener.initalizeTemporaryObjectsByType(te,!1),NitroLogger.log("Invalid Collection",te);continue}this.reinitializeRoomObjectsByType(te),this._listener&&this._listener.initalizeTemporaryObjectsByType(te,!0),this._initialLoadList.length>0&&this.removeFromInitialLoad(te)}}removeFromInitialLoad(ee){if(!(!ee||this._state===YT.ROOM_MANAGER_ERROR))if(this._contentLoader||(this._state=YT.ROOM_MANAGER_ERROR),this._contentLoader.getCollection(ee)){const te=this._initialLoadList.indexOf(ee);te>=0&&this._initialLoadList.splice(te,1),this._initialLoadList.length||(this._state=YT.ROOM_MANAGER_INITIALIZED,this._listener&&this._listener.onRoomEngineInitalized(!0))}else this._state=YT.ROOM_MANAGER_ERROR,this._listener&&this._listener.onRoomEngineInitalized(!1)}onRoomContentLoadedEvent(ee){if(!this._contentLoader)return;const te=ee.contentType;this._pendingContentTypes.indexOf(te)>=0||this._pendingContentTypes.push(te)}update(ee,te=!1){if(this.processPendingContentTypes(ee),!!this._rooms.size)for(const se of this._rooms.values())se&&se.update(ee,te)}createRoomObjectManager(ee){return new RoomObjectManager}get rooms(){return this._rooms}get disposed(){return this._disposed}};YT.ROOM_MANAGER_ERROR=-1,YT.ROOM_MANAGER_LOADING=0,YT.ROOM_MANAGER_LOADED=1,YT.ROOM_MANAGER_INITIALIZING=2,YT.ROOM_MANAGER_INITIALIZED=3,YT.CONTENT_PROCESSING_TIME_LIMIT_MILLISECONDS=40;let RoomManager=YT;class RoomCameraWidgetEffect{constructor(ee,te=-1,se=null,ne=null,le=null){this._minLevel=-1,this._texture=null,this._colorMatrix=null,this._blendMode=null,this._name=ee,this._minLevel=te,this._texture=se,this._colorMatrix=ne,this._blendMode=le}get name(){return this._name}get texture(){return this._texture}set texture(ee){this._texture=ee}get colorMatrix(){return this._colorMatrix}set colorMatrix(ee){this._colorMatrix=ee}get blendMode(){return this._blendMode}set blendMode(ee){this._blendMode=ee}get minLevel(){return this._minLevel}}class RoomCameraWidgetManager{constructor(){this._effects=new Map,this._events=new EventDispatcher,this._isLoaded=!1}init(){if(this._isLoaded)return;this._isLoaded=!0;const ee=NitroConfiguration.getValue("image.library.url")+"Habbo-Stories/",te=NitroConfiguration.getValue("camera.available.effects");for(const se of te){if(!se.enabled)continue;const ne=new RoomCameraWidgetEffect(se.name,se.minLevel);se.colorMatrix.length?ne.colorMatrix=se.colorMatrix:(ne.texture=Texture$1.from(ee+se.name+".png"),ne.blendMode=se.blendMode),this._effects.set(ne.name,ne)}this.events.dispatchEvent(new RoomCameraWidgetManagerEvent(RoomCameraWidgetManagerEvent.INITIALIZED))}applyEffects(ee,te,se){const ne=new NitroContainer,le=new NitroSprite(ee);ne.addChild(le),se&&le.scale.set(2);for(const ue of te){const ce=ue.effect;if(ce)if(ce.colorMatrix){const he=new ColorMatrixFilter;he.matrix=ce.colorMatrix,he.alpha=ue.alpha,le.filters||(le.filters=[]),le.filters.push(he)}else{const he=new NitroSprite(ce.texture);he.alpha=ue.alpha,he.blendMode=ce.blendMode,ne.addChild(he)}}return TextureUtils.generateImage(ne)}get effects(){return this._effects}get events(){return this._events}get isLoaded(){return this._isLoaded}}class InterstitialMessageParser{flush(){return this._canShowInterstitial=!1,!0}parse(ee){return ee?(this._canShowInterstitial=ee.readBoolean(),!0):!1}get canShowInterstitial(){return this._canShowInterstitial}}class RoomAdErrorMessageParser{flush(){return this._errorCode=0,this._filteredText=null,!0}parse(ee){return ee?(this._errorCode=ee.readInt(),this._filteredText=ee.readString(),!0):!1}get errorCode(){return this._errorCode}get filteredText(){return this._filteredText}}class AvailabilityStatusMessageParser{flush(){return this._isOpen=!1,this._onShutdown=!1,this._isAuthenticUser=!1,!0}parse(ee){return ee?(this._isOpen=ee.readBoolean(),this._onShutdown=ee.readBoolean(),ee.bytesAvailable&&(this._isAuthenticUser=ee.readBoolean()),!0):!1}get isOpen(){return this._isOpen}get onShutdown(){return this._onShutdown}get isAuthenticUser(){return this._isAuthenticUser}}class AvailabilityTimeMessageParser{flush(){return this._isOpen=!1,this._minutesUntilChange=0,!0}parse(ee){return ee?(this._isOpen=ee.readInt()>0,this._minutesUntilChange=ee.readInt(),!0):!1}get isOpen(){return this._isOpen}get minutesUntilChange(){return this._minutesUntilChange}}class HotelClosedAndOpensMessageParser{flush(){return this._openHour=0,this._openMinute=0,!0}parse(ee){return ee?(this._openHour=ee.readInt(),this._openMinute=ee.readInt(),!0):!1}get openHour(){return this._openHour}get openMinute(){return this._openMinute}}class HotelClosesAndWillOpenAtMessageParser{flush(){return this._openHour=0,this._openMinute=0,this._userThrownOutAtClose=!1,!0}parse(ee){return ee?(this._openHour=ee.readInt(),this._openMinute=ee.readInt(),this._userThrownOutAtClose=ee.readBoolean(),!0):!1}get openHour(){return this._openHour}get openMinute(){return this._openMinute}get userThrowOutAtClose(){return this._userThrownOutAtClose}}class HotelWillCloseInMinutesMessageParser{flush(){return this._minutes=0,!0}parse(ee){return ee?(this._minutes=ee.readInt(),!0):!1}get openMinute(){return this._minutes}}class MaintenanceStatusMessageParser{flush(){return this._isInMaintenance=!1,this._minutesUntilMaintenance=0,this._duration=15,!0}parse(ee){return ee?(this._isInMaintenance=ee.readBoolean(),this._minutesUntilMaintenance=ee.readInt(),ee.bytesAvailable&&(this._duration=ee.readInt()),!0):!1}get isInMaintenance(){return this._isInMaintenance}get minutesUntilMaintenance(){return this._minutesUntilMaintenance}get duration(){return this._duration}}class ChangeUserNameResultMessageParser{flush(){return this._resultCode=-1,this._name="",this._nameSuggestions=[],!0}parse(ee){if(!ee)return!1;this._resultCode=ee.readInt(),this._name=ee.readString();let te=ee.readInt();for(;te>0;)this._nameSuggestions.push(ee.readString()),te--;return!0}get resultCode(){return this._resultCode}get name(){return this._name}get nameSuggestions(){return this._nameSuggestions}}class CheckUserNameResultMessageParser{flush(){return this._resultCode=-1,this._name="",this._nameSuggestions=[],!0}parse(ee){if(!ee)return!1;this._resultCode=ee.readInt(),this._name=ee.readString();let te=ee.readInt();for(;te>0;)this._nameSuggestions.push(ee.readString()),te--;return!0}get resultCode(){return this._resultCode}get name(){return this._name}get nameSuggestions(){return this._nameSuggestions}}class FigureUpdateParser{flush(){return this._figure="",this._gender="",!0}parse(ee){return ee?(this._figure=ee.readString(),this._gender=ee.readString(),this._gender&&(this._gender=this._gender.toUpperCase()),!0):!1}get figure(){return this._figure}get gender(){return this._gender}}class OutfitData{constructor(ee){this._slotId=ee.readInt(),this._figureString=ee.readString(),this._gender=ee.readString()}get slotId(){return this._slotId}get figureString(){return this._figureString}get gender(){return this._gender}}class WardrobeMessageParser{flush(){return this._state=0,this._outfits=[],!0}parse(ee){if(!ee)return!1;this._state=ee.readInt();let te=ee.readInt();for(;te>0;)this._outfits.push(new OutfitData(ee)),te--;return!0}get state(){return this._state}get outfits(){return this._outfits}}class BotData{constructor(ee){if(!ee)throw new Error("invalid_parser");this._id=ee.readInt(),this._name=ee.readString(),this._motto=ee.readString(),this._gender=ee.readString(),this._figure=ee.readString()}get id(){return this._id}get name(){return this._name}get motto(){return this._motto}get figure(){return this._figure}get gender(){return this._gender}}class BotAddedToInventoryParser{flush(){return this._item=null,this._openInventory=!1,!0}parse(ee){return ee?(this._item=new BotData(ee),this._openInventory=ee.readBoolean(),!0):!1}get item(){return this._item}openInventory(){return this._openInventory}}class BotInventoryMessageParser{flush(){return this._items=null,!0}parse(ee){this._items=new Map;let te=ee.readInt();for(;te>0;){const se=new BotData(ee);this._items.set(se.id,se),te--}return!0}get items(){return this._items}}class BotReceivedMessageParser{flush(){return this._boughtAsGift=!1,this._item=null,!0}parse(ee){return ee?(this._boughtAsGift=ee.readBoolean(),this._item=new BotData(ee),!0):!1}get boughtAsGift(){return this._boughtAsGift}get item(){return this._item}}class BotRemovedFromInventoryParser{flush(){return this._itemId=0,!0}parse(ee){return ee?(this._itemId=ee.readInt(),!0):!1}get itemId(){return this._itemId}}class CallForHelpTopicData{constructor(ee){this._name=ee.readString(),this._id=ee.readInt(),this._consequence=ee.readString()}get name(){return this._name}get id(){return this._id}get consequence(){return this._consequence}}class CallForHelpCategoryData{constructor(ee){this._topics=[],this._name=ee.readString();let te=ee.readInt();for(;te>0;)this._topics.push(new CallForHelpTopicData(ee)),te--}dispose(){this._disposed||(this._disposed=!0,this._topics=null)}get disposed(){return this._disposed}get name(){return this._name}get topics(){return this._topics}}class CfhSanctionTypeData{constructor(ee){this._tradeLockInfo="",this._machineBanInfo="",this._name=ee.readString(),this._sanctionLengthInHours=ee.readInt(),this._probationDays=ee.readInt(),this._avatarOnly=ee.readBoolean(),ee.bytesAvailable&&(this._tradeLockInfo=ee.readString()),ee.bytesAvailable&&(this._machineBanInfo=ee.readString())}get name(){return this._name}get sanctionLengthInHours(){return this._sanctionLengthInHours}get avatarOnly(){return this._avatarOnly}get tradeLockInfo(){return this._tradeLockInfo}get machineBanInfo(){return this._machineBanInfo}}class CfhSanctionMessageParser{flush(){return this._issueId=-1,this._accountId=1,this._sanctionType=null,!0}parse(ee){return ee?(this._issueId=ee.readInt(),this._accountId=ee.readInt(),this._sanctionType=new CfhSanctionTypeData(ee),!0):!1}get issueId(){return this._issueId}get accountId(){return this._accountId}get sanctionType(){return this._sanctionType}}class CfhTopicsInitMessageParser{flush(){return this._callForHelpCategories=null,!0}parse(ee){if(!ee)return!1;this._callForHelpCategories=[];let te=ee.readInt();for(;te>0;)this._callForHelpCategories.push(new CallForHelpCategoryData(ee)),te--;return!0}get callForHelpCategories(){return this._callForHelpCategories}}class SanctionStatusMessageParser{flush(){return this._isSanctionNew=!1,this._isSanctionActive=!1,this._sanctionName=null,this._sanctionLengthHours=0,this._sanctionReason=null,this._sanctionCreationTime=null,this._probationHoursLeft=0,this._nextSanctionName=null,this._nextSanctionLengthHours=0,this._hasCustomMute=!1,this._tradeLockExpiryTime=null,!0}parse(ee){return ee?(this._isSanctionNew=ee.readBoolean(),this._isSanctionActive=ee.readBoolean(),this._sanctionName=ee.readString(),this._sanctionLengthHours=ee.readInt(),ee.readInt(),this._sanctionReason=ee.readString(),this._sanctionCreationTime=ee.readString(),this._probationHoursLeft=ee.readInt(),this._nextSanctionName=ee.readString(),this._nextSanctionLengthHours=ee.readInt(),ee.readInt(),this._hasCustomMute=ee.readBoolean(),ee.bytesAvailable&&(this._tradeLockExpiryTime=ee.readString()),!0):!1}get isSanctionNew(){return this._isSanctionNew}get isSanctionActive(){return this._isSanctionActive}get sanctionName(){return this._sanctionName}get sanctionLengthHours(){return this._sanctionLengthHours}get sanctionReason(){return this._sanctionReason}get sanctionCreationTime(){return this._sanctionCreationTime}get probationHoursLeft(){return this._probationHoursLeft}get nextSanctionName(){return this._nextSanctionName}get nextSanctionLengthHours(){return this._nextSanctionLengthHours}get hasCustomMute(){return this._hasCustomMute}get tradeLockExpiryTime(){return this._tradeLockExpiryTime}}class CameraPublishStatusMessageParser{constructor(){this._ok=!1,this._secondsToWait=0}flush(){return this._ok=!1,this._secondsToWait=0,this._extraDataId=null,!0}parse(ee){return ee?(this._ok=ee.readBoolean(),this._secondsToWait=ee.readInt(),this._ok&&ee.bytesAvailable&&(this._extraDataId=ee.readString()),!0):!1}get ok(){return this._ok}get secondsToWait(){return this._secondsToWait}get extraDataId(){return this._extraDataId}}class CameraPurchaseOKMessageParser{flush(){return!0}parse(ee){return!!ee}}class CameraStorageUrlMessageParser{flush(){return this._url="",!0}parse(ee){return ee?(this._url=ee.readString(),!0):!1}get url(){return this._url}}class CompetitionStatusMessageParser{constructor(){this._ok=!1,this._errorReason=null}flush(){return this._ok=!1,this._errorReason=null,!0}parse(ee){return ee?(this._ok=ee.readBoolean(),this._errorReason=ee.readString(),!0):!1}get ok(){return this._ok}get errorReason(){return this._errorReason}}class InitCameraMessageParser{constructor(){this._creditPrice=0,this._ducketPrice=0,this._publishDucketPrice=0}flush(){return this._creditPrice=0,this._ducketPrice=0,this._publishDucketPrice=0,!0}parse(ee){return ee?(this._creditPrice=ee.readInt(),this._ducketPrice=ee.readInt(),ee.bytesAvailable&&(this._publishDucketPrice=ee.readInt()),!0):!1}get creditPrice(){return this._creditPrice}get ducketPrice(){return this._ducketPrice}get publishDucketPrice(){return this._publishDucketPrice}}class ThumbnailStatusMessageParser{constructor(){this._ok=!0,this._renderLimitHit=!1}flush(){return this._ok=!0,this._renderLimitHit=!1,!0}parse(ee){return ee?(ee.bytesAvailable&&(this._ok=ee.readBoolean(),this._renderLimitHit=ee.readBoolean()),!0):!1}get ok(){return this._ok}get isRenderLimitHit(){return this._renderLimitHit}}class CampaignCalendarData{parse(ee){if(!ee)return!1;this._campaignName=ee.readString(),this._campaignImage=ee.readString(),this._currentDay=ee.readInt(),this._campaignDays=ee.readInt(),this._openedDays=[];let te=ee.readInt();for(let se=0;se<te;se++)this._openedDays.push(ee.readInt());this._missedDays=[],te=ee.readInt();for(let se=0;se<te;se++)this._missedDays.push(ee.readInt());return!0}clone(){const ee=new CampaignCalendarData;return ee.campaignDays=this._campaignDays,ee.campaignImage=this._campaignImage,ee.campaignName=this._campaignName,ee.currentDay=this._currentDay,ee.missedDays=this._missedDays,ee.openedDays=this._openedDays,ee}get campaignName(){return this._campaignName}set campaignName(ee){this._campaignName=ee}get campaignImage(){return this._campaignImage}set campaignImage(ee){this._campaignImage=ee}get currentDay(){return this._currentDay}set currentDay(ee){this._currentDay=ee}get campaignDays(){return this._campaignDays}set campaignDays(ee){this._campaignDays=ee}get openedDays(){return this._openedDays}set openedDays(ee){this._openedDays=ee}get missedDays(){return this._missedDays}set missedDays(ee){this._missedDays=ee}}class CampaignCalendarDataMessageParser{flush(){return this._calendarData=null,!0}parse(ee){return ee?(this._calendarData=new CampaignCalendarData,this._calendarData.parse(ee),!0):!1}get calendarData(){return this._calendarData}}class CampaignCalendarDoorOpenedMessageParser{flush(){return this._doorOpened=!1,this._productName=null,this._customImage=null,this._furnitureClassName=null,!0}parse(ee){return ee?(this._doorOpened=ee.readBoolean(),this._productName=ee.readString(),this._customImage=ee.readString(),this._furnitureClassName=ee.readString(),!0):!1}get doorOpened(){return this._doorOpened}get productName(){return this._productName}get customImage(){return this._customImage}get furnitureClassName(){return this._furnitureClassName}}class BonusRareInfoMessageParser{flush(){return this._totalCoinsForBonus=-1,this._coinsStillRequiredToBuy=-1,this._productType="",this._productClassId=-1,!0}parse(ee){return ee?(this._productType=ee.readString(),this._productClassId=ee.readInt(),this._totalCoinsForBonus=ee.readInt(),this._coinsStillRequiredToBuy=ee.readInt(),!0):!1}get totalCoinsForBonus(){return this._totalCoinsForBonus}get coinsStillRequiredToBuy(){return this._coinsStillRequiredToBuy}get productType(){return this._productType}get productClassId(){return this._productClassId}}class BuildersClubFurniCountMessageParser{flush(){return this._furniCount=0,!0}parse(ee){return ee?(this._furniCount=ee.readInt(),!0):!1}get furniCount(){return this._furniCount}}class BuildersClubSubscriptionStatusMessageParser{flush(){return this._secondsLeft=0,this._furniLimit=0,this._maxFurniLimit=0,this._secondsLeftWithGrace=0,!0}parse(ee){return ee?(this._secondsLeft=ee.readInt(),this._furniLimit=ee.readInt(),this._maxFurniLimit=ee.readInt(),ee.bytesAvailable?this._secondsLeftWithGrace=ee.readInt():this._secondsLeftWithGrace=this._secondsLeft,!0):!1}get secondsLeft(){return this._secondsLeft}get furniLimit(){return this._furniLimit}get maxFurniLimit(){return this._maxFurniLimit}get secondsLeftWithGrace(){return this._secondsLeftWithGrace}}class BundleDiscountRuleset{constructor(ee){this._maxPurchaseSize=ee.readInt(),this._bundleSize=ee.readInt(),this._bundleDiscountSize=ee.readInt(),this._bonusThreshold=ee.readInt(),this._additionalBonusDiscountThresholdQuantities=[];let te=ee.readInt();for(;te>0;)this._additionalBonusDiscountThresholdQuantities.push(ee.readInt()),te--}get maxPurchaseSize(){return this._maxPurchaseSize}get bundleSize(){return this._bundleSize}get bundleDiscountSize(){return this._bundleDiscountSize}get bonusThreshold(){return this._bonusThreshold}get additionalBonusDiscountThresholdQuantities(){return this._additionalBonusDiscountThresholdQuantities}}class BundleDiscountRulesetMessageParser{flush(){return this._bundleDiscountRuleset=null,!0}parse(ee){return ee?(this._bundleDiscountRuleset=new BundleDiscountRuleset(ee),!0):!1}get bundleDiscountRuleset(){return this._bundleDiscountRuleset}}class NodeData{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._visible=!1,this._icon=0,this._pageId=-1,this._pageName=null,this._localization=null,this._children=[],this._offerIds=[],!0}parse(ee){if(!ee)return!1;this._visible=ee.readBoolean(),this._icon=ee.readInt(),this._pageId=ee.readInt(),this._pageName=ee.readString(),this._localization=ee.readString();let te=ee.readInt();for(;te>0;)this._offerIds.push(ee.readInt()),te--;let se=ee.readInt();for(;se>0;)this._children.push(new NodeData(ee)),se--;return!0}get visible(){return this._visible}get icon(){return this._icon}get pageId(){return this._pageId}get pageName(){return this._pageName}get localization(){return this._localization}get children(){return this._children}get offerIds(){return this._offerIds}}class CatalogIndexMessageParser{flush(){return this._root=null,!0}parse(ee){return ee?(this._root=new NodeData(ee),this._newAdditionsAvailable=ee.readBoolean(),this._catalogType=ee.readString(),!0):!1}get root(){return this._root}get newAdditionsAvailable(){return this._newAdditionsAvailable}get catalogType(){return this._catalogType}}class CatalogLocalizationData{constructor(ee){this._images=[],this._texts=[];let te=ee.readInt();for(;te>0;)this._images.push(ee.readString()),te--;let se=ee.readInt();for(;se>0;)this._texts.push(ee.readString()),se--}get images(){return this._images}get texts(){return this._texts}}class CatalogPageExpirationParser{flush(){return this._pageName=null,this._pageId=0,this._secondsToExpiry=0,this._image=null,!0}parse(ee){return ee?(this._pageId=ee.readInt(),this._pageName=ee.readString(),this._secondsToExpiry=ee.readInt(),this._image=ee.readString(),!0):!1}get pageName(){return this._pageName}get pageId(){return this._pageId}get secondsToExpiry(){return this._secondsToExpiry}get image(){return this._image}}const yP=class yP{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._productType=null,this._furniClassId=-1,this._extraParam=null,this._productCount=0,this._uniqueLimitedItem=!1,this._uniqueLimitedItemSeriesSize=0,this._uniqueLimitedItemsLeft=0,!0}parse(ee){switch(this._productType=ee.readString(),this._productType){case yP.B:return this._extraParam=ee.readString(),this._productCount=1,!0;default:return this._furniClassId=ee.readInt(),this._extraParam=ee.readString(),this._productCount=ee.readInt(),this._uniqueLimitedItem=ee.readBoolean(),this._uniqueLimitedItem&&(this._uniqueLimitedItemSeriesSize=ee.readInt(),this._uniqueLimitedItemsLeft=ee.readInt()),!0}}get productType(){return this._productType}get furniClassId(){return this._furniClassId}get extraParam(){return this._extraParam}get productCount(){return this._productCount}get uniqueLimitedItem(){return this._uniqueLimitedItem}get uniqueLimitedSeriesSize(){return this._uniqueLimitedItemSeriesSize}get uniqueLimitedItemsLeft(){return this._uniqueLimitedItemsLeft}};yP.I="i",yP.S="s",yP.E="e",yP.B="b";let CatalogPageMessageProductData=yP;class CatalogPageMessageOfferData{constructor(ee){this._offerId=ee.readInt(),this._localizationId=ee.readString(),this._rent=ee.readBoolean(),this._priceCredits=ee.readInt(),this._priceActivityPoints=ee.readInt(),this._priceActivityPointsType=ee.readInt(),this._giftable=ee.readBoolean(),this._products=[];let te=ee.readInt();for(;te>0;)this._products.push(new CatalogPageMessageProductData(ee)),te--;this._clubLevel=ee.readInt(),this._bundlePurchaseAllowed=ee.readBoolean(),this._isPet=ee.readBoolean(),this._previewImage=ee.readString()}get offerId(){return this._offerId}get localizationId(){return this._localizationId}get rent(){return this._rent}get priceCredits(){return this._priceCredits}get priceActivityPoints(){return this._priceActivityPoints}get priceActivityPointsType(){return this._priceActivityPointsType}get clubLevel(){return this._clubLevel}get giftable(){return this._giftable}get bundlePurchaseAllowed(){return this._bundlePurchaseAllowed}get isPet(){return this._isPet}get previewImage(){return this._previewImage}get products(){return this._products}}const UM=class UM{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._type=-1,this._position=null,this._itemName=null,this._itemPromoImage=null,this._catalogPageLocation=null,this._productCode=null,this._productOfferId=0,this._expirationTime=0,!0}parse(ee){if(!ee)return!1;switch(this._position=ee.readInt(),this._itemName=ee.readString(),this._itemPromoImage=ee.readString(),this._type=ee.readInt(),this._type){case UM.ITEM_CATALOGUE_PAGE:this._catalogPageLocation=ee.readString();break;case UM.ITEM_PRODUCT_OFFER:this._productOfferId=ee.readInt();break;case UM.ITEM_IAP:this._productCode=ee.readString();break}const te=ee.readInt();return this._expirationTime=te>0?te*1e3+GetTickerTime():0,!0}get type(){return this._type}get position(){return this._position}get itemName(){return this._itemName}get itemPromoImage(){return this._itemPromoImage}get catalogPageLocation(){return this._catalogPageLocation}get productCode(){return this._productCode}get productOfferId(){return this._productOfferId}get expirationTime(){return this._expirationTime}};UM.ITEM_CATALOGUE_PAGE=0,UM.ITEM_PRODUCT_OFFER=1,UM.ITEM_IAP=2;let FrontPageItem=UM;class CatalogPageMessageParser{flush(){return this._pageId=-1,this._catalogType=null,this._layoutCode=null,this._localization=null,this._offers=[],this._offerId=-1,this._acceptSeasonCurrencyAsCredits=!1,this._frontPageItems=[],!0}parse(ee){if(!ee)return!1;this._pageId=ee.readInt(),this._catalogType=ee.readString(),this._layoutCode=ee.readString(),this._localization=new CatalogLocalizationData(ee);let te=ee.readInt();for(;te>0;)this._offers.push(new CatalogPageMessageOfferData(ee)),te--;if(this._offerId=ee.readInt(),this._acceptSeasonCurrencyAsCredits=ee.readBoolean(),ee.bytesAvailable){let se=ee.readInt();for(;se>0;)this._frontPageItems.push(new FrontPageItem(ee)),se--}return!0}get pageId(){return this._pageId}get catalogType(){return this._catalogType}get layoutCode(){return this._layoutCode}get localization(){return this._localization}get offers(){return this._offers}get offerId(){return this._offerId}get acceptSeasonCurrencyAsCredits(){return this._acceptSeasonCurrencyAsCredits}get frontPageItems(){return this._frontPageItems}}class CatalogPageWithEarliestExpiryMessageParser{flush(){return this._pageName=null,this._secondsToExpiry=0,this._image=null,!0}parse(ee){return ee?(this._pageName=ee.readString(),this._secondsToExpiry=ee.readInt(),this._image=ee.readString(),!0):!1}get pageName(){return this._pageName}get secondsToExpiry(){return this._secondsToExpiry}get image(){return this._image}}class CatalogPublishedMessageParser{flush(){return this._instantlyRefreshCatalogue=!1,this._newFurniDataHash=null,!0}parse(ee){return ee?(this._instantlyRefreshCatalogue=ee.readBoolean(),ee.bytesAvailable&&(this._newFurniDataHash=ee.readString()),!0):!1}get instantlyRefreshCatalogue(){return this._instantlyRefreshCatalogue}get newFurniDataHash(){return this._newFurniDataHash}}class ClubGiftData{constructor(ee){this._offerId=ee.readInt(),this._isVip=ee.readBoolean(),this._daysRequired=ee.readInt(),this._isSelectable=ee.readBoolean()}get offerId(){return this._offerId}get isVip(){return this._isVip}get isSelectable(){return this._isSelectable}get daysRequired(){return this._daysRequired}}class ClubGiftInfoParser{flush(){return!0}parse(ee){if(!ee)return!1;this._offers=[],this._giftData=new Map,this._daysUntilNextGift=ee.readInt(),this._giftsAvailable=ee.readInt();const te=ee.readInt();for(let ne=0;ne<te;ne++)this._offers.push(new CatalogPageMessageOfferData(ee));const se=ee.readInt();for(let ne=0;ne<se;ne++){const le=new ClubGiftData(ee);this._giftData.set(le.offerId,le)}return!0}get offers(){return this._offers}get daysUntilNextGift(){return this._daysUntilNextGift}get giftsAvailable(){return this._giftsAvailable}set giftsAvailable(ee){this._giftsAvailable=ee}getOfferExtraData(ee){return ee?this._giftData.get(ee):null}get giftData(){return this._giftData}}class ClubGiftSelectedParser{flush(){return this._productCode=null,this._products=[],!0}parse(ee){if(!ee)return!1;this._productCode=ee.readString();let te=ee.readInt();for(;te>0;)this._products.push(new CatalogPageMessageProductData(ee)),te--;return!0}get productCode(){return this._productCode}get products(){return this._products}}class ClubOfferData{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this._offerId=ee.readInt(),this._productCode=ee.readString(),ee.readBoolean(),this._priceCredits=ee.readInt(),this._priceActivityPoints=ee.readInt(),this._priceActivityPointsType=ee.readInt(),this._vip=ee.readBoolean(),this._months=ee.readInt(),this._extraDays=ee.readInt(),this._giftable=ee.readBoolean(),this._daysLeftAfterPurchase=ee.readInt(),this._year=ee.readInt(),this._month=ee.readInt(),this._day=ee.readInt()}get offerId(){return this._offerId}get productCode(){return this._productCode}get priceCredits(){return this._priceCredits}get priceActivityPoints(){return this._priceActivityPoints}get priceActivityPointsType(){return this._priceActivityPointsType}get vip(){return this._vip}get months(){return this._months}get extraDays(){return this._extraDays}get daysLeftAfterPurchase(){return this._daysLeftAfterPurchase}get year(){return this._year}get month(){return this._month}get day(){return this._day}get giftable(){return this._giftable}}class ClubOfferExtendData extends ClubOfferData{constructor(ee){super(ee),this._originalPrice=ee.readInt(),this._originalActivityPointPrice=ee.readInt(),this._originalActivityPointType=ee.readInt(),this._subscriptionDaysLeft=ee.readInt()}get originalPrice(){return this._originalPrice*this.months}get originalActivityPointPrice(){return this._originalActivityPointPrice*this.months}get originalActivityPointType(){return this._originalActivityPointType}get discountCreditAmount(){return this._originalPrice*this.months-this.priceCredits}get discountActivityPointAmount(){return this.originalActivityPointPrice*this.months-this.priceActivityPoints}get subscriptionDaysLeft(){return this._subscriptionDaysLeft}}class DirectSMSClubBuyAvailableMessageParser{flush(){return this._available=!1,this._pricePointUrl=null,this._market=null,this._lengthInDays=0,!0}parse(ee){return ee?(this._pricePointUrl=ee.readString(),this._pricePointUrl!==""&&(this._available=!0),this._market=ee.readString(),this._lengthInDays=ee.readInt(),!0):!1}get available(){return this._available}get pricePointUrl(){return this._pricePointUrl}get market(){return this._market}get lengthInDays(){return this._lengthInDays}}class GiftReceiverNotFoundParser{flush(){return!0}parse(ee){return!!ee}}class GiftWrappingConfigurationParser{constructor(){this._isEnabled=!1,this._price=null,this._giftWrappers=null,this._boxTypes=null,this._ribbonTypes=null,this._giftFurnis=null}flush(){return this._boxTypes=null,this._giftFurnis=null,this._giftWrappers=null,this._ribbonTypes=null,this._isEnabled=null,this._price=null,!0}parse(ee){if(!ee)return!1;const te=[],se=[],ne=[],le=[];this._isEnabled=ee.readBoolean(),this._price=ee.readInt();let ue=ee.readInt(),ce=0;for(;ce<ue;)te.push(ee.readInt()),ce++;for(ue=ee.readInt(),ce=0;ce<ue;)se.push(ee.readInt()),ce++;for(ue=ee.readInt(),ce=0;ce<ue;)ne.push(ee.readInt()),ce++;for(ue=ee.readInt(),ce=0;ce<ue;)le.push(ee.readInt()),ce++;return this._giftWrappers=te,this._ribbonTypes=ne,this._giftFurnis=le,this._boxTypes=se,!0}get giftWrappers(){return this._giftWrappers}get ribbonTypes(){return this._ribbonTypes}get giftFurnis(){return this._giftFurnis}get boxTypes(){return this._boxTypes}get isEnabled(){return this._isEnabled}get price(){return this._price}}class HabboClubExtendOfferMessageParser{flush(){return this._offer=null,!0}parse(ee){return ee?(this._offer=new ClubOfferExtendData(ee),!0):!1}get offer(){return this._offer}}class HabboClubOffersMessageParser{flush(){return this._offers=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._offers.push(new ClubOfferData(ee)),te--;return!0}get offers(){return this._offers}}class IsOfferGiftableMessageParser{flush(){return this._offerId=0,this._isGiftable=!1,!0}parse(ee){return ee?(this._offerId=ee.readInt(),this._isGiftable=ee.readBoolean(),!0):!1}get offerId(){return this._offerId}get isGiftable(){return this._isGiftable}}class LimitedEditionSoldOutParser{flush(){return!0}parse(ee){return!!ee}}class LimitedOfferAppearingNextMessageParser{flush(){return this._appearsInSeconds=-1,this._pageId=-1,this._offerId=-1,this._productType="",!0}parse(ee){return ee?(this._appearsInSeconds=ee.readInt(),this._pageId=ee.readInt(),this._offerId=ee.readInt(),this._productType=ee.readString(),!0):!1}get appearsInSeconds(){return this._appearsInSeconds}get pageId(){return this._pageId}get offerId(){return this._offerId}get productType(){return this._productType}}class NotEnoughBalanceMessageParser{constructor(){this._notEnoughCredits=!1,this._notEnoughActivityPoints=!1,this._activityPointType=0}flush(){return this._notEnoughCredits=!1,this._notEnoughActivityPoints=!1,this._activityPointType=0,!0}parse(ee){return ee?(this._notEnoughCredits=ee.readBoolean(),this._notEnoughActivityPoints=ee.readBoolean(),ee.bytesAvailable&&(this._activityPointType=ee.readInt()),!0):!1}get notEnoughCredits(){return this._notEnoughCredits}get notEnoughActivityPoints(){return this._notEnoughActivityPoints}get activityPointType(){return this._activityPointType}}class ProductOfferMessageParser{flush(){return this._offer=null,!0}parse(ee){return ee?(this._offer=new CatalogPageMessageOfferData(ee),!0):!1}get offer(){return this._offer}}class PurchaseErrorMessageParser{flush(){return this._code=0,!0}parse(ee){return ee?(this._code=ee.readInt(),!0):!1}get code(){return this._code}}class PurchaseNotAllowedMessageParser{flush(){return this._code=0,!0}parse(ee){return ee?(this._code=ee.readInt(),!0):!1}get code(){return this._code}}class PurchaseOKMessageOfferData{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._offerId=-1,this._localizationId=null,this._rent=!1,this._priceCredits=0,this._priceActivityPoints=0,this._priceActivityPointsType=0,this._clubLevel=0,this._giftable=!1,this._bundlePurchaseAllowed=!1,this._products=[],!0}parse(ee){if(!ee)return!1;this._offerId=ee.readInt(),this._localizationId=ee.readString(),this._rent=ee.readBoolean(),this._priceCredits=ee.readInt(),this._priceActivityPoints=ee.readInt(),this._priceActivityPointsType=ee.readInt(),this._giftable=ee.readBoolean();let te=ee.readInt();for(;te>0;)this._products.push(new CatalogPageMessageProductData(ee)),te--;return this._clubLevel=ee.readInt(),this._bundlePurchaseAllowed=ee.readBoolean(),!0}get offerId(){return this._offerId}get localizationId(){return this._localizationId}get rent(){return this._rent}get priceCredits(){return this._priceCredits}get priceActivityPoints(){return this._priceActivityPoints}get priceActivityPointsType(){return this._priceActivityPointsType}get clubLevel(){return this._clubLevel}get giftable(){return this._giftable}get bundlePurchaseAllowed(){return this._bundlePurchaseAllowed}get products(){return this._products}}class PurchaseOKMessageParser{flush(){return this._offer=null,!0}parse(ee){return ee?(this._offer=new PurchaseOKMessageOfferData(ee),!0):!1}get offer(){return this._offer}}class UserPermissionsParser{flush(){return this._clubLevel=0,this._securityLevel=0,this._isAmbassador=!1,!0}parse(ee){return ee?(this._clubLevel=ee.readInt(),this._securityLevel=ee.readInt(),this._isAmbassador=ee.readBoolean(),!0):!1}get clubLevel(){return this._clubLevel}get securityLevel(){return this._securityLevel}get isAmbassador(){return this._isAmbassador}}const D2=class D2{flush(){return!0}parse(ee){return ee?(this._status=ee.readInt(),!0):!1}get status(){return this._status}};D2.SAFETY_LOCK_STATUS_LOCKED=0,D2.SAFETY_LOCK_STATUS_UNLOCKED=1;let AccountSafetyLockStatusChangeParser=D2;class ApproveNameResultParser{flush(){return this._result=-1,this._validationInfo="",!0}parse(ee){return ee?(this._result=ee.readInt(),this._validationInfo=ee.readString(),!0):!1}get result(){return this._result}get validationInfo(){return this._validationInfo}}const MF=class MF{flush(){return this._result=-1,!0}parse(ee){return ee?(this._result=ee.readInt(),!0):!1}get result(){return this._result}};MF.EMAIL_STATUS_OK=0;let ChangeEmailResultParser=MF;class RelationshipStatusInfo{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._relationshipStatusType=RelationshipStatusEnum.NONE,this._friendCount=0,this._randomFriendId=0,this._randomFriendFigure=null,this._randomFriendName=null,!0}parse(ee){return ee?(this._relationshipStatusType=ee.readInt(),this._friendCount=ee.readInt(),this._randomFriendId=ee.readInt(),this._randomFriendName=ee.readString(),this._randomFriendFigure=ee.readString(),!0):!1}get relationshipStatusType(){return this._relationshipStatusType}get friendCount(){return this._friendCount}get randomFriendId(){return this._randomFriendId}get randomFriendName(){return this._randomFriendName}get randomFriendFigure(){return this._randomFriendFigure}}class RelationshipStatusInfoMessageParser{flush(){return this._userId=0,this._relationshipStatusMap=null,!0}parse(ee){if(!ee)return!1;this._userId=ee.readInt(),this._relationshipStatusMap=new AdvancedMap;const te=ee.readInt();for(let se=0;se<te;se++){const ne=new RelationshipStatusInfo(ee);this._relationshipStatusMap.add(ne.relationshipStatusType,ne)}return!0}get userId(){return this._userId}get relationshipStatusMap(){return this._relationshipStatusMap}}class UserCurrentBadgesParser{flush(){return this._userId=null,this._badges=[],!0}parse(ee){if(!ee)return!1;this._userId=ee.readInt();let te=ee.readInt();for(;te>0;){ee.readInt();const se=ee.readString();this._badges.push(se),te--}return!0}get userId(){return this._userId}get badges(){return this._badges}}class UserInfoDataParser{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._userId=0,this._username=null,this._figure=null,this._gender=null,this._motto=null,this._realName=null,this._directMail=!1,this._respectsReceived=0,this._respectsRemaining=0,this._respectsPetRemaining=0,this._streamPublishingAllowed=!1,this._lastAccessDate=null,this._canChangeName=!1,this._safetyLocked=!1,!0}parse(ee){return ee?(this._userId=ee.readInt(),this._username=ee.readString(),this._figure=ee.readString(),this._gender=ee.readString(),this._motto=ee.readString(),this._realName=ee.readString(),this._directMail=ee.readBoolean(),this._respectsReceived=ee.readInt(),this._respectsRemaining=ee.readInt(),this._respectsPetRemaining=ee.readInt(),this._streamPublishingAllowed=ee.readBoolean(),this._lastAccessDate=ee.readString(),this._canChangeName=ee.readBoolean(),this._safetyLocked=ee.readBoolean(),!0):!1}get userId(){return this._userId}get username(){return this._username}get figure(){return this._figure}get gender(){return this._gender}get motto(){return this._motto}get realName(){return this._realName}get directMail(){return this._directMail}get respectsReceived(){return this._respectsReceived}get respectsRemaining(){return this._respectsRemaining}get respectsPetRemaining(){return this._respectsPetRemaining}get streamPublishingAllowed(){return this._streamPublishingAllowed}get lastAccessedDate(){return this._lastAccessDate}get canChangeName(){return this._canChangeName}get safetyLocked(){return this._safetyLocked}}class UserInfoParser{flush(){return this._userInfo=null,!0}parse(ee){return!(!ee||(this._userInfo=new UserInfoDataParser(ee),!this._userInfo))}get userInfo(){return this._userInfo}}class UserNameChangeMessageParser{flush(){return this._webId=-1,this._id=-1,this._newName="",!0}parse(ee){return ee?(this._webId=ee.readInt(),this._id=ee.readInt(),this._newName=ee.readString(),!0):!1}get webId(){return this._webId}get id(){return this._id}get newName(){return this._newName}}class HabboGroupEntryData{constructor(ee){this._groupId=ee.readInt(),this._groupName=ee.readString(),this._badgeCode=ee.readString(),this._colorA=ee.readString(),this._colorB=ee.readString(),this._favourite=ee.readBoolean(),this._ownerId=ee.readInt(),this._hasForum=ee.readBoolean()}get groupId(){return this._groupId}get groupName(){return this._groupName}get badgeCode(){return this._badgeCode}get colorA(){return this._colorA}get colorB(){return this._colorB}get favourite(){return this._favourite}get ownerId(){return this._ownerId}get hasForum(){return this._hasForum}}let UserProfileParser$1=class{flush(){return this._id=0,this._username=null,this._figure=null,this._motto=null,this._registration=null,this._achievementPoints=0,this._friendsCount=0,this._isMyFriend=!1,this._requestSent=!1,this._isOnline=!1,this._groups=[],this._secondsSinceLastVisit=0,this._openProfileWindow=!1,!0}parse(ee){if(!ee)return!1;this._id=ee.readInt(),this._username=ee.readString(),this._figure=ee.readString(),this._motto=ee.readString(),this._registration=ee.readString(),this._achievementPoints=ee.readInt(),this._friendsCount=ee.readInt(),this._isMyFriend=ee.readBoolean(),this._requestSent=ee.readBoolean(),this._isOnline=ee.readBoolean();const te=ee.readInt();for(let se=0;se<te;se++)this._groups.push(new HabboGroupEntryData(ee));return this._secondsSinceLastVisit=ee.readInt(),this._openProfileWindow=ee.readBoolean(),!0}get id(){return this._id}get username(){return this._username}get figure(){return this._figure}get motto(){return this._motto}get registration(){return this._registration}get achievementPoints(){return this._achievementPoints}get friendsCount(){return this._friendsCount}get isMyFriend(){return this._isMyFriend}get requestSent(){return this._requestSent}get isOnline(){return this._isOnline}get groups(){return this._groups}get secondsSinceLastVisit(){return this._secondsSinceLastVisit}get openProfileWindow(){return this._openProfileWindow}};class UserSettingsParser{flush(){return this._volumeSystem=0,this._volumeFurni=0,this._volumeTrax=0,this._oldChat=!1,this._roomInvites=!1,this._cameraFollow=!1,this._flags=0,this._chatType=0,!0}parse(ee){return ee?(this._volumeSystem=ee.readInt(),this._volumeFurni=ee.readInt(),this._volumeTrax=ee.readInt(),this._oldChat=ee.readBoolean(),this._roomInvites=ee.readBoolean(),this._cameraFollow=ee.readBoolean(),this._flags=ee.readInt(),this._chatType=ee.readInt(),!0):!1}get volumeSystem(){return this._volumeSystem}get volumeFurni(){return this._volumeFurni}get volumeTrax(){return this._volumeTrax}get oldChat(){return this._oldChat}get roomInvites(){return this._roomInvites}get cameraFollow(){return this._cameraFollow}get flags(){return this._flags}get chatType(){return this._chatType}}class UserTagsParser{flush(){return this._roomUnitId=-1,this._tags=[],!0}parse(ee){if(!ee)return!1;this._roomUnitId=ee.readInt();let te=ee.readInt();for(;te>0;)this._tags.push(ee.readString()),te--;return!0}get roomUnitId(){return this._roomUnitId}get tags(){return this._tags}}class EmailStatusParser{flush(){return this._email=null,this._isVerified=!1,this._allowChange=!1,!0}parse(ee){return ee?(this._email=ee.readString(),this._isVerified=ee.readBoolean(),this._allowChange=ee.readBoolean(),!0):!1}get email(){return this._email}get isVerified(){return this._isVerified}get allowChange(){return this._allowChange}}class ExtendedProfileChangedMessageParser{flush(){return this._userId=-1,!0}parse(ee){return ee?(this._userId=ee.readInt(),!0):!1}get userId(){return this._userId}}class GroupDetailsChangedMessageParser{flush(){return this._groupId=-1,!0}parse(ee){return ee?(this._groupId=ee.readInt(),!0):!1}get groupId(){return this._groupId}}class GroupMembershipRequestedMessageParser{flush(){return this._groupId=-1,this._requester=null,!0}parse(ee){return ee?(this._groupId=ee.readInt(),this._requester=new MemberData(ee),!0):!1}get groupId(){return this._groupId}get requester(){return this._requester}}const PF=class PF{flush(){return this._reason=-1,!0}parse(ee){return ee?(this._reason=ee.readInt(),!0):!1}get reason(){return this._reason}};PF.INSUFFICIENT_SUBSCRIPTION_LEVEL=2;let GuildEditFailedMessageParser=PF;class GuildMemberMgmtFailedMessageParser{flush(){return this._guildId=-1,this._reason=-1,!0}parse(ee){return ee?(this._guildId=ee.readInt(),this._reason=ee.readInt(),!0):!1}get guildId(){return this._guildId}get reason(){return this._reason}}class GuildMembershipsMessageParser{flush(){return this._groups=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._groups.push(new HabboGroupEntryData(ee)),te--;return!0}get groups(){return this._groups}}class HabboGroupBadgesMessageParser{flush(){return this._badges=new Map,!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;){const se=ee.readInt(),ne=ee.readString();this._badges.set(se,ne),te--}return!0}get badges(){return this._badges}}const wF=class wF{flush(){return this._reason=-1,!0}parse(ee){return ee?(this._reason=ee.readInt(),!0):!1}get reason(){return this._reason}};wF.INSUFFICIENT_SUBSCRIPTION_LEVEL=4;let HabboGroupJoinFailedMessageParser=wF;class IgnoredUsersParser{flush(){return this._ignoredUsers=[],!0}parse(ee){if(!ee)return!1;this._ignoredUsers=[];let te=ee.readInt();for(;te>0;)this._ignoredUsers.push(ee.readString()),te--;return!0}get ignoredUsers(){return this._ignoredUsers}}class IgnoreResultParser{flush(){return this._result=-1,this._name=null,!0}parse(ee){return ee?(this._result=ee.readInt(),this._name=ee.readString(),!0):!1}get result(){return this._result}get name(){return this._name}}class InClientLinkParser{flush(){return this._link=null,!0}parse(ee){return ee?(this._link=ee.readString(),!0):!1}get link(){return this._link}}class UserCreditsParser{flush(){return this._credits=null,!0}parse(ee){return ee?(this._credits=ee.readString(),!0):!1}get credits(){return this._credits}}class UserCurrencyParser{flush(){return this._currencies=new Map,!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._currencies.set(ee.readInt(),ee.readInt()),te--;return!0}get currencies(){return this._currencies}}const gN=class gN{flush(){return this._productName=null,this._daysToPeriodEnd=0,this._memberPeriods=0,this._periodsSubscribedAhead=0,this._responseType=0,this._hasEverBeenMember=!1,this._isVip=!1,this._pastClubDays=0,this._pastVipDays=0,this._minutesUntilExpiration=0,this._minutesSinceLastModified=0,!0}parse(ee){return ee?(this._productName=ee.readString(),this._daysToPeriodEnd=ee.readInt(),this._memberPeriods=ee.readInt(),this._periodsSubscribedAhead=ee.readInt(),this._responseType=ee.readInt(),this._hasEverBeenMember=ee.readBoolean(),this._isVip=ee.readBoolean(),this._pastClubDays=ee.readInt(),this._pastVipDays=ee.readInt(),this._minutesUntilExpiration=ee.readInt(),ee.bytesAvailable&&(this._minutesSinceLastModified=ee.readInt()),!0):!1}get productName(){return this._productName}get daysToPeriodEnd(){return this._daysToPeriodEnd}get memberPeriods(){return this._memberPeriods}get periodsSubscribedAhead(){return this._periodsSubscribedAhead}get responseType(){return this._responseType}get hasEverBeenMember(){return this._hasEverBeenMember}get isVip(){return this._isVip}get pastClubDays(){return this._pastClubDays}get pastVipDays(){return this._pastVipDays}get minutesUntilExpiration(){return this._minutesUntilExpiration}get minutesSinceLastModified(){return this._minutesSinceLastModified}};gN.RESPONSE_TYPE_LOGIN=1,gN.RESPONSE_TYPE_PURCHASE=2,gN.RESPONSE_TYPE_DISCOUNT_AVAILABLE=3,gN.RESPONSE_TYPE_CITIZENSHIP_DISCOUNT=4;let UserSubscriptionParser=gN;const mN=class mN{constructor(ee){if(this._unseen=0,!ee)throw new Error("invalid_parser");this._achievementId=ee.readInt(),this._level=ee.readInt(),this._badgeId=ee.readString(),this._scoreAtStartOfLevel=ee.readInt(),this._scoreLimit=Math.max(1,ee.readInt()),this._levelRewardPoints=ee.readInt(),this._levelRewardPointType=ee.readInt(),this._currentPoints=ee.readInt(),this._finalLevel=ee.readBoolean(),this._category=ee.readString(),this._subCategory=ee.readString(),this._levelCount=ee.readInt(),this._displayMethod=ee.readInt()}get achievementId(){return this._achievementId}get badgeId(){return this._badgeId}get level(){return this._level}get scoreAtStartOfLevel(){return this._scoreAtStartOfLevel}get scoreLimit(){return this._scoreLimit-this._scoreAtStartOfLevel}get levelRewardPoints(){return this._levelRewardPoints}get levelRewardPointType(){return this._levelRewardPointType}get currentPoints(){return this._currentPoints-this._scoreAtStartOfLevel}get finalLevel(){return this._finalLevel}get category(){return this._category}get subCategory(){return this._subCategory}get levelCount(){return this._levelCount}get firstLevelAchieved(){return this._level>1||this._finalLevel}setMaxProgress(){this._currentPoints=this._scoreLimit}get displayMethod(){return this._displayMethod}get progress(){return this._currentPoints}get toNextProgress(){return this._scoreLimit}set unseen(ee){this._unseen=ee}get unseen(){return this._unseen}reset(ee){this._achievementId=ee._achievementId,this._level=ee._level,this._badgeId=ee._badgeId,this._scoreAtStartOfLevel=ee._scoreAtStartOfLevel,this._scoreLimit=ee._scoreLimit,this._levelRewardPoints=ee._levelRewardPoints,this._levelRewardPointType=ee._levelRewardPointType,this._currentPoints=ee._currentPoints,this._finalLevel=ee._finalLevel,this._category=ee.category,this._subCategory=ee._subCategory,this._levelCount=ee._levelCount,this._displayMethod=ee._displayMethod}};mN.DISPLAY_METHOD_OBSOLETE=-1,mN.DISPLAY_METHOD_SHOW_LEVEL_PROGRESS=0,mN.DISPLAY_METHOD_NEVER_SHOW_PROGRESS=1,mN.DISPLAY_METHOD_SHOW_TOTAL_PROGRESS=2;let AchievementData=mN;class AchievementParser{flush(){return this._achievement=null,!0}parse(ee){return ee?(this._achievement=new AchievementData(ee),!0):!1}get achievement(){return this._achievement}}const L2=class L2{constructor(ee){this._achievementId=ee.readInt(),this._level=ee.readInt(),this._badgeId=ee.readString(),this._requiredLevel=ee.readInt(),this._state=ee.readInt()}dispose(){this._achievementId=0,this._level=0,this._badgeId="",this._requiredLevel=0}get achievementId(){return this._achievementId}get level(){return this._level}get badgeId(){return this._badgeId}get requiredLevel(){return this._requiredLevel}get enabled(){return this._state===L2.STATE_SELECTABLE}get state(){return this._state}};L2.STATE_SELECTABLE=0;let AchievementResolutionData=L2;class AchievementsParser{flush(){return this._achievements=[],this._defaultCategory=null,!0}parse(ee){if(!ee)return!1;this._achievements=[];let te=ee.readInt();for(;te>0;)this._achievements.push(new AchievementData(ee)),te--;return this._defaultCategory=ee.readString(),!0}get achievements(){return this._achievements}get defaultCategory(){return this._defaultCategory}}class AchievementsScoreParser{flush(){return this._score=0,!0}parse(ee){return ee?(this._score=ee.readInt(),!0):!1}get score(){return this._score}}class AvatarEffect{get type(){return this._type}set type(ee){this._type=ee}get subType(){return this._subType}set subType(ee){this._subType=ee}get duration(){return this._duration}set duration(ee){this._duration=ee}get inactiveEffectsInInventory(){return this._inactiveEffectsInInventory}set inactiveEffectsInInventory(ee){this._inactiveEffectsInInventory=ee}get secondsLeftIfActive(){return this._secondsLeftIfActive}set secondsLeftIfActive(ee){this._secondsLeftIfActive=ee}get isPermanent(){return this._permanent}set isPermanent(ee){this._permanent=ee}}class AvatarEffectActivatedParser{flush(){return this._type=0,this._duration=0,this._isPermanent=!1,!0}parse(ee){return ee?(this._type=ee.readInt(),this._duration=ee.readInt(),this._isPermanent=ee.readBoolean(),!0):!1}get type(){return this._type}get duration(){return this._duration}get isPermanent(){return this._isPermanent}}class AvatarEffectAddedParser{flush(){return this._type=0,this._subType=0,this._duration=0,this._permanent=!1,!0}parse(ee){return ee?(this._type=ee.readInt(),this._subType=ee.readInt(),this._duration=ee.readInt(),this._permanent=ee.readBoolean(),!0):!1}get type(){return this._type}get subType(){return this._subType}get duration(){return this._duration}get isPermanent(){return this._permanent}}class AvatarEffectExpiredParser{flush(){return this._type=0,!0}parse(ee){return ee?(this._type=ee.readInt(),!0):!1}get type(){return this._type}}class AvatarEffectSelectedParser{flush(){return this._type=0,!0}parse(ee){return ee?(this._type=ee.readInt(),!0):!1}get type(){return this._type}}class AvatarEffectsParser{flush(){return this._effects=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;){const se=new AvatarEffect;se.type=ee.readInt(),se.subType=ee.readInt(),se.duration=ee.readInt(),se.inactiveEffectsInInventory=ee.readInt(),se.secondsLeftIfActive=ee.readInt(),se.isPermanent=ee.readBoolean(),this._effects.push(se),te--}return!0}get effects(){return this._effects}}class BadgeAndPointLimit{constructor(ee,te){if(!te)throw new Error("invalid_parser");this._badgeId="ACH_"+ee+te.readInt(),this._limit=te.readInt()}get badgeId(){return this._badgeId}get limit(){return this._limit}}class BadgePointLimitsParser{flush(){return this._data=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;){const se=ee.readString(),ne=ee.readInt();let le=0;for(;le<ne;)this._data.push(new BadgeAndPointLimit(se,ee)),le++;te--}return!0}get data(){return this._data}}class BadgeReceivedParser{flush(){return this._badgeId=0,this._badgeCode=null,!0}parse(ee){return ee?(this._badgeId=ee.readInt(),this._badgeCode=ee.readString(),!0):!1}get badgeId(){return this._badgeId}get badgeCode(){return this._badgeCode}}class BadgesParser{flush(){return this._allBadgeCodes=[],this._activeBadgeCodes=null,this._badgeIds=null,!0}parse(ee){if(!ee)return!1;this._allBadgeCodes=[],this._activeBadgeCodes=[],this._badgeIds=new AdvancedMap;let te=ee.readInt();for(;te>0;){const se=ee.readInt(),ne=ee.readString();this._badgeIds.add(ne,se),this._allBadgeCodes.push(ne),te--}for(te=ee.readInt();te>0;){ee.readInt();const se=ee.readString();this._activeBadgeCodes.push(se),te--}return!0}getBadgeId(ee){return this._badgeIds.getValue(ee)}getAllBadgeCodes(){return this._allBadgeCodes}getActiveBadgeCodes(){return this._activeBadgeCodes}}class IsBadgeRequestFulfilledParser{flush(){return!0}parse(ee){return ee?(this._requestCode=ee.readString(),this._fulfilled=ee.readBoolean(),!0):!1}get requestCode(){return this._requestCode}get fulfilled(){return this._fulfilled}}class FigureSetIdsMessageParser{flush(){return this._figureSetIds=[],this._boundFurnitureNames=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._figureSetIds.push(ee.readInt()),te--;let se=ee.readInt();for(;se>0;)this._boundFurnitureNames.push(ee.readString()),se--;return!0}get figureSetIds(){return this._figureSetIds}get boundsFurnitureNames(){return this._boundFurnitureNames}}const EN=class EN{flush(){return this._reason=0,this._parameter="",!0}parse(ee){return ee?(this._reason=ee.readInt(),this._parameter=ee.readString(),!0):!1}get reason(){return this._reason}get parameter(){return this._parameter}};EN.REASON_FULL=1,EN.REASON_CLOSED=2,EN.REASON_QUEUE_ERROR=3,EN.REASON_BANNED=4;let CantConnectMessageParser=EN;class RoomDoorbellAcceptedParser{flush(){return this._userName=null,!0}parse(ee){return ee?(this._userName=ee.readString(),!0):!1}get userName(){return this._userName}}class RoomRightsClearParser{flush(){return!0}parse(ee){return!!ee}}class RoomRightsOwnerParser{flush(){return!0}parse(ee){return!!ee}}class RoomRightsParser{flush(){return this._controllerLevel=RoomControllerLevel.NONE,!0}parse(ee){return ee?(this._controllerLevel=ee.readInt(),!0):!1}get controllerLevel(){return this._controllerLevel}}class RoomEnterParser{flush(){return!0}parse(ee){return!!ee}}class RoomFowardParser{flush(){return this._roomId=0,!0}parse(ee){return ee?(this._roomId=ee.readInt(),!0):!1}get roomId(){return this._roomId}}class BotCommandConfigurationParser{flush(){return this._botId=-1,this._commandId=-1,this._data="",!0}parse(ee){return ee?(this._botId=ee.readInt(),this._commandId=ee.readInt(),this._data=ee.readString(),!0):!1}get botId(){return this._botId}get commandId(){return this._commandId}get data(){return this._data}}class BotForceOpenContextMenuParser{flush(){return this._botId=-1,!0}parse(ee){return ee?(this._botId=ee.readInt(),!0):!1}get botId(){return this._botId}}class BotSkillData{constructor(ee){this._id=ee.readInt(),this._data=ee.readString()}get id(){return this._id}get data(){return this._data}}class BotSkillListUpdateParser{flush(){return this._botId=-1,this._skillList=[],!0}parse(ee){if(!ee)return!1;this._botId=ee.readInt();let te=ee.readInt();for(;te>0;)this._skillList.push(new BotSkillData(ee)),te--;return!0}get botId(){return this._botId}get skillList(){return this._skillList}}class BannedUserData{constructor(ee){this._userId=ee.readInt(),this._userName=ee.readString()}get userId(){return this._userId}get userName(){return this._userName}}class BannedUsersFromRoomParser{flush(){return this._roomId=0,this._bannedUsers=[],!0}parse(ee){if(!ee)return!1;this._roomId=ee.readInt();let te=ee.readInt();for(;te>0;)this._bannedUsers.push(new BannedUserData(ee)),te--;return!0}get roomId(){return this._roomId}get bannedUsers(){return this._bannedUsers}}class FlatControllerData{constructor(ee){this._userId=ee.readInt(),this._userName=ee.readString()}get userId(){return this._userId}get userName(){return this._userName}get selected(){return this._selected}set selected(ee){this._selected=ee}}class FlatControllerAddedParser{flush(){return this._roomId=0,this._data=null,!0}parse(ee){return ee?(this._roomId=ee.readInt(),this._data=new FlatControllerData(ee),!0):!1}get roomId(){return this._roomId}get data(){return this._data}}class FlatControllerRemovedParser{flush(){return this._roomId=0,this._userId=0,!0}parse(ee){return ee?(this._roomId=ee.readInt(),this._userId=ee.readInt(),!0):!1}get roomId(){return this._roomId}get userId(){return this._userId}}class FlatControllersParser{flush(){return this._roomId=0,this._users=new Map,!0}parse(ee){if(!ee)return!1;this._roomId=ee.readInt();let te=ee.readInt();for(;te>0;){const se=ee.readInt(),ne=ee.readString();this._users.set(se,ne),te--}return!0}get roomId(){return this._roomId}get users(){return this._users}}class MuteAllInRoomParser{flush(){return!0}parse(ee){return ee?(this._isMuted=ee.readBoolean(),!0):!1}get isMuted(){return this._isMuted}}class NoSuchFlatParser{flush(){return this._roomId=0,!0}parse(ee){return ee?(this._roomId=ee.readInt(),!0):!1}get roomId(){return this._roomId}}const UI=class UI{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this._mode=ee.readInt(),this._weight=ee.readInt(),this._speed=ee.readInt(),this._distance=ee.readInt(),this._protection=ee.readInt()}get mode(){return this._mode}get weight(){return this._weight}get speed(){return this._speed}get distance(){return this._distance}get protection(){return this._protection}};UI.CHAT_MODE_FREE_FLOW=0,UI.CHAT_MODE_LINE_BY_LINE=1,UI.CHAT_BUBBLE_WIDTH_WIDE=0,UI.CHAT_BUBBLE_WIDTH_NORMAL=1,UI.CHAT_BUBBLE_WIDTH_THIN=2,UI.CHAT_SCROLL_SPEED_FAST=0,UI.CHAT_SCROLL_SPEED_NORMAL=1,UI.CHAT_SCROLL_SPEED_SLOW=2,UI.FLOOD_FILTER_STRICT=0,UI.FLOOD_FILTER_NORMAL=1,UI.FLOOD_FILTER_LOOSE=2;let RoomChatSettings=UI;const MD=class MD{constructor(ee){this._allowMute=ee.readInt(),this._allowKick=ee.readInt(),this._allowBan=ee.readInt()}get allowMute(){return this._allowMute}get allowKick(){return this._allowKick}get allowBan(){return this._allowBan}};MD.MODERATION_LEVEL_NONE=0,MD.MODERATION_LEVEL_USER_WITH_RIGHTS=1,MD.MODERATION_LEVEL_ALL=2;let RoomModerationSettings=MD;const bT=class bT{constructor(){this._roomId=-1,this._name=null,this._description=null,this._doorMode=bT.DOORMODE_OPEN,this._categoryId=-1,this._maximumVisitors=0,this._maximumVisitorsLimit=0,this._tags=[],this._tradeMode=bT.TRADEMODE_NOT_ALLOWED,this._allowPets=!1,this._allowFoodConsume=!1,this._allowWalkThrough=!1,this._hideWalls=!1,this._wallThickness=0,this._floorThickness=0,this._controllersById=new Map,this._controllerList=null,this._highlightedUserId=-1,this._bannedUsersById=new Map,this._bannedUsersList=null,this._roomModerationSettings=null,this._chatSettings=null,this._allowNavigatorDynamicCats=!1}static from(ee){const te=new bT;return te._roomId=ee._roomId,te._name=ee._name,te._description=ee._description,te._doorMode=ee._doorMode,te._categoryId=ee._categoryId,te._maximumVisitors=ee._maximumVisitors,te._maximumVisitorsLimit=ee._maximumVisitorsLimit,te._tags=ee._tags,te._tradeMode=ee._tradeMode,te._allowPets=ee._allowPets,te._allowFoodConsume=ee._allowFoodConsume,te._allowWalkThrough=ee._allowWalkThrough,te._hideWalls=ee._hideWalls,te._wallThickness=ee._wallThickness,te._floorThickness=ee._floorThickness,te._controllersById=ee._controllersById,te._controllerList=ee._controllerList,te._highlightedUserId=ee._highlightedUserId,te._bannedUsersById=ee._bannedUsersById,te._bannedUsersList=ee._bannedUsersList,te._roomModerationSettings=ee._roomModerationSettings,te._chatSettings=ee._chatSettings,te._allowNavigatorDynamicCats=ee._allowNavigatorDynamicCats,te}static getDoorModeLocalizationKey(ee){switch(ee){case bT.DOORMODE_OPEN:return"${navigator.door.mode.open}";case bT.DOORMODE_CLOSED:return"${navigator.door.mode.closed}";case bT.DOORMODE_PASSWORD:return"${navigator.door.mode.password}";case bT.DOORMODE_INVISIBLE:return"${navigator.door.mode.invisible}";case bT.DOORMODE_NOOBS_ONLY:return"${navigator.door.mode.noobs_only}"}return""}get tradeMode(){return this._tradeMode}set tradeMode(ee){this._tradeMode=ee}get allowPets(){return this._allowPets}set allowPets(ee){this._allowPets=ee}get allowFoodConsume(){return this._allowFoodConsume}set allowFoodConsume(ee){this._allowFoodConsume=ee}get allowWalkThrough(){return this._allowWalkThrough}set allowWalkThrough(ee){this._allowWalkThrough=ee}get hideWalls(){return this._hideWalls}set hideWalls(ee){this._hideWalls=ee}get wallThickness(){return this._wallThickness}set wallThickness(ee){this._wallThickness=ee}get floorThickness(){return this._floorThickness}set floorThickness(ee){this._floorThickness=ee}get roomId(){return this._roomId}set roomId(ee){this._roomId=ee}get name(){return this._name}set name(ee){this._name=ee}get description(){return this._description}set description(ee){this._description=ee}get doorMode(){return this._doorMode}set doorMode(ee){this._doorMode=ee}get categoryId(){return this._categoryId}set categoryId(ee){this._categoryId=ee}get maximumVisitors(){return this._maximumVisitors}set maximumVisitors(ee){this._maximumVisitors=ee}get maximumVisitorsLimit(){return this._maximumVisitorsLimit}set maximumVisitorsLimit(ee){this._maximumVisitorsLimit=ee}get tags(){return this._tags}set tags(ee){this._tags=ee}setFlatController(ee,te){this._controllersById.set(ee,te),this._controllerList=null,this._highlightedUserId=ee}get roomModerationSettings(){return this._roomModerationSettings}set roomModerationSettings(ee){this._roomModerationSettings=ee}get controllersById(){return this._controllersById}set controllersById(ee){this._controllersById=ee}get controllerList(){if(!this._controllerList){this._controllerList=[];for(const ee of this._controllersById.values())this._controllerList.push(ee);this._controllerList.sort((ee,te)=>ee.userName.localeCompare(te.userName))}return this._controllerList}get highlightedUserId(){return this._highlightedUserId}setBannedUser(ee,te){this._bannedUsersById.set(ee,te),this._bannedUsersList=null}get bannedUsersById(){return this._bannedUsersById}get bannedUsersList(){if(!this._bannedUsersList){this._bannedUsersList=[];for(const ee of this._bannedUsersById.values())this._bannedUsersList.push(ee);this._bannedUsersList.sort((ee,te)=>ee.userName.localeCompare(te.userName))}return this._bannedUsersList}get chatSettings(){return this._chatSettings}set chatSettings(ee){this._chatSettings=ee}get allowNavigatorDynamicCats(){return this._allowNavigatorDynamicCats}set allowNavigatorDynamicCats(ee){this._allowNavigatorDynamicCats=ee}};bT.DOORMODE_OPEN=0,bT.DOORMODE_CLOSED=1,bT.DOORMODE_PASSWORD=2,bT.DOORMODE_INVISIBLE=3,bT.DOORMODE_NOOBS_ONLY=4,bT.TRADEMODE_NOT_ALLOWED=0,bT.TRADEMODE_WITH_CONTROLLER=1,bT.TRADEMODE_ALLOWED=2;let RoomSettingsData=bT;class RoomSettingsDataParser{flush(){return this._roomSettingsData=null,!0}parse(ee){if(!ee)return!1;this._roomSettingsData=new RoomSettingsData,this._roomSettingsData.roomId=ee.readInt(),this._roomSettingsData.name=ee.readString(),this._roomSettingsData.description=ee.readString(),this._roomSettingsData.doorMode=ee.readInt(),this._roomSettingsData.categoryId=ee.readInt(),this._roomSettingsData.maximumVisitors=ee.readInt(),this._roomSettingsData.maximumVisitorsLimit=ee.readInt(),this._roomSettingsData.tags=[];let te=ee.readInt();for(;te>0;)this._roomSettingsData.tags.push(ee.readString()),te--;return this._roomSettingsData.tradeMode=ee.readInt(),this._roomSettingsData.allowPets=ee.readInt()===1,this._roomSettingsData.allowFoodConsume=ee.readInt()===1,this._roomSettingsData.allowWalkThrough=ee.readInt()===1,this._roomSettingsData.hideWalls=ee.readInt()===1,this._roomSettingsData.wallThickness=ee.readInt(),this._roomSettingsData.floorThickness=ee.readInt(),this._roomSettingsData.chatSettings=new RoomChatSettings(ee),this._roomSettingsData.allowNavigatorDynamicCats=ee.readBoolean(),this._roomSettingsData.roomModerationSettings=new RoomModerationSettings(ee),!0}get data(){return this._roomSettingsData}}class RoomSettingsErrorParser{flush(){return this._roomId=0,this._code=0,!0}parse(ee){return ee?(this._roomId=ee.readInt(),this._code=ee.readInt(),!0):!1}get roomId(){return this._roomId}get code(){return this._code}}class RoomSettingsSavedParser{flush(){return this._roomId=0,!0}parse(ee){return ee?(this._roomId=ee.readInt(),!0):!1}get roomId(){return this._roomId}}const qT=class qT{flush(){return this._roomId=0,this._code=0,this._message=null,!0}parse(ee){return ee?(this._roomId=ee.readInt(),this._code=ee.readInt(),this._message=ee.readString(),!0):!1}get roomId(){return this._roomId}get code(){return this._code}get message(){return this._message}};qT.ERROR_ROOM_NOT_FOUND=1,qT.ERROR_NOT_OWNER=2,qT.ERROR_INVALID_DOOR_MODE=3,qT.ERROR_INVALID_USER_LIMIT=4,qT.ERROR_INVALID_PASSWORD=5,qT.ERROR_INVALID_CATEGORY=6,qT.ERROR_INVALID_NAME=7,qT.ERROR_UNACCEPTABLE_NAME=8,qT.ERROR_INVALID_DESCRIPTION=9,qT.ERROR_UNACCEPTABLE_DESCRIPTION=10,qT.ERROR_INVALID_TAG=11,qT.ERROR_NON_USER_CHOOSABLE_TAG=12,qT.ERROR_TOO_MANY_CHARACTERS_IN_TAG=13;let RoomSettingsSaveErrorParser=qT;class ShowEnforceRoomCategoryDialogParser{flush(){return this._selectionType=0,!0}parse(ee){return ee?(this._selectionType=ee.readInt(),!0):!1}get selectionType(){return this._selectionType}}class UserUnbannedFromRoomParser{flush(){return this._roomId=0,this._userId=0,!0}parse(ee){return ee?(this._roomId=ee.readInt(),this._userId=ee.readInt(),!0):!1}get roomId(){return this._roomId}get userId(){return this._userId}}class RoomChatSettingsParser{flush(){return this._chat=null,!0}parse(ee){return ee?(this._chat=new RoomChatSettings(ee),!0):!1}get chat(){return this._chat}}const ET=class ET{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._roomId=0,this._roomName=null,this._ownerId=0,this._ownerName=null,this._doorMode=0,this._userCount=0,this._maxUserCount=0,this._description=null,this._tradeMode=2,this._score=0,this._ranking=0,this._categoryId=0,this._totalStars=0,this._groupId=0,this._groupName=null,this._groupBadge=null,this._tags=[],this._bitMask=0,this._thumbnail=null,this._allowPets=!1,this._showOwner=!0,this._displayAd=!1,this._adName=null,this._adDescription=null,this._adExpiresIn=0,this._allInRoomMuted=!1,this._canMute=!1,this._officialRoomPicRef=null,!0}parse(ee){return ee?(this._roomId=ee.readInt(),this._roomName=ee.readString(),this._ownerId=ee.readInt(),this._ownerName=ee.readString(),this._doorMode=ee.readInt(),this._userCount=ee.readInt(),this._maxUserCount=ee.readInt(),this._description=ee.readString(),this._tradeMode=ee.readInt(),this._score=ee.readInt(),this._ranking=ee.readInt(),this._categoryId=ee.readInt(),this.parseTags(ee),this.parseBitMask(ee),!0):!1}parseTags(ee){if(!ee)return!1;this._tags=[];let te=ee.readInt();for(;te>0;)this._tags.push(ee.readString()),te--;return!0}parseBitMask(ee){return ee?(this._bitMask=ee.readInt(),this._bitMask&ET.THUMBNAIL_BITMASK&&(this._officialRoomPicRef=ee.readString()),this._bitMask&ET.GROUPDATA_BITMASK&&(this._groupId=ee.readInt(),this._groupName=ee.readString(),this._groupBadge=ee.readString()),this._bitMask&ET.ROOMAD_BITMASK&&(this._adName=ee.readString(),this._adDescription=ee.readString(),this._adExpiresIn=ee.readInt()),this._showOwner=(this._bitMask&ET.SHOWOWNER_BITMASK)>0,this._allowPets=(this._bitMask&ET.ALLOW_PETS_BITMASK)>0,this._displayAd=(this._bitMask&ET.DISPLAY_ROOMAD_BITMASK)>0,this._thumbnail=null,!0):!1}get roomId(){return this._roomId}get roomName(){return this._roomName}set roomName(ee){this._roomName=ee}get ownerId(){return this._ownerId}get ownerName(){return this._ownerName}get doorMode(){return this._doorMode}get userCount(){return this._userCount}get maxUserCount(){return this._maxUserCount}get description(){return this._description}get tradeMode(){return this._tradeMode}get score(){return this._score}get ranking(){return this._ranking}get categoryId(){return this._categoryId}get tags(){return this._tags}get officialRoomPicRef(){return this._officialRoomPicRef}get habboGroupId(){return this._groupId}get groupName(){return this._groupName}get groupBadgeCode(){return this._groupBadge}get roomAdName(){return this._adName}get roomAdDescription(){return this._adDescription}get roomAdExpiresInMin(){return this._adExpiresIn}get showOwner(){return this._showOwner}get allowPets(){return this._allowPets}get displayRoomEntryAd(){return this._displayAd}get canMute(){return this._canMute}set canMute(ee){this._canMute=ee}get allInRoomMuted(){return this._allInRoomMuted}set allInRoomMuted(ee){this._allInRoomMuted=ee}};ET.THUMBNAIL_BITMASK=1,ET.GROUPDATA_BITMASK=2,ET.ROOMAD_BITMASK=4,ET.SHOWOWNER_BITMASK=8,ET.ALLOW_PETS_BITMASK=16,ET.DISPLAY_ROOMAD_BITMASK=32,ET.OPEN_STATE=0,ET.DOORBELL_STATE=1,ET.PASSWORD_STATE=2,ET.INVISIBLE_STATE=3,ET.NOOB_STATE=4;let RoomDataParser=ET;class RoomEntryInfoMessageParser{flush(){return this._roomId=0,this._isOwner=!1,!0}parse(ee){return ee?(this._roomId=ee.readInt(),this._isOwner=ee.readBoolean(),!0):!1}get roomId(){return this._roomId}get isOwner(){return this._isOwner}}class RoomScoreParser{flush(){return this._totalLikes=0,this._canLike=!1,!0}parse(ee){return ee?(this._totalLikes=ee.readInt(),this._canLike=ee.readBoolean(),!0):!1}get totalLikes(){return this._totalLikes}get canLike(){return this._canLike}}class FavoriteMembershipUpdateMessageParser{flush(){return this._roomIndex=-1,this._groupId=-1,this._status=0,this._groupName=null,!0}parse(ee){return ee?(this._roomIndex=ee.readInt(),this._groupId=ee.readInt(),this._status=ee.readInt(),this._groupName=ee.readString(),!0):!1}get roomIndex(){return this._roomIndex}get groupId(){return this._groupId}get status(){return this._status}get groupName(){return this._groupName}}class ObjectData{constructor(ee,te,se){this._id=0,this._state=0,this._id=ee,this._state=te,this._data=se}get id(){return this._id}get state(){return this._state}get data(){return this._data}}class CustomUserNotificationMessageParser{flush(){return this._code=0,!0}parse(ee){return ee?(this._code=ee.readInt(),!0):!1}get count(){return this._code}}class DiceValueMessageParser{flush(){return this._itemId=0,this._value=0,!0}parse(ee){return ee?(this._itemId=ee.readInt(),this._value=ee.readInt(),!0):!1}get itemId(){return this._itemId}get value(){return this._value}}class FurnitureDataParser{flush(){return this._itemId=0,this._data=null,!0}parse(ee){return ee?(this._itemId=parseInt(ee.readString()),this._data=FurnitureDataParser.parseObjectData(ee),!0):!1}static parseObjectData(ee){if(!ee)return null;const te=ObjectDataFactory.getData(ee.readInt());return te?(te.parseWrapper(ee),te):null}get furnitureId(){return this._itemId}get objectData(){return this._data}}class FurnitureFloorDataParser{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._itemId=0,this._spriteId=0,this._spriteName=null,this._x=0,this._y=0,this._direction=0,this._z=0,this._stackHeight=0,this._extra=0,this._data=null,this._state=0,this._expires=0,this._usagePolicy=0,this._userId=0,this._username=null,!0}parse(ee){return ee?(this._itemId=ee.readInt(),this._spriteId=ee.readInt(),this._x=ee.readInt(),this._y=ee.readInt(),this._direction=ee.readInt()%8*45,this._z=parseFloat(ee.readString()),this._stackHeight=parseFloat(ee.readString()),this._extra=ee.readInt(),this._data=FurnitureDataParser.parseObjectData(ee),this._state=parseFloat(this._data&&this._data.getLegacyString())||0,this._expires=ee.readInt(),this._usagePolicy=ee.readInt(),this._userId=ee.readInt(),this._username=null,this._spriteId<0&&(this._spriteName=ee.readString(),console.debug({spriteName:this._spriteName})),!0):!1}get itemId(){return this._itemId}get spriteId(){return this._spriteId}get x(){return this._x}get y(){return this._y}get direction(){return this._direction}get z(){return isNaN(this._z)?0:this._z}get stackHeight(){return isNaN(this._stackHeight)?0:this._stackHeight}get extra(){return this._extra}get data(){return this._data}get state(){return this._state}get expires(){return this._expires}get usagePolicy(){return this._usagePolicy}get userId(){return this._userId}get username(){return this._username}set username(ee){this._username=ee}get spriteName(){return this._spriteName}set spriteName(ee){this._spriteName=ee}}class FurnitureFloorAddParser{flush(){return this._item=null,!0}parse(ee){return ee?(this._item=new FurnitureFloorDataParser(ee),this._item.username=ee.readString(),!0):!1}get item(){return this._item}}class FurnitureFloorParser{flush(){return this._owners=new Map,this._items=[],!0}parse(ee){if(!ee||!this.parseOwners(ee))return!1;let te=ee.readInt();for(;te>0;){const se=new FurnitureFloorDataParser(ee);if(!se)continue;const ne=this._owners.get(se.userId);ne&&(se.username=ne),this._items.push(se),te--}return!0}parseOwners(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._owners.set(ee.readInt(),ee.readString()),te--;return!0}get owners(){return this._owners}get items(){return this._items}}class FurnitureFloorRemoveParser{flush(){return this._itemId=0,this._isExpired=!0,this._userId=0,this._delay=0,!0}parse(ee){return ee?(this._itemId=parseInt(ee.readString()),this._isExpired=ee.readBoolean(),this._userId=ee.readInt(),this._delay=ee.readInt(),!0):!1}get itemId(){return this._itemId}get isExpired(){return this._isExpired}get userId(){return this._userId}get delay(){return this._delay}}class FurnitureFloorUpdateParser{flush(){return this._item=null,!0}parse(ee){return ee?(this._item=new FurnitureFloorDataParser(ee),!0):!1}get item(){return this._item}}class FurniRentOrBuyoutOfferMessageParser{flush(){return this._isWallItem=!1,this._furniTypeName=null,this._buyout=!1,this._priceInCredits=-1,this._priceInActivityPoints=-1,this._activityPointType=-1,!0}parse(ee){return ee?(this._isWallItem=ee.readBoolean(),this._furniTypeName=ee.readString(),this._buyout=ee.readBoolean(),this._priceInCredits=ee.readInt(),this._priceInActivityPoints=ee.readInt(),this._activityPointType=ee.readInt(),!0):!1}get isWallItem(){return this._isWallItem}get furniTypeName(){return this._furniTypeName}get buyout(){return this._buyout}get priceInCredits(){return this._priceInCredits}get priceInActivityPoints(){return this._priceInActivityPoints}get activityPointType(){return this._activityPointType}}class FurnitureAliasesParser{flush(){return this._aliases=new Map,!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._aliases.set(ee.readString(),ee.readString()),te--;return!0}get aliases(){return this._aliases}}class FurnitureStackHeightParser{flush(){return this._furniId=-1,this._height=0,!0}parse(ee){return ee?(this._furniId=ee.readInt(),this._height=ee.readInt()/100,!0):!1}get furniId(){return this._furniId}get height(){return this._height}}class GroupFurniContextMenuInfoMessageParser{flush(){return this._objectId=0,this._guildId=0,this._guildName=null,this._guildHomeRoomId=0,this._userIsMember=!1,this._guildHasReadableForum=!1,!0}parse(ee){return ee?(this._objectId=ee.readInt(),this._guildId=ee.readInt(),this._guildName=ee.readString(),this._guildHomeRoomId=ee.readInt(),this._userIsMember=ee.readBoolean(),this._guildHasReadableForum=ee.readBoolean(),!0):!1}get objectId(){return this._objectId}get guildId(){return this._guildId}get guildName(){return this._guildName}get guildHomeRoomId(){return this._guildHomeRoomId}get userIsMember(){return this._userIsMember}get guildHasReadableForum(){return this._guildHasReadableForum}}class ItemDataUpdateMessageParser{flush(){return this._itemId=0,this._data="",!0}parse(ee){return ee?(this._itemId=parseInt(ee.readString()),this._data=ee.readString(),!0):!1}get furnitureId(){return this._itemId}get data(){return this._data}}class LoveLockFurniFinishedParser{get furniId(){return this._furniId}flush(){return this._furniId=-1,!0}parse(ee){return this._furniId=ee.readInt(),!0}}class LoveLockFurniFriendConfirmedParser{get furniId(){return this._furniId}flush(){return this._furniId=-1,!0}parse(ee){return this._furniId=ee.readInt(),!0}}class LoveLockFurniStartParser{get furniId(){return this._furniId}get start(){return this._start}flush(){return this._furniId=-1,this._start=!1,!0}parse(ee){return this._furniId=ee.readInt(),this._start=ee.readBoolean(),!0}}class OneWayDoorStatusMessageParser{flush(){return this._itemId=0,this._state=0,!0}parse(ee){return ee?(this._itemId=ee.readInt(),this._state=ee.readInt(),!0):!1}get itemId(){return this._itemId}get state(){return this._state}}class RentableSpaceRentFailedMessageParser{flush(){return!0}parse(ee){return ee?(this._reason=ee.readInt(),!0):!1}get reason(){return this._reason}}class RentableSpaceRentOkMessageParser{flush(){return!0}parse(ee){return ee?(this._expiryTime=ee.readInt(),!0):!1}get expiryTime(){return this._expiryTime}}class RentableSpaceStatusMessageParser{flush(){return this._rented=!1,this._renterId=-1,this._renterName=null,this._canRent=!1,this._canRentErrorCode=-1,this._timeRemaining=-1,this._price=-1,!0}parse(ee){return ee?(this._rented=ee.readBoolean(),this._canRentErrorCode=ee.readInt(),this._canRent=this._canRentErrorCode===0,this._renterId=ee.readInt(),this._renterName=ee.readString(),this._timeRemaining=ee.readInt(),this._price=ee.readInt(),this._rented||(this._renterId=-1,this._renterName=""),!0):!1}get rented(){return this._rented}get renterId(){return this._renterId}get renterName(){return this._renterName}get canRent(){return this._canRent}get price(){return this._price}get timeRemaining(){return this._timeRemaining}get canRentErrorCode(){return this._canRentErrorCode}}class RequestSpamWallPostItMessageParser{flush(){return this._itemId=-1,this._location="",!0}parse(ee){return ee?(this._itemId=ee.readInt(),this._location=ee.readString(),!0):!1}get itemId(){return this._itemId}get location(){return this._location}}class RoomDimmerPresetsMessageData{constructor(ee,te,se,ne){this.id=ee,this.type=te,this.color=se,this.brightness=ne}}class RoomDimmerPresetsMessageParser{constructor(){this._selectedPresetId=0,this._presets=[]}flush(){return this._presets=[],!0}parse(ee){const te=ee.readInt();this._selectedPresetId=ee.readInt();for(let se=0;se<te;se++){const ne=ee.readInt(),le=ee.readInt(),ue=parseInt(ee.readString().substr(1),16),ce=ee.readInt();this._presets.push(new RoomDimmerPresetsMessageData(ne,le,ue,ce))}return!0}getPreset(ee){return ee<0||ee>=this.presetCount?null:this._presets[ee]}get presetCount(){return this._presets.length}get selectedPresetId(){return this._selectedPresetId}}class RoomMessageNotificationMessageParser{flush(){return this._roomId=-1,this._roomName=null,this._messageCount=-1,!0}parse(ee){return ee?(this._roomId=ee.readInt(),this._roomName=ee.readString(),this._messageCount=ee.readInt(),!0):!1}get roomId(){return this._roomId}get roomName(){return this._roomName}get messageCount(){return this._messageCount}}class FurnitureWallDataParser{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._itemId=0,this._spriteId=0,this._location=null,this._stuffData=null,this._state=0,this._secondsToExpiration=0,this._usagePolicy=-1,this._userId=0,this._username=null,this._width=0,this._height=0,this._localX=0,this._localY=0,this._y=0,this._z=0,this._direction=null,this._isOldFormat=!1,!0}parse(ee){if(!ee)return!1;this._itemId=parseInt(ee.readString()),this._spriteId=ee.readInt(),this._location=ee.readString(),this._stuffData=ee.readString(),this._secondsToExpiration=ee.readInt(),this._usagePolicy=ee.readInt(),this._userId=ee.readInt(),this._username=null;const te=parseFloat(this._stuffData);if(isNaN(te)||(this._state=Math.trunc(te)),this._location.indexOf(":")===0){this._isOldFormat=!1;let se=this._location.split(" ");if(se.length>=3){let ne=se[0],le=se[1];const ue=se[2];if(ne.length>3&&le.length>2&&(ne=ne.substr(3),le=le.substr(2),se=ne.split(","),se.length>=2)){const ce=parseInt(se[0]),he=parseInt(se[1]);if(se=le.split(","),se.length>=2){const de=parseInt(se[0]),_e=parseInt(se[1]);this._width=ce,this._height=he,this._localX=de,this._localY=_e,this._direction=ue}}}}else this._isOldFormat=!0;return!0}get itemId(){return this._itemId}get spriteId(){return this._spriteId}get wallPosition(){return this._location}get stuffData(){return this._stuffData}get state(){return this._state}get secondsToExpiration(){return this._secondsToExpiration}get usagePolicy(){return this._usagePolicy}get userId(){return this._userId}get username(){return this._username}set username(ee){this._username=ee}get width(){return this._width}get height(){return this._height}get localX(){return this._localX}get localY(){return this._localY}get direction(){return this._direction}get isOldFormat(){return this._isOldFormat}}class FurnitureWallAddParser{flush(){return this._item=null,!0}parse(ee){return ee?(this._item=new FurnitureWallDataParser(ee),this._item.username=ee.readString(),!0):!1}get item(){return this._item}}class FurnitureWallParser{flush(){return this._owners=new Map,this._items=[],!0}parse(ee){if(!ee||!this.parseOwners(ee))return!1;let te=ee.readInt();for(;te>0;){const se=new FurnitureWallDataParser(ee);if(!se)continue;const ne=this._owners.get(se.userId);ne&&(se.username=ne),this._items.push(se),te--}return!0}parseOwners(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._owners.set(ee.readInt(),ee.readString()),te--;return!0}get owners(){return this._owners}get items(){return this._items}}class FurnitureWallRemoveParser{flush(){return this._itemId=0,this._userId=0,!0}parse(ee){return ee?(this._itemId=parseInt(ee.readString()),this._userId=ee.readInt(),!0):!1}get itemId(){return this._itemId}get userId(){return this._userId}}class FurnitureWallUpdateParser{flush(){return this._item=null,!0}parse(ee){return ee?(this._item=new FurnitureWallDataParser(ee),!0):!1}get item(){return this._item}}class WelcomeGiftStatusParser{flush(){return this._email=null,this._isVerified=!1,this._allowChange=!1,this._furniId=-1,this._requestedByUser=!1,!0}parse(ee){return ee?(this._email=ee.readString(),this._isVerified=ee.readBoolean(),this._allowChange=ee.readBoolean(),this._furniId=ee.readInt(),this._requestedByUser=ee.readBoolean(),!0):!1}get email(){return this._email}get isVerified(){return this._isVerified}get allowChange(){return this._allowChange}get furniId(){return this._furniId}get requestedByUser(){return this._requestedByUser}}class YoutubeControlVideoMessageParser{parse(ee){return this._furniId=ee.readInt(),this._commandId=ee.readInt(),!0}flush(){return this._furniId=-1,this._commandId=-1,!0}get furniId(){return this._furniId}get commandId(){return this._commandId}}let YoutubeDisplayPlaylist$1=class{constructor(ee,te,se){this._video=ee,this._title=te,this._description=se}get video(){return this._video}get title(){return this._title}get description(){return this._description}},YoutubeDisplayPlaylistsMessageParser$1=class{flush(){return this._furniId=-1,this._playlists=null,this._selectedPlaylistId=null,!0}parse(ee){this._furniId=ee.readInt();const te=ee.readInt();this._playlists=[];for(let se=0;se<te;se++)this._playlists.push(new YoutubeDisplayPlaylist$1(ee.readString(),ee.readString(),ee.readString()));return this._selectedPlaylistId=ee.readString(),!0}get furniId(){return this._furniId}get playlists(){return this._playlists}get selectedPlaylistId(){return this._selectedPlaylistId}},YoutubeDisplayVideoMessageParser$1=class{flush(){return!0}parse(ee){return this._furniId=ee.readInt(),this._videoId=ee.readString(),this._startAtSeconds=ee.readInt(),this._endAtSeconds=ee.readInt(),this._state=ee.readInt(),!0}get furniId(){return this._furniId}get videoId(){return this._videoId}get state(){return this._state}get startAtSeconds(){return this._startAtSeconds}get endAtSeconds(){return this._endAtSeconds}};class ObjectsDataUpdateParser{flush(){return this._objects=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;){const se=ee.readInt(),ne=FurnitureDataParser.parseObjectData(ee),le=parseFloat(ne.getLegacyString());this._objects.push(new ObjectData(se,le,ne)),te--}return!0}get objects(){return this._objects}}class ObjectsRollingParser{flush(){return this._rollerId=0,this._itemsRolling=[],this._unitRolling=null,!0}parse(ee){if(!ee)return!1;const te=ee.readInt(),se=ee.readInt(),ne=ee.readInt(),le=ee.readInt();let ue=ee.readInt();for(;ue>0;){const fe=ee.readInt(),ye=parseFloat(ee.readString()),be=parseFloat(ee.readString()),Pe=new ObjectRolling(fe,new Vector3d(te,se,ye),new Vector3d(ne,le,be));this._itemsRolling.push(Pe),ue--}if(this._rollerId=ee.readInt(),!ee.bytesAvailable)return!0;const ce=ee.readInt(),he=ee.readInt(),de=parseFloat(ee.readString()),_e=parseFloat(ee.readString());switch(ce){case 0:break;case 1:this._unitRolling=new ObjectRolling(he,new Vector3d(te,se,de),new Vector3d(ne,le,_e),ObjectRolling.MOVE);break;case 2:this._unitRolling=new ObjectRolling(he,new Vector3d(te,se,de),new Vector3d(ne,le,_e),ObjectRolling.SLIDE);break}return!0}get rollerId(){return this._rollerId}get itemsRolling(){return this._itemsRolling}get unitRolling(){return this._unitRolling}}const PD=class PD{flush(){return this._model=null,this._width=0,this._height=0,this._wallHeight=-1,this._heightMap=[],this._scale=64,this._model=null,!0}parse(ee){if(!ee)return!1;const te=ee.readBoolean(),se=ee.readInt(),ne=ee.readString();return this.parseExplicitly(ne,se,te)}parseModel(ee,te,se=!0){return this.parseExplicitly(ee,te,se)}parseExplicitly(ee,te,se=!0){this._scale=se?32:64,this._wallHeight=te,this._model=ee;const ne=this._model.split("\r"),le=ne.length;let ue=0,ce=0;for(;ce<le;){const he=ne[ce];he.length>ue&&(ue=he.length),ce++}for(this._heightMap=[],ce=0;ce<le;){const he=[];let de=0;for(;de<ue;)he.push(PD.TILE_BLOCKED),de++;this._heightMap.push(he),ce++}for(this._width=ue,this._height=le,ce=0;ce<le;){const he=this._heightMap[ce],de=ne[ce];if(de.length>0){let _e=0;for(;_e<de.length;){const fe=de.charAt(_e);let ye=PD.TILE_BLOCKED;fe!=="x"&&fe!=="X"&&(ye=parseInt(fe,36)),he[_e]=ye,_e++}}ce++}return!0}getHeight(ee,te){if(ee<0||ee>=this._width||te<0||te>=this._height)return-110;const se=this._heightMap[te];if(se===void 0)return-110;const ne=se[ee];return ne===void 0?-110:ne}get model(){return this._model}get width(){return this._width}get height(){return this._height}get heightMap(){return this._heightMap}get wallHeight(){return this._wallHeight}get scale(){return this._scale}};PD.TILE_BLOCKED=-110;let FloorHeightMapMessageParser=PD;class RoomEntryTileMessageParser{flush(){return this._x=0,this._y=0,this._direction=0,!0}parse(ee){return ee?(this._x=ee.readInt(),this._y=ee.readInt(),this._direction=ee.readInt(),!0):!1}get x(){return this._x}get y(){return this._y}get direction(){return this._direction}}class RoomHeightMapParser{static decodeTileHeight(ee){return ee<0?-1:(ee&16383)/256}static decodeIsStackingBlocked(ee){return!!(ee&16384)}static decodeIsRoomTile(ee){return ee>=0}getTileHeight(ee,te){return ee<0||ee>=this._width||te<0||te>=this._height?-1:RoomHeightMapParser.decodeTileHeight(this._heights[te*this._width+ee])}getStackingBlocked(ee,te){return ee<0||ee>=this._width||te<0||te>=this._height?!0:RoomHeightMapParser.decodeIsStackingBlocked(this._heights[te*this._width+ee])}isRoomTile(ee,te){return ee<0||ee>=this._width||te<0||te>=this._height?!1:RoomHeightMapParser.decodeIsRoomTile(this._heights[te*this._width+ee])}flush(){return this._width=0,this._height=0,this._heights=[],!0}parse(ee){if(!ee)return!1;this._width=ee.readInt();const te=ee.readInt();this._height=te/this._width;let se=0;for(;se<te;)this._heights[se]=ee.readShort(),se++;return!0}get width(){return this._width}get height(){return this._height}get heights(){return this._heights}}class RoomHeightMapUpdateParser{flush(){return this._wrapper=null,this._count=0,this._x=0,this._y=0,this._value=0,!0}tileHeight(){return RoomHeightMapParser.decodeTileHeight(this._value)}isStackingBlocked(){return RoomHeightMapParser.decodeIsStackingBlocked(this._value)}isRoomTile(){return RoomHeightMapParser.decodeIsRoomTile(this._value)}next(){return this._count?(this._count--,this._x=this._wrapper.readByte(),this._y=this._wrapper.readByte(),this._value=this._wrapper.readShort(),!0):!1}parse(ee){return ee?(this._wrapper=ee,this._count=ee.readByte(),!0):!1}get x(){return this._x}get y(){return this._y}get height(){return this._value}}class RoomOccupiedTilesMessageParser{flush(){return this._blockedTilesMap=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;){const se=ee.readInt(),ne=ee.readInt();this._blockedTilesMap[ne]||(this._blockedTilesMap[ne]=[]),this._blockedTilesMap[ne][se]=!0,te--}return!0}get blockedTilesMap(){return this._blockedTilesMap}}class RoomPaintParser{flush(){return this._floorType=null,this._wallType=null,this._landscapeType=null,this._landscapeAnimation=null,!0}parse(ee){if(!ee)return!1;const te=ee.readString(),se=ee.readString();switch(te){case"floor":this._floorType=se;break;case"wallpaper":this._wallType=se;break;case"landscape":this._landscapeType=se;break;case"landscapeanim":this._landscapeAnimation=se;break}return!0}get floorType(){return this._floorType}get wallType(){return this._wallType}get landscapeType(){return this._landscapeType}get landscapeAnimation(){return this._landscapeAnimation}}class RoomReadyMessageParser{flush(){return this._name=null,this._roomId=0,!0}parse(ee){return ee?(this._name=ee.readString(),this._roomId=ee.readInt(),!0):!1}get name(){return this._name}get roomId(){return this._roomId}}class RoomVisualizationSettingsParser{flush(){return this._hideWalls=!1,this._thicknessWall=0,this._thicknessFloor=0,!0}parse(ee){if(!ee)return!1;this._hideWalls=ee.readBoolean();let te=ee.readInt(),se=ee.readInt();return te=te<-2?-2:te>1?1:te,se=se<-2?-2:se>1?1:se,this._thicknessWall=Math.pow(2,te),this._thicknessFloor=Math.pow(2,se),!0}get hideWalls(){return this._hideWalls}get thicknessWall(){return this._thicknessWall}get thicknessFloor(){return this._thicknessFloor}}class BreedingPetInfo{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this._webId=ee.readInt(),this._name=ee.readString(),this._level=ee.readInt(),this._figure=ee.readString(),this._owner=ee.readString()}dispose(){this._webId=0,this._name="",this._level=0,this._figure="",this._owner=""}get webId(){return this._webId}get name(){return this._name}get level(){return this._level}get figure(){return this._figure}get owner(){return this._owner}}class PetBreedingResultData{constructor(ee){this._stuffId=ee.readInt(),this._classId=ee.readInt(),this._productCode=ee.readString(),this._userId=ee.readInt(),this._userName=ee.readString(),this._rarityLevel=ee.readInt(),this._hasMutation=ee.readBoolean()}get stuffId(){return this._stuffId}get classId(){return this._classId}get productCode(){return this._productCode}get userId(){return this._userId}get userName(){return this._userName}get rarityLevel(){return this._rarityLevel}get hasMutation(){return this._hasMutation}}class PetBreedingResultParser{flush(){return this._resultData=null,this._otherResultData=null,!0}parse(ee){return ee?(this._resultData=new PetBreedingResultData(ee),this._otherResultData=new PetBreedingResultData(ee),!0):!1}get resultData(){return this._resultData}get otherResultData(){return this._otherResultData}}class PetExperienceParser{flush(){return this._petId=-1,this._roomIndex=-1,this._gainedExperience=0,!0}parse(ee){return ee?(this._petId=ee.readInt(),this._roomIndex=ee.readInt(),this._gainedExperience=ee.readInt(),!0):!1}get petId(){return this._petId}get roomIndex(){return this._roomIndex}get gainedExperience(){return this._gainedExperience}}class PetFigureUpdateParser{flush(){return!0}parse(ee){return ee?(this._roomIndex=ee.readInt(),this._petId=ee.readInt(),this._figureData=new PetFigureDataParser(ee),this._hasSaddle=ee.readBoolean(),this._isRiding=ee.readBoolean(),!0):!1}get roomIndex(){return this._roomIndex}get petId(){return this._petId}get figureData(){return this._figureData}get hasSaddle(){return this._hasSaddle}get isRiding(){return this._isRiding}}class PetInfoParser{flush(){return this._id=-1,this._skillThresholds=[],!0}parse(ee){if(!ee)return!1;this._id=ee.readInt(),this._name=ee.readString(),this._level=ee.readInt(),this._maximumLevel=ee.readInt(),this._experience=ee.readInt(),this._levelExperienceGoal=ee.readInt(),this._energy=ee.readInt(),this._maximumEnergy=ee.readInt(),this._happyness=ee.readInt(),this._maximumHappyness=ee.readInt(),this._respect=ee.readInt(),this._ownerId=ee.readInt(),this._age=ee.readInt(),this._ownerName=ee.readString(),this._rarityLevel=ee.readInt(),this._saddle=ee.readBoolean(),this._rider=ee.readBoolean();let te=ee.readInt();for(;te>0;)this._skillThresholds.push(ee.readInt()),te--;return this._skillThresholds.sort(),this._publiclyRideable=ee.readInt(),this._breedable=ee.readBoolean(),this._fullyGrown=ee.readBoolean(),this._dead=ee.readBoolean(),this._unknownRarity=ee.readInt(),this._maximumTimeToLive=ee.readInt(),this._remainingTimeToLive=ee.readInt(),this._remainingGrowTime=ee.readInt(),this._publiclyBreedable=ee.readBoolean(),!0}get id(){return this._id}get name(){return this._name}get level(){return this._level}get maximumLevel(){return this._maximumLevel}get experience(){return this._experience}get energy(){return this._energy}get happyness(){return this._happyness}get levelExperienceGoal(){return this._levelExperienceGoal}get maximumEnergy(){return this._maximumEnergy}get maximumHappyness(){return this._maximumHappyness}get respect(){return this._respect}get ownerId(){return this._ownerId}get ownerName(){return this._ownerName}get age(){return this._age}get rarityLevel(){return this._rarityLevel}get saddle(){return this._saddle}get rider(){return this._rider}get breedable(){return this._breedable}get fullyGrown(){return this._fullyGrown}get dead(){return this._dead}get maximumTimeToLive(){return this._maximumTimeToLive}get remainingTimeToLive(){return this._remainingTimeToLive}get remainingGrowTime(){return this._remainingGrowTime}get skillTresholds(){return this._skillThresholds}get publiclyRideable(){return this._publiclyRideable}get unknownRarity(){return this._unknownRarity}get publiclyBreedable(){return this._publiclyBreedable}}class PetStatusUpdateParser{flush(){return this._roomIndex=-1,this._petId=-1,this._canBreed=!1,this._canHarvest=!1,this._canRevive=!1,this._hasBreedingPermission=!1,!0}parse(ee){return ee?(this._roomIndex=ee.readInt(),this._petId=ee.readInt(),this._canBreed=ee.readBoolean(),this._canHarvest=ee.readBoolean(),this._canRevive=ee.readBoolean(),this._hasBreedingPermission=ee.readBoolean(),!0):!1}get roomIndex(){return this._roomIndex}get petId(){return this._petId}get canBreed(){return this._canBreed}get canHarvest(){return this._canHarvest}get canRevive(){return this._canRevive}get hasBreedingPermission(){return this._hasBreedingPermission}}class RarityCategoryData{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this._chance=ee.readInt(),this._breeds=[];let te=ee.readInt();for(;te>0;)this._breeds.push(ee.readInt()),te--}dispose(){this._chance=-1,this._breeds=[]}get chance(){return this._chance}get breeds(){return this._breeds}}class YouArePlayingGameParser{flush(){return this._isPlaying=!1,!0}parse(ee){return ee?(this._isPlaying=ee.readBoolean(),!0):!1}get isPlaying(){return this._isPlaying}}class YouAreSpectatorMessageParser{flush(){return!0}parse(ee){return!0}}class FloodControlParser{flush(){return this._seconds=0,!0}parse(ee){return ee?(this._seconds=ee.readInt(),!0):!1}get seconds(){return this._seconds}}class RemainingMuteParser{flush(){return this._seconds=0,!0}parse(ee){return ee?(this._seconds=ee.readInt(),!0):!1}get seconds(){return this._seconds}}class RoomUnitChatParser{flush(){return this._roomIndex=null,this._message=null,this._gesture=0,this._bubble=0,this._urls=[],this._messageLength=0,!0}parse(ee){return ee?(this._roomIndex=ee.readInt(),this._message=ee.readString(),this._gesture=ee.readInt(),this._bubble=ee.readInt(),this.parseUrls(ee),this._messageLength=ee.readInt(),!0):!1}parseUrls(ee){if(!ee)return!1;this._urls=[];let te=ee.readInt();for(;te>0;)this._urls.push(ee.readString()),te--;return!0}get roomIndex(){return this._roomIndex}get message(){return this._message}get gesture(){return this._gesture}get bubble(){return this._bubble}get urls(){return this._urls}get messageLength(){return this._messageLength}}class RoomUnitTypingParser{flush(){return this._unitId=null,this._isTyping=!1,!0}parse(ee){return ee?(this._unitId=ee.readInt(),this._isTyping=ee.readInt()===1,!0):!1}get unitId(){return this._unitId}get isTyping(){return this._isTyping}}class RoomUnitDanceParser{flush(){return this._unitId=null,this._danceId=0,!0}parse(ee){return ee?(this._unitId=ee.readInt(),this._danceId=ee.readInt(),!0):!1}get unitId(){return this._unitId}get danceId(){return this._danceId}}class RoomUnitEffectParser{flush(){return this._unitId=null,this._effectId=0,this._delay=0,!0}parse(ee){return ee?(this._unitId=ee.readInt(),this._effectId=ee.readInt(),this._delay=ee.readInt(),!0):!1}get unitId(){return this._unitId}get effectId(){return this._effectId}get delay(){return this._delay}}class RoomUnitExpressionParser{flush(){return this._unitId=null,this._expression=0,!0}parse(ee){return ee?(this._unitId=ee.readInt(),this._expression=ee.readInt(),!0):!1}get unitId(){return this._unitId}get expression(){return this._expression}}class RoomUnitHandItemParser{flush(){return this._unitId=null,this._handId=0,!0}parse(ee){return ee?(this._unitId=ee.readInt(),this._handId=ee.readInt(),!0):!1}get unitId(){return this._unitId}get handId(){return this._handId}}class RoomUnitHandItemReceivedParser{flush(){return this._giverUserId=-1,this._handItemType=-1,!0}parse(ee){return ee?(this._giverUserId=ee.readInt(),this._handItemType=ee.readInt(),!0):!1}get giverUserId(){return this._giverUserId}get handItemType(){return this._handItemType}}class RoomUnitIdleParser{flush(){return this._unitId=null,this._isIdle=!1,!0}parse(ee){return ee?(this._unitId=ee.readInt(),this._isIdle=ee.readBoolean(),!0):!1}get unitId(){return this._unitId}get isIdle(){return this._isIdle}}class RoomUnitInfoParser{flush(){return this._unitId=null,this._figure=null,this._gender="M",this._motto=null,this._achievementScore=0,!0}parse(ee){return ee?(this._unitId=ee.readInt(),this._figure=ee.readString(),this._gender=ee.readString().toLocaleUpperCase(),this._motto=ee.readString(),this._achievementScore=ee.readInt(),!0):!1}get unitId(){return this._unitId}get figure(){return this._figure}get gender(){return this._gender}get motto(){return this._motto}get achievementScore(){return this._achievementScore}}class RoomUnitNumberParser{flush(){return this._unitId=null,this._value=0,!0}parse(ee){return ee?(this._unitId=ee.readInt(),this._value=ee.readInt(),!0):!1}get unitId(){return this._unitId}get value(){return this._value}}const U2=class U2{constructor(ee){this._roomIndex=0,this._x=0,this._y=0,this._z=0,this._dir=0,this._name="",this._userType=0,this._sex="",this._figure="",this._custom="",this._activityPoints=0,this._webID=0,this._groupID=0,this._groupStatus=0,this._groupName="",this._subType="",this._ownerId=0,this._ownerName="",this._rarityLevel=0,this._hasSaddle=!1,this._isRiding=!1,this._canBreed=!1,this._canHarvest=!1,this._canRevive=!1,this._hasBreedingPermission=!1,this._petLevel=0,this._petPosture="",this._botSkills=[],this._isModerator=!1,this._isReadOnly=!1,this._roomIndex=ee}setReadOnly(){this._isReadOnly=!0}get roomIndex(){return this._roomIndex}get x(){return this._x}set x(ee){this._isReadOnly||(this._x=ee)}get y(){return this._y}set y(ee){this._isReadOnly||(this._y=ee)}get z(){return this._z}set z(ee){this._isReadOnly||(this._z=ee)}get dir(){return this._dir}set dir(ee){this._isReadOnly||(this._dir=ee)}get name(){return this._name}set name(ee){this._isReadOnly||(this._name=ee)}get userType(){return this._userType}set userType(ee){this._isReadOnly||(this._userType=ee)}get sex(){return this._sex}set sex(ee){this._isReadOnly||(this._sex=ee)}get figure(){return this._figure}set figure(ee){this._isReadOnly||(this._figure=ee)}get custom(){return this._custom}set custom(ee){this._isReadOnly||(this._custom=ee)}get activityPoints(){return this._activityPoints}set activityPoints(ee){this._isReadOnly||(this._activityPoints=ee)}get webID(){return this._webID}set webID(ee){this._isReadOnly||(this._webID=ee)}get groupID(){return this._groupID}set groupID(ee){this._isReadOnly||(this._groupID=ee)}get groupName(){return this._groupName}set groupName(ee){this._isReadOnly||(this._groupName=ee)}get groupStatus(){return this._groupStatus}set groupStatus(ee){this._isReadOnly||(this._groupStatus=ee)}get subType(){return this._subType}set subType(ee){this._isReadOnly||(this._subType=ee)}get ownerId(){return this._ownerId}set ownerId(ee){this._isReadOnly||(this._ownerId=ee)}get ownerName(){return this._ownerName}set ownerName(ee){this._isReadOnly||(this._ownerName=ee)}get rarityLevel(){return this._rarityLevel}set rarityLevel(ee){this._isReadOnly||(this._rarityLevel=ee)}get hasSaddle(){return this._hasSaddle}set hasSaddle(ee){this._isReadOnly||(this._hasSaddle=ee)}get isRiding(){return this._isRiding}set isRiding(ee){this._isReadOnly||(this._isRiding=ee)}get canBreed(){return this._canBreed}set canBreed(ee){this._isReadOnly||(this._canBreed=ee)}get canHarvest(){return this._canHarvest}set canHarvest(ee){this._isReadOnly||(this._canHarvest=ee)}get canRevive(){return this._canRevive}set canRevive(ee){this._isReadOnly||(this._canRevive=ee)}get hasBreedingPermission(){return this._hasBreedingPermission}set hasBreedingPermission(ee){this._isReadOnly||(this._hasBreedingPermission=ee)}get petLevel(){return this._petLevel}set petLevel(ee){this._isReadOnly||(this._petLevel=ee)}get petPosture(){return this._petPosture}set petPosture(ee){this._isReadOnly||(this._petPosture=ee)}get botSkills(){return this._botSkills}set botSkills(ee){this._botSkills=ee}get isModerator(){return this._isModerator}set isModerator(ee){this._isReadOnly||(this._isModerator=ee)}};U2.M="M",U2.F="F";let UserMessageData=U2;class RoomUnitParser{flush(){return this._users=[],!0}parse(ee){if(!ee)return!1;this._users=[];const te=ee.readInt();let se=0;for(;se<te;){const ne=ee.readInt(),le=ee.readString(),ue=ee.readString();let ce=ee.readString();const he=ee.readInt(),de=ee.readInt(),_e=ee.readInt(),fe=parseFloat(ee.readString()),ye=ee.readInt(),be=ee.readInt(),Pe=new UserMessageData(he);if(Pe.dir=ye,Pe.name=le,Pe.custom=ue,Pe.x=de,Pe.y=_e,Pe.z=fe,this._users.push(Pe),be===1){Pe.webID=ne,Pe.userType=RoomObjectType.USER,Pe.sex=this.resolveSex(ee.readString()),Pe.groupID=ee.readInt(),Pe.groupStatus=ee.readInt(),Pe.groupName=ee.readString();const Ne=ee.readString();Ne!==""&&(ce=this.convertSwimFigure(Ne,ce,Pe.sex)),Pe.figure=ce,Pe.activityPoints=ee.readInt(),Pe.isModerator=ee.readBoolean()}else if(be===2)Pe.userType=RoomObjectType.PET,Pe.figure=ce,Pe.webID=ne,Pe.subType=ee.readInt().toString(),Pe.ownerId=ee.readInt(),Pe.ownerName=ee.readString(),Pe.rarityLevel=ee.readInt(),Pe.hasSaddle=ee.readBoolean(),Pe.isRiding=ee.readBoolean(),Pe.canBreed=ee.readBoolean(),Pe.canHarvest=ee.readBoolean(),Pe.canRevive=ee.readBoolean(),Pe.hasBreedingPermission=ee.readBoolean(),Pe.petLevel=ee.readInt(),Pe.petPosture=ee.readString();else if(be===3)Pe.userType=RoomObjectType.BOT,Pe.webID=he*-1,ce.indexOf("/")===-1?Pe.figure=ce:Pe.figure="hr-100-.hd-180-1.ch-876-66.lg-270-94.sh-300-64",Pe.sex=UserMessageData.M;else if(be===4){Pe.userType=RoomObjectType.RENTABLE_BOT,Pe.webID=ne,Pe.sex=this.resolveSex(ee.readString()),Pe.figure=ce,Pe.ownerId=ee.readInt(),Pe.ownerName=ee.readString();const Ne=ee.readInt();if(Ne){const we=[];let De=0;for(;De<Ne;)we.push(ee.readShort()),De++;Pe.botSkills=we}}se++}return!0}resolveSex(ee){return ee.substr(0,1).toLowerCase()==="f"?UserMessageData.F:UserMessageData.M}convertSwimFigure(ee,te,se){const ne=te.split(".");let le=1,ue=1,ce=1;const he=1e4;let de=0;for(;de<ne.length;){const be=ne[de].split("-");be.length>2&&be[0]==="hd"&&(le=parseInt(be[2])),de++}const _e=["238,238,238","250,56,49","253,146,160","42,199,210","53,51,44","239,255,146","198,255,152","255,146,90","157,89,126","182,243,255","109,255,51","51,120,201","255,182,49","223,161,233","249,251,50","202,175,143","197,198,197","71,98,61","138,131,97","255,140,51","84,198,39","30,108,153","152,79,136","119,200,255","255,192,142","60,75,135","124,44,71","215,255,227","143,63,28","255,99,147","31,155,121","253,255,51"],fe=ee.split("=");if(fe.length>1){const ye=fe[1].split("/");ye[0];const be=ye[1];se==="F"?ce=10010:ce=10011;const Pe=_e.indexOf(be);ue=he+Pe+1}return te+(".bds-10001-"+le+".ss-"+ce+"-"+ue)}get users(){return this._users}}class RoomUnitRemoveParser{flush(){return this._unitId=null,!0}parse(ee){return ee?(this._unitId=parseInt(ee.readString()),!0):!1}get unitId(){return this._unitId}}class RoomUnitStatusAction{constructor(ee,te){this._action=ee,this._value=te}get action(){return this._action}get value(){return this._value}}class RoomUnitStatusMessage{constructor(ee,te,se,ne,le,ue,ce,he=0,de=0,_e=0,fe,ye,be){this._id=ee,this._x=te,this._y=se,this._z=ne,this._height=le,this._headDirection=ue,this._direction=ce,this._targetX=he,this._targetY=de,this._targetZ=_e,this._didMove=fe,this._canStandUp=ye,this._actions=be||[]}get id(){return this._id}get x(){return this._x}get y(){return this._y}get z(){return this._z}get height(){return this._height}get headDirection(){return this._headDirection}get direction(){return this._direction}get targetX(){return this._targetX}get targetY(){return this._targetY}get targetZ(){return this._targetZ}get didMove(){return this._didMove}get canStandUp(){return this._canStandUp}get actions(){return this._actions}}class RoomUnitStatusParser{flush(){return this._statuses=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;){const se=this.parseStatus(ee);if(!se){te--;continue}this._statuses.push(se),te--}return!0}parseStatus(ee){if(!ee)return null;const te=ee.readInt(),se=ee.readInt(),ne=ee.readInt(),le=parseFloat(ee.readString()),ue=ee.readInt()%8*45,ce=ee.readInt()%8*45,he=ee.readString();let de=0,_e=0,fe=0,ye=0,be=!1,Pe=!1;if(he){const Ne=he.split("/"),we=[];for(const De of Ne){const $e=De.split(" ");if($e[0]!==""&&$e.length>=2){switch($e[0]){case"mv":{const Ge=$e[1].split(",");Ge.length>=3&&(de=parseInt(Ge[0]),_e=parseInt(Ge[1]),fe=parseFloat(Ge[2]),Pe=!0);break}case"sit":{const Ge=parseFloat($e[1]);$e.length>=3&&(be=$e[2]==="1"),ye=Ge;break}case"lay":{const Ge=parseFloat($e[1]);ye=Math.abs(Ge);break}}we.push(new RoomUnitStatusAction($e[0],$e[1]))}}this._statuses.push(new RoomUnitStatusMessage(te,se,ne,le,ye,ue,ce,de,_e,fe,Pe,be,we))}}get statuses(){return this._statuses}}let FurnitureListItemParser$1=(aM=class{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._rentable=!1,this._itemId=0,this._furniType=null,this._ref=0,this._spriteId=0,this._category=0,this._stuffData=null,this._isGroupable=!1,this._isRecyclable=!1,this._tradable=!1,this._sellable=!1,this._secondsToExpiration=0,this._extra=0,this._flatId=0,this._isWallItem=!1,this._hasRentPeriodStarted=!1,this._expirationTimeStamp=0,this._slotId="",this._songId=-1,!0}parse(ee){return ee?(this._itemId=ee.readInt(),this._furniType=ee.readString(),this._ref=ee.readInt(),this._spriteId=ee.readInt(),this._category=ee.readInt(),this._stuffData=FurnitureDataParser.parseObjectData(ee),this._isRecyclable=ee.readBoolean(),this._tradable=ee.readBoolean(),this._isGroupable=ee.readBoolean(),this._sellable=ee.readBoolean(),this._secondsToExpiration=ee.readInt(),this._expirationTimeStamp=GetTickerTime(),this.secondsToExpiration>-1?this._rentable=!0:(this._rentable=!1,this._secondsToExpiration=-1),this._hasRentPeriodStarted=ee.readBoolean(),this._flatId=ee.readInt(),this._isWallItem=this._furniType===aM.WALL_ITEM,this._furniType===aM.FLOOR_ITEM&&(this._slotId=ee.readString(),this._extra=ee.readInt()),!0):!1}get itemId(){return this._itemId}get furniType(){return this._furniType}get ref(){return this._ref}get spriteId(){return this._spriteId}get category(){return this._category}get stuffData(){return this._stuffData}get isGroupable(){return this._isGroupable}get isRecycleable(){return this._isRecyclable}get tradable(){return this._tradable}get sellable(){return this._sellable}get secondsToExpiration(){return this._secondsToExpiration}get flatId(){return this._flatId}get slotId(){return this._slotId}get songId(){return this._songId}get extra(){return this._extra}get rentable(){return this._rentable}get isWallItem(){return this._isWallItem}get hasRentPeriodStarted(){return this._hasRentPeriodStarted}get expirationTimeStamp(){return this._expirationTimeStamp}get creationDay(){return 0}get creationMonth(){return 0}get creationYear(){return 0}get isExternalImageFurni(){return this._furniType.indexOf("external_image")!==-1}},aM.WALL_ITEM="I",aM.FLOOR_ITEM="S",aM);class FurnitureListAddOrUpdateParser{flush(){return this._items=[],!0}parse(ee){return ee?(this._items.push(new FurnitureListItemParser$1(ee)),!0):!1}get items(){return this._items}}class FurnitureListInvalidateParser{flush(){return!0}parse(ee){return!!ee}}let FurnitureListParser$1=class{flush(){return this._totalFragments=0,this._fragmentNumber=0,this._fragment=new Map,!0}parse(ee){if(!ee)return!1;this._totalFragments=ee.readInt(),this._fragmentNumber=ee.readInt();let te=ee.readInt();for(;te>0;){const se=new FurnitureListItemParser$1(ee);se&&this._fragment.set(se.itemId,se),te--}return!0}get totalFragments(){return this._totalFragments}get fragmentNumber(){return this._fragmentNumber}get fragment(){return this._fragment}};class FurnitureListRemovedParser{flush(){return this._itemId=0,!0}parse(ee){return ee?(this._itemId=ee.readInt(),!0):!1}get itemId(){return this._itemId}}class FurniturePostItPlacedParser{flush(){return this._itemId=0,this._itemsLeft=0,!0}parse(ee){return ee?(this._itemId=ee.readInt(),this._itemsLeft=ee.readInt(),!0):!1}get itemId(){return this._itemId}get itemsLeft(){return this._itemsLeft}}class PresentOpenedMessageParser{flush(){return this._itemType="",this._classId=0,this._productCode="",!0}parse(ee){return ee?(this._itemType=ee.readString(),this._classId=ee.readInt(),this._productCode=ee.readString(),this._placedItemId=ee.readInt(),this._placedItemType=ee.readString(),this._placedInRoom=ee.readBoolean(),this._petFigureString=ee.readString(),!0):!1}get itemType(){return this._itemType}get classId(){return this._classId}get productCode(){return this._productCode}get placedItemId(){return this._placedItemId}get placedItemType(){return this._placedItemType}get placedInRoom(){return this._placedInRoom}get petFigureString(){return this._petFigureString}}class ConfirmBreedingRequestParser{flush(){this._nestId=0,this._pet1&&(this._pet1.dispose(),this._pet1=null),this._pet2&&(this._pet2.dispose(),this._pet2=null);for(const ee of this._rarityCategories)ee&&ee.dispose();return this._rarityCategories=[],!0}parse(ee){if(!ee)return!1;this._nestId=ee.readInt(),this._pet1=new BreedingPetInfo(ee),this._pet2=new BreedingPetInfo(ee);let te=ee.readInt();for(;te>0;)this._rarityCategories.push(new RarityCategoryData(ee)),te--;return this._resultPetType=ee.readInt(),!0}get nestId(){return this._nestId}get pet1(){return this._pet1}get pet2(){return this._pet2}get rarityCategories(){return this._rarityCategories}get resultPetType(){return this._resultPetType}}class ConfirmBreedingResultParser{flush(){return this._breedingNestStuffId=0,this._result=0,!0}parse(ee){return ee?(this._breedingNestStuffId=ee.readInt(),this._result=ee.readInt(),!0):!1}get breedingNestStuffId(){return this._breedingNestStuffId}get result(){return this._result}}class NestBreedingSuccessParser{flush(){return this._petId=-1,this._rarityCategory=-1,!0}parse(ee){return this._petId=ee.readInt(),this._rarityCategory=ee.readInt(),!0}get rarityCategory(){return this._rarityCategory}get petId(){return this._petId}}class PetFigureDataParser{constructor(ee){this._typeId=ee.readInt(),this._paletteId=ee.readInt(),this._color=ee.readString(),this._breedId=ee.readInt(),this._customParts=[],this._customPartCount=ee.readInt();let te=0;for(;te<this._customPartCount;)this._customParts.push(ee.readInt()),this._customParts.push(ee.readInt()),this._customParts.push(ee.readInt()),te++}get typeId(){return this._typeId}get paletteId(){return this._paletteId}get color(){return this._color}get breedId(){return this._breedId}get figuredata(){let ee=this.typeId+" "+this.paletteId+" "+this.color;ee=ee+(" "+this.custompartCount);for(const te of this.customParts)ee=ee+(" "+te);return ee}get customParts(){return this._customParts}get custompartCount(){return this._customPartCount}}class PetData{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this._id=ee.readInt(),this._name=ee.readString(),this._figureData=new PetFigureDataParser(ee),this._level=ee.readInt()}get id(){return this._id}get name(){return this._name}get typeId(){return this._figureData.typeId}get paletteId(){return this._figureData.paletteId}get color(){return this._figureData.color}get breedId(){return this._figureData.breedId}get customPartCount(){return this._figureData.custompartCount}get figureString(){return this._figureData.figuredata}get figureData(){return this._figureData}get level(){return this._level}}class PetAddedToInventoryParser{flush(){return this._pet=null,this._boughtAsGift=!1,!0}parse(ee){return this._pet=new PetData(ee),this._boughtAsGift=ee.readBoolean(),!0}get pet(){return this._pet}get boughtAsGift(){return this._boughtAsGift}}const wD=class wD{flush(){return this._state=0,this._ownPetId=0,this._otherPetId=0,!0}parse(ee){return ee?(this._state=ee.readInt(),this._ownPetId=ee.readInt(),this._otherPetId=ee.readInt(),!0):!1}get state(){return this._state}get ownPetId(){return this._ownPetId}get otherPetId(){return this._otherPetId}};wD.STATE_CANCEL=1,wD.STATE_ACCEPT=2,wD.STATE_REQUEST=3;let PetBreedingMessageParser=wD;class PetInventoryParser{flush(){return this._fragment=null,!0}parse(ee){this._totalFragments=ee.readInt(),this._fragmentNumber=ee.readInt();let te=ee.readInt();for(this._fragment=new Map;te>0;){const se=new PetData(ee);this._fragment.set(se.id,se),te--}return!0}get totalFragments(){return this._totalFragments}get fragmentNumber(){return this._fragmentNumber}get fragment(){return this._fragment}}class PetReceivedMessageParser{flush(){return this._boughtAsGift=!1,this._pet=null,!0}parse(ee){return this._boughtAsGift=ee.readBoolean(),this._pet=new PetData(ee),!0}get boughtAsGift(){return this._boughtAsGift}get pet(){return this._pet}}class PetRemovedFromInventoryParser{flush(){return!0}parse(ee){return ee?(this._petId=ee.readInt(),!0):!1}get petId(){return this._petId}}class ItemDataStructure{constructor(ee){this._itemId=ee.readInt(),this._furniType=ee.readString().toUpperCase(),this._ref=ee.readInt(),this._spriteId=ee.readInt(),this._category=ee.readInt(),this._isGroupable=ee.readBoolean(),this._stuffData=FurnitureDataParser.parseObjectData(ee),this._secondsToExpiration=-1,this._expirationTimeStamp=GetTickerTime(),this._hasRentPeriodStarted=!1,this._creationDay=ee.readInt(),this._creationMonth=ee.readInt(),this._creationYear=ee.readInt(),this._extra=this.furniType==="S"?ee.readInt():-1,this._flatId=-1,this._rentable=!1,this._isWallItem=this._furniType==="I"}get itemId(){return this._itemId}get furniType(){return this._furniType}get ref(){return this._ref}get spriteId(){return this._spriteId}get category(){return this._category}get stuffData(){return this._stuffData}get extra(){return this._extra}get secondsToExpiration(){return this._secondsToExpiration}get creationDay(){return this._creationDay}get creationMonth(){return this._creationMonth}get creationYear(){return this._creationYear}get isGroupable(){return this._isGroupable}get songId(){return this._extra}get flatId(){return this._flatId}get rentable(){return this._rentable}get isWallItem(){return this._isWallItem}get hasRentPeriodStarted(){return this._hasRentPeriodStarted}get expirationTimeStamp(){return this._expirationTimeStamp}get isRecycleable(){return!0}get tradable(){return!0}get sellable(){return!0}get slotId(){return null}get isExternalImageFurni(){return this._furniType.indexOf("external_image")!==-1}}class TradingAcceptParser{flush(){return this._userID=-1,this._userAccepts=!1,!0}parse(ee){return ee?(this._userID=ee.readInt(),this._userAccepts=ee.readInt()>0,!0):!1}get userID(){return this._userID}get userAccepts(){return this._userAccepts}}const NF=class NF{flush(){return!0}parse(ee){return ee?(this._userId=ee.readInt(),this._reason=ee.readInt(),!0):!1}get userID(){return this._userId}get reason(){return this._reason}};NF.ERROR_WHILE_COMMIT=1;let TradingCloseParser=NF;class TradingCompletedParser{flush(){return!0}parse(ee){return!!ee}}class TradingConfirmationParser{flush(){return!0}parse(ee){return!!ee}}class TradingListItemParser{flush(){return this._firstUserID=-1,this._firstUserItemArray=null,this._firstUserNumItems=0,this._firstUserNumCredits=0,this._secondUserID=-1,this._secondUserItemArray=null,this._secondUserNumItems=0,this._secondUserNumCredits=0,!0}parse(ee){return!ee||(this._firstUserID=ee.readInt(),this._firstUserItemArray=[],!this.parseItems(ee,this._firstUserItemArray))||(this._firstUserNumItems=ee.readInt(),this._firstUserNumCredits=ee.readInt(),this._secondUserID=ee.readInt(),this._secondUserItemArray=[],!this.parseItems(ee,this._secondUserItemArray))?!1:(this._secondUserNumItems=ee.readInt(),this._secondUserNumCredits=ee.readInt(),!0)}parseItems(ee,te){let se=ee.readInt();for(;se>0;)te.push(new ItemDataStructure(ee)),se--;return!0}get firstUserID(){return this._firstUserID}get firstUserItemArray(){return this._firstUserItemArray}get firstUserNumItems(){return this._firstUserNumItems}get firstUserNumCredits(){return this._firstUserNumCredits}get secondUserID(){return this._secondUserID}get secondUserItemArray(){return this._secondUserItemArray}get secondUserNumItems(){return this._secondUserNumItems}get secondUserNumCredits(){return this._secondUserNumCredits}}class TradingNoSuchItemParser{flush(){return!0}parse(ee){return!!ee}}class TradingNotOpenParser{flush(){return!0}parse(ee){return!!ee}}const F2=class F2{flush(){return!0}parse(ee){return ee?(this._reason=ee.readInt(),this._otherUserName=ee.readString(),!0):!1}get reason(){return this._reason}get otherUserName(){return this._otherUserName}};F2.REASON_YOU_ARE_ALREADY_TRADING=7,F2.REASON_OTHER_USER_ALREADY_TRADING=8;let TradingOpenFailedParser=F2;class TradingOpenParser{flush(){return this._userId=-1,this._userCanTrade=!1,this._otherUserId=-1,this._otherUserCanTrade=!1,!0}parse(ee){return ee?(this._userId=ee.readInt(),this._userCanTrade=ee.readInt()===1,this._otherUserId=ee.readInt(),this._otherUserCanTrade=ee.readInt()===1,!0):!1}get userID(){return this._userId}get userCanTrade(){return this._userCanTrade}get otherUserID(){return this._otherUserId}get otherUserCanTrade(){return this._otherUserCanTrade}}class TradingOtherNotAllowedParser{flush(){return!0}parse(ee){return!!ee}}class TradingYouAreNotAllowedParser{flush(){return!0}parse(ee){return!!ee}}class PetRespectNotificationParser{flush(){return this._respect=0,this._petOwnerId=0,this._petData=null,!0}parse(ee){return ee?(this._respect=ee.readInt(),this._petOwnerId=ee.readInt(),this._petData=new PetData(ee),!0):!1}get respect(){return this._respect}get petOwnerId(){return this._petOwnerId}get petData(){return this._petData}get isTreat(){return this._petData.typeId===PetType.MONSTERPLANT}}class PetSupplementedNotificationParser{flush(){return this._petId=0,this._userId=0,this._supplementType=0,!0}parse(ee){return ee?(this._petId=ee.readInt(),this._userId=ee.readInt(),this._supplementType=ee.readInt(),!0):!1}get petId(){return this._petId}get userId(){return this._userId}get supplementType(){return this._supplementType}}const RP=class RP{};RP.WATER=0,RP.LIGHT=1,RP.REVIVE=2,RP.REBREED_FERTILIZER=3,RP.SPEED_FERTILIZER=4;let PetSupplementTypeEnum=RP;class RespectReceivedParser{flush(){return this._userId=0,this._respectsReceived=0,!0}parse(ee){return ee?(this._userId=ee.readInt(),this._respectsReceived=ee.readInt(),!0):!1}get userId(){return this._userId}get respectsReceived(){return this._respectsReceived}}class RoomEntryData{constructor(ee,te,se){this._hasControllers=!1,this._roomId=ee,this._roomName=te,this._hasControllers=se}get roomId(){return this._roomId}get roomName(){return this._roomName}get hasControllers(){return this._hasControllers}}class ScrKickbackData{constructor(ee){this._currentHcStreak=ee.readInt(),this._firstSubscriptionDate=ee.readString(),this._kickbackPercentage=ee.readDouble(),this._totalCreditsMissed=ee.readInt(),this._totalCreditsRewarded=ee.readInt(),this._totalCreditsSpent=ee.readInt(),this._creditRewardForStreakBonus=ee.readInt(),this._creditRewardForMonthlySpent=ee.readInt(),this._timeUntilPayday=ee.readInt()}get currentHcStreak(){return this._currentHcStreak}get firstSubscriptionDate(){return this._firstSubscriptionDate}get kickbackPercentage(){return this._kickbackPercentage}get totalCreditsMissed(){return this._totalCreditsMissed}get totalCreditsRewarded(){return this._totalCreditsRewarded}get totalCreditsSpent(){return this._totalCreditsSpent}get creditRewardForStreakBonus(){return this._creditRewardForStreakBonus}get creditRewardForMonthlySpent(){return this._creditRewardForMonthlySpent}get timeUntilPayday(){return this._timeUntilPayday}}class ScrSendKickbackInfoMessageParser{flush(){return this._data=null,!0}parse(ee){return this._data=new ScrKickbackData(ee),!0}get data(){return this._data}}class UserWardrobePageParser{flush(){return this._looks=new Map,!0}parse(ee){if(!ee)return!1;ee.readInt();let te=ee.readInt();for(;te>0;){const se=ee.readInt(),ne=ee.readString(),le=ee.readString();this._looks.set(se,[ne,le]),te--}return!0}get looks(){return this._looks}}class WelcomeGiftChangeEmailResultParser{flush(){return this._result=-1,!0}parse(ee){return ee?(this._result=ee.readInt(),!0):!1}get result(){return this._result}}class RoomAdPurchaseInfoEventParser{flush(){return this._isVip=!1,this._rooms=[],!0}parse(ee){if(!ee)return!1;this._isVip=ee.readBoolean();let te=ee.readInt();for(;te>0;)this._rooms.push(new RoomEntryData(ee.readInt(),ee.readString(),ee.readBoolean())),te--;return!0}get isVip(){return this._isVip}get rooms(){return this._rooms}}class SeasonalCalendarDailyOfferMessageParser{flush(){return this._pageId=-1,this._data=null,!0}parse(ee){return ee?(this._pageId=ee.readInt(),this._data=new CatalogPageMessageOfferData(ee),!0):!1}get pageId(){return this._pageId}get data(){return this._data}}class SellablePetPaletteData{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._type=-1,this._breedId=-1,this._paletteId=-1,this._sellable=!1,this._rare=!1,!0}parse(ee){return ee?(this._type=ee.readInt(),this._breedId=ee.readInt(),this._paletteId=ee.readInt(),this._sellable=ee.readBoolean(),this._rare=ee.readBoolean(),!0):!1}get type(){return this._type}get breedId(){return this._breedId}get paletteId(){return this._paletteId}get sellable(){return this._sellable}get rare(){return this._rare}}class SellablePetPalettesParser{flush(){return this._productCode="",this._palettes=[],!0}parse(ee){if(!ee)return!1;this._productCode=ee.readString();let te=ee.readInt();for(;te>0;)this._palettes.push(new SellablePetPaletteData(ee)),te--;return!0}get productCode(){return this._productCode}get palettes(){return this._palettes}}class TargetedOfferData{constructor(ee){this._trackingState=ee.readInt(),this._id=ee.readInt(),this._identifier=ee.readString(),this._productCode=ee.readString(),this._priceInCredits=ee.readInt(),this._priceInActivityPoints=ee.readInt(),this._activityPointType=ee.readInt(),this._purchaseLimit=ee.readInt();const te=ee.readInt();this._expirationTime=te>0?te*1e3+Date.now():0,this._title=ee.readString(),this._description=ee.readString(),this._imageUrl=ee.readString(),this._iconImageUrl=ee.readString(),this._type=ee.readInt(),this._subProductCodes=[];let se=ee.readInt();for(;se>0;)this._subProductCodes.push(ee.readString()),se--;return this}populate(ee){ee&&(this._id=ee.id,this._identifier=ee.identifier,this._type=ee.type,this._title=ee.title,this._description=ee.description,this._imageUrl=ee.imageUrl,this._iconImageUrl=ee.iconImageUrl,this._productCode=ee.productCode,this._purchaseLimit=ee.purchaseLimit,this._expirationTime=ee.expirationTime,this._priceInCredits=ee.priceInCredits,this._priceInActivityPoints=ee.priceInActivityPoints,this._activityPointType=ee.activityPointType,this._subProductCodes=ee.subProductCodes,this._trackingState=ee.trackingState)}purchase(ee){this._purchaseLimit=this._purchaseLimit-ee}get id(){return this._id}get identifier(){return this._identifier}get type(){return this._type}get title(){return this._title}get description(){return this._description}get imageUrl(){return this._imageUrl}get iconImageUrl(){return this._iconImageUrl}get productCode(){return this._productCode}get purchaseLimit(){return this._purchaseLimit}get expirationTime(){return this._expirationTime}get priceInCredits(){return this._priceInCredits}get priceInActivityPoints(){return this._priceInActivityPoints}get activityPointType(){return this._activityPointType}get subProductCodes(){return this._subProductCodes}get trackingState(){return this._trackingState}}class TargetedOfferNotFoundParser{flush(){return!0}parse(ee){return!!ee}}class TargetedOfferParser{flush(){return this._data=null,!0}parse(ee){return ee?(this._data=new TargetedOfferData(ee),!0):!1}get data(){return this._data}}class VoucherRedeemErrorMessageParser{constructor(){this._errorCode=""}flush(){return this._errorCode="",!0}parse(ee){return ee?(this._errorCode=ee.readString(),!0):!1}get errorCode(){return this._errorCode}}class VoucherRedeemOkMessageParser{constructor(){this._productName="",this._productDescription=""}flush(){return this._productDescription="",this._productName="",!0}parse(ee){return ee?(this._productDescription=ee.readString(),this._productName=ee.readString(),!0):!1}get productName(){return this._productName}get productDescription(){return this._productDescription}}class ClientPingParser{flush(){return!0}parse(ee){return!!ee}}const oM=class oM{flush(){return this._goalId=0,this._goalCode=null,this._result=0,this._requiredFurnis=null,this._missingFurnis=null,!0}parse(ee){this._goalId=ee.readInt(),this._goalCode=ee.readString(),this._result=ee.readInt(),this._requiredFurnis=[];let te=ee.readInt();for(;te>0;)this._requiredFurnis.push(ee.readString()),te--;for(te=ee.readInt();te>0;)this._missingFurnis[ee.readString()]="",te--;return!0}get goalId(){return this._goalId}get goalCode(){return this._goalCode}get result(){return this._result}get requiredFurnis(){return this._requiredFurnis}isMissing(ee){return!!this._missingFurnis[ee]}};oM.SUBMITTED=0,oM.ASK_FOR_SUBMIT=1,oM.ASK_FOR_CONFIRM=2,oM.PREREQUISITES_NOT_MET=3,oM.ROOM_DOOR_NOT_OPEN=4,oM.ROOM_TOO_OLD=5,oM.ASK_FOR_ACCEPT_RULES=6;let CompetitionEntrySubmitResultMessageParser=oM;const ND=class ND{};ND.ALLOWED=0,ND.REQUIRED_PERK_MISSING=1,ND.REQUIRED_BADGE_MISSING=2;let CompetitionVotingInfoResult=ND;class CompetitionVotingInfoMessageParser{flush(){return this._goalId=0,this._goalCode=null,this._resultCode=0,this._votesRemaining=0,!0}parse(ee){return this._goalId=ee.readInt(),this._goalCode=ee.readString(),this._resultCode=ee.readInt(),this._votesRemaining=ee.readInt(),!0}get goalId(){return this._goalId}get goalCode(){return this._goalCode}get isVotingAllowedForUser(){return this._resultCode===CompetitionVotingInfoResult.ALLOWED}get votesRemaining(){return this._votesRemaining}get resultCode(){return this._resultCode}}class CurrentTimingCodeMessageParser{flush(){return this._schedulingStr=null,this._code=null,!0}parse(ee){return this._schedulingStr=ee.readString(),this._code=ee.readString(),!0}get schedulingStr(){return this._schedulingStr}get code(){return this._code}}class IsUserPartOfCompetitionMessageParser{flush(){return this._isPartOf=!1,this._targetId=0,!0}parse(ee){return this._isPartOf=ee.readBoolean(),this._targetId=ee.readInt(),!0}get isPartOf(){return this._isPartOf}get targetId(){return this._targetId}}class NoOwnedRoomsAlertMessageParser{flush(){return!0}parse(ee){return!0}}class SecondsUntilMessageParser{flush(){return this._timeStr=null,this._secondsUntil=0,!0}parse(ee){return this._timeStr=ee.readString(),this._secondsUntil=ee.readInt(),!0}get timeStr(){return this._timeStr}get secondsUntil(){return this._secondsUntil}}class CraftingResultObjectParser{constructor(ee){this._recipeName=ee.readString(),this._itemName=ee.readString()}get recipeName(){return this._recipeName}get itemName(){return this._itemName}}class CraftableProductsMessageParser{constructor(){this._recipes=[],this._ingredients=[]}flush(){return this._recipes=[],this._ingredients=[],!0}parse(ee){if(!ee)return!1;const te=ee.readInt();for(let ne=0;ne<te;ne++)this._recipes.push(new CraftingResultObjectParser(ee));const se=ee.readInt();for(let ne=0;ne<se;ne++)this._ingredients.push(ee.readString());return!0}get recipes(){return this._recipes}get ingredients(){return this._ingredients}isActive(){return this._recipes.length>0||this._ingredients.length>0}}class CraftingRecipeIngredientParser{constructor(ee){this._count=ee.readInt(),this._itemName=ee.readString()}get count(){return this._count}get itemName(){return this._itemName}}class CraftingRecipeMessageParser{constructor(){this._ingredients=[]}parse(ee){if(!ee)return!1;const te=ee.readInt();for(let se=0;se<te;se++)this._ingredients.push(new CraftingRecipeIngredientParser(ee));return!0}flush(){return this._ingredients=[],!0}get ingredients(){return this._ingredients}}class CraftingRecipesAvailableMessageParser{parse(ee){return ee?(this._count=ee.readInt(),this._hasRecipes=ee.readBoolean(),!0):!1}flush(){return this._count=0,this._hasRecipes=!1,!0}get count(){return this._count}get hasRecipes(){return this._hasRecipes}}class CraftingResultMessageParser{parse(ee){return ee?(this._success=ee.readBoolean(),this._success&&(this._result=new CraftingResultObjectParser(ee)),!0):!1}flush(){return this._success=!1,!0}get success(){return this._success}get result(){return this._result}}class DesktopViewParser{flush(){return!0}parse(ee){return!!ee}}class AcceptFriendFailerData{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this._senderId=ee.readInt(),this._errorCode=ee.readInt()}get senderId(){return this._senderId}get errorCode(){return this._errorCode}}class AcceptFriendResultParser{flush(){return this._failuers=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._failuers.push(new AcceptFriendFailerData(ee)),te--;return!0}get failures(){return this._failuers}}class FindFriendsProcessResultParser{flush(){return this._success=!1,!0}parse(ee){return ee?(this._success=ee.readBoolean(),!0):!1}get success(){return this._success}}class FollowFriendFailedParser{flush(){return this._errorCode=0,!0}parse(ee){return ee?(this._errorCode=ee.readInt(),!0):!1}get errorCode(){return this._errorCode}}class FriendCategoryData{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this._id=ee.readInt(),this._name=ee.readString()}get id(){return this._id}get name(){return this._name}}class FriendParser{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this._id=ee.readInt(),this._name=ee.readString(),this._gender=ee.readInt(),this._online=ee.readBoolean(),this._followingAllowed=ee.readBoolean(),this._figure=ee.readString(),this._categoryId=ee.readInt(),this._motto=ee.readString(),this._realName=ee.readString(),this._lastAccess=ee.readString(),this._persistedMessageUser=ee.readBoolean(),this._vipMember=ee.readBoolean(),this._pocketHabboUser=ee.readBoolean(),this._relationshipStatus=ee.readShort()}get id(){return this._id}get name(){return this._name}get gender(){return this._gender}get online(){return this._online}get followingAllowed(){return this._followingAllowed}get figure(){return this._figure}get categoryId(){return this._categoryId}get motto(){return this._motto}get lastAccess(){return this._lastAccess}get realName(){return this._realName}get persistedMessageUser(){return this._persistedMessageUser}get vipMember(){return this._vipMember}get pocketHabboUser(){return this._pocketHabboUser}get relationshipStatus(){return this._relationshipStatus}}class FriendListFragmentParser{flush(){return this._totalFragments=0,this._fragmentNumber=0,this._fragment=[],!0}parse(ee){if(!ee)return!1;this._totalFragments=ee.readInt(),this._fragmentNumber=ee.readInt();let te=ee.readInt();for(;te>0;)this._fragment.push(new FriendParser(ee)),te--;return!0}get totalFragments(){return this._totalFragments}get fragmentNumber(){return this._fragmentNumber}get fragment(){return this._fragment}}class FriendListUpdateParser{flush(){return this._categories=[],this._removedFriendIds=[],this._addedFriends=[],this._updatedFriends=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._categories.push(new FriendCategoryData(ee)),te--;let se=ee.readInt();for(;se>0;){const ne=ee.readInt();ne===-1?this._removedFriendIds.push(ee.readInt()):ne===0?this._updatedFriends.push(new FriendParser(ee)):ne===1&&this._addedFriends.push(new FriendParser(ee)),se--}return!0}get categories(){return this._categories}get removedFriendIds(){return this._removedFriendIds}get addedFriends(){return this._addedFriends}get updatedFriends(){return this._updatedFriends}}class FriendNotificationParser{flush(){return this._typeCode=-1,this._avatarId=0,this._message=null,!0}parse(ee){return ee?(this._typeCode=ee.readInt(),this._avatarId=ee.readInt(),this._message=ee.readString(),!0):!1}get typeCode(){return this._typeCode}get avatarId(){return this._avatarId}get message(){return this._message}}class FriendRequestData{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this._requestId=ee.readInt(),this._requesterName=ee.readString(),this._figureString=ee.readString(),this._requesterUserId=this._requestId}get requestId(){return this._requestId}get requesterName(){return this._requesterName}get requesterUserId(){return this._requesterUserId}get figureString(){return this._figureString}}class FriendRequestsParser{flush(){return this._totalRequests=0,this._requests=[],!0}parse(ee){if(!ee)return!1;this._totalRequests=ee.readInt();let te=ee.readInt();for(;te>0;)this._requests.push(new FriendRequestData(ee)),te--;return!0}get totalRequests(){return this._totalRequests}get requests(){return this._requests}}class HabboSearchResultData{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this._avatarId=ee.readInt(),this._avatarName=ee.readString(),this._avatarMotto=ee.readString(),this._isAvatarOnline=ee.readBoolean(),this._canFollow=ee.readBoolean(),this._lastOnlineData=ee.readString(),this._avatarGender=ee.readInt(),this._avatarFigure=ee.readString(),this._realName=ee.readString()}get avatarId(){return this._avatarId}get avatarName(){return this._avatarName}get avatarMotto(){return this._avatarMotto}get isAvatarOnline(){return this._isAvatarOnline}get canFollow(){return this._canFollow}get avatarGender(){return this._avatarGender}get avatarFigure(){return this._avatarFigure}get lastOnlineData(){return this._lastOnlineData}get realName(){return this._realName}}class HabboSearchResultParser{flush(){return this._friends=[],this._others=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._friends.push(new HabboSearchResultData(ee)),te--;let se=ee.readInt();for(;se>0;)this._others.push(new HabboSearchResultData(ee)),se--;return!0}get friends(){return this._friends}get others(){return this._others}}class InstantMessageErrorParser{flush(){return this._errorCode=0,this._userId=0,this._message=null,!0}parse(ee){return ee?(this._errorCode=ee.readInt(),this._userId=ee.readInt(),this._message=ee.readString(),!0):!1}get errorCode(){return this._errorCode}get userId(){return this._userId}get message(){return this._message}}class MessageErrorParser{flush(){return this._clientMessageId=0,this._errorCode=0,!0}parse(ee){return ee?(this._clientMessageId=ee.readInt(),this._errorCode=ee.readInt(),!0):!1}get clientMessageId(){return this._clientMessageId}get errorCode(){return this._errorCode}}class MessengerInitParser{flush(){return this._userFriendLimit=0,this._normalFriendLimit=0,this._extendedFriendLimit=0,this._categories=[],!0}parse(ee){if(!ee)return!1;this._userFriendLimit=ee.readInt(),this._normalFriendLimit=ee.readInt(),this._extendedFriendLimit=ee.readInt();let te=ee.readInt();for(;te>0;)this._categories.push(new FriendCategoryData(ee)),te--;return!0}get userFriendLimit(){return this._userFriendLimit}get normalFriendLimit(){return this._normalFriendLimit}get extendedFriendLimit(){return this._extendedFriendLimit}get categories(){return this._categories}}class MiniMailNewMessageParser{flush(){return!0}parse(ee){return!!ee}}class MiniMailUnreadCountParser{flush(){return this._count=0,!0}parse(ee){return ee?(this._count=ee.readInt(),!0):!1}get count(){return this._count}}class NewConsoleMessageParser{flush(){return this._senderId=0,this._messageText=null,this._secondsSinceSent=0,this._extraData=null,!0}parse(ee){return ee?(this._senderId=ee.readInt(),this._messageText=ee.readString(),this._secondsSinceSent=ee.readInt(),ee.bytesAvailable&&(this._extraData=ee.readString()),!0):!1}get senderId(){return this._senderId}get messageText(){return this._messageText}get secondsSinceSent(){return this._secondsSinceSent}get extraData(){return this._extraData}}class NewFriendRequestParser{flush(){return this._request=null,!0}parse(ee){return ee?(this._request=new FriendRequestData(ee),!0):!1}get request(){return this._request}}class RoomInviteErrorParser{flush(){return this._errorCode=0,this._failedRecipients=[],!0}parse(ee){if(!ee)return!1;this._errorCode=ee.readInt();let te=ee.readInt();for(;te>0;)this._failedRecipients.push(ee.readInt()),te--;return!0}get errorCode(){return this._errorCode}get failedRecipients(){return this._failedRecipients}}class RoomInviteParser{flush(){return this._senderId=0,this._messageText=null,!0}parse(ee){return ee?(this._senderId=ee.readInt(),this._messageText=ee.readString(),!0):!1}get senderId(){return this._senderId}get messageText(){return this._messageText}}class Game2AccountGameStatusMessageParser{flush(){return!0}parse(ee){return ee?(this._gameTypeId=ee.readInt(),this._freeGamesLeft=ee.readInt(),this._gamesPlayedTotal=ee.readInt(),!0):!1}get gameTypeId(){return this._gameTypeId}get freeGamesLeft(){return this._freeGamesLeft}get gamesPlayedTotal(){return this._gamesPlayedTotal}get hasUnlimitedGames(){return this._freeGamesLeft==-1}}const vN=class vN{flush(){return this._status=-1,this._blockLength=-1,this._gamesPlayed=-1,this._freeGamesLeft=-1,!0}parse(ee){return ee?(this._status=ee.readInt(),this._blockLength=ee.readInt(),this._gamesPlayed=ee.readInt(),this._freeGamesLeft=ee.readInt(),!0):!1}get status(){return this._status}get blockLength(){return this._blockLength}get gamesPlayed(){return this._gamesPlayed}get freeGamesLeft(){return this._freeGamesLeft}get hasUnlimitedGames(){return this._freeGamesLeft==-1}};vN.STATUS_OK=0,vN.STATUS_FAILED_REASON_UNKNOWN=1,vN.STATUS_FAILED_REASON_GAME_DIRECTORY_IS_NOT_AVAILABLE=2,vN.STATUS_FAILED_REASON_HOTEL_IS_CLOSED=3;let Game2GameDirectoryStatusMessageParser=vN;class Game2InArenaQueueMessageParser{flush(){return this._position=-1,!0}parse(ee){return ee?(this._position=ee.readInt(),!0):!1}get position(){return this._position}}const qO=class qO{flush(){return this._reason=-1,!0}parse(ee){return ee?(this._reason=ee.readInt(),!0):!1}get reason(){return this._reason}};qO.KICKED=1,qO.DUPLICATE_MACHINEID=2,qO.INVITATION_REQUIRED=3,qO.NO_SPACE_IN_TEAM=4,qO.TEAM_NOT_FOUND=5,qO.USER_HAS_ACTIVE_INSTANCE=6,qO.USER_HAS_PENDING_INSTANCE_REQUEST=7,qO.USER_HAS_NO_FREE_GAMES_LEFT=8;let Game2JoiningGameFailedMessageParser=qO;const B2=class B2{flush(){return this._reason=-1,!0}parse(ee){return ee?(this._reason=ee.readInt(),!0):!1}get reason(){return this._reason}};B2.NOT_ENOUGH_PLAYERS=1,B2.GAME_HAS_NO_OWNER=2;let Game2StartingGameFailedMessageParser=B2;class Game2StopCounterMessageParser{flush(){return!0}parse(ee){return!!ee}}class Game2UserLeftGameMessageParser{flush(){return this._userId=-1,!0}parse(ee){return ee?(this._userId=ee.readInt(),!0):!1}get userId(){return this._userId}}class AchievementResolutionCompletedMessageParser{flush(){return!0}parse(ee){return ee?(this._stuffCode=ee.readString(),this._badgeCode=ee.readString(),!0):!1}get stuffCode(){return this._stuffCode}get badgeCode(){return this._badgeCode}}class AchievementResolutionProgressMessageParser{flush(){return this._stuffId=-1,this._achievementId=0,this._requiredLevelBadgeCode="",this._userProgress=0,this._totalProgress=0,this._endTime=0,!0}parse(ee){return ee?(this._stuffId=ee.readInt(),this._achievementId=ee.readInt(),this._requiredLevelBadgeCode=ee.readString(),this._userProgress=ee.readInt(),this._totalProgress=ee.readInt(),this._endTime=ee.readInt(),!0):!1}get stuffId(){return this._stuffId}get achievementId(){return this._achievementId}get requiredLevelBadgeCode(){return this._requiredLevelBadgeCode}get userProgress(){return this._userProgress}get totalProgress(){return this._totalProgress}get endTime(){return this._endTime}}class AchievementResolutionsMessageParser{flush(){return!0}parse(ee){if(!ee)return!1;this._stuffId=ee.readInt();const te=ee.readInt();let se=0;for(;se<te;)this._achievements.push(new AchievementResolutionData(ee)),se++;return this._endTime=ee.readInt(),!0}get stuffId(){return this._stuffId}get achievements(){return this._achievements}get endTime(){return this._endTime}}class GameAchievementData{constructor(ee,te,se,ne){this._gameTypeId=ee,this._achievementId=te,this._achievementName=se,this._levels=ne}get gameTypeId(){return this._gameTypeId}get achievementId(){return this._achievementId}get achievementName(){return this._achievementName}get levels(){return this._levels}}class GameAchievementsMessageParser{flush(){return!0}parse(ee){if(!ee)return!1;this._achievements=[];const te=ee.readInt();let se=0;for(;se<te;){const ne=ee.readInt(),le=ee.readInt();let ue=0;for(;ue<le;){const ce=ee.readInt(),he=ee.readString(),de=ee.readInt();this._achievements.push(new GameAchievementData(ne,ce,he,de)),ue++}se++}return!0}get achievements(){return this._achievements}}class GameConfigurationData{constructor(ee,te,se,ne,le,ue){this._gameId=ee,this._gameNameId=te,this._bgColor=se,this._textColor=ne,this._assetUrl=le,this._supportUrl=ue}get gameId(){return this._gameId}get gameNameId(){return this._gameNameId}get bgColor(){return this._bgColor}get textColor(){return this._textColor}get assetUrl(){return this._assetUrl}get supportUrl(){return this._supportUrl}}class GameInviteMessageParser{flush(){return!0}parse(ee){return ee?(this._gameTypeId=ee.readInt(),this._inviterId=ee.readInt(),!0):!1}get gameTypeId(){return this._gameTypeId}get inviterId(){return this._inviterId}}class GameListMessageParser{flush(){return!0}parse(ee){if(!ee)return!1;this._games=[];const te=ee.readInt();for(let se=0;se<te;se++){const ne=ee.readInt(),le=ee.readString(),ue=ee.readString();let ce=parseInt(ue,16);ce=ce|4278190080;const he=ee.readString();let de=parseInt(he,16);de=de|4278190080;const _e=ee.readString(),fe=ee.readString();this._games.push(new GameConfigurationData(ne,le,ce,de,_e,fe))}return!0}get games(){return this._games}}const yN=class yN{flush(){return!0}parse(ee){return ee?(this._gameTypeId=ee.readInt(),this._status=ee.readInt(),!0):!1}get gameTypeId(){return this._gameTypeId}get isOk(){return this._status==yN.OK}get isInMaintenance(){return this._status==yN.MAINTENANCE}};yN.OK=0,yN.MAINTENANCE=1;let GameStatusMessageParser=yN;class JoinedQueueMessageParser{flush(){return!0}parse(ee){return ee?(this._gameTypeId=ee.readInt(),!0):!1}get gameTypeId(){return this._gameTypeId}}const DF=class DF{flush(){return!0}parse(ee){return ee?(this._gameTypeId=ee.readInt(),this._reason=ee.readInt(),!0):!1}get gameTypeId(){return this._gameTypeId}get reason(){return this._reason}};DF.DUPLICATE_MACHINEID=1;let JoiningQueueFailedMessageParser=DF;class LeftQueueMessageParser{flush(){return!0}parse(ee){return ee?(this._gameTypeId=ee.readInt(),!0):!1}get gameTypeId(){return this._gameTypeId}}class LoadGameMessageParser{flush(){return!0}parse(ee){if(!ee)return!1;this._gameTypeId=ee.readInt(),this._gameClientId=ee.readString(),this._url=ee.readString(),this._quality=ee.readString(),this._scaleMode=ee.readString(),this._frameRate=ee.readInt(),this._minMajorVersion=ee.readInt(),this._minMinorVersion=ee.readInt(),this._params=new Map;const te=ee.readInt();let se=0;for(;se<te;)this._params.set(ee.readString(),ee.readString()),se++;return!0}get gameTypeId(){return this._gameTypeId}get url(){return this._url}get quality(){return this._quality}get scaleMode(){return this._scaleMode}get frameRate(){return this._frameRate}get minMajorVersion(){return this._minMajorVersion}get minMinorVersion(){return this._minMinorVersion}get params(){return this._params}get gameClientId(){return this._gameClientId}}class LoadGameUrlParser{flush(){return this._gameTypeId=0,this._url=null,this._gameClientId=null,!0}parse(ee){return ee?(this._gameTypeId=ee.readInt(),this._gameClientId=ee.readString(),this._url=ee.readString(),!0):!1}get gameTypeId(){return this._gameTypeId}get url(){return this._url}get gameClientId(){return this._gameClientId}}class UnloadGameMessageParser{flush(){return!0}parse(ee){return ee?(this._gameTypeId=ee.readInt(),this._gameClientId=ee.readString(),!0):!1}get gameTypeId(){return this._gameTypeId}get gameClientId(){return this._gameClientId}}class UserGameAchievementsMessageParser{flush(){return!0}parse(ee){return!!ee}}class Game2WeeklyLeaderboardParser{flush(){return this._year=-1,this._week=-1,this._maxOffset=-1,this._currentOffset=-1,this._minutesUntilReset=-1,!0}parse(ee){return ee?(this._year=ee.readInt(),this._week=ee.readInt(),this._maxOffset=ee.readInt(),this._currentOffset=ee.readInt(),this._minutesUntilReset=ee.readInt(),!0):!1}get year(){return this._year}get week(){return this._week}get maxOffset(){return this._maxOffset}get currentOffset(){return this._currentOffset}get minutesUntilReset(){return this._minutesUntilReset}}class GameRewardWinnerEntry{constructor(ee){this._name=ee.readString(),this._figure=ee.readString(),this._gender=ee.readString(),this._rank=ee.readInt(),this._score=ee.readInt()}get name(){return this._name}get figure(){return this._figure}get gender(){return this._gender}get rank(){return this._rank}get score(){return this._score}}class WeeklyGameRewardParser{flush(){return this._gameTypeId=-1,this._products=[],this._minutesUntilNextWeek=0,this._rewardingOn=!0,!0}parse(ee){if(!ee)return!1;this._gameTypeId=ee.readInt();let te=ee.readInt();for(;te>0;)this._products.push(new CatalogPageMessageProductData(ee)),te--;return this._minutesUntilNextWeek=ee.readInt(),this._rewardingOn=ee.readBoolean(),!0}get gameTypeId(){return this._gameTypeId}get products(){return this._products}get minutesUntilNextWeek(){return this._minutesUntilNextWeek}get rewardingOn(){return this._rewardingOn}}class WeeklyGameRewardWinnersParser{flush(){return this._gameTypeId=-1,this._winners=[],!0}parse(ee){if(!ee)return!1;this._gameTypeId=ee.readInt();let te=ee.readInt();for(;te>0;)this._winners.push(new GameRewardWinnerEntry(ee)),te--;return!0}get gameTypeId(){return this._gameTypeId}get winners(){return this._winners}}class GenericErrorParser{flush(){return this._errorCode=0,!0}parse(ee){return ee?(this._errorCode=ee.readInt(),!0):!1}get errorCode(){return this._errorCode}}class PhoneCollectionStateParser{flush(){return this._phoneStatusCode=-1,this._millisecondsToAllowProcessReset=-1,!0}parse(ee){return ee?(this._phoneStatusCode=ee.readInt(),this._collectionStatusCode=ee.readInt(),this._millisecondsToAllowProcessReset=ee.readInt(),!0):!1}get phoneStatusCode(){return this._phoneStatusCode}get collectionStatusCode(){return this._collectionStatusCode}get millisecondsToAllowProcessReset(){return this._millisecondsToAllowProcessReset}}class TryPhoneNumberResultParser{flush(){return this._resultCode=-1,!0}parse(ee){return ee?(this._resultCode=ee.readInt(),this._millisToAllowProcessReset=ee.readInt(),!0):!1}get resultCode(){return this._resultCode}get millisToAllowProcessReset(){return this._millisToAllowProcessReset}}class TryVerificationCodeResultParser{flush(){return this._resultCode=-1,this._millisecondsToAllowProcessReset=-1,!0}parse(ee){return ee?(this._resultCode=ee.readInt(),this._millisecondsToAllowProcessReset=ee.readInt(),!0):!1}get resultCode(){return this._resultCode}get millisToAllowProcessReset(){return this._millisecondsToAllowProcessReset}}class GroupBadgePartsParser{flush(){return this._bases=new Map,this._symbols=new Map,this._partColors=new Map,this._colorsA=new Map,this._colorsB=new Map,!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;){const ce=ee.readInt(),he=ee.readString(),de=ee.readString();this._bases.set(ce,[he,de]),te--}let se=ee.readInt();for(;se>0;){const ce=ee.readInt(),he=ee.readString(),de=ee.readString();this._symbols.set(ce,[he,de]),se--}let ne=ee.readInt();for(;ne>0;){const ce=ee.readInt(),he=ee.readString();this._partColors.set(ce,he),ne--}let le=ee.readInt();for(;le>0;){const ce=ee.readInt(),he=ee.readString();this._colorsA.set(ce,he),le--}let ue=ee.readInt();for(;ue>0;){const ce=ee.readInt(),he=ee.readString();this._colorsB.set(ce,he),ue--}return!0}get bases(){return this._bases}get symbols(){return this._symbols}get partColors(){return this._partColors}get colorsA(){return this._colorsA}get colorsB(){return this._colorsB}}class GroupBuyDataParser{flush(){return this._groupCost=0,this._availableRooms=new Map,!0}parse(ee){if(!ee)return!1;this._groupCost=ee.readInt();let te=ee.readInt();for(;te>0;){const se=ee.readInt(),ne=ee.readString();ee.readBoolean(),this._availableRooms.set(se,ne),te--}return!0}get groupCost(){return this._groupCost}get availableRooms(){return this._availableRooms}}class GroupConfirmMemberRemoveParser{flush(){return this._userId=0,this._furnitureCount=0,!0}parse(ee){return ee?(this._userId=ee.readInt(),this._furnitureCount=ee.readInt(),!0):!1}get userId(){return this._userId}get furnitureCount(){return this._furnitureCount}}class GroupInformationParser{flush(){return this._id=0,this._type=0,this._title=null,this._description=null,this._badge=null,this._roomId=0,this._roomName=null,this._membershipType=0,this._membersCount=0,this._isFavorite=!1,this._createdAt=null,this._isOwner=!1,this._isAdmin=!1,this._ownerName=null,this._flag=!1,this._canMembersDecorate=!1,this._pendingRequestsCount=0,!0}parse(ee){return ee?(this._id=ee.readInt(),ee.readBoolean(),this._type=ee.readInt(),this._title=ee.readString(),this._description=ee.readString(),this._badge=ee.readString(),this._roomId=ee.readInt(),this._roomName=ee.readString(),this._membershipType=ee.readInt(),this._membersCount=ee.readInt(),this._isFavorite=ee.readBoolean(),this._createdAt=ee.readString(),this._isOwner=ee.readBoolean(),this._isAdmin=ee.readBoolean(),this._ownerName=ee.readString(),this._flag=ee.readBoolean(),this._canMembersDecorate=ee.readBoolean(),this._pendingRequestsCount=ee.readInt(),!0):!1}get id(){return this._id}get type(){return this._type}get title(){return this._title}get description(){return this._description}get badge(){return this._badge}get roomId(){return this._roomId}get roomName(){return this._roomName}get membershipType(){return this._membershipType}get membersCount(){return this._membersCount}get isFavorite(){return this._isFavorite}get createdAt(){return this._createdAt}get isOwner(){return this._isOwner}get isAdmin(){return this._isAdmin}get ownerName(){return this._ownerName}get flag(){return this._flag}get canMembersDecorate(){return this._canMembersDecorate}get pendingRequestsCount(){return this._pendingRequestsCount}}class GroupDataBadgePart{constructor(ee){this.isBase=ee,this.key=0,this.color=0,this.position=4}get code(){return this.key===0?null:(this.isBase?"b":"s")+(this.key<100?"0":"")+(this.key<10?"0":"")+this.key+(this.color<10?"0":"")+this.color+this.position}}const TP=class TP{};TP.OWNER=0,TP.ADMIN=1,TP.MEMBER=2,TP.REQUESTED=3,TP.DELETED=4;let GroupRank=TP;class GroupMemberParser{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._rank=-1,this._id=0,this._name=null,this._figure=null,this._joinedAt=null,!0}parse(ee){return ee?(this._rank=ee.readInt(),this._id=ee.readInt(),this._name=ee.readString(),this._figure=ee.readString(),this._joinedAt=ee.readString(),!0):!1}get id(){return this._id}get name(){return this._name}get figure(){return this._figure}get rank(){return this._rank}get joinedAt(){return this._joinedAt}}class GroupMembersParser{flush(){return this._groupId=0,this._groupTitle=null,this._roomId=0,this._badge=null,this._totalMembersCount=0,this._result=[],this._admin=!1,this._pageSize=0,this._pageIndex=0,this._level=0,this._query=null,!0}parse(ee){if(!ee)return!1;this._groupId=ee.readInt(),this._groupTitle=ee.readString(),this._roomId=ee.readInt(),this._badge=ee.readString(),this._totalMembersCount=ee.readInt();let te=ee.readInt();for(;te>0;)this._result.push(new GroupMemberParser(ee)),te--;return this._admin=ee.readBoolean(),this._pageSize=ee.readInt(),this._pageIndex=ee.readInt(),this._level=ee.readInt(),this._query=ee.readString(),!0}get groupId(){return this._groupId}get groupTitle(){return this._groupTitle}get roomId(){return this._roomId}get badge(){return this._badge}get totalMembersCount(){return this._totalMembersCount}get result(){return this._result}get admin(){return this._admin}get pageSize(){return this._pageSize}get pageIndex(){return this._pageIndex}get level(){return this._level}get query(){return this._query}}class GroupPurchasedParser{flush(){return this._roomId=0,this._groupId=0,!0}parse(ee){return ee?(this._roomId=ee.readInt(),this._groupId=ee.readInt(),!0):!1}get roomId(){return this._roomId}get guildId(){return this._groupId}}class GroupSettingsParser{flush(){return this._roomId=0,this._roomName=null,this._id=0,this._title=null,this._description=null,this._colorA=0,this._colorB=0,this._state=0,this._canMembersDecorate=!1,this._badgeParts=new Map,this._badgeCode=null,this._membersCount=0,!0}parse(ee){if(!ee)return!1;ee.readInt()===1&&(this._roomId=ee.readInt(),this._roomName=ee.readString(),ee.readBoolean()),ee.readBoolean(),this._id=ee.readInt(),this._title=ee.readString(),this._description=ee.readString(),ee.readInt(),this._colorA=ee.readInt(),this._colorB=ee.readInt(),this._state=ee.readInt(),this._canMembersDecorate=ee.readInt()===0,ee.readBoolean(),ee.readString();const se=ee.readInt();for(let ne=0;ne<se;ne++){const le=new GroupDataBadgePart(ne===0);le.key=ee.readInt(),le.color=ee.readInt(),le.position=ee.readInt(),le.key===0&&(le.position=4),this._badgeParts.set(ne,le)}return this._badgeCode=ee.readString(),this._membersCount=ee.readInt(),!0}get roomId(){return this._roomId}get roomName(){return this._roomName}get id(){return this._id}get title(){return this._title}get description(){return this._description}get colorA(){return this._colorA}get colorB(){return this._colorB}get state(){return this._state}get canMembersDecorate(){return this._canMembersDecorate}get badgeParts(){return this._badgeParts}get badgeCode(){return this._badgeCode}get membersCount(){return this._membersCount}}class HabboGroupDeactivatedMessageParser{flush(){return!0}parse(ee){return this._groupId=ee.readInt(),!0}get groupId(){return this._groupId}}class ForumData{static parse(ee){return this.fillFromMessage(new ForumData,ee)}static fillFromMessage(ee,te){return ee._groupId=te.readInt(),ee._name=te.readString(),ee._description=te.readString(),ee._icon=te.readString(),ee._totalThreads=te.readInt(),ee._leaderboardScore=te.readInt(),ee._totalMessages=te.readInt(),ee._unreadMessages=te.readInt(),ee._lastMessageId=te.readInt(),ee._lastMessageAuthorId=te.readInt(),ee._lastMessageAuthorName=te.readString(),ee._lastMessageTimeAsSecondsAgo=te.readInt(),ee}get groupId(){return this._groupId}get name(){return this._name}get description(){return this._description}get icon(){return this._icon}get totalThreads(){return this._totalThreads}get leaderboardScore(){return this._leaderboardScore}get totalMessages(){return this._totalMessages}get unreadMessages(){return this._unreadMessages}get lastMessageId(){return this._lastMessageId}get lastMessageAuthorId(){return this._lastMessageAuthorId}get lastMessageAuthorName(){return this._lastMessageAuthorName}get lastMessageTimeAsSecondsAgo(){return this._lastMessageTimeAsSecondsAgo}updateFrom(ee){this._totalThreads=ee._totalThreads,this._totalMessages=ee._totalMessages,this._unreadMessages=ee._unreadMessages,this._lastMessageAuthorId=ee._lastMessageAuthorId,this._lastMessageAuthorName=ee._lastMessageAuthorName,this._lastMessageId=ee._lastMessageId,this._lastMessageTimeAsSecondsAgo=ee._lastMessageTimeAsSecondsAgo}get lastReadMessageId(){return this._totalMessages-this._unreadMessages}set lastReadMessageId(ee){this._unreadMessages=this._totalMessages-ee,this._unreadMessages<0&&(this._unreadMessages=0)}addNewThread(ee){this._lastMessageAuthorId=ee.lastUserId,this._lastMessageAuthorName=ee.lastUserName,this._lastMessageId=ee.lastMessageId,this._lastMessageTimeAsSecondsAgo=ee.lastCommentTime,this._totalThreads++,this._totalMessages++,this._unreadMessages=0}}class ExtendedForumData extends ForumData{static parse(ee){const te=new ExtendedForumData;return ForumData.fillFromMessage(te,ee),te._readPermissions=ee.readInt(),te._postMessagePermissions=ee.readInt(),te._postThreadPermissions=ee.readInt(),te._moderatePermissions=ee.readInt(),te._readPermissionError=ee.readString(),te._postMessagePermissionError=ee.readString(),te._postThreadPermissionError=ee.readString(),te._moderatePermissionError=ee.readString(),te._reportPermissionError=ee.readString(),te._canChangeSettings=ee.readBoolean(),te._isStaff=ee.readBoolean(),te}get readPermissions(){return this._readPermissions}get postMessagePermissions(){return this._postMessagePermissions}get postThreadPermissions(){return this._postThreadPermissions}get moderatePermissions(){return this._moderatePermissions}get hasReadPermissionError(){return this._readPermissionError.length===0}get canReport(){return!0}get hasPostMessagePermissionError(){return this._postMessagePermissionError.length===0}get hasPostThreadPermissionError(){return this._postThreadPermissionError.length===0}get hasModeratePermissionError(){return this._moderatePermissionError.length===0}get canChangeSettings(){return this._canChangeSettings}get isStaf(){return this._isStaff}get readPermissionError(){return this._readPermissionError}get postMessagePermissionError(){return this._postMessagePermissionError}get postThreadPermissionError(){return this._postThreadPermissionError}get moderatePermissionError(){return this._moderatePermissionError}get reportPermissionError(){return this._reportPermissionError}}class ForumDataMessageParser{flush(){return this._extendedForumData=null,!0}parse(ee){return ee?(this._extendedForumData=ExtendedForumData.parse(ee),!0):!1}get extendedForumData(){return this._extendedForumData}}class GetForumsListMessageParser{flush(){return this._listCode=-1,this._totalAmount=0,this._startIndex=-1,this._amount=0,this._forums=[],!0}parse(ee){if(!ee)return!1;this._listCode=ee.readInt(),this._totalAmount=ee.readInt(),this._startIndex=ee.readInt(),this._amount=ee.readInt(),this._forums=[];let te=0;for(;te<this._amount;)this._forums.push(ForumData.parse(ee)),te++;return!0}get listCode(){return this._listCode}get totalAmount(){return this._totalAmount}get startIndex(){return this._startIndex}get amount(){return this._amount}get forums(){return this._forums}}class GuildForumThread{static parse(ee){const te=new GuildForumThread;return te._threadId=ee.readInt(),te._authorId=ee.readInt(),te._authorName=ee.readString(),te._header=ee.readString(),te._isPinned=ee.readBoolean(),te._isLocked=ee.readBoolean(),te._creationTimeAsSecondsAgo=ee.readInt(),te._totalMessages=ee.readInt(),te._unreadMessagesCount=ee.readInt(),te._lastMessageId=ee.readInt(),te._lastUserId=ee.readInt(),te._lastUserName=ee.readString(),te._lastCommentTime=ee.readInt(),te._state=ee.readByte(),te._adminId=ee.readInt(),te._adminName=ee.readString(),te._adminOperationTimeAsSecondsAgo=ee.readInt(),te}get adminOperationTimeAsSecondsAgo(){return this._adminOperationTimeAsSecondsAgo}set adminOperationTimeAsSecondsAgo(ee){this._adminOperationTimeAsSecondsAgo=ee}get lastCommentTime(){return this._lastCommentTime}set lastCommentTime(ee){this._lastCommentTime=ee}get threadId(){return this._threadId}set threadId(ee){this._threadId=ee}get authorId(){return this._authorId}set authorId(ee){this._authorId=ee}get authorName(){return this._authorName}set authorName(ee){this._authorName=ee}get creationTimeAsSecondsAgo(){return this._creationTimeAsSecondsAgo}set creationTimeAsSecondsAgo(ee){this._creationTimeAsSecondsAgo=ee}get header(){return this._header}set header(ee){this._header=ee}get lastMessageId(){return this._lastMessageId}set lastMessageId(ee){this._lastMessageId=ee}get lastUserId(){return this._lastUserId}set lastUserId(ee){this._lastUserId=ee}get lastUserName(){return this._lastUserName}set lastUserName(ee){this._lastUserName=ee}get totalMessages(){return this._totalMessages}set totalMessages(ee){this._totalMessages=ee}get unreadMessagesCount(){return this._unreadMessagesCount}set unreadMessagesCount(ee){this._unreadMessagesCount=ee}get state(){return this._state}set state(ee){this._state=ee}get adminId(){return this._adminId}set adminId(ee){this._adminId=ee}get adminName(){return this._adminName}set adminName(ee){this._adminName=ee}get isPinned(){return this._isPinned}set isPinned(ee){this._isPinned=ee}get isLocked(){return this._isLocked}set isLocked(ee){this._isLocked=ee}}class GuildForumThreadsParser{flush(){return this._groupId=-1,this._startIndex=-1,this._amount=0,this._threads=[],!0}parse(ee){if(!ee)return!1;this._groupId=ee.readInt(),this._startIndex=ee.readInt(),this._amount=ee.readInt(),this._threads=[];let te=0;for(;te<this._amount;)this._threads.push(GuildForumThread.parse(ee)),te++;return!0}get groupId(){return this._groupId}get startIndex(){return this._startIndex}get amount(){return this._amount}get threads(){return this._threads}}class MessageData{static parse(ee){const te=new MessageData;return te._messageId=ee.readInt(),te._messageIndex=ee.readInt(),te._authorId=ee.readInt(),te._authorName=ee.readString(),te._authorFigure=ee.readString(),te._creationTime=ee.readInt(),te._messageText=ee.readString(),te._state=ee.readByte(),te._adminId=ee.readInt(),te._adminName=ee.readString(),te._adminOperationTimeAsSeccondsAgo=ee.readInt(),te._authorPostCount=ee.readInt(),te}get state(){return this._state}set state(ee){this._state=ee}get adminId(){return this._adminId}set adminId(ee){this._adminId=ee}get adminName(){return this._adminName}set adminName(ee){this._adminName=ee}get adminOperationTimeAsSeccondsAgo(){return this._adminOperationTimeAsSeccondsAgo}set adminOperationTimeAsSeccondsAgo(ee){this._adminOperationTimeAsSeccondsAgo=ee}get messageId(){return this._messageId}set messageId(ee){this._messageId=ee}get creationTime(){return this._creationTime}set creationTime(ee){this._creationTime=ee}get authorName(){return this._authorName}set authorName(ee){this._authorName=ee}get authorFigure(){return this._authorFigure}set authorFigure(ee){this._authorFigure=ee}get threadId(){return this._threadId}set threadId(ee){this._threadId=ee}get messageIndex(){return this._messageIndex}set messageIndex(ee){this._messageIndex=ee}set groupID(ee){this._groupId=ee}get groupId(){return this._groupId}get authorId(){return this._authorId}set authorId(ee){this._authorId=ee}get messageText(){return this._messageText}set messageText(ee){this._messageText=ee}get authorPostCount(){return this._authorPostCount}set authorPostCount(ee){this._authorPostCount=ee}}class PostMessageMessageParser{flush(){return this._groupId=-1,this._threadId=-1,this._message=null,!0}parse(ee){return ee?(this._groupId=ee.readInt(),this._threadId=ee.readInt(),this._message=MessageData.parse(ee),!0):!1}get groupId(){return this._groupId}get threadId(){return this._threadId}get message(){return this._message}}class PostThreadMessageParser{flush(){return this._groupId=-1,this._thread=null,!0}parse(ee){return ee?(this._groupId=ee.readInt(),this._thread=GuildForumThread.parse(ee),!0):!1}get groupId(){return this._groupId}get thread(){return this._thread}}class ThreadMessagesMessageParser{flush(){return this._groupId=-1,this._threadId=-1,this._startIndex=-1,this._amount=0,this._messages=[],!0}parse(ee){if(!ee)return!1;this._groupId=ee.readInt(),this._threadId=ee.readInt(),this._startIndex=ee.readInt(),this._amount=ee.readInt(),this._messages=[];let te=0;for(;te<this._amount;){const se=MessageData.parse(ee);se.groupID=this._groupId,se.threadId=this._threadId,this._messages.push(se),te++}return!0}get groupId(){return this._groupId}get threadId(){return this._threadId}get startIndex(){return this._startIndex}get amount(){return this._amount}get messages(){return this._messages}}class UnreadForumsCountMessageParser{flush(){return this._count=0,!0}parse(ee){return ee?(this._count=ee.readInt(),!0):!1}get count(){return this._count}}class UpdateMessageMessageParser{flush(){return this._groupId=-1,this._threadId=-1,this._message=null,!0}parse(ee){return ee?(this._groupId=ee.readInt(),this._threadId=ee.readInt(),this._message=MessageData.parse(ee),!0):!1}get groupId(){return this._groupId}get threadId(){return this._threadId}get message(){return this._message}}class UpdateThreadMessageParser{flush(){return this._groupId=-1,this._thread=null,!0}parse(ee){return ee?(this._groupId=ee.readInt(),this._thread=GuildForumThread.parse(ee),!0):!1}get groupId(){return this._groupId}get thread(){return this._thread}}class CompleteDiffieHandshakeParser{constructor(){this._encryptedPublicKey=null,this._serverClientEncryption=!1}flush(){return!0}parse(ee){return ee?(this._encryptedPublicKey=ee.readString(),ee.bytesAvailable&&(this._serverClientEncryption=ee.readBoolean()),!0):!1}get encryptedPublicKey(){return this._encryptedPublicKey}get serverClientEncryption(){return this._serverClientEncryption}}class DisconnectReasonParser{flush(){return this._reason=-1,!0}parse(ee){return ee?(this._reason=0,ee.bytesAvailable&&(this._reason=ee.readInt()),!0):!1}get reason(){return this._reason}}class IdentityAccountsParser{flush(){return this._accounts&&(this._accounts=new Map),!0}parse(ee){if(!ee)return!1;this._accounts=new Map;let te=ee.readInt();for(;te>0;)this._accounts.set(ee.readInt(),ee.readString()),te--;return!0}get accounts(){return this._accounts}}class InitDiffieHandshakeParser{flush(){return!0}parse(ee){return ee?(this._encryptedPrime=ee.readString(),this._encryptedGenerator=ee.readString(),!0):!1}get encryptedPrime(){return this._encryptedPrime}get encryptedGenerator(){return this._encryptedGenerator}}class NoobnessLevelMessageParser{flush(){return this._noobnessLevel=0,!0}parse(ee){return ee?(this._noobnessLevel=ee.readInt(),!0):!1}get noobnessLevel(){return this._noobnessLevel}}class CallForHelpDisabledNotifyMessageParser{flush(){return!0}parse(ee){return ee?(this._infoUrl=ee.readString(),!0):!1}get infoUrl(){return this._infoUrl}}class CallForHelpPendingCallsDeletedMessageParser{flush(){return!0}parse(ee){return!0}}class CallForHelpPendingCallsMessageParser{flush(){return this._calls=[],!0}parse(ee){this._calls=[];const te=ee.readInt();for(let se=0;se<te;se++){const ne=ee.readString(),le=ee.readString(),ue=ee.readString();this._calls.push({callId:ne,timeStamp:le,message:ue})}return!0}get pendingCalls(){return this._calls}get count(){return this._calls.length}}class CallForHelpReplyMessageParser{flush(){return this._message=null,!0}parse(ee){return this._message=ee.readString(),!0}get message(){return this._message}}class CallForHelpResultMessageParser{flush(){return this._resultType=0,this._messageText=null,!0}parse(ee){return ee?(this._resultType=ee.readInt(),this._messageText=ee.readString(),!0):!1}get resultType(){return this._resultType}get messageText(){return this._messageText}}class ChatReviewSessionDetachedMessageParser{flush(){return!0}parse(ee){return!0}}class ChatReviewSessionOfferedToGuideMessageParser{flush(){return this._acceptanceTimeout=-1,!0}parse(ee){return this._acceptanceTimeout=ee.readInt(),!0}get acceptanceTimeout(){return this._acceptanceTimeout}}class ChatReviewSessionResultsMessageParser{flush(){return this._winningVoteCode=-1,this._ownVoteCode=-1,this._finalStatus=null,!0}parse(ee){this._finalStatus=[],this._winningVoteCode=ee.readInt(),this._ownVoteCode=ee.readInt();const te=ee.readInt();for(let se=0;se<te;se++)this._finalStatus.push(ee.readInt());return!0}get winningVoteCode(){return this._winningVoteCode}get ownVoteCode(){return this._ownVoteCode}get finalStatus(){return this._finalStatus}}class ChatReviewSessionStartedMessageParser{flush(){return!0}parse(ee){return this._votingTimeout=ee.readInt(),this._chatRecord=ee.readString(),!0}get votingTimeout(){return this._votingTimeout}get chatRecord(){return this._chatRecord}}const FM=class FM{flush(){return this._status=null,!0}parse(ee){this._status=[];const te=ee.readInt();for(let se=0;se<te;se++)this._status.push(ee.readInt());return!0}get status(){return this._status}};FM.AWAITING_VOTE=0,FM.VOTED_OK=1,FM.VOTED_BAD=2,FM.VOTED_VERY_BAD=3,FM.NO_VOTE=4,FM.FINDING_NEW_VOTER=5;let ChatReviewSessionVotingStatusMessageParser=FM;class GuideOnDutyStatusMessageParser{flush(){return this._onDuty=!1,this._guidesOnDuty=0,this._helpersOnDuty=0,this._guardiansOnDuty=0,!0}parse(ee){return ee?(this._onDuty=ee.readBoolean(),this._guidesOnDuty=ee.readInt(),this._helpersOnDuty=ee.readInt(),this._guardiansOnDuty=ee.readInt(),!0):!1}get onDuty(){return this._onDuty}get guidesOnDuty(){return this._guidesOnDuty}get helpersOnDuty(){return this._helpersOnDuty}get guardiansOnDuty(){return this._guardiansOnDuty}}class PendingGuideTicketData{constructor(ee,te,se,ne,le,ue,ce){this._type=ee,this._secondsAgo=te,this._isGuide=se,this._otherPartyName=ne,this._otherPartyFigure=le,this._description=ue,this._roomName=ce}get type(){return this._type}set type(ee){this._type=ee}get secondsAgo(){return this._secondsAgo}set secondsAgo(ee){this._secondsAgo=ee}get isGuide(){return this._isGuide}set isGuide(ee){this._isGuide=ee}get otherPartyName(){return this._otherPartyName}set otherPartyName(ee){this._otherPartyName=ee}get otherPartyFigure(){return this._otherPartyFigure}set otherPartyFigure(ee){this._otherPartyFigure=ee}get description(){return this._description}set description(ee){this._description=ee}get roomName(){return this._roomName}set roomName(ee){this._roomName=ee}}const RN=class RN{flush(){return this._statusCode=0,this._pendingTicket=null,!0}parse(ee){return ee?(this._statusCode=ee.readInt(),this._pendingTicket=new PendingGuideTicketData(ee.readInt(),ee.readInt(),ee.readBoolean(),ee.readString(),ee.readString(),ee.readString(),ee.readString()),!0):!1}get statusCode(){return this._statusCode}get pendingTicket(){return this._pendingTicket}};RN.GUIDE_REPORTING_STATUS_OK=0,RN.GUIDE_REPORTING_STATUS_PENDING_TICKET=1,RN.GUIDE_REPORTING_STATUS_ABUSIVE=2,RN.GUIDE_REPORTING_STATUS_REPORTING_TOO_QUICKLY=3;let GuideReportingStatusMessageParser=RN;class GuideSessionAttachedMessageParser{flush(){return this._asGuide=!1,this._helpRequestType=0,this._helpRequestDescription=null,this._roleSpecificWaitTime=0,!0}parse(ee){return ee?(this._asGuide=ee.readBoolean(),this._helpRequestType=ee.readInt(),this._helpRequestDescription=ee.readString(),this._roleSpecificWaitTime=ee.readInt(),!0):!1}get asGuide(){return this._asGuide}get helpRequestType(){return this._helpRequestType}get helpRequestDescription(){return this._helpRequestDescription}get roleSpecificWaitTime(){return this._roleSpecificWaitTime}}class GuideSessionDetachedMessageParser{flush(){return!0}parse(ee){return!!ee}}class GuideSessionEndedMessageParser{flush(){return this._endReason=0,!0}parse(ee){return ee?(this._endReason=ee.readInt(),!0):!1}get endReason(){return this._endReason}}const SP=class SP{flush(){return this._errorCode=0,!0}parse(ee){return ee?(this._errorCode=ee.readInt(),!0):!1}get errorCode(){return this._errorCode}};SP.ERROR_GENERIC=0,SP.ERROR_GUIDES_REJECT=1,SP.ERROR_NOT_ENOUGH_GUIDES=2,SP.ERROR_NOT_ENOUGH_VOTES=3,SP.ERROR_NO_CHATLOG_FOUND=4;let GuideSessionErrorMessageParser=SP;class GuideSessionInvitedToGuideRoomMessageParser{flush(){return this._roomId=0,this._roomName=null,!0}parse(ee){return ee?(this._roomId=ee.readInt(),this._roomName=ee.readString(),!0):!1}get roomId(){return this._roomId}get roomName(){return this._roomName}}class GuideSessionMessageMessageParser{flush(){return this._chatMessage=null,this._senderId=0,!0}parse(ee){return ee?(this._chatMessage=ee.readString(),this._senderId=ee.readInt(),!0):!1}get chatMessage(){return this._chatMessage}get senderId(){return this._senderId}}class GuideSessionPartnerIsTypingMessageParser{flush(){return this._isTyping=!1,!0}parse(ee){return ee?(this._isTyping=ee.readBoolean(),!0):!1}get isTyping(){return this._isTyping}}class GuideSessionRequesterRoomMessageParser{flush(){return this._requesterRoomId=0,!0}parse(ee){return ee?(this._requesterRoomId=ee.readInt(),!0):!1}get requesterRoomId(){return this._requesterRoomId}}class GuideSessionStartedMessageParser{flush(){return this._requesterUserId=0,this._requesterName=null,this._requesterFigure=null,this._guideUserId=0,this._guideName=null,this._guideFigure=null,!0}parse(ee){return ee?(this._requesterUserId=ee.readInt(),this._requesterName=ee.readString(),this._requesterFigure=ee.readString(),this._guideUserId=ee.readInt(),this._guideName=ee.readString(),this._guideFigure=ee.readString(),!0):!1}get requesterUserId(){return this._requesterUserId}get requesterName(){return this._requesterName}get requesterFigure(){return this._requesterFigure}get guideUserId(){return this._guideUserId}get guideName(){return this._guideName}get guideFigure(){return this._guideFigure}}const TN=class TN{flush(){return this._result=0,!0}parse(ee){return ee?(this._result=ee.readInt(),!0):!1}get result(){return this._result}};TN.CREATION_RESULT_OK=0,TN.CREATION_RESULT_UNABLE_TO_REPORT=1,TN.CREATION_RESULT_NO_CHATLOG_FOUND=2,TN.CREATION_RESULT_BULLY_ALREADY_REPORTED=3;let GuideTicketCreationResultMessageParser=TN;const DD=class DD{flush(){return this._resolution=0,!0}parse(ee){return ee?(this._resolution=ee.readInt(),!0):!1}get resolution(){return this._resolution}};DD.RESOLUTION_GUARDIANS_TOOK_ACTION=0,DD.RESOLUTION_FORWARDED_TO_MODERATORS=1,DD.RESOLUTION_REPORTER_IS_ABUSIVE=2;let GuideTicketResolutionMessageParser=DD;class HotelMergeNameChangeParser{flush(){return!0}parse(ee){return!!ee}}class IssueCloseNotificationMessageParser{flush(){return this._closeReason=0,this._messageText="",!0}parse(ee){return ee?(this._closeReason=ee.readInt(),this._messageText=ee.readString(),!0):!1}get closeReason(){return this._closeReason}get messageText(){return this._messageText}}class QuizDataMessageParser{flush(){return this._quizCode=null,this._questionIds=[],!0}parse(ee){if(!ee)return!1;this._quizCode=ee.readString();const te=ee.readInt();this._questionIds=[];for(let se=0;se<te;se++)this._questionIds.push(ee.readInt());return!0}get quizCode(){return this._quizCode}get questionIds(){return this._questionIds}}class QuizResultsMessageParser{flush(){return this._quizCode=null,this._questionIdsForWrongAnswers=[],!0}parse(ee){if(!ee)return!1;this._quizCode=ee.readString();const te=ee.readInt();this._questionIdsForWrongAnswers=[];for(let se=0;se<te;se++)this._questionIdsForWrongAnswers.push(ee.readInt());return!0}get quizCode(){return this._quizCode}get questionIdsForWrongAnswers(){return this._questionIdsForWrongAnswers}}const LD=class LD{constructor(ee){this._id=ee.readInt(),this._title=ee.readString(),this._bodyText=ee.readString(),this._buttonText=ee.readString(),this._linkType=ee.readInt(),this._linkContent=ee.readString(),this._imageUrl=ee.readString()}get id(){return this._id}get title(){return this._title}get bodyText(){return this._bodyText}get buttonText(){return this._buttonText}get linkType(){return this._linkType}get linkContent(){return this._linkContent}get imageUrl(){return this._imageUrl}};LD.LINK_TYPE_URL=0,LD.LINK_TYPE_INTERNAL=1,LD.LINK_TYPE_NO_LINK=2;let PromoArticleData=LD;class PromoArticlesMessageParser{flush(){return this._articles=[],!0}parse(ee){if(!ee)return!1;const te=ee.readInt();for(let se=0;se<te;se++)this._articles.push(new PromoArticleData(ee));return!0}get articles(){return this._articles}}class CommunityVoteReceivedParser{flush(){return!0}parse(ee){return ee?(this._acknowledged=ee.readBoolean(),!0):!1}get acknowledged(){return this._acknowledged}}class MarketplaceBuyOfferResultParser{flush(){return this._newOfferId=-1,this._newPrice=0,this._requestedOfferId=-1,!0}parse(ee){return ee?(this._result=ee.readInt(),this._newOfferId=ee.readInt(),this._newPrice=ee.readInt(),this._requestedOfferId=ee.readInt(),!0):!1}get result(){return this._result}get offerId(){return this._newOfferId}get newPrice(){return this._newPrice}get requestedOfferId(){return this._requestedOfferId}}class MarketplaceCancelOfferResultParser{flush(){return this._offerId=0,this._success=!1,!0}parse(ee){return ee?(this._offerId=ee.readInt(),this._success=ee.readBoolean(),!0):!1}get offerId(){return this._offerId}get success(){return this._success}}class MarketplaceCanMakeOfferResultParser{flush(){return this._tokenCount=0,this._result=0,!0}parse(ee){return ee?(this._result=ee.readInt(),this._tokenCount=ee.readInt(),!0):!1}get tokenCount(){return this._tokenCount}get resultCode(){return this._result}}class MarketplaceConfigurationMessageParser{flush(){return this._enabled=!1,this._commission=0,this._credits=0,this._advertisements=0,this._maximumPrice=0,this._minimumPrice=0,this._offerTime=0,this._displayTime=0,!0}parse(ee){return ee?(this._enabled=ee.readBoolean(),this._commission=ee.readInt(),this._credits=ee.readInt(),this._advertisements=ee.readInt(),this._minimumPrice=ee.readInt(),this._maximumPrice=ee.readInt(),this._offerTime=ee.readInt(),this._displayTime=ee.readInt(),!0):!1}get enabled(){return this._enabled}get commission(){return this._commission}get credits(){return this._credits}get advertisements(){return this._advertisements}get minimumPrice(){return this._minimumPrice}get maximumPrice(){return this._maximumPrice}get offerTime(){return this._offerTime}get displayTime(){return this._displayTime}}class MarketplaceMakeOfferResultParser{flush(){return this._result=0,!0}parse(ee){return ee?(this._result=ee.readInt(),!0):!1}get result(){return this._result}}class MarketplaceItemStatsParser{flush(){return this._averagePrice=0,this._currentOfferCount=0,this._historyLength=0,this._dayOffsets=[],this._averagePrices=[],this._soldAmounts=[],this._furniTypeId=0,this._furniCategoryId=0,!0}parse(ee){if(!ee)return!1;this._averagePrice=ee.readInt(),this._currentOfferCount=ee.readInt(),this._historyLength=ee.readInt();let te=ee.readInt();for(;te>0;)this._dayOffsets.push(ee.readInt()),this._averagePrices.push(ee.readInt()),this._soldAmounts.push(ee.readInt()),te--;return this._furniCategoryId=ee.readInt(),this._furniTypeId=ee.readInt(),!0}get averagePrice(){return this._averagePrice}get offerCount(){return this._currentOfferCount}get historyLength(){return this._historyLength}get dayOffsets(){return this._dayOffsets}get averagePrices(){return this._averagePrices}get soldAmounts(){return this._soldAmounts}get furniTypeId(){return this._furniTypeId}get furniCategoryId(){return this._furniCategoryId}}class MarketplaceOffer{constructor(ee,te,se,ne,le,ue,ce,he,de,_e=-1){this._timeLeftMinutes=-1,this._offerId=ee,this._furniId=te,this._furniType=se,this._extraData=ne,this._stuffData=le,this._price=ue,this._status=ce,this._timeLeftMinutes=he,this._averagePrice=de,this._offerCount=_e}get offerId(){return this._offerId}get furniId(){return this._furniId}get furniType(){return this._furniType}get extraData(){return this._extraData}get stuffData(){return this._stuffData}get price(){return this._price}get status(){return this._status}get timeLeftMinutes(){return this._timeLeftMinutes}get averagePrice(){return this._averagePrice}get offerCount(){return this._offerCount}get isUniqueLimitedItem(){return this.stuffData!=null&&this.stuffData.uniqueSeries>0}}const j2=class j2{constructor(ee,te,se,ne,le,ue,ce,he,de=-1){this._timeLeftMinutes=-1,this._offerId=ee,this._furniId=te,this._furniType=se,this._extraData=ne,this._stuffData=le,this._price=ue,this._status=ce,this._averagePrice=he,this._offerCount=de}get offerId(){return this._offerId}set offerId(ee){this._offerId=ee}get furniId(){return this._furniId}get furniType(){return this._furniType}get extraData(){return this._extraData}get stuffData(){return this._stuffData}get price(){return this._price}set price(ee){this._price=ee}get averagePrice(){return this._averagePrice}get image(){return this._image}set image(ee){this._image=ee}get imageCallback(){return this._imageCallback}set imageCallback(ee){this._imageCallback=ee}get status(){return this._status}get timeLeftMinutes(){return this._timeLeftMinutes}set timeLeftMinutes(ee){this._timeLeftMinutes=ee}get offerCount(){return this._offerCount}set offerCount(ee){this._offerCount=ee}get isUniqueLimitedItem(){return this.stuffData&&this.stuffData.uniqueSeries>0}};j2.TYPE_LANDSCAPE=1,j2.TYPE_FLOOR=2;let MarketplaceOfferData=j2;const lM=class lM{constructor(){this.MAX_LIST_LENGTH=500}flush(){return this._offers=[],this._totalItemsFound=0,!0}parse(ee){if(!ee)return!1;const te=ee.readInt();let se=0;for(;se<te;){const ne=ee.readInt(),le=ee.readInt();let ue=ee.readInt(),ce=-1,he="",de=null;ue===lM.FURNITYPE_STUFF?(ce=ee.readInt(),de=FurnitureDataParser.parseObjectData(ee)):ue===lM.FURNITYPE_WALL?(ce=ee.readInt(),he=ee.readString()):ue==lM.FAKE_FURNITYPE_UNIQUE&&(ce=ee.readInt(),de=ObjectDataFactory.getData(LegacyDataType.FORMAT_KEY),de.uniqueNumber=ee.readInt(),de.uniqueSeries=ee.readInt(),ue=lM.FURNITYPE_STUFF);const _e=ee.readInt(),fe=ee.readInt(),ye=ee.readInt(),be=ee.readInt(),Pe=new MarketplaceOffer(ne,ce,ue,he,de,_e,le,fe,ye,be);se<this.MAX_LIST_LENGTH&&this._offers.push(Pe),se++}return this._totalItemsFound=ee.readInt(),!0}get offers(){return this._offers}get totalItemsFound(){return this._totalItemsFound}};lM.FURNITYPE_STUFF=1,lM.FURNITYPE_WALL=2,lM.FAKE_FURNITYPE_UNIQUE=3;let MarketplaceOffersParser=lM;const G2=class G2{flush(){return this._offers=[],!0}parse(ee){if(!ee)return!1;this._offers=[],this._creditsWaiting=ee.readInt();const te=ee.readInt();for(let se=0;se<te;se++){const ne=ee.readInt(),le=ee.readInt();let ue=ee.readInt(),ce,he,de;ue==1?(ce=ee.readInt(),de=this.getStuffData(ee)):ue==2?(ce=ee.readInt(),he=ee.readString()):ue==3&&(ce=ee.readInt(),de=ObjectDataFactory.getData(LegacyDataType.FORMAT_KEY),de.uniqueNumber=ee.readInt(),de.uniqueSeries=ee.readInt(),ue=1);const _e=ee.readInt(),fe=ee.readInt(),ye=ee.readInt(),be=new MarketplaceOffer(ne,ce,ue,he,de,_e,le,fe,ye);se<G2.MAX_LIST_LENGTH&&this._offers.push(be)}return!0}get offers(){return this._offers}get creditsWaiting(){return this._creditsWaiting}getStuffData(ee){const te=ee.readInt(),se=ObjectDataFactory.getData(te);return se.parseWrapper(ee),se}};G2.MAX_LIST_LENGTH=500;let MarketplaceOwnOffersParser=G2;class ChatlineData{constructor(ee,te,se,ne,le){this._timestamp=ee,this._habboId=te,this._username=se,this._message=ne,this._hasHighlighting=le}get timestamp(){return this._timestamp}get userId(){return this._habboId}get userName(){return this._username}get message(){return this._message}get hasHighlighting(){return this._hasHighlighting}}const uM=class uM{constructor(ee){this._context=new Map,this._chatlog=[],this._recordType=ee.readByte();const te=ee.readShort();for(let ne=0;ne<te;ne++){const le=ee.readString(),ue=ee.readByte();switch(ue){case 0:this._context.set(le,ee.readBoolean());break;case 1:this._context.set(le,ee.readInt());break;case 2:this._context.set(le,ee.readString());break;default:throw new Error("Unknown data type "+ue)}}const se=ee.readShort();for(let ne=0;ne<se;ne++){const le=ee.readString(),ue=ee.readInt(),ce=ee.readString(),he=ee.readString(),de=ee.readBoolean();this._chatlog.push(new ChatlineData(le,ue,ce,he,de))}}get recordType(){return this._recordType}get context(){return this._context}get chatlog(){return this._chatlog}get roomId(){return this.getInt("roomId")}get roomName(){return this._context.get("roomName")}get groupId(){return this.getInt("groupId")}get threadId(){return this.getInt("threadId")}get messageId(){return this.getInt("messageId")}getInt(ee){const te=this._context.get(ee);return te||0}};uM.TYPE_SIMPLE=0,uM.TYPE_ROOM_CHAT=1,uM.TYPE_IM_SESSION=2,uM.TYPE_DISCUSSION_THREAD=3,uM.TYPE_DISCUSSION_MESSAGE=4,uM.TYPE_SELFIE=5,uM.TYPE_PHOTO=6;let ChatRecordData=uM;class CfhChatlogData{constructor(ee){this._issueId=ee.readInt(),this._callerUserId=ee.readInt(),this._reportedUserId=ee.readInt(),this._chatRecordId=ee.readInt(),this._chatRecord=new ChatRecordData(ee)}get issueId(){return this._issueId}get callerUserId(){return this._callerUserId}get reportedUserId(){return this._reportedUserId}get chatRecordId(){return this._chatRecordId}get chatRecord(){return this._chatRecord}}class CfhChatlogMessageParser{flush(){return this._data=null,!0}parse(ee){return ee?(this._data=new CfhChatlogData(ee),!0):!1}get data(){return this._data}}class IssueDeletedMessageParser{flush(){return!0}parse(ee){return this._issueId=parseInt(ee.readString()),!0}get issueId(){return this._issueId}}const UD=class UD{constructor(ee,te,se,ne,le,ue,ce,he,de,_e,fe,ye,be,Pe,Ne,we){this._disposed=!1,this._issueId=ee,this._state=te,this._categoryId=se,this._reportedCategoryId=ne,this._issueAgeInMilliseconds=le,this._priority=ue,this._groupingId=ce,this._reporterUserId=he,this._reporterUserName=de,this._reportedUserId=_e,this._reportedUserName=fe,this._pickerUserId=ye,this._pickerUserName=be,this._message=Pe,this._chatRecordId=Ne,this._patterns=we,this._creationTimeInMilliseconds=GetTickerTime()}get issueId(){return this._issueId}get state(){return this._state}get categoryId(){return this._categoryId}get reportedCategoryId(){return this._reportedCategoryId}get issueAgeInMilliseconds(){return this._issueAgeInMilliseconds}get priority(){return this._priority}get groupingId(){return this._groupingId}get reporterUserId(){return this._reporterUserId}get reporterUserName(){return this._reporterUserName}get reportedUserId(){return this._reportedUserId}get reportedUserName(){return this._reportedUserName}get pickerUserId(){return this._pickerUserId}get pickerUserName(){return this._pickerUserName}get message(){return this._message}get chatRecordId(){return this._chatRecordId}get patterns(){return this._patterns}dispose(){if(!this.disposed){for(const ee of this._patterns)ee.dispose();this._patterns=[],this._disposed=!0}}get disposed(){return this._disposed}getOpenTime(ee){const se=(this._issueAgeInMilliseconds+ee-this._creationTimeInMilliseconds)/1e3/60,ne=se%60,le=se/60,ue=(ne<10?"0":"")+ne;return(le<10?"0":"")+le+":"+ue}};UD.STATE_OPEN=1,UD.STATE_PICKED=2,UD.STATE_CLOSED=3;let IssueMessageData=UD;class PatternMatchData{constructor(ee){this._disposed=!1,this._pattern=ee.readString(),this._startIndex=ee.readInt(),this._endIndex=ee.readInt()}dispose(){this._disposed=!0,this._pattern="",this._startIndex=-1,this._endIndex=-1}get disposed(){return this._disposed}get pattern(){return this._pattern}get startIndex(){return this._startIndex}get endIndex(){return this._endIndex}}class IssueInfoMessageParser{get issueData(){return this._issueData}flush(){return this._issueData=null,!0}parse(ee){const te=ee.readInt(),se=ee.readInt(),ne=ee.readInt(),le=ee.readInt(),ue=ee.readInt(),ce=ee.readInt(),he=ee.readInt(),de=ee.readInt(),_e=ee.readString(),fe=ee.readInt(),ye=ee.readString(),be=ee.readInt(),Pe=ee.readString(),Ne=ee.readString(),we=ee.readInt(),De=ee.readInt(),$e=[];for(let Ge=0;Ge<De;Ge++)$e.push(new PatternMatchData(ee));return this._issueData=new IssueMessageData(te,se,ne,le,ue,ce,he,de,_e,fe,ye,be,Pe,Ne,we,$e),!0}}class IssuePickFailedMessageParser{flush(){return this._issues=null,!0}parse(ee){this._issues=[];const te=ee.readInt();for(let se=0;se<te;se++){const ne=ee.readInt(),le=ee.readInt(),ue=ee.readString(),ce=new IssueMessageData(ne,0,0,0,0,0,0,0,null,0,null,le,ue,null,0,[]);this._issues.push(ce)}return this._retryEnabled=ee.readBoolean(),this._retryCount=ee.readInt(),!0}get issues(){return this._issues}get retryEnabled(){return this._retryEnabled}get retryCount(){return this._retryCount}}class ModerationCautionParser{flush(){return this._message="",this._url=null,!0}parse(ee){return ee?(this._message=ee.readString(),this._url=ee.readString(),!0):!1}get message(){return this._message}get url(){return this._url}}class ModeratorActionResultMessageParser{flush(){return this._userId=-1,this._success=!1,!0}parse(ee){return this._userId=ee.readInt(),this._success=ee.readBoolean(),!0}get userId(){return this._userId}get success(){return this._success}}class ModeratorInitData{constructor(ee){this._disposed=!1;const te=new IssueInfoMessageParser;this._issues=[],this._messageTemplates=[],this._roomMessageTemplates=[];let se=ee.readInt(),ne=0;for(;ne<se;)te.parse(ee)&&this._issues.push(te.issueData),ne++;for(se=ee.readInt(),ne=0;ne<se;)this._messageTemplates.push(ee.readString()),ne++;for(se=ee.readInt(),ne=0;ne<se;)ee.readString(),ne++;for(this._cfhPermission=ee.readBoolean(),this._chatlogsPermission=ee.readBoolean(),this._alertPermission=ee.readBoolean(),this._kickPermission=ee.readBoolean(),this._banPermission=ee.readBoolean(),this._roomAlertPermission=ee.readBoolean(),this._roomKickPermission=ee.readBoolean(),se=ee.readInt(),ne=0;ne<se;)this._roomMessageTemplates.push(ee.readString()),ne++}dispose(){this._disposed||(this._disposed=!0,this._messageTemplates=null,this._roomMessageTemplates=null,this._issues=null)}get disposed(){return this._disposed}get messageTemplates(){return this._messageTemplates}get roomMessageTemplates(){return this._roomMessageTemplates}get issues(){return this._issues}get cfhPermission(){return this._cfhPermission}get chatlogsPermission(){return this._chatlogsPermission}get alertPermission(){return this._alertPermission}get kickPermission(){return this._kickPermission}get banPermission(){return this._banPermission}get roomAlertPermission(){return this._roomAlertPermission}get roomKickPermission(){return this._roomKickPermission}}class ModeratorInitMessageParser{constructor(){this._data=null}flush(){return this._data=null,!0}parse(ee){return this._data=new ModeratorInitData(ee),!0}get data(){return this._data}}class ModeratorMessageParser{flush(){return this._message="",this._url="",!0}parse(ee){return ee?(this._message=ee.readString(),this._url=ee.readString(),!0):!1}get message(){return this._message}get url(){return this._url}}class ModRoomData{constructor(ee){if(this._tags=[],this._exists=ee.readBoolean(),!this.exists)return;this._name=ee.readString(),this._desc=ee.readString();const te=ee.readInt();for(let se=0;se<te;se++)this._tags.push(ee.readString())}get name(){return this._name}get desc(){return this._desc}get tags(){return this._tags}get exists(){return this._exists}get disposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._tags=null)}}class RoomModerationData{constructor(ee){this._flatId=ee.readInt(),this._userCount=ee.readInt(),this._ownerInRoom=ee.readBoolean(),this._ownerId=ee.readInt(),this._ownerName=ee.readString(),this._room=new ModRoomData(ee)}get flatId(){return this._flatId}get userCount(){return this._userCount}get ownerInRoom(){return this._ownerInRoom}get ownerId(){return this._ownerId}get ownerName(){return this._ownerName}get room(){return this._room}get disposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._room!=null&&(this._room.dispose(),this._room=null))}}class ModeratorRoomInfoMessageParser{flush(){return this._data=null,!0}parse(ee){return ee?(this._data=new RoomModerationData(ee),!0):!1}get data(){return this._data}}class ModeratorToolPreferencesMessageParser{flush(){return this._windowX=0,this._windowY=0,this._windowWidth=0,this._windowHeight=0,!0}parse(ee){return this._windowX=ee.readInt(),this._windowY=ee.readInt(),this._windowWidth=ee.readInt(),this._windowHeight=ee.readInt(),!0}get windowX(){return this._windowX}get windowY(){return this._windowY}get windowWidth(){return this._windowWidth}get windowHeight(){return this._windowHeight}}class ModeratorUserInfoData{constructor(ee){this._lastSanctionTime="",this._sanctionAgeHours=0,this._userId=ee.readInt(),this._userName=ee.readString(),this._figure=ee.readString(),this._registrationAgeInMinutes=ee.readInt(),this._minutesSinceLastLogin=ee.readInt(),this._online=ee.readBoolean(),this._cfhCount=ee.readInt(),this._abusiveCfhCount=ee.readInt(),this._cautionCount=ee.readInt(),this._banCount=ee.readInt(),this._tradingLockCount=ee.readInt(),this._tradingExpiryDate=ee.readString(),this._lastPurchaseDate=ee.readString(),this._identityId=ee.readInt(),this._identityRelatedBanCount=ee.readInt(),this._primaryEmailAddress=ee.readString(),this._userClassification=ee.readString(),ee.bytesAvailable&&(this._lastSanctionTime=ee.readString(),this._sanctionAgeHours=ee.readInt())}get userId(){return this._userId}get userName(){return this._userName}get figure(){return this._figure}get registrationAgeInMinutes(){return this._registrationAgeInMinutes}get minutesSinceLastLogin(){return this._minutesSinceLastLogin}get online(){return this._online}get cfhCount(){return this._cfhCount}get abusiveCfhCount(){return this._abusiveCfhCount}get cautionCount(){return this._cautionCount}get banCount(){return this._banCount}get tradingLockCount(){return this._tradingLockCount}get tradingExpiryDate(){return this._tradingExpiryDate}get lastPurchaseDate(){return this._lastPurchaseDate}get identityId(){return this._identityId}get identityRelatedBanCount(){return this._identityRelatedBanCount}get primaryEmailAddress(){return this._primaryEmailAddress}get userClassification(){return this._userClassification}get lastSanctionTime(){return this._lastSanctionTime}get sanctionAgeHours(){return this._sanctionAgeHours}}class ModeratorUserInfoMessageParser{flush(){return this._data=null,!0}parse(ee){return ee?(this._data=new ModeratorUserInfoData(ee),!0):!1}get data(){return this._data}}class RoomChatlogMessageParser{flush(){return this._data=null,!0}parse(ee){return ee?(this._data=new ChatRecordData(ee),!0):!1}get data(){return this._data}}class RoomVisitData{constructor(ee){this._roomId=ee.readInt(),this._roomName=ee.readString(),this._enterHour=ee.readInt(),this._enterMinute=ee.readInt()}get roomId(){return this._roomId}get roomName(){return this._roomName}get enterHour(){return this._enterHour}get enterMinute(){return this._enterMinute}}class RoomVisitsData{constructor(ee){this._rooms=[],this._userId=ee.readInt(),this._userName=ee.readString();const te=ee.readInt();let se=0;for(;se<te;)this._rooms.push(new RoomVisitData(ee)),se++}get userId(){return this._userId}get userName(){return this._userName}get rooms(){return this._rooms}}class RoomVisitsMessageParser{flush(){return!0}parse(ee){return this._data=new RoomVisitsData(ee),!0}get data(){return this._data}}class UserBannedMessageParser{flush(){return this._message="",!0}parse(ee){return ee?(this._message=ee.readString(),!0):!1}get message(){return this._message}}class UserChatlogData{constructor(ee){this._roomChatlogs=[],this._userId=ee.readInt(),this._username=ee.readString();const te=ee.readInt();for(let se=0;se<te;se++)this._roomChatlogs.push(new ChatRecordData(ee))}get userId(){return this._userId}get username(){return this._username}get roomChatlogs(){return this._roomChatlogs}}class UserChatlogMessageParser{flush(){return this._data=null,!0}parse(ee){return ee?(this._data=new UserChatlogData(ee),!0):!1}get data(){return this._data}}class CancelMysteryBoxWaitMessageParser{flush(){return!0}parse(ee){return!!ee}}class GotMysteryBoxPrizeMessageParser{flush(){return!0}parse(ee){return ee?(this._contentType=ee.readString(),this._classId=ee.readInt(),!0):!1}get contentType(){return this._contentType}get classId(){return this._classId}}class MysteryBoxKeysParser{flush(){return this._boxColor=null,this._keyColor=null,!0}parse(ee){return ee?(this._boxColor=ee.readString(),this._keyColor=ee.readString(),!0):!1}get boxColor(){return this._boxColor}get keyColor(){return this._keyColor}}class ShowMysteryBoxWaitMessageParser{flush(){return!0}parse(ee){return!!ee}}class CanCreateRoomEventParser{flush(){return this._canCreate=!1,this._errorCode=0,!0}parse(ee){return ee?(this._canCreate=ee.readBoolean(),this._errorCode=ee.readInt(),!0):!1}get canCreate(){return this._canCreate}get errorCode(){return this._errorCode}}const k2=class k2{flush(){return!0}parse(ee){return ee?(this._resultCode=ee.readInt(),this._roomLimit=ee.readInt(),!0):!1}get resultCode(){return this._resultCode}get roomLimit(){return this._roomLimit}};k2.CREATION_ALLOWED=0,k2.ROOM_LIMIT_REACHED=1;let CanCreateRoomMessageParser=k2;class CategoriesWithVisitorCountData{constructor(ee){this._categoryToCurrentUserCountMap=new Map,this._categoryToMaxUserCountMap=new Map;const te=ee.readInt();for(let se=0;se<te;se++){const ne=ee.readInt(),le=ee.readInt(),ue=ee.readInt();this._categoryToCurrentUserCountMap.set(ne,le),this._categoryToMaxUserCountMap.set(ne,ue)}}get categoryToCurrentUserCountMap(){return this._categoryToCurrentUserCountMap}get categoryToMaxUserCountMap(){return this._categoryToMaxUserCountMap}}class CompetitionRoomsData{constructor(ee,te=0,se=0){this._goalId=te,this._pageIndex=se,ee&&(this._goalId=ee.readInt(),this._pageIndex=ee.readInt(),this._pageCount=ee.readInt())}get goalId(){return this._goalId}get pageIndex(){return this._pageIndex}get pageCount(){return this._pageCount}}const cM=class cM{constructor(ee){this._index=ee.readInt(),this._popupCaption=ee.readString(),this._popupDesc=ee.readString(),this._showDetails=ee.readInt()==1,this._picText=ee.readString(),this._picRef=ee.readString(),this._folderId=ee.readInt(),this._userCount=ee.readInt(),this._type=ee.readInt(),this._type==cM.TYPE_TAG?this._tag=ee.readString():this._type==cM.TYPE_GUEST_ROOM?this._guestRoomData=new RoomDataParser(ee):this._open=ee.readBoolean()}dispose(){this._disposed||(this._disposed=!0,this._guestRoomData!=null&&(this._guestRoomData.flush(),this._guestRoomData=null))}get disposed(){return this._disposed}get type(){return this._type}get index(){return this._index}get popupCaption(){return this._popupCaption}get popupDesc(){return this._popupDesc}get showDetails(){return this._showDetails}get picText(){return this._picText}get picRef(){return this._picRef}get folderId(){return this._folderId}get tag(){return this._tag}get userCount(){return this._userCount}get guestRoomData(){return this._guestRoomData}get open(){return this._open}toggleOpen(){this._open=!this._open}get maxUsers(){return this.type==cM.TYPE_TAG?0:this.type==cM.TYPE_GUEST_ROOM?this._guestRoomData.maxUserCount:0}};cM.TYPE_TAG=1,cM.TYPE_GUEST_ROOM=2,cM.TYPE_FOLDER=4;let OfficialRoomEntryData=cM;class GuestRoomSearchResultData{constructor(ee){this._rooms=[],this._searchType=ee.readInt(),this._searchParam=ee.readString();const te=ee.readInt();for(let ne=0;ne<te;ne++)this._rooms.push(new RoomDataParser(ee));ee.readBoolean()&&(this._ad=new OfficialRoomEntryData(ee))}dispose(){if(!this._disposed){if(this._disposed=!0,this._rooms!=null)for(const ee of this._rooms)ee.flush();this._ad!=null&&(this._ad.dispose(),this._ad=null),this._rooms=null}}get disposed(){return this._disposed}get searchType(){return this._searchType}get searchParam(){return this._searchParam}get rooms(){return this._rooms}get ad(){return this._ad}}class NavigatorSavedSearch{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._id=-1,this._code=null,this._filter=null,this._localization=null,!0}parse(ee){return ee?(this._id=ee.readInt(),this._code=ee.readString(),this._filter=ee.readString(),this._localization=ee.readString(),!0):!1}get id(){return this._id}get code(){return this._code}get filter(){return this._filter}get localization(){return this._localization}}class NavigatorSearchResultList{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._code=null,this._data=null,this._action=-1,this._closed=!1,this._mode=-1,this._rooms=[],!0}parse(ee){if(!ee)return!1;this._code=ee.readString(),this._data=ee.readString(),this._action=ee.readInt(),this._closed=ee.readBoolean(),this._mode=ee.readInt();let te=ee.readInt();for(;te>0;)this._rooms.push(new RoomDataParser(ee)),te--;return!0}get code(){return this._code}get data(){return this._data}get action(){return this._action}get closed(){return this._closed}get mode(){return this._mode}get rooms(){return this._rooms}}class NavigatorSearchResultSet{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._code=null,this._data=null,this._results=[],!0}parse(ee){if(!ee)return!1;this._code=ee.readString(),this._data=ee.readString();let te=ee.readInt();for(;te>0;)this._results.push(new NavigatorSearchResultList(ee)),te--;return!0}get code(){return this._code}get data(){return this._data}get results(){return this._results}}class NavigatorTopLevelContext{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._code=null,this._savedSearches=[],!0}parse(ee){if(!ee)return!1;this._code=ee.readString();let te=ee.readInt();for(;te>0;)this._savedSearches.push(new NavigatorSavedSearch(ee)),te--;return!0}get code(){return this._code}get savedSearches(){return this._savedSearches}}class RoomEventData{constructor(ee){this._adId=ee.readInt(),this._ownerAvatarId=ee.readInt(),this._ownerAvatarName=ee.readString(),this._flatId=ee.readInt(),this._eventType=ee.readInt(),this._eventName=ee.readString(),this._eventDescription=ee.readString();const te=ee.readInt(),se=ee.readInt(),ne=new Date;let le=ne.getTime();const ue=te*60*1e3;le=le-ue;const ce=new Date(le);this._creationTime=ce.getDate()+"-"+ce.getMonth()+"-"+ce.getFullYear()+" "+ce.getHours()+":"+ce.getMinutes();let he=ne.getTime();const de=se*60*1e3;he=he+de,this._expirationDate=new Date(he),this._categoryId=ee.readInt()}dispose(){this._disposed||(this._disposed=!0)}get disposed(){return this._disposed}get adId(){return this._adId}get ownerAvatarId(){return this._ownerAvatarId}get ownerAvatarName(){return this._ownerAvatarName}get flatId(){return this._flatId}get categoryId(){return this._categoryId}get eventType(){return this._eventType}get eventName(){return this._eventName}get eventDescription(){return this._eventDescription}get creationTime(){return this._creationTime}get expirationDate(){return this._expirationDate}}class CategoriesWithVisitorCountParser{flush(){return!0}parse(ee){return ee?(this._data=new CategoriesWithVisitorCountData(ee),!0):!1}get data(){return this._data}}class CompetitionRoomsDataMessageParser{flush(){return!0}parse(ee){return ee?(this._data=new CompetitionRoomsData(ee),!0):!1}get data(){return this._data}}class ConvertedRoomIdMessageParser{flush(){return!0}parse(ee){return ee?(this._globalId=ee.readString(),this._convertedId=ee.readInt(),!0):!1}get globalId(){return this._globalId}get convertedId(){return this._convertedId}}class DoorbellMessageParser{flush(){return this._userName=null,!0}parse(ee){return ee?(this._userName=ee.readString(),!0):!1}get userName(){return this._userName}}class FavouriteChangedMessageParser{flush(){return!0}parse(ee){return ee?(this._flatId=ee.readInt(),this._added=ee.readBoolean(),!0):!1}get flatId(){return this._flatId}get added(){return this._added}}class FavouritesMessageParser{flush(){return!0}parse(ee){if(!ee)return!1;this._favouriteRoomIds=[],this._limit=ee.readInt();const te=ee.readInt();for(let se=0;se<te;se++)this._favouriteRoomIds.push(ee.readInt());return!0}get limit(){return this._limit}get favoriteRoomIds(){return this._favouriteRoomIds}}class FlatAccessDeniedMessageParser{flush(){return this._userName=null,!0}parse(ee){return ee?(this._userName=ee.readString(),!0):!1}get userName(){return this._userName}}class FlatCreatedMessageParser{flush(){return this._roomId=-1,this._roomName=null,!0}parse(ee){return ee?(this._roomId=ee.readInt(),this._roomName=ee.readString(),!0):!1}get roomId(){return this._roomId}get roomName(){return this._roomName}}class GetGuestRoomResultMessageParser{flush(){return this._roomEnter=!1,this._roomForward=!1,this._data=null,this._staffPick=!1,this._isGroupMember=!1,this._moderation=null,this._chat=null,!0}parse(ee){return ee?(this._roomEnter=ee.readBoolean(),this._data=new RoomDataParser(ee),this._roomForward=ee.readBoolean(),this._staffPick=ee.readBoolean(),this._isGroupMember=ee.readBoolean(),this.data.allInRoomMuted=ee.readBoolean(),this._moderation=new RoomModerationSettings(ee),this.data.canMute=ee.readBoolean(),this._chat=new RoomChatSettings(ee),!0):!1}get roomEnter(){return this._roomEnter}get roomForward(){return this._roomForward}get data(){return this._data}get staffPick(){return this._staffPick}get isGroupMember(){return this._isGroupMember}get moderation(){return this._moderation}get chat(){return this._chat}}class GuestRoomSearchResultMessageParser{flush(){return!0}parse(ee){return ee?(this._data=new GuestRoomSearchResultData(ee),!0):!1}get data(){return this._data}}class NavigatorCategoryDataParser{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._id=-1,this._name=null,this._visible=!1,this._automatic=!1,this._automaticCategoryKey=null,this._globalCategoryKey=null,this._staffOnly=!1,!0}parse(ee){return ee?(this._id=ee.readInt(),this._name=ee.readString(),this._visible=ee.readBoolean(),this._automatic=ee.readBoolean(),this._automaticCategoryKey=ee.readString(),this._globalCategoryKey=ee.readString(),this._staffOnly=ee.readBoolean(),!0):!1}get id(){return this._id}get name(){return this._name}get visible(){return this._visible}get automatic(){return this._automatic}get automaticCategoryKey(){return this._automaticCategoryKey}get globalCategoryKey(){return this._globalCategoryKey}get staffOnly(){return this._staffOnly}}class NavigatorCollapsedParser{flush(){return this._categories=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._categories.push(ee.readString()),te--;return!0}get categories(){return this._categories}}class NavigatorEventCategoryDataParser{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._id=-1,this._name=null,this._visible=!1,!0}parse(ee){return ee?(this._id=ee.readInt(),this._name=ee.readString(),this._visible=ee.readBoolean(),!0):!1}get id(){return this._id}get name(){return this._name}get visible(){return this._visible}}class NavigatorHomeRoomParser{flush(){return this._homeRoomId=-1,this._roomIdToEnter=-1,!0}parse(ee){return ee?(this._homeRoomId=ee.readInt(),this._roomIdToEnter=ee.readInt(),!0):!1}get homeRoomId(){return this._homeRoomId}get roomIdToEnter(){return this._roomIdToEnter}}class NavigatorLiftedDataParser{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._roomId=-1,this._areaId=-1,this._image=null,this._caption=null,!0}parse(ee){return ee?(this._roomId=ee.readInt(),this._areaId=ee.readInt(),this._image=ee.readString(),this._caption=ee.readString(),!0):!1}get roomId(){return this._roomId}get areaId(){return this._areaId}get image(){return this._image}get caption(){return this._caption}}class NavigatorLiftedParser{flush(){return this._rooms=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._rooms.push(new NavigatorLiftedDataParser(ee)),te--;return!0}get rooms(){return this._rooms}}class NavigatorMetadataParser{flush(){return this._topLevelContexts=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._topLevelContexts.push(new NavigatorTopLevelContext(ee)),te--;return!0}get topLevelContexts(){return this._topLevelContexts}}class NavigatorOpenRoomCreatorParser{flush(){return!0}parse(ee){return!!ee}}class NavigatorSearchesParser{flush(){return this._searches=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._searches.push(new NavigatorSavedSearch(ee)),te--;return!0}get searches(){return this._searches}}class NavigatorSearchParser{flush(){return this._result=null,!0}parse(ee){return ee?(this._result=new NavigatorSearchResultSet(ee),!0):!1}get result(){return this._result}}class NavigatorSettingsParser{flush(){return this._windowX=0,this._windowY=0,this._windowWidth=0,this._windowHeight=0,this._leftPanelHidden=!1,this._resultsMode=0,!0}parse(ee){return ee?(this._windowX=ee.readInt(),this._windowY=ee.readInt(),this._windowWidth=ee.readInt(),this._windowHeight=ee.readInt(),this._leftPanelHidden=ee.readBoolean(),this._resultsMode=ee.readInt(),!0):!1}get windowX(){return this._windowX}get windowY(){return this._windowY}get windowWidth(){return this._windowWidth}get windowHeight(){return this._windowHeight}get leftPanelHidden(){return this._leftPanelHidden}get resultsMode(){return this._resultsMode}}class PopularTagData{constructor(ee){this._tagName=ee.readString(),this._userCount=ee.readInt()}get tagName(){return this._tagName}get userCount(){return this._userCount}}class PopularRoomTagsData{constructor(ee){if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._tags=[],!0}parse(ee){if(!ee)return!1;this._tags=[];const te=ee.readInt();let se=0;for(;se<te;)this._tags.push(new PopularTagData(ee)),se++;return!0}get tags(){return this._tags}}class PopularRoomTagsResultMessageParser{flush(){return this._data=null,!0}parse(ee){return ee?(this._data=new PopularRoomTagsData(ee),!0):!1}get data(){return this._data}}class RoomEventCancelMessageParser{flush(){return!0}parse(ee){return!0}}class RoomEventMessageParser{flush(){return!0}parse(ee){return this._data=new RoomEventData(ee),!0}get data(){return this._data}}class RoomFilterSettingsMessageParser{flush(){return this._words=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._words.push(ee.readString()),te--;return!0}get words(){return this._words}}class RoomSettingsUpdatedParser{flush(){return this._roomId=0,!0}parse(ee){return ee?(this._roomId=ee.readInt(),!0):!1}get roomId(){return this._roomId}}class RoomThumbnailUpdateResultMessageParser{flush(){return!0}parse(ee){return this._flatId=ee.readInt(),this._resultCode=ee.readInt(),!0}get flatId(){return this._flatId}get resultCode(){return this._resultCode}}class UserEventCatsMessageParser{flush(){return this._categories=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._categories.push(new NavigatorEventCategoryDataParser(ee)),te--;return!0}get categories(){return this._categories}}class UserFlatCatsMessageParser{flush(){return this._categories=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._categories.push(new NavigatorCategoryDataParser(ee)),te--;return!0}get categories(){return this._categories}}class AchievementLevelUpData{constructor(ee){this._badgeCode="",this._removedBadgeCode="",this._type=ee.readInt(),this._level=ee.readInt(),this._badgeId=ee.readInt(),this._badgeCode=ee.readString(),this._points=ee.readInt(),this._levelRewardPoints=ee.readInt(),this._levelRewardPointType=ee.readInt(),this._bonusPoints=ee.readInt(),this._achievementID=ee.readInt(),this._removedBadgeCode=ee.readString(),this._category=ee.readString(),this._showDialogToUser=ee.readBoolean()}get type(){return this._type}get level(){return this._level}get points(){return this._points}get levelRewardPoints(){return this._levelRewardPoints}get levelRewardPointType(){return this._levelRewardPointType}get bonusPoints(){return this._bonusPoints}get badgeId(){return this._badgeId}get badgeCode(){return this._badgeCode}get removedBadgeCode(){return this._removedBadgeCode}get achievementID(){return this._achievementID}get category(){return this._category}get showDialogToUser(){return this._showDialogToUser}}class AchievementNotificationMessageParser{flush(){return this._data=null,!0}parse(ee){return ee?(this._data=new AchievementLevelUpData(ee),!0):!1}get data(){return this._data}}class ActivityPointNotificationParser{flush(){return this._amount=0,this._amountChanged=0,this._type=-1,!0}parse(ee){return ee?(this._amount=ee.readInt(),this._amountChanged=ee.readInt(),this._type=ee.readInt(),!0):!1}get amount(){return this._amount}get amountChanged(){return this._amountChanged}get type(){return this._type}}class BotErrorEventParser{flush(){return this._errorCode=-1,!0}parse(ee){return ee?(this._errorCode=ee.readInt(),!0):!1}get errorCode(){return this._errorCode}}class ClubGiftNotificationParser{flush(){return this._numGifts=0,!0}parse(ee){return ee?(this._numGifts=ee.readInt(),!0):!1}get numGifts(){return this._numGifts}}class ConnectionErrorMessageParser{flush(){return this._errorCode=0,this._messageId=0,this._timestamp=null,!0}parse(ee){return ee?(this._messageId=ee.readInt(),this._errorCode=ee.readInt(),this._timestamp=ee.readString(),!0):!1}get errorCode(){return this._errorCode}get messageId(){return this._messageId}get timestamp(){return this._timestamp}}class ElementPointerMessageParser{flush(){return this._key=null,!0}parse(ee){return ee?(this._key=ee.readString(),!0):!1}get key(){return this._key}}class HabboBroadcastMessageParser{flush(){return this._message=null,!0}parse(ee){return ee?(this._message=ee.readString(),!0):!1}get message(){return this._message}}class InfoFeedEnableMessageParser{flush(){return this._enabled=!1,!0}parse(ee){return ee?(this._enabled=ee.readBoolean(),!0):!1}get enabled(){return this._enabled}}class MOTDNotificationParser{flush(){return this._messages=[],!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;)this._messages.push(ee.readString()),te--;return!0}get messages(){return this._messages}}class NotificationDialogMessageParser{flush(){return this._type=null,this._parameters=new Map,!0}parse(ee){if(!ee)return!1;this._type=ee.readString();let te=ee.readInt();for(;te>0;)this._parameters.set(ee.readString(),ee.readString()),te--;return!0}get type(){return this._type}get parameters(){return this._parameters}}class PetLevelNotificationParser{flush(){return this._petId=-1,this._petName=null,this._level=0,this._figureData=null,!0}parse(ee){return ee?(this._petId=ee.readInt(),this._petName=ee.readString(),this._level=ee.readInt(),this._figureData=new PetFigureDataParser(ee),!0):!1}get petId(){return this._petId}get petName(){return this._petName}get level(){return this._level}get figureData(){return this._figureData}}class PetPlacingErrorEventParser{flush(){return this._errorCode=-1,!0}parse(ee){return ee?(this._errorCode=ee.readInt(),!0):!1}get errorCode(){return this._errorCode}}class SimpleAlertMessageParser{flush(){return this._alertMessage=null,!0}parse(ee){return ee?(this._alertMessage=ee.readString(),ee.bytesAvailable&&(this._titleMessage=ee.readString()),!0):!1}get alertMessage(){return this._alertMessage}get titleMessage(){return this._titleMessage}}class UnseenItemsParser{flush(){return this._items=new AdvancedMap,!0}parse(ee){if(!ee)return!1;let te=ee.readInt();for(;te>0;){const se=ee.readInt();let ne=ee.readInt();const le=[];for(;ne>0;)le.push(ee.readInt()),ne--;this._items.add(se,le),te--}return!0}getItemsByCategory(ee){return this._items.getValue(ee)}get categories(){return this._items.getKeys()}}class PerkData{constructor(ee,te,se){this._code=ee,this._errorMessage=te,this._isAllowed=se}get code(){return this._code}get errorMessage(){return this._errorMessage}get isAllowed(){return this._isAllowed}}const uI=class uI{};uI.USE_GUIDE_TOOL="USE_GUIDE_TOOL",uI.GIVE_GUIDE_TOUR="GIVE_GUIDE_TOUR",uI.JUDGE_CHAT_REVIEWS="JUDGE_CHAT_REVIEWS",uI.VOTE_IN_COMPETITIONS="VOTE_IN_COMPETITIONS",uI.CALL_ON_HELPERS="CALL_ON_HELPERS",uI.CITIZEN="CITIZEN",uI.TRADE="TRADE",uI.HEIGHTMAP_EDITOR_BETA="HEIGHTMAP_EDITOR_BETA",uI.BUILDER_AT_WORK="BUILDER_AT_WORK",uI.NAVIGATOR_ROOM_THUMBNAIL_CAMERA="NAVIGATOR_ROOM_THUMBNAIL_CAMERA",uI.CAMERA="CAMERA",uI.MOUSE_ZOOM="MOUSE_ZOOM";let PerkEnum=uI;class PerkAllowancesMessageParser{flush(){return this._perks=[],!0}parse(ee){if(!ee)return!1;this._perks=[];const te=ee.readInt();for(let se=0;se<te;se++)this._perks.push(new PerkData(ee.readString(),ee.readString(),ee.readBoolean()));return!0}isAllowed(ee){let te=!1;for(const se of this._perks)if(se.code===ee){te=se.isAllowed;break}return te}get perks(){return this._perks}}class OpenPetPackageRequestedMessageParser{flush(){return this._objectId=-1,this._figureData=null,!0}parse(ee){return this._objectId=ee.readInt(),ee.bytesAvailable&&(this._figureData=new PetFigureData(ee.readString())),!0}get objectId(){return this._objectId}get figureData(){return this._figureData}}class OpenPetPackageResultMessageParser{flush(){return this._objectId=0,this._nameValidationStatus=0,this._nameValidationInfo=null,!0}parse(ee){return this._objectId=ee.readInt(),this._nameValidationStatus=ee.readInt(),this._nameValidationInfo=ee.readString(),!0}get objectId(){return this._objectId}get nameValidationStatus(){return this._nameValidationStatus}get nameValidationInfo(){return this._nameValidationInfo}}class PetLevelUpdateMessageParser{flush(){return this._roomIndex=-1,this._petId=-1,this._level=-1,!0}parse(ee){return this._roomIndex=ee.readInt(),this._petId=ee.readInt(),this._level=ee.readInt(),!0}get roomIndex(){return this._roomIndex}get petId(){return this._petId}get level(){return this._level}}class PetScratchFailedMessageParser{flush(){return this._currentAge=-1,this._requiredAge=-1,!0}parse(ee){return this._currentAge=ee.readInt(),this._requiredAge=ee.readInt(),!0}get currentAge(){return this._currentAge}get requiredAge(){return this._requiredAge}}class PetTrainingMessageParser{flush(){return this._petId=-1,this._commands=[],this._enabledCommands=[],!0}parse(ee){this._petId=ee.readInt();let te=ee.readInt();for(;te>0;)this._commands.push(ee.readInt()),te--;let se=ee.readInt();for(;se>0;)this._enabledCommands.push(ee.readInt()),se--;return!0}get petId(){return this._petId}get commands(){return this._commands}get enabledCommands(){return this._enabledCommands}}class PollChoice{constructor(ee,te,se){this._value=ee,this._choiceText=te,this._choiceType=se}get value(){return this._value}set value(ee){this._value=ee}get choiceText(){return this._choiceText}set choiceText(ee){this._choiceText=ee}get choiceType(){return this._choiceType}set choiceType(ee){this._choiceType=ee}}class PollQuestion{constructor(){this._children=[],this._questionChoices=[]}get questionId(){return this._questionId}set questionId(ee){this._questionId=ee}get questionType(){return this._questionType}set questionType(ee){this._questionType=ee}get sortOrder(){return this._sortOrder}set sortOrder(ee){this._sortOrder=ee}get questionText(){return this._questionText}set questionText(ee){this._questionText=ee}get questionCategory(){return this._questionCategory}set questionCategory(ee){this._questionCategory=ee}get questionAnswerType(){return this._questionAnswerType}set questionAnswerType(ee){this._questionAnswerType=ee}get questionAnswerCount(){return this._questionAnswerCount}set questionAnswerCount(ee){this._questionAnswerCount=ee}get children(){return this._children}set children(ee){this._children=ee}get questionChoices(){return this._questionChoices}set questionChoices(ee){this._questionChoices=ee}}class PollContentsParser{constructor(){this._id=-1,this._startMessage="",this._endMessage="",this._numQuestions=0,this._questionArray=[],this._npsPoll=!1}flush(){return this._id=-1,this._startMessage="",this._endMessage="",this._numQuestions=0,this._questionArray=[],!0}parse(ee){this._id=ee.readInt(),this._startMessage=ee.readString(),this._endMessage=ee.readString(),this._numQuestions=ee.readInt();for(let te=0;te<this._numQuestions;te++){const se=this.parsePollQuestion(ee),ne=ee.readInt();for(let le=0;le<ne;le++)se.children.push(this.parsePollQuestion(ee));this._questionArray.push(se)}return this._npsPoll=ee.readBoolean(),!0}parsePollQuestion(ee){const te=new PollQuestion;if(te.questionId=ee.readInt(),te.sortOrder=ee.readInt(),te.questionType=ee.readInt(),te.questionText=ee.readString(),te.questionCategory=ee.readInt(),te.questionAnswerType=ee.readInt(),te.questionAnswerCount=ee.readInt(),te.questionType==1||te.questionType==2)for(let se=0;se<te.questionAnswerCount;se++)te.questionChoices.push(new PollChoice(ee.readString(),ee.readString(),ee.readInt()));return te}get id(){return this._id}get startMessage(){return this._startMessage}get endMessage(){return this._endMessage}get numQuestions(){return this._numQuestions}get questionArray(){return this._questionArray}get npsPoll(){return this._npsPoll}}class PollErrorParser{flush(){throw!0}parse(ee){return!0}}class PollOfferParser{constructor(){this._id=-1,this._type="",this._headline="",this._summary=""}flush(){return this._id=-1,this._type="",this._summary="",!0}parse(ee){return this._id=ee.readInt(),this._type=ee.readString(),this._headline=ee.readString(),this._summary=ee.readString(),!0}get id(){return this._id}get type(){return this._type}get headline(){return this._headline}get summary(){return this._summary}}class QuestionAnsweredParser{flush(){return this._userId=-1,this._value="",this._answerCounts=null,!0}parse(ee){this._userId=ee.readInt(),this._value=ee.readString(),this._answerCounts=new Map;const te=ee.readInt();for(let se=0;se<te;se++){const ne=ee.readString(),le=ee.readInt();this._answerCounts.set(ne,le)}return!0}get userId(){return this._userId}get value(){return this._value}get answerCounts(){return this._answerCounts}}class QuestionFinishedParser{flush(){return this._questionId=-1,this._answerCounts=null,!0}parse(ee){this._questionId=ee.readInt(),this._answerCounts=new Map;const te=ee.readInt();for(let se=0;se<te;se++){const ne=ee.readString(),le=ee.readInt();this._answerCounts.set(ne,le)}return!0}get questionId(){return this._questionId}get answerCounts(){return this._answerCounts}}class QuestionParser{constructor(){this._pollType=null,this._pollId=-1,this._questionId=-1,this._duration=-1,this._question=null}flush(){return this._pollType=null,this._pollId=-1,this._questionId=-1,this._duration=-1,this._question=null,!0}parse(ee){this._pollType=ee.readString(),this._pollId=ee.readInt(),this._questionId=ee.readInt(),this._duration=ee.readInt();const te=ee.readInt(),se=ee.readInt(),ne=ee.readInt(),le=ee.readString();if(this._question={id:te,number:se,type:ne,content:le},this._question.type==1||this._question.type==2){this._question.selection_min=ee.readInt();const ue=ee.readInt();this._question.selections=[],this._question.selection_values=[],this._question.selection_count=ue,this._question.selection_max=ue;for(let ce=0;ce<ue;ce++)this._question.selection_values.push(ee.readString()),this._question.selections.push(ee.readString())}return!0}get pollType(){return this._pollType}get pollId(){return this._pollId}get questionId(){return this._questionId}get duration(){return this._duration}get question(){return this._question}}class CommunityGoalData{constructor(ee){this._rewardUserLimits=[],this._hasGoalExpired=ee.readBoolean(),this._personalContributionScore=ee.readInt(),this._personalContributionRank=ee.readInt(),this._communityTotalScore=ee.readInt(),this._communityHighestAchievedLevel=ee.readInt(),this._scoreRemainingUntilNextLevel=ee.readInt(),this._percentCompletionTowardsNextLevel=ee.readInt(),this._goalCode=ee.readString(),this._timeRemainingInSeconds=ee.readInt();const te=ee.readInt();for(let se=0;se<te;se++)this._rewardUserLimits.push(ee.readInt())}dispose(){this._rewardUserLimits=null}get disposed(){return this._rewardUserLimits==null}get hasGoalExpired(){return this._hasGoalExpired}get personalContributionScore(){return this._personalContributionScore}get personalContributionRank(){return this._personalContributionRank}get communityTotalScore(){return this._communityTotalScore}get communityHighestAchievedLevel(){return this._communityHighestAchievedLevel}get scoreRemainingUntilNextLevel(){return this._scoreRemainingUntilNextLevel}get percentCompletionTowardsNextLevel(){return this._percentCompletionTowardsNextLevel}get timeRemainingInSeconds(){return this._timeRemainingInSeconds}get rewardUserLimits(){return this._rewardUserLimits}get goalCode(){return this._goalCode}}class PrizeData{constructor(ee){this._communityGoalId=ee.readInt(),this._communityGoalCode=ee.readString(),this._userRank=ee.readInt(),this._rewardCode=ee.readString(),this._badge=ee.readBoolean(),this._localizedName=ee.readString()}get communityGoalId(){return this._communityGoalId}get communityGoalCode(){return this._communityGoalCode}get userRank(){return this._userRank}get rewardCode(){return this._rewardCode}get badge(){return this._badge}get localizedName(){return this._localizedName}}class CommunityGoalEarnedPrizesMessageParser{flush(){return this._prizes=[],!0}parse(ee){if(!ee)return!1;const te=ee.readInt();for(let se=0;se<te;se++)this._prizes.push(new PrizeData(ee));return!0}get prizes(){return this._prizes}}class HallOfFameEntryData{constructor(ee){this._userId=ee.readInt(),this._userName=ee.readString(),this._figure=ee.readString(),this._rank=ee.readInt(),this._currentScore=ee.readInt()}get userId(){return this._userId}get userName(){return this._userName}get figure(){return this._figure}get rank(){return this._rank}get currentScore(){return this._currentScore}}class CommunityGoalHallOfFameData{constructor(ee){this._hof=[],this._goalCode=ee.readString();const te=ee.readInt();for(let se=0;se<te;se++)this._hof.push(new HallOfFameEntryData(ee))}dispose(){this._hof=null}get disposed(){return this._hof==null}get hof(){return this._hof}get goalCode(){return this._goalCode}}class CommunityGoalHallOfFameMessageParser{flush(){return this._data=null,!0}parse(ee){return ee?(this._data=new CommunityGoalHallOfFameData(ee),!0):!1}get data(){return this._data}}class CommunityGoalProgressMessageParser{flush(){return this._data=null,!0}parse(ee){return ee?(this._data=new CommunityGoalData(ee),!0):!1}get data(){return this._data}}class ConcurrentUsersGoalProgressMessageParser{flush(){return this._state=-1,this._userCount=-1,this._userCountGoal=-1,!0}parse(ee){return ee?(this._state=ee.readInt(),this._userCount=ee.readInt(),this._userCountGoal=ee.readInt(),!0):!1}get state(){return this._state}get userCount(){return this._userCount}get userCountGoal(){return this._userCountGoal}}class EpicPopupMessageParser{flush(){return this._imageUri="",!0}parse(ee){return ee?(this._imageUri=ee.readString(),!0):!1}get imageUri(){return this._imageUri}}class QuestCancelledMessageParser{flush(){return!0}parse(ee){return ee?(this._expired=ee.readBoolean(),!0):!1}get expired(){return this._expired}}class QuestMessageData{constructor(ee){this._receiveTime=new Date,this._campaignCode=ee.readString(),this._completedQuestsInCampaign=ee.readInt(),this._questCountInCampaign=ee.readInt(),this._activityPointType=ee.readInt(),this._id=ee.readInt(),this._accepted=ee.readBoolean(),this._type=ee.readString(),this._imageVersion=ee.readString(),this._rewardCurrencyAmount=ee.readInt(),this._localizationCode=ee.readString(),this._completedSteps=ee.readInt(),this._totalSteps=ee.readInt(),this._sortOrder=ee.readInt(),this._catalogPageName=ee.readString(),this._chainCode=ee.readString(),this._easy=ee.readBoolean()}static getCampaignLocalizationKeyForCode(ee){return"quests."+ee}get campaignCode(){return this._campaignCode}get localizationCode(){return this._localizationCode}get completedQuestsInCampaign(){return this._completedQuestsInCampaign}get questCountInCampaign(){return this._questCountInCampaign}get activityPointType(){return this._activityPointType}set accepted(ee){this._accepted=ee}get accepted(){return this._accepted}set id(ee){this._id=ee}get id(){return this._id}get type(){return this._type}get imageVersion(){return this._imageVersion}get rewardCurrencyAmount(){return this._rewardCurrencyAmount}get completedSteps(){return this._completedSteps}get totalSteps(){return this._totalSteps}get isCompleted(){return this._completedSteps==this._totalSteps}set waitPeriodSeconds(ee){this._waitPeriodSeconds=ee}get waitPeriodSeconds(){if(this._waitPeriodSeconds<1)return 0;const te=new Date().getTime()-this._receiveTime.getTime();return Math.max(0,this._waitPeriodSeconds-Math.floor(te/1e3))}getCampaignLocalizationKey(){return QuestMessageData.getCampaignLocalizationKeyForCode(this.campaignCode)}getQuestLocalizationKey(){return this.getCampaignLocalizationKey()+"."+this._localizationCode}get completedCampaign(){return this._id<1}get lastQuestInCampaign(){return this._completedQuestsInCampaign>=this._questCountInCampaign}get receiveTime(){return this._receiveTime}get sortOrder(){return this._sortOrder}get catalogPageName(){return this._catalogPageName}get chainCode(){return this._chainCode}get easy(){return this._easy}}class QuestCompletedMessageParser{flush(){return this._questData=null,!0}parse(ee){return ee?(this._questData=new QuestMessageData(ee),this._showDialog=ee.readBoolean(),!0):!1}get questData(){return this._questData}get showDialog(){return this._showDialog}}class QuestDailyMessageParser{flush(){return this._quest=null,!0}parse(ee){return ee?(ee.readBoolean()&&(this._quest=new QuestMessageData(ee),this._easyQuestCount=ee.readInt(),this._hardQuestCount=ee.readInt()),!0):!1}get quest(){return this._quest}get easyQuestCount(){return this._easyQuestCount}get hardQuestCount(){return this._hardQuestCount}}class QuestMessageParser{flush(){return this._quest=null,!0}parse(ee){return ee?(this._quest=new QuestMessageData(ee),!0):!1}get quest(){return this._quest}}class QuestsMessageParser{flush(){return this._quests=[],!0}parse(ee){if(!ee)return!1;const te=ee.readInt();for(let se=0;se<te;se++)this._quests.push(new QuestMessageData(ee));return this._openWindow=ee.readBoolean(),!0}get quests(){return this._quests}get openWindow(){return this._openWindow}}class SeasonalQuestsParser{flush(){return this._quests=[],!0}parse(ee){if(!ee)return!1;const te=ee.readInt();for(let se=0;se<te;se++)this._quests.push(new QuestMessageData(ee));return!0}get quests(){return this._quests}}class RecyclerFinishedMessageParser{flush(){return this._recyclerFinishedStatus=-1,this._prizeId=0,!0}parse(ee){return ee?(this._recyclerFinishedStatus=ee.readInt(),this._prizeId=ee.readInt(),!0):!1}get recyclerFinishedStatus(){return this._recyclerFinishedStatus}get prizeId(){return this._prizeId}}class RecyclerStatusMessageParser{flush(){return this._recyclerStatus=-1,this._recyclerTimeoutSeconds=0,!0}parse(ee){return ee?(this._recyclerStatus=ee.readInt(),this._recyclerTimeoutSeconds=ee.readInt(),!0):!1}get recyclerStatus(){return this._recyclerStatus}get recyclerTimeoutSeconds(){return this._recyclerTimeoutSeconds}}let Triggerable$1=class{constructor(ee){this._stuffIds=[],this._intParams=[],this._stuffTypeSelectionEnabled=ee.readBoolean(),this._furniLimit=ee.readInt();let te=ee.readInt();for(;te>0;)this._stuffIds.push(ee.readInt()),te--;for(this._stuffTypeId=ee.readInt(),this._id=ee.readInt(),this._stringParam=ee.readString(),te=ee.readInt();te>0;)this._intParams.push(ee.readInt()),te--;this._stuffTypeSelectionCode=ee.readInt()}getBoolean(ee){return this._intParams[ee]===1}get stuffTypeSelectionEnabled(){return this._stuffTypeSelectionEnabled}get stuffTypeSelectionCode(){return this._stuffTypeSelectionCode}set stuffTypeSelectionCode(ee){this._stuffTypeSelectionCode=ee}get maximumItemSelectionCount(){return this._furniLimit}get selectedItems(){return this._stuffIds}get id(){return this._id}get stringData(){return this._stringParam}get intData(){return this._intParams}get code(){return 0}get spriteId(){return this._stuffTypeId}},ConditionDefinition$1=class extends Triggerable$1{constructor(ee){super(ee),this._type=ee.readInt()}get type(){return this._type}get code(){return this._type}},TriggerDefinition$1=class extends Triggerable$1{constructor(ee){super(ee),this._conflictingActions=[],this._triggerConf=ee.readInt();let te=ee.readInt();for(;te>0;)this._conflictingActions.push(ee.readInt()),te--}get code(){return this._triggerConf}get conflictingActions(){return this._conflictingActions}},WiredActionDefinition$1=class extends Triggerable$1{constructor(ee){super(ee),this._conflictingTriggers=[],this._type=ee.readInt(),this._delayInPulses=ee.readInt();let te=ee.readInt();for(;te>0;)this._conflictingTriggers.push(ee.readInt()),te--}get type(){return this._type}get code(){return this._type}get delayInPulses(){return this._delayInPulses}get conflictingTriggers(){return this._conflictingTriggers}},WiredFurniActionParser$1=class{flush(){return this._definition=null,!0}parse(ee){return ee?(this._definition=new WiredActionDefinition$1(ee),!0):!1}get definition(){return this._definition}},WiredFurniConditionParser$1=class{flush(){return this._definition=null,!0}parse(ee){return ee?(this._definition=new ConditionDefinition$1(ee),!0):!1}get definition(){return this._definition}},WiredFurniTriggerParser$1=class{flush(){return this._definition=null,!0}parse(ee){return ee?(this._definition=new TriggerDefinition$1(ee),!0):!1}get definition(){return this._definition}};class WiredOpenParser{flush(){return this._stuffId=0,!0}parse(ee){return ee?(this._stuffId=ee.readInt(),!0):!1}get stuffId(){return this._stuffId}}class WiredRewardResultMessageParser{flush(){return this._reason=0,!0}parse(ee){return ee?(this._reason=ee.readInt(),!0):!1}get reason(){return this._reason}}class WiredSaveSuccessParser{flush(){return!0}parse(ee){return!!ee}}class WiredValidationErrorParser{flush(){return this._info=null,!0}parse(ee){return ee?(this._info=ee.readString(),!0):!1}get info(){return this._info}}class AuthenticatedParser{flush(){return!0}parse(ee){return!!ee}}class JukeboxPlayListFullMessageParser{flush(){return!0}parse(ee){return!0}}class JukeboxSongDisksMessageParser{constructor(){this._songDisks=new AdvancedMap}flush(){return this._songDisks.reset(),this._maxLength=0,!0}parse(ee){this._maxLength=ee.readInt();const te=ee.readInt();for(let se=0;se<te;se++)this._songDisks.add(ee.readInt(),ee.readInt());return!0}get songDisks(){return this._songDisks}get maxLength(){return this._maxLength}}class NowPlayingMessageParser{flush(){return this._currentSongId=-1,this._currentPosition=-1,this._nextSongId=-1,this._nextPosition=-1,this._syncCount=-1,!0}parse(ee){return this._currentSongId=ee.readInt(),this._currentPosition=ee.readInt(),this._nextSongId=ee.readInt(),this._nextPosition=ee.readInt(),this._syncCount=ee.readInt(),!0}get currentSongId(){return this._currentSongId}get currentPosition(){return this._currentPosition}get nextSongId(){return this._nextSongId}get nextPosition(){return this._nextPosition}get syncCount(){return this._syncCount}}class OfficialSongIdMessageParser{flush(){return this._songId=0,this._officialSongId="",!0}parse(ee){return this._officialSongId=ee.readString(),this._songId=ee.readInt(),!0}get songId(){return this._songId}get officialSongId(){return this._officialSongId}}class PlayListEntry{constructor(ee,te,se,ne){this._startPlayHead=0,this._id=ee,this._length=te,this._name=se,this._creator=ne}get id(){return this._id}get length(){return this._length}get name(){return this._name}get creator(){return this._creator}get startPlayHeadPos(){return this._startPlayHead}set startPlayHeadPos(ee){this._startPlayHead=ee}}class PlayListMessageParser{flush(){return this._synchronizationCount=-1,this._playlist=[],!0}parse(ee){this._synchronizationCount=ee.readInt();const te=ee.readInt();for(let se=0;se<te;se++)this._playlist.push(new PlayListEntry(ee.readInt(),ee.readInt(),ee.readString(),ee.readString()));return!0}get synchronizationCount(){return this._synchronizationCount}get playList(){return this._playlist}}class PlayListSongAddedMessageParser{flush(){return this._entry=null,!0}parse(ee){return this._entry=new PlayListEntry(ee.readInt(),ee.readInt(),ee.readString(),ee.readString()),!0}get entry(){return this._entry}}class SongInfoEntry extends PlayListEntry{constructor(ee,te,se,ne,le){super(ee,te,se,ne),this._data="",this._data=le}get data(){return this._data}}class TraxSongInfoMessageParser{flush(){return this._songs=[],!0}parse(ee){const te=ee.readInt();for(let se=0;se<te;se++){const ne=ee.readInt();ee.readString();const le=ee.readString(),ue=ee.readString(),ce=ee.readInt(),he=ee.readString(),de=new SongInfoEntry(ne,ce,le,he,ue);this._songs.push(de)}return!0}get songs(){return this._songs}}class UserSongDisksInventoryMessageParser{constructor(){this._songDiskInventory=new AdvancedMap}flush(){return this._songDiskInventory.reset(),!0}parse(ee){const te=ee.readInt();for(let se=0;se<te;se++)this._songDiskInventory.add(ee.readInt(),ee.readInt());return!0}getDiskId(ee){return ee>=0&&ee<this._songDiskInventory.length?this._songDiskInventory.getKey(ee):-1}getSongId(ee){return ee>=0&&ee<this._songDiskInventory.length?this._songDiskInventory.getWithIndex(ee):-1}get songDiskCount(){return this._songDiskInventory.length}}class TalentLevelUpMessageParser{flush(){return this._talentTrackName=null,this._level=-1,this._rewardPerks=[],this._rewardProducts=[],!0}parse(ee){if(!ee)return!1;let te=0;this._talentTrackName=ee.readString(),this._level=ee.readInt();const se=ee.readInt();for(;te<se;)this._rewardPerks.push(new TalentTrackRewardPerk(ee)),te++;const ne=ee.readInt();if(te<ne)for(let le=0;le<ne;le++){const ue=ee.readString(),ce=ee.readInt();this._rewardProducts.push(new TalentTrackRewardProduct(ue,ce)),te++}return!0}get talentTrackName(){return this._talentTrackName}get level(){return this._level}get rewardPerks(){return this._rewardPerks}get rewardProducts(){return this._rewardProducts}}class TalentTrackLevel{constructor(ee,te,se,ne,le){this._level=ee,this._state=te,this._tasks=se,this._rewardPerks=ne,this._rewardProducts=le}get level(){return this._level}get state(){return this._state}get tasks(){return this._tasks}get perks(){return this._rewardPerks}get items(){return this._rewardProducts}}class TalentTrackLevelMessageParser{flush(){return this._talentTrackName=null,this._level=-1,this._maxLevel=-1,!0}parse(ee){return ee?(this._talentTrackName=ee.readString(),this._level=ee.readInt(),this._maxLevel=ee.readInt(),!0):!1}get talentTrackName(){return this._talentTrackName}get level(){return this._level}get maxLevel(){return this._maxLevel}}class TalentTrackRewardProduct{constructor(ee,te){this._productCode=ee,this._vipDays=te}get productCode(){return this._productCode}get vipDays(){return this._vipDays}}class TalentTrackTask{constructor(ee,te,se,ne,le,ue){this._id=ee,this._requiredLevel=te,this._badgeCode=se,this._state=ne,this._currentScore=le,this._totalScore=ue}get id(){return this._id}get requiredLevel(){return this._requiredLevel}get badgeCode(){return this._badgeCode}get state(){return this._state}get currentScore(){return this._currentScore}get totalScore(){return this._totalScore}}class TalentTrackParser{flush(){return this._type=null,this._levels=null,!0}parse(ee){if(!ee)return!1;this._type=ee.readString(),this._levels=[];const te=ee.readInt();for(let se=0;se<te;se++){const ne=ee.readInt(),le=ee.readInt(),ue=[],ce=ee.readInt();for(let ye=0;ye<ce;ye++){const be=ee.readInt(),Pe=ee.readInt(),Ne=ee.readString(),we=ee.readInt(),De=ee.readInt(),$e=ee.readInt();ue.push(new TalentTrackTask(be,Pe,Ne,we,De,$e))}const he=[],de=ee.readInt();for(let ye=0;ye<de;ye++)he.push(ee.readString());const _e=[],fe=ee.readInt();for(let ye=0;ye<fe;ye++){const be=ee.readString(),Pe=ee.readInt();_e.push(new TalentTrackRewardProduct(be,Pe))}this._levels.push(new TalentTrackLevel(ne,le,ue,he,_e))}return!0}get type(){return this._type}get levels(){return this._levels}}class TalentTrackRewardPerk{constructor(ee){this._perkId=ee.readInt()}get perkId(){return this._perkId}}class UserClassificationMessageParser{flush(){return this._classifiedUsersNames&&(this._classifiedUsersNames=new Map),this._classifiedUsersClass&&(this._classifiedUsersClass=new Map),!0}parse(ee){if(!ee)return!1;let te,se,ne,le=ee.readInt();for(this._classifiedUsersNames=new Map,this._classifiedUsersClass=new Map;le>0;)te=ee.readInt(),se=ee.readString(),ne=ee.readString(),this._classifiedUsersNames.set(te,se),this._classifiedUsersClass.set(te,ne),le--;return!0}get classifiedUsernameMap(){return this._classifiedUsersNames}get classifiedUserTypeMap(){return this._classifiedUsersClass}}class InterstitialMessageEvent extends MessageEvent$1{constructor(ee){super(ee,InterstitialMessageParser)}getParser(){return this.parser}}class RoomAdErrorEvent extends MessageEvent$1{constructor(ee){super(ee,RoomAdErrorMessageParser)}getParser(){return this.parser}}class AvailabilityStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,AvailabilityStatusMessageParser)}getParser(){return this.parser}}class AvailabilityTimeMessageEvent extends MessageEvent$1{constructor(ee){super(ee,AvailabilityTimeMessageParser)}getParser(){return this.parser}}class HotelClosedAndOpensEvent extends MessageEvent$1{constructor(ee){super(ee,HotelClosedAndOpensMessageParser)}getParser(){return this.parser}}class HotelClosesAndWillOpenAtEvent extends MessageEvent$1{constructor(ee){super(ee,HotelClosesAndWillOpenAtMessageParser)}getParser(){return this.parser}}class HotelWillCloseInMinutesEvent extends MessageEvent$1{constructor(ee){super(ee,HotelWillCloseInMinutesMessageParser)}getParser(){return this.parser}}class MaintenanceStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,MaintenanceStatusMessageParser)}getParser(){return this.parser}}const XO=class XO extends MessageEvent$1{constructor(ee){super(ee,ChangeUserNameResultMessageParser)}getParser(){return this.parser}};XO.NAME_OK=0,XO.ERROR_NAME_REQUIRED=1,XO.ERROR_NAME_TOO_SHORT=2,XO.ERROR_NAME_TOO_LONG=3,XO.ERROR_NAME_NOT_VALID=4,XO.ERROR_NAME_IN_USE=5,XO.ERROR_NAME_CHANGE_NOT_ALLOWED=6,XO.ERROR_MERGE_HOTEL_DOWN=7;let ChangeUserNameResultMessageEvent=XO;class CheckUserNameResultMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CheckUserNameResultMessageParser)}getParser(){return this.parser}}class FigureUpdateEvent extends MessageEvent$1{constructor(ee){super(ee,FigureUpdateParser)}getParser(){return this.parser}}class WardrobeMessageEvent extends MessageEvent$1{constructor(ee){super(ee,WardrobeMessageParser)}getParser(){return this.parser}}class BotAddedToInventoryEvent extends MessageEvent$1{constructor(ee){super(ee,BotAddedToInventoryParser)}getParser(){return this.parser}}class BotInventoryMessageEvent extends MessageEvent$1{constructor(ee){super(ee,BotInventoryMessageParser)}getParser(){return this.parser}}class BotReceivedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,BotReceivedMessageParser)}getParser(){return this.parser}}class BotRemovedFromInventoryEvent extends MessageEvent$1{constructor(ee){super(ee,BotRemovedFromInventoryParser)}getParser(){return this.parser}}class CfhSanctionMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CfhSanctionMessageParser)}getParser(){return this.parser}}class CfhTopicsInitEvent extends MessageEvent$1{constructor(ee){super(ee,CfhTopicsInitMessageParser)}getParser(){return this.parser}}class SanctionStatusEvent extends MessageEvent$1{constructor(ee){super(ee,SanctionStatusMessageParser)}getParser(){return this.parser}}class CameraPublishStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CameraPublishStatusMessageParser)}getParser(){return this.parser}}class CameraPurchaseOKMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CameraPurchaseOKMessageParser)}getParser(){return this.parser}}class CameraStorageUrlMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CameraStorageUrlMessageParser)}getParser(){return this.parser}}class CompetitionStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CompetitionStatusMessageParser)}getParser(){return this.parser}}class InitCameraMessageEvent extends MessageEvent$1{constructor(ee){super(ee,InitCameraMessageParser)}getParser(){return this.parser}}class ThumbnailStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ThumbnailStatusMessageParser)}getParser(){return this.parser}}class CampaignCalendarDataMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CampaignCalendarDataMessageParser)}getParser(){return this.parser}}class CampaignCalendarDoorOpenedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CampaignCalendarDoorOpenedMessageParser)}getParser(){return this.parser}}class BonusRareInfoMessageEvent extends MessageEvent$1{constructor(ee){super(ee,BonusRareInfoMessageParser)}getParser(){return this.parser}}class BuildersClubFurniCountMessageEvent extends MessageEvent$1{constructor(ee){super(ee,BuildersClubFurniCountMessageParser)}getParser(){return this.parser}}class BuildersClubSubscriptionStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,BuildersClubSubscriptionStatusMessageParser)}getParser(){return this.parser}}class BundleDiscountRulesetMessageEvent extends MessageEvent$1{constructor(ee){super(ee,BundleDiscountRulesetMessageParser)}getParser(){return this.parser}}class CatalogPageExpirationEvent extends MessageEvent$1{constructor(ee){super(ee,CatalogPageExpirationParser)}getParser(){return this.parser}}class CatalogPageMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CatalogPageMessageParser)}getParser(){return this.parser}}class CatalogPagesListEvent extends MessageEvent$1{constructor(ee){super(ee,CatalogIndexMessageParser)}getParser(){return this.parser}}class CatalogPageWithEarliestExpiryMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CatalogPageWithEarliestExpiryMessageParser)}getParser(){return this.parser}}class CatalogPublishedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CatalogPublishedMessageParser)}getParser(){return this.parser}}class ClubGiftInfoEvent extends MessageEvent$1{constructor(ee){super(ee,ClubGiftInfoParser)}getParser(){return this.parser}}class ClubGiftSelectedEvent extends MessageEvent$1{constructor(ee){super(ee,ClubGiftSelectedParser)}getParser(){return this.parser}}class DirectSMSClubBuyAvailableMessageEvent extends MessageEvent$1{constructor(ee){super(ee,DirectSMSClubBuyAvailableMessageParser)}getParser(){return this.parser}}class GiftReceiverNotFoundEvent extends MessageEvent$1{constructor(ee){super(ee,GiftReceiverNotFoundParser)}getParser(){return this.parser}}class GiftWrappingConfigurationEvent extends MessageEvent$1{constructor(ee){super(ee,GiftWrappingConfigurationParser)}getParser(){return this.parser}}class HabboClubExtendOfferMessageEvent extends MessageEvent$1{constructor(ee){super(ee,HabboClubExtendOfferMessageParser)}getParser(){return this.parser}}class HabboClubOffersMessageEvent extends MessageEvent$1{constructor(ee){super(ee,HabboClubOffersMessageParser)}getParser(){return this.parser}}class IsOfferGiftableMessageEvent extends MessageEvent$1{constructor(ee){super(ee,IsOfferGiftableMessageParser)}getParser(){return this.parser}}class LimitedEditionSoldOutEvent extends MessageEvent$1{constructor(ee){super(ee,LimitedEditionSoldOutParser)}getParser(){return this.parser}}class LimitedOfferAppearingNextMessageEvent extends MessageEvent$1{constructor(ee){super(ee,LimitedOfferAppearingNextMessageParser)}getParser(){return this.parser}}class NotEnoughBalanceMessageEvent extends MessageEvent$1{constructor(ee){super(ee,NotEnoughBalanceMessageParser)}getParser(){return this.parser}}class ProductOfferEvent extends MessageEvent$1{constructor(ee){super(ee,ProductOfferMessageParser)}getParser(){return this.parser}}class PurchaseErrorMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PurchaseErrorMessageParser)}getParser(){return this.parser}}class PurchaseNotAllowedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PurchaseNotAllowedMessageParser)}getParser(){return this.parser}}class PurchaseOKMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PurchaseOKMessageParser)}getParser(){return this.parser}}class RoomAdPurchaseInfoEvent extends MessageEvent$1{constructor(ee){super(ee,RoomAdPurchaseInfoEventParser)}getParser(){return this.parser}}class SeasonalCalendarDailyOfferMessageEvent extends MessageEvent$1{constructor(ee){super(ee,SeasonalCalendarDailyOfferMessageParser)}getParser(){return this.parser}}class SellablePetPalettesMessageEvent extends MessageEvent$1{constructor(ee){super(ee,SellablePetPalettesParser)}getParser(){return this.parser}}class TargetedOfferEvent extends MessageEvent$1{constructor(ee){super(ee,TargetedOfferParser)}getParser(){return this.parser}}class TargetedOfferNotFoundEvent extends MessageEvent$1{constructor(ee){super(ee,TargetedOfferNotFoundParser)}getParser(){return this.parser}}class VoucherRedeemErrorMessageEvent extends MessageEvent$1{constructor(ee){super(ee,VoucherRedeemErrorMessageParser)}getParser(){return this.parser}}class VoucherRedeemOkMessageEvent extends MessageEvent$1{constructor(ee){super(ee,VoucherRedeemOkMessageParser)}getParser(){return this.parser}}class ClientPingEvent extends MessageEvent$1{constructor(ee){super(ee,ClientPingParser)}getParser(){return this.parser}}class CompetitionEntrySubmitResultEvent extends MessageEvent$1{constructor(ee){super(ee,CompetitionEntrySubmitResultMessageParser)}getParser(){return this.parser}}class CompetitionVotingInfoMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CompetitionVotingInfoMessageParser)}getParser(){return this.parser}}class CurrentTimingCodeMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CurrentTimingCodeMessageParser)}getParser(){return this.parser}}class IsUserPartOfCompetitionMessageEvent extends MessageEvent$1{constructor(ee){super(ee,IsUserPartOfCompetitionMessageParser)}getParser(){return this.parser}}class NoOwnedRoomsAlertMessageEvent extends MessageEvent$1{constructor(ee){super(ee,NoOwnedRoomsAlertMessageParser)}getParser(){return this.parser}}class SecondsUntilMessageEvent extends MessageEvent$1{constructor(ee){super(ee,SecondsUntilMessageParser)}getParser(){return this.parser}}class CraftableProductsEvent extends MessageEvent$1{constructor(ee){super(ee,CraftableProductsMessageParser)}getParser(){return this.parser}}class CraftingRecipeEvent extends MessageEvent$1{constructor(ee){super(ee,CraftingRecipeMessageParser)}getParser(){return this.parser}}class CraftingRecipesAvailableEvent extends MessageEvent$1{constructor(ee){super(ee,CraftingRecipesAvailableMessageParser)}getParser(){return this.parser}}class CraftingResultEvent extends MessageEvent$1{constructor(ee){super(ee,CraftingResultMessageParser)}getParser(){return this.parser}}class DesktopViewEvent extends MessageEvent$1{constructor(ee){super(ee,DesktopViewParser)}getParser(){return this.parser}}class AcceptFriendResultEvent extends MessageEvent$1{constructor(ee){super(ee,AcceptFriendResultParser)}getParser(){return this.parser}}class FindFriendsProcessResultEvent extends MessageEvent$1{constructor(ee){super(ee,FindFriendsProcessResultParser)}getParser(){return this.parser}}class FollowFriendFailedEvent extends MessageEvent$1{constructor(ee){super(ee,FollowFriendFailedParser)}getParser(){return this.parser}}class FriendListFragmentEvent extends MessageEvent$1{constructor(ee){super(ee,FriendListFragmentParser)}getParser(){return this.parser}}class FriendListUpdateEvent extends MessageEvent$1{constructor(ee){super(ee,FriendListUpdateParser)}getParser(){return this.parser}}class FriendNotificationEvent extends MessageEvent$1{constructor(ee){super(ee,FriendNotificationParser)}getParser(){return this.parser}}class FriendRequestsEvent extends MessageEvent$1{constructor(ee){super(ee,FriendRequestsParser)}getParser(){return this.parser}}class HabboSearchResultEvent extends MessageEvent$1{constructor(ee){super(ee,HabboSearchResultParser)}getParser(){return this.parser}}class InstantMessageErrorEvent extends MessageEvent$1{constructor(ee){super(ee,InstantMessageErrorParser)}getParser(){return this.parser}}class MessageErrorEvent extends MessageEvent$1{constructor(ee){super(ee,MessageErrorParser)}getParser(){return this.parser}}class MessengerInitEvent extends MessageEvent$1{constructor(ee){super(ee,MessengerInitParser)}getParser(){return this.parser}}class MiniMailNewMessageEvent extends MessageEvent$1{constructor(ee){super(ee,MiniMailNewMessageParser)}getParser(){return this.parser}}class MiniMailUnreadCountEvent extends MessageEvent$1{constructor(ee){super(ee,MiniMailUnreadCountParser)}getParser(){return this.parser}}class NewConsoleMessageEvent extends MessageEvent$1{constructor(ee){super(ee,NewConsoleMessageParser)}getParser(){return this.parser}}class NewFriendRequestEvent extends MessageEvent$1{constructor(ee){super(ee,NewFriendRequestParser)}getParser(){return this.parser}}class RoomInviteErrorEvent extends MessageEvent$1{constructor(ee){super(ee,RoomInviteErrorParser)}getParser(){return this.parser}}class RoomInviteEvent extends MessageEvent$1{constructor(ee){super(ee,RoomInviteParser)}getParser(){return this.parser}}class Game2AccountGameStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,Game2AccountGameStatusMessageParser)}getParser(){return this.parser}}class Game2GameDirectoryStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,Game2GameDirectoryStatusMessageParser)}getParser(){return this.parser}}class Game2InArenaQueueMessageEvent extends MessageEvent$1{constructor(ee){super(ee,Game2InArenaQueueMessageParser)}getParser(){return this.parser}}class Game2JoiningGameFailedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,Game2JoiningGameFailedMessageParser)}getParser(){return this.parser}}class Game2StartingGameFailedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,Game2StartingGameFailedMessageParser)}getParser(){return this.parser}}class Game2StopCounterMessageEvent extends MessageEvent$1{constructor(ee){super(ee,Game2StopCounterMessageParser)}getParser(){return this.parser}}class Game2UserLeftGameMessageEvent extends MessageEvent$1{constructor(ee){super(ee,Game2UserLeftGameMessageParser)}getParser(){return this.parser}}class AchievementResolutionCompletedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,AchievementResolutionCompletedMessageParser)}getParser(){return this.parser}}class AchievementResolutionProgressMessageEvent extends MessageEvent$1{constructor(ee){super(ee,AchievementResolutionProgressMessageParser)}getParser(){return this.parser}}class AchievementResolutionsMessageEvent extends MessageEvent$1{constructor(ee){super(ee,AchievementResolutionsMessageParser)}getParser(){return this.parser}}class GameAchievementsMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GameAchievementsMessageParser)}getParser(){return this.parser}}class GameInviteMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GameInviteMessageParser)}getParser(){return this.parser}}class GameListMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GameListMessageParser)}getParser(){return this.parser}}class GameStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GameStatusMessageParser)}getParser(){return this.parser}}class JoinedQueueMessageEvent extends MessageEvent$1{constructor(ee){super(ee,JoinedQueueMessageParser)}getParser(){return this.parser}}class JoiningQueueFailedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,JoiningQueueFailedMessageParser)}getParser(){return this.parser}}class LeftQueueMessageEvent extends MessageEvent$1{constructor(ee){super(ee,LeftQueueMessageParser)}getParser(){return this.parser}}class LoadGameMessageEvent extends MessageEvent$1{constructor(ee){super(ee,LoadGameMessageParser)}getParser(){return this.parser}}class LoadGameUrlEvent extends MessageEvent$1{constructor(ee){super(ee,LoadGameUrlParser)}getParser(){return this.parser}}class UnloadGameMessageEvent extends MessageEvent$1{constructor(ee){super(ee,UnloadGameMessageParser)}getParser(){return this.parser}}class UserGameAchievementsMessageEvent extends MessageEvent$1{constructor(ee){super(ee,UserGameAchievementsMessageParser)}getParser(){return this.parser}}class Game2WeeklyFriendsLeaderboardEvent extends MessageEvent$1{constructor(ee){super(ee,Game2WeeklyLeaderboardParser)}getParser(){return this.parser}}class Game2WeeklyLeaderboardEvent extends MessageEvent$1{constructor(ee){super(ee,Game2WeeklyLeaderboardParser)}getParser(){return this.parser}}class WeeklyCompetitiveFriendsLeaderboardEvent extends MessageEvent$1{constructor(ee){super(ee,Game2WeeklyLeaderboardParser)}getParser(){return this.parser}}class WeeklyCompetitiveLeaderboardEvent extends MessageEvent$1{constructor(ee){super(ee,Game2WeeklyLeaderboardParser)}getParser(){return this.parser}}class WeeklyGameRewardEvent extends MessageEvent$1{constructor(ee){super(ee,WeeklyGameRewardParser)}getParser(){return this.parser}}class WeeklyGameRewardWinnersEvent extends MessageEvent$1{constructor(ee){super(ee,WeeklyGameRewardWinnersParser)}getParser(){return this.parser}}class GenericErrorEvent extends MessageEvent$1{constructor(ee){super(ee,GenericErrorParser)}getParser(){return this.parser}}class PhoneCollectionStateMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PhoneCollectionStateParser)}getParser(){return this.parser}}class TryPhoneNumberResultMessageEvent extends MessageEvent$1{constructor(ee){super(ee,TryPhoneNumberResultParser)}getParser(){return this.parser}}class TryVerificationCodeResultMessageEvent extends MessageEvent$1{constructor(ee){super(ee,TryVerificationCodeResultParser)}getParser(){return this.parser}}class GroupBadgePartsEvent extends MessageEvent$1{constructor(ee){super(ee,GroupBadgePartsParser)}getParser(){return this.parser}}class GroupBuyDataEvent extends MessageEvent$1{constructor(ee){super(ee,GroupBuyDataParser)}getParser(){return this.parser}}class GroupConfirmMemberRemoveEvent extends MessageEvent$1{constructor(ee){super(ee,GroupConfirmMemberRemoveParser)}getParser(){return this.parser}}class GroupInformationEvent extends MessageEvent$1{constructor(ee){super(ee,GroupInformationParser)}getParser(){return this.parser}}class GroupMembersEvent extends MessageEvent$1{constructor(ee){super(ee,GroupMembersParser)}getParser(){return this.parser}}class GroupPurchasedEvent extends MessageEvent$1{constructor(ee){super(ee,GroupPurchasedParser)}getParser(){return this.parser}}class GroupSettingsEvent extends MessageEvent$1{constructor(ee){super(ee,GroupSettingsParser)}getParser(){return this.parser}}class HabboGroupDeactivatedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,HabboGroupDeactivatedMessageParser)}getParser(){return this.parser}}class ForumDataMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ForumDataMessageParser)}getParser(){return this.parser}}class ForumsListMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GetForumsListMessageParser)}getParser(){return this.parser}}class GuildForumThreadsEvent extends MessageEvent$1{constructor(ee){super(ee,GuildForumThreadsParser)}getParser(){return this.parser}}class PostMessageMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PostMessageMessageParser)}getParser(){return this.parser}}class PostThreadMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PostThreadMessageParser)}getParser(){return this.parser}}class ThreadMessagesMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ThreadMessagesMessageParser)}getParser(){return this.parser}}class UnreadForumsCountMessageEvent extends MessageEvent$1{constructor(ee){super(ee,UnreadForumsCountMessageParser)}getParser(){return this.parser}}class UpdateMessageMessageEvent extends MessageEvent$1{constructor(ee){super(ee,UpdateMessageMessageParser)}getParser(){return this.parser}}class UpdateThreadMessageEvent extends MessageEvent$1{constructor(ee){super(ee,UpdateThreadMessageParser)}getParser(){return this.parser}}class CompleteDiffieHandshakeEvent extends MessageEvent$1{constructor(ee){super(ee,CompleteDiffieHandshakeParser)}getParser(){return this.parser}}const AR=class AR{};AR.LOGOUT=0,AR.JUST_BANNED=1,AR.CONCURRENT_LOGIN=2,AR.CONNECTION_LOST_TO_PEER=3,AR.AVATAR_IDENTITY_CHANGE=4,AR.REMOVE_FURNITURE_TOOL=5,AR.STILL_BANNED=10,AR.DUAL_LOGIN_BY_USERID=11,AR.HOTEL_CLOSED=12,AR.DUAL_LOGIN_BY_IP=13,AR.PEER_CONNECTION_MISSING=16,AR.NO_LOGIN_PERMISSION=17,AR.DUPLICATE_CONNECTION=18,AR.HOTEL_CLOSING=19,AR.INCORRECT_PASSWORD=20,AR.INVALID_LOGIN_TICKET=22,AR.VERSION_CHECK_URL=23,AR.VERSION_CHECK_PROPERTY=24,AR.VERSION_CHECK_MACHINE_ID=25,AR.NO_MESSENGER_SESSION=26,AR.USER_NOT_FOUND=27,AR.CRYPTO_NOT_INITIALIZED=28,AR.DEV_CRYPTO_NOT_ALLOWED=29,AR.DUPLICATE_UUID_DETECTED=100,AR.OLD_SESSION_IN_PROXY=101,AR.PUBLIC_KEY_NOT_NUMERIC=102,AR.PUBLIC_KEY_TOO_SHORT=103,AR.SOCKET_READ_GENERIC=104,AR.SOCKET_READ_FIRST_BYTE=105,AR.SOCKET_READ_LENGTH=106,AR.SOCKET_READ_BODY=107,AR.SOCKET_READ_POLICY=108,AR.SOCKET_IO_EXCEPTION=109,AR.SOCKET_WRONG_CRYPTO=110,AR.PROXY_RUNTIME_EXCEPTION=111,AR.IDLE_CONNECTION=112,AR.PONG_TIMEOUT=113,AR.IDLE_CONNECTION_NOT_AUTH=114,AR.IDLE_CONNECTION_NO_USER_ID=115,AR.WRITE_CLOSED_CHANNEL=116,AR.SOCKET_WRITE_EXCEPTION_1=117,AR.SOCKET_WRITE_EXCEPTION_2=118,AR.SOCKET_WRITE_EXCEPTION_3=119;let DisconnectReasonEnum=AR;class DisconnectReasonEvent extends MessageEvent$1{constructor(ee){super(ee,DisconnectReasonParser)}getParser(){return this.parser}get reasonString(){switch(this.getParser().reason){case DisconnectReasonEnum.JUST_BANNED:case DisconnectReasonEnum.STILL_BANNED:return"banned";case DisconnectReasonEnum.CONCURRENT_LOGIN:return"concurrentlogin";case DisconnectReasonEnum.INCORRECT_PASSWORD:return"incorrectpassword";default:return"logout"}}}class IdentityAccountsEvent extends MessageEvent$1{constructor(ee){super(ee,IdentityAccountsParser)}getParser(){return this.parser}}class InitDiffieHandshakeEvent extends MessageEvent$1{constructor(ee){super(ee,InitDiffieHandshakeParser)}getParser(){return this.parser}}class NoobnessLevelMessageEvent extends MessageEvent$1{constructor(ee){super(ee,NoobnessLevelMessageParser)}getParser(){return this.parser}}class CallForHelpDisabledNotifyMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CallForHelpDisabledNotifyMessageParser)}getParser(){return this.parser}}class CallForHelpPendingCallsDeletedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CallForHelpPendingCallsDeletedMessageParser)}getParser(){return this.parser}}class CallForHelpPendingCallsMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CallForHelpPendingCallsMessageParser)}getParser(){return this.parser}}class CallForHelpReplyMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CallForHelpReplyMessageParser)}getParser(){return this.parser}}class CallForHelpResultMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CallForHelpResultMessageParser)}getParser(){return this.parser}}class ChatReviewSessionDetachedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ChatReviewSessionDetachedMessageParser)}getParser(){return this.parser}}class ChatReviewSessionOfferedToGuideMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ChatReviewSessionOfferedToGuideMessageParser)}getParser(){return this.parser}}class ChatReviewSessionResultsMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ChatReviewSessionResultsMessageParser)}getParser(){return this.parser}}class ChatReviewSessionStartedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ChatReviewSessionStartedMessageParser)}getParser(){return this.parser}}class ChatReviewSessionVotingStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ChatReviewSessionVotingStatusMessageParser)}getParser(){return this.parser}}class GuideOnDutyStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideOnDutyStatusMessageParser)}getParser(){return this.parser}}class GuideReportingStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideReportingStatusMessageParser)}getParser(){return this.parser}}class GuideSessionAttachedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideSessionAttachedMessageParser)}getParser(){return this.parser}}class GuideSessionDetachedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideSessionDetachedMessageParser)}getParser(){return this.parser}}class GuideSessionEndedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideSessionEndedMessageParser)}getParser(){return this.parser}}class GuideSessionErrorMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideSessionErrorMessageParser)}getParser(){return this.parser}}class GuideSessionInvitedToGuideRoomMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideSessionInvitedToGuideRoomMessageParser)}getParser(){return this.parser}}class GuideSessionMessageMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideSessionMessageMessageParser)}getParser(){return this.parser}}class GuideSessionPartnerIsTypingMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideSessionPartnerIsTypingMessageParser)}getParser(){return this.parser}}class GuideSessionRequesterRoomMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideSessionRequesterRoomMessageParser)}getParser(){return this.parser}}class GuideSessionStartedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideSessionStartedMessageParser)}getParser(){return this.parser}}class GuideTicketCreationResultMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideTicketCreationResultMessageParser)}getParser(){return this.parser}}class GuideTicketResolutionMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuideTicketResolutionMessageParser)}getParser(){return this.parser}}class HotelMergeNameChangeEvent extends MessageEvent$1{constructor(ee){super(ee,HotelMergeNameChangeParser)}getParser(){return this.parser}}class IssueCloseNotificationMessageEvent extends MessageEvent$1{constructor(ee){super(ee,IssueCloseNotificationMessageParser)}getParser(){return this.parser}}class QuizDataMessageEvent extends MessageEvent$1{constructor(ee){super(ee,QuizDataMessageParser)}getParser(){return this.parser}}class QuizResultsMessageEvent extends MessageEvent$1{constructor(ee){super(ee,QuizResultsMessageParser)}getParser(){return this.parser}}const sE=class sE{};sE.ACHIEVEMENT_LIST=305,sE.AUTHENTICATED=2491,sE.AUTHENTICATION=-1,sE.AVAILABILITY_STATUS=2033,sE.BUILDERS_CLUB_EXPIRED=1452,sE.CLUB_OFFERS=2405,sE.CATALOG_PAGE=804,sE.CATALOG_PAGE_LIST=1032,sE.CATALOG_PURCHASE_OK=869,sE.CATALOG_PURCHASE_ERROR=1404,sE.CATALOG_PURCHASE_NOT_ALLOWED=3770,sE.PRODUCT_OFFER=3388,sE.LIMITED_SOLD_OUT=377,sE.CATALOG_PUBLISHED=1866,sE.CFH_RESULT_MESSAGE=3635,sE.CLIENT_LATENCY=10,sE.CLIENT_PING=3928,sE.DESKTOP_CAMPAIGN=1745,sE.DESKTOP_NEWS=286,sE.DESKTOP_VIEW=122,sE.BUNDLE_DISCOUNT_RULESET=2347,sE.FIRST_LOGIN_OF_DAY=793,sE.FURNITURE_ALIASES=1723,sE.FURNITURE_DATA=2547,sE.FURNITURE_FLOOR=1778,sE.FURNITURE_FLOOR_ADD=1534,sE.FURNITURE_FLOOR_REMOVE=2703,sE.FURNITURE_FLOOR_UPDATE=3776,sE.FURNITURE_ITEMDATA=2202,sE.FURNITURE_STATE=2376,sE.FURNITURE_GROUP_CONTEXT_MENU_INFO=3293,sE.FURNITURE_POSTIT_STICKY_POLE_OPEN=2366,sE.GAME_CENTER_ACHIEVEMENTS=2265,sE.GAME_CENTER_GAME_LIST=222,sE.GAME_CENTER_STATUS=2893,sE.GAME_CENTER_IN_ARENA_QUEUE=872,sE.GAME_CENTER_STOP_COUNTER=3191,sE.GAME_CENTER_USER_LEFT_GAME=3138,sE.GAME_CENTER_DIRECTORY_STATUS=2246,sE.GAME_CENTER_STARTING_GAME_FAILED=2142,sE.GAME_CENTER_JOINING_FAILED=1730,sE.GAMESTATUSMESSAGE=3805,sE.GAMEACHIEVEMENTS=1689,sE.GAMEINVITE=904,sE.JOININGQUEUEFAILED=3035,sE.JOINEDQUEUEMESSAGE=2260,sE.LEFTQUEUE=1477,sE.LOAD_GAME_URL=2624,sE.LOADGAME=3654,sE.UNLOADGAME=1715,sE.ACHIEVEMENTRESOLUTIONCOMPLETED=740,sE.ACHIEVEMENTRESOLUTIONPROGRESS=3370,sE.ACHIEVEMENTRESOLUTIONS=66,sE.GENERIC_ALERT=3801,sE.MODERATOR_MESSAGE=2030,sE.GENERIC_ERROR=1600,sE.GIFT_WRAPPER_CONFIG=2234,sE.GROUP_BADGES=2402,sE.GROUP_CREATE_OPTIONS=2159,sE.GROUP_FORUM_DATA=3011,sE.GROUP_FORUM_LIST=3001,sE.GROUP_FORUM_THREADS=1073,sE.GROUP_FORUM_POST=2049,sE.GROUP_FORUM_POST_THREAD=1862,sE.GROUP_FORUM_THREAD_MESSAGES=509,sE.GROUP_FORUM_UNREAD_COUNT=2379,sE.GROUP_FORUM_UPDATE_MESSAGE=324,sE.GROUP_FORUM_UPDATE_THREAD=2528,sE.GROUP_INFO=1702,sE.GROUP_LIST=420,sE.GROUP_MEMBER=265,sE.GROUP_MEMBERS=1200,sE.GROUP_MEMBERS_REFRESH=2445,sE.GROUP_MEMBER_REMOVE_CONFIRM=1876,sE.GROUP_PURCHASED=2808,sE.GROUP_SETTINGS=3965,sE.GROUP_BADGE_PARTS=2238,sE.GROUP_MEMBERSHIP_REQUESTED=1180,sE.GROUP_DETAILS_CHANGED=1459,sE.GROUP_HABBO_JOIN_FAILED=762,sE.GUILD_EDIT_FAILED=3988,sE.GUILD_MEMBER_MGMT_FAILED=818,sE.ITEM_DIMMER_SETTINGS=2710,sE.ITEM_STACK_HELPER=2816,sE.ITEM_WALL=1369,sE.ITEM_WALL_ADD=2187,sE.ITEM_WALL_REMOVE=3208,sE.ITEM_WALL_UPDATE=2009,sE.MARKETPLACE_CONFIG=1823,sE.MESSENGER_ACCEPT_FRIENDS=896,sE.MESSENGER_CHAT=1587,sE.MESSENGER_FIND_FRIENDS=1210,sE.MESSENGER_FOLLOW_FAILED=3048,sE.MESSENGER_FRIEND_NOTIFICATION=3082,sE.MESSENGER_FRIENDS=3130,sE.MESSENGER_INIT=1605,sE.MESSENGER_INSTANCE_MESSAGE_ERROR=3359,sE.MESSENGER_INVITE=3870,sE.MESSENGER_INVITE_ERROR=462,sE.MESSENGER_MESSAGE_ERROR=892,sE.MESSENGER_MINIMAIL_COUNT=2803,sE.MESSENGER_MINIMAIL_NEW=1911,sE.MESSENGER_RELATIONSHIPS=2016,sE.MESSENGER_REQUEST=2219,sE.MESSENGER_REQUEST_ERROR=892,sE.MESSENGER_REQUESTS=280,sE.MESSENGER_SEARCH=973,sE.MESSENGER_UPDATE=2800,sE.MODERATION_REPORT_DISABLED=1651,sE.MODERATION_TOOL=2696,sE.MODERATION_USER_INFO=2866,sE.MOTD_MESSAGES=2035,sE.NAVIGATOR_CATEGORIES=1562,sE.NAVIGATOR_COLLAPSED=1543,sE.NAVIGATOR_EVENT_CATEGORIES=3244,sE.NAVIGATOR_LIFTED=3104,sE.NAVIGATOR_METADATA=3052,sE.NAVIGATOR_OPEN_ROOM_CREATOR=2064,sE.NAVIGATOR_SEARCH=2690,sE.NAVIGATOR_SEARCHES=3984,sE.NAVIGATOR_SETTINGS=518,sE.THUMBNAIL_UPDATE_RESULT=1927,sE.CAN_CREATE_ROOM=378,sE.CATEGORIES_WITH_VISITOR_COUNT=1455,sE.COMPETITION_ROOMS_DATA=3954,sE.CONVERTED_ROOM_ID=1331,sE.GUEST_ROOM_SEARCH_RESULT=52,sE.NOTIFICATION_LIST=1992,sE.NOTIFICATION_SIMPLE_ALERT=5100,sE.NOTIFICATION_ELEMENT_POINTER=1787,sE.PET_FIGURE_UPDATE=1924,sE.PET_INFO=2901,sE.PET_TRAINING_PANEL=1164,sE.PET_LEVEL_UPDATE=2824,sE.PET_SCRATCH_FAILED=1130,sE.PET_OPEN_PACKAGE_REQUESTED=2380,sE.PET_OPEN_PACKAGE_RESULT=546,sE.PET_BREEDING=1746,sE.PET_CONFIRM_BREEDING_RESULT=1625,sE.PET_GO_TO_BREEDING_NEST_FAILURE=2621,sE.PET_NEST_BREEDING_SUCCESS=2527,sE.PET_CONFIRM_BREEDING_REQUEST=634,sE.PET_BREEDING_RESULT=1553,sE.RECYCLER_PRIZES=3164,sE.RECYCLER_STATUS=3433,sE.RECYCLER_FINISHED=468,sE.ROOM_BAN_LIST=1869,sE.ROOM_BAN_REMOVE=3429,sE.ROOM_CREATED=1304,sE.ROOM_DOORBELL=2309,sE.ROOM_DOORBELL_ACCEPTED=3783,sE.ROOM_DOORBELL_REJECTED=878,sE.ROOM_ENTER=758,sE.ROOM_ENTER_ERROR=899,sE.ROOM_FORWARD=160,sE.ROOM_HEIGHT_MAP=2753,sE.ROOM_HEIGHT_MAP_UPDATE=558,sE.ROOM_INFO=687,sE.ROOM_INFO_OWNER=749,sE.ROOM_MODEL=1301,sE.ROOM_MODEL_BLOCKED_TILES=3990,sE.ROOM_MODEL_DOOR=1664,sE.ROOM_MODEL_NAME=2031,sE.ROOM_MUTED=2533,sE.ROOM_MUTE_USER=826,sE.ROOM_PAINT=2454,sE.ROOM_PROMOTION=2274,sE.ROOM_QUEUE_STATUS=2208,sE.ROOM_RIGHTS=780,sE.ROOM_RIGHTS_CLEAR=2392,sE.ROOM_RIGHTS_LIST=1284,sE.ROOM_RIGHTS_LIST_ADD=2088,sE.ROOM_RIGHTS_LIST_REMOVE=1327,sE.ROOM_RIGHTS_OWNER=339,sE.ROOM_ROLLING=3207,sE.ROOM_SCORE=482,sE.ROOM_SETTINGS=1498,sE.ROOM_SETTINGS_CHAT=1191,sE.ROOM_SETTINGS_SAVE=948,sE.ROOM_SETTINGS_SAVE_ERROR=1555,sE.ROOM_INFO_UPDATED=3297,sE.ROOM_SPECTATOR=1033,sE.ROOM_THICKNESS=3547,sE.ROOM_GET_FILTER_WORDS=2937,sE.ROOM_MESSAGE_NOTIFICATION=1634,sE.ROOM_POPULAR_TAGS_RESULT=2012,sE.INFO_FEED_ENABLE=3284,sE.SECURITY_MACHINE=1488,sE.MYSTERY_BOX_KEYS=2833,sE.GOTMYSTERYBOXPRIZEMESSAGE=3712,sE.CANCELMYSTERYBOXWAITMESSAGE=596,sE.SHOWMYSTERYBOXWAITMESSAGE=3201,sE.TRADE_ACCEPTED=2568,sE.TRADE_CLOSED=1373,sE.TRADE_COMPLETED=1001,sE.TRADE_CONFIRMATION=2720,sE.TRADE_LIST_ITEM=2024,sE.TRADE_NOT_OPEN=3128,sE.TRADE_OPEN=2505,sE.TRADE_OPEN_FAILED=217,sE.TRADE_OTHER_NOT_ALLOWED=1254,sE.TRADE_YOU_NOT_ALLOWED=3058,sE.TRADE_NO_SUCH_ITEM=2873,sE.UNIT=374,sE.UNIT_CHANGE_NAME=2182,sE.UNIT_CHAT=1446,sE.UNIT_CHAT_SHOUT=1036,sE.UNIT_CHAT_WHISPER=2704,sE.UNIT_DANCE=2233,sE.UNIT_EFFECT=1167,sE.UNIT_EXPRESSION=1631,sE.UNIT_HAND_ITEM=1474,sE.UNIT_IDLE=1797,sE.UNIT_INFO=3920,sE.UNIT_NUMBER=2324,sE.UNIT_REMOVE=2661,sE.UNIT_STATUS=1640,sE.UNIT_TYPING=1717,sE.UNSEEN_ITEMS=2103,sE.USER_ACHIEVEMENT_SCORE=1968,sE.USER_BADGES=717,sE.USER_BADGES_ADD=2493,sE.USER_BADGES_CURRENT=1087,sE.USER_BOT_REMOVE=233,sE.USER_BOTS=3086,sE.USER_CHANGE_NAME=118,sE.USER_CLOTHING=1450,sE.USER_CREDITS=3475,sE.USER_CURRENCY=2018,sE.ACTIVITY_POINT_NOTIFICATION=2275,sE.USER_EFFECTS=340,sE.USER_FAVORITE_ROOM=2524,sE.USER_FAVORITE_ROOM_COUNT=151,sE.USER_FIGURE=2429,sE.USER_FURNITURE=994,sE.USER_FURNITURE_ADD=104,sE.USER_FURNITURE_POSTIT_PLACED=1501,sE.USER_FURNITURE_REFRESH=3151,sE.USER_FURNITURE_REMOVE=159,sE.USER_HOME_ROOM=2875,sE.ROOM_EVENT_CANCEL=3479,sE.ROOM_EVENT=1840,sE.USER_IGNORED=126,sE.USER_IGNORED_RESULT=207,sE.USER_INFO=2725,sE.USER_OUTFITS=3315,sE.USER_PERKS=2586,sE.USER_PERMISSIONS=411,sE.USER_PET_ADD=2101,sE.USER_PET_REMOVE=3253,sE.USER_PETS=3522,sE.USER_PROFILE=3898,sE.USER_RESPECT=2815,sE.USER_SANCTION_STATUS=3679,sE.USER_SETTINGS=513,sE.USER_SUBSCRIPTION=954,sE.USER_WARDROBE_PAGE=3315,sE.USER_CLASSIFICATION=966,sE.GET_USER_TAGS=1255,sE.WIRED_ACTION=1434,sE.WIRED_CONDITION=1108,sE.WIRED_ERROR=156,sE.WIRED_OPEN=1830,sE.WIRED_REWARD=178,sE.WIRED_SAVE=1155,sE.WIRED_TRIGGER=383,sE.PLAYING_GAME=448,sE.FURNITURE_STATE_2=3431,sE.REMOVE_BOT_FROM_INVENTORY=233,sE.ADD_BOT_TO_INVENTORY=1352,sE.ACHIEVEMENT_PROGRESSED=2107,sE.MODTOOL_ROOM_INFO=1333,sE.MODTOOL_USER_CHATLOG=3377,sE.MODTOOL_ROOM_CHATLOG=3434,sE.MODTOOL_VISITED_ROOMS_USER=1752,sE.MODERATOR_ACTION_RESULT=2335,sE.ISSUE_DELETED=3192,sE.ISSUE_INFO=3609,sE.ISSUE_PICK_FAILED=3150,sE.CFH_CHATLOG=607,sE.MODERATOR_TOOL_PREFERENCES=1576,sE.LOVELOCK_FURNI_START=3753,sE.LOVELOCK_FURNI_FRIEND_COMFIRMED=382,sE.LOVELOCK_FURNI_FINISHED=770,sE.GIFT_RECEIVER_NOT_FOUND=1517,sE.GIFT_OPENED=56,sE.FLOOD_CONTROL=566,sE.REMAINING_MUTE=826,sE.USER_EFFECT_LIST=340,sE.USER_EFFECT_LIST_ADD=2867,sE.USER_EFFECT_LIST_REMOVE=2228,sE.USER_EFFECT_ACTIVATE=1959,sE.AVATAR_EFFECT_SELECTED=3473,sE.CLUB_GIFT_INFO=619,sE.REDEEM_VOUCHER_ERROR=714,sE.REDEEM_VOUCHER_OK=3336,sE.IN_CLIENT_LINK=2023,sE.BOT_COMMAND_CONFIGURATION=1618,sE.BOT_SKILL_LIST_UPDATE=69,sE.BOT_FORCE_OPEN_CONTEXT_MENU=296,sE.HAND_ITEM_RECEIVED=354,sE.PET_PLACING_ERROR=2913,sE.BOT_ERROR=639,sE.MARKETPLACE_SELL_ITEM=54,sE.MARKETPLACE_ITEM_STATS=725,sE.MARKETPLACE_OWN_ITEMS=3884,sE.MARKETPLACE_CANCEL_SALE=3264,sE.MARKETPLACE_ITEM_POSTED=1359,sE.MARKETPLACE_ITEMS_SEARCHED=680,sE.MARKETPLACE_AFTER_ORDER_STATUS=2032,sE.CATALOG_RECEIVE_PET_BREEDS=3331,sE.CATALOG_APPROVE_NAME_RESULT=1503,sE.OBJECTS_DATA_UPDATE=1453,sE.PET_EXPERIENCE=2156,sE.COMMUNITY_GOAL_VOTE_EVENT=1435,sE.PROMO_ARTICLES=286,sE.COMMUNITY_GOAL_EARNED_PRIZES=3319,sE.COMMUNITY_GOAL_PROGRESS=2525,sE.CONCURRENT_USERS_GOAL_PROGRESS=2737,sE.QUEST_DAILY=1878,sE.QUEST_CANCELLED=3027,sE.QUEST_COMPLETED=949,sE.COMMUNITY_GOAL_HALL_OF_FAME=3005,sE.EPIC_POPUP=3945,sE.SEASONAL_QUESTS=1122,sE.QUESTS=3625,sE.QUEST=230,sE.BONUS_RARE_INFO=1533,sE.CRAFTABLE_PRODUCTS=1e3,sE.CRAFTING_RECIPE=2774,sE.CRAFTING_RECIPES_AVAILABLE=2124,sE.CRAFTING_RESULT=618,sE.CAMERA_PUBLISH_STATUS=2057,sE.CAMERA_PURCHASE_OK=2783,sE.CAMERA_STORAGE_URL=3696,sE.COMPETITION_STATUS=133,sE.INIT_CAMERA=3878,sE.THUMBNAIL_STATUS=3595,sE.ACHIEVEMENT_NOTIFICATION=806,sE.CLUB_GIFT_NOTIFICATION=2188,sE.INTERSTITIAL_MESSAGE=1808,sE.ROOM_AD_ERROR=1759,sE.AVAILABILITY_TIME=600,sE.HOTEL_CLOSED_AND_OPENS=3728,sE.HOTEL_CLOSES_AND_OPENS_AT=2771,sE.HOTEL_WILL_CLOSE_MINUTES=1050,sE.HOTEL_MAINTENANCE=1350,sE.JUKEBOX_PLAYLIST_FULL=105,sE.JUKEBOX_SONG_DISKS=34,sE.NOW_PLAYING=469,sE.OFFICIAL_SONG_ID=1381,sE.PLAYLIST=1748,sE.PLAYLIST_SONG_ADDED=1140,sE.TRAX_SONG_INFO=3365,sE.USER_SONG_DISKS_INVENTORY=2602,sE.CHECK_USER_NAME=563,sE.CFH_SANCTION=2782,sE.CFH_TOPICS=325,sE.CFH_SANCTION_STATUS=2221,sE.CAMPAIGN_CALENDAR_DATA=2531,sE.CAMPAIGN_CALENDAR_DOOR_OPENED=2551,sE.BUILDERS_CLUB_FURNI_COUNT=3828,sE.BUILDERS_CLUB_SUBSCRIPTION=1452,sE.CATALOG_PAGE_EXPIRATION=2668,sE.CATALOG_EARLIEST_EXPIRY=2515,sE.CLUB_GIFT_SELECTED=659,sE.TARGET_OFFER_NOT_FOUND=1237,sE.TARGET_OFFER=119,sE.DIRECT_SMS_CLUB_BUY=195,sE.ROOM_AD_PURCHASE=2468,sE.NOT_ENOUGH_BALANCE=3914,sE.LIMITED_OFFER_APPEARING_NEXT=44,sE.IS_OFFER_GIFTABLE=761,sE.CLUB_EXTENDED_OFFER=3964,sE.SEASONAL_CALENDAR_OFFER=1889,sE.COMPETITION_ENTRY_SUBMIT=1177,sE.COMPETITION_VOTING_INFO=3506,sE.COMPETITION_TIMING_CODE=1745,sE.COMPETITION_USER_PART_OF=3841,sE.COMPETITION_NO_OWNED_ROOMS=2064,sE.COMPETITION_SECONDS_UNTIL=3926,sE.BADGE_POINT_LIMITS=2501,sE.BADGE_REQUEST_FULFILLED=2998,sE.HELPER_TALENT_TRACK=3406,sE.TALENT_TRACK_LEVEL=1203,sE.TALENT_TRACK_LEVEL_UP=638,sE.USER_BANNED=1683,sE.BOT_RECEIVED=3684,sE.PET_LEVEL_NOTIFICATION=859,sE.PET_RECEIVED=1111,sE.MODERATION_CAUTION=1890,sE.YOUTUBE_CONTROL_VIDEO=1554,sE.YOUTUBE_DISPLAY_PLAYLISTS=1112,sE.YOUTUBE_DISPLAY_VIDEO=1411,sE.CFH_DISABLED_NOTIFY=1651,sE.QUESTION=2665,sE.POLL_CONTENTS=2997,sE.POLL_ERROR=662,sE.POLL_OFFER=3785,sE.QUESTION_ANSWERED=2589,sE.QUESTION_FINISHED=1066,sE.CFH_PENDING_CALLS=1121,sE.GUIDE_ON_DUTY_STATUS=1548,sE.GUIDE_SESSION_ATTACHED=1591,sE.GUIDE_SESSION_DETACHED=138,sE.GUIDE_SESSION_ENDED=1456,sE.GUIDE_SESSION_ERROR=673,sE.GUIDE_SESSION_INVITED_TO_GUIDE_ROOM=219,sE.GUIDE_SESSION_MESSAGE=841,sE.GUIDE_SESSION_PARTNER_IS_TYPING=1016,sE.GUIDE_SESSION_REQUESTER_ROOM=1847,sE.GUIDE_SESSION_STARTED=3209,sE.GUIDE_TICKET_CREATION_RESULT=3285,sE.GUIDE_TICKET_RESOLUTION=2674,sE.GUIDE_REPORTING_STATUS=3463,sE.HOTEL_MERGE_NAME_CHANGE=1663,sE.ISSUE_CLOSE_NOTIFICATION=934,sE.QUIZ_DATA=2927,sE.QUIZ_RESULTS=2772,sE.CFH_PENDING_CALLS_DELETED=77,sE.CFH_REPLY=3796,sE.CHAT_REVIEW_SESSION_DETACHED=30,sE.CHAT_REVIEW_SESSION_OFFERED_TO_GUIDE=735,sE.CHAT_REVIEW_SESSION_RESULTS=3276,sE.CHAT_REVIEW_SESSION_STARTED=143,sE.CHAT_REVIEW_SESSION_VOTING_STATUS=1829,sE.SCR_SEND_KICKBACK_INFO=3277,sE.PET_STATUS=1907,sE.GROUP_DEACTIVATE=3129,sE.PET_RESPECTED=2788,sE.PET_SUPPLEMENT=3441,sE.NOOBNESS_LEVEL=3738,sE.DISCONNECT_REASON=4e3,sE.CAN_CREATE_ROOM_EVENT=2599,sE.FAVORITE_GROUP_UDPATE=3403,sE.NO_SUCH_FLAT=84,sE.ROOM_SETTINGS_ERROR=2897,sE.SHOW_ENFORCE_ROOM_CATEGORY=3896,sE.CUSTOM_USER_NOTIFICATION=909,sE.NEW_USER_EXPERIENCE_GIFT_OFFER=3575,sE.NEW_USER_EXPERIENCE_NOT_COMPLETE=3639,sE.CONNECTION_ERROR=1004,sE.ACCOUNT_SAFETY_LOCK_STATUS_CHANGE=1243,sE.PHONE_COLLECTION_STATE=2890,sE.PHONE_TRY_NUMBER_RESULT=800,sE.PHONE_TRY_VERIFICATION_CODE_RESULT=91,sE.EXTENDED_PROFILE_CHANGED=876,sE.WELCOME_GIFT_CHANGE_EMAIL_RESULT=2293,sE.WELCOME_GIFT_STATUS=2707,sE.HANDSHAKE_INIT_DIFFIE=1347,sE.HANDSHAKE_COMPLETE_DIFFIE=3885,sE.RENTABLE_SPACE_RENT_OK=2046,sE.RENTABLE_SPACE_STATUS=3559,sE.RENTABLE_SPACE_RENT_FAILED=1868,sE.EMAIL_STATUS=612,sE.CHANGE_EMAIL_RESULT=1815,sE.WEEKLY_GAME_REWARD=2641,sE.WEEKLY_GAME_REWARD_WINNERS=3097,sE.WEEKLY_COMPETITIVE_LEADERBOARD=3512,sE.WEEKLY_COMPETITIVE_FRIENDS_LEADERBOARD=3560,sE.WEEKLY_GAME2_FRIENDS_LEADERBOARD=2270,sE.WEEKLY_GAME2_LEADERBOARD=2196,sE.RENTABLE_FURNI_RENT_OR_BUYOUT_OFFER=35,sE.HANDSHAKE_IDENTITY_ACCOUNT=3523;let IncomingHeader=sE;class AchievementEvent extends MessageEvent$1{constructor(ee){super(ee,AchievementParser)}getParser(){return this.parser}}class AchievementsEvent extends MessageEvent$1{constructor(ee){super(ee,AchievementsParser)}getParser(){return this.parser}}class AchievementsScoreEvent extends MessageEvent$1{constructor(ee){super(ee,AchievementsScoreParser)}getParser(){return this.parser}}class AvatarEffectActivatedEvent extends MessageEvent$1{constructor(ee){super(ee,AvatarEffectActivatedParser)}getParser(){return this.parser}}class AvatarEffectAddedEvent extends MessageEvent$1{constructor(ee){super(ee,AvatarEffectAddedParser)}getParser(){return this.parser}}class AvatarEffectExpiredEvent extends MessageEvent$1{constructor(ee){super(ee,AvatarEffectExpiredParser)}getParser(){return this.parser}}class AvatarEffectSelectedEvent extends MessageEvent$1{constructor(ee){super(ee,AvatarEffectSelectedParser)}getParser(){return this.parser}}class AvatarEffectsEvent extends MessageEvent$1{constructor(ee){super(ee,AvatarEffectsParser)}getParser(){return this.parser}}class BadgePointLimitsEvent extends MessageEvent$1{constructor(ee){super(ee,BadgePointLimitsParser)}getParser(){return this.parser}}class BadgeReceivedEvent extends MessageEvent$1{constructor(ee){super(ee,BadgeReceivedParser)}getParser(){return this.parser}}class BadgesEvent extends MessageEvent$1{constructor(ee){super(ee,BadgesParser)}getParser(){return this.parser}}class IsBadgeRequestFulfilledEvent extends MessageEvent$1{constructor(ee){super(ee,IsBadgeRequestFulfilledParser)}getParser(){return this.parser}}class FigureSetIdsMessageEvent extends MessageEvent$1{constructor(ee){super(ee,FigureSetIdsMessageParser)}getParser(){return this.parser}}class FurnitureListAddOrUpdateEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureListAddOrUpdateParser)}getParser(){return this.parser}}class FurnitureListEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureListParser$1)}getParser(){return this.parser}}class FurnitureListInvalidateEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureListInvalidateParser)}getParser(){return this.parser}}class FurnitureListRemovedEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureListRemovedParser)}getParser(){return this.parser}}class FurniturePostItPlacedEvent extends MessageEvent$1{constructor(ee){super(ee,FurniturePostItPlacedParser)}getParser(){return this.parser}}class PresentOpenedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PresentOpenedMessageParser)}getParser(){return this.parser}}class ConfirmBreedingRequestEvent extends MessageEvent$1{constructor(ee){super(ee,ConfirmBreedingRequestParser)}getParser(){return this.parser}}class ConfirmBreedingResultEvent extends MessageEvent$1{constructor(ee){super(ee,ConfirmBreedingResultParser)}getParser(){return this.parser}}class NestBreedingSuccessEvent extends MessageEvent$1{constructor(ee){super(ee,NestBreedingSuccessParser)}getParser(){return this.parser}}class PetAddedToInventoryEvent extends MessageEvent$1{constructor(ee){super(ee,PetAddedToInventoryParser)}getParser(){return this.parser}}class PetInventoryEvent extends MessageEvent$1{constructor(ee){super(ee,PetInventoryParser)}getParser(){return this.parser}}class PetReceivedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PetReceivedMessageParser)}getParser(){return this.parser}}class PetRemovedFromInventory extends MessageEvent$1{constructor(ee){super(ee,PetRemovedFromInventoryParser)}getParser(){return this.parser}}class TradingAcceptEvent extends MessageEvent$1{constructor(ee){super(ee,TradingAcceptParser)}get userID(){return this.getParser().userID}get userAccepts(){return this.getParser().userAccepts}getParser(){return this.parser}}class TradingCloseEvent extends MessageEvent$1{constructor(ee){super(ee,TradingCloseParser)}get userID(){return this.getParser().userID}getParser(){return this.parser}}class TradingCompletedEvent extends MessageEvent$1{constructor(ee){super(ee,TradingCompletedParser)}getParser(){return this.parser}}class TradingConfirmationEvent extends MessageEvent$1{constructor(ee){super(ee,TradingConfirmationParser)}getParser(){return this.parser}}class TradingListItemEvent extends MessageEvent$1{constructor(ee){super(ee,TradingListItemParser)}get firstUserID(){return this.getParser().firstUserID}get secondUserID(){return this.getParser().secondUserID}get firstUserNumItems(){return this.getParser().firstUserNumItems}get secondUserNumItems(){return this.getParser().secondUserNumItems}get firstUserNumCredits(){return this.getParser().firstUserNumCredits}get secondUserNumCredits(){return this.getParser().secondUserNumCredits}get firstUserItemArray(){return this.getParser().firstUserItemArray}get secondUserItemArray(){return this.getParser().secondUserItemArray}getParser(){return this.parser}}class TradingNoSuchItemEvent extends MessageEvent$1{constructor(ee){super(ee,TradingNoSuchItemParser)}getParser(){return this.parser}}class TradingNotOpenEvent extends MessageEvent$1{constructor(ee){super(ee,TradingNotOpenParser)}getParser(){return this.parser}}class TradingOpenEvent extends MessageEvent$1{constructor(ee){super(ee,TradingOpenParser)}get userID(){return this.getParser().userID}get userCanTrade(){return this.getParser().userCanTrade}get otherUserID(){return this.getParser().otherUserID}get otherUserCanTrade(){return this.getParser().otherUserCanTrade}getParser(){return this.parser}}class TradingOpenFailedEvent extends MessageEvent$1{constructor(ee){super(ee,TradingOpenFailedParser)}getParser(){return this.parser}}class TradingOtherNotAllowedEvent extends MessageEvent$1{constructor(ee){super(ee,TradingOtherNotAllowedParser)}getParser(){return this.parser}}class TradingYouAreNotAllowedEvent extends MessageEvent$1{constructor(ee){super(ee,TradingYouAreNotAllowedParser)}getParser(){return this.parser}}class PromoArticlesMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PromoArticlesMessageParser)}getParser(){return this.parser}}class CommunityGoalVoteMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CommunityVoteReceivedParser)}getParser(){return this.parser}}class MarketplaceBuyOfferResultEvent extends MessageEvent$1{constructor(ee){super(ee,MarketplaceBuyOfferResultParser)}getParser(){return this.parser}}class MarketplaceCancelOfferResultEvent extends MessageEvent$1{constructor(ee){super(ee,MarketplaceCancelOfferResultParser)}getParser(){return this.parser}}class MarketplaceCanMakeOfferResult extends MessageEvent$1{constructor(ee){super(ee,MarketplaceCanMakeOfferResultParser)}getParser(){return this.parser}}class MarketplaceConfigurationEvent extends MessageEvent$1{constructor(ee){super(ee,MarketplaceConfigurationMessageParser)}getParser(){return this.parser}}class MarketplaceItemStatsEvent extends MessageEvent$1{constructor(ee){super(ee,MarketplaceItemStatsParser)}getParser(){return this.parser}}class MarketplaceMakeOfferResult extends MessageEvent$1{constructor(ee){super(ee,MarketplaceMakeOfferResultParser)}getParser(){return this.parser}}class MarketPlaceOffersEvent extends MessageEvent$1{constructor(ee){super(ee,MarketplaceOffersParser)}getParser(){return this.parser}}class MarketplaceOwnOffersEvent extends MessageEvent$1{constructor(ee){super(ee,MarketplaceOwnOffersParser)}getParser(){return this.parser}}class CfhChatlogEvent extends MessageEvent$1{constructor(ee){super(ee,CfhChatlogMessageParser)}getParser(){return this.parser}}class IssueDeletedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,IssueDeletedMessageParser)}getParser(){return this.parser}}class IssueInfoMessageEvent extends MessageEvent$1{constructor(ee){super(ee,IssueInfoMessageParser)}getParser(){return this.parser}}class IssuePickFailedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,IssuePickFailedMessageParser)}getParser(){return this.parser}}class ModeratorActionResultMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ModeratorActionResultMessageParser)}getParser(){return this.parser}}class ModeratorCautionEvent extends MessageEvent$1{constructor(ee){super(ee,ModerationCautionParser)}getParser(){return this.parser}}class ModeratorInitMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ModeratorInitMessageParser)}getParser(){return this.parser}}class ModeratorMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ModeratorMessageParser)}getParser(){return this.parser}}class ModeratorRoomInfoEvent extends MessageEvent$1{constructor(ee){super(ee,ModeratorRoomInfoMessageParser)}getParser(){return this.parser}}class ModeratorToolPreferencesEvent extends MessageEvent$1{constructor(ee){super(ee,ModeratorToolPreferencesMessageParser)}getParser(){return this.parser}}class ModeratorUserInfoEvent extends MessageEvent$1{constructor(ee){super(ee,ModeratorUserInfoMessageParser)}getParser(){return this.parser}}class RoomChatlogEvent extends MessageEvent$1{constructor(ee){super(ee,RoomChatlogMessageParser)}getParser(){return this.parser}}class RoomVisitsEvent extends MessageEvent$1{constructor(ee){super(ee,RoomVisitsMessageParser)}getParser(){return this.parser}}class UserBannedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,UserBannedMessageParser)}getParser(){return this.parser}}class UserChatlogEvent extends MessageEvent$1{constructor(ee){super(ee,UserChatlogMessageParser)}getParser(){return this.parser}}class CancelMysteryBoxWaitMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CancelMysteryBoxWaitMessageParser)}getParser(){return this.parser}}class GotMysteryBoxPrizeMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GotMysteryBoxPrizeMessageParser)}getParser(){return this.parser}}class MysteryBoxKeysEvent extends MessageEvent$1{constructor(ee){super(ee,MysteryBoxKeysParser)}getParser(){return this.parser}}class ShowMysteryBoxWaitMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ShowMysteryBoxWaitMessageParser)}getParser(){return this.parser}}class CanCreateRoomEvent extends MessageEvent$1{constructor(ee){super(ee,CanCreateRoomMessageParser)}getParser(){return this.parser}}class CanCreateRoomEventEvent extends MessageEvent$1{constructor(ee){super(ee,CanCreateRoomEventParser)}getParser(){return this.parser}}class CategoriesWithVisitorCountEvent extends MessageEvent$1{constructor(ee){super(ee,CategoriesWithVisitorCountParser)}getParser(){return this.parser}}class CompetitionRoomsDataMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CompetitionRoomsDataMessageParser)}getParser(){return this.parser}}class ConvertedRoomIdEvent extends MessageEvent$1{constructor(ee){super(ee,ConvertedRoomIdMessageParser)}getParser(){return this.parser}}class DoorbellMessageEvent extends MessageEvent$1{constructor(ee){super(ee,DoorbellMessageParser)}getParser(){return this.parser}get userName(){return this.getParser().userName}}class FavouriteChangedEvent extends MessageEvent$1{constructor(ee){super(ee,FavouriteChangedMessageParser)}getParser(){return this.parser}}class FavouritesEvent extends MessageEvent$1{constructor(ee){super(ee,FavouritesMessageParser)}getParser(){return this.parser}}class FlatAccessDeniedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,FlatAccessDeniedMessageParser)}getParser(){return this.parser}}class FlatCreatedEvent extends MessageEvent$1{constructor(ee){super(ee,FlatCreatedMessageParser)}getParser(){return this.parser}}class GetGuestRoomResultEvent extends MessageEvent$1{constructor(ee){super(ee,GetGuestRoomResultMessageParser)}getParser(){return this.parser}}class GuestRoomSearchResultEvent extends MessageEvent$1{constructor(ee){super(ee,GuestRoomSearchResultMessageParser)}getParser(){return this.parser}}class NavigatorCollapsedEvent extends MessageEvent$1{constructor(ee){super(ee,NavigatorCollapsedParser)}getParser(){return this.parser}}class NavigatorHomeRoomEvent extends MessageEvent$1{constructor(ee){super(ee,NavigatorHomeRoomParser)}getParser(){return this.parser}}class NavigatorLiftedEvent extends MessageEvent$1{constructor(ee){super(ee,NavigatorLiftedParser)}getParser(){return this.parser}}class NavigatorMetadataEvent extends MessageEvent$1{constructor(ee){super(ee,NavigatorMetadataParser)}getParser(){return this.parser}}class NavigatorOpenRoomCreatorEvent extends MessageEvent$1{constructor(ee){super(ee,NavigatorOpenRoomCreatorParser)}getParser(){return this.parser}}class NavigatorSearchesEvent extends MessageEvent$1{constructor(ee){super(ee,NavigatorSearchesParser)}getParser(){return this.parser}}class NavigatorSearchEvent extends MessageEvent$1{constructor(ee){super(ee,NavigatorSearchParser)}getParser(){return this.parser}}class NavigatorSettingsEvent extends MessageEvent$1{constructor(ee){super(ee,NavigatorSettingsParser)}getParser(){return this.parser}}class PopularRoomTagsResultEvent extends MessageEvent$1{constructor(ee){super(ee,PopularRoomTagsResultMessageParser)}getParser(){return this.parser}}class RoomEventCancelEvent extends MessageEvent$1{constructor(ee){super(ee,RoomEventCancelMessageParser)}getParser(){return this.parser}}class RoomEventEvent extends MessageEvent$1{constructor(ee){super(ee,RoomEventMessageParser)}getParser(){return this.parser}}class RoomFilterSettingsMessageEvent extends MessageEvent$1{constructor(ee){super(ee,RoomFilterSettingsMessageParser)}getParser(){return this.parser}}class RoomSettingsUpdatedEvent extends MessageEvent$1{constructor(ee){super(ee,RoomSettingsUpdatedParser)}getParser(){return this.parser}}class RoomThumbnailUpdateResultEvent extends MessageEvent$1{constructor(ee){super(ee,RoomThumbnailUpdateResultMessageParser)}getParser(){return this.parser}}class UserEventCatsEvent extends MessageEvent$1{constructor(ee){super(ee,UserEventCatsMessageParser)}getParser(){return this.parser}}class UserFlatCatsEvent extends MessageEvent$1{constructor(ee){super(ee,UserFlatCatsMessageParser)}getParser(){return this.parser}}class AchievementNotificationMessageEvent extends MessageEvent$1{constructor(ee){super(ee,AchievementNotificationMessageParser)}getParser(){return this.parser}}class ActivityPointNotificationMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ActivityPointNotificationParser)}getParser(){return this.parser}}class BotErrorEvent extends MessageEvent$1{constructor(ee){super(ee,BotErrorEventParser)}getParser(){return this.parser}}class ClubGiftNotificationEvent extends MessageEvent$1{constructor(ee){super(ee,ClubGiftNotificationParser)}getParser(){return this.parser}}class ConnectionErrorEvent extends MessageEvent$1{constructor(ee){super(ee,ConnectionErrorMessageParser)}getParser(){return this.parser}}class ElementPointerMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ElementPointerMessageParser)}getParser(){return this.parser}}class HabboBroadcastMessageEvent extends MessageEvent$1{constructor(ee){super(ee,HabboBroadcastMessageParser)}getParser(){return this.parser}}class InfoFeedEnableMessageEvent extends MessageEvent$1{constructor(ee){super(ee,InfoFeedEnableMessageParser)}getParser(){return this.parser}}class MOTDNotificationEvent extends MessageEvent$1{constructor(ee){super(ee,MOTDNotificationParser)}getParser(){return this.parser}}class NotificationDialogMessageEvent extends MessageEvent$1{constructor(ee){super(ee,NotificationDialogMessageParser)}getParser(){return this.parser}}class PetLevelNotificationEvent extends MessageEvent$1{constructor(ee){super(ee,PetLevelNotificationParser)}getParser(){return this.parser}}class PetPlacingErrorEvent extends MessageEvent$1{constructor(ee){super(ee,PetPlacingErrorEventParser)}getParser(){return this.parser}}class SimpleAlertMessageEvent extends MessageEvent$1{constructor(ee){super(ee,SimpleAlertMessageParser)}getParser(){return this.parser}}class UnseenItemsEvent extends MessageEvent$1{constructor(ee){super(ee,UnseenItemsParser)}getParser(){return this.parser}}class ProductOffer{constructor(ee){this._itemName=ee.readString(),this._extraInfo=ee.readString(),this._extraInfo==""&&(this._extraInfo=null)}get itemName(){return this._itemName}get extraInfo(){return this._extraInfo}}class NewUserExperienceGift{constructor(ee){this._thumbnailUrl=ee.readString(),this._thumbnailUrl==""&&(this._thumbnailUrl=null),this._productOfferList=[];const te=ee.readInt();let se=0;for(;se<te;)this._productOfferList.push(new ProductOffer(ee)),se++}get productOfferList(){return this._productOfferList}get thumbnailUrl(){return this._thumbnailUrl}}class NewUserExperienceGiftOfferMessageParser{flush(){return!0}parse(ee){if(!ee)return!1;const te=ee.readInt();this._giftOptions=[];let se=0;for(;se<te;)this._giftOptions.push(new NewUserExperienceGiftOptions(ee)),se++;return!0}get giftOptions(){return this._giftOptions}}class NewUserExperienceNotCompleteParser{flush(){return!0}parse(ee){return!!ee}}class NewUserExperienceGiftOfferMessageEvent extends MessageEvent$1{constructor(ee){super(ee,NewUserExperienceGiftOfferMessageParser)}getParser(){return this.parser}}class NewUserExperienceGiftOptions{constructor(ee){this._dayIndex=ee.readInt(),this._stepIndex=ee.readInt(),this._options=[];const te=ee.readInt();let se=0;for(;se<te;)this._options.push(new NewUserExperienceGift(ee)),se++}get dayIndex(){return this._dayIndex}get stepIndex(){return this._stepIndex}get options(){return this._options}}class NewUserExperienceNotCompleteEvent extends MessageEvent$1{constructor(ee){super(ee,NewUserExperienceNotCompleteParser)}getParser(){return this.parser}}class PerkAllowancesMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PerkAllowancesMessageParser)}getParser(){return this.parser}}class PetBreedingMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PetBreedingMessageParser)}getParser(){return this.parser}}class OpenPetPackageRequestedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,OpenPetPackageRequestedMessageParser)}getParser(){return this.parser}}class OpenPetPackageResultMessageEvent extends MessageEvent$1{constructor(ee){super(ee,OpenPetPackageResultMessageParser)}getParser(){return this.parser}}class PetLevelUpdateMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PetLevelUpdateMessageParser)}getParser(){return this.parser}}class PetScratchFailedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PetScratchFailedMessageParser)}getParser(){return this.parser}}class PetTrainingPanelMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PetTrainingMessageParser)}getParser(){return this.parser}}class PollContentsEvent extends MessageEvent$1{constructor(ee){super(ee,PollContentsParser)}getParser(){return this.parser}}class PollErrorEvent extends MessageEvent$1{constructor(ee){super(ee,PollErrorParser)}getParser(){return this.parser}}class PollOfferEvent extends MessageEvent$1{constructor(ee){super(ee,PollOfferParser)}getParser(){return this.parser}}class QuestionAnsweredEvent extends MessageEvent$1{constructor(ee){super(ee,QuestionAnsweredParser)}getParser(){return this.parser}}class QuestionEvent extends MessageEvent$1{constructor(ee){super(ee,QuestionParser)}getParser(){return this.parser}}class QuestionFinishedEvent extends MessageEvent$1{constructor(ee){super(ee,QuestionFinishedParser)}getParser(){return this.parser}}class CommunityGoalEarnedPrizesMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CommunityGoalEarnedPrizesMessageParser)}getParser(){return this.parser}}class CommunityGoalHallOfFameMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CommunityGoalHallOfFameMessageParser)}getParser(){return this.parser}}class CommunityGoalProgressMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CommunityGoalProgressMessageParser)}getParser(){return this.parser}}class ConcurrentUsersGoalProgressMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ConcurrentUsersGoalProgressMessageParser)}getParser(){return this.parser}}class EpicPopupMessageEvent extends MessageEvent$1{constructor(ee){super(ee,EpicPopupMessageParser)}getParser(){return this.parser}}class QuestCancelledMessageEvent extends MessageEvent$1{constructor(ee){super(ee,QuestCancelledMessageParser)}getParser(){return this.parser}}class QuestCompletedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,QuestCompletedMessageParser)}getParser(){return this.parser}}class QuestDailyMessageEvent extends MessageEvent$1{constructor(ee){super(ee,QuestDailyMessageParser)}getParser(){return this.parser}}class QuestMessageEvent extends MessageEvent$1{constructor(ee){super(ee,QuestMessageParser)}getParser(){return this.parser}}class QuestsMessageEvent extends MessageEvent$1{constructor(ee){super(ee,QuestsMessageParser)}getParser(){return this.parser}}class SeasonalQuestsMessageEvent extends MessageEvent$1{constructor(ee){super(ee,SeasonalQuestsParser)}getParser(){return this.parser}}const $2=class $2 extends MessageEvent$1{constructor(ee){super(ee,RecyclerFinishedMessageParser)}getParser(){return this.parser}};$2.FINISHED_OK=1,$2.FINISHED_FAIL=2;let RecyclerFinishedMessageEvent=$2;const FD=class FD extends MessageEvent$1{constructor(ee){super(ee,RecyclerStatusMessageParser)}getParser(){return this.parser}};FD.SYSTEM_STATUS_ENABLED=1,FD.SYSTEM_STATUS_DISABLED=2,FD.SYSTEM_STATUS_TIMEOUT=3;let RecyclerStatusMessageEvent=FD;class RoomDoorbellAcceptedEvent extends MessageEvent$1{constructor(ee){super(ee,RoomDoorbellAcceptedParser)}getParser(){return this.parser}}class RoomRightsClearEvent extends MessageEvent$1{constructor(ee){super(ee,RoomRightsClearParser)}getParser(){return this.parser}}class RoomRightsEvent extends MessageEvent$1{constructor(ee){super(ee,RoomRightsParser)}getParser(){return this.parser}}class RoomRightsOwnerEvent extends MessageEvent$1{constructor(ee){super(ee,RoomRightsOwnerParser)}getParser(){return this.parser}}class RoomEnterErrorEvent extends MessageEvent$1{constructor(ee){super(ee,CantConnectMessageParser)}getParser(){return this.parser}}class RoomEnterEvent extends MessageEvent$1{constructor(ee){super(ee,RoomEnterParser)}getParser(){return this.parser}}class RoomForwardEvent extends MessageEvent$1{constructor(ee){super(ee,RoomFowardParser)}getParser(){return this.parser}}class BotCommandConfigurationEvent extends MessageEvent$1{constructor(ee){super(ee,BotCommandConfigurationParser)}getParser(){return this.parser}}class BotForceOpenContextMenuEvent extends MessageEvent$1{constructor(ee){super(ee,BotForceOpenContextMenuParser)}getParser(){return this.parser}}class BotSkillListUpdateEvent extends MessageEvent$1{constructor(ee){super(ee,BotSkillListUpdateParser)}getParser(){return this.parser}}class RoomChatSettingsEvent extends MessageEvent$1{constructor(ee){super(ee,RoomChatSettingsParser)}getParser(){return this.parser}}class RoomEntryInfoMessageEvent extends MessageEvent$1{constructor(ee){super(ee,RoomEntryInfoMessageParser)}getParser(){return this.parser}}class RoomScoreEvent extends MessageEvent$1{constructor(ee){super(ee,RoomScoreParser)}getParser(){return this.parser}}class FavoriteMembershipUpdateMessageEvent extends MessageEvent$1{constructor(ee){super(ee,FavoriteMembershipUpdateMessageParser)}getParser(){return this.parser}}class ObjectsDataUpdateEvent extends MessageEvent$1{constructor(ee){super(ee,ObjectsDataUpdateParser)}getParser(){return this.parser}}class ObjectsRollingEvent extends MessageEvent$1{constructor(ee){super(ee,ObjectsRollingParser)}getParser(){return this.parser}}class CustomUserNotificationMessageEvent extends MessageEvent$1{constructor(ee){super(ee,CustomUserNotificationMessageParser)}getParser(){return this.parser}}class DiceValueMessageEvent extends MessageEvent$1{constructor(ee){super(ee,DiceValueMessageParser)}getParser(){return this.parser}}class FurnitureFloorAddEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureFloorAddParser)}getParser(){return this.parser}}class FurnitureFloorEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureFloorParser)}getParser(){return this.parser}}class FurnitureFloorRemoveEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureFloorRemoveParser)}getParser(){return this.parser}}class FurnitureFloorUpdateEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureFloorUpdateParser)}getParser(){return this.parser}}class FurniRentOrBuyoutOfferMessageEvent extends MessageEvent$1{constructor(ee){super(ee,FurniRentOrBuyoutOfferMessageParser)}getParser(){return this.parser}}class FurnitureAliasesEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureAliasesParser)}getParser(){return this.parser}}class FurnitureDataEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureDataParser)}getParser(){return this.parser}}class FurnitureStackHeightEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureStackHeightParser)}getParser(){return this.parser}}class GroupFurniContextMenuInfoMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GroupFurniContextMenuInfoMessageParser)}getParser(){return this.parser}}class ItemDataUpdateMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ItemDataUpdateMessageParser)}getParser(){return this.parser}}class LoveLockFurniFinishedEvent extends MessageEvent$1{constructor(ee){super(ee,LoveLockFurniFinishedParser)}getParser(){return this.parser}}class LoveLockFurniFriendConfirmedEvent extends MessageEvent$1{constructor(ee){super(ee,LoveLockFurniFriendConfirmedParser)}getParser(){return this.parser}}class LoveLockFurniStartEvent extends MessageEvent$1{constructor(ee){super(ee,LoveLockFurniStartParser)}getParser(){return this.parser}}class OneWayDoorStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,OneWayDoorStatusMessageParser)}getParser(){return this.parser}}class RentableSpaceRentFailedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,RentableSpaceRentFailedMessageParser)}getParser(){return this.parser}}class RentableSpaceRentOkMessageEvent extends MessageEvent$1{constructor(ee){super(ee,RentableSpaceRentOkMessageParser)}getParser(){return this.parser}}class RentableSpaceStatusMessageEvent extends MessageEvent$1{constructor(ee){super(ee,RentableSpaceStatusMessageParser)}getParser(){return this.parser}}class RequestSpamWallPostItMessageEvent extends MessageEvent$1{constructor(ee){super(ee,RequestSpamWallPostItMessageParser)}getParser(){return this.parser}}class RoomDimmerPresetsEvent extends MessageEvent$1{constructor(ee){super(ee,RoomDimmerPresetsMessageParser)}getParser(){return this.parser}}class RoomMessageNotificationMessageEvent extends MessageEvent$1{constructor(ee){super(ee,RoomMessageNotificationMessageParser)}getParser(){return this.parser}}class FurnitureWallAddEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureWallAddParser)}getParser(){return this.parser}}class FurnitureWallEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureWallParser)}getParser(){return this.parser}}class FurnitureWallRemoveEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureWallRemoveParser)}getParser(){return this.parser}}class FurnitureWallUpdateEvent extends MessageEvent$1{constructor(ee){super(ee,FurnitureWallUpdateParser)}getParser(){return this.parser}}class WelcomeGiftStatusEvent extends MessageEvent$1{constructor(ee){super(ee,WelcomeGiftStatusParser)}getParser(){return this.parser}}class YoutubeControlVideoMessageEvent extends MessageEvent$1{constructor(ee){super(ee,YoutubeControlVideoMessageParser)}getParser(){return this.parser}}class YoutubeDisplayPlaylistsEvent extends MessageEvent$1{constructor(ee){super(ee,YoutubeDisplayPlaylistsMessageParser$1)}getParser(){return this.parser}}class YoutubeDisplayVideoMessageEvent extends MessageEvent$1{constructor(ee){super(ee,YoutubeDisplayVideoMessageParser$1)}getParser(){return this.parser}}class FloorHeightMapEvent extends MessageEvent$1{constructor(ee){super(ee,FloorHeightMapMessageParser)}getParser(){return this.parser}}class RoomEntryTileMessageEvent extends MessageEvent$1{constructor(ee){super(ee,RoomEntryTileMessageParser)}getParser(){return this.parser}}class RoomHeightMapEvent extends MessageEvent$1{constructor(ee){super(ee,RoomHeightMapParser)}getParser(){return this.parser}}class RoomHeightMapUpdateEvent extends MessageEvent$1{constructor(ee){super(ee,RoomHeightMapUpdateParser)}getParser(){return this.parser}}class RoomOccupiedTilesMessageEvent extends MessageEvent$1{constructor(ee){super(ee,RoomOccupiedTilesMessageParser)}getParser(){return this.parser}}class RoomPaintEvent extends MessageEvent$1{constructor(ee){super(ee,RoomPaintParser)}getParser(){return this.parser}}class RoomReadyMessageEvent extends MessageEvent$1{constructor(ee){super(ee,RoomReadyMessageParser)}getParser(){return this.parser}}class RoomVisualizationSettingsEvent extends MessageEvent$1{constructor(ee){super(ee,RoomVisualizationSettingsParser)}getParser(){return this.parser}}class PetBreedingResultEvent extends MessageEvent$1{constructor(ee){super(ee,PetBreedingResultParser)}getParser(){return this.parser}}class PetExperienceEvent extends MessageEvent$1{constructor(ee){super(ee,PetExperienceParser)}getParser(){return this.parser}}class PetFigureUpdateEvent extends MessageEvent$1{constructor(ee){super(ee,PetFigureUpdateParser)}getParser(){return this.parser}}class PetInfoEvent extends MessageEvent$1{constructor(ee){super(ee,PetInfoParser)}getParser(){return this.parser}}class PetStatusUpdateEvent extends MessageEvent$1{constructor(ee){super(ee,PetStatusUpdateParser)}getParser(){return this.parser}}class YouArePlayingGameEvent extends MessageEvent$1{constructor(ee){super(ee,YouArePlayingGameParser)}getParser(){return this.parser}}class YouAreSpectatorMessageEvent extends MessageEvent$1{constructor(ee){super(ee,YouAreSpectatorMessageParser)}getParser(){return this.parser}}class FloodControlEvent extends MessageEvent$1{constructor(ee){super(ee,FloodControlParser)}getParser(){return this.parser}}class RemainingMuteEvent extends MessageEvent$1{constructor(ee){super(ee,RemainingMuteParser)}getParser(){return this.parser}}class RoomUnitChatEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitChatParser)}getParser(){return this.parser}}class RoomUnitChatShoutEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitChatParser)}getParser(){return this.parser}}class RoomUnitChatWhisperEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitChatParser)}getParser(){return this.parser}}class RoomUnitTypingEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitTypingParser)}getParser(){return this.parser}}class RoomUnitDanceEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitDanceParser)}getParser(){return this.parser}}class RoomUnitEffectEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitEffectParser)}getParser(){return this.parser}}class RoomUnitEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitParser)}getParser(){return this.parser}}class RoomUnitExpressionEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitExpressionParser)}getParser(){return this.parser}}class RoomUnitHandItemEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitHandItemParser)}getParser(){return this.parser}}class RoomUnitHandItemReceivedEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitHandItemReceivedParser)}getParser(){return this.parser}}class RoomUnitIdleEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitIdleParser)}getParser(){return this.parser}}class RoomUnitInfoEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitInfoParser)}getParser(){return this.parser}}class RoomUnitNumberEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitNumberParser)}getParser(){return this.parser}}class RoomUnitRemoveEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitRemoveParser)}getParser(){return this.parser}}class RoomUnitStatusEvent extends MessageEvent$1{constructor(ee){super(ee,RoomUnitStatusParser)}getParser(){return this.parser}}class WiredFurniActionEvent extends MessageEvent$1{constructor(ee){super(ee,WiredFurniActionParser$1)}getParser(){return this.parser}}class WiredFurniConditionEvent extends MessageEvent$1{constructor(ee){super(ee,WiredFurniConditionParser$1)}getParser(){return this.parser}}class WiredFurniTriggerEvent extends MessageEvent$1{constructor(ee){super(ee,WiredFurniTriggerParser$1)}getParser(){return this.parser}}class WiredOpenEvent extends MessageEvent$1{constructor(ee){super(ee,WiredOpenParser)}getParser(){return this.parser}}const H2=class H2 extends MessageEvent$1{constructor(ee){super(ee,WiredRewardResultMessageParser)}getParser(){return this.parser}};H2.PRODUCT_DONATED_CODE=6,H2.BADGE_DONATED_CODE=7;let WiredRewardResultMessageEvent=H2;class WiredSaveSuccessEvent extends MessageEvent$1{constructor(ee){super(ee,WiredSaveSuccessParser)}getParser(){return this.parser}}class WiredValidationErrorEvent extends MessageEvent$1{constructor(ee){super(ee,WiredValidationErrorParser)}getParser(){return this.parser}}class BannedUsersFromRoomEvent extends MessageEvent$1{constructor(ee){super(ee,BannedUsersFromRoomParser)}getParser(){return this.parser}}class FlatControllerAddedEvent extends MessageEvent$1{constructor(ee){super(ee,FlatControllerAddedParser)}getParser(){return this.parser}}class FlatControllerRemovedEvent extends MessageEvent$1{constructor(ee){super(ee,FlatControllerRemovedParser)}getParser(){return this.parser}}class FlatControllersEvent extends MessageEvent$1{constructor(ee){super(ee,FlatControllersParser)}getParser(){return this.parser}}class MuteAllInRoomEvent extends MessageEvent$1{constructor(ee){super(ee,MuteAllInRoomParser)}getParser(){return this.parser}}class NoSuchFlatEvent extends MessageEvent$1{constructor(ee){super(ee,NoSuchFlatParser)}getParser(){return this.parser}}class RoomSettingsDataEvent extends MessageEvent$1{constructor(ee){super(ee,RoomSettingsDataParser)}getParser(){return this.parser}}class RoomSettingsErrorEvent extends MessageEvent$1{constructor(ee){super(ee,RoomSettingsErrorParser)}getParser(){return this.parser}}class RoomSettingsSavedEvent extends MessageEvent$1{constructor(ee){super(ee,RoomSettingsSavedParser)}getParser(){return this.parser}}class RoomSettingsSaveErrorEvent extends MessageEvent$1{constructor(ee){super(ee,RoomSettingsSaveErrorParser)}getParser(){return this.parser}}class ShowEnforceRoomCategoryDialogEvent extends MessageEvent$1{constructor(ee){super(ee,ShowEnforceRoomCategoryDialogParser)}getParser(){return this.parser}}class UserUnbannedFromRoomEvent extends MessageEvent$1{constructor(ee){super(ee,UserUnbannedFromRoomParser)}getParser(){return this.parser}}class AuthenticatedEvent extends MessageEvent$1{constructor(ee){super(ee,AuthenticatedParser)}getParser(){return this.parser}}class JukeboxPlayListFullMessageEvent extends MessageEvent$1{constructor(ee){super(ee,JukeboxPlayListFullMessageParser)}getParser(){return this.parser}}class JukeboxSongDisksMessageEvent extends MessageEvent$1{constructor(ee){super(ee,JukeboxSongDisksMessageParser)}getParser(){return this.parser}}class NowPlayingMessageEvent extends MessageEvent$1{constructor(ee){super(ee,NowPlayingMessageParser)}getParser(){return this.parser}}class OfficialSongIdMessageEvent extends MessageEvent$1{constructor(ee){super(ee,OfficialSongIdMessageParser)}getParser(){return this.parser}}class PlayListMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PlayListMessageParser)}getParser(){return this.parser}}class PlayListSongAddedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,PlayListSongAddedMessageParser)}getParser(){return this.parser}}class TraxSongInfoMessageEvent extends MessageEvent$1{constructor(ee){super(ee,TraxSongInfoMessageParser)}getParser(){return this.parser}}class UserSongDisksInventoryMessageEvent extends MessageEvent$1{constructor(ee){super(ee,UserSongDisksInventoryMessageParser)}getParser(){return this.parser}}class TalentLevelUpEvent extends MessageEvent$1{constructor(ee){super(ee,TalentLevelUpMessageParser)}getParser(){return this.parser}}class TalentTrackLevelMessageEvent extends MessageEvent$1{constructor(ee){super(ee,TalentTrackLevelMessageParser)}getParser(){return this.parser}}class TalentTrackMessageEvent extends MessageEvent$1{constructor(ee){super(ee,TalentTrackParser)}getParser(){return this.parser}}class UserPermissionsEvent extends MessageEvent$1{constructor(ee){super(ee,UserPermissionsParser)}getParser(){return this.parser}}class AccountSafetyLockStatusChangeMessageEvent extends MessageEvent$1{constructor(ee){super(ee,AccountSafetyLockStatusChangeParser)}getParser(){return this.parser}}class ApproveNameMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ApproveNameResultParser)}getParser(){return this.parser}}class ChangeEmailResultEvent extends MessageEvent$1{constructor(ee){super(ee,ChangeEmailResultParser)}getParser(){return this.parser}}class RelationshipStatusInfoEvent extends MessageEvent$1{constructor(ee){super(ee,RelationshipStatusInfoMessageParser)}getParser(){return this.parser}}class UserCurrentBadgesEvent extends MessageEvent$1{constructor(ee){super(ee,UserCurrentBadgesParser)}getParser(){return this.parser}}class UserInfoEvent extends MessageEvent$1{constructor(ee){super(ee,UserInfoParser)}getParser(){return this.parser}}class UserNameChangeMessageEvent extends MessageEvent$1{constructor(ee){super(ee,UserNameChangeMessageParser)}getParser(){return this.parser}}class UserProfileEvent extends MessageEvent$1{constructor(ee){super(ee,UserProfileParser$1)}getParser(){return this.parser}}class UserSettingsEvent extends MessageEvent$1{constructor(ee){super(ee,UserSettingsParser)}getParser(){return this.parser}}class UserTagsMessageEvent extends MessageEvent$1{constructor(ee){super(ee,UserTagsParser)}getParser(){return this.parser}}class EmailStatusResultEvent extends MessageEvent$1{constructor(ee){super(ee,EmailStatusParser)}getParser(){return this.parser}}class ExtendedProfileChangedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ExtendedProfileChangedMessageParser)}getParser(){return this.parser}}class GroupDetailsChangedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GroupDetailsChangedMessageParser)}getParser(){return this.parser}}class GroupMembershipRequestedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GroupMembershipRequestedMessageParser)}getParser(){return this.parser}}class GuildEditFailedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuildEditFailedMessageParser)}getParser(){return this.parser}}class GuildMemberMgmtFailedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuildMemberMgmtFailedMessageParser)}getParser(){return this.parser}}class GuildMembershipsMessageEvent extends MessageEvent$1{constructor(ee){super(ee,GuildMembershipsMessageParser)}getParser(){return this.parser}}class HabboGroupBadgesMessageEvent extends MessageEvent$1{constructor(ee){super(ee,HabboGroupBadgesMessageParser)}getParser(){return this.parser}}class HabboGroupJoinFailedMessageEvent extends MessageEvent$1{constructor(ee){super(ee,HabboGroupJoinFailedMessageParser)}getParser(){return this.parser}}class IgnoredUsersEvent extends MessageEvent$1{constructor(ee){super(ee,IgnoredUsersParser)}getParser(){return this.parser}}class IgnoreResultEvent extends MessageEvent$1{constructor(ee){super(ee,IgnoreResultParser)}getParser(){return this.parser}}class InClientLinkEvent extends MessageEvent$1{constructor(ee){super(ee,InClientLinkParser)}getParser(){return this.parser}}class UserCreditsEvent extends MessageEvent$1{constructor(ee){super(ee,UserCreditsParser)}getParser(){return this.parser}}class UserCurrencyEvent extends MessageEvent$1{constructor(ee){super(ee,UserCurrencyParser)}getParser(){return this.parser}}class UserSubscriptionEvent extends MessageEvent$1{constructor(ee){super(ee,UserSubscriptionParser)}getParser(){return this.parser}}const tO=class tO{constructor(ee){this._type=ee.readInt(),this._userId=ee.readInt(),this._userName=ee.readString(),this._figure=ee.readString(),this._memberSince=ee.readString()}get userId(){return this._userId}get userName(){return this._userName}get admin(){return this._type==tO.TYPE_ADMIN}get owner(){return this._type==tO.TYPE_OWNER}get pending(){return this._type==tO.TYPE_PENDING}get member(){return this._type!=tO.TYPE_MEMBER}get blocked(){return this._type==tO.TYPE_BLOCKED}get figure(){return this._figure}get memberSince(){return this._memberSince}};tO.TYPE_OWNER=0,tO.TYPE_ADMIN=1,tO.TYPE_PENDING=2,tO.TYPE_MEMBER=3,tO.TYPE_BLOCKED=4;let MemberData=tO;class PetRespectNoficationEvent extends MessageEvent$1{constructor(ee){super(ee,PetRespectNotificationParser)}getParser(){return this.parser}}class PetSupplementedNotificationEvent extends MessageEvent$1{constructor(ee){super(ee,PetSupplementedNotificationParser)}getParser(){return this.parser}}class RespectReceivedEvent extends MessageEvent$1{constructor(ee){super(ee,RespectReceivedParser)}getParser(){return this.parser}}class ScrSendKickbackInfoMessageEvent extends MessageEvent$1{constructor(ee){super(ee,ScrSendKickbackInfoMessageParser)}getParser(){return this.parser}}class UserWardrobePageEvent extends MessageEvent$1{constructor(ee){super(ee,UserWardrobePageParser)}getParser(){return this.parser}}class WelcomeGiftChangeEmailResultEvent extends MessageEvent$1{constructor(ee){super(ee,WelcomeGiftChangeEmailResultParser)}getParser(){return this.parser}}class UserClassificationMessageEvent extends MessageEvent$1{constructor(ee){super(ee,UserClassificationMessageParser)}getParser(){return this.parser}}class GetInterstitialMessageComposer{constructor(){this._data=[]}dispose(){}getMessageArray(){return this._data}}class InterstitialShownMessageComposer{constructor(){this._data=[]}dispose(){}getMessageArray(){return this._data}}class RequestAchievementsMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class ChangeUserNameMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class CheckUserNameMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class GetWardrobeMessageComposer{constructor(ee=0){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class SaveWardrobeOutfitMessageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class PhotoCompetitionMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class PublishPhotoMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class PurchasePhotoMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RenderRoomMessageComposer{constructor(ee="",te="",se="",ne=-1,le=-1){this._data=[]}getMessageArray(){return this._data}dispose(){this._data=[]}assignBitmap(ee){const te=TextureUtils.generateImageUrl(ee);if(!te)return;const se=te.split(",")[1],ne=Uint8Array.from(atob(se),le=>le.charCodeAt(0));this._data.push(ne.byteLength,ne.buffer)}assignBase64(ee){const te=ee.split(",")[1],se=Uint8Array.from(atob(te),ne=>ne.charCodeAt(0));this._data.push(se.byteLength,se.buffer)}}class RenderRoomThumbnailMessageComposer extends RenderRoomMessageComposer{constructor(ee="",te="",se="",ne=-1,le=-1){super(ee,te,se,ne,le)}}class RequestCameraConfigurationComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class OpenCampaignCalendarDoorAsStaffComposer{constructor(ee,te){this._data=[ee,te]}dispose(){this._data=null}getMessageArray(){return this._data}}class OpenCampaignCalendarDoorComposer{constructor(ee,te){this._data=[ee,te]}dispose(){this._data=null}getMessageArray(){return this._data}}class BuildersClubPlaceRoomItemMessageComposer{constructor(ee,te,se,ne,le,ue){this._data=[ee,te,se,ne,le,ue]}dispose(){this._data=null}getMessageArray(){return this._data}}class BuildersClubPlaceWallItemMessageComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}dispose(){this._data=null}getMessageArray(){return this._data}}class BuildersClubQueryFurniCountMessageComposer{constructor(){this._data=[]}dispose(){this._data=null}getMessageArray(){return this._data}}class GetBonusRareInfoMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetBundleDiscountRulesetComposer{constructor(){this._data=[]}dispose(){this._data=null}getMessageArray(){return this._data}}class GetCatalogIndexComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetCatalogPageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class GetCatalogPageExpirationComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetCatalogPageWithEarliestExpiryComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetClubGiftInfo{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetClubOffersMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetDirectClubBuyAvailableComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetGiftWrappingConfigurationComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetHabboBasicMembershipExtendOfferComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetHabboClubExtendOfferMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetIsOfferGiftableComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetLimitedOfferAppearingNextComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetNextTargetedOfferComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){this._data=null}}let GetProductOfferComposer$1=class{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}};class GetRoomAdPurchaseInfoComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetSeasonalCalendarDailyOfferComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetSellablePetPalettesComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetTargetedOfferComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class MarkCatalogNewAdditionsPageOpenedComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class PurchaseBasicMembershipExtensionComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){this._data=null}}class PurchaseFromCatalogAsGiftComposer{constructor(ee,te,se,ne,le,ue,ce,he,de){this._data=[ee,te,se,ne,le,ue,ce,he,de]}getMessageArray(){return this._data}dispose(){}}class PurchaseFromCatalogComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class PurchaseRoomAdMessageComposer{constructor(ee,te,se,ne,le,ue,ce){this._data=[ee,te,se,ne,le,ue,ce]}getMessageArray(){return this._data}dispose(){}}class PurchaseTargetedOfferComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class PurchaseVipMembershipExtensionComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RedeemVoucherMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomAdPurchaseInitiatedComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class SelectClubGiftComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class SetTargetedOfferStateComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class ShopTargetedOfferViewedComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class ForwardToACompetitionRoomMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class ForwardToASubmittableRoomMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class ForwardToRandomCompetitionRoomMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetCurrentTimingCodeMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetIsUserPartOfCompetitionMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetSecondsUntilMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomCompetitionInitMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}const SN=class SN{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}};SN.CONFIRM_LEVEL_NOT_ACCEPTED=0,SN.CONFIRM_LEVEL_NOT_SUBMITTED=1,SN.CONFIRM_LEVEL_NOT_CONFIRMED=2,SN.CONFIRM_LEVEL_COMMIT=3;let SubmitRoomToCompetitionMessageComposer=SN;class VoteForRoomMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class CraftComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class CraftSecretComposer{constructor(ee,te){this._data=[ee,te.length].concat(te)}getMessageArray(){return this._data}dispose(){}}class GetCraftableProductsComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetCraftingRecipeComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetCraftingRecipesAvailableComposer{constructor(ee,te){this._data=[ee,te.length].concat(te)}getMessageArray(){return this._data}dispose(){}}class DesktopViewComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class FriendFurniConfirmLockMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class AcceptFriendMessageComposer{constructor(...ee){this._data=[ee.length,...ee]}getMessageArray(){return this._data}dispose(){}}class DeclineFriendMessageComposer{constructor(ee,...te){this._data=[ee,te.length,...te]}getMessageArray(){return this._data}dispose(){}}class FindNewFriendsMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class FollowFriendMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class FriendListUpdateComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetFriendRequestsComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class HabboSearchComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class MessengerInitComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class RemoveFriendComposer{constructor(...ee){this._data=[ee.length,...ee]}getMessageArray(){return this._data}dispose(){}}class RequestFriendComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class SendMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class SendRoomInviteComposer{constructor(ee,te){this._data=[te.length,...te,ee]}getMessageArray(){return this._data}dispose(){}}class SetRelationshipStatusComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class VisitUserComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class Game2ExitGameMessageComposer{constructor(ee=!0){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class Game2GameChatMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class Game2LoadStageReadyMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class Game2PlayAgainMessageComposer{constructor(){this._data=[]}dispose(){this._data=null}getMessageArray(){return this._data}}class Game2CheckGameDirectoryStatusMessageComposer{constructor(){this._data=[]}dispose(){this._data=null}getMessageArray(){return this._data}}class Game2GetAccountGameStatusMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class Game2RequestFullStatusUpdateMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class AcceptGameInviteMessageComposer{constructor(ee,te){this._data=[ee,te]}dispose(){this._data=null}getMessageArray(){return this._data}}class GameUnloadedMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class GetGameAchievementsMessageComposer{constructor(){this._data=[]}dispose(){this._data=null}getMessageArray(){return this._data}}class GetGameListMessageComposer{constructor(){this._data=[]}dispose(){this._data=null}getMessageArray(){return this._data}}class GetGameStatusMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class GetResolutionAchievementsMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GetUserGameAchievementsMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class JoinQueueMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class LeaveQueueMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class ResetResolutionAchievementMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class Game2GetWeeklyFriendsLeaderboardComposer{constructor(ee,te,se,ne,le,ue){this._data=[ee,te,se,ne,le,ue]}dispose(){this._data=null}getMessageArray(){return this._data}}class Game2GetWeeklyLeaderboardComposer{constructor(ee,te,se,ne,le,ue){this._data=[ee,te,se,ne,le,ue]}dispose(){this._data=null}getMessageArray(){return this._data}}class GetWeeklyGameRewardComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class GetWeeklyGameRewardWinnersComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}const LF=class LF{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}};LF.NO_ISSUE_ID=-1;let GetGiftMessageComposer=LF;class ResetPhoneNumberStateMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}const UF=class UF{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}};UF.NO_ISSUE_ID=-1;let SetPhoneNumberVerificationStatusMessageComposer=UF;class TryPhoneNumberMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class VerifyCodeMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class ApproveAllMembershipRequestsMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GroupAdminGiveComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GroupAdminTakeComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GroupBadgePartsComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GroupBuyComposer{constructor(ee,te,se,ne,le,ue){this._data=[ee,te,se,ne,le,ue.length,...ue]}getMessageArray(){return this._data}dispose(){}}class GroupBuyDataComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GroupConfirmRemoveMemberComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GroupDeleteComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GroupFavoriteComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GroupInformationComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GroupJoinComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GroupMembersComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class GroupMembershipAcceptComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GroupMembershipDeclineComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GroupRemoveMemberComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GroupSaveBadgeComposer{constructor(ee,te){this._data=[ee,te.length,...te]}getMessageArray(){return this._data}dispose(){}}class GroupSaveColorsComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class GroupSaveInformationComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class GroupSavePreferencesComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class GroupSettingsComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GroupUnfavoriteComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetForumsListMessageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class GetForumStatsMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetMessagesMessageComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class GetThreadMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GetThreadsMessageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class GetUnreadForumsCountMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class ModerateMessageMessageComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class ModerateThreadMessageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class PostMessageMessageComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class UpdateForumReadMarkerMessageComposer{constructor(...ee){this._data=[ee.length],ee.forEach(te=>{this._data.push(te.k),this._data.push(te._arg_2),this._data.push(te._arg_3)})}getMessageArray(){return this._data}dispose(){}}class UpdateForumSettingsMessageComposer{constructor(ee,te,se,ne,le){this._data=[ee,te,se,ne,le]}getMessageArray(){return this._data}dispose(){}}class UpdateThreadMessageComposer{constructor(ee,te,se,ne){this._data=[ee,te,ne,se]}getMessageArray(){return this._data}dispose(){}}class AuthenticationMessageComposer{constructor(ee,te,se){if(this._type=ee,te.length===se.length){this._data=[];for(let ne=0;ne<te.length;ne++)this._data.push(te[ne]),this._data.push(se[ne])}}getMessageArray(){return this._data}dispose(){}}class ClientHelloMessageComposer{constructor(ee,te,se,ne){this._data=[`NITRO-${NitroVersion.RENDERER_VERSION.replaceAll(".","-")}`,"HTML5",ClientPlatformEnum.HTML5,ClientDeviceCategoryEnum.BROWSER]}getMessageArray(){return this._data}dispose(){}}class CompleteDiffieHandshakeMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class DisconnectMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class InfoRetrieveMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class InitDiffieHandshakeMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class PongMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class SSOTicketMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class UniqueIDMessageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class VersionCheckMessageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class CallForHelpFromForumMessageMessageComposer{constructor(ee,te,se,ne,le){this._data=[ee,te,se,ne,le]}getMessageArray(){return this._data}dispose(){}}class CallForHelpFromForumThreadMessageComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class CallForHelpFromIMMessageComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne.length/2,...ne]}getMessageArray(){return this._data}dispose(){}}class CallForHelpFromPhotoMessageComposer{constructor(ee,te,se,ne,le){this._data=[ee,te,se,ne,le]}getMessageArray(){return this._data}dispose(){}}class CallForHelpFromSelfieMessageComposer{constructor(ee,te,se,ne,le){this._data=[ee,te,se,ne,le]}getMessageArray(){return this._data}dispose(){}}class CallForHelpMessageComposer{constructor(ee,te,se,ne,le){this._data=[ee,te,se,ne,le.length/2,...le]}getMessageArray(){return this._data}dispose(){}}class ChatReviewGuideDecidesOnOfferMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class ChatReviewGuideDetachedMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class ChatReviewGuideVoteMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class ChatReviewSessionCreateMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class DeletePendingCallsForHelpMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetCfhStatusMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetFaqCategoryMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetFaqTextMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetGuideReportingStatusMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetPendingCallsForHelpMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetQuizQuestionsComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GuideSessionCreateMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GuideSessionFeedbackMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GuideSessionGetRequesterRoomMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GuideSessionGuideDecidesMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GuideSessionInviteRequesterMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GuideSessionIsTypingMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GuideSessionMessageMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GuideSessionOnDutyUpdateMessageComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class GuideSessionReportMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GuideSessionRequesterCancelsMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GuideSessionResolvedMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class PostQuizAnswersComposer{constructor(ee,te){this._data=[ee,te.length,...te]}getMessageArray(){return this._data}dispose(){}}class SearchFaqsMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class AvatarEffectActivatedComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class AvatarEffectSelectedComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class GetBadgePointLimitsComposer{constructor(){this._data=[]}dispose(){this._data=null}getMessageArray(){return this._data}}class GetIsBadgeRequestFulfilledComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class RequestABadgeComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class RequestBadgesComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class SetActivatedBadgesComposer{constructor(){this._badges=[]}getMessageArray(){const ee=[];for(let te=1;te<=this._badges.length;te++)ee.push(te),ee.push(this._badges[te-1]);return ee}dispose(){}addActivatedBadge(ee){this._badges.push(ee)}}class GetBotInventoryComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class FurnitureListComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class RequestFurniInventoryWhenNotInRoomComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class CancelPetBreedingComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class ConfirmPetBreedingComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class RequestPetsComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class TradingAcceptComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class TradingCancelComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class TradingCloseComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class TradingConfirmationComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class TradingListAddItemComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class TradingListAddItemsComposer{constructor(...ee){this._data=[ee.length,...ee]}getMessageArray(){return this._data}dispose(){}}class TradingListItemRemoveComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class TradingOpenComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class TradingUnacceptComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class UnseenResetCategoryComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class UnseenResetItemsComposer{constructor(ee,...te){this._data=[ee,te.length,...te]}getMessageArray(){return this._data}dispose(){}}class GetPromoArticlesComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class CommunityGoalVoteMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class BuyMarketplaceOfferMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){this._data=null}}class BuyMarketplaceTokensMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class CancelMarketplaceOfferMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetMarketplaceCanMakeOfferComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetMarketplaceConfigurationMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetMarketplaceItemStatsComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetMarketplaceOffersMessageComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){this._data=null}}class GetMarketplaceOwnOffersMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class MakeOfferMessageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class RedeemMarketplaceOfferCreditsMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){this._data=null}}class CloseIssueDefaultActionMessageComposer{constructor(ee,te,se){this._data=[ee,te.length,...te,se]}getMessageArray(){return this._data}dispose(){}}const BD=class BD{constructor(ee,te){this._data=[te,ee.length,...ee]}getMessageArray(){return this._data}dispose(){}};BD.RESOLUTION_USELESS=1,BD.RESOLUTION_ABUSIVE=2,BD.RESOLUTION_RESOLVED=3;let CloseIssuesMessageComposer=BD;const V2=class V2{constructor(ee,te,se,ne,le,ue=-1){this._data=[ee,te,se,ne,le],ue!=V2.NO_ISSUE_ID&&this._data.push(ue)}getMessageArray(){return this._data}dispose(){}};V2.NO_ISSUE_ID=-1;let ModBanMessageComposer=V2;class DefaultSanctionMessageComposer{constructor(ee,te,se,ne=-1){this._data=[ee,te,se],ne!=ModBanMessageComposer.NO_ISSUE_ID&&this._data.push(ne)}getMessageArray(){return this._data}dispose(){}}class GetCfhChatlogMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetModeratorRoomInfoMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetModeratorUserInfoMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetRoomChatlogMessageComposer{constructor(ee,te=0){this._data=[te,ee]}getMessageArray(){return this._data}dispose(){}}class GetRoomVisitsMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetUserChatlogMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class ModAlertMessageComposer{constructor(ee,te,se,ne=-1){this._data=[ee,te,se],ne!=ModBanMessageComposer.NO_ISSUE_ID&&this._data.push(ne)}getMessageArray(){return this._data}dispose(){}}class ModerateRoomMessageComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}const bN=class bN{constructor(ee,te,se){this._data=[],this._data.push(ee),this._data.push(te),this._data.push(se)}getMessageArray(){return this._data}dispose(){}};bN.ACTION_ALERT=0,bN.ACTION_KICK=1,bN.ACTION_MESSAGE=3,bN.ACTION_MESSAGE_AND_SOFT_KICK=4;let ModeratorActionMessageComposer=bN;class ModKickMessageComposer{constructor(ee,te,se,ne=-1){this._data=[ee,te,se],ne!=ModBanMessageComposer.NO_ISSUE_ID&&this._data.push(ne)}getMessageArray(){return this._data}dispose(){}}class ModMessageMessageComposer{constructor(ee,te,se,ne=-1){this._data=[],this._data.push(ee),this._data.push(te),this._data.push(""),this._data.push(""),this._data.push(se),ne!=ModBanMessageComposer.NO_ISSUE_ID&&this._data.push(ne)}getMessageArray(){return this._data}dispose(){}}class ModMuteMessageComposer{constructor(ee,te,se,ne=-1){this._data=[ee,te,se],ne!=ModBanMessageComposer.NO_ISSUE_ID&&this._data.push(ne)}getMessageArray(){return this._data}dispose(){}}class ModToolPreferencesComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class ModToolSanctionComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class ModTradingLockMessageComposer{constructor(ee,te,se,ne,le=-1){this._data=[ee,te,se,ne],le!=ModBanMessageComposer.NO_ISSUE_ID&&this._data.push(le)}getMessageArray(){return this._data}dispose(){}}class PickIssuesMessageComposer{constructor(ee,te,se,ne){this._data=[ee.length,...ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class ReleaseIssuesMessageComposer{constructor(ee){this._data=[ee.length,...ee]}getMessageArray(){return this._data}dispose(){}}class MysteryBoxWaitingCanceledMessageComposer{constructor(ee){this._data=[ee]}dispose(){this._data=null}getMessageArray(){return this._data}}class AddFavouriteRoomMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class CancelEventMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class CanCreateRoomMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class CompetitionRoomsSearchMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class ConvertGlobalRoomIdMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class CreateFlatMessageComposer{constructor(ee,te,se,ne,le,ue){this._data=[ee,te,se,ne,le,ue]}getMessageArray(){return this._data}dispose(){}}class DeleteFavouriteRoomMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class EditEventMessageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class ForwardToARandomPromotedRoomMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class ForwardToSomeRoomMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetCategoriesWithUserCountMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetCustomRoomFilterMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetGuestRoomMessageComposer{constructor(ee,te,se){this._data=[ee,te?1:0,se?1:0]}getMessageArray(){return this._data}dispose(){}}class GetOfficialRoomsMessageComposer{constructor(ee=0){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetPopularRoomTagsMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetUserEventCatsMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetUserFlatCatsMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GuildBaseSearchMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class MyFavouriteRoomsSearchMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class MyFrequentRoomHistorySearchMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class MyFriendsRoomsSearchMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class MyGuildBasesSearchMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class MyRecommendedRoomsMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class MyRoomHistorySearchMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class MyRoomRightsSearchMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class MyRoomsSearchMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class NavigatorCategoryListModeComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class NavigatorDeleteSavedSearchComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class NavigatorInitComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class NavigatorSearchCloseComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class NavigatorSearchComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class NavigatorSearchOpenComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class NavigatorSearchSaveComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class NavigatorSettingsSaveComposer{constructor(ee,te,se,ne,le,ue){this._data=[ee,te,se,ne,le,ue]}getMessageArray(){return this._data}dispose(){}}class PopularRoomsSearchMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class RateFlatMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RemoveOwnRoomRightsRoomMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomAdEventTabAdClickedComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class RoomAdEventTabViewedComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class RoomAdSearchMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class RoomsWhereMyFriendsAreSearchMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class RoomsWithHighestScoreSearchMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomTextSearchMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class SetRoomSessionTagsMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class ToggleStaffPickMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class UpdateHomeRoomMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class UpdateRoomFilterMessageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class UpdateRoomThumbnailMessageComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class NewUserExperienceGetGiftsComposer{constructor(...ee){this._data=[ee.length*3],ee.forEach(te=>{this._data.push(te.dayIndex),this._data.push(te.stepIndex),this._data.push(te.giftIndex)})}dispose(){this._data=null}getMessageArray(){return this._data}}class NewUserExperienceScriptProceedComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}const tE=class tE{};tE.ACHIEVEMENT_LIST=219,tE.AUTHENTICATION=-1,tE.BOT_CONFIGURATION=1986,tE.BOT_PICKUP=3323,tE.BOT_PLACE=1592,tE.BOT_SKILL_SAVE=2624,tE.GET_CLUB_OFFERS=3285,tE.GET_CLUB_GIFT_INFO=487,tE.GET_CATALOG_INDEX=1195,tE.GET_CATALOG_PAGE=412,tE.CATALOG_PURCHASE=3492,tE.CATALOG_PURCHASE_GIFT=1411,tE.GET_PRODUCT_OFFER=2594,tE.CLIENT_LATENCY=295,tE.CLIENT_LATENCY_MEASURE=96,tE.CLIENT_POLICY=26979,tE.CLIENT_PONG=2596,tE.CLIENT_TOOLBAR_TOGGLE=2313,tE.CLIENT_VARIABLES=1053,tE.GET_CURRENT_TIMING_CODE=2912,tE.DESKTOP_NEWS=1827,tE.DESKTOP_VIEW=105,tE.GET_BUNDLE_DISCOUNT_RULESET=223,tE.EVENT_TRACKER=3457,tE.FIND_NEW_FRIENDS=516,tE.FURNITURE_ALIASES=3898,tE.FURNITURE_FLOOR_UPDATE=248,tE.FURNITURE_MULTISTATE=99,tE.FURNITURE_PICKUP=3456,tE.FURNITURE_PLACE=1258,tE.FURNITURE_POSTIT_PLACE=2248,tE.FURNITURE_POSTIT_SAVE_STICKY_POLE=3283,tE.FURNITURE_RANDOMSTATE=3617,tE.FURNITURE_WALL_MULTISTATE=210,tE.FURNITURE_WALL_UPDATE=168,tE.GAMES_INIT=2914,tE.GAMES_LIST=741,tE.ACCEPTGAMEINVITE=3802,tE.GAMEUNLOADEDMESSAGE=3207,tE.GETGAMEACHIEVEMENTSMESSAGE=2399,tE.GETGAMESTATUSMESSAGE=3171,tE.GETUSERGAMEACHIEVEMENTSMESSAGE=389,tE.JOINQUEUEMESSAGE=1458,tE.LEAVEQUEUEMESSAGE=2384,tE.RESETRESOLUTIONACHIEVEMENTMESSAGE=3144,tE.GETWEEKLYGAMEREWARDWINNERS=1054,tE.GAME2GETACCOUNTGAMESTATUSMESSAGE=11,tE.GAME2CHECKGAMEDIRECTORYSTATUSMESSAGE=3259,tE.GAME2EXITGAMEMESSAGE=1445,tE.GAME2GAMECHATMESSAGE=2502,tE.GAME2LOADSTAGEREADYMESSAGE=2415,tE.GAME2PLAYAGAINMESSAGE=3196,tE.GAME2REQUESTFULLSTATUSUPDATEMESSAGE=1598,tE.GAME2GETWEEKLYFRIENDSLEADERBOARD=1232,tE.GAME2GETWEEKLYLEADERBOARD=2565,tE.GET_GIFT_WRAPPING_CONFIG=418,tE.GROUP_ADMIN_ADD=2894,tE.GROUP_ADMIN_REMOVE=722,tE.GROUP_CREATE_OPTIONS=798,tE.GROUP_FAVORITE=3549,tE.GET_FORUM_STATS=3149,tE.GET_FORUM_THREADS=873,tE.GET_FORUMS_LIST=436,tE.GET_FORUM_MESSAGES=232,tE.GET_FORUM_THREAD=3900,tE.GET_UNREAD_FORUMS_COUNT=2908,tE.FORUM_MODERATE_MESSAGE=286,tE.FORUM_MODERATE_THREAD=1397,tE.FORUM_POST_MESSAGE=3529,tE.UPDATE_FORUM_READ_MARKER=1855,tE.UPDATE_FORUM_SETTINGS=2214,tE.FORUM_UPDATE_THREAD=3045,tE.GROUP_INFO=2991,tE.GROUP_DELETE=1134,tE.GROUP_MEMBER_REMOVE_CONFIRM=3593,tE.GROUP_MEMBER_REMOVE=593,tE.GROUP_MEMBERS=312,tE.GROUP_MEMBERSHIPS=367,tE.GROUP_REQUEST=998,tE.GROUP_REQUEST_ACCEPT=3386,tE.GROUP_REQUEST_DECLINE=1894,tE.GROUP_SETTINGS=1004,tE.GROUP_PARTS=813,tE.GROUP_BUY=230,tE.GROUP_SAVE_INFORMATION=3137,tE.GROUP_SAVE_BADGE=1991,tE.GROUP_SAVE_COLORS=1764,tE.GROUP_SAVE_PREFERENCES=3435,tE.GROUP_BADGES=21,tE.GROUP_UNBLOCK_MEMBER=2864,tE.GET_BADGE_POINTS_LIMITS=1371,tE.REQUESTABADGE=3077,tE.GETISBADGEREQUESTFULFILLED=1364,tE.ITEM_CLOTHING_REDEEM=3374,tE.ITEM_COLOR_WHEEL_CLICK=2144,tE.ITEM_DICE_CLICK=1990,tE.ITEM_DICE_CLOSE=1533,tE.ITEM_DIMMER_SAVE=1648,tE.ITEM_DIMMER_SETTINGS=2813,tE.ITEM_DIMMER_TOGGLE=2296,tE.ITEM_EXCHANGE_REDEEM=3115,tE.ITEM_PAINT=711,tE.SET_OBJECT_DATA=3608,tE.ITEM_STACK_HELPER=3839,tE.ITEM_WALL_CLICK=210,tE.ITEM_WALL_UPDATE=168,tE.MARKETPLACE_CONFIG=2597,tE.ACCEPT_FRIEND=137,tE.MESSENGER_CHAT=3567,tE.DECLINE_FRIEND=2890,tE.FOLLOW_FRIEND=3997,tE.MESSENGER_FRIENDS=1523,tE.MESSENGER_INIT=2781,tE.MESSENGER_RELATIONSHIPS=2138,tE.SET_RELATIONSHIP_STATUS=3768,tE.REMOVE_FRIEND=1689,tE.REQUEST_FRIEND=3157,tE.GET_FRIEND_REQUESTS=2448,tE.SEND_ROOM_INVITE=1276,tE.HABBO_SEARCH=1210,tE.FRIEND_LIST_UPDATE=1419,tE.MOD_TOOL_USER_INFO=3295,tE.GET_USER_FLAT_CATS=3027,tE.NAVIGATOR_INIT=2110,tE.NAVIGATOR_SEARCH=249,tE.NAVIGATOR_SEARCH_CLOSE=1834,tE.NAVIGATOR_SEARCH_OPEN=637,tE.NAVIGATOR_SEARCH_SAVE=2226,tE.GET_USER_EVENT_CATS=1782,tE.NAVIGATOR_SETTINGS_SAVE=3159,tE.NAVIGATOR_CATEGORY_LIST_MODE=1202,tE.NAVIGATOR_DELETE_SAVED_SEARCH=1954,tE.PET_INFO=2934,tE.PET_PICKUP=1581,tE.PET_PLACE=2647,tE.PET_RESPECT=3202,tE.PET_RIDE=1036,tE.PET_MOVE=3449,tE.PET_OPEN_PACKAGE=3698,tE.PET_SELECTED=549,tE.PETS_BREED=1638,tE.PET_CANCEL_BREEDING=2713,tE.PET_CONFIRM_BREEDING=3382,tE.GET_PET_TRAINING_PANEL=2161,tE.RECYCLER_PRIZES=398,tE.RECYCLER_STATUS=1342,tE.RECYCLER_ITEMS=2771,tE.RELEASE_VERSION=4e3,tE.CALL_FOR_HELP=1691,tE.ROOM_AMBASSADOR_ALERT=2996,tE.ROOM_BAN_GIVE=1477,tE.ROOM_BAN_LIST=2267,tE.ROOM_BAN_REMOVE=992,tE.ROOM_CREATE=2752,tE.ROOM_DELETE=532,tE.ROOM_DOORBELL=1644,tE.ROOM_ENTER=2312,tE.ROOM_FAVORITE=3817,tE.ROOM_FAVORITE_REMOVE=309,tE.CAN_CREATE_ROOM=2128,tE.CANCEL_ROOM_EVENT=2725,tE.EDIT_ROOM_EVENT=3991,tE.COMPETITION_ROOM_SEARCH=433,tE.FORWARD_TO_RANDOM_PROMOTED_ROOM=10,tE.FORWARD_TO_SOME_ROOM=1703,tE.GET_CATEGORIES_WITH_USER_COUNT=3782,tE.GET_GUEST_ROOM=2230,tE.GET_OFFICIAL_ROOMS=1229,tE.GET_POPULAR_ROOM_TAGS=826,tE.GUILD_BASE_SEARCH=2930,tE.MY_FAVOURITE_ROOMS_SEARCH=2578,tE.MY_FREQUENT_ROOM_HISTORY_SEARCH=1002,tE.MY_FRIENDS_ROOM_SEARCH=2266,tE.MY_GUILD_BASES_SEARCH=39,tE.MY_RECOMMENDED_ROOMS=2537,tE.MY_ROOM_HISTORY_SEARCH=2264,tE.MY_ROOM_RIGHTS_SEARCH=272,tE.MY_ROOMS_SEARCH=2277,tE.POPULAR_ROOMS_SEARCH=2758,tE.ROOM_AD_EVENT_TAB_CLICKED=2412,tE.ROOM_AD_EVENT_TAB_VIEWED=2668,tE.ROOM_AD_SEARCH=2809,tE.ROOM_TEXT_SEARCH=3943,tE.ROOMS_WHERE_MY_FRIENDS_ARE=1786,tE.ROOMS_WITH_HIGHEST_SCORE_SEARCH=2939,tE.SET_ROOM_SESSION_TAGS=3305,tE.UPDATE_ROOM_THUMBNAIL=2468,tE.ROOM_KICK=1320,tE.ROOM_LIKE=3582,tE.ROOM_MODEL=2300,tE.GET_OCCUPIED_TILES=1687,tE.GET_ROOM_ENTRY_TILE=3559,tE.ROOM_MODEL_SAVE=875,tE.ROOM_MUTE=3637,tE.ROOM_MUTE_USER=3485,tE.ROOM_RIGHTS_GIVE=808,tE.ROOM_RIGHTS_LIST=3385,tE.ROOM_RIGHTS_REMOVE=2064,tE.ROOM_RIGHTS_REMOVE_ALL=2683,tE.ROOM_RIGHTS_REMOVE_OWN=3182,tE.ROOM_SETTINGS=3129,tE.ROOM_SETTINGS_SAVE=1969,tE.ROOM_SETTINGS_UPDATE_ROOM_CATEGORY_AND_TRADE=1265,tE.ROOM_STAFF_PICK=1918,tE.ROOM_FILTER_WORDS=1911,tE.ROOM_FILTER_WORDS_MODIFY=3001,tE.MYSTERYBOXWAITINGCANCELEDMESSAGE=2012,tE.MYSTERYBOX_OPEN_TROPHY=3074,tE.SECURITY_MACHINE=2490,tE.SECURITY_TICKET=2419,tE.TRADE=1481,tE.TRADE_ACCEPT=3863,tE.TRADE_CANCEL=2341,tE.TRADE_CLOSE=2551,tE.TRADE_CONFIRM=2760,tE.TRADE_ITEM=3107,tE.TRADE_ITEM_REMOVE=3845,tE.TRADE_ITEMS=1263,tE.TRADE_UNACCEPT=1444,tE.UNIT_ACTION=2456,tE.UNIT_CHAT=1314,tE.UNIT_CHAT_SHOUT=2085,tE.UNIT_CHAT_WHISPER=1543,tE.UNIT_DANCE=2080,tE.UNIT_DROP_HAND_ITEM=2814,tE.UNIT_GIVE_HANDITEM=2941,tE.UNIT_LOOK=3301,tE.UNIT_POSTURE=2235,tE.UNIT_SIGN=1975,tE.UNIT_TYPING=1597,tE.UNIT_TYPING_STOP=1474,tE.UNIT_WALK=3320,tE.USER_BADGES=2769,tE.USER_BADGES_CURRENT=2091,tE.USER_BADGES_CURRENT_UPDATE=644,tE.USER_BOTS=3848,tE.USER_CURRENCY=273,tE.USER_EFFECT_ACTIVATE=2959,tE.USER_EFFECT_ENABLE=1752,tE.USER_FIGURE=2730,tE.USER_FURNITURE=3150,tE.REQUESTFURNIINVENTORYWHENNOTINROOM=3500,tE.USER_HOME_ROOM=1740,tE.USER_INFO=357,tE.USER_MOTTO=2228,tE.USER_IGNORED=3878,tE.USER_PETS=3095,tE.USER_PROFILE=3265,tE.USER_PROFILE_BY_NAME=2249,tE.USER_RESPECT=2694,tE.GET_SOUND_SETTINGS=2388,tE.USER_SETTINGS_CAMERA=1461,tE.USER_SETTINGS_CHAT_STYLE=1030,tE.USER_SETTINGS_INVITES=1086,tE.USER_SETTINGS_OLD_CHAT=1262,tE.USER_SETTINGS_VOLUME=1367,tE.USER_SUBSCRIPTION=3166,tE.GET_WARDROBE=2742,tE.SAVE_WARDROBE_OUTFIT=800,tE.USER_TAGS=17,tE.PEER_USERS_CLASSIFICATION=1160,tE.USER_CLASSIFICATION=2285,tE.VISIT_USER=2970,tE.WIRED_ACTION_SAVE=2281,tE.WIRED_APPLY_SNAPSHOT=3373,tE.WIRED_CONDITION_SAVE=3203,tE.WIRED_OPEN=768,tE.WIRED_TRIGGER_SAVE=1520,tE.GET_ITEM_DATA=3964,tE.ONE_WAY_DOOR_CLICK=2765,tE.REMOVE_WALL_ITEM=3336,tE.SET_ITEM_DATA=3666,tE.CATALOG_REDEEM_VOUCHER=339,tE.ROOM_TONER_APPLY=2880,tE.FRIEND_FURNI_CONFIRM_LOCK=3775,tE.MANNEQUIN_SAVE_NAME=2850,tE.MANNEQUIN_SAVE_LOOK=2209,tE.PRESENT_OPEN_PRESENT=3558,tE.CATALOG_SELECT_VIP_GIFT=2276,tE.USER_IGNORE_ID=3314,tE.USER_IGNORE=1117,tE.USER_UNIGNORE=2061,tE.MODTOOL_REQUEST_ROOM_INFO=707,tE.MODTOOL_CHANGE_ROOM_SETTINGS=3260,tE.MODTOOL_REQUEST_USER_CHATLOG=1391,tE.MODTOOL_REQUEST_ROOM_CHATLOG=2587,tE.MODTOOL_SANCTION_ALERT=229,tE.MODTOOL_SANCTION_BAN=2766,tE.MODTOOL_SANCTION_KICK=2582,tE.MODTOOL_SANCTION_TRADELOCK=3742,tE.MODTOOL_ALERTEVENT=1840,tE.MODTOOL_SANCTION_MUTE=1945,tE.MODTOOL_REQUEST_USER_ROOMS=3526,tE.MODTOOL_ROOM_ALERT=3842,tE.MODTOOL_PREFERENCES=31,tE.CLOSE_ISSUE_DEFAULT_ACTION=2717,tE.CLOSE_ISSUES=2067,tE.DEFAULT_SANCTION=1681,tE.GET_CFH_CHATLOG=211,tE.MODTOOL_SANCTION=1392,tE.PICK_ISSUES=15,tE.RELEASE_ISSUES=1572,tE.CONVERT_GLOBAL_ROOM_ID=314,tE.REQUEST_SELL_ITEM=848,tE.REQUEST_MARKETPLACE_ITEM_STATS=3288,tE.MARKETPLACE_SELL_ITEM=3447,tE.MARKETPLACE_REQUEST_OWN_ITEMS=2105,tE.MARKETPLACE_TAKE_BACK_ITEM=434,tE.MARKETPLACE_REDEEM_CREDITS=2650,tE.MARKETPLACE_REQUEST_OFFERS=2407,tE.MARKETPLACE_BUY_OFFER=1603,tE.MARKETPLACE_BUY_TOKENS=1866,tE.CATALOG_REQUESET_PET_BREEDS=1756,tE.APPROVE_NAME=2109,tE.UNIT_GIVE_HANDITEM_PET=2768,tE.PET_MOUNT=1036,tE.PET_SUPPLEMENT=749,tE.FURNITURE_GROUP_INFO=2651,tE.ACHIEVEMENT_RESOLUTION_OPEN=359,tE.USE_PET_PRODUCT=1328,tE.REMOVE_PET_SADDLE=186,tE.TOGGLE_PET_RIDING=1472,tE.TOGGLE_PET_BREEDING=3379,tE.UNSEEN_RESET_CATEGORY=3493,tE.UNSEEN_RESET_ITEMS=2343,tE.COMMUNITY_GOAL_VOTE_COMPOSER=3536,tE.GET_PROMO_ARTICLES=1827,tE.ACCEPT_QUEST=3604,tE.ACTIVATE_QUEST=793,tE.CANCEL_QUEST=3133,tE.FRIEND_REQUEST_QUEST_COMPLETE=1148,tE.GET_COMMUNITY_GOAL_EARNED_PRIZES=2688,tE.GET_COMMUNITY_GOAL_HALL_OF_FAME=2167,tE.GET_COMMUNITY_GOAL_PROGRESS=1145,tE.GET_CONCURRENT_USERS_GOAL_PROGRESS=1343,tE.GET_CONCURRENT_USERS_REWARD=3872,tE.GET_DAILY_QUEST=2486,tE.GET_QUESTS=3333,tE.GET_SEASONAL_QUESTS_ONLY=1190,tE.OPEN_QUEST_TRACKER=2750,tE.REDEEM_COMMUNITY_GOAL_PRIZE=90,tE.REJECT_QUEST=2397,tE.START_CAMPAIGN=1697,tE.GET_BONUS_RARE_INFO=957,tE.CRAFT=3591,tE.CRAFT_SECRET=1251,tE.GET_CRAFTABLE_PRODUCTS=633,tE.GET_CRAFTING_RECIPE=1173,tE.GET_CRAFTING_RECIPES_AVAILABLE=3086,tE.PHOTO_COMPETITION=3959,tE.PUBLISH_PHOTO=2068,tE.PURCHASE_PHOTO=2408,tE.RENDER_ROOM=3226,tE.RENDER_ROOM_THUMBNAIL=1982,tE.REQUEST_CAMERA_CONFIGURATION=796,tE.ADD_JUKEBOX_DISK=753,tE.GET_JUKEBOX_PLAYLIST=1435,tE.GET_NOW_PLAYING=1325,tE.GET_OFFICIAL_SONG_ID=3189,tE.GET_SONG_INFO=3082,tE.GET_SOUND_MACHINE_PLAYLIST=3498,tE.GET_USER_SONG_DISKS=2304,tE.REMOVE_JUKEBOX_DISK=3050,tE.INTERSTITIAL_SHOWN=1109,tE.GET_INTERSTITIAL=2519,tE.CHANGE_USERNAME=2977,tE.CHECK_USERNAME=3950,tE.OPEN_CAMPAIGN_CALENDAR_DOOR_STAFF=3889,tE.OPEN_CAMPAIGN_CALENDAR_DOOR=2257,tE.BUILDERS_CLUB_PLACE_ROOM_ITEM=1051,tE.BUILDERS_CLUB_PLACE_WALL_ITEM=462,tE.BUILDERS_CLUB_QUERY_FURNI_COUNT=2529,tE.GET_CATALOG_PAGE_EXPIRATION=742,tE.GET_CATALOG_PAGE_WITH_EARLIEST_EXP=3135,tE.GET_DIRECT_CLUB_BUY_AVAILABLE=801,tE.GET_HABBO_BASIC_MEMBERSHIP_EXTEND_OFFER=603,tE.GET_HABBO_CLUB_EXTEND_OFFER=2462,tE.GET_IS_OFFER_GIFTABLE=1347,tE.GET_LIMITED_OFFER_APPEARING_NEXT=410,tE.GET_NEXT_TARGETED_OFFER=596,tE.GET_ROOM_AD_PURCHASE_INFO=1075,tE.GET_SEASONAL_CALENDAR_DAILY_OFFER=3257,tE.GET_TARGETED_OFFER=2487,tE.MARK_CATALOG_NEW_ADDITIONS_PAGE_OPENED=2150,tE.PURCHASE_BASIC_MEMBERSHIP_EXTENSION=2735,tE.PURCHASE_ROOM_AD=777,tE.PURCHASE_TARGETED_OFFER=1826,tE.PURCHASE_VIP_MEMBERSHIP_EXTENSION=3407,tE.ROOM_AD_PURCHASE_INITIATED=2283,tE.SET_TARGETTED_OFFER_STATE=2041,tE.SHOP_TARGETED_OFFER_VIEWED=3483,tE.HELPER_TALENT_TRACK=196,tE.TALENT_TRACK_GET_LEVEL=2127,tE.FORWARD_TO_A_COMPETITION_ROOM=172,tE.FORWARD_TO_A_SUBMITTABLE_ROOM=1450,tE.FORWARD_TO_RANDOM_COMPETITION_ROOM=865,tE.GET_IS_USER_PART_OF_COMPETITION=2077,tE.GET_SECONDS_UNTIL=271,tE.ROOM_COMPETITION_INIT=1334,tE.SUBMIT_ROOM_TO_COMPETITION=2595,tE.VOTE_FOR_ROOM=143,tE.GET_GIFT=2436,tE.RESET_PHONE_NUMBER_STATE=2741,tE.SET_PHONE_NUMBER_VERIFICATION_STATUS=1379,tE.TRY_PHONE_NUMBER=790,tE.VERIFY_CODE=2721,tE.CONTROL_YOUTUBE_DISPLAY_PLAYBACK=3005,tE.GET_YOUTUBE_DISPLAY_STATUS=336,tE.SET_YOUTUBE_DISPLAY_PLAYLIST=2069,tE.GO_TO_FLAT=685,tE.CHANGE_QUEUE=3093,tE.CALL_FOR_HELP_FROM_FORUM_MESSAGE=1412,tE.CALL_FOR_HELP_FROM_FORUM_THREAD=534,tE.CALL_FOR_HELP_FROM_IM=2950,tE.CALL_FOR_HELP_FROM_PHOTO=2492,tE.CALL_FOR_HELP_FROM_SELFIE=2755,tE.CHAT_REVIEW_GUIDE_DECIDES=3365,tE.CHAT_REVIEW_GUIDE_DETACHED=2501,tE.CHAT_REVIEW_GUIDE_VOTE=3961,tE.CHAT_REVIEW_SESSION_CREATE=3060,tE.DELETE_PENDING_CALLS_FOR_HELP=3605,tE.GET_CFH_STATUS=2746,tE.GET_FAQ_CATEGORY=3445,tE.GET_FAQ_TEXT=1849,tE.GET_GUIDE_REPORTING_STATUS=3786,tE.GET_PENDING_CALLS_FOR_HELP=3267,tE.GET_QUIZ_QUESTIONS=1296,tE.GUIDE_SESSION_CREATE=3338,tE.GUIDE_SESSION_FEEDBACK=477,tE.GUIDE_SESSION_GET_REQUESTER_ROOM=1052,tE.GUIDE_SESSION_GUIDE_DECIDES=1424,tE.GUIDE_SESSION_INVITE_REQUESTER=234,tE.GUIDE_SESSION_IS_TYPING=519,tE.GUIDE_SESSION_MESSAGE=3899,tE.GUIDE_SESSION_ON_DUTY_UPDATE=1922,tE.GUIDE_SESSION_REPORT=3969,tE.GUIDE_SESSION_REQUESTER_CANCELS=291,tE.GUIDE_SESSION_RESOLVED=887,tE.POST_QUIZ_ANSWERS=3720,tE.SEARCH_FAQS=2031,tE.POLL_ANSWER=3505,tE.POLL_REJECT=1773,tE.POLL_START=109,tE.DISCONNECT=2445,tE.SCR_GET_KICKBACK_INFO=869,tE.COMPOST_PLANT=3835,tE.HARVEST_PET=1521,tE.SET_CLOTHING_CHANGE_DATA=924,tE.GROUP_UNFAVORITE=1820,tE.NEW_USER_EXPERIENCE_GET_GIFTS=1822,tE.NEW_USER_EXPERIENCE_SCRIPT_PROCEED=1299,tE.HANDSHAKE_INIT_DIFFIE=3110,tE.HANDSHAKE_COMPLETE_DIFFIE=773,tE.WELCOME_OPEN_GIFT=2638,tE.WELCOME_GIFT_CHANGE_EMAIL=66,tE.EMAIL_GET_STATUS=2557,tE.EMAIL_CHANGE=3965,tE.APPROVE_ALL_MEMBERSHIP_REQUESTS=882,tE.RENTABLE_SPACE_CANCEL_RENT=1667,tE.RENTABLE_SPACE_RENT=2946,tE.RENTABLE_SPACE_STATUS=872,tE.TRACKING_PERFORMANCE_LOG=3230,tE.TRACKING_LAG_WARNING_REPORT=3847,tE.ROOM_DIRECTORY_ROOM_NETWORK_OPEN_CONNECTION=3736,tE.RENTABLE_EXTEND_RENT_OR_BUYOUT_STRIP_ITEM=2115,tE.RENTABLE_EXTEND_RENT_OR_BUYOUT_FURNI=1071,tE.RENTABLE_GET_RENT_OR_BUYOUT_OFFER=2518;let OutgoingHeader=tE;class GetPetCommandsComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class PetMountComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class PetRespectComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class PetSupplementComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class RemovePetSaddleComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RequestPetInfoComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class TogglePetBreedingComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class TogglePetRidingComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class UsePetProductComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class PollAnswerComposer{constructor(ee,te,se){this._data=[ee,te,se.length,...se]}getMessageArray(){return this._data}dispose(){}}class PollRejectComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class PollStartComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class AcceptQuestMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class ActivateQuestMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class CancelQuestMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class FriendRequestQuestCompleteMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetCommunityGoalEarnedPrizesMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetCommunityGoalHallOfFameMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetCommunityGoalProgressMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetConcurrentUsersGoalProgressMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetConcurrentUsersRewardMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetDailyQuestMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GetQuestsMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetSeasonalQuestsOnlyMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class OpenQuestTrackerMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class RedeemCommunityGoalPrizeMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RejectQuestMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class StartCampaignMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetRecyclerStatusMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class RecycleItemsMessageComposer{constructor(...ee){this._data=[ee.length],ee.forEach(te=>{this._data.push(te.itemId)})}getMessageArray(){return this._data}dispose(){}}class RoomDoorbellAccessComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class RoomEnterComposer{constructor(ee,te=null){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class RemoveAllRightsMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomAmbassadorAlertComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomBanUserComposer{constructor(ee,te=0,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class RoomDeleteComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomGiveRightsComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomKickUserComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomMuteUserComposer{constructor(ee,te,se=0){this._data=[ee,se,te]}getMessageArray(){return this._data}dispose(){}}class RoomTakeRightsComposer{constructor(...ee){this._data=[ee.length,...ee]}getMessageArray(){return this._data}dispose(){}}class RoomUnbanUserComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class RequestBotCommandConfigurationComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class RoomBannedUsersComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomSettingsComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomUsersWithRightsComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class SaveRoomSettingsComposer{constructor(ee,te,se,ne,le,ue,ce,he,de,_e,fe,ye,be,Pe,Ne,we,De,$e,Ge,Be,ze,$t,ut,Ti){this._data=[],this._data.push(ee,te,se,ne,le,ue,ce),this._data.push(de.length,...de),this._data.push(_e,fe,ye,be,Pe,Ne,we,De,$e,Ge,Be,ze,$t,ut,Ti)}getMessageArray(){return this._data}dispose(){}}class BotPlaceComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class BotRemoveComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class BotSkillSaveComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class PetMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class CompostPlantMessageComposer extends PetMessageComposer{constructor(ee){super(ee)}}class GetItemDataComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class HarvestPetMessageComposer extends PetMessageComposer{constructor(ee){super(ee)}}class PetMoveComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class PetPlaceComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class PetRemoveComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RemoveWallItemComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class SetClothingChangeDataMessageComposer{constructor(ee,te,se=""){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class SetItemDataMessageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class SetObjectDataMessageComposer{constructor(ee,te){this._data=[ee,te.size*2];for(const[se,ne]of te.entries())this._data.push(se,ne)}getMessageArray(){return this._data}dispose(){}}class AddSpamWallPostItMessageComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class MoodlightSettingsComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class MoodlightSettingsSaveComposer{constructor(ee,te,se,ne,le){this._data=[ee,te,se,ne,le]}getMessageArray(){return this._data}dispose(){}}class MoodlightTogggleStateComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class ExtendRentOrBuyoutFurniMessageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class ExtendRentOrBuyoutStripItemMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class FurnitureFloorUpdateComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class FurnitureAliasesComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class FurnitureGroupInfoComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}let FurniturePickupComposer$1=class{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}},FurniturePlaceComposer$1=class{constructor(ee,te,se,ne,le,ue){this._itemId=ee,this._category=te,this._wallLocation=se,this._x=ne,this._y=le,this._direction=ue}getMessageArray(){switch(this._category){case RoomObjectCategory.FLOOR:return[`${this._itemId} ${this._x} ${this._y} ${this._direction}`];case RoomObjectCategory.WALL:return[`${this._itemId} ${this._wallLocation} `];default:return[]}}dispose(){}};class FurniturePlacePaintComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class FurniturePostItPlaceComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GetRentOrBuyoutOfferMessageComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class FurnitureColorWheelComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class FurnitureDiceActivateComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class FurnitureDiceDeactivateComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class FurnitureExchangeComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class FurnitureMultiStateComposer{constructor(ee,te=0){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class FurnitureOneWayDoorComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class FurnitureRandomStateComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class FurnitureStackHeightComposer{constructor(ee,te=-100){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class FurnitureWallMultiStateComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class FurnitureMannequinSaveLookComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class FurnitureMannequinSaveNameComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class OpenMysteryTrophyMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class OpenPetPackageMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class OpenWelcomeGiftComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class OpenPresentComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RentableSpaceCancelRentMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RentableSpaceRentMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RentableSpaceStatusMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class ApplyTonerComposer{constructor(ee,te,se,ne){this._data=[ee,te,se,ne]}getMessageArray(){return this._data}dispose(){}}class FurnitureWallUpdateComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class ControlYoutubeDisplayPlaybackMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GetYoutubeDisplayStatusMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class SetYoutubeDisplayPlaylistMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GetOccupiedTilesMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetRoomEntryDataMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetRoomEntryTileMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class UpdateFloorPropertiesMessageComposer{constructor(ee,te,se,ne,le,ue,ce){this._data=[ee,te,se,ne,le,ue,ce]}getMessageArray(){return this._data}dispose(){}}class RedeemItemClothingComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class ChangeQueueMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GoToFlatMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}let RoomUnitChatComposer$1=class{constructor(ee,te=0){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}};class RoomUnitChatShoutComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class RoomUnitChatStyleComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomUnitChatWhisperComposer{constructor(ee,te,se){this._data=[ee+" "+te,se]}getMessageArray(){return this._data}dispose(){}}let RoomUnitTypingStartComposer$1=class{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}};class RoomUnitTypingStopComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class RoomUnitActionComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomUnitDanceComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomUnitDropHandItemComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class RoomUnitGiveHandItemComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomUnitGiveHandItemPetComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}let RoomUnitLookComposer$1=class{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}};class RoomUnitPostureComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomUnitSignComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}let RoomUnitWalkComposer$1=class{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}};const jD=class jD{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}};jD.STATE_START=0,jD.STATE_CANCEL=1,jD.STATE_ACCEPT=2;let BreedPetsMessageComposer=jD;class PetSelectedMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomNetworkOpenConnectionMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class ApplySnapshotMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class OpenMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomMuteComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class UpdateActionMessageComposer{constructor(ee,te,se,ne,le,ue){this._data=[ee,te.length,...te,se,ne.length,...ne,le,ue]}getMessageArray(){return this._data}dispose(){}}class UpdateConditionMessageComposer{constructor(ee,te,se,ne,le){this._data=[ee,te.length,...te,se,ne.length,...ne,le]}getMessageArray(){return this._data}dispose(){}}class UpdateTriggerMessageComposer{constructor(ee,te,se,ne,le){this._data=[ee,te.length,...te,se,ne.length,...ne,le]}getMessageArray(){return this._data}dispose(){}}class UpdateRoomCategoryAndTradeSettingsComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class AddJukeboxDiskComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class GetJukeboxPlayListMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetNowPlayingMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetOfficialSongIdMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetSongInfoMessageComposer{constructor(...ee){this._data=[ee.length].concat(ee)}getMessageArray(){return this._data}dispose(){}}class GetSoundMachinePlayListMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetSoundSettingsComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetUserSongDisksMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class RemoveJukeboxDiskComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetTalentTrackLevelMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class TalentTrackComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class LagWarningReportMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class PerformanceLogMessageComposer{constructor(ee,te,se,ne,le,ue,ce,he,de,_e,fe){this._data=[ee,te,se,ne,le,ue,ce,he,de,_e,fe]}getMessageArray(){return this._data}dispose(){}}class ApproveNameMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class CatalogGroupsComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class ChangeEmailComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetExtendedProfileByNameMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetIgnoredUsersComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetUserTagsComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class IgnoreUserComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class IgnoreUserIdComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class UnignoreUserComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class UserCurrentBadgesComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class UserFigureComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class UserMottoComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}let UserProfileComposer$1=class{constructor(ee,te=!0){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}};class UserRelationshipsComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class GetEmailStatusComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class GetHabboGroupBadgesMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class UserCurrencyComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class UserSubscriptionComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class ScrGetKickbackInfoMessageComposer{constructor(){this._data=[]}getMessageArray(){return this._data}dispose(){}}class UserSettingsCameraFollowComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class UserSettingsOldChatComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class UserSettingsRoomInvitesComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class UserSettingsSoundComposer{constructor(ee,te,se){this._data=[ee,te,se]}getMessageArray(){return this._data}dispose(){}}class UnblockGroupMemberMessageComposer{constructor(ee,te){this._data=[ee,te]}getMessageArray(){return this._data}dispose(){}}class UserRespectComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class WelcomeGiftChangeEmailComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class PeerUsersClassificationMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class RoomUsersClassificationMessageComposer{constructor(ee){this._data=[ee]}getMessageArray(){return this._data}dispose(){}}class NitroCommunicationDemo extends NitroManager{constructor(ee){super(),this._communication=ee,this._handShaking=!1,this._didConnect=!1,this._pongInterval=null,this.onConnectionOpenedEvent=this.onConnectionOpenedEvent.bind(this),this.onConnectionClosedEvent=this.onConnectionClosedEvent.bind(this),this.onConnectionErrorEvent=this.onConnectionErrorEvent.bind(this),this.sendPong=this.sendPong.bind(this)}onInit(){const ee=this._communication.connection;ee&&(ee.addEventListener(SocketConnectionEvent.CONNECTION_OPENED,this.onConnectionOpenedEvent),ee.addEventListener(SocketConnectionEvent.CONNECTION_CLOSED,this.onConnectionClosedEvent),ee.addEventListener(SocketConnectionEvent.CONNECTION_ERROR,this.onConnectionErrorEvent)),this._communication.registerMessageEvent(new ClientPingEvent(this.onClientPingEvent.bind(this))),this._communication.registerMessageEvent(new AuthenticatedEvent(this.onAuthenticatedEvent.bind(this)))}onDispose(){const ee=this._communication.connection;ee&&(ee.removeEventListener(SocketConnectionEvent.CONNECTION_OPENED,this.onConnectionOpenedEvent),ee.removeEventListener(SocketConnectionEvent.CONNECTION_CLOSED,this.onConnectionClosedEvent),ee.removeEventListener(SocketConnectionEvent.CONNECTION_ERROR,this.onConnectionErrorEvent)),this._handShaking=!1,this.stopPonging(),super.onDispose()}onConnectionOpenedEvent(ee){const te=this._communication.connection;te&&(this._didConnect=!0,this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent.CONNECTION_ESTABLISHED,te),NitroConfiguration.getValue("system.pong.manually",!1)&&this.startPonging(),this.startHandshake(te),te.send(new ClientHelloMessageComposer(null,null,null,null)),this.tryAuthentication(te))}onConnectionClosedEvent(ee){const te=this._communication.connection;te&&(this.stopPonging(),this._didConnect&&this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent.CONNECTION_CLOSED,te))}onConnectionErrorEvent(ee){const te=this._communication.connection;te&&(this.stopPonging(),this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent.CONNECTION_ERROR,te))}tryAuthentication(ee){if(!ee||!this.getSSO()){this.getSSO()||NitroLogger.error("Login without an SSO ticket is not supported"),this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent.CONNECTION_HANDSHAKE_FAILED,ee);return}ee.send(new SSOTicketMessageComposer(this.getSSO(),GetTickerTime()))}onClientPingEvent(ee){!ee||!ee.connection||this.sendPong(ee.connection)}onAuthenticatedEvent(ee){!ee||!ee.connection||(this.completeHandshake(ee.connection),this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent.CONNECTION_AUTHENTICATED,ee.connection),ee.connection.send(new InfoRetrieveMessageComposer))}startHandshake(ee){this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent.CONNECTION_HANDSHAKING,ee),this._handShaking=!0}completeHandshake(ee){this.dispatchCommunicationDemoEvent(NitroCommunicationDemoEvent.CONNECTION_HANDSHAKED,ee),this._handShaking=!1}startPonging(){this.stopPonging(),this._pongInterval=setInterval(this.sendPong,NitroConfiguration.getValue("system.pong.interval.ms",2e4))}stopPonging(){this._pongInterval&&(clearInterval(this._pongInterval),this._pongInterval=null)}sendPong(ee=null){ee=ee||this._communication.connection||null,ee&&ee.send(new PongMessageComposer)}dispatchCommunicationDemoEvent(ee,te){Nitro.instance.events.dispatchEvent(new NitroCommunicationDemoEvent(ee,te))}getSSO(){return NitroConfiguration.getValue("sso.ticket",null)}}class NitroMessages{constructor(){this._events=new Map,this._composers=new Map,this.registerEvents(),this.registerComposers()}registerEvents(){this._events.set(IncomingHeader.INTERSTITIAL_MESSAGE,InterstitialMessageEvent),this._events.set(IncomingHeader.ROOM_AD_ERROR,RoomAdErrorEvent),this._events.set(IncomingHeader.AVAILABILITY_STATUS,AvailabilityStatusMessageEvent),this._events.set(IncomingHeader.AVAILABILITY_TIME,AvailabilityTimeMessageEvent),this._events.set(IncomingHeader.HOTEL_CLOSED_AND_OPENS,HotelClosedAndOpensEvent),this._events.set(IncomingHeader.HOTEL_CLOSES_AND_OPENS_AT,HotelClosesAndWillOpenAtEvent),this._events.set(IncomingHeader.HOTEL_WILL_CLOSE_MINUTES,HotelWillCloseInMinutesEvent),this._events.set(IncomingHeader.HOTEL_MAINTENANCE,MaintenanceStatusMessageEvent),this._events.set(IncomingHeader.USER_CHANGE_NAME,ChangeUserNameResultMessageEvent),this._events.set(IncomingHeader.CHECK_USER_NAME,CheckUserNameResultMessageEvent),this._events.set(IncomingHeader.USER_FIGURE,FigureUpdateEvent),this._events.set(IncomingHeader.USER_OUTFITS,WardrobeMessageEvent),this._events.set(IncomingHeader.ADD_BOT_TO_INVENTORY,BotAddedToInventoryEvent),this._events.set(IncomingHeader.USER_BOTS,BotInventoryMessageEvent),this._events.set(IncomingHeader.BOT_RECEIVED,BotReceivedMessageEvent),this._events.set(IncomingHeader.REMOVE_BOT_FROM_INVENTORY,BotRemovedFromInventoryEvent),this._events.set(IncomingHeader.CFH_SANCTION,CfhSanctionMessageEvent),this._events.set(IncomingHeader.CFH_TOPICS,CfhTopicsInitEvent),this._events.set(IncomingHeader.CFH_SANCTION_STATUS,SanctionStatusEvent),this._events.set(IncomingHeader.CAMERA_PUBLISH_STATUS,CameraPublishStatusMessageEvent),this._events.set(IncomingHeader.CAMERA_PURCHASE_OK,CameraPurchaseOKMessageEvent),this._events.set(IncomingHeader.CAMERA_STORAGE_URL,CameraStorageUrlMessageEvent),this._events.set(IncomingHeader.COMPETITION_STATUS,CompetitionStatusMessageEvent),this._events.set(IncomingHeader.INIT_CAMERA,InitCameraMessageEvent),this._events.set(IncomingHeader.THUMBNAIL_STATUS,ThumbnailStatusMessageEvent),this._events.set(IncomingHeader.CAMPAIGN_CALENDAR_DATA,CampaignCalendarDataMessageEvent),this._events.set(IncomingHeader.CAMPAIGN_CALENDAR_DOOR_OPENED,CampaignCalendarDoorOpenedMessageEvent),this._events.set(IncomingHeader.BONUS_RARE_INFO,BonusRareInfoMessageEvent),this._events.set(IncomingHeader.BUILDERS_CLUB_FURNI_COUNT,BuildersClubFurniCountMessageEvent),this._events.set(IncomingHeader.BUILDERS_CLUB_SUBSCRIPTION,BuildersClubSubscriptionStatusMessageEvent),this._events.set(IncomingHeader.BUNDLE_DISCOUNT_RULESET,BundleDiscountRulesetMessageEvent),this._events.set(IncomingHeader.CATALOG_PAGE_EXPIRATION,CatalogPageExpirationEvent),this._events.set(IncomingHeader.CATALOG_PAGE,CatalogPageMessageEvent),this._events.set(IncomingHeader.CATALOG_PAGE_LIST,CatalogPagesListEvent),this._events.set(IncomingHeader.CATALOG_EARLIEST_EXPIRY,CatalogPageWithEarliestExpiryMessageEvent),this._events.set(IncomingHeader.CATALOG_PUBLISHED,CatalogPublishedMessageEvent),this._events.set(IncomingHeader.CLUB_GIFT_INFO,ClubGiftInfoEvent),this._events.set(IncomingHeader.CLUB_GIFT_SELECTED,ClubGiftSelectedEvent),this._events.set(IncomingHeader.DIRECT_SMS_CLUB_BUY,DirectSMSClubBuyAvailableMessageEvent),this._events.set(IncomingHeader.GIFT_RECEIVER_NOT_FOUND,GiftReceiverNotFoundEvent),this._events.set(IncomingHeader.GIFT_WRAPPER_CONFIG,GiftWrappingConfigurationEvent),this._events.set(IncomingHeader.CLUB_EXTENDED_OFFER,HabboClubExtendOfferMessageEvent),this._events.set(IncomingHeader.CLUB_OFFERS,HabboClubOffersMessageEvent),this._events.set(IncomingHeader.IS_OFFER_GIFTABLE,IsOfferGiftableMessageEvent),this._events.set(IncomingHeader.LIMITED_SOLD_OUT,LimitedEditionSoldOutEvent),this._events.set(IncomingHeader.LIMITED_OFFER_APPEARING_NEXT,LimitedOfferAppearingNextMessageEvent),this._events.set(IncomingHeader.NOT_ENOUGH_BALANCE,NotEnoughBalanceMessageEvent),this._events.set(IncomingHeader.PRODUCT_OFFER,ProductOfferEvent),this._events.set(IncomingHeader.CATALOG_PURCHASE_ERROR,PurchaseErrorMessageEvent),this._events.set(IncomingHeader.CATALOG_PURCHASE_NOT_ALLOWED,PurchaseNotAllowedMessageEvent),this._events.set(IncomingHeader.CATALOG_PURCHASE_OK,PurchaseOKMessageEvent),this._events.set(IncomingHeader.ROOM_AD_PURCHASE,RoomAdPurchaseInfoEvent),this._events.set(IncomingHeader.SEASONAL_CALENDAR_OFFER,SeasonalCalendarDailyOfferMessageEvent),this._events.set(IncomingHeader.CATALOG_RECEIVE_PET_BREEDS,SellablePetPalettesMessageEvent),this._events.set(IncomingHeader.TARGET_OFFER,TargetedOfferEvent),this._events.set(IncomingHeader.TARGET_OFFER_NOT_FOUND,TargetedOfferNotFoundEvent),this._events.set(IncomingHeader.REDEEM_VOUCHER_ERROR,VoucherRedeemErrorMessageEvent),this._events.set(IncomingHeader.REDEEM_VOUCHER_OK,VoucherRedeemOkMessageEvent),this._events.set(IncomingHeader.CLIENT_PING,ClientPingEvent),this._events.set(IncomingHeader.COMPETITION_ENTRY_SUBMIT,CompetitionEntrySubmitResultEvent),this._events.set(IncomingHeader.COMPETITION_VOTING_INFO,CompetitionVotingInfoMessageEvent),this._events.set(IncomingHeader.COMPETITION_TIMING_CODE,CurrentTimingCodeMessageEvent),this._events.set(IncomingHeader.COMPETITION_USER_PART_OF,IsUserPartOfCompetitionMessageEvent),this._events.set(IncomingHeader.COMPETITION_NO_OWNED_ROOMS,NoOwnedRoomsAlertMessageEvent),this._events.set(IncomingHeader.COMPETITION_SECONDS_UNTIL,SecondsUntilMessageEvent),this._events.set(IncomingHeader.CRAFTABLE_PRODUCTS,CraftableProductsEvent),this._events.set(IncomingHeader.CRAFTING_RECIPE,CraftingRecipeEvent),this._events.set(IncomingHeader.CRAFTING_RECIPES_AVAILABLE,CraftingRecipesAvailableEvent),this._events.set(IncomingHeader.CRAFTING_RESULT,CraftingResultEvent),this._events.set(IncomingHeader.DESKTOP_VIEW,DesktopViewEvent),this._events.set(IncomingHeader.MESSENGER_ACCEPT_FRIENDS,AcceptFriendResultEvent),this._events.set(IncomingHeader.MESSENGER_FIND_FRIENDS,FindFriendsProcessResultEvent),this._events.set(IncomingHeader.MESSENGER_FOLLOW_FAILED,FollowFriendFailedEvent),this._events.set(IncomingHeader.MESSENGER_FRIENDS,FriendListFragmentEvent),this._events.set(IncomingHeader.MESSENGER_UPDATE,FriendListUpdateEvent),this._events.set(IncomingHeader.MESSENGER_FRIEND_NOTIFICATION,FriendNotificationEvent),this._events.set(IncomingHeader.MESSENGER_REQUESTS,FriendRequestsEvent),this._events.set(IncomingHeader.MESSENGER_SEARCH,HabboSearchResultEvent),this._events.set(IncomingHeader.MESSENGER_INSTANCE_MESSAGE_ERROR,InstantMessageErrorEvent),this._events.set(IncomingHeader.MESSENGER_MESSAGE_ERROR,MessageErrorEvent),this._events.set(IncomingHeader.MESSENGER_INIT,MessengerInitEvent),this._events.set(IncomingHeader.MESSENGER_MINIMAIL_NEW,MiniMailNewMessageEvent),this._events.set(IncomingHeader.MESSENGER_MINIMAIL_COUNT,MiniMailUnreadCountEvent),this._events.set(IncomingHeader.MESSENGER_CHAT,NewConsoleMessageEvent),this._events.set(IncomingHeader.MESSENGER_REQUEST,NewFriendRequestEvent),this._events.set(IncomingHeader.MESSENGER_INVITE_ERROR,RoomInviteErrorEvent),this._events.set(IncomingHeader.MESSENGER_INVITE,RoomInviteEvent),this._events.set(IncomingHeader.ACHIEVEMENTRESOLUTIONCOMPLETED,AchievementResolutionCompletedMessageEvent),this._events.set(IncomingHeader.ACHIEVEMENTRESOLUTIONPROGRESS,AchievementResolutionProgressMessageEvent),this._events.set(IncomingHeader.ACHIEVEMENTRESOLUTIONS,AchievementResolutionsMessageEvent),this._events.set(IncomingHeader.LOAD_GAME_URL,LoadGameUrlEvent),this._events.set(IncomingHeader.LOADGAME,LoadGameMessageEvent),this._events.set(IncomingHeader.UNLOADGAME,UnloadGameMessageEvent),this._events.set(IncomingHeader.GAME_CENTER_GAME_LIST,GameListMessageEvent),this._events.set(IncomingHeader.GAMESTATUSMESSAGE,GameStatusMessageEvent),this._events.set(IncomingHeader.GAME_CENTER_ACHIEVEMENTS,UserGameAchievementsMessageEvent),this._events.set(IncomingHeader.GAME_CENTER_STATUS,Game2AccountGameStatusMessageEvent),this._events.set(IncomingHeader.GAME_CENTER_IN_ARENA_QUEUE,Game2InArenaQueueMessageEvent),this._events.set(IncomingHeader.GAME_CENTER_STOP_COUNTER,Game2StopCounterMessageEvent),this._events.set(IncomingHeader.GAME_CENTER_USER_LEFT_GAME,Game2UserLeftGameMessageEvent),this._events.set(IncomingHeader.GAME_CENTER_DIRECTORY_STATUS,Game2GameDirectoryStatusMessageEvent),this._events.set(IncomingHeader.GAME_CENTER_STARTING_GAME_FAILED,Game2StartingGameFailedMessageEvent),this._events.set(IncomingHeader.GAME_CENTER_JOINING_FAILED,Game2JoiningGameFailedMessageEvent),this._events.set(IncomingHeader.GAMEACHIEVEMENTS,GameAchievementsMessageEvent),this._events.set(IncomingHeader.GAMEINVITE,GameInviteMessageEvent),this._events.set(IncomingHeader.JOINEDQUEUEMESSAGE,JoinedQueueMessageEvent),this._events.set(IncomingHeader.JOININGQUEUEFAILED,JoiningQueueFailedMessageEvent),this._events.set(IncomingHeader.LEFTQUEUE,LeftQueueMessageEvent),this._events.set(IncomingHeader.WEEKLY_GAME_REWARD,WeeklyGameRewardEvent),this._events.set(IncomingHeader.WEEKLY_GAME_REWARD_WINNERS,WeeklyGameRewardWinnersEvent),this._events.set(IncomingHeader.WEEKLY_COMPETITIVE_LEADERBOARD,WeeklyCompetitiveLeaderboardEvent),this._events.set(IncomingHeader.WEEKLY_COMPETITIVE_FRIENDS_LEADERBOARD,WeeklyCompetitiveFriendsLeaderboardEvent),this._events.set(IncomingHeader.WEEKLY_GAME2_FRIENDS_LEADERBOARD,Game2WeeklyFriendsLeaderboardEvent),this._events.set(IncomingHeader.WEEKLY_GAME2_LEADERBOARD,Game2WeeklyLeaderboardEvent),this._events.set(IncomingHeader.GROUP_INFO,GroupInformationEvent),this._events.set(IncomingHeader.GROUP_MEMBER_REMOVE_CONFIRM,GroupConfirmMemberRemoveEvent),this._events.set(IncomingHeader.GROUP_MEMBERS,GroupMembersEvent),this._events.set(IncomingHeader.GROUP_CREATE_OPTIONS,GroupBuyDataEvent),this._events.set(IncomingHeader.GROUP_BADGE_PARTS,GroupBadgePartsEvent),this._events.set(IncomingHeader.GROUP_SETTINGS,GroupSettingsEvent),this._events.set(IncomingHeader.GROUP_PURCHASED,GroupPurchasedEvent),this._events.set(IncomingHeader.GROUP_BADGES,HabboGroupBadgesMessageEvent),this._events.set(IncomingHeader.GROUP_DEACTIVATE,HabboGroupDeactivatedMessageEvent),this._events.set(IncomingHeader.GROUP_MEMBERSHIP_REQUESTED,GroupMembershipRequestedMessageEvent),this._events.set(IncomingHeader.GROUP_DETAILS_CHANGED,GroupDetailsChangedMessageEvent),this._events.set(IncomingHeader.GROUP_HABBO_JOIN_FAILED,HabboGroupJoinFailedMessageEvent),this._events.set(IncomingHeader.GROUP_FORUM_DATA,ForumDataMessageEvent),this._events.set(IncomingHeader.GROUP_FORUM_LIST,ForumsListMessageEvent),this._events.set(IncomingHeader.GROUP_FORUM_THREADS,GuildForumThreadsEvent),this._events.set(IncomingHeader.GROUP_FORUM_POST,PostMessageMessageEvent),this._events.set(IncomingHeader.GROUP_FORUM_POST_THREAD,PostThreadMessageEvent),this._events.set(IncomingHeader.GROUP_FORUM_THREAD_MESSAGES,ThreadMessagesMessageEvent),this._events.set(IncomingHeader.GROUP_FORUM_UNREAD_COUNT,UnreadForumsCountMessageEvent),this._events.set(IncomingHeader.GROUP_FORUM_UPDATE_MESSAGE,UpdateMessageMessageEvent),this._events.set(IncomingHeader.GROUP_FORUM_UPDATE_THREAD,UpdateThreadMessageEvent),this._events.set(IncomingHeader.CFH_DISABLED_NOTIFY,CallForHelpDisabledNotifyMessageEvent),this._events.set(IncomingHeader.CFH_PENDING_CALLS_DELETED,CallForHelpPendingCallsDeletedMessageEvent),this._events.set(IncomingHeader.CFH_PENDING_CALLS,CallForHelpPendingCallsMessageEvent),this._events.set(IncomingHeader.CFH_REPLY,CallForHelpReplyMessageEvent),this._events.set(IncomingHeader.CFH_RESULT_MESSAGE,CallForHelpResultMessageEvent),this._events.set(IncomingHeader.GUIDE_ON_DUTY_STATUS,GuideOnDutyStatusMessageEvent),this._events.set(IncomingHeader.GUIDE_SESSION_ATTACHED,GuideSessionAttachedMessageEvent),this._events.set(IncomingHeader.GUIDE_SESSION_DETACHED,GuideSessionDetachedMessageEvent),this._events.set(IncomingHeader.GUIDE_SESSION_ENDED,GuideSessionEndedMessageEvent),this._events.set(IncomingHeader.GUIDE_SESSION_ERROR,GuideSessionErrorMessageEvent),this._events.set(IncomingHeader.GUIDE_SESSION_INVITED_TO_GUIDE_ROOM,GuideSessionInvitedToGuideRoomMessageEvent),this._events.set(IncomingHeader.GUIDE_SESSION_MESSAGE,GuideSessionMessageMessageEvent),this._events.set(IncomingHeader.GUIDE_SESSION_PARTNER_IS_TYPING,GuideSessionPartnerIsTypingMessageEvent),this._events.set(IncomingHeader.GUIDE_SESSION_REQUESTER_ROOM,GuideSessionRequesterRoomMessageEvent),this._events.set(IncomingHeader.GUIDE_SESSION_STARTED,GuideSessionStartedMessageEvent),this._events.set(IncomingHeader.GUIDE_TICKET_CREATION_RESULT,GuideTicketCreationResultMessageEvent),this._events.set(IncomingHeader.GUIDE_TICKET_RESOLUTION,GuideTicketResolutionMessageEvent),this._events.set(IncomingHeader.GUIDE_REPORTING_STATUS,GuideReportingStatusMessageEvent),this._events.set(IncomingHeader.HOTEL_MERGE_NAME_CHANGE,HotelMergeNameChangeEvent),this._events.set(IncomingHeader.ISSUE_CLOSE_NOTIFICATION,IssueCloseNotificationMessageEvent),this._events.set(IncomingHeader.QUIZ_DATA,QuizDataMessageEvent),this._events.set(IncomingHeader.QUIZ_RESULTS,QuizResultsMessageEvent),this._events.set(IncomingHeader.CHAT_REVIEW_SESSION_DETACHED,ChatReviewSessionDetachedMessageEvent),this._events.set(IncomingHeader.CHAT_REVIEW_SESSION_OFFERED_TO_GUIDE,ChatReviewSessionOfferedToGuideMessageEvent),this._events.set(IncomingHeader.CHAT_REVIEW_SESSION_RESULTS,ChatReviewSessionResultsMessageEvent),this._events.set(IncomingHeader.CHAT_REVIEW_SESSION_STARTED,ChatReviewSessionStartedMessageEvent),this._events.set(IncomingHeader.CHAT_REVIEW_SESSION_VOTING_STATUS,ChatReviewSessionVotingStatusMessageEvent),this._events.set(IncomingHeader.ACHIEVEMENT_PROGRESSED,AchievementEvent),this._events.set(IncomingHeader.ACHIEVEMENT_LIST,AchievementsEvent),this._events.set(IncomingHeader.USER_ACHIEVEMENT_SCORE,AchievementsScoreEvent),this._events.set(IncomingHeader.USER_EFFECT_ACTIVATE,AvatarEffectActivatedEvent),this._events.set(IncomingHeader.USER_EFFECT_LIST_ADD,AvatarEffectAddedEvent),this._events.set(IncomingHeader.USER_EFFECT_LIST_REMOVE,AvatarEffectExpiredEvent),this._events.set(IncomingHeader.USER_EFFECT_LIST,AvatarEffectsEvent),this._events.set(IncomingHeader.AVATAR_EFFECT_SELECTED,AvatarEffectSelectedEvent),this._events.set(IncomingHeader.USER_BADGES,BadgesEvent),this._events.set(IncomingHeader.USER_BADGES_ADD,BadgeReceivedEvent),this._events.set(IncomingHeader.BADGE_POINT_LIMITS,BadgePointLimitsEvent),this._events.set(IncomingHeader.BADGE_REQUEST_FULFILLED,IsBadgeRequestFulfilledEvent),this._events.set(IncomingHeader.USER_CLOTHING,FigureSetIdsMessageEvent),this._events.set(IncomingHeader.USER_FURNITURE_ADD,FurnitureListAddOrUpdateEvent),this._events.set(IncomingHeader.USER_FURNITURE,FurnitureListEvent),this._events.set(IncomingHeader.USER_FURNITURE_REFRESH,FurnitureListInvalidateEvent),this._events.set(IncomingHeader.USER_FURNITURE_REMOVE,FurnitureListRemovedEvent),this._events.set(IncomingHeader.USER_FURNITURE_POSTIT_PLACED,FurniturePostItPlacedEvent),this._events.set(IncomingHeader.USER_PETS,PetInventoryEvent),this._events.set(IncomingHeader.USER_PET_REMOVE,PetRemovedFromInventory),this._events.set(IncomingHeader.USER_PET_ADD,PetAddedToInventoryEvent),this._events.set(IncomingHeader.PET_RECEIVED,PetReceivedMessageEvent),this._events.set(IncomingHeader.PET_PLACING_ERROR,PetPlacingErrorEvent),this._events.set(IncomingHeader.YOUTUBE_CONTROL_VIDEO,YoutubeControlVideoMessageEvent),this._events.set(IncomingHeader.YOUTUBE_DISPLAY_PLAYLISTS,YoutubeDisplayPlaylistsEvent),this._events.set(IncomingHeader.YOUTUBE_DISPLAY_VIDEO,YoutubeDisplayVideoMessageEvent),this._events.set(IncomingHeader.TRADE_ACCEPTED,TradingAcceptEvent),this._events.set(IncomingHeader.TRADE_CLOSED,TradingCloseEvent),this._events.set(IncomingHeader.TRADE_COMPLETED,TradingCompletedEvent),this._events.set(IncomingHeader.TRADE_CONFIRMATION,TradingConfirmationEvent),this._events.set(IncomingHeader.TRADE_LIST_ITEM,TradingListItemEvent),this._events.set(IncomingHeader.TRADE_NOT_OPEN,TradingNotOpenEvent),this._events.set(IncomingHeader.TRADE_OPEN_FAILED,TradingOpenFailedEvent),this._events.set(IncomingHeader.TRADE_OPEN,TradingOpenEvent),this._events.set(IncomingHeader.TRADE_OTHER_NOT_ALLOWED,TradingOtherNotAllowedEvent),this._events.set(IncomingHeader.TRADE_YOU_NOT_ALLOWED,TradingYouAreNotAllowedEvent),this._events.set(IncomingHeader.TRADE_NO_SUCH_ITEM,TradingNoSuchItemEvent),this._events.set(IncomingHeader.COMMUNITY_GOAL_VOTE_EVENT,CommunityGoalVoteMessageEvent),this._events.set(IncomingHeader.PROMO_ARTICLES,PromoArticlesMessageEvent),this._events.set(IncomingHeader.MARKETPLACE_AFTER_ORDER_STATUS,MarketplaceBuyOfferResultEvent),this._events.set(IncomingHeader.MARKETPLACE_CANCEL_SALE,MarketplaceCancelOfferResultEvent),this._events.set(IncomingHeader.MARKETPLACE_SELL_ITEM,MarketplaceCanMakeOfferResult),this._events.set(IncomingHeader.MARKETPLACE_CONFIG,MarketplaceConfigurationEvent),this._events.set(IncomingHeader.MARKETPLACE_ITEM_STATS,MarketplaceItemStatsEvent),this._events.set(IncomingHeader.MARKETPLACE_ITEM_POSTED,MarketplaceMakeOfferResult),this._events.set(IncomingHeader.MARKETPLACE_ITEMS_SEARCHED,MarketPlaceOffersEvent),this._events.set(IncomingHeader.MARKETPLACE_OWN_ITEMS,MarketplaceOwnOffersEvent),this._events.set(IncomingHeader.USER_BANNED,UserBannedMessageEvent),this._events.set(IncomingHeader.MODERATION_CAUTION,ModeratorCautionEvent),this._events.set(IncomingHeader.MODTOOL_ROOM_INFO,ModeratorRoomInfoEvent),this._events.set(IncomingHeader.MODTOOL_USER_CHATLOG,UserChatlogEvent),this._events.set(IncomingHeader.MODTOOL_ROOM_CHATLOG,RoomChatlogEvent),this._events.set(IncomingHeader.MODERATION_USER_INFO,ModeratorUserInfoEvent),this._events.set(IncomingHeader.MODERATION_TOOL,ModeratorInitMessageEvent),this._events.set(IncomingHeader.MODTOOL_VISITED_ROOMS_USER,RoomVisitsEvent),this._events.set(IncomingHeader.CFH_CHATLOG,CfhChatlogEvent),this._events.set(IncomingHeader.ISSUE_DELETED,IssueDeletedMessageEvent),this._events.set(IncomingHeader.ISSUE_INFO,IssueInfoMessageEvent),this._events.set(IncomingHeader.ISSUE_PICK_FAILED,IssuePickFailedMessageEvent),this._events.set(IncomingHeader.MODERATOR_ACTION_RESULT,ModeratorActionResultMessageEvent),this._events.set(IncomingHeader.MODERATOR_MESSAGE,ModeratorMessageEvent),this._events.set(IncomingHeader.MODERATOR_TOOL_PREFERENCES,ModeratorToolPreferencesEvent),this._events.set(IncomingHeader.MYSTERY_BOX_KEYS,MysteryBoxKeysEvent),this._events.set(IncomingHeader.GOTMYSTERYBOXPRIZEMESSAGE,GotMysteryBoxPrizeMessageEvent),this._events.set(IncomingHeader.CANCELMYSTERYBOXWAITMESSAGE,CancelMysteryBoxWaitMessageEvent),this._events.set(IncomingHeader.SHOWMYSTERYBOXWAITMESSAGE,ShowMysteryBoxWaitMessageEvent),this._events.set(IncomingHeader.CAN_CREATE_ROOM,CanCreateRoomEvent),this._events.set(IncomingHeader.CAN_CREATE_ROOM_EVENT,CanCreateRoomEventEvent),this._events.set(IncomingHeader.CATEGORIES_WITH_VISITOR_COUNT,CategoriesWithVisitorCountEvent),this._events.set(IncomingHeader.COMPETITION_ROOMS_DATA,CompetitionRoomsDataMessageEvent),this._events.set(IncomingHeader.CONVERTED_ROOM_ID,ConvertedRoomIdEvent),this._events.set(IncomingHeader.ROOM_DOORBELL,DoorbellMessageEvent),this._events.set(IncomingHeader.USER_FAVORITE_ROOM,FavouriteChangedEvent),this._events.set(IncomingHeader.USER_FAVORITE_ROOM_COUNT,FavouritesEvent),this._events.set(IncomingHeader.ROOM_DOORBELL_REJECTED,FlatAccessDeniedMessageEvent),this._events.set(IncomingHeader.ROOM_CREATED,FlatCreatedEvent),this._events.set(IncomingHeader.ROOM_INFO,GetGuestRoomResultEvent),this._events.set(IncomingHeader.GUEST_ROOM_SEARCH_RESULT,GuestRoomSearchResultEvent),this._events.set(IncomingHeader.USER_HOME_ROOM,NavigatorHomeRoomEvent),this._events.set(IncomingHeader.ROOM_EVENT_CANCEL,RoomEventCancelEvent),this._events.set(IncomingHeader.ROOM_EVENT,RoomEventEvent),this._events.set(IncomingHeader.ROOM_INFO_UPDATED,RoomSettingsUpdatedEvent),this._events.set(IncomingHeader.THUMBNAIL_UPDATE_RESULT,RoomThumbnailUpdateResultEvent),this._events.set(IncomingHeader.NAVIGATOR_EVENT_CATEGORIES,UserEventCatsEvent),this._events.set(IncomingHeader.NAVIGATOR_CATEGORIES,UserFlatCatsEvent),this._events.set(IncomingHeader.NAVIGATOR_COLLAPSED,NavigatorCollapsedEvent),this._events.set(IncomingHeader.NAVIGATOR_LIFTED,NavigatorLiftedEvent),this._events.set(IncomingHeader.NAVIGATOR_METADATA,NavigatorMetadataEvent),this._events.set(IncomingHeader.NAVIGATOR_OPEN_ROOM_CREATOR,NavigatorOpenRoomCreatorEvent),this._events.set(IncomingHeader.NAVIGATOR_SEARCHES,NavigatorSearchesEvent),this._events.set(IncomingHeader.NAVIGATOR_SEARCH,NavigatorSearchEvent),this._events.set(IncomingHeader.NAVIGATOR_SETTINGS,NavigatorSettingsEvent),this._events.set(IncomingHeader.GENERIC_ALERT,HabboBroadcastMessageEvent),this._events.set(IncomingHeader.MOTD_MESSAGES,MOTDNotificationEvent),this._events.set(IncomingHeader.NOTIFICATION_LIST,NotificationDialogMessageEvent),this._events.set(IncomingHeader.UNSEEN_ITEMS,UnseenItemsEvent),this._events.set(IncomingHeader.ACHIEVEMENT_NOTIFICATION,AchievementNotificationMessageEvent),this._events.set(IncomingHeader.INFO_FEED_ENABLE,InfoFeedEnableMessageEvent),this._events.set(IncomingHeader.CLUB_GIFT_NOTIFICATION,ClubGiftNotificationEvent),this._events.set(IncomingHeader.ACTIVITY_POINT_NOTIFICATION,ActivityPointNotificationMessageEvent),this._events.set(IncomingHeader.BOT_ERROR,BotErrorEvent),this._events.set(IncomingHeader.PET_LEVEL_NOTIFICATION,PetLevelNotificationEvent),this._events.set(IncomingHeader.NOTIFICATION_SIMPLE_ALERT,SimpleAlertMessageEvent),this._events.set(IncomingHeader.NOTIFICATION_ELEMENT_POINTER,ElementPointerMessageEvent),this._events.set(IncomingHeader.USER_PERKS,PerkAllowancesMessageEvent),this._events.set(IncomingHeader.PET_TRAINING_PANEL,PetTrainingPanelMessageEvent),this._events.set(IncomingHeader.PET_LEVEL_UPDATE,PetLevelUpdateMessageEvent),this._events.set(IncomingHeader.PET_SCRATCH_FAILED,PetScratchFailedMessageEvent),this._events.set(IncomingHeader.PET_OPEN_PACKAGE_REQUESTED,OpenPetPackageRequestedMessageEvent),this._events.set(IncomingHeader.PET_OPEN_PACKAGE_RESULT,OpenPetPackageResultMessageEvent),this._events.set(IncomingHeader.PET_BREEDING_RESULT,PetBreedingResultEvent),this._events.set(IncomingHeader.QUESTION,QuestionEvent),this._events.set(IncomingHeader.POLL_CONTENTS,PollContentsEvent),this._events.set(IncomingHeader.POLL_ERROR,PollErrorEvent),this._events.set(IncomingHeader.POLL_OFFER,PollOfferEvent),this._events.set(IncomingHeader.QUESTION_ANSWERED,QuestionAnsweredEvent),this._events.set(IncomingHeader.QUESTION_FINISHED,QuestionFinishedEvent),this._events.set(IncomingHeader.COMMUNITY_GOAL_EARNED_PRIZES,CommunityGoalEarnedPrizesMessageEvent),this._events.set(IncomingHeader.COMMUNITY_GOAL_PROGRESS,CommunityGoalProgressMessageEvent),this._events.set(IncomingHeader.CONCURRENT_USERS_GOAL_PROGRESS,ConcurrentUsersGoalProgressMessageEvent),this._events.set(IncomingHeader.QUEST_DAILY,QuestDailyMessageEvent),this._events.set(IncomingHeader.QUEST_CANCELLED,QuestCancelledMessageEvent),this._events.set(IncomingHeader.QUEST_COMPLETED,QuestCompletedMessageEvent),this._events.set(IncomingHeader.COMMUNITY_GOAL_HALL_OF_FAME,CommunityGoalHallOfFameMessageEvent),this._events.set(IncomingHeader.EPIC_POPUP,EpicPopupMessageEvent),this._events.set(IncomingHeader.SEASONAL_QUESTS,SeasonalQuestsMessageEvent),this._events.set(IncomingHeader.QUESTS,QuestsMessageEvent),this._events.set(IncomingHeader.QUEST,QuestMessageEvent),this._events.set(IncomingHeader.ROOM_ENTER_ERROR,RoomEnterErrorEvent),this._events.set(IncomingHeader.ROOM_ENTER,RoomEnterEvent),this._events.set(IncomingHeader.ROOM_FORWARD,RoomForwardEvent),this._events.set(IncomingHeader.ROOM_DOORBELL_ACCEPTED,RoomDoorbellAcceptedEvent),this._events.set(IncomingHeader.ROOM_RIGHTS_CLEAR,RoomRightsClearEvent),this._events.set(IncomingHeader.ROOM_RIGHTS_OWNER,RoomRightsOwnerEvent),this._events.set(IncomingHeader.ROOM_RIGHTS,RoomRightsEvent),this._events.set(IncomingHeader.BOT_COMMAND_CONFIGURATION,BotCommandConfigurationEvent),this._events.set(IncomingHeader.BOT_SKILL_LIST_UPDATE,BotSkillListUpdateEvent),this._events.set(IncomingHeader.BOT_FORCE_OPEN_CONTEXT_MENU,BotForceOpenContextMenuEvent),this._events.set(IncomingHeader.ROOM_SETTINGS_CHAT,RoomChatSettingsEvent),this._events.set(IncomingHeader.ROOM_INFO_OWNER,RoomEntryInfoMessageEvent),this._events.set(IncomingHeader.ROOM_SCORE,RoomScoreEvent),this._events.set(IncomingHeader.ROOM_ROLLING,ObjectsRollingEvent),this._events.set(IncomingHeader.FURNITURE_FLOOR_ADD,FurnitureFloorAddEvent),this._events.set(IncomingHeader.FURNITURE_FLOOR,FurnitureFloorEvent),this._events.set(IncomingHeader.FURNITURE_FLOOR_REMOVE,FurnitureFloorRemoveEvent),this._events.set(IncomingHeader.FURNITURE_FLOOR_UPDATE,FurnitureFloorUpdateEvent),this._events.set(IncomingHeader.ITEM_WALL_ADD,FurnitureWallAddEvent),this._events.set(IncomingHeader.ITEM_WALL,FurnitureWallEvent),this._events.set(IncomingHeader.ITEM_WALL_REMOVE,FurnitureWallRemoveEvent),this._events.set(IncomingHeader.ITEM_WALL_UPDATE,FurnitureWallUpdateEvent),this._events.set(IncomingHeader.FURNITURE_ALIASES,FurnitureAliasesEvent),this._events.set(IncomingHeader.FURNITURE_DATA,FurnitureDataEvent),this._events.set(IncomingHeader.FURNITURE_ITEMDATA,ItemDataUpdateMessageEvent),this._events.set(IncomingHeader.ITEM_STACK_HELPER,FurnitureStackHeightEvent),this._events.set(IncomingHeader.FURNITURE_STATE,OneWayDoorStatusMessageEvent),this._events.set(IncomingHeader.ITEM_DIMMER_SETTINGS,RoomDimmerPresetsEvent),this._events.set(IncomingHeader.FURNITURE_STATE_2,DiceValueMessageEvent),this._events.set(IncomingHeader.LOVELOCK_FURNI_FINISHED,LoveLockFurniFinishedEvent),this._events.set(IncomingHeader.LOVELOCK_FURNI_FRIEND_COMFIRMED,LoveLockFurniFriendConfirmedEvent),this._events.set(IncomingHeader.LOVELOCK_FURNI_START,LoveLockFurniStartEvent),this._events.set(IncomingHeader.OBJECTS_DATA_UPDATE,ObjectsDataUpdateEvent),this._events.set(IncomingHeader.FURNITURE_GROUP_CONTEXT_MENU_INFO,GroupFurniContextMenuInfoMessageEvent),this._events.set(IncomingHeader.FURNITURE_POSTIT_STICKY_POLE_OPEN,RequestSpamWallPostItMessageEvent),this._events.set(IncomingHeader.ROOM_SPECTATOR,YouAreSpectatorMessageEvent),this._events.set(IncomingHeader.CUSTOM_USER_NOTIFICATION,CustomUserNotificationMessageEvent),this._events.set(IncomingHeader.ROOM_MESSAGE_NOTIFICATION,RoomMessageNotificationMessageEvent),this._events.set(IncomingHeader.ROOM_POPULAR_TAGS_RESULT,PopularRoomTagsResultEvent),this._events.set(IncomingHeader.ROOM_RIGHTS_LIST,FlatControllersEvent),this._events.set(IncomingHeader.ROOM_RIGHTS_LIST_ADD,FlatControllerAddedEvent),this._events.set(IncomingHeader.ROOM_RIGHTS_LIST_REMOVE,FlatControllerRemovedEvent),this._events.set(IncomingHeader.ROOM_BAN_LIST,BannedUsersFromRoomEvent),this._events.set(IncomingHeader.ROOM_SETTINGS_SAVE_ERROR,RoomSettingsSaveErrorEvent),this._events.set(IncomingHeader.ROOM_SETTINGS,RoomSettingsDataEvent),this._events.set(IncomingHeader.ROOM_SETTINGS_SAVE,RoomSettingsSavedEvent),this._events.set(IncomingHeader.ROOM_SETTINGS_ERROR,RoomSettingsErrorEvent),this._events.set(IncomingHeader.SHOW_ENFORCE_ROOM_CATEGORY,ShowEnforceRoomCategoryDialogEvent),this._events.set(IncomingHeader.ROOM_BAN_REMOVE,UserUnbannedFromRoomEvent),this._events.set(IncomingHeader.ROOM_MUTED,MuteAllInRoomEvent),this._events.set(IncomingHeader.NO_SUCH_FLAT,NoSuchFlatEvent),this._events.set(IncomingHeader.FAVORITE_GROUP_UDPATE,FavoriteMembershipUpdateMessageEvent),this._events.set(IncomingHeader.ROOM_MODEL_DOOR,RoomEntryTileMessageEvent),this._events.set(IncomingHeader.ROOM_HEIGHT_MAP,RoomHeightMapEvent),this._events.set(IncomingHeader.ROOM_HEIGHT_MAP_UPDATE,RoomHeightMapUpdateEvent),this._events.set(IncomingHeader.ROOM_MODEL,FloorHeightMapEvent),this._events.set(IncomingHeader.ROOM_MODEL_NAME,RoomReadyMessageEvent),this._events.set(IncomingHeader.ROOM_PAINT,RoomPaintEvent),this._events.set(IncomingHeader.ROOM_THICKNESS,RoomVisualizationSettingsEvent),this._events.set(IncomingHeader.ROOM_GET_FILTER_WORDS,RoomFilterSettingsMessageEvent),this._events.set(IncomingHeader.ROOM_MODEL_BLOCKED_TILES,RoomOccupiedTilesMessageEvent),this._events.set(IncomingHeader.PET_FIGURE_UPDATE,PetFigureUpdateEvent),this._events.set(IncomingHeader.PET_INFO,PetInfoEvent),this._events.set(IncomingHeader.PET_STATUS,PetStatusUpdateEvent),this._events.set(IncomingHeader.PET_EXPERIENCE,PetExperienceEvent),this._events.set(IncomingHeader.PLAYING_GAME,YouArePlayingGameEvent),this._events.set(IncomingHeader.UNIT_DANCE,RoomUnitDanceEvent),this._events.set(IncomingHeader.UNIT_EFFECT,RoomUnitEffectEvent),this._events.set(IncomingHeader.UNIT,RoomUnitEvent),this._events.set(IncomingHeader.UNIT_EXPRESSION,RoomUnitExpressionEvent),this._events.set(IncomingHeader.UNIT_HAND_ITEM,RoomUnitHandItemEvent),this._events.set(IncomingHeader.UNIT_IDLE,RoomUnitIdleEvent),this._events.set(IncomingHeader.UNIT_INFO,RoomUnitInfoEvent),this._events.set(IncomingHeader.UNIT_NUMBER,RoomUnitNumberEvent),this._events.set(IncomingHeader.UNIT_REMOVE,RoomUnitRemoveEvent),this._events.set(IncomingHeader.UNIT_STATUS,RoomUnitStatusEvent),this._events.set(IncomingHeader.HAND_ITEM_RECEIVED,RoomUnitHandItemReceivedEvent),this._events.set(IncomingHeader.FLOOD_CONTROL,FloodControlEvent),this._events.set(IncomingHeader.REMAINING_MUTE,RemainingMuteEvent),this._events.set(IncomingHeader.UNIT_CHAT,RoomUnitChatEvent),this._events.set(IncomingHeader.UNIT_CHAT_SHOUT,RoomUnitChatShoutEvent),this._events.set(IncomingHeader.UNIT_CHAT_WHISPER,RoomUnitChatWhisperEvent),this._events.set(IncomingHeader.UNIT_TYPING,RoomUnitTypingEvent),this._events.set(IncomingHeader.WIRED_ACTION,WiredFurniActionEvent),this._events.set(IncomingHeader.WIRED_CONDITION,WiredFurniConditionEvent),this._events.set(IncomingHeader.WIRED_TRIGGER,WiredFurniTriggerEvent),this._events.set(IncomingHeader.WIRED_OPEN,WiredOpenEvent),this._events.set(IncomingHeader.WIRED_REWARD,WiredRewardResultMessageEvent),this._events.set(IncomingHeader.WIRED_SAVE,WiredSaveSuccessEvent),this._events.set(IncomingHeader.WIRED_ERROR,WiredValidationErrorEvent),this._events.set(IncomingHeader.AUTHENTICATED,AuthenticatedEvent),this._events.set(IncomingHeader.JUKEBOX_PLAYLIST_FULL,JukeboxPlayListFullMessageEvent),this._events.set(IncomingHeader.JUKEBOX_SONG_DISKS,JukeboxSongDisksMessageEvent),this._events.set(IncomingHeader.NOW_PLAYING,NowPlayingMessageEvent),this._events.set(IncomingHeader.OFFICIAL_SONG_ID,OfficialSongIdMessageEvent),this._events.set(IncomingHeader.PLAYLIST,PlayListMessageEvent),this._events.set(IncomingHeader.PLAYLIST_SONG_ADDED,PlayListSongAddedMessageEvent),this._events.set(IncomingHeader.TRAX_SONG_INFO,TraxSongInfoMessageEvent),this._events.set(IncomingHeader.USER_SONG_DISKS_INVENTORY,UserSongDisksInventoryMessageEvent),this._events.set(IncomingHeader.HELPER_TALENT_TRACK,TalentTrackMessageEvent),this._events.set(IncomingHeader.TALENT_TRACK_LEVEL,TalentTrackLevelMessageEvent),this._events.set(IncomingHeader.TALENT_TRACK_LEVEL_UP,TalentLevelUpEvent),this._events.set(IncomingHeader.IN_CLIENT_LINK,InClientLinkEvent),this._events.set(IncomingHeader.USER_IGNORED,IgnoredUsersEvent),this._events.set(IncomingHeader.USER_IGNORED_RESULT,IgnoreResultEvent),this._events.set(IncomingHeader.USER_RESPECT,RespectReceivedEvent),this._events.set(IncomingHeader.USER_PERMISSIONS,UserPermissionsEvent),this._events.set(IncomingHeader.USER_BADGES_CURRENT,UserCurrentBadgesEvent),this._events.set(IncomingHeader.USER_INFO,UserInfoEvent),this._events.set(IncomingHeader.UNIT_CHANGE_NAME,UserNameChangeMessageEvent),this._events.set(IncomingHeader.USER_SETTINGS,UserSettingsEvent),this._events.set(IncomingHeader.USER_PROFILE,UserProfileEvent),this._events.set(IncomingHeader.MESSENGER_RELATIONSHIPS,RelationshipStatusInfoEvent),this._events.set(IncomingHeader.GIFT_OPENED,PresentOpenedMessageEvent),this._events.set(IncomingHeader.USER_CREDITS,UserCreditsEvent),this._events.set(IncomingHeader.USER_CURRENCY,UserCurrencyEvent),this._events.set(IncomingHeader.USER_SUBSCRIPTION,UserSubscriptionEvent),this._events.set(IncomingHeader.USER_WARDROBE_PAGE,UserWardrobePageEvent),this._events.set(IncomingHeader.USER_CLASSIFICATION,UserClassificationMessageEvent),this._events.set(IncomingHeader.GET_USER_TAGS,UserTagsMessageEvent),this._events.set(IncomingHeader.SCR_SEND_KICKBACK_INFO,ScrSendKickbackInfoMessageEvent),this._events.set(IncomingHeader.PET_RESPECTED,PetRespectNoficationEvent),this._events.set(IncomingHeader.PET_SUPPLEMENT,PetSupplementedNotificationEvent),this._events.set(IncomingHeader.ACCOUNT_SAFETY_LOCK_STATUS_CHANGE,AccountSafetyLockStatusChangeMessageEvent),this._events.set(IncomingHeader.GENERIC_ERROR,GenericErrorEvent),this._events.set(IncomingHeader.GROUP_LIST,GuildMembershipsMessageEvent),this._events.set(IncomingHeader.CATALOG_APPROVE_NAME_RESULT,ApproveNameMessageEvent),this._events.set(IncomingHeader.CONNECTION_ERROR,ConnectionErrorEvent),this._events.set(IncomingHeader.GUILD_EDIT_FAILED,GuildEditFailedMessageEvent),this._events.set(IncomingHeader.GUILD_MEMBER_MGMT_FAILED,GuildMemberMgmtFailedMessageEvent),this._events.set(IncomingHeader.EXTENDED_PROFILE_CHANGED,ExtendedProfileChangedMessageEvent),this._events.set(IncomingHeader.NOOBNESS_LEVEL,NoobnessLevelMessageEvent),this._events.set(IncomingHeader.DISCONNECT_REASON,DisconnectReasonEvent),this._events.set(IncomingHeader.HANDSHAKE_INIT_DIFFIE,InitDiffieHandshakeEvent),this._events.set(IncomingHeader.HANDSHAKE_COMPLETE_DIFFIE,CompleteDiffieHandshakeEvent),this._events.set(IncomingHeader.HANDSHAKE_IDENTITY_ACCOUNT,IdentityAccountsEvent),this._events.set(IncomingHeader.NEW_USER_EXPERIENCE_GIFT_OFFER,NewUserExperienceGiftOfferMessageEvent),this._events.set(IncomingHeader.NEW_USER_EXPERIENCE_NOT_COMPLETE,NewUserExperienceNotCompleteEvent),this._events.set(IncomingHeader.PHONE_COLLECTION_STATE,PhoneCollectionStateMessageEvent),this._events.set(IncomingHeader.PHONE_TRY_NUMBER_RESULT,TryPhoneNumberResultMessageEvent),this._events.set(IncomingHeader.PHONE_TRY_VERIFICATION_CODE_RESULT,TryVerificationCodeResultMessageEvent),this._events.set(IncomingHeader.WELCOME_GIFT_CHANGE_EMAIL_RESULT,WelcomeGiftChangeEmailResultEvent),this._events.set(IncomingHeader.WELCOME_GIFT_STATUS,WelcomeGiftStatusEvent),this._events.set(IncomingHeader.RENTABLE_SPACE_RENT_OK,RentableSpaceRentOkMessageEvent),this._events.set(IncomingHeader.RENTABLE_SPACE_STATUS,RentableSpaceStatusMessageEvent),this._events.set(IncomingHeader.RENTABLE_SPACE_RENT_FAILED,RentableSpaceRentFailedMessageEvent),this._events.set(IncomingHeader.RECYCLER_STATUS,RecyclerStatusMessageEvent),this._events.set(IncomingHeader.RECYCLER_FINISHED,RecyclerFinishedMessageEvent),this._events.set(IncomingHeader.EMAIL_STATUS,EmailStatusResultEvent),this._events.set(IncomingHeader.CHANGE_EMAIL_RESULT,ChangeEmailResultEvent),this._events.set(IncomingHeader.RENTABLE_FURNI_RENT_OR_BUYOUT_OFFER,FurniRentOrBuyoutOfferMessageEvent)}registerComposers(){this._composers.set(OutgoingHeader.AUTHENTICATION,AuthenticationMessageComposer),this._composers.set(OutgoingHeader.INTERSTITIAL_SHOWN,InterstitialShownMessageComposer),this._composers.set(OutgoingHeader.GET_INTERSTITIAL,GetInterstitialMessageComposer),this._composers.set(OutgoingHeader.GET_WARDROBE,GetWardrobeMessageComposer),this._composers.set(OutgoingHeader.SAVE_WARDROBE_OUTFIT,SaveWardrobeOutfitMessageComposer),this._composers.set(OutgoingHeader.CHANGE_USERNAME,ChangeUserNameMessageComposer),this._composers.set(OutgoingHeader.CHECK_USERNAME,CheckUserNameMessageComposer),this._composers.set(OutgoingHeader.REQUEST_CAMERA_CONFIGURATION,RequestCameraConfigurationComposer),this._composers.set(OutgoingHeader.RENDER_ROOM,RenderRoomMessageComposer),this._composers.set(OutgoingHeader.RENDER_ROOM_THUMBNAIL,RenderRoomThumbnailMessageComposer),this._composers.set(OutgoingHeader.PURCHASE_PHOTO,PurchasePhotoMessageComposer),this._composers.set(OutgoingHeader.PUBLISH_PHOTO,PublishPhotoMessageComposer),this._composers.set(OutgoingHeader.PHOTO_COMPETITION,PhotoCompetitionMessageComposer),this._composers.set(OutgoingHeader.OPEN_CAMPAIGN_CALENDAR_DOOR,OpenCampaignCalendarDoorComposer),this._composers.set(OutgoingHeader.OPEN_CAMPAIGN_CALENDAR_DOOR_STAFF,OpenCampaignCalendarDoorAsStaffComposer),this._composers.set(OutgoingHeader.BUILDERS_CLUB_PLACE_ROOM_ITEM,BuildersClubPlaceRoomItemMessageComposer),this._composers.set(OutgoingHeader.BUILDERS_CLUB_PLACE_WALL_ITEM,BuildersClubPlaceWallItemMessageComposer),this._composers.set(OutgoingHeader.BUILDERS_CLUB_QUERY_FURNI_COUNT,BuildersClubQueryFurniCountMessageComposer),this._composers.set(OutgoingHeader.GET_CATALOG_INDEX,GetCatalogIndexComposer),this._composers.set(OutgoingHeader.GET_CATALOG_PAGE,GetCatalogPageComposer),this._composers.set(OutgoingHeader.CATALOG_PURCHASE,PurchaseFromCatalogComposer),this._composers.set(OutgoingHeader.CATALOG_PURCHASE_GIFT,PurchaseFromCatalogAsGiftComposer),this._composers.set(OutgoingHeader.GET_PRODUCT_OFFER,GetProductOfferComposer$1),this._composers.set(OutgoingHeader.GET_CLUB_OFFERS,GetClubOffersMessageComposer),this._composers.set(OutgoingHeader.GET_CLUB_GIFT_INFO,GetClubGiftInfo),this._composers.set(OutgoingHeader.CATALOG_REDEEM_VOUCHER,RedeemVoucherMessageComposer),this._composers.set(OutgoingHeader.GROUP_MEMBERSHIPS,CatalogGroupsComposer),this._composers.set(OutgoingHeader.GET_GIFT_WRAPPING_CONFIG,GetGiftWrappingConfigurationComposer),this._composers.set(OutgoingHeader.CATALOG_SELECT_VIP_GIFT,SelectClubGiftComposer),this._composers.set(OutgoingHeader.CATALOG_REQUESET_PET_BREEDS,GetSellablePetPalettesComposer),this._composers.set(OutgoingHeader.GET_BONUS_RARE_INFO,GetBonusRareInfoMessageComposer),this._composers.set(OutgoingHeader.GET_BUNDLE_DISCOUNT_RULESET,GetBundleDiscountRulesetComposer),this._composers.set(OutgoingHeader.GET_CATALOG_PAGE_EXPIRATION,GetCatalogPageExpirationComposer),this._composers.set(OutgoingHeader.GET_CATALOG_PAGE_WITH_EARLIEST_EXP,GetCatalogPageWithEarliestExpiryComposer),this._composers.set(OutgoingHeader.GET_DIRECT_CLUB_BUY_AVAILABLE,GetDirectClubBuyAvailableComposer),this._composers.set(OutgoingHeader.GET_HABBO_BASIC_MEMBERSHIP_EXTEND_OFFER,GetHabboBasicMembershipExtendOfferComposer),this._composers.set(OutgoingHeader.GET_HABBO_CLUB_EXTEND_OFFER,GetHabboClubExtendOfferMessageComposer),this._composers.set(OutgoingHeader.GET_IS_OFFER_GIFTABLE,GetIsOfferGiftableComposer),this._composers.set(OutgoingHeader.GET_LIMITED_OFFER_APPEARING_NEXT,GetLimitedOfferAppearingNextComposer),this._composers.set(OutgoingHeader.GET_NEXT_TARGETED_OFFER,GetNextTargetedOfferComposer),this._composers.set(OutgoingHeader.GET_ROOM_AD_PURCHASE_INFO,GetRoomAdPurchaseInfoComposer),this._composers.set(OutgoingHeader.GET_SEASONAL_CALENDAR_DAILY_OFFER,GetSeasonalCalendarDailyOfferComposer),this._composers.set(OutgoingHeader.GET_TARGETED_OFFER,GetTargetedOfferComposer),this._composers.set(OutgoingHeader.MARK_CATALOG_NEW_ADDITIONS_PAGE_OPENED,MarkCatalogNewAdditionsPageOpenedComposer),this._composers.set(OutgoingHeader.PURCHASE_BASIC_MEMBERSHIP_EXTENSION,PurchaseBasicMembershipExtensionComposer),this._composers.set(OutgoingHeader.PURCHASE_ROOM_AD,PurchaseRoomAdMessageComposer),this._composers.set(OutgoingHeader.PURCHASE_TARGETED_OFFER,PurchaseTargetedOfferComposer),this._composers.set(OutgoingHeader.PURCHASE_VIP_MEMBERSHIP_EXTENSION,PurchaseVipMembershipExtensionComposer),this._composers.set(OutgoingHeader.ROOM_AD_PURCHASE_INITIATED,RoomAdPurchaseInitiatedComposer),this._composers.set(OutgoingHeader.SET_TARGETTED_OFFER_STATE,SetTargetedOfferStateComposer),this._composers.set(OutgoingHeader.SHOP_TARGETED_OFFER_VIEWED,ShopTargetedOfferViewedComposer),this._composers.set(OutgoingHeader.FORWARD_TO_A_COMPETITION_ROOM,ForwardToACompetitionRoomMessageComposer),this._composers.set(OutgoingHeader.FORWARD_TO_A_SUBMITTABLE_ROOM,ForwardToASubmittableRoomMessageComposer),this._composers.set(OutgoingHeader.FORWARD_TO_RANDOM_COMPETITION_ROOM,ForwardToRandomCompetitionRoomMessageComposer),this._composers.set(OutgoingHeader.GET_CURRENT_TIMING_CODE,GetCurrentTimingCodeMessageComposer),this._composers.set(OutgoingHeader.GET_IS_USER_PART_OF_COMPETITION,GetIsUserPartOfCompetitionMessageComposer),this._composers.set(OutgoingHeader.GET_SECONDS_UNTIL,GetSecondsUntilMessageComposer),this._composers.set(OutgoingHeader.ROOM_COMPETITION_INIT,RoomCompetitionInitMessageComposer),this._composers.set(OutgoingHeader.SUBMIT_ROOM_TO_COMPETITION,SubmitRoomToCompetitionMessageComposer),this._composers.set(OutgoingHeader.VOTE_FOR_ROOM,VoteForRoomMessageComposer),this._composers.set(OutgoingHeader.CRAFT,CraftComposer),this._composers.set(OutgoingHeader.CRAFT_SECRET,CraftSecretComposer),this._composers.set(OutgoingHeader.GET_CRAFTABLE_PRODUCTS,GetCraftingRecipeComposer),this._composers.set(OutgoingHeader.GET_CRAFTING_RECIPE,GetCraftableProductsComposer),this._composers.set(OutgoingHeader.GET_CRAFTING_RECIPES_AVAILABLE,GetCraftingRecipesAvailableComposer),this._composers.set(OutgoingHeader.FRIEND_FURNI_CONFIRM_LOCK,FriendFurniConfirmLockMessageComposer),this._composers.set(OutgoingHeader.ACCEPT_FRIEND,AcceptFriendMessageComposer),this._composers.set(OutgoingHeader.DECLINE_FRIEND,DeclineFriendMessageComposer),this._composers.set(OutgoingHeader.FIND_NEW_FRIENDS,FindNewFriendsMessageComposer),this._composers.set(OutgoingHeader.FOLLOW_FRIEND,FollowFriendMessageComposer),this._composers.set(OutgoingHeader.FRIEND_LIST_UPDATE,FriendListUpdateComposer),this._composers.set(OutgoingHeader.GET_FRIEND_REQUESTS,GetFriendRequestsComposer),this._composers.set(OutgoingHeader.HABBO_SEARCH,HabboSearchComposer),this._composers.set(OutgoingHeader.MESSENGER_INIT,MessengerInitComposer),this._composers.set(OutgoingHeader.REMOVE_FRIEND,RemoveFriendComposer),this._composers.set(OutgoingHeader.REQUEST_FRIEND,RequestFriendComposer),this._composers.set(OutgoingHeader.MESSENGER_CHAT,SendMessageComposer),this._composers.set(OutgoingHeader.SEND_ROOM_INVITE,SendRoomInviteComposer),this._composers.set(OutgoingHeader.SET_RELATIONSHIP_STATUS,SetRelationshipStatusComposer),this._composers.set(OutgoingHeader.VISIT_USER,VisitUserComposer),this._composers.set(OutgoingHeader.ACHIEVEMENT_RESOLUTION_OPEN,GetResolutionAchievementsMessageComposer),this._composers.set(OutgoingHeader.ACCEPTGAMEINVITE,AcceptGameInviteMessageComposer),this._composers.set(OutgoingHeader.GAMEUNLOADEDMESSAGE,GameUnloadedMessageComposer),this._composers.set(OutgoingHeader.GETGAMEACHIEVEMENTSMESSAGE,GetGameAchievementsMessageComposer),this._composers.set(OutgoingHeader.GAMES_LIST,GetGameListMessageComposer),this._composers.set(OutgoingHeader.GETGAMESTATUSMESSAGE,GetGameStatusMessageComposer),this._composers.set(OutgoingHeader.GETUSERGAMEACHIEVEMENTSMESSAGE,GetUserGameAchievementsMessageComposer),this._composers.set(OutgoingHeader.JOINQUEUEMESSAGE,JoinQueueMessageComposer),this._composers.set(OutgoingHeader.LEAVEQUEUEMESSAGE,LeaveQueueMessageComposer),this._composers.set(OutgoingHeader.RESETRESOLUTIONACHIEVEMENTMESSAGE,ResetResolutionAchievementMessageComposer),this._composers.set(OutgoingHeader.GAMES_INIT,GetWeeklyGameRewardComposer),this._composers.set(OutgoingHeader.GETWEEKLYGAMEREWARDWINNERS,GetWeeklyGameRewardWinnersComposer),this._composers.set(OutgoingHeader.GAME2GETACCOUNTGAMESTATUSMESSAGE,Game2GetAccountGameStatusMessageComposer),this._composers.set(OutgoingHeader.GAME2CHECKGAMEDIRECTORYSTATUSMESSAGE,Game2CheckGameDirectoryStatusMessageComposer),this._composers.set(OutgoingHeader.GAME2EXITGAMEMESSAGE,Game2ExitGameMessageComposer),this._composers.set(OutgoingHeader.GAME2GAMECHATMESSAGE,Game2GameChatMessageComposer),this._composers.set(OutgoingHeader.GAME2LOADSTAGEREADYMESSAGE,Game2LoadStageReadyMessageComposer),this._composers.set(OutgoingHeader.GAME2PLAYAGAINMESSAGE,Game2PlayAgainMessageComposer),this._composers.set(OutgoingHeader.GAME2REQUESTFULLSTATUSUPDATEMESSAGE,Game2RequestFullStatusUpdateMessageComposer),this._composers.set(OutgoingHeader.GAME2GETWEEKLYFRIENDSLEADERBOARD,Game2GetWeeklyFriendsLeaderboardComposer),this._composers.set(OutgoingHeader.GAME2GETWEEKLYLEADERBOARD,Game2GetWeeklyLeaderboardComposer),this._composers.set(OutgoingHeader.GET_GIFT,GetGiftMessageComposer),this._composers.set(OutgoingHeader.RESET_PHONE_NUMBER_STATE,ResetPhoneNumberStateMessageComposer),this._composers.set(OutgoingHeader.SET_PHONE_NUMBER_VERIFICATION_STATUS,SetPhoneNumberVerificationStatusMessageComposer),this._composers.set(OutgoingHeader.TRY_PHONE_NUMBER,TryPhoneNumberMessageComposer),this._composers.set(OutgoingHeader.VERIFY_CODE,VerifyCodeMessageComposer),this._composers.set(OutgoingHeader.GET_FORUM_STATS,GetForumStatsMessageComposer),this._composers.set(OutgoingHeader.GET_FORUMS_LIST,GetForumsListMessageComposer),this._composers.set(OutgoingHeader.GET_FORUM_MESSAGES,GetMessagesMessageComposer),this._composers.set(OutgoingHeader.GET_FORUM_THREAD,GetThreadMessageComposer),this._composers.set(OutgoingHeader.GET_FORUM_THREADS,GetThreadsMessageComposer),this._composers.set(OutgoingHeader.GET_UNREAD_FORUMS_COUNT,GetUnreadForumsCountMessageComposer),this._composers.set(OutgoingHeader.FORUM_MODERATE_MESSAGE,ModerateMessageMessageComposer),this._composers.set(OutgoingHeader.FORUM_MODERATE_THREAD,ModerateThreadMessageComposer),this._composers.set(OutgoingHeader.FORUM_POST_MESSAGE,PostMessageMessageComposer),this._composers.set(OutgoingHeader.UPDATE_FORUM_READ_MARKER,UpdateForumReadMarkerMessageComposer),this._composers.set(OutgoingHeader.UPDATE_FORUM_SETTINGS,UpdateForumSettingsMessageComposer),this._composers.set(OutgoingHeader.FORUM_UPDATE_THREAD,UpdateThreadMessageComposer),this._composers.set(OutgoingHeader.CLIENT_PONG,PongMessageComposer),this._composers.set(OutgoingHeader.RELEASE_VERSION,ClientHelloMessageComposer),this._composers.set(OutgoingHeader.SECURITY_TICKET,SSOTicketMessageComposer),this._composers.set(OutgoingHeader.USER_INFO,InfoRetrieveMessageComposer),this._composers.set(OutgoingHeader.DISCONNECT,DisconnectMessageComposer),this._composers.set(OutgoingHeader.SECURITY_MACHINE,UniqueIDMessageComposer),this._composers.set(OutgoingHeader.CLIENT_VARIABLES,VersionCheckMessageComposer),this._composers.set(OutgoingHeader.HANDSHAKE_INIT_DIFFIE,InitDiffieHandshakeMessageComposer),this._composers.set(OutgoingHeader.HANDSHAKE_COMPLETE_DIFFIE,CompleteDiffieHandshakeMessageComposer),this._composers.set(OutgoingHeader.CALL_FOR_HELP_FROM_FORUM_MESSAGE,CallForHelpFromForumMessageMessageComposer),this._composers.set(OutgoingHeader.CALL_FOR_HELP_FROM_FORUM_THREAD,CallForHelpFromForumThreadMessageComposer),this._composers.set(OutgoingHeader.CALL_FOR_HELP_FROM_IM,CallForHelpFromIMMessageComposer),this._composers.set(OutgoingHeader.CALL_FOR_HELP_FROM_PHOTO,CallForHelpFromPhotoMessageComposer),this._composers.set(OutgoingHeader.CALL_FOR_HELP_FROM_SELFIE,CallForHelpFromSelfieMessageComposer),this._composers.set(OutgoingHeader.CALL_FOR_HELP,CallForHelpMessageComposer),this._composers.set(OutgoingHeader.CHAT_REVIEW_GUIDE_DECIDES,ChatReviewGuideDecidesOnOfferMessageComposer),this._composers.set(OutgoingHeader.CHAT_REVIEW_GUIDE_DETACHED,ChatReviewGuideDetachedMessageComposer),this._composers.set(OutgoingHeader.CHAT_REVIEW_GUIDE_VOTE,ChatReviewGuideVoteMessageComposer),this._composers.set(OutgoingHeader.CHAT_REVIEW_SESSION_CREATE,ChatReviewSessionCreateMessageComposer),this._composers.set(OutgoingHeader.DELETE_PENDING_CALLS_FOR_HELP,DeletePendingCallsForHelpMessageComposer),this._composers.set(OutgoingHeader.GET_CFH_STATUS,GetCfhStatusMessageComposer),this._composers.set(OutgoingHeader.GET_FAQ_CATEGORY,GetFaqCategoryMessageComposer),this._composers.set(OutgoingHeader.GET_FAQ_TEXT,GetFaqTextMessageComposer),this._composers.set(OutgoingHeader.GET_GUIDE_REPORTING_STATUS,GetGuideReportingStatusMessageComposer),this._composers.set(OutgoingHeader.GET_PENDING_CALLS_FOR_HELP,GetPendingCallsForHelpMessageComposer),this._composers.set(OutgoingHeader.GET_QUIZ_QUESTIONS,GetQuizQuestionsComposer),this._composers.set(OutgoingHeader.GUIDE_SESSION_CREATE,GuideSessionCreateMessageComposer),this._composers.set(OutgoingHeader.GUIDE_SESSION_FEEDBACK,GuideSessionFeedbackMessageComposer),this._composers.set(OutgoingHeader.GUIDE_SESSION_GET_REQUESTER_ROOM,GuideSessionGetRequesterRoomMessageComposer),this._composers.set(OutgoingHeader.GUIDE_SESSION_GUIDE_DECIDES,GuideSessionGuideDecidesMessageComposer),this._composers.set(OutgoingHeader.GUIDE_SESSION_INVITE_REQUESTER,GuideSessionInviteRequesterMessageComposer),this._composers.set(OutgoingHeader.GUIDE_SESSION_IS_TYPING,GuideSessionIsTypingMessageComposer),this._composers.set(OutgoingHeader.GUIDE_SESSION_MESSAGE,GuideSessionMessageMessageComposer),this._composers.set(OutgoingHeader.GUIDE_SESSION_ON_DUTY_UPDATE,GuideSessionOnDutyUpdateMessageComposer),this._composers.set(OutgoingHeader.GUIDE_SESSION_REPORT,GuideSessionReportMessageComposer),this._composers.set(OutgoingHeader.GUIDE_SESSION_REQUESTER_CANCELS,GuideSessionRequesterCancelsMessageComposer),this._composers.set(OutgoingHeader.GUIDE_SESSION_RESOLVED,GuideSessionResolvedMessageComposer),this._composers.set(OutgoingHeader.POST_QUIZ_ANSWERS,PostQuizAnswersComposer),this._composers.set(OutgoingHeader.SEARCH_FAQS,SearchFaqsMessageComposer),this._composers.set(OutgoingHeader.DESKTOP_VIEW,DesktopViewComposer),this._composers.set(OutgoingHeader.GROUP_INFO,GroupInformationComposer),this._composers.set(OutgoingHeader.GROUP_REQUEST,GroupJoinComposer),this._composers.set(OutgoingHeader.GROUP_MEMBER_REMOVE_CONFIRM,GroupConfirmRemoveMemberComposer),this._composers.set(OutgoingHeader.GROUP_MEMBER_REMOVE,GroupRemoveMemberComposer),this._composers.set(OutgoingHeader.GROUP_MEMBERS,GroupMembersComposer),this._composers.set(OutgoingHeader.GROUP_ADMIN_ADD,GroupAdminGiveComposer),this._composers.set(OutgoingHeader.GROUP_ADMIN_REMOVE,GroupAdminTakeComposer),this._composers.set(OutgoingHeader.GROUP_REQUEST_ACCEPT,GroupMembershipAcceptComposer),this._composers.set(OutgoingHeader.GROUP_REQUEST_DECLINE,GroupMembershipDeclineComposer),this._composers.set(OutgoingHeader.GROUP_DELETE,GroupDeleteComposer),this._composers.set(OutgoingHeader.GROUP_CREATE_OPTIONS,GroupBuyDataComposer),this._composers.set(OutgoingHeader.GROUP_PARTS,GroupBadgePartsComposer),this._composers.set(OutgoingHeader.GROUP_BUY,GroupBuyComposer),this._composers.set(OutgoingHeader.GROUP_SETTINGS,GroupSettingsComposer),this._composers.set(OutgoingHeader.GROUP_SAVE_BADGE,GroupSaveBadgeComposer),this._composers.set(OutgoingHeader.GROUP_SAVE_COLORS,GroupSaveColorsComposer),this._composers.set(OutgoingHeader.GROUP_SAVE_INFORMATION,GroupSaveInformationComposer),this._composers.set(OutgoingHeader.GROUP_SAVE_PREFERENCES,GroupSavePreferencesComposer),this._composers.set(OutgoingHeader.GROUP_FAVORITE,GroupFavoriteComposer),this._composers.set(OutgoingHeader.GROUP_UNFAVORITE,GroupUnfavoriteComposer),this._composers.set(OutgoingHeader.GROUP_BADGES,GetHabboGroupBadgesMessageComposer),this._composers.set(OutgoingHeader.APPROVE_ALL_MEMBERSHIP_REQUESTS,ApproveAllMembershipRequestsMessageComposer),this._composers.set(OutgoingHeader.GROUP_UNBLOCK_MEMBER,UnblockGroupMemberMessageComposer),this._composers.set(OutgoingHeader.ROOM_FAVORITE,AddFavouriteRoomMessageComposer),this._composers.set(OutgoingHeader.CAN_CREATE_ROOM,CanCreateRoomMessageComposer),this._composers.set(OutgoingHeader.CANCEL_ROOM_EVENT,CancelEventMessageComposer),this._composers.set(OutgoingHeader.CONVERT_GLOBAL_ROOM_ID,ConvertGlobalRoomIdMessageComposer),this._composers.set(OutgoingHeader.COMPETITION_ROOM_SEARCH,CompetitionRoomsSearchMessageComposer),this._composers.set(OutgoingHeader.ROOM_CREATE,CreateFlatMessageComposer),this._composers.set(OutgoingHeader.GET_USER_FLAT_CATS,GetUserFlatCatsMessageComposer),this._composers.set(OutgoingHeader.GET_USER_EVENT_CATS,GetUserEventCatsMessageComposer),this._composers.set(OutgoingHeader.ROOM_FAVORITE_REMOVE,DeleteFavouriteRoomMessageComposer),this._composers.set(OutgoingHeader.EDIT_ROOM_EVENT,EditEventMessageComposer),this._composers.set(OutgoingHeader.FORWARD_TO_RANDOM_PROMOTED_ROOM,ForwardToARandomPromotedRoomMessageComposer),this._composers.set(OutgoingHeader.FORWARD_TO_SOME_ROOM,ForwardToSomeRoomMessageComposer),this._composers.set(OutgoingHeader.GET_CATEGORIES_WITH_USER_COUNT,GetCategoriesWithUserCountMessageComposer),this._composers.set(OutgoingHeader.GET_GUEST_ROOM,GetGuestRoomMessageComposer),this._composers.set(OutgoingHeader.GET_OFFICIAL_ROOMS,GetOfficialRoomsMessageComposer),this._composers.set(OutgoingHeader.GET_POPULAR_ROOM_TAGS,GetPopularRoomTagsMessageComposer),this._composers.set(OutgoingHeader.GUILD_BASE_SEARCH,GuildBaseSearchMessageComposer),this._composers.set(OutgoingHeader.MY_FAVOURITE_ROOMS_SEARCH,MyFavouriteRoomsSearchMessageComposer),this._composers.set(OutgoingHeader.MY_FREQUENT_ROOM_HISTORY_SEARCH,MyFrequentRoomHistorySearchMessageComposer),this._composers.set(OutgoingHeader.MY_FRIENDS_ROOM_SEARCH,MyFriendsRoomsSearchMessageComposer),this._composers.set(OutgoingHeader.MY_GUILD_BASES_SEARCH,MyGuildBasesSearchMessageComposer),this._composers.set(OutgoingHeader.MY_RECOMMENDED_ROOMS,MyRecommendedRoomsMessageComposer),this._composers.set(OutgoingHeader.MY_ROOM_HISTORY_SEARCH,MyRoomHistorySearchMessageComposer),this._composers.set(OutgoingHeader.MY_ROOM_RIGHTS_SEARCH,MyRoomRightsSearchMessageComposer),this._composers.set(OutgoingHeader.MY_ROOMS_SEARCH,MyRoomsSearchMessageComposer),this._composers.set(OutgoingHeader.POPULAR_ROOMS_SEARCH,PopularRoomsSearchMessageComposer),this._composers.set(OutgoingHeader.ROOM_LIKE,RateFlatMessageComposer),this._composers.set(OutgoingHeader.ROOM_RIGHTS_REMOVE_OWN,RemoveOwnRoomRightsRoomMessageComposer),this._composers.set(OutgoingHeader.ROOM_AD_EVENT_TAB_CLICKED,RoomAdEventTabAdClickedComposer),this._composers.set(OutgoingHeader.ROOM_AD_EVENT_TAB_VIEWED,RoomAdEventTabViewedComposer),this._composers.set(OutgoingHeader.ROOM_AD_SEARCH,RoomAdSearchMessageComposer),this._composers.set(OutgoingHeader.ROOM_TEXT_SEARCH,RoomTextSearchMessageComposer),this._composers.set(OutgoingHeader.ROOMS_WHERE_MY_FRIENDS_ARE,RoomsWhereMyFriendsAreSearchMessageComposer),this._composers.set(OutgoingHeader.ROOMS_WITH_HIGHEST_SCORE_SEARCH,RoomsWithHighestScoreSearchMessageComposer),this._composers.set(OutgoingHeader.SET_ROOM_SESSION_TAGS,SetRoomSessionTagsMessageComposer),this._composers.set(OutgoingHeader.ROOM_STAFF_PICK,ToggleStaffPickMessageComposer),this._composers.set(OutgoingHeader.ROOM_FILTER_WORDS,GetCustomRoomFilterMessageComposer),this._composers.set(OutgoingHeader.ROOM_FILTER_WORDS_MODIFY,UpdateRoomFilterMessageComposer),this._composers.set(OutgoingHeader.USER_HOME_ROOM,UpdateHomeRoomMessageComposer),this._composers.set(OutgoingHeader.UPDATE_ROOM_THUMBNAIL,UpdateRoomThumbnailMessageComposer),this._composers.set(OutgoingHeader.NAVIGATOR_INIT,NavigatorInitComposer),this._composers.set(OutgoingHeader.NAVIGATOR_SEARCH_CLOSE,NavigatorSearchCloseComposer),this._composers.set(OutgoingHeader.NAVIGATOR_SEARCH,NavigatorSearchComposer),this._composers.set(OutgoingHeader.NAVIGATOR_SEARCH_OPEN,NavigatorSearchOpenComposer),this._composers.set(OutgoingHeader.NAVIGATOR_SEARCH_SAVE,NavigatorSearchSaveComposer),this._composers.set(OutgoingHeader.NAVIGATOR_SETTINGS_SAVE,NavigatorSettingsSaveComposer),this._composers.set(OutgoingHeader.NAVIGATOR_CATEGORY_LIST_MODE,NavigatorCategoryListModeComposer),this._composers.set(OutgoingHeader.NAVIGATOR_DELETE_SAVED_SEARCH,NavigatorDeleteSavedSearchComposer),this._composers.set(OutgoingHeader.POLL_ANSWER,PollAnswerComposer),this._composers.set(OutgoingHeader.POLL_REJECT,PollRejectComposer),this._composers.set(OutgoingHeader.POLL_START,PollStartComposer),this._composers.set(OutgoingHeader.USER_EFFECT_ACTIVATE,AvatarEffectActivatedComposer),this._composers.set(OutgoingHeader.USER_EFFECT_ENABLE,AvatarEffectSelectedComposer),this._composers.set(OutgoingHeader.USER_BADGES,RequestBadgesComposer),this._composers.set(OutgoingHeader.USER_BADGES_CURRENT_UPDATE,SetActivatedBadgesComposer),this._composers.set(OutgoingHeader.GET_BADGE_POINTS_LIMITS,GetBadgePointLimitsComposer),this._composers.set(OutgoingHeader.REQUESTABADGE,RequestABadgeComposer),this._composers.set(OutgoingHeader.GETISBADGEREQUESTFULFILLED,GetIsBadgeRequestFulfilledComposer),this._composers.set(OutgoingHeader.USER_BOTS,GetBotInventoryComposer),this._composers.set(OutgoingHeader.USER_FURNITURE,FurnitureListComposer),this._composers.set(OutgoingHeader.REQUESTFURNIINVENTORYWHENNOTINROOM,RequestFurniInventoryWhenNotInRoomComposer),this._composers.set(OutgoingHeader.USER_PETS,RequestPetsComposer),this._composers.set(OutgoingHeader.TRADE_ACCEPT,TradingAcceptComposer),this._composers.set(OutgoingHeader.TRADE_CANCEL,TradingCancelComposer),this._composers.set(OutgoingHeader.TRADE_CLOSE,TradingCloseComposer),this._composers.set(OutgoingHeader.TRADE_CONFIRM,TradingConfirmationComposer),this._composers.set(OutgoingHeader.TRADE_ITEM,TradingListAddItemComposer),this._composers.set(OutgoingHeader.TRADE_ITEMS,TradingListAddItemsComposer),this._composers.set(OutgoingHeader.TRADE_ITEM_REMOVE,TradingListItemRemoveComposer),this._composers.set(OutgoingHeader.TRADE,TradingOpenComposer),this._composers.set(OutgoingHeader.TRADE_UNACCEPT,TradingUnacceptComposer),this._composers.set(OutgoingHeader.UNSEEN_RESET_CATEGORY,UnseenResetCategoryComposer),this._composers.set(OutgoingHeader.UNSEEN_RESET_ITEMS,UnseenResetItemsComposer),this._composers.set(OutgoingHeader.ACHIEVEMENT_LIST,RequestAchievementsMessageComposer),this._composers.set(OutgoingHeader.PET_MOUNT,PetMountComposer),this._composers.set(OutgoingHeader.PET_RESPECT,PetRespectComposer),this._composers.set(OutgoingHeader.PET_SUPPLEMENT,PetSupplementComposer),this._composers.set(OutgoingHeader.REMOVE_PET_SADDLE,RemovePetSaddleComposer),this._composers.set(OutgoingHeader.PET_INFO,RequestPetInfoComposer),this._composers.set(OutgoingHeader.TOGGLE_PET_BREEDING,TogglePetBreedingComposer),this._composers.set(OutgoingHeader.TOGGLE_PET_RIDING,TogglePetRidingComposer),this._composers.set(OutgoingHeader.USE_PET_PRODUCT,UsePetProductComposer),this._composers.set(OutgoingHeader.GET_PET_TRAINING_PANEL,GetPetCommandsComposer),this._composers.set(OutgoingHeader.PET_OPEN_PACKAGE,OpenPetPackageMessageComposer),this._composers.set(OutgoingHeader.PET_SELECTED,PetSelectedMessageComposer),this._composers.set(OutgoingHeader.PETS_BREED,BreedPetsMessageComposer),this._composers.set(OutgoingHeader.PET_CANCEL_BREEDING,CancelPetBreedingComposer),this._composers.set(OutgoingHeader.PET_CONFIRM_BREEDING,ConfirmPetBreedingComposer),this._composers.set(OutgoingHeader.ROOM_ENTER,RoomEnterComposer),this._composers.set(OutgoingHeader.ROOM_DOORBELL,RoomDoorbellAccessComposer),this._composers.set(OutgoingHeader.GO_TO_FLAT,GoToFlatMessageComposer),this._composers.set(OutgoingHeader.CHANGE_QUEUE,ChangeQueueMessageComposer),this._composers.set(OutgoingHeader.ROOM_AMBASSADOR_ALERT,RoomAmbassadorAlertComposer),this._composers.set(OutgoingHeader.ROOM_BAN_GIVE,RoomBanUserComposer),this._composers.set(OutgoingHeader.ROOM_BAN_REMOVE,RoomUnbanUserComposer),this._composers.set(OutgoingHeader.ROOM_RIGHTS_GIVE,RoomGiveRightsComposer),this._composers.set(OutgoingHeader.ROOM_KICK,RoomKickUserComposer),this._composers.set(OutgoingHeader.ROOM_MUTE_USER,RoomMuteUserComposer),this._composers.set(OutgoingHeader.ROOM_RIGHTS_REMOVE,RoomTakeRightsComposer),this._composers.set(OutgoingHeader.ROOM_RIGHTS_REMOVE_ALL,RemoveAllRightsMessageComposer),this._composers.set(OutgoingHeader.ROOM_DELETE,RoomDeleteComposer),this._composers.set(OutgoingHeader.ROOM_SETTINGS,RoomSettingsComposer),this._composers.set(OutgoingHeader.ROOM_SETTINGS_SAVE,SaveRoomSettingsComposer),this._composers.set(OutgoingHeader.ROOM_RIGHTS_LIST,RoomUsersWithRightsComposer),this._composers.set(OutgoingHeader.ROOM_BAN_LIST,RoomBannedUsersComposer),this._composers.set(OutgoingHeader.ROOM_SETTINGS_UPDATE_ROOM_CATEGORY_AND_TRADE,UpdateRoomCategoryAndTradeSettingsComposer),this._composers.set(OutgoingHeader.BOT_CONFIGURATION,RequestBotCommandConfigurationComposer),this._composers.set(OutgoingHeader.GET_ITEM_DATA,GetItemDataComposer),this._composers.set(OutgoingHeader.REMOVE_WALL_ITEM,RemoveWallItemComposer),this._composers.set(OutgoingHeader.BOT_PLACE,BotPlaceComposer),this._composers.set(OutgoingHeader.BOT_PICKUP,BotRemoveComposer),this._composers.set(OutgoingHeader.BOT_SKILL_SAVE,BotSkillSaveComposer),this._composers.set(OutgoingHeader.PET_PLACE,PetPlaceComposer),this._composers.set(OutgoingHeader.PET_MOVE,PetMoveComposer),this._composers.set(OutgoingHeader.PET_PICKUP,PetRemoveComposer),this._composers.set(OutgoingHeader.SET_ITEM_DATA,SetItemDataMessageComposer),this._composers.set(OutgoingHeader.SET_OBJECT_DATA,SetObjectDataMessageComposer),this._composers.set(OutgoingHeader.COMPOST_PLANT,CompostPlantMessageComposer),this._composers.set(OutgoingHeader.HARVEST_PET,HarvestPetMessageComposer),this._composers.set(OutgoingHeader.SET_CLOTHING_CHANGE_DATA,SetClothingChangeDataMessageComposer),this._composers.set(OutgoingHeader.FURNITURE_ALIASES,FurnitureAliasesComposer),this._composers.set(OutgoingHeader.FURNITURE_GROUP_INFO,FurnitureGroupInfoComposer),this._composers.set(OutgoingHeader.FURNITURE_PICKUP,FurniturePickupComposer$1),this._composers.set(OutgoingHeader.FURNITURE_PLACE,FurniturePlaceComposer$1),this._composers.set(OutgoingHeader.ITEM_PAINT,FurniturePlacePaintComposer),this._composers.set(OutgoingHeader.FURNITURE_POSTIT_PLACE,FurniturePostItPlaceComposer),this._composers.set(OutgoingHeader.FURNITURE_POSTIT_SAVE_STICKY_POLE,AddSpamWallPostItMessageComposer),this._composers.set(OutgoingHeader.CONTROL_YOUTUBE_DISPLAY_PLAYBACK,ControlYoutubeDisplayPlaybackMessageComposer),this._composers.set(OutgoingHeader.GET_YOUTUBE_DISPLAY_STATUS,GetYoutubeDisplayStatusMessageComposer),this._composers.set(OutgoingHeader.SET_YOUTUBE_DISPLAY_PLAYLIST,SetYoutubeDisplayPlaylistMessageComposer),this._composers.set(OutgoingHeader.FURNITURE_FLOOR_UPDATE,FurnitureFloorUpdateComposer),this._composers.set(OutgoingHeader.FURNITURE_WALL_UPDATE,FurnitureWallUpdateComposer),this._composers.set(OutgoingHeader.ITEM_DIMMER_SETTINGS,MoodlightSettingsComposer),this._composers.set(OutgoingHeader.ITEM_DIMMER_SAVE,MoodlightSettingsSaveComposer),this._composers.set(OutgoingHeader.ITEM_DIMMER_TOGGLE,MoodlightTogggleStateComposer),this._composers.set(OutgoingHeader.ROOM_TONER_APPLY,ApplyTonerComposer),this._composers.set(OutgoingHeader.ITEM_COLOR_WHEEL_CLICK,FurnitureColorWheelComposer),this._composers.set(OutgoingHeader.ITEM_DICE_CLICK,FurnitureDiceActivateComposer),this._composers.set(OutgoingHeader.ITEM_DICE_CLOSE,FurnitureDiceDeactivateComposer),this._composers.set(OutgoingHeader.FURNITURE_MULTISTATE,FurnitureMultiStateComposer),this._composers.set(OutgoingHeader.FURNITURE_RANDOMSTATE,FurnitureRandomStateComposer),this._composers.set(OutgoingHeader.ITEM_STACK_HELPER,FurnitureStackHeightComposer),this._composers.set(OutgoingHeader.FURNITURE_WALL_MULTISTATE,FurnitureWallMultiStateComposer),this._composers.set(OutgoingHeader.ONE_WAY_DOOR_CLICK,FurnitureOneWayDoorComposer),this._composers.set(OutgoingHeader.ITEM_EXCHANGE_REDEEM,FurnitureExchangeComposer),this._composers.set(OutgoingHeader.ITEM_CLOTHING_REDEEM,RedeemItemClothingComposer),this._composers.set(OutgoingHeader.ROOM_MODEL,GetRoomEntryDataMessageComposer),this._composers.set(OutgoingHeader.GET_OCCUPIED_TILES,GetOccupiedTilesMessageComposer),this._composers.set(OutgoingHeader.GET_ROOM_ENTRY_TILE,GetRoomEntryTileMessageComposer),this._composers.set(OutgoingHeader.ROOM_MODEL_SAVE,UpdateFloorPropertiesMessageComposer),this._composers.set(OutgoingHeader.UNIT_ACTION,RoomUnitActionComposer),this._composers.set(OutgoingHeader.UNIT_DANCE,RoomUnitDanceComposer),this._composers.set(OutgoingHeader.UNIT_DROP_HAND_ITEM,RoomUnitDropHandItemComposer),this._composers.set(OutgoingHeader.UNIT_GIVE_HANDITEM,RoomUnitGiveHandItemComposer),this._composers.set(OutgoingHeader.UNIT_GIVE_HANDITEM_PET,RoomUnitGiveHandItemPetComposer),this._composers.set(OutgoingHeader.UNIT_LOOK,RoomUnitLookComposer$1),this._composers.set(OutgoingHeader.UNIT_SIGN,RoomUnitSignComposer),this._composers.set(OutgoingHeader.UNIT_POSTURE,RoomUnitPostureComposer),this._composers.set(OutgoingHeader.UNIT_WALK,RoomUnitWalkComposer$1),this._composers.set(OutgoingHeader.UNIT_CHAT,RoomUnitChatComposer$1),this._composers.set(OutgoingHeader.UNIT_CHAT_SHOUT,RoomUnitChatShoutComposer),this._composers.set(OutgoingHeader.USER_SETTINGS_CHAT_STYLE,RoomUnitChatStyleComposer),this._composers.set(OutgoingHeader.UNIT_CHAT_WHISPER,RoomUnitChatWhisperComposer),this._composers.set(OutgoingHeader.UNIT_TYPING,RoomUnitTypingStartComposer$1),this._composers.set(OutgoingHeader.UNIT_TYPING_STOP,RoomUnitTypingStopComposer),this._composers.set(OutgoingHeader.WIRED_APPLY_SNAPSHOT,ApplySnapshotMessageComposer),this._composers.set(OutgoingHeader.WIRED_OPEN,OpenMessageComposer),this._composers.set(OutgoingHeader.WIRED_ACTION_SAVE,UpdateActionMessageComposer),this._composers.set(OutgoingHeader.WIRED_CONDITION_SAVE,UpdateConditionMessageComposer),this._composers.set(OutgoingHeader.WIRED_TRIGGER_SAVE,UpdateTriggerMessageComposer),this._composers.set(OutgoingHeader.ROOM_MUTE,RoomMuteComposer),this._composers.set(OutgoingHeader.APPROVE_NAME,ApproveNameMessageComposer),this._composers.set(OutgoingHeader.USER_RESPECT,UserRespectComposer),this._composers.set(OutgoingHeader.SCR_GET_KICKBACK_INFO,ScrGetKickbackInfoMessageComposer),this._composers.set(OutgoingHeader.PEER_USERS_CLASSIFICATION,PeerUsersClassificationMessageComposer),this._composers.set(OutgoingHeader.USER_CLASSIFICATION,RoomUsersClassificationMessageComposer),this._composers.set(OutgoingHeader.USER_IGNORED,GetIgnoredUsersComposer),this._composers.set(OutgoingHeader.USER_IGNORE,IgnoreUserComposer),this._composers.set(OutgoingHeader.USER_IGNORE_ID,IgnoreUserIdComposer),this._composers.set(OutgoingHeader.USER_UNIGNORE,UnignoreUserComposer),this._composers.set(OutgoingHeader.USER_BADGES_CURRENT,UserCurrentBadgesComposer),this._composers.set(OutgoingHeader.USER_FIGURE,UserFigureComposer),this._composers.set(OutgoingHeader.USER_MOTTO,UserMottoComposer),this._composers.set(OutgoingHeader.USER_PROFILE,UserProfileComposer$1),this._composers.set(OutgoingHeader.USER_PROFILE_BY_NAME,GetExtendedProfileByNameMessageComposer),this._composers.set(OutgoingHeader.USER_TAGS,GetUserTagsComposer),this._composers.set(OutgoingHeader.MESSENGER_RELATIONSHIPS,UserRelationshipsComposer),this._composers.set(OutgoingHeader.MANNEQUIN_SAVE_NAME,FurnitureMannequinSaveNameComposer),this._composers.set(OutgoingHeader.MANNEQUIN_SAVE_LOOK,FurnitureMannequinSaveLookComposer),this._composers.set(OutgoingHeader.PRESENT_OPEN_PRESENT,OpenPresentComposer),this._composers.set(OutgoingHeader.MARKETPLACE_CONFIG,GetMarketplaceConfigurationMessageComposer),this._composers.set(OutgoingHeader.MARKETPLACE_SELL_ITEM,MakeOfferMessageComposer),this._composers.set(OutgoingHeader.MARKETPLACE_REQUEST_OWN_ITEMS,GetMarketplaceOwnOffersMessageComposer),this._composers.set(OutgoingHeader.MARKETPLACE_TAKE_BACK_ITEM,CancelMarketplaceOfferMessageComposer),this._composers.set(OutgoingHeader.MARKETPLACE_REQUEST_OFFERS,GetMarketplaceOffersMessageComposer),this._composers.set(OutgoingHeader.MARKETPLACE_BUY_OFFER,BuyMarketplaceOfferMessageComposer),this._composers.set(OutgoingHeader.MARKETPLACE_REDEEM_CREDITS,RedeemMarketplaceOfferCreditsMessageComposer),this._composers.set(OutgoingHeader.MARKETPLACE_BUY_TOKENS,BuyMarketplaceTokensMessageComposer),this._composers.set(OutgoingHeader.REQUEST_SELL_ITEM,GetMarketplaceCanMakeOfferComposer),this._composers.set(OutgoingHeader.REQUEST_MARKETPLACE_ITEM_STATS,GetMarketplaceItemStatsComposer),this._composers.set(OutgoingHeader.USER_BOTS,GetBotInventoryComposer),this._composers.set(OutgoingHeader.USER_PETS,RequestPetsComposer),this._composers.set(OutgoingHeader.USER_CURRENCY,UserCurrencyComposer),this._composers.set(OutgoingHeader.USER_SUBSCRIPTION,UserSubscriptionComposer),this._composers.set(OutgoingHeader.MODTOOL_REQUEST_ROOM_INFO,GetModeratorRoomInfoMessageComposer),this._composers.set(OutgoingHeader.MODTOOL_CHANGE_ROOM_SETTINGS,ModerateRoomMessageComposer),this._composers.set(OutgoingHeader.MODTOOL_REQUEST_USER_CHATLOG,GetUserChatlogMessageComposer),this._composers.set(OutgoingHeader.MODTOOL_REQUEST_ROOM_CHATLOG,GetRoomChatlogMessageComposer),this._composers.set(OutgoingHeader.MOD_TOOL_USER_INFO,GetModeratorUserInfoMessageComposer),this._composers.set(OutgoingHeader.MODTOOL_SANCTION_ALERT,ModAlertMessageComposer),this._composers.set(OutgoingHeader.MODTOOL_SANCTION_BAN,ModBanMessageComposer),this._composers.set(OutgoingHeader.MODTOOL_SANCTION_KICK,ModKickMessageComposer),this._composers.set(OutgoingHeader.MODTOOL_SANCTION_TRADELOCK,ModTradingLockMessageComposer),this._composers.set(OutgoingHeader.MODTOOL_ALERTEVENT,ModMessageMessageComposer),this._composers.set(OutgoingHeader.MODTOOL_SANCTION_MUTE,ModMuteMessageComposer),this._composers.set(OutgoingHeader.MODTOOL_REQUEST_USER_ROOMS,GetRoomVisitsMessageComposer),this._composers.set(OutgoingHeader.MODTOOL_ROOM_ALERT,ModeratorActionMessageComposer),this._composers.set(OutgoingHeader.CLOSE_ISSUE_DEFAULT_ACTION,CloseIssueDefaultActionMessageComposer),this._composers.set(OutgoingHeader.CLOSE_ISSUES,CloseIssuesMessageComposer),this._composers.set(OutgoingHeader.DEFAULT_SANCTION,DefaultSanctionMessageComposer),this._composers.set(OutgoingHeader.GET_CFH_CHATLOG,GetCfhChatlogMessageComposer),this._composers.set(OutgoingHeader.MODTOOL_PREFERENCES,ModToolPreferencesComposer),this._composers.set(OutgoingHeader.MODTOOL_SANCTION,ModToolSanctionComposer),this._composers.set(OutgoingHeader.PICK_ISSUES,PickIssuesMessageComposer),this._composers.set(OutgoingHeader.RELEASE_ISSUES,ReleaseIssuesMessageComposer),this._composers.set(OutgoingHeader.MYSTERYBOXWAITINGCANCELEDMESSAGE,MysteryBoxWaitingCanceledMessageComposer),this._composers.set(OutgoingHeader.MYSTERYBOX_OPEN_TROPHY,OpenMysteryTrophyMessageComposer),this._composers.set(OutgoingHeader.USER_SETTINGS_CAMERA,UserSettingsCameraFollowComposer),this._composers.set(OutgoingHeader.USER_SETTINGS_OLD_CHAT,UserSettingsOldChatComposer),this._composers.set(OutgoingHeader.USER_SETTINGS_INVITES,UserSettingsRoomInvitesComposer),this._composers.set(OutgoingHeader.USER_SETTINGS_VOLUME,UserSettingsSoundComposer),this._composers.set(OutgoingHeader.COMMUNITY_GOAL_VOTE_COMPOSER,CommunityGoalVoteMessageComposer),this._composers.set(OutgoingHeader.GET_PROMO_ARTICLES,GetPromoArticlesComposer),this._composers.set(OutgoingHeader.ACCEPT_QUEST,AcceptQuestMessageComposer),this._composers.set(OutgoingHeader.ACTIVATE_QUEST,ActivateQuestMessageComposer),this._composers.set(OutgoingHeader.CANCEL_QUEST,CancelQuestMessageComposer),this._composers.set(OutgoingHeader.FRIEND_REQUEST_QUEST_COMPLETE,FriendRequestQuestCompleteMessageComposer),this._composers.set(OutgoingHeader.GET_COMMUNITY_GOAL_EARNED_PRIZES,GetCommunityGoalEarnedPrizesMessageComposer),this._composers.set(OutgoingHeader.GET_COMMUNITY_GOAL_HALL_OF_FAME,GetCommunityGoalHallOfFameMessageComposer),this._composers.set(OutgoingHeader.GET_COMMUNITY_GOAL_PROGRESS,GetCommunityGoalProgressMessageComposer),this._composers.set(OutgoingHeader.GET_CONCURRENT_USERS_GOAL_PROGRESS,GetConcurrentUsersGoalProgressMessageComposer),this._composers.set(OutgoingHeader.GET_CONCURRENT_USERS_REWARD,GetConcurrentUsersRewardMessageComposer),this._composers.set(OutgoingHeader.GET_DAILY_QUEST,GetDailyQuestMessageComposer),this._composers.set(OutgoingHeader.GET_QUESTS,GetQuestsMessageComposer),this._composers.set(OutgoingHeader.GET_SEASONAL_QUESTS_ONLY,GetSeasonalQuestsOnlyMessageComposer),this._composers.set(OutgoingHeader.OPEN_QUEST_TRACKER,OpenQuestTrackerMessageComposer),this._composers.set(OutgoingHeader.REDEEM_COMMUNITY_GOAL_PRIZE,RedeemCommunityGoalPrizeMessageComposer),this._composers.set(OutgoingHeader.REJECT_QUEST,RejectQuestMessageComposer),this._composers.set(OutgoingHeader.START_CAMPAIGN,StartCampaignMessageComposer),this._composers.set(OutgoingHeader.GET_SOUND_SETTINGS,GetSoundSettingsComposer),this._composers.set(OutgoingHeader.ADD_JUKEBOX_DISK,AddJukeboxDiskComposer),this._composers.set(OutgoingHeader.GET_JUKEBOX_PLAYLIST,GetJukeboxPlayListMessageComposer),this._composers.set(OutgoingHeader.GET_NOW_PLAYING,GetNowPlayingMessageComposer),this._composers.set(OutgoingHeader.GET_OFFICIAL_SONG_ID,GetOfficialSongIdMessageComposer),this._composers.set(OutgoingHeader.GET_SONG_INFO,GetSongInfoMessageComposer),this._composers.set(OutgoingHeader.GET_SOUND_MACHINE_PLAYLIST,GetSoundMachinePlayListMessageComposer),this._composers.set(OutgoingHeader.GET_USER_SONG_DISKS,GetUserSongDisksMessageComposer),this._composers.set(OutgoingHeader.REMOVE_JUKEBOX_DISK,RemoveJukeboxDiskComposer),this._composers.set(OutgoingHeader.HELPER_TALENT_TRACK,TalentTrackComposer),this._composers.set(OutgoingHeader.TALENT_TRACK_GET_LEVEL,GetTalentTrackLevelMessageComposer),this._composers.set(OutgoingHeader.NEW_USER_EXPERIENCE_GET_GIFTS,NewUserExperienceGetGiftsComposer),this._composers.set(OutgoingHeader.NEW_USER_EXPERIENCE_SCRIPT_PROCEED,NewUserExperienceScriptProceedComposer),this._composers.set(OutgoingHeader.WELCOME_OPEN_GIFT,OpenWelcomeGiftComposer),this._composers.set(OutgoingHeader.WELCOME_GIFT_CHANGE_EMAIL,WelcomeGiftChangeEmailComposer),this._composers.set(OutgoingHeader.EMAIL_GET_STATUS,GetEmailStatusComposer),this._composers.set(OutgoingHeader.EMAIL_CHANGE,ChangeEmailComposer),this._composers.set(OutgoingHeader.RENTABLE_SPACE_CANCEL_RENT,RentableSpaceCancelRentMessageComposer),this._composers.set(OutgoingHeader.RENTABLE_SPACE_RENT,RentableSpaceRentMessageComposer),this._composers.set(OutgoingHeader.RENTABLE_SPACE_STATUS,RentableSpaceStatusMessageComposer),this._composers.set(OutgoingHeader.RECYCLER_STATUS,GetRecyclerStatusMessageComposer),this._composers.set(OutgoingHeader.RECYCLER_ITEMS,RecycleItemsMessageComposer),this._composers.set(OutgoingHeader.TRACKING_PERFORMANCE_LOG,PerformanceLogMessageComposer),this._composers.set(OutgoingHeader.TRACKING_LAG_WARNING_REPORT,LagWarningReportMessageComposer),this._composers.set(OutgoingHeader.ROOM_DIRECTORY_ROOM_NETWORK_OPEN_CONNECTION,RoomNetworkOpenConnectionMessageComposer),this._composers.set(OutgoingHeader.RENTABLE_EXTEND_RENT_OR_BUYOUT_STRIP_ITEM,ExtendRentOrBuyoutStripItemMessageComposer),this._composers.set(OutgoingHeader.RENTABLE_EXTEND_RENT_OR_BUYOUT_FURNI,ExtendRentOrBuyoutFurniMessageComposer),this._composers.set(OutgoingHeader.RENTABLE_GET_RENT_OR_BUYOUT_OFFER,GetRentOrBuyoutOfferMessageComposer)}get events(){return this._events}get composers(){return this._composers}}class NitroCommunicationManager extends NitroManager{constructor(ee){super(),this._communication=ee,this._connection=null,this._messages=new NitroMessages,this._demo=new NitroCommunicationDemo(this),this.onConnectionOpenedEvent=this.onConnectionOpenedEvent.bind(this),this.onConnectionClosedEvent=this.onConnectionClosedEvent.bind(this),this.onConnectionErrorEvent=this.onConnectionErrorEvent.bind(this),this.onConnectionAuthenticatedEvent=this.onConnectionAuthenticatedEvent.bind(this)}onInit(){this._connection||(Nitro.instance.events.addEventListener(NitroCommunicationDemoEvent.CONNECTION_AUTHENTICATED,this.onConnectionAuthenticatedEvent),this._connection=this._communication.createConnection(this),this._connection.registerMessages(this._messages),this._connection.addEventListener(SocketConnectionEvent.CONNECTION_OPENED,this.onConnectionOpenedEvent),this._connection.addEventListener(SocketConnectionEvent.CONNECTION_CLOSED,this.onConnectionClosedEvent),this._connection.addEventListener(SocketConnectionEvent.CONNECTION_ERROR,this.onConnectionErrorEvent),this._demo&&this._demo.init(),this._connection.init(NitroConfiguration.getValue("socket.url")))}onDispose(){this._demo&&this._demo.dispose(),this._connection&&(this._connection.removeEventListener(SocketConnectionEvent.CONNECTION_OPENED,this.onConnectionOpenedEvent),this._connection.removeEventListener(SocketConnectionEvent.CONNECTION_CLOSED,this.onConnectionClosedEvent),this._connection.removeEventListener(SocketConnectionEvent.CONNECTION_ERROR,this.onConnectionErrorEvent)),Nitro.instance.events.removeEventListener(NitroCommunicationDemoEvent.CONNECTION_AUTHENTICATED,this.onConnectionAuthenticatedEvent),super.onDispose()}onConnectionOpenedEvent(ee){NitroLogger.log("Connection Initialized")}onConnectionClosedEvent(ee){NitroLogger.log("Connection Closed")}onConnectionErrorEvent(ee){NitroLogger.log("Connection Error")}onConnectionAuthenticatedEvent(ee){NitroLogger.log("Connection Authenticated"),this._connection&&this._connection.authenticated()}connectionInit(ee){NitroLogger.log("Initializing Connection",ee)}registerMessageEvent(ee){return this._connection&&this._connection.addMessageEvent(ee),ee}removeMessageEvent(ee){this._connection&&this._connection.removeMessageEvent(ee)}get demo(){return this._demo}get connection(){return this._connection}}const bP=class bP{static get available(){return this._isListeningForPostMessages||(this._isListeningForPostMessages=!0,window.addEventListener("message",ee=>{if(typeof ee.data=="string"&&ee.data.startsWith(bP.MESSAGE_KEY)){const{method:te,params:se}=JSON.parse(ee.data.substr(bP.MESSAGE_KEY.length)),ne=window[te];if(!ne)return;ne(...se);return}})),!0}static call(ee,...te){if(window.top!==window&&window.top.postMessage(bP.MESSAGE_KEY+JSON.stringify({method:ee,params:te}),"*"),!("FlashExternalInterface"in window))return;const se=window.FlashExternalInterface[ee];return typeof se<"u"?se(...te):void 0}static callGame(ee,...te){if(window.top!==window&&window.top.postMessage("Nitro_LegacyExternalGameInterface"+JSON.stringify({method:ee,params:te}),"*"),!("FlashExternalGameInterface"in window))return;const se=window.FlashExternalGameInterface[ee];return typeof se<"u"?se(...te):void 0}static addCallback(ee,te){window[ee]=te}};bP.MESSAGE_KEY="Nitro_LegacyExternalInterface",bP._isListeningForPostMessages=!1;let LegacyExternalInterface=bP;class GameMessageHandler{constructor(ee){ee.addMessageEvent(new LoadGameUrlEvent(this.onLoadGameUrl.bind(this)))}onLoadGameUrl(ee){if(!ee)return;const te=ee.getParser();te&&LegacyExternalInterface.callGame("showGame",te.url)}}class BadgeBaseAndLevel{constructor(ee){this._badgeId="",this._level=1,this._base="",this._badgeId=ee,this.parseText()}parseText(){let ee=this._badgeId.length-1;for(;ee>0&&this.isNumber(this._badgeId.charAt(ee));)ee--;this._base=this._badgeId.substr(0,ee+1);const te=this._badgeId.substr(ee+1,this._badgeId.length);te&&te!==""&&(this._level=Number.parseInt(te))}isNumber(ee){const te=ee.charCodeAt(0);return te>=48&&te<=57}get level(){return this._level}set level(ee){this._level=Math.max(1,ee)}get getBadgeId(){return this._base+this._level}get base(){return this._base}}class NitroLocalizationManager extends NitroManager{constructor(ee){super(),this._communication=ee,this._definitions=new Map,this._parameters=new Map,this._badgePointLimits=new Map,this._romanNumerals=["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII","XIII","XIV","XV","XVI","XVII","XVIII","XIX","XX","XXI","XXII","XXIII","XXIV","XXV","XXVI","XXVII","XXVIII","XXIX","XXX"],this._pendingUrls=[]}onInit(){this._communication.registerMessageEvent(new BadgePointLimitsEvent(this.onBadgePointLimitsEvent.bind(this)));let ee=NitroConfiguration.getValue("external.texts.url");Array.isArray(ee)||(ee=[NitroConfiguration.getValue("external.texts.url")]);for(let te=0;te<ee.length;te++)ee[te]=NitroConfiguration.interpolate(ee[te]);this._pendingUrls=ee,this.loadNextLocalization()}loadNextLocalization(){if(!this._pendingUrls.length){this.events&&this.events.dispatchEvent(new NitroLocalizationEvent(NitroLocalizationEvent.LOADED));return}this.loadLocalizationFromURL(this._pendingUrls[0])}loadLocalizationFromURL(ee){fetch(ee).then(te=>te.json()).then(te=>this.onLocalizationLoaded(te,ee)).catch(te=>this.onLocalizationFailed(te))}onLocalizationLoaded(ee,te){if(!ee)return;if(!this.parseLocalization(ee))throw new Error(`Invalid json data for file ${te}`);const se=this._pendingUrls.indexOf(te);se>=0&&this._pendingUrls.splice(se,1),this.loadNextLocalization()}onLocalizationFailed(ee){this.events&&this.events.dispatchEvent(new NitroLocalizationEvent(NitroLocalizationEvent.FAILED))}parseLocalization(ee){if(!ee)return!1;for(const te in ee)this._definitions.set(te,ee[te]);return!0}onBadgePointLimitsEvent(ee){const te=ee.getParser();for(const se of te.data)this.setBadgePointLimit(se.badgeId,se.limit)}getBadgePointLimit(ee){return this._badgePointLimits.get(ee)||-1}setBadgePointLimit(ee,te){this._badgePointLimits.set(ee,te)}getRomanNumeral(ee){return this._romanNumerals[Math.max(0,ee-1)]}getPreviousLevelBadgeId(ee){const te=new BadgeBaseAndLevel(ee);return te.level--,te.getBadgeId}hasValue(ee){return this._definitions.has(ee)}getValue(ee,te=!0){if(!ee||!ee.length)return null;const se=ee.match(/\$\{.[^}]*\}/g);if(se&&se.length)for(const le of se)ee=ee.replace(le,this.getValue(le.slice(2,-1),te));let ne=this._definitions.get(ee)||null;if(!ne&&(ne=NitroConfiguration.definitions.get(ee),ne))return ne;if(ne&&te){const le=this._parameters.get(ee);if(le)for(const[ue,ce]of le)ne=ne.replace("%"+ue+"%",ce)}return ne||ee}getValueWithParameter(ee,te,se){const ne=this.getValue(ee,!1),le=ne.replace("%"+te+"%",se);if(ne.startsWith("%{")){const ue=new RegExp("%{"+te.toUpperCase()+"\\|([^|]*)\\|([^|]*)\\|([^|]*)}"),ce=ne.match(ue);if(!ce)return le;let he=-1;switch(Number.parseInt(se)){case 0:he=1;break;case 1:he=2;break;default:case 2:he=3;break}if(he==-1||typeof ce[he]>"u")return le;const _e=ce[he];if(_e)return _e.replace("%%",se)}return le}getValueWithParameters(ee,te,se){let ne=this.getValue(ee,!1);if(te)for(let le=0;le<te.length;le++){const ue=te[le],ce=se[le];if(ce!==void 0&&(ne=ne.replace("%"+ue+"%",ce),ne.startsWith("%{"))){const he=new RegExp("%{"+ue.toUpperCase()+"\\|([^|]*)\\|([^|]*)\\|([^|]*)}"),de=ne.match(he);if(!de)continue;const _e=parseInt(ce);let fe=-1;switch(_e){case 0:fe=1;break;case 1:fe=2;break;case 2:default:fe=3;break}if(fe===-1||typeof de[fe]>"u")continue;const ye=de[fe];ye&&(ne=ye.replace("%%",ce))}}return ne}setValue(ee,te){this._definitions.set(ee,te)}registerParameter(ee,te,se){if(!ee||ee.length===0||!te||te.length===0)return;let ne=this._parameters.get(ee);ne||(ne=new Map,this._parameters.set(ee,ne)),ne.set(te,se)}getBadgeName(ee){const te=new BadgeBaseAndLevel(ee),se=["badge_name_"+ee,"badge_name_"+te.base];let ne=this.fixBadLocalization(this.getExistingKey(se));return ne=ne.replace("%roman%",this.getRomanNumeral(te.level)),ne}getBadgeDesc(ee){const te=new BadgeBaseAndLevel(ee),se=["badge_desc_"+ee,"badge_desc_"+te.base];let ne=this.fixBadLocalization(this.getExistingKey(se));const le=this.getBadgePointLimit(ee);return le>-1&&(ne=ne.replace("%limit%",le.toString())),ne=ne.replace("%roman%",this.getRomanNumeral(te.level)),ne}getExistingKey(ee){for(const te of ee){const se=this.getValue(te);if(se!=te)return se}return""}fixBadLocalization(ee){return ee.replace("${","$").replace("{","$").replace("}","$")}}/*!
 * @pixi/canvas-display - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/canvas-display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Container$1.prototype._renderCanvas=function(ee){},Container$1.prototype.renderCanvas=function(ee){if(!(!this.visible||this.worldAlpha<=0||!this.renderable)){this._mask&&ee.maskManager.pushMask(this._mask),this._renderCanvas(ee);for(var te=0,se=this.children.length;te<se;++te)this.children[te].renderCanvas(ee);this._mask&&ee.maskManager.popMask(ee)}},DisplayObject.prototype.renderCanvas=function(ee){};/*!
 * @pixi/extract - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var TEMP_RECT=new Rectangle$1,BYTES_PER_PIXEL$1=4,Extract=function(){function ie(ee){this.renderer=ee}return ie.prototype.image=function(ee,te,se){var ne=new Image;return ne.src=this.base64(ee,te,se),ne},ie.prototype.base64=function(ee,te,se){return this.canvas(ee).toDataURL(te,se)},ie.prototype.canvas=function(ee,te){var se=this._rawPixels(ee,te),ne=se.pixels,le=se.width,ue=se.height,ce=se.flipY,he=new CanvasRenderTarget(le,ue,1),de=he.context.getImageData(0,0,le,ue);if(ie.arrayPostDivide(ne,de.data),he.context.putImageData(de,0,0),ce){var _e=new CanvasRenderTarget(he.width,he.height,1);_e.context.scale(1,-1),_e.context.drawImage(he.canvas,0,-ue),he.destroy(),he=_e}return he.canvas},ie.prototype.pixels=function(ee,te){var se=this._rawPixels(ee,te).pixels;return ie.arrayPostDivide(se,se),se},ie.prototype._rawPixels=function(ee,te){var se=this.renderer,ne,le=!1,ue,ce=!1;if(ee)if(ee instanceof RenderTexture$1)ue=ee;else{var he=se.context.webGLVersion>=2?se.multisample:MSAA_QUALITY.NONE;if(ue=this.renderer.generateTexture(ee,{multisample:he}),he!==MSAA_QUALITY.NONE){var de=RenderTexture$1.create({width:ue.width,height:ue.height});se.framebuffer.bind(ue.framebuffer),se.framebuffer.blit(de.framebuffer),se.framebuffer.bind(null),ue.destroy(!0),ue=de}ce=!0}ue?(ne=ue.baseTexture.resolution,te=te??ue.frame,le=!1,se.renderTexture.bind(ue)):(ne=se.resolution,te||(te=TEMP_RECT,te.width=se.width,te.height=se.height),le=!0,se.renderTexture.bind(null));var _e=Math.round(te.width*ne),fe=Math.round(te.height*ne),ye=new Uint8Array(BYTES_PER_PIXEL$1*_e*fe),be=se.gl;return be.readPixels(Math.round(te.x*ne),Math.round(te.y*ne),_e,fe,be.RGBA,be.UNSIGNED_BYTE,ye),ce&&ue.destroy(!0),{pixels:ye,width:_e,height:fe,flipY:le}},ie.prototype.destroy=function(){this.renderer=null},ie.arrayPostDivide=function(ee,te){for(var se=0;se<ee.length;se+=4){var ne=te[se+3]=ee[se+3];ne!==0?(te[se]=Math.round(Math.min(ee[se]*255/ne,255)),te[se+1]=Math.round(Math.min(ee[se+1]*255/ne,255)),te[se+2]=Math.round(Math.min(ee[se+2]*255/ne,255))):(te[se]=ee[se],te[se+1]=ee[se+1],te[se+2]=ee[se+2])}},ie.extension={name:"extract",type:ExtensionType$1.RendererPlugin},ie}();/*!
 * @pixi/graphics-extras - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/graphics-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */function drawTorus(ie,ee,te,se,ne,le){return ne===void 0&&(ne=0),le===void 0&&(le=Math.PI*2),Math.abs(le-ne)>=Math.PI*2?this.drawCircle(ie,ee,se).beginHole().drawCircle(ie,ee,te).endHole():(this.finishPoly(),this.arc(ie,ee,te,le,ne,!0).arc(ie,ee,se,ne,le,!1).finishPoly(),this)}function drawChamferRect(ie,ee,te,se,ne){if(ne<=0)return this.drawRect(ie,ee,te,se);for(var le=Math.min(ne,Math.min(te,se)/2),ue=ie+te,ce=ee+se,he=[ie+le,ee,ue-le,ee,ue,ee+le,ue,ce-le,ue-le,ce,ie+le,ce,ie,ce-le,ie,ee+le],de=he.length-1;de>=2;de-=2)he[de]===he[de-2]&&he[de-1]===he[de-3]&&he.splice(de-1,2);return this.drawPolygon(he)}function drawFilletRect(ie,ee,te,se,ne){if(ne===0)return this.drawRect(ie,ee,te,se);var le=Math.min(te,se)/2,ue=Math.min(le,Math.max(-le,ne)),ce=ie+te,he=ee+se,de=ue<0?-ue:0,_e=Math.abs(ue);return this.moveTo(ie,ee+_e).arcTo(ie+de,ee+de,ie+_e,ee,_e).lineTo(ce-_e,ee).arcTo(ce-de,ee+de,ce,ee+_e,_e).lineTo(ce,he-_e).arcTo(ce-de,he-de,ie+te-_e,he,_e).lineTo(ie+_e,he).arcTo(ie+de,he-de,ie,he-_e,_e).closePath()}function drawRegularPolygon(ie,ee,te,se,ne){ne===void 0&&(ne=0),se=Math.max(se|0,3);for(var le=-1*Math.PI/2+ne,ue=Math.PI*2/se,ce=[],he=0;he<se;he++){var de=he*ue+le;ce.push(ie+te*Math.cos(de),ee+te*Math.sin(de))}return this.drawPolygon(ce)}function drawRoundedPolygon(ie,ee,te,se,ne,le){if(le===void 0&&(le=0),se=Math.max(se|0,3),ne<=0)return this.drawRegularPolygon(ie,ee,te,se,le);var ue=te*Math.sin(Math.PI/se)-.001;ne=Math.min(ne,ue);for(var ce=-1*Math.PI/2+le,he=Math.PI*2/se,de=(se-2)*Math.PI/se/2,_e=0;_e<se;_e++){var fe=_e*he+ce,ye=ie+te*Math.cos(fe),be=ee+te*Math.sin(fe),Pe=fe+Math.PI+de,Ne=fe-Math.PI-de,we=ye+ne*Math.cos(Pe),De=be+ne*Math.sin(Pe),$e=ye+ne*Math.cos(Ne),Ge=be+ne*Math.sin(Ne);_e===0?this.moveTo(we,De):this.lineTo(we,De),this.quadraticCurveTo(ye,be,$e,Ge)}return this.closePath()}/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics$2=function(ie,ee){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,se){te.__proto__=se}||function(te,se){for(var ne in se)se.hasOwnProperty(ne)&&(te[ne]=se[ne])},extendStatics$2(ie,ee)};function __extends$2(ie,ee){extendStatics$2(ie,ee);function te(){this.constructor=ie}ie.prototype=ee===null?Object.create(ee):(te.prototype=ee.prototype,new te)}var Star=function(ie){__extends$2(ee,ie);function ee(te,se,ne,le,ue,ce){ce===void 0&&(ce=0);var he=this;ue=ue||le/2;for(var de=-1*Math.PI/2+ce,_e=ne*2,fe=PI_2$1/_e,ye=[],be=0;be<_e;be++){var Pe=be%2?ue:le,Ne=be*fe+de;ye.push(te+Pe*Math.cos(Ne),se+Pe*Math.sin(Ne))}return he=ie.call(this,ye)||this,he}return ee}(Polygon$1);function drawStar(ie,ee,te,se,ne,le){return le===void 0&&(le=0),this.drawPolygon(new Star(ie,ee,te,se,ne,le))}Object.defineProperties(Graphics$1.prototype,{drawTorus:{value:drawTorus},drawChamferRect:{value:drawChamferRect},drawFilletRect:{value:drawFilletRect},drawRegularPolygon:{value:drawRegularPolygon},drawRoundedPolygon:{value:drawRoundedPolygon},drawStar:{value:drawStar}});/*!
 * @pixi/math-extras - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/math-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var mixins={add:function(ie,ee){return ee||(ee=new Point$1),ee.x=this.x+ie.x,ee.y=this.y+ie.y,ee},subtract:function(ie,ee){return ee||(ee=new Point$1),ee.x=this.x-ie.x,ee.y=this.y-ie.y,ee},multiply:function(ie,ee){return ee||(ee=new Point$1),ee.x=this.x*ie.x,ee.y=this.y*ie.y,ee},multiplyScalar:function(ie,ee){return ee||(ee=new Point$1),ee.x=this.x*ie,ee.y=this.y*ie,ee},dot:function(ie){return this.x*ie.x+this.y*ie.y},cross:function(ie){return this.x*ie.y-this.y*ie.x},normalize:function(ie){ie||(ie=new Point$1);var ee=Math.sqrt(this.x*this.x+this.y*this.y);return ie.x=this.x/ee,ie.y=this.y/ee,ie},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},magnitudeSquared:function(){return this.x*this.x+this.y*this.y},project:function(ie,ee){ee||(ee=new Point$1);var te=(this.x*ie.x+this.y*ie.y)/(ie.x*ie.x+ie.y*ie.y);return ee.x=ie.x*te,ee.y=ie.y*te,ee},reflect:function(ie,ee){ee||(ee=new Point$1);var te=this.x*ie.x+this.y*ie.y;return ee.x=this.x-2*te*ie.x,ee.y=this.y-2*te*ie.y,ee}};Object.assign(Point$1.prototype,mixins),Object.assign(ObservablePoint$1.prototype,mixins),Rectangle$1.prototype.containsRect=function(ee){return ee.width<=0||ee.height<=0?ee.x>this.x&&ee.y>this.y&&ee.right<this.right&&ee.bottom<this.bottom:ee.x>=this.x&&ee.y>=this.y&&ee.right<=this.right&&ee.bottom<=this.bottom},Rectangle$1.prototype.equals=function(ee){return ee===this?!0:ee&&this.x===ee.x&&this.y===ee.y&&this.width===ee.width&&this.height===ee.height},Rectangle$1.prototype.intersection=function(ee,te){te||(te=new Rectangle$1);var se=this.x<ee.x?ee.x:this.x,ne=this.right>ee.right?ee.right:this.right;if(ne<=se)return te.x=te.y=te.width=te.height=0,te;var le=this.y<ee.y?ee.y:this.y,ue=this.bottom>ee.bottom?ee.bottom:this.bottom;return ue<=le?(te.x=te.y=te.width=te.height=0,te):(te.x=se,te.y=le,te.width=ne-se,te.height=ue-le,te)},Rectangle$1.prototype.union=function(ee,te){te||(te=new Rectangle$1);var se=Math.min(this.x,ee.x),ne=Math.max(this.x+this.width,ee.x+ee.width),le=Math.min(this.y,ee.y),ue=Math.max(this.y+this.height,ee.y+ee.height);return te.x=se,te.y=le,te.width=ne-se,te.height=ue-le,te};/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _tempMatrix=new Matrix$1;DisplayObject.prototype._cacheAsBitmap=!1,DisplayObject.prototype._cacheData=null,DisplayObject.prototype._cacheAsBitmapResolution=null,DisplayObject.prototype._cacheAsBitmapMultisample=MSAA_QUALITY.NONE;var CacheData=function(){function ie(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return ie}();Object.defineProperties(DisplayObject.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(ie){ie!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=ie,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(ie){ie!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=ie,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(ie){if(this._cacheAsBitmap!==ie){this._cacheAsBitmap=ie;var ee;ie?(this._cacheData||(this._cacheData=new CacheData),ee=this._cacheData,ee.originalRender=this.render,ee.originalRenderCanvas=this.renderCanvas,ee.originalUpdateTransform=this.updateTransform,ee.originalCalculateBounds=this.calculateBounds,ee.originalGetLocalBounds=this.getLocalBounds,ee.originalDestroy=this.destroy,ee.originalContainsPoint=this.containsPoint,ee.originalMask=this._mask,ee.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(ee=this._cacheData,ee.sprite&&this._destroyCachedDisplayObject(),this.render=ee.originalRender,this.renderCanvas=ee.originalRenderCanvas,this.calculateBounds=ee.originalCalculateBounds,this.getLocalBounds=ee.originalGetLocalBounds,this.destroy=ee.originalDestroy,this.updateTransform=ee.originalUpdateTransform,this.containsPoint=ee.originalContainsPoint,this._mask=ee.originalMask,this.filterArea=ee.originalFilterArea)}}}}),DisplayObject.prototype._renderCached=function(ee){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(ee),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(ee))},DisplayObject.prototype._initCachedDisplayObject=function(ee){var te;if(!(this._cacheData&&this._cacheData.sprite)){var se=this.alpha;this.alpha=1,ee.batch.flush();var ne=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var le=this.filters[0].padding;ne.pad(le)}ne.ceil(settings$1.RESOLUTION);var ue=ee.renderTexture.current,ce=ee.renderTexture.sourceFrame.clone(),he=ee.renderTexture.destinationFrame.clone(),de=ee.projection.transform,_e=RenderTexture$1.create({width:ne.width,height:ne.height,resolution:this.cacheAsBitmapResolution||ee.resolution,multisample:(te=this.cacheAsBitmapMultisample)!==null&&te!==void 0?te:ee.multisample}),fe="cacheAsBitmap_"+uid$1();this._cacheData.textureCacheId=fe,BaseTexture.addToCache(_e.baseTexture,fe),Texture$1.addToCache(_e,fe);var ye=this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-ne.x,-ne.y);this.render=this._cacheData.originalRender,ee.render(this,{renderTexture:_e,clear:!0,transform:ye,skipUpdateTransform:!1}),ee.framebuffer.blit(),ee.projection.transform=de,ee.renderTexture.bind(ue,ce,he),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=se;var be=new Sprite$1(_e);be.transform.worldTransform=this.transform.worldTransform,be.anchor.x=-(ne.x/ne.width),be.anchor.y=-(ne.y/ne.height),be.alpha=se,be._bounds=this._bounds,this._cacheData.sprite=be,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=be.containsPoint.bind(be)}},DisplayObject.prototype._renderCachedCanvas=function(ee){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(ee),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(ee))},DisplayObject.prototype._initCachedDisplayObjectCanvas=function(ee){if(!(this._cacheData&&this._cacheData.sprite)){var te=this.getLocalBounds(null,!0),se=this.alpha;this.alpha=1;var ne=ee.context,le=ee._projTransform;te.ceil(settings$1.RESOLUTION);var ue=RenderTexture$1.create({width:te.width,height:te.height}),ce="cacheAsBitmap_"+uid$1();this._cacheData.textureCacheId=ce,BaseTexture.addToCache(ue.baseTexture,ce),Texture$1.addToCache(ue,ce);var he=_tempMatrix;this.transform.localTransform.copyTo(he),he.invert(),he.tx-=te.x,he.ty-=te.y,this.renderCanvas=this._cacheData.originalRenderCanvas,ee.render(this,{renderTexture:ue,clear:!0,transform:he,skipUpdateTransform:!1}),ee.context=ne,ee._projTransform=le,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=se;var de=new Sprite$1(ue);de.transform.worldTransform=this.transform.worldTransform,de.anchor.x=-(te.x/te.width),de.anchor.y=-(te.y/te.height),de.alpha=se,de._bounds=this._bounds,this._cacheData.sprite=de,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=ee._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=de.containsPoint.bind(de)}},DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,BaseTexture.removeFromCache(this._cacheData.textureCacheId),Texture$1.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},DisplayObject.prototype._cacheAsBitmapDestroy=function(ee){this.cacheAsBitmap=!1,this.destroy(ee)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */DisplayObject.prototype.name=null,Container$1.prototype.getChildByName=function(ee,te){for(var se=0,ne=this.children.length;se<ne;se++)if(this.children[se].name===ee)return this.children[se];if(te)for(var se=0,ne=this.children.length;se<ne;se++){var le=this.children[se];if(le.getChildByName){var ue=le.getChildByName(ee,!0);if(ue)return ue}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */DisplayObject.prototype.getGlobalPosition=function(ee,te){return ee===void 0&&(ee=new Point$1),te===void 0&&(te=!1),this.parent?this.parent.toGlobal(this.position,ee,te):(ee.x=this.position.x,ee.y=this.position.y),ee};function finallyConstructor(ie){var ee=this.constructor;return this.then(function(te){return ee.resolve(ie()).then(function(){return te})},function(te){return ee.resolve(ie()).then(function(){return ee.reject(te)})})}function allSettled(ie){var ee=this;return new ee(function(te,se){if(!(ie&&typeof ie.length<"u"))return se(new TypeError(typeof ie+" "+ie+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var ne=Array.prototype.slice.call(ie);if(ne.length===0)return te([]);var le=ne.length;function ue(he,de){if(de&&(typeof de=="object"||typeof de=="function")){var _e=de.then;if(typeof _e=="function"){_e.call(de,function(fe){ue(he,fe)},function(fe){ne[he]={status:"rejected",reason:fe},--le===0&&te(ne)});return}}ne[he]={status:"fulfilled",value:de},--le===0&&te(ne)}for(var ce=0;ce<ne.length;ce++)ue(ce,ne[ce])})}function AggregateError$1(ie,ee){this.name="AggregateError",this.errors=ie,this.message=ee||""}AggregateError$1.prototype=Error.prototype;function any(ie){var ee=this;return new ee(function(te,se){if(!(ie&&typeof ie.length<"u"))return se(new TypeError("Promise.any accepts an array"));var ne=Array.prototype.slice.call(ie);if(ne.length===0)return se();for(var le=[],ue=0;ue<ne.length;ue++)try{ee.resolve(ne[ue]).then(te).catch(function(ce){le.push(ce),le.length===ne.length&&se(new AggregateError$1(le,"All promises were rejected"))})}catch(ce){se(ce)}})}var setTimeoutFunc=setTimeout;function isArray(ie){return!!(ie&&typeof ie.length<"u")}function noop$3(){}function bind(ie,ee){return function(){ie.apply(ee,arguments)}}function Promise$1(ie){if(!(this instanceof Promise$1))throw new TypeError("Promises must be constructed via new");if(typeof ie!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(ie,this)}function handle(ie,ee){for(;ie._state===3;)ie=ie._value;if(ie._state===0){ie._deferreds.push(ee);return}ie._handled=!0,Promise$1._immediateFn(function(){var te=ie._state===1?ee.onFulfilled:ee.onRejected;if(te===null){(ie._state===1?resolve:reject)(ee.promise,ie._value);return}var se;try{se=te(ie._value)}catch(ne){reject(ee.promise,ne);return}resolve(ee.promise,se)})}function resolve(ie,ee){try{if(ee===ie)throw new TypeError("A promise cannot be resolved with itself.");if(ee&&(typeof ee=="object"||typeof ee=="function")){var te=ee.then;if(ee instanceof Promise$1){ie._state=3,ie._value=ee,finale(ie);return}else if(typeof te=="function"){doResolve(bind(te,ee),ie);return}}ie._state=1,ie._value=ee,finale(ie)}catch(se){reject(ie,se)}}function reject(ie,ee){ie._state=2,ie._value=ee,finale(ie)}function finale(ie){ie._state===2&&ie._deferreds.length===0&&Promise$1._immediateFn(function(){ie._handled||Promise$1._unhandledRejectionFn(ie._value)});for(var ee=0,te=ie._deferreds.length;ee<te;ee++)handle(ie,ie._deferreds[ee]);ie._deferreds=null}function Handler(ie,ee,te){this.onFulfilled=typeof ie=="function"?ie:null,this.onRejected=typeof ee=="function"?ee:null,this.promise=te}function doResolve(ie,ee){var te=!1;try{ie(function(se){te||(te=!0,resolve(ee,se))},function(se){te||(te=!0,reject(ee,se))})}catch(se){if(te)return;te=!0,reject(ee,se)}}Promise$1.prototype.catch=function(ie){return this.then(null,ie)},Promise$1.prototype.then=function(ie,ee){var te=new this.constructor(noop$3);return handle(this,new Handler(ie,ee,te)),te},Promise$1.prototype.finally=finallyConstructor,Promise$1.all=function(ie){return new Promise$1(function(ee,te){if(!isArray(ie))return te(new TypeError("Promise.all accepts an array"));var se=Array.prototype.slice.call(ie);if(se.length===0)return ee([]);var ne=se.length;function le(ce,he){try{if(he&&(typeof he=="object"||typeof he=="function")){var de=he.then;if(typeof de=="function"){de.call(he,function(_e){le(ce,_e)},te);return}}se[ce]=he,--ne===0&&ee(se)}catch(_e){te(_e)}}for(var ue=0;ue<se.length;ue++)le(ue,se[ue])})},Promise$1.any=any,Promise$1.allSettled=allSettled,Promise$1.resolve=function(ie){return ie&&typeof ie=="object"&&ie.constructor===Promise$1?ie:new Promise$1(function(ee){ee(ie)})},Promise$1.reject=function(ie){return new Promise$1(function(ee,te){te(ie)})},Promise$1.race=function(ie){return new Promise$1(function(ee,te){if(!isArray(ie))return te(new TypeError("Promise.race accepts an array"));for(var se=0,ne=ie.length;se<ne;se++)Promise$1.resolve(ie[se]).then(ee,te)})},Promise$1._immediateFn=typeof setImmediate=="function"&&function(ie){setImmediate(ie)}||function(ie){setTimeoutFunc(ie,0)},Promise$1._unhandledRejectionFn=function(ee){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",ee)};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var objectAssign$1,hasRequiredObjectAssign;function requireObjectAssign(){if(hasRequiredObjectAssign)return objectAssign$1;hasRequiredObjectAssign=1;var ie=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;function se(le){if(le==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(le)}function ne(){try{if(!Object.assign)return!1;var le=new String("abc");if(le[5]="de",Object.getOwnPropertyNames(le)[0]==="5")return!1;for(var ue={},ce=0;ce<10;ce++)ue["_"+String.fromCharCode(ce)]=ce;var he=Object.getOwnPropertyNames(ue).map(function(_e){return ue[_e]});if(he.join("")!=="0123456789")return!1;var de={};return"abcdefghijklmnopqrst".split("").forEach(function(_e){de[_e]=_e}),Object.keys(Object.assign({},de)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return objectAssign$1=ne()?Object.assign:function(le,ue){for(var ce,he=se(le),de,_e=1;_e<arguments.length;_e++){ce=Object(arguments[_e]);for(var fe in ce)ee.call(ce,fe)&&(he[fe]=ce[fe]);if(ie){de=ie(ce);for(var ye=0;ye<de.length;ye++)te.call(ce,de[ye])&&(he[de[ye]]=ce[de[ye]])}}return he},objectAssign$1}var objectAssignExports=requireObjectAssign();const objectAssign=getDefaultExportFromCjs(objectAssignExports);/*!
 * @pixi/polyfill - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global)),globalThis.Promise||(globalThis.Promise=Promise$1),Object.assign||(Object.assign=objectAssign);var ONE_FRAME_TIME=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(globalThis.performance&&globalThis.performance.now)){var startTime_1=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-startTime_1}}for(var lastTime=Date.now(),vendors=["ms","moz","webkit","o"],x$2=0;x$2<vendors.length&&!globalThis.requestAnimationFrame;++x$2){var p$k=vendors[x$2];globalThis.requestAnimationFrame=globalThis[p$k+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[p$k+"CancelAnimationFrame"]||globalThis[p$k+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(ie){if(typeof ie!="function")throw new TypeError(ie+"is not a function");var ee=Date.now(),te=ONE_FRAME_TIME+lastTime-ee;return te<0&&(te=0),lastTime=ee,globalThis.self.setTimeout(function(){lastTime=Date.now(),ie(performance.now())},te)}),globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(ie){return clearTimeout(ie)}),Math.sign||(Math.sign=function(ee){return ee=Number(ee),ee===0||isNaN(ee)?ee:ee>0?1:-1}),Number.isInteger||(Number.isInteger=function(ee){return typeof ee=="number"&&isFinite(ee)&&Math.floor(ee)===ee}),globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array),globalThis.Float32Array||(globalThis.Float32Array=Array),globalThis.Uint32Array||(globalThis.Uint32Array=Array),globalThis.Uint16Array||(globalThis.Uint16Array=Array),globalThis.Uint8Array||(globalThis.Uint8Array=Array),globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/sprite-tiling - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics$1=function(ie,ee){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,se){te.__proto__=se}||function(te,se){for(var ne in se)se.hasOwnProperty(ne)&&(te[ne]=se[ne])},extendStatics$1(ie,ee)};function __extends$1(ie,ee){extendStatics$1(ie,ee);function te(){this.constructor=ie}ie.prototype=ee===null?Object.create(ee):(te.prototype=ee.prototype,new te)}var tempPoint$1=new Point$1,TilingSprite=function(ie){__extends$1(ee,ie);function ee(te,se,ne){se===void 0&&(se=100),ne===void 0&&(ne=100);var le=ie.call(this,te)||this;return le.tileTransform=new Transform,le._width=se,le._height=ne,le.uvMatrix=le.texture.uvMatrix||new TextureMatrix$1(te),le.pluginName="tilingSprite",le.uvRespectAnchor=!1,le}return Object.defineProperty(ee.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(te){this.uvMatrix.clampMargin=te,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(te){this.tileTransform.scale.copyFrom(te)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(te){this.tileTransform.position.copyFrom(te)},enumerable:!1,configurable:!0}),ee.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},ee.prototype._render=function(te){var se=this._texture;!se||!se.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),te.batch.setObjectRenderer(te.plugins[this.pluginName]),te.plugins[this.pluginName].render(this))},ee.prototype._calculateBounds=function(){var te=this._width*-this._anchor._x,se=this._height*-this._anchor._y,ne=this._width*(1-this._anchor._x),le=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,te,se,ne,le)},ee.prototype.getLocalBounds=function(te){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),te||(this._localBoundsRect||(this._localBoundsRect=new Rectangle$1),te=this._localBoundsRect),this._bounds.getRectangle(te)):ie.prototype.getLocalBounds.call(this,te)},ee.prototype.containsPoint=function(te){this.worldTransform.applyInverse(te,tempPoint$1);var se=this._width,ne=this._height,le=-se*this.anchor._x;if(tempPoint$1.x>=le&&tempPoint$1.x<le+se){var ue=-ne*this.anchor._y;if(tempPoint$1.y>=ue&&tempPoint$1.y<ue+ne)return!0}return!1},ee.prototype.destroy=function(te){ie.prototype.destroy.call(this,te),this.tileTransform=null,this.uvMatrix=null},ee.from=function(te,se){var ne=te instanceof Texture$1?te:Texture$1.from(te,se);return new ee(ne,se.width,se.height)},Object.defineProperty(ee.prototype,"width",{get:function(){return this._width},set:function(te){this._width=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"height",{get:function(){return this._height},set:function(te){this._height=te},enumerable:!1,configurable:!0}),ee}(Sprite$1),fragmentSimpleSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,gl1VertexSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl1FragmentSrc=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,gl2VertexSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl2FragmentSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,tempMat$1=new Matrix$1,TilingSpriteRenderer=function(ie){__extends$1(ee,ie);function ee(te){var se=ie.call(this,te)||this;return te.runners.contextChange.add(se),se.quad=new QuadUv,se.state=State$1.for2d(),se}return ee.prototype.contextChange=function(){var te=this.renderer,se={globals:te.globalUniforms};this.simpleShader=Shader$1.from(gl1VertexSrc,fragmentSimpleSrc,se),this.shader=te.context.webGLVersion>1?Shader$1.from(gl2VertexSrc,gl2FragmentSrc,se):Shader$1.from(gl1VertexSrc,gl1FragmentSrc,se)},ee.prototype.render=function(te){var se=this.renderer,ne=this.quad,le=ne.vertices;le[0]=le[6]=te._width*-te.anchor.x,le[1]=le[3]=te._height*-te.anchor.y,le[2]=le[4]=te._width*(1-te.anchor.x),le[5]=le[7]=te._height*(1-te.anchor.y);var ue=te.uvRespectAnchor?te.anchor.x:0,ce=te.uvRespectAnchor?te.anchor.y:0;le=ne.uvs,le[0]=le[6]=-ue,le[1]=le[3]=-ce,le[2]=le[4]=1-ue,le[5]=le[7]=1-ce,ne.invalidate();var he=te._texture,de=he.baseTexture,_e=de.alphaMode>0,fe=te.tileTransform.localTransform,ye=te.uvMatrix,be=de.isPowerOfTwo&&he.frame.width===de.width&&he.frame.height===de.height;be&&(de._glTextures[se.CONTEXT_UID]?be=de.wrapMode!==WRAP_MODES.CLAMP:de.wrapMode===WRAP_MODES.CLAMP&&(de.wrapMode=WRAP_MODES.REPEAT));var Pe=be?this.simpleShader:this.shader,Ne=he.width,we=he.height,De=te._width,$e=te._height;tempMat$1.set(fe.a*Ne/De,fe.b*Ne/$e,fe.c*we/De,fe.d*we/$e,fe.tx/De,fe.ty/$e),tempMat$1.invert(),be?tempMat$1.prepend(ye.mapCoord):(Pe.uniforms.uMapCoord=ye.mapCoord.toArray(!0),Pe.uniforms.uClampFrame=ye.uClampFrame,Pe.uniforms.uClampOffset=ye.uClampOffset),Pe.uniforms.uTransform=tempMat$1.toArray(!0),Pe.uniforms.uColor=premultiplyTintToRgba(te.tint,te.worldAlpha,Pe.uniforms.uColor,_e),Pe.uniforms.translationMatrix=te.transform.worldTransform.toArray(!0),Pe.uniforms.uSampler=he,se.shader.bind(Pe),se.geometry.bind(ne),this.state.blendMode=correctBlendMode(te.blendMode,_e),se.state.set(this.state),se.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},ee.extension={name:"tilingSprite",type:ExtensionType$1.RendererPlugin},ee}(ObjectRenderer);extensions$1.add(BatchRenderer,Extract,TilingSpriteRenderer,InteractionManager,SpritesheetLoader,AppLoaderPlugin,TickerPlugin$1);class ImageResult{constructor(){this.id=0,this.data=null,this.image=null}getImage(){return this.image?this.image:this.data?TextureUtils.generateImage(this.data):null}}const z2=class z2 extends RoomObjectUpdateMessage{constructor(ee){super(null,null),this._type=ee}get type(){return this._type}};z2.IMAGE_LOADED="ROAUM_IMAGE_LOADED",z2.IMAGE_LOADING_FAILED="ROAUM_IMAGE_FAILED";let ObjectAdUpdateMessage=z2;class ObjectStateUpdateMessage extends RoomObjectUpdateMessage{constructor(){super(null,null)}}class ObjectAvatarCarryObjectUpdateMessage extends ObjectStateUpdateMessage{constructor(ee,te){super(),this._itemType=ee,this._itemName=te}get itemType(){return this._itemType}get itemName(){return this._itemName}}class ObjectAvatarChatUpdateMessage extends ObjectStateUpdateMessage{constructor(ee=0){super(),this._numberOfWords=ee}get numberOfWords(){return this._numberOfWords}}class ObjectAvatarDanceUpdateMessage extends ObjectStateUpdateMessage{constructor(ee=0){super(),this._danceStyle=ee}get danceStyle(){return this._danceStyle}}class ObjectAvatarEffectUpdateMessage extends ObjectStateUpdateMessage{constructor(ee,te=0){super(),this._effect=ee,this._delayMilliseconds=te}get effect(){return this._effect}get delayMilliseconds(){return this._delayMilliseconds}}class ObjectAvatarExperienceUpdateMessage extends ObjectStateUpdateMessage{constructor(ee){super(),this._gainedExperience=ee}get gainedExperience(){return this._gainedExperience}}class ObjectAvatarExpressionUpdateMessage extends ObjectStateUpdateMessage{constructor(ee=0){super(),this._expressionType=ee}get expressionType(){return this._expressionType}}class ObjectAvatarFigureUpdateMessage extends ObjectStateUpdateMessage{constructor(ee,te=null,se=null,ne=!1){super(),this._figure=ee,this._gender=te,this._subType=se,this._isRiding=ne}get figure(){return this._figure}get gender(){return this._gender}get subType(){return this._subType}get isRiding(){return this._isRiding}}class ObjectAvatarFlatControlUpdateMessage extends ObjectStateUpdateMessage{constructor(ee=0){super(),this._level=ee}get level(){return this._level}}class ObjectAvatarGestureUpdateMessage extends ObjectStateUpdateMessage{constructor(ee=0){super(),this._gesture=ee}get gesture(){return this._gesture}}class ObjectAvatarGuideStatusUpdateMessage extends ObjectStateUpdateMessage{constructor(ee){super(),this._guideStatus=ee}get guideStatus(){return this._guideStatus}}class ObjectAvatarMutedUpdateMessage extends ObjectStateUpdateMessage{constructor(ee=!1){super(),this._isMuted=ee}get isMuted(){return this._isMuted}}class ObjectAvatarOwnMessage extends ObjectStateUpdateMessage{}class ObjectAvatarPetGestureUpdateMessage extends ObjectStateUpdateMessage{constructor(ee){super(),this._gesture=ee}get gesture(){return this._gesture}}class ObjectAvatarPlayerValueUpdateMessage extends ObjectStateUpdateMessage{constructor(ee){super(),this._value=ee}get value(){return this._value}}class ObjectAvatarPlayingGameUpdateMessage extends ObjectStateUpdateMessage{constructor(ee){super(),this._isPlayingGame=ee}get isPlayingGame(){return this._isPlayingGame}}class ObjectAvatarPostureUpdateMessage extends ObjectStateUpdateMessage{constructor(ee,te=""){super(),this._postureType=ee,this._parameter=te}get postureType(){return this._postureType}get parameter(){return this._parameter}}class ObjectAvatarSelectedMessage extends ObjectStateUpdateMessage{constructor(ee){super(),this._selected=ee}get selected(){return this._selected}}class ObjectAvatarSignUpdateMessage extends ObjectStateUpdateMessage{constructor(ee=0){super(),this._signType=ee}get signType(){return this._signType}}class ObjectAvatarSleepUpdateMessage extends ObjectStateUpdateMessage{constructor(ee=!1){super(),this._isSleeping=ee}get isSleeping(){return this._isSleeping}}class ObjectAvatarTypingUpdateMessage extends ObjectStateUpdateMessage{constructor(ee=!1){super(),this._isTyping=ee}get isTyping(){return this._isTyping}}class ObjectMoveUpdateMessage extends RoomObjectUpdateMessage{constructor(ee,te,se,ne=!1){super(ee,se),this._targetLocation=te,this._isSlide=ne}get targetLocation(){return this._targetLocation?this._targetLocation:this.location}get isSlide(){return this._isSlide}}class ObjectAvatarUpdateMessage extends ObjectMoveUpdateMessage{constructor(ee,te,se,ne,le,ue){super(ee,te,se),this._headDirection=ne,this._canStandUp=le,this._baseY=ue}get headDirection(){return this._headDirection}get canStandUp(){return this._canStandUp}get baseY(){return this._baseY}}class ObjectAvatarUseObjectUpdateMessage extends ObjectStateUpdateMessage{constructor(ee){super(),this._itemType=ee}get itemType(){return this._itemType}}class ObjectDataUpdateMessage extends RoomObjectUpdateMessage{constructor(ee,te,se=null){super(null,null),this._state=ee,this._data=te,this._extra=se}get state(){return this._state}get data(){return this._data}get extra(){return this._extra}}const FF=class FF extends RoomObjectUpdateMessage{constructor(ee,te){super(null,null),this._badgeId=ee,this._assetName=te}get badgeId(){return this._badgeId}get assetName(){return this._assetName}};FF.BADGE_LOADED="ROGBUM_BADGE_LOADED";let ObjectGroupBadgeUpdateMessage=FF;class ObjectHeightUpdateMessage extends RoomObjectUpdateMessage{constructor(ee,te,se){super(ee,te),this._height=se}get height(){return this._height}}class ObjectItemDataUpdateMessage extends RoomObjectUpdateMessage{constructor(ee){super(null,null),this._data=ee}get data(){return this._data}}class ObjectModelDataUpdateMessage extends RoomObjectUpdateMessage{constructor(ee,te){super(null,null),this._numberKey=ee,this._numberValue=te}get numberKey(){return this._numberKey}get numberValue(){return this._numberValue}}const BF=class BF extends RoomObjectUpdateMessage{constructor(ee,te,se,ne){super(null,null),this._type=ee,this._color=te,this._light=se,this._backgroundOnly=ne}get type(){return this._type}get color(){return this._color}get light(){return this._light}get backgroundOnly(){return this._backgroundOnly}};BF.BACKGROUND_COLOR="RORCUM_BACKGROUND_COLOR";let ObjectRoomColorUpdateMessage=BF;const W2=class W2 extends RoomObjectUpdateMessage{constructor(ee,te,se=0,ne=0,le=0,ue=0){super(null,null),this._type=ee,this._id=te,this._x=se,this._y=ne,this._width=le,this._height=ue}get type(){return this._type}get id(){return this._id}get x(){return this._x}get y(){return this._y}get width(){return this._width}get height(){return this._height}};W2.ADD="ORPFHUM_ADD",W2.REMOVE="ORPFHUM_REMOVE";let ObjectRoomFloorHoleUpdateMessage=W2;const Y2=class Y2 extends RoomObjectUpdateMessage{constructor(ee){super(null,null),this._type=Y2.UPDATE_MAP,this._mapData=ee}get type(){return this._type}get mapData(){return this._mapData}};Y2.UPDATE_MAP="RORMUM_UPDATE_MAP";let ObjectRoomMapUpdateMessage=Y2;const IP=class IP extends RoomObjectUpdateMessage{constructor(ee,te,se=null,ne=null,le="window"){super(null,null),this._type=ee,this._maskId=te,this._maskType=se,this._maskLocation=ne?new Vector3d(ne.x,ne.y,ne.z):null,this._maskCategory=le}get type(){return this._type}get maskId(){return this._maskId}get maskType(){return this._maskType}get maskLocation(){return this._maskLocation}get maskCategory(){return this._maskCategory}};IP.ADD_MASK="RORMUM_ADD_MASK",IP.REMOVE_MASK="RORMUM_ADD_MASK",IP.DOOR="door",IP.WINDOW="window",IP.HOLE="hole";let ObjectRoomMaskUpdateMessage=IP;const q2=class q2 extends RoomObjectUpdateMessage{constructor(ee,te){super(null,null),this._type=ee,this._value=te}get type(){return this._type}get value(){return this._value}};q2.WALL_THICKNESS="RORPPUM_WALL_THICKNESS",q2.FLOOR_THICKNESS="RORPVUM_FLOOR_THICKNESS";let ObjectRoomPlanePropertyUpdateMessage=q2;const X2=class X2 extends RoomObjectUpdateMessage{constructor(ee,te){super(null,null),this._type=ee,this._visible=te}get type(){return this._type}get visible(){return this._visible}};X2.WALL_VISIBILITY="RORPVUM_WALL_VISIBILITY",X2.FLOOR_VISIBILITY="RORPVUM_FLOOR_VISIBILITY";let ObjectRoomPlaneVisibilityUpdateMessage=X2;const GD=class GD extends RoomObjectUpdateMessage{constructor(ee,te){super(null,null),this._type=ee,this._value=te}get type(){return this._type}get value(){return this._value}};GD.ROOM_WALL_UPDATE="RORUM_ROOM_WALL_UPDATE",GD.ROOM_FLOOR_UPDATE="RORUM_ROOM_FLOOR_UPDATE",GD.ROOM_LANDSCAPE_UPDATE="RORUM_ROOM_LANDSCAPE_UPDATE";let ObjectRoomUpdateMessage=GD;class ObjectSelectedMessage extends ObjectStateUpdateMessage{constructor(ee){super(),this._selected=ee}get selected(){return this._selected}}class ObjectTileCursorUpdateMessage extends RoomObjectUpdateMessage{constructor(ee,te,se,ne,le=!1){super(ee,null),this._height=te,this._visible=se,this._sourceEventId=ne,this._toggleVisibility=le}get height(){return this._height}get visible(){return this._visible}get sourceEventId(){return this._sourceEventId}get toggleVisibility(){return this._toggleVisibility}}const K2=class K2 extends RoomObjectUpdateMessage{constructor(ee){super(null,null),this._type=ee}get type(){return this._type}};K2.ENABLED="ROVUM_ENABLED",K2.DISABLED="ROVUM_DISABLED";let ObjectVisibilityUpdateMessage=K2;const IN=class IN extends RoomObjectLogicBase{constructor(){super(),this._liftAmount=0,this._location=new Vector3d,this._locationDelta=new Vector3d,this._lastUpdateTime=0,this._changeTime=0,this._updateInterval=IN.DEFAULT_UPDATE_INTERVAL}onDispose(){this._liftAmount=0,super.onDispose()}update(ee){super.update(ee);const te=this.getLocationOffset(),se=this.object&&this.object.model;if(se&&(te?this._liftAmount!==te.z&&(this._liftAmount=te.z,se.setValue(RoomObjectVariable.FURNITURE_LIFT_AMOUNT,this._liftAmount)):this._liftAmount!==0&&(this._liftAmount=0,se.setValue(RoomObjectVariable.FURNITURE_LIFT_AMOUNT,this._liftAmount))),this._locationDelta.length>0||te){const ne=IN.TEMP_VECTOR;let le=this.time-this._changeTime;le===this._updateInterval>>1&&le++,le>this._updateInterval&&(le=this._updateInterval),this._locationDelta.length>0?(ne.assign(this._locationDelta),ne.multiply(le/this._updateInterval),ne.add(this._location)):ne.assign(this._location),te&&ne.add(te),this.object.setLocation(ne),le===this._updateInterval&&(this._locationDelta.x=0,this._locationDelta.y=0,this._locationDelta.z=0)}this._lastUpdateTime=this.time}setObject(ee){super.setObject(ee),ee&&this._location.assign(ee.getLocation())}processUpdateMessage(ee){if(ee&&(super.processUpdateMessage(ee),ee.location&&this._location.assign(ee.location),ee instanceof ObjectMoveUpdateMessage))return this.processMoveMessage(ee)}processMoveMessage(ee){!ee||!this.object||!ee.location||(this._changeTime=this._lastUpdateTime,this._locationDelta.assign(ee.targetLocation),this._locationDelta.subtract(this._location))}getLocationOffset(){return null}get lastUpdateTime(){return this._lastUpdateTime}set updateInterval(ee){ee<=0&&(ee=1),this._updateInterval=ee}};IN.DEFAULT_UPDATE_INTERVAL=500,IN.TEMP_VECTOR=new Vector3d;let MovingObjectLogic=IN;const oT=class oT extends MovingObjectLogic{constructor(){super(),this._selected=!1,this._reportedLocation=null,this._effectChangeTimeStamp=0,this._newEffect=0,this._blinkingStartTimestamp=GetTickerTime()+this.randomBlinkStartTimestamp(),this._blinkingEndTimestamp=0,this._talkingEndTimestamp=0,this._talkingPauseStartTimestamp=0,this._talkingPauseEndTimestamp=0,this._carryObjectStartTimestamp=0,this._carryObjectEndTimestamp=0,this._allowUseCarryObject=!1,this._animationEndTimestamp=0,this._signEndTimestamp=0,this._gestureEndTimestamp=0,this._numberValueEndTimestamp=0}getEventTypes(){const ee=[RoomObjectMouseEvent.CLICK,RoomObjectMouseEvent.DOUBLE_CLICK,RoomObjectMoveEvent.POSITION_CHANGED,RoomObjectMouseEvent.MOUSE_ENTER,RoomObjectMouseEvent.MOUSE_LEAVE,RoomObjectFurnitureActionEvent.MOUSE_BUTTON,RoomObjectFurnitureActionEvent.MOUSE_ARROW];return this.mergeTypes(super.getEventTypes(),ee)}dispose(){this._selected&&this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectMoveEvent(RoomObjectMoveEvent.OBJECT_REMOVED,this.object)),super.dispose(),this._reportedLocation=null}update(ee){if(super.update(ee),this._selected&&this.object&&this.eventDispatcher){const se=this.object.getLocation();(!this._reportedLocation||this._reportedLocation.x!==se.x||this._reportedLocation.y!==se.y||this._reportedLocation.z!==se.z)&&(this._reportedLocation||(this._reportedLocation=new Vector3d),this._reportedLocation.assign(se),this.eventDispatcher.dispatchEvent(new RoomObjectMoveEvent(RoomObjectMoveEvent.POSITION_CHANGED,this.object)))}const te=this.object&&this.object.model;te&&this.updateModel(this.time,te)}updateModel(ee,te){this._talkingEndTimestamp>0&&(ee>this._talkingEndTimestamp?(te.setValue(RoomObjectVariable.FIGURE_TALK,0),this._talkingEndTimestamp=0,this._talkingPauseStartTimestamp=0,this._talkingPauseEndTimestamp=0):!this._talkingPauseEndTimestamp&&!this._talkingPauseStartTimestamp?(this._talkingPauseStartTimestamp=ee+this.randomTalkingPauseStartTimestamp(),this._talkingPauseEndTimestamp=this._talkingPauseStartTimestamp+this.randomTalkingPauseEndTimestamp()):this._talkingPauseStartTimestamp>0&&ee>this._talkingPauseStartTimestamp?(te.setValue(RoomObjectVariable.FIGURE_TALK,0),this._talkingPauseStartTimestamp=0):this._talkingPauseEndTimestamp>0&&ee>this._talkingPauseEndTimestamp&&(te.setValue(RoomObjectVariable.FIGURE_TALK,1),this._talkingPauseEndTimestamp=0)),this._animationEndTimestamp>0&&ee>this._animationEndTimestamp&&(te.setValue(RoomObjectVariable.FIGURE_EXPRESSION,0),this._animationEndTimestamp=0),this._gestureEndTimestamp>0&&ee>this._gestureEndTimestamp&&(te.setValue(RoomObjectVariable.FIGURE_GESTURE,0),this._gestureEndTimestamp=0),this._signEndTimestamp>0&&ee>this._signEndTimestamp&&(te.setValue(RoomObjectVariable.FIGURE_SIGN,-1),this._signEndTimestamp=0),this._carryObjectEndTimestamp>0&&ee>this._carryObjectEndTimestamp&&(te.setValue(RoomObjectVariable.FIGURE_CARRY_OBJECT,0),te.setValue(RoomObjectVariable.FIGURE_USE_OBJECT,0),this._carryObjectStartTimestamp=0,this._carryObjectEndTimestamp=0,this._allowUseCarryObject=!1),this._allowUseCarryObject&&ee-this._carryObjectStartTimestamp>5e3&&((ee-this._carryObjectStartTimestamp)%1e4<1e3?te.setValue(RoomObjectVariable.FIGURE_USE_OBJECT,1):te.setValue(RoomObjectVariable.FIGURE_USE_OBJECT,0)),this._blinkingStartTimestamp>-1&&ee>this._blinkingStartTimestamp&&(te.setValue(RoomObjectVariable.FIGURE_BLINK,1),this._blinkingStartTimestamp=ee+this.randomBlinkStartTimestamp(),this._blinkingEndTimestamp=ee+this.randomBlinkEndTimestamp()),this._blinkingEndTimestamp>0&&ee>this._blinkingEndTimestamp&&(te.setValue(RoomObjectVariable.FIGURE_BLINK,0),this._blinkingEndTimestamp=0),this._effectChangeTimeStamp>0&&ee>this._effectChangeTimeStamp&&(te.setValue(RoomObjectVariable.FIGURE_EFFECT,this._newEffect),this._effectChangeTimeStamp=0),this._numberValueEndTimestamp>0&&ee>this._numberValueEndTimestamp&&(te.setValue(RoomObjectVariable.FIGURE_NUMBER_VALUE,0),this._numberValueEndTimestamp=0)}processUpdateMessage(ee){if(!ee||!this.object)return;super.processUpdateMessage(ee);const te=this.object&&this.object.model;if(te){if(ee instanceof ObjectAvatarPostureUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_POSTURE,ee.postureType),te.setValue(RoomObjectVariable.FIGURE_POSTURE_PARAMETER,ee.parameter);return}if(ee instanceof ObjectAvatarChatUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_TALK,1),this._talkingEndTimestamp=this.time+ee.numberOfWords*1e3;return}if(ee instanceof ObjectAvatarTypingUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_IS_TYPING,ee.isTyping?1:0);return}if(ee instanceof ObjectAvatarMutedUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_IS_MUTED,ee.isMuted?1:0);return}if(ee instanceof ObjectAvatarPlayingGameUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_IS_PLAYING_GAME,ee.isPlayingGame?1:0);return}if(ee instanceof ObjectAvatarUpdateMessage){te.setValue(RoomObjectVariable.HEAD_DIRECTION,ee.headDirection),te.setValue(RoomObjectVariable.FIGURE_CAN_STAND_UP,ee.canStandUp),te.setValue(RoomObjectVariable.FIGURE_VERTICAL_OFFSET,ee.baseY);return}if(ee instanceof ObjectAvatarGestureUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_GESTURE,ee.gesture),this._gestureEndTimestamp=this.time+3e3;return}if(ee instanceof ObjectAvatarExpressionUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_EXPRESSION,ee.expressionType),this._animationEndTimestamp=AvatarAction.getExpressionTimeout(te.getValue(RoomObjectVariable.FIGURE_EXPRESSION)),this._animationEndTimestamp>-1&&(this._animationEndTimestamp+=this.time);return}if(ee instanceof ObjectAvatarDanceUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_DANCE,ee.danceStyle);return}if(ee instanceof ObjectAvatarSleepUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_SLEEP,ee.isSleeping?1:0),ee.isSleeping?this._blinkingStartTimestamp=-1:this._blinkingStartTimestamp=this.time+this.randomBlinkStartTimestamp();return}if(ee instanceof ObjectAvatarPlayerValueUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_NUMBER_VALUE,ee.value),this._numberValueEndTimestamp=this.time+3e3;return}if(ee instanceof ObjectAvatarEffectUpdateMessage){this.updateAvatarEffect(ee.effect,ee.delayMilliseconds,te);return}if(ee instanceof ObjectAvatarCarryObjectUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_CARRY_OBJECT,ee.itemType),te.setValue(RoomObjectVariable.FIGURE_USE_OBJECT,0),ee.itemType===0?(this._carryObjectStartTimestamp=0,this._carryObjectEndTimestamp=0,this._allowUseCarryObject=!1):(this._carryObjectStartTimestamp=this.time,ee.itemType<oT.MAX_HAND_ID?(this._carryObjectEndTimestamp=0,this._allowUseCarryObject=ee.itemType<=oT.MAX_HAND_USE_ID):(this._carryObjectEndTimestamp=this._carryObjectStartTimestamp+1500,this._allowUseCarryObject=!1));return}if(ee instanceof ObjectAvatarUseObjectUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_USE_OBJECT,ee.itemType);return}if(ee instanceof ObjectAvatarSignUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_SIGN,ee.signType),this._signEndTimestamp=this.time+5e3;return}if(ee instanceof ObjectAvatarFlatControlUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_FLAT_CONTROL,ee.level);return}if(ee instanceof ObjectAvatarFigureUpdateMessage){te.setValue(RoomObjectVariable.FIGURE,ee.figure),te.setValue(RoomObjectVariable.GENDER,ee.gender);return}if(ee instanceof ObjectAvatarSelectedMessage){this._selected=ee.selected,this._reportedLocation=null;return}if(ee instanceof ObjectAvatarOwnMessage){te.setValue(RoomObjectVariable.OWN_USER,1);return}}}updateAvatarEffect(ee,te,se){if(ee===oT.EFFECT_TYPE_SPLASH)this._effectChangeTimeStamp=GetTickerTime()+oT.EFFECT_SPLASH_LENGTH,this._newEffect=oT.EFFECT_TYPE_SWIM;else if(ee===oT.EFFECT_TYPE_SPLASH_DARK)this._effectChangeTimeStamp=GetTickerTime()+oT.EFFECT_SPLASH_LENGTH,this._newEffect=oT.EFFECT_TYPE_SWIM_DARK;else if(se.getValue(RoomObjectVariable.FIGURE_EFFECT)===oT.EFFECT_TYPE_SWIM)this._effectChangeTimeStamp=GetTickerTime()+oT.EFFECT_SPLASH_LENGTH,this._newEffect=ee,ee=oT.EFFECT_TYPE_SPLASH;else if(se.getValue(RoomObjectVariable.FIGURE_EFFECT)===oT.EFFECT_TYPE_SWIM_DARK)this._effectChangeTimeStamp=GetTickerTime()+oT.EFFECT_SPLASH_LENGTH,this._newEffect=ee,ee=oT.EFFECT_TYPE_SPLASH_DARK;else if(te===0)this._effectChangeTimeStamp=0;else{this._effectChangeTimeStamp=GetTickerTime()+te,this._newEffect=ee;return}se.setValue(RoomObjectVariable.FIGURE_EFFECT,ee)}mouseEvent(ee,te){let se=null;switch(ee.type){case MouseEventType.MOUSE_CLICK:se=RoomObjectMouseEvent.CLICK;break;case MouseEventType.DOUBLE_CLICK:se=RoomObjectMouseEvent.DOUBLE_CLICK;break;case MouseEventType.ROLL_OVER:se=RoomObjectMouseEvent.MOUSE_ENTER,this.object.model&&this.object.model.setValue(RoomObjectVariable.FIGURE_HIGHLIGHT,1),this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.MOUSE_BUTTON,this.object));break;case MouseEventType.ROLL_OUT:se=RoomObjectMouseEvent.MOUSE_LEAVE,this.object.model&&this.object.model.setValue(RoomObjectVariable.FIGURE_HIGHLIGHT,0),this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.MOUSE_ARROW,this.object));break}se&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectMouseEvent(se,this.object,ee.eventId,ee.altKey,ee.ctrlKey,ee.shiftKey,ee.buttonDown))}randomTalkingPauseStartTimestamp(){return 100+Math.random()*200}randomTalkingPauseEndTimestamp(){return 75+Math.random()*75}randomBlinkStartTimestamp(){return 4500+Math.random()*1e3}randomBlinkEndTimestamp(){return 50+Math.random()*200}};oT.MAX_HAND_ID=999999999,oT.MAX_HAND_USE_ID=999,oT.EFFECT_TYPE_SPLASH=28,oT.EFFECT_SPLASH_LENGTH=500,oT.EFFECT_TYPE_SWIM=29,oT.EFFECT_TYPE_SPLASH_DARK=184,oT.EFFECT_TYPE_SWIM_DARK=185;let AvatarLogic=oT;const cI=class cI extends MovingObjectLogic{constructor(){super(),this._sizeX=0,this._sizeY=0,this._sizeZ=0,this._centerX=0,this._centerY=0,this._centerZ=0,this._directions=[],this._mouseOver=!1,this._locationOffset=new Vector3d,this._bouncingStep=0,this._storedRotateMessage=null,this._directionInitialized=!1,cI.BOUNCING_STEPS===-1&&(cI.BOUNCING_STEPS=NitroConfiguration.getValue("furni.rotation.bounce.steps",8)),cI.BOUNCING_Z===-1&&(cI.BOUNCING_Z=NitroConfiguration.getValue("furni.rotation.bounce.height",.0625))}getEventTypes(){const ee=[RoomObjectStateChangedEvent.STATE_CHANGE,RoomObjectMouseEvent.CLICK,RoomObjectMouseEvent.MOUSE_DOWN,RoomObjectMouseEvent.MOUSE_DOWN_LONG,RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_SHOW,RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_HIDE,RoomObjectRoomAdEvent.ROOM_AD_FURNI_DOUBLE_CLICK,RoomObjectRoomAdEvent.ROOM_AD_FURNI_CLICK];return this.widget&&ee.push(RoomObjectWidgetRequestEvent.OPEN_WIDGET,RoomObjectWidgetRequestEvent.CLOSE_WIDGET),this.contextMenu&&ee.push(RoomObjectWidgetRequestEvent.OPEN_FURNI_CONTEXT_MENU,RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU),this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){if(!ee)return;const te=this.object&&this.object.model;if(te){if(ee.logic){if(ee.logic.model){const se=ee.logic.model.dimensions;se&&(this._sizeX=se.x,this._sizeY=se.y,this._sizeZ=se.z,this._centerX=this._sizeX/2,this._centerY=this._sizeY/2,this._centerZ=this._sizeZ/2);const ne=ee.logic.model.directions;if(ne&&ne.length){for(const le of ne)this._directions.push(le);this._directions.sort((le,ue)=>le-ue)}}if(ee.logic.customVars){const se=ee.logic.customVars.variables;se&&se.length&&te.setValue(RoomObjectVariable.FURNITURE_CUSTOM_VARIABLES,se)}}te.setValue(RoomObjectVariable.FURNITURE_SIZE_X,this._sizeX),te.setValue(RoomObjectVariable.FURNITURE_SIZE_Y,this._sizeY),te.setValue(RoomObjectVariable.FURNITURE_SIZE_Z,this._sizeZ),te.setValue(RoomObjectVariable.FURNITURE_CENTER_X,this._centerX),te.setValue(RoomObjectVariable.FURNITURE_CENTER_Y,this._centerY),te.setValue(RoomObjectVariable.FURNITURE_CENTER_Z,this._centerZ),te.setValue(RoomObjectVariable.FURNITURE_ALLOWED_DIRECTIONS,this._directions),te.setValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER,1)}}onDispose(){this._storedRotateMessage=null,this._directions=null,super.onDispose()}setObject(ee){super.setObject(ee),ee&&ee.getLocation().length&&(this._directionInitialized=!0)}getAdClickUrl(ee){return ee.getValue(RoomObjectVariable.FURNITURE_AD_URL)}handleAdClick(ee,te,se){this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectRoomAdEvent(RoomObjectRoomAdEvent.ROOM_AD_FURNI_CLICK,this.object))}update(ee){super.update(ee),this._bouncingStep>0&&(this._bouncingStep++,this._bouncingStep>cI.BOUNCING_STEPS&&(this._bouncingStep=0))}processUpdateMessage(ee){if(ee instanceof ObjectDataUpdateMessage){this.processDataUpdateMessage(ee);return}if(ee instanceof ObjectHeightUpdateMessage){this.processObjectHeightUpdateMessage(ee);return}if(ee instanceof ObjectItemDataUpdateMessage){this.processItemDataUpdateMessage(ee);return}if(this._mouseOver=!1,ee.location&&ee.direction){if(!(ee instanceof ObjectMoveUpdateMessage)){const te=this.object.getDirection(),se=this.object.getLocation();te.x!==ee.direction.x&&this._directionInitialized&&se.x===ee.location.x&&se.y===ee.location.y&&se.z===ee.location.z&&(this._bouncingStep=1,this._storedRotateMessage=new RoomObjectUpdateMessage(ee.location,ee.direction),ee=null)}this._directionInitialized=!0}if(ee instanceof ObjectSelectedMessage&&this.contextMenu&&this.eventDispatcher&&this.object){const te=ee.selected?RoomObjectWidgetRequestEvent.OPEN_FURNI_CONTEXT_MENU:RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(te,this.object))}super.processUpdateMessage(ee)}processDataUpdateMessage(ee){ee&&(this.object.setState(ee.state,0),ee.data&&ee.data.writeRoomObjectModel(this.object.model),ee.extra!==null&&this.object.model.setValue(RoomObjectVariable.FURNITURE_EXTRAS,ee.extra.toString()),this.object.model.setValue(RoomObjectVariable.FURNITURE_STATE_UPDATE_TIME,this.lastUpdateTime))}processObjectHeightUpdateMessage(ee){ee&&this.object.model.setValue(RoomObjectVariable.FURNITURE_SIZE_Z,ee.height)}processItemDataUpdateMessage(ee){ee&&this.object.model.setValue(RoomObjectVariable.FURNITURE_ITEMDATA,ee.data)}mouseEvent(ee,te){const se=this.getAdClickUrl(this.object.model);switch(ee.type){case MouseEventType.MOUSE_MOVE:if(this.eventDispatcher){const ne=new RoomObjectMouseEvent(RoomObjectMouseEvent.MOUSE_MOVE,this.object,ee.eventId,ee.altKey,ee.ctrlKey,ee.shiftKey,ee.buttonDown);ne.localX=ee.localX,ne.localY=ee.localY,ne.spriteOffsetX=ee.spriteOffsetX,ne.spriteOffsetY=ee.spriteOffsetY,this.eventDispatcher.dispatchEvent(ne)}return;case MouseEventType.ROLL_OVER:if(!this._mouseOver){if(this.eventDispatcher){se&&se.indexOf("http")===0&&this.eventDispatcher.dispatchEvent(new RoomObjectRoomAdEvent(RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_SHOW,this.object));const ne=new RoomObjectMouseEvent(RoomObjectMouseEvent.MOUSE_ENTER,this.object,ee.eventId,ee.altKey,ee.ctrlKey,ee.shiftKey,ee.buttonDown);ne.localX=ee.localX,ne.localY=ee.localY,ne.spriteOffsetX=ee.spriteOffsetX,ne.spriteOffsetY=ee.spriteOffsetY,this.eventDispatcher.dispatchEvent(ne)}this._mouseOver=!0}return;case MouseEventType.ROLL_OUT:if(this._mouseOver){if(this.eventDispatcher){se&&se.indexOf("http")===0&&this.eventDispatcher.dispatchEvent(new RoomObjectRoomAdEvent(RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_HIDE,this.object));const ne=new RoomObjectMouseEvent(RoomObjectMouseEvent.MOUSE_LEAVE,this.object,ee.eventId,ee.altKey,ee.ctrlKey,ee.shiftKey,ee.buttonDown);ne.localX=ee.localX,ne.localY=ee.localY,ne.spriteOffsetX=ee.spriteOffsetX,ne.spriteOffsetY=ee.spriteOffsetY,this.eventDispatcher.dispatchEvent(ne)}this._mouseOver=!1}return;case MouseEventType.DOUBLE_CLICK:this.useObject();return;case MouseEventType.MOUSE_CLICK:if(this.eventDispatcher){const ne=new RoomObjectMouseEvent(RoomObjectMouseEvent.CLICK,this.object,ee.eventId,ee.altKey,ee.ctrlKey,ee.shiftKey,ee.buttonDown);ne.localX=ee.localX,ne.localY=ee.localY,ne.spriteOffsetX=ee.spriteOffsetX,ne.spriteOffsetY=ee.spriteOffsetY,this.eventDispatcher.dispatchEvent(ne),se&&se.indexOf("http")===0&&this.eventDispatcher.dispatchEvent(new RoomObjectRoomAdEvent(RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_HIDE,this.object)),se&&se.length&&this.handleAdClick(this.object.id,this.object.type,se)}return;case MouseEventType.MOUSE_DOWN:if(this.eventDispatcher){const ne=new RoomObjectMouseEvent(RoomObjectMouseEvent.MOUSE_DOWN,this.object,ee.eventId,ee.altKey,ee.ctrlKey,ee.shiftKey,ee.buttonDown);this.eventDispatcher.dispatchEvent(ne)}return;case MouseEventType.MOUSE_DOWN_LONG:if(this.eventDispatcher){const ne=new RoomObjectMouseEvent(RoomObjectMouseEvent.MOUSE_DOWN_LONG,this.object,ee.eventId,ee.altKey,ee.ctrlKey,ee.shiftKey,ee.buttonDown);this.eventDispatcher.dispatchEvent(ne)}return}}getLocationOffset(){return this._bouncingStep<=0?null:(this._locationOffset.x=0,this._locationOffset.y=0,this._bouncingStep<=cI.BOUNCING_STEPS/2?this._locationOffset.z=cI.BOUNCING_Z*this._bouncingStep:this._bouncingStep<=cI.BOUNCING_STEPS&&(this._storedRotateMessage&&(super.processUpdateMessage(this._storedRotateMessage),this._storedRotateMessage=null),this._locationOffset.z=cI.BOUNCING_Z*(cI.BOUNCING_STEPS-this._bouncingStep)),this._locationOffset)}useObject(){if(!this.object||!this.eventDispatcher)return;const ee=this.getAdClickUrl(this.object.model);ee&&ee.length&&this.eventDispatcher.dispatchEvent(new RoomObjectRoomAdEvent(RoomObjectRoomAdEvent.ROOM_AD_FURNI_DOUBLE_CLICK,this.object,null,ee)),this.widget&&this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.OPEN_WIDGET,this.object)),this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object))}tearDown(){this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&(this.widget&&this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.CLOSE_WIDGET,this.object)),this.contextMenu&&this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU,this.object))),super.tearDown()}};cI.BOUNCING_STEPS=-1,cI.BOUNCING_Z=-1;let FurnitureLogic=cI;class FurnitureBadgeDisplayLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.BADGE_DISPLAY_ENGRAVING,RoomObjectBadgeAssetEvent.LOAD_BADGE];return this.mergeTypes(super.getEventTypes(),ee)}processUpdateMessage(ee){if(super.processUpdateMessage(ee),!!this.object){if(ee instanceof ObjectDataUpdateMessage){const te=ee.data;te instanceof StringDataType&&this.updateBadge(te.getValue(1));return}if(ee instanceof ObjectGroupBadgeUpdateMessage){ee.assetName!=="loading_icon"&&(this.object.model.setValue(RoomObjectVariable.FURNITURE_BADGE_ASSET_NAME,ee.assetName),this.object.model.setValue(RoomObjectVariable.FURNITURE_BADGE_IMAGE_STATUS,1),this.update(GetTickerTime()));return}}}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.BADGE_DISPLAY_ENGRAVING,this.object))}updateBadge(ee){ee!==""&&this.eventDispatcher&&(this.object.model.setValue(RoomObjectVariable.FURNITURE_BADGE_IMAGE_STATUS,-1),this.eventDispatcher.dispatchEvent(new RoomObjectBadgeAssetEvent(RoomObjectBadgeAssetEvent.LOAD_BADGE,this.object,ee,!1)))}}const hI=class hI extends FurnitureBadgeDisplayLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_OPEN,RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_ENGRAVING,RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_FAILED,RoomObjectBadgeAssetEvent.LOAD_BADGE];return this.mergeTypes(super.getEventTypes(),ee)}processUpdateMessage(ee){if(super.processUpdateMessage(ee),ee instanceof ObjectGroupBadgeUpdateMessage&&ee.assetName!=="loading_icon"&&this.object.model.setValue(RoomObjectVariable.FURNITURE_BADGE_VISIBLE_IN_STATE,hI.BADGE_VISIBLE_IN_STATE),ee instanceof ObjectSelectedMessage){if(!this.eventDispatcher||!this.object)return;this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU,this.object))}}useObject(){if(!this.object||!this.eventDispatcher)return;let ee=null;switch(this.object.getState(0)){case hI.STATE_RESOLUTION_NOT_STARTED:case hI.STATE_RESOLUTION_IN_PROGRESS:ee=new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_OPEN,this.object);break;case hI.STATE_RESOLUTION_ACHIEVED:ee=new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_ENGRAVING,this.object);break;case hI.STATE_RESOLUTION_FAILED:ee=new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_FAILED,this.object);break}ee&&this.eventDispatcher.dispatchEvent(ee)}updateBadge(ee){ee!==hI.ACH_NOT_SET&&super.updateBadge(ee)}};hI.STATE_RESOLUTION_NOT_STARTED=0,hI.STATE_RESOLUTION_IN_PROGRESS=1,hI.STATE_RESOLUTION_ACHIEVED=2,hI.STATE_RESOLUTION_FAILED=3,hI.ACH_NOT_SET="ach_0",hI.BADGE_VISIBLE_IN_STATE=2;let FurnitureAchievementResolutionLogic=hI;class FurnitureChangeStateWhenStepOnLogic extends FurnitureLogic{constructor(){super(),this.onRoomToObjectOwnAvatarMoveEvent=this.onRoomToObjectOwnAvatarMoveEvent.bind(this)}initialize(ee){super.initialize(ee),this.eventDispatcher&&this.eventDispatcher.addEventListener(RoomToObjectOwnAvatarMoveEvent.ROAME_MOVE_TO,this.onRoomToObjectOwnAvatarMoveEvent)}tearDown(){this.eventDispatcher&&this.eventDispatcher.removeEventListener(RoomToObjectOwnAvatarMoveEvent.ROAME_MOVE_TO,this.onRoomToObjectOwnAvatarMoveEvent),super.tearDown()}onRoomToObjectOwnAvatarMoveEvent(ee){if(!ee||!this.object)return;const te=this.object.getLocation(),se=ee.targetLocation;if(!se)return;let ne=this.object.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X),le=this.object.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);const ue=(Math.floor(this.object.getDirection().x)+45)%360/90;(ue===1||ue===3)&&([ne,le]=[le,ne]),se.x>=te.x&&se.x<te.x+ne&&se.y>=te.y&&se.y<te.y+le?this.object.setState(1,0):this.object.setState(0,0)}}class FurnitureClothingChangeLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.CLOTHING_CHANGE];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){super.initialize(ee);const te=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA);this.updateClothingData(te)}processUpdateMessage(ee){super.processUpdateMessage(ee),ee instanceof ObjectDataUpdateMessage&&ee.data&&this.updateClothingData(ee.data.getLegacyString())}updateClothingData(ee){if(!ee||!ee.length)return;const[te,se]=ee.split(",");te&&te.length&&this.object.model.setValue(RoomObjectVariable.FURNITURE_CLOTHING_BOY,te),se&&se.length&&this.object.model.setValue(RoomObjectVariable.FURNITURE_CLOTHING_GIRL,se)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.CLOTHING_CHANGE,this.object))}}class FurnitureCounterClockLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectStateChangedEvent.STATE_CHANGE];return this.mergeTypes(super.getEventTypes(),ee)}mouseEvent(ee,te){if(!ee||!te||!this.object)return;let se=null;switch(ee.type){case MouseEventType.DOUBLE_CLICK:switch(ee.spriteTag){case"start_stop":se=new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object,1);break;case"reset":se=new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object,2);break}if(this.eventDispatcher&&se){this.eventDispatcher.dispatchEvent(se);return}break}super.mouseEvent(ee,te)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object,1))}}class FurnitureCrackableLogic extends FurnitureLogic{processUpdateMessage(ee){super.processUpdateMessage(ee),this.object&&this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.CRACKABLE_FURNI)}}class FurnitureCraftingGizmoLogic extends FurnitureLogic{get widget(){return RoomWidgetEnum.CRAFTING}}class FurnitureCreditLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.CREDITFURNI];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){super.initialize(ee);let te=0;ee.logic&&ee.logic.credits&&ee.logic.credits!==""&&ee.logic.credits.length>0&&(te=parseInt(ee.logic.credits)),this.object.model.setValue(RoomObjectVariable.FURNITURE_CREDIT_VALUE,te)}useObject(){!this.object||!this.eventDispatcher||(this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.CREDITFURNI,this.object)),super.useObject())}}class FurnitureMultiStateLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectFurnitureActionEvent.MOUSE_BUTTON,RoomObjectFurnitureActionEvent.MOUSE_ARROW];return this.mergeTypes(super.getEventTypes(),ee)}mouseEvent(ee,te){if(!(!ee||!te||!this.object)){switch(ee.type){case MouseEventType.ROLL_OVER:this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.MOUSE_BUTTON,this.object));break;case MouseEventType.ROLL_OUT:this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.MOUSE_ARROW,this.object));break}super.mouseEvent(ee,te)}}}class FurnitureCuckooClockLogic extends FurnitureMultiStateLogic{constructor(){super(...arguments),this._state=1}getEventTypes(){const ee=[RoomObjectPlaySoundIdEvent.PLAY_SOUND_AT_PITCH];return this.mergeTypes(super.getEventTypes(),ee)}processUpdateMessage(ee){super.processUpdateMessage(ee),ee instanceof ObjectDataUpdateMessage&&(this._state!==-1&&ee.state!==this._state&&this.dispatchSoundEvent(this.object.location.z),this._state=ee.state)}dispatchSoundEvent(ee){const te=Math.pow(2,ee-1.2);this.eventDispatcher.dispatchEvent(new RoomObjectPlaySoundIdEvent(RoomObjectPlaySoundIdEvent.PLAY_SOUND_AT_PITCH,this.object,"FURNITURE_cuckoo_clock",te))}}class FurnitureCustomStackHeightLogic extends FurnitureMultiStateLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.STACK_HEIGHT];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){super.initialize(ee),this.object&&this.object.model&&this.object.model.setValue(RoomObjectVariable.FURNITURE_ALWAYS_STACKABLE,1)}useObject(){!this.object||!this.eventDispatcher||(this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.STACK_HEIGHT,this.object)),super.useObject())}}class FurnitureDiceLogic extends FurnitureLogic{constructor(){super(),this._noTags=!1,this._noTagsLastStateActivate=!1}getEventTypes(){const ee=[RoomObjectFurnitureActionEvent.DICE_ACTIVATE,RoomObjectFurnitureActionEvent.DICE_OFF];return this.mergeTypes(super.getEventTypes(),ee)}mouseEvent(ee,te){if(!ee||!te||!this.object)return;let se=null;switch(ee.type){case MouseEventType.DOUBLE_CLICK:this._noTags?!this._noTagsLastStateActivate||this.object.getState(0)===0||this.object.getState(0)===100?(se=new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.DICE_ACTIVATE,this.object),this._noTagsLastStateActivate=!0):(se=new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.DICE_OFF,this.object),this._noTagsLastStateActivate=!1):ee.spriteTag==="activate"||this.object.getState(0)===0||this.object.getState(0)===100?se=new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.DICE_ACTIVATE,this.object):ee.spriteTag==="deactivate"&&(se=new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.DICE_OFF,this.object)),se&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(se);return}super.mouseEvent(ee,te)}}class FurnitureEcotronBoxLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.ECOTRONBOX];return this.mergeTypes(super.getEventTypes(),ee)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.ECOTRONBOX,this.object))}}class FurnitureEditableInternalLinkLogic extends FurnitureLogic{constructor(){super(),this._showStateOnceRendered=!1,this._updateCount=0}getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.INERNAL_LINK];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){super.initialize(ee),ee.logic&&ee.logic.action&&ee.logic.action.startState===1&&(this._showStateOnceRendered=!0)}update(ee){super.update(ee),this._showStateOnceRendered&&(this._updateCount++,this._showStateOnceRendered&&this._updateCount>20&&(this.setAutomaticStateIndex(1),this._showStateOnceRendered=!1))}setAutomaticStateIndex(ee){this.object&&this.object.model&&this.object.model.setValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX,ee)}mouseEvent(ee,te){!ee||!te||(ee.type===MouseEventType.DOUBLE_CLICK&&this.setAutomaticStateIndex(0),super.mouseEvent(ee,te))}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.INERNAL_LINK,this.object))}}class FurnitureEditableRoomLinkLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.ROOM_LINK];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){super.initialize(ee),ee.logic&&ee.logic.action&&ee.logic.action.link&&ee.logic.action.link!==""&&ee.logic.action.link.length>0&&this.object&&this.object.model&&this.object.model.setValue(RoomObjectVariable.FURNITURE_INTERNAL_LINK,ee.logic.action.link)}onDispose(){this._timer&&(clearTimeout(this._timer),this._timer=null),super.onDispose()}setAutomaticStateIndex(ee){this.object&&this.object.model&&this.object.model.setValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX,ee)}useObject(){this.setAutomaticStateIndex(1),this._timer&&(clearTimeout(this._timer),this._timer=null),this._timer=setTimeout(()=>{this.setAutomaticStateIndex(0),this._timer=null},2500),!(!this.object||!this.eventDispatcher)&&this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.ROOM_LINK,this.object))}}class FurnitureEffectBoxLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.EFFECTBOX_OPEN_DIALOG];return this.mergeTypes(super.getEventTypes(),ee)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.EFFECTBOX_OPEN_DIALOG,this.object))}get contextMenu(){return ContextMenuEnum.EFFECT_BOX}}class FurnitureExternalImageLogic extends FurnitureMultiStateLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.EXTERNAL_IMAGE];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){if(super.initialize(ee),!!ee&&this.object&&this.object.model){let te="";ee.logic&&ee.logic.maskType&&ee.logic.maskType!==""&&ee.logic.maskType.length>0&&(te=ee.logic.maskType),this.object.model.setValue(RoomObjectVariable.FURNITURE_USES_PLANE_MASK,0),this.object.model.setValue(RoomObjectVariable.FURNITURE_PLANE_MASK_TYPE,te)}}useObject(){!this.object||!this.eventDispatcher||(this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.EXTERNAL_IMAGE,this.object)),super.useObject())}}class FurnitureFireworksLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectStateChangedEvent.STATE_CHANGE];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){super.initialize(ee),ee.logic&&ee.logic.particleSystems&&ee.logic.particleSystems.length&&this.object.model.setValue(RoomObjectVariable.FURNITURE_FIREWORKS_DATA,ee.logic.particleSystems)}mouseEvent(ee,te){if(!ee||!te||!this.object)return;let se=null;switch(ee.type){case MouseEventType.DOUBLE_CLICK:switch(ee.spriteTag){case"start_stop":se=new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object,1);break;case"reset":se=new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object,2);break}if(this.eventDispatcher&&se){this.eventDispatcher.dispatchEvent(se);return}break}super.mouseEvent(ee,te)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object,0))}}const AP=class AP extends FurnitureMultiStateLogic{constructor(){super(),this._currentState=-1,this._currentLocation=null}getEventTypes(){const ee=[RoomObjectFloorHoleEvent.ADD_HOLE,RoomObjectFloorHoleEvent.REMOVE_HOLE];return this.mergeTypes(super.getEventTypes(),ee)}onDispose(){this._currentState===AP.STATE_HOLE&&this.eventDispatcher.dispatchEvent(new RoomObjectFloorHoleEvent(RoomObjectFloorHoleEvent.REMOVE_HOLE,this.object)),super.onDispose()}update(ee){super.update(ee),this.handleAutomaticStateUpdate()}processUpdateMessage(ee){if(super.processUpdateMessage(ee),!this.object)return;ee instanceof ObjectDataUpdateMessage&&this.handleStateUpdate(this.object.getState(0));const te=this.object.getLocation();this._currentLocation?(te.x!==this._currentLocation.x||te.y!==this._currentLocation.y)&&this._currentState===AP.STATE_HOLE&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectFloorHoleEvent(RoomObjectFloorHoleEvent.ADD_HOLE,this.object)):this._currentLocation=new Vector3d,this._currentLocation.assign(te)}handleStateUpdate(ee){ee!==this._currentState&&(this.eventDispatcher&&(ee===AP.STATE_HOLE?this.eventDispatcher.dispatchEvent(new RoomObjectFloorHoleEvent(RoomObjectFloorHoleEvent.ADD_HOLE,this.object)):this._currentState===AP.STATE_HOLE&&this.eventDispatcher.dispatchEvent(new RoomObjectFloorHoleEvent(RoomObjectFloorHoleEvent.REMOVE_HOLE,this.object))),this._currentState=ee)}handleAutomaticStateUpdate(){if(!this.object)return;const ee=this.object.model;if(!ee)return;const te=ee.getValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX);isNaN(te)||this.handleStateUpdate(te%2)}};AP.STATE_HOLE=0;let FurnitureFloorHoleLogic=AP;const xP=class xP extends FurnitureMultiStateLogic{constructor(){super(...arguments),this._state=-1}initialize(ee){super.initialize(ee),this.object&&this.object.model.setValue(RoomObjectVariable.FURNITURE_FRIENDFURNI_ENGRAVING,this.engravingDialogType)}processUpdateMessage(ee){if(ee instanceof ObjectDataUpdateMessage){const te=ee.data;te?this._state=te.state:this._state=ee.state}super.processUpdateMessage(ee)}getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_ENGRAVING];return this.mergeTypes(super.getEventTypes(),ee)}useObject(){!this.object||!this.eventDispatcher||(this._state===xP.STATE_LOCKED?this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_ENGRAVING,this.object)):super.useObject())}get engravingDialogType(){return 0}get contextMenu(){return this._state===xP.STATE_UNLOCKED?ContextMenuEnum.FRIEND_FURNITURE:ContextMenuEnum.DUMMY}};xP.STATE_UNINITIALIZED=-1,xP.STATE_UNLOCKED=0,xP.STATE_LOCKED=1;let FurnitureFriendFurniLogic=xP;const KO=class KO extends FurnitureMultiStateLogic{getEventTypes(){const ee=[RoomObjectBadgeAssetEvent.LOAD_BADGE,RoomObjectWidgetRequestEvent.GUILD_FURNI_CONTEXT_MENU,RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU];return this.mergeTypes(super.getEventTypes(),ee)}processUpdateMessage(ee){if(super.processUpdateMessage(ee),ee instanceof ObjectDataUpdateMessage){const te=ee.data;te instanceof StringDataType&&(this.updateGroupId(te.getValue(KO.GROUPID_KEY)),this.updateBadge(te.getValue(KO.BADGE_KEY)),this.updateColors(te.getValue(KO.COLOR1_KEY),te.getValue(KO.COLOR2_KEY)))}else ee instanceof ObjectGroupBadgeUpdateMessage?ee.assetName!=="loading_icon"&&(this.object.model.setValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME,ee.assetName),this.update(GetTickerTime())):ee instanceof ObjectSelectedMessage&&(ee.selected||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU,this.object)))}updateGroupId(ee){this.object.model.setValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_GUILD_ID,parseInt(ee))}updateBadge(ee){this.eventDispatcher.dispatchEvent(new RoomObjectBadgeAssetEvent(RoomObjectBadgeAssetEvent.LOAD_BADGE,this.object,ee,!0))}updateColors(ee,te){this.object.model.setValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_1,parseInt(ee,16)),this.object.model.setValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_2,parseInt(te,16))}mouseEvent(ee,te){if(!(!ee||!te||!this.object)){switch(ee.type){case MouseEventType.MOUSE_CLICK:this.openContextMenu()}super.mouseEvent(ee,te)}}openContextMenu(){this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.GUILD_FURNI_CONTEXT_MENU,this.object))}};KO.GROUPID_KEY=1,KO.BADGE_KEY=2,KO.COLOR1_KEY=3,KO.COLOR2_KEY=4;let FurnitureGuildCustomizedLogic=KO;class FurnitureGroupForumTerminalLogic extends FurnitureGuildCustomizedLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.INERNAL_LINK];return this.mergeTypes(super.getEventTypes(),ee)}updateGroupId(ee){super.updateGroupId(ee),this.object.model.setValue(RoomObjectVariable.FURNITURE_INTERNAL_LINK,`groupforum/${ee}`)}useObject(){!this.object||!this.eventDispatcher||(this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.INERNAL_LINK,this.object)),super.useObject())}}class FurnitureHabboWheelLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectFurnitureActionEvent.USE_HABBOWHEEL];return this.mergeTypes(super.getEventTypes(),ee)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.USE_HABBOWHEEL,this.object))}}const Z2=class Z2 extends FurnitureLogic{constructor(){super(...arguments),this._state=-1}getEventTypes(){return[RoomObjectWidgetRequestEvent.HIGH_SCORE_DISPLAY,RoomObjectWidgetRequestEvent.HIDE_HIGH_SCORE_DISPLAY]}tearDown(){this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.HIDE_HIGH_SCORE_DISPLAY,this.object)),super.tearDown()}processUpdateMessage(ee){super.processUpdateMessage(ee),this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&ee instanceof ObjectDataUpdateMessage&&(ee.state===Z2.SHOW_WIDGET_IN_STATE?this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.HIGH_SCORE_DISPLAY,this.object)):this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.HIDE_HIGH_SCORE_DISPLAY,this.object)),this._state=ee.state)}};Z2.SHOW_WIDGET_IN_STATE=1;let FurnitureHighScoreLogic=Z2;class FurnitureHockeyScoreLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectStateChangedEvent.STATE_CHANGE];return this.mergeTypes(super.getEventTypes(),ee)}mouseEvent(ee,te){if(!ee||!te||!this.object)return;let se=null;switch(ee.type){case MouseEventType.DOUBLE_CLICK:switch(ee.spriteTag){case"off":se=new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object,3);break}break;case MouseEventType.MOUSE_CLICK:switch(ee.spriteTag){case"inc":se=new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object,2);break;case"dec":se=new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object,1);break}break}if(this.eventDispatcher&&se){this.eventDispatcher.dispatchEvent(se);return}super.mouseEvent(ee,te)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object,3))}}class FurnitureHweenLovelockLogic extends FurnitureFriendFurniLogic{get engravingDialogType(){return FriendFurniEngravingWidgetType.HABBOWEEN}}class FurnitureIceStormLogic extends FurnitureMultiStateLogic{constructor(){super(),this._nextState=0,this._nextStateTimestamp=0}update(ee){if(this._nextStateTimestamp>0&&ee>=this._nextStateTimestamp){this._nextStateTimestamp=0;const te=new LegacyDataType;te.setString(this._nextState.toString()),super.processUpdateMessage(new ObjectDataUpdateMessage(this._nextState,te,this._nextStateExtra))}super.update(ee)}processUpdateMessage(ee){if(ee instanceof ObjectDataUpdateMessage){this.processUpdate(ee);return}super.processUpdateMessage(ee)}processUpdate(ee){if(!ee)return;const te=~~(ee.state/1e3),se=~~(ee.state%1e3);if(se)this._nextState=te,this._nextStateExtra=ee.extra,this._nextStateTimestamp=this.time+se;else{this._nextStateTimestamp=0;const ne=new LegacyDataType;ne.setString(te.toString()),super.processUpdateMessage(new ObjectDataUpdateMessage(te,ne,ee.extra))}}}class FurnitureInternalLinkLogic extends FurnitureLogic{constructor(){super(...arguments),this._showStateOnceRendered=!1,this._updateCount=0}getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.INERNAL_LINK];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){super.initialize(ee),ee.logic&&ee.logic.action&&(this.object.model.setValue(RoomObjectVariable.FURNITURE_INTERNAL_LINK,ee.logic.action.link),ee.logic.action.startState===1&&(this._showStateOnceRendered=!0))}update(ee){super.update(ee),this._showStateOnceRendered&&(this._updateCount++,this._showStateOnceRendered&&this._updateCount===20&&(this.setAutomaticStateIndex(1),this._showStateOnceRendered=!1))}setAutomaticStateIndex(ee){this.object&&this.object.model&&this.object.model.setValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX,ee)}mouseEvent(ee,te){!ee||!te||(ee.type===MouseEventType.DOUBLE_CLICK&&this._showStateOnceRendered&&this.setAutomaticStateIndex(0),super.mouseEvent(ee,te))}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.INERNAL_LINK,this.object))}}class FurnitureJukeboxLogic extends FurnitureMultiStateLogic{constructor(){super(...arguments),this._disposeEventsAllowed=!1,this._isInitialized=!1,this._currentState=-1}getEventTypes(){const ee=[RoomObjectFurnitureActionEvent.JUKEBOX_START,RoomObjectFurnitureActionEvent.JUKEBOX_MACHINE_STOP,RoomObjectFurnitureActionEvent.JUKEBOX_DISPOSE,RoomObjectFurnitureActionEvent.JUKEBOX_INIT,RoomObjectWidgetRequestEvent.JUKEBOX_PLAYLIST_EDITOR];return this.mergeTypes(super.getEventTypes(),ee)}onDispose(){this.requestDispose(),super.onDispose()}processUpdateMessage(ee){if(super.processUpdateMessage(ee),this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&(this._isInitialized||this.requestInit(),this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.JUKEBOX),ee instanceof ObjectDataUpdateMessage)){const te=this.object.getState(0);te!==this._currentState&&(this._currentState=te,te===1?this.requestPlayList():te===0&&this.requestStopPlaying())}}requestInit(){!this.object||!this.eventDispatcher||(this._disposeEventsAllowed=!0,this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.JUKEBOX_INIT,this.object)),this._isInitialized=!0)}requestPlayList(){!this.object||!this.eventDispatcher||(this._disposeEventsAllowed=!0,this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.JUKEBOX_START,this.object)))}requestStopPlaying(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.JUKEBOX_MACHINE_STOP,this.object))}requestDispose(){!this._disposeEventsAllowed||!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.JUKEBOX_DISPOSE,this.object))}useObject(){!this.object||!this.eventDispatcher||(this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.JUKEBOX_PLAYLIST_EDITOR,this.object)),this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object,-1)))}}class FurnitureLoveLockLogic extends FurnitureFriendFurniLogic{get engravingDialogType(){return FriendFurniEngravingWidgetType.LOVE_LOCK}}const BM=class BM extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.MANNEQUIN];return this.mergeTypes(super.getEventTypes(),ee)}processUpdateMessage(ee){super.processUpdateMessage(ee),ee instanceof ObjectDataUpdateMessage&&(ee.data.writeRoomObjectModel(this.object.model),this.processObjectData())}processObjectData(){if(!this.object||!this.object.model)return;const ee=new MapDataType;ee.initializeFromRoomObjectModel(this.object.model),this.object.model.setValue(RoomObjectVariable.FURNITURE_MANNEQUIN_GENDER,ee.getValue(BM.GENDER)),this.object.model.setValue(RoomObjectVariable.FURNITURE_MANNEQUIN_FIGURE,ee.getValue(BM.FIGURE)),this.object.model.setValue(RoomObjectVariable.FURNITURE_MANNEQUIN_NAME,ee.getValue(BM.OUTFIT_NAME))}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.MANNEQUIN,this.object))}};BM.GENDER="GENDER",BM.FIGURE="FIGURE",BM.OUTFIT_NAME="OUTFIT_NAME";let FurnitureMannequinLogic=BM;class FurnitureMonsterplantSeedLogic extends FurnitureMultiStateLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG];return this.mergeTypes(super.getEventTypes(),ee)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG,this.object))}get contextMenu(){return ContextMenuEnum.MONSTERPLANT_SEED}}class FurnitureMultiHeightLogic extends FurnitureMultiStateLogic{initialize(ee){super.initialize(ee),this.object&&this.object.model&&this.object.model.setValue(RoomObjectVariable.FURNITURE_IS_VARIABLE_HEIGHT,1)}}class FurnitureMysteryBoxLogic extends FurnitureMultiStateLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.MYSTERYBOX_OPEN_DIALOG];return this.mergeTypes(super.getEventTypes(),ee)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.MYSTERYBOX_OPEN_DIALOG,this.object))}get contextMenu(){return ContextMenuEnum.MYSTERY_BOX}}class FurnitureMysteryTrophyLogic extends FurnitureMultiStateLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.MYSTERYTROPHY_OPEN_DIALOG];return this.mergeTypes(super.getEventTypes(),ee)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.MYSTERYTROPHY_OPEN_DIALOG,this.object))}get contextMenu(){return ContextMenuEnum.MYSTERY_TROPHY}}class FurnitureOneWayDoorLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectFurnitureActionEvent.ENTER_ONEWAYDOOR];return this.mergeTypes(super.getEventTypes(),ee)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.ENTER_ONEWAYDOOR,this.object))}}class FurniturePetCustomizationLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.PET_PRODUCT_MENU];return this.mergeTypes(super.getEventTypes(),ee)}processUpdateMessage(ee){super.processUpdateMessage(ee),this.object&&this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.USABLE_PRODUCT)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.PET_PRODUCT_MENU,this.object))}}class FurniturePlaceholderLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.PLACEHOLDER];return this.mergeTypes(super.getEventTypes(),ee)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.PLACEHOLDER,this.object))}}class FurniturePlanetSystemLogic extends FurnitureLogic{initialize(ee){super.initialize(ee),ee.logic&&ee.logic.planetSystems&&this.object.model.setValue(RoomObjectVariable.FURNITURE_PLANETSYSTEM_DATA,ee.logic.planetSystems)}}const sO=class sO extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.PRESENT];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){super.initialize(ee),ee.logic&&ee.logic.particleSystems&&ee.logic.particleSystems.length&&this.object.model.setValue(RoomObjectVariable.FURNITURE_FIREWORKS_DATA,ee.logic.particleSystems)}processUpdateMessage(ee){super.processUpdateMessage(ee),ee instanceof ObjectDataUpdateMessage&&(ee.data.writeRoomObjectModel(this.object.model),this.updateStuffData()),ee instanceof ObjectModelDataUpdateMessage&&ee.numberKey===RoomObjectVariable.FURNITURE_DISABLE_PICKING_ANIMATION&&this.object.model.setValue(RoomObjectVariable.FURNITURE_DISABLE_PICKING_ANIMATION,ee.numberValue)}updateStuffData(){if(!this.object||!this.object.model)return;const ee=new MapDataType;ee.initializeFromRoomObjectModel(this.object.model);const te=ee.getValue(sO.MESSAGE),se=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA);!te&&typeof se=="string"?this.object.model.setValue(RoomObjectVariable.FURNITURE_DATA,se.substr(1)):this.object.model.setValue(RoomObjectVariable.FURNITURE_DATA,ee.getValue(sO.MESSAGE)),this.writeToModel(RoomObjectVariable.FURNITURE_TYPE_ID,ee.getValue(sO.PRODUCT_CODE)),this.writeToModel(RoomObjectVariable.FURNITURE_PURCHASER_NAME,ee.getValue(sO.PURCHASER_NAME)),this.writeToModel(RoomObjectVariable.FURNITURE_PURCHASER_FIGURE,ee.getValue(sO.PURCHASER_FIGURE))}writeToModel(ee,te){te&&this.object.model.setValue(ee,te)}mouseEvent(ee,te){if(!(!ee||!te||!this.object)){switch(ee.type){case MouseEventType.ROLL_OVER:this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.MOUSE_BUTTON,this.object));break;case MouseEventType.ROLL_OUT:this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.MOUSE_ARROW,this.object));break}super.mouseEvent(ee,te)}}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.PRESENT,this.object))}};sO.MESSAGE="MESSAGE",sO.PRODUCT_CODE="PRODUCT_CODE",sO.EXTRA_PARAM="EXTRA_PARAM",sO.PURCHASER_NAME="PURCHASER_NAME",sO.PURCHASER_FIGURE="PURCHASER_FIGURE";let FurniturePresentLogic=sO;class FurniturePurchaseableClothingLogic extends FurnitureMultiStateLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG];return this.mergeTypes(super.getEventTypes(),ee)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG,this.object))}get contextMenu(){return ContextMenuEnum.PURCHASABLE_CLOTHING}}const hM=class hM extends FurnitureMultiStateLogic{constructor(){super(),this.updateInterval=MovingObjectLogic.DEFAULT_UPDATE_INTERVAL,this._oldLocation=new Vector3d}processUpdateMessage(ee){if(!ee)return;const te=ee instanceof ObjectMoveUpdateMessage;if(this.object&&!te&&ee.location){const se=this.object.getLocation(),ne=Vector3d.dif(ee.location,se);if(ne&&Math.abs(ne.x)<2&&Math.abs(ne.y)<2){let le=se;(Math.abs(ne.x)>1||Math.abs(ne.y)>1)&&(le=Vector3d.sum(se,Vector3d.product(ne,.5))),super.processUpdateMessage(new ObjectMoveUpdateMessage(le,ee.location,ee.direction));return}}if(ee.location&&!te&&super.processUpdateMessage(new ObjectMoveUpdateMessage(ee.location,ee.location,ee.direction)),ee instanceof ObjectDataUpdateMessage){ee.state>0?this.updateInterval=MovingObjectLogic.DEFAULT_UPDATE_INTERVAL/this.getUpdateIntervalValue(ee.state):this.updateInterval=1,this.handleDataUpdate(ee);return}te&&ee.isSlide&&(this.updateInterval=MovingObjectLogic.DEFAULT_UPDATE_INTERVAL),super.processUpdateMessage(ee)}getUpdateIntervalValue(ee){return ee/hM.MAX_ANIMATION_COUNT}getAnimationValue(ee){return ee%hM.MAX_ANIMATION_COUNT}handleDataUpdate(ee){const te=this.getAnimationValue(ee.state);if(te!==ee.state){const se=new LegacyDataType;se.setString(te.toString()),ee=new ObjectDataUpdateMessage(te,se,ee.extra)}super.processUpdateMessage(ee)}update(ee){this.object&&(this._oldLocation.assign(this.object.getLocation()),super.update(ee),Vector3d.dif(this.object.getLocation(),this._oldLocation).length===0&&this.object.getState(0)!==hM.ANIMATION_NOT_MOVING&&this.object.setState(hM.ANIMATION_NOT_MOVING,0))}};hM.ANIMATION_NOT_MOVING=0,hM.ANIMATION_MOVING=1,hM.MAX_ANIMATION_COUNT=10;let FurniturePushableLogic=hM;class FurnitureRandomStateLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectStateChangedEvent.STATE_RANDOM];return this.mergeTypes(super.getEventTypes(),ee)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_RANDOM,this.object))}}class FurnitureRandomTeleportLogic extends FurnitureMultiStateLogic{get contextMenu(){return ContextMenuEnum.RANDOM_TELEPORT}}class FurnitureRentableSpaceLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectDataRequestEvent.RODRE_CURRENT_USER_ID];return this.mergeTypes(super.getEventTypes(),ee)}update(ee){if(super.update(ee),this.object&&this.object.model){this.object.model.getValue(RoomObjectVariable.SESSION_CURRENT_USER_ID)||this.eventDispatcher.dispatchEvent(new RoomObjectDataRequestEvent(RoomObjectDataRequestEvent.RODRE_CURRENT_USER_ID,this.object));const te=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA).getValue("renterId"),se=this.object.model.getValue(RoomObjectVariable.SESSION_CURRENT_USER_ID);te?parseInt(te)===se?this.object.setState(2,0):this.object.setState(1,0):this.object.setState(0,0)}}get widget(){return RoomWidgetEnum.RENTABLESPACE}}class FurnitureRoomBackgroundColorLogic extends FurnitureMultiStateLogic{constructor(){super(),this._roomColorUpdated=!1}getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.BACKGROUND_COLOR,RoomObjectHSLColorEnableEvent.ROOM_BACKGROUND_COLOR];return this.mergeTypes(super.getEventTypes(),ee)}onDispose(){this._roomColorUpdated&&(this.eventDispatcher&&this.object&&this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&this.eventDispatcher.dispatchEvent(new RoomObjectHSLColorEnableEvent(RoomObjectHSLColorEnableEvent.ROOM_BACKGROUND_COLOR,this.object,!1,0,0,0)),this._roomColorUpdated=!1),super.onDispose()}processUpdateMessage(ee){super.processUpdateMessage(ee),ee instanceof ObjectDataUpdateMessage&&(ee.data.writeRoomObjectModel(this.object.model),this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&this.processColorUpdate())}processColorUpdate(){if(!this.object||!this.object.model)return;const ee=new NumberDataType;ee.initializeFromRoomObjectModel(this.object.model);const te=ee.getValue(0),se=ee.getValue(1),ne=ee.getValue(2),le=ee.getValue(3);te>-1&&se>-1&&ne>-1&&le>-1&&(this.object.model.setValue(RoomObjectVariable.FURNITURE_ROOM_BACKGROUND_COLOR_HUE,se),this.object.model.setValue(RoomObjectVariable.FURNITURE_ROOM_BACKGROUND_COLOR_SATURATION,ne),this.object.model.setValue(RoomObjectVariable.FURNITURE_ROOM_BACKGROUND_COLOR_LIGHTNESS,le),this.object.setState(te,0),this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectHSLColorEnableEvent(RoomObjectHSLColorEnableEvent.ROOM_BACKGROUND_COLOR,this.object,te===1,se,ne,le)),this._roomColorUpdated=!0)}mouseEvent(ee,te){if(!(!ee||!te||!this.object)){switch(ee.type){case MouseEventType.DOUBLE_CLICK:this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.BACKGROUND_COLOR,this.object));return}super.mouseEvent(ee,te)}}}var lib$2={},gif={},lib$1={},hasRequiredLib$2;function requireLib$2(){if(hasRequiredLib$2)return lib$1;hasRequiredLib$2=1,Object.defineProperty(lib$1,"__esModule",{value:!0}),lib$1.loop=lib$1.conditional=lib$1.parse=void 0;var ie=function se(ne,le){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ue;if(Array.isArray(le))le.forEach(function(de){return se(ne,de,ue,ce)});else if(typeof le=="function")le(ne,ue,ce,se);else{var he=Object.keys(le)[0];Array.isArray(le[he])?(ce[he]={},se(ne,le[he],ue,ce[he])):ce[he]=le[he](ne,ue,ce,se)}return ue};lib$1.parse=ie;var ee=function(ne,le){return function(ue,ce,he,de){le(ue,ce,he)&&de(ue,ne,ce,he)}};lib$1.conditional=ee;var te=function(ne,le){return function(ue,ce,he,de){for(var _e=[],fe=ue.pos;le(ue,ce,he);){var ye={};if(de(ue,ne,ce,ye),ue.pos===fe)break;fe=ue.pos,_e.push(ye)}return _e}};return lib$1.loop=te,lib$1}var uint8={},hasRequiredUint8;function requireUint8(){if(hasRequiredUint8)return uint8;hasRequiredUint8=1,Object.defineProperty(uint8,"__esModule",{value:!0}),uint8.readBits=uint8.readArray=uint8.readUnsigned=uint8.readString=uint8.peekBytes=uint8.readBytes=uint8.peekByte=uint8.readByte=uint8.buildStream=void 0;var ie=function(fe){return{data:fe,pos:0}};uint8.buildStream=ie;var ee=function(){return function(fe){return fe.data[fe.pos++]}};uint8.readByte=ee;var te=function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(ye){return ye.data[ye.pos+fe]}};uint8.peekByte=te;var se=function(fe){return function(ye){return ye.data.subarray(ye.pos,ye.pos+=fe)}};uint8.readBytes=se;var ne=function(fe){return function(ye){return ye.data.subarray(ye.pos,ye.pos+fe)}};uint8.peekBytes=ne;var le=function(fe){return function(ye){return Array.from(se(fe)(ye)).map(function(be){return String.fromCharCode(be)}).join("")}};uint8.readString=le;var ue=function(fe){return function(ye){var be=se(2)(ye);return fe?(be[1]<<8)+be[0]:(be[0]<<8)+be[1]}};uint8.readUnsigned=ue;var ce=function(fe,ye){return function(be,Pe,Ne){for(var we=typeof ye=="function"?ye(be,Pe,Ne):ye,De=se(fe),$e=new Array(we),Ge=0;Ge<we;Ge++)$e[Ge]=De(be);return $e}};uint8.readArray=ce;var he=function(fe,ye,be){for(var Pe=0,Ne=0;Ne<be;Ne++)Pe+=fe[ye+Ne]&&Math.pow(2,be-Ne-1);return Pe},de=function(fe){return function(ye){for(var be=ee()(ye),Pe=new Array(8),Ne=0;Ne<8;Ne++)Pe[7-Ne]=!!(be&1<<Ne);return Object.keys(fe).reduce(function(we,De){var $e=fe[De];return $e.length?we[De]=he(Pe,$e.index,$e.length):we[De]=Pe[$e.index],we},{})}};return uint8.readBits=de,uint8}var hasRequiredGif;function requireGif(){return hasRequiredGif||(hasRequiredGif=1,function(ie){Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=void 0;var ee=requireLib$2(),te=requireUint8(),se={blocks:function(ye){for(var be=0,Pe=[],Ne=ye.data.length,we=0,De=(0,te.readByte)()(ye);De!==be&&De;De=(0,te.readByte)()(ye)){if(ye.pos+De>=Ne){var $e=Ne-ye.pos;Pe.push((0,te.readBytes)($e)(ye)),we+=$e;break}Pe.push((0,te.readBytes)(De)(ye)),we+=De}for(var Ge=new Uint8Array(we),Be=0,ze=0;ze<Pe.length;ze++)Ge.set(Pe[ze],Be),Be+=Pe[ze].length;return Ge}},ne=(0,ee.conditional)({gce:[{codes:(0,te.readBytes)(2)},{byteSize:(0,te.readByte)()},{extras:(0,te.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,te.readUnsigned)(!0)},{transparentColorIndex:(0,te.readByte)()},{terminator:(0,te.readByte)()}]},function(fe){var ye=(0,te.peekBytes)(2)(fe);return ye[0]===33&&ye[1]===249}),le=(0,ee.conditional)({image:[{code:(0,te.readByte)()},{descriptor:[{left:(0,te.readUnsigned)(!0)},{top:(0,te.readUnsigned)(!0)},{width:(0,te.readUnsigned)(!0)},{height:(0,te.readUnsigned)(!0)},{lct:(0,te.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,ee.conditional)({lct:(0,te.readArray)(3,function(fe,ye,be){return Math.pow(2,be.descriptor.lct.size+1)})},function(fe,ye,be){return be.descriptor.lct.exists}),{data:[{minCodeSize:(0,te.readByte)()},se]}]},function(fe){return(0,te.peekByte)()(fe)===44}),ue=(0,ee.conditional)({text:[{codes:(0,te.readBytes)(2)},{blockSize:(0,te.readByte)()},{preData:function(ye,be,Pe){return(0,te.readBytes)(Pe.text.blockSize)(ye)}},se]},function(fe){var ye=(0,te.peekBytes)(2)(fe);return ye[0]===33&&ye[1]===1}),ce=(0,ee.conditional)({application:[{codes:(0,te.readBytes)(2)},{blockSize:(0,te.readByte)()},{id:function(ye,be,Pe){return(0,te.readString)(Pe.blockSize)(ye)}},se]},function(fe){var ye=(0,te.peekBytes)(2)(fe);return ye[0]===33&&ye[1]===255}),he=(0,ee.conditional)({comment:[{codes:(0,te.readBytes)(2)},se]},function(fe){var ye=(0,te.peekBytes)(2)(fe);return ye[0]===33&&ye[1]===254}),de=[{header:[{signature:(0,te.readString)(3)},{version:(0,te.readString)(3)}]},{lsd:[{width:(0,te.readUnsigned)(!0)},{height:(0,te.readUnsigned)(!0)},{gct:(0,te.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,te.readByte)()},{pixelAspectRatio:(0,te.readByte)()}]},(0,ee.conditional)({gct:(0,te.readArray)(3,function(fe,ye){return Math.pow(2,ye.lsd.gct.size+1)})},function(fe,ye){return ye.lsd.gct.exists}),{frames:(0,ee.loop)([ne,ce,he,le,ue],function(fe){var ye=(0,te.peekByte)()(fe);return ye===33||ye===44})}],_e=de;ie.default=_e}(gif)),gif}var deinterlace={},hasRequiredDeinterlace;function requireDeinterlace(){if(hasRequiredDeinterlace)return deinterlace;hasRequiredDeinterlace=1,Object.defineProperty(deinterlace,"__esModule",{value:!0}),deinterlace.deinterlace=void 0;var ie=function(te,se){for(var ne=new Array(te.length),le=te.length/se,ue=function(be,Pe){var Ne=te.slice(Pe*se,(Pe+1)*se);ne.splice.apply(ne,[be*se,se].concat(Ne))},ce=[0,4,2,1],he=[8,8,4,2],de=0,_e=0;_e<4;_e++)for(var fe=ce[_e];fe<le;fe+=he[_e])ue(fe,de),de++;return ne};return deinterlace.deinterlace=ie,deinterlace}var lzw={},hasRequiredLzw;function requireLzw(){if(hasRequiredLzw)return lzw;hasRequiredLzw=1,Object.defineProperty(lzw,"__esModule",{value:!0}),lzw.lzw=void 0;var ie=function(te,se,ne){var le=4096,ue=-1,ce=ne,he,de,_e,fe,ye,be,Pe,ut,Ne,we,$t,De,Ti,Hi,gd,bn,$e=new Array(ne),Ge=new Array(le),Be=new Array(le),ze=new Array(le+1);for(De=te,de=1<<De,ye=de+1,he=de+2,Pe=ue,fe=De+1,_e=(1<<fe)-1,Ne=0;Ne<de;Ne++)Ge[Ne]=0,Be[Ne]=Ne;var $t,ut,Ti,Hi,bn,gd;for($t=ut=Ti=Hi=bn=gd=0,we=0;we<ce;){if(Hi===0){if(ut<fe){$t+=se[gd]<<ut,ut+=8,gd++;continue}if(Ne=$t&_e,$t>>=fe,ut-=fe,Ne>he||Ne==ye)break;if(Ne==de){fe=De+1,_e=(1<<fe)-1,he=de+2,Pe=ue;continue}if(Pe==ue){ze[Hi++]=Be[Ne],Pe=Ne,Ti=Ne;continue}for(be=Ne,Ne==he&&(ze[Hi++]=Ti,Ne=Pe);Ne>de;)ze[Hi++]=Be[Ne],Ne=Ge[Ne];Ti=Be[Ne]&255,ze[Hi++]=Ti,he<le&&(Ge[he]=Pe,Be[he]=Ti,he++,!(he&_e)&&he<le&&(fe++,_e+=he)),Pe=be}Hi--,$e[bn++]=ze[Hi],we++}for(we=bn;we<ce;we++)$e[we]=0;return $e};return lzw.lzw=ie,lzw}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$2;hasRequiredLib$1=1,Object.defineProperty(lib$2,"__esModule",{value:!0}),lib$2.decompressFrames=lib$2.decompressFrame=lib$2.parseGIF=void 0;var ie=le(requireGif()),ee=requireLib$2(),te=requireUint8(),se=requireDeinterlace(),ne=requireLzw();function le(_e){return _e&&_e.__esModule?_e:{default:_e}}var ue=function(fe){var ye=new Uint8Array(fe);return(0,ee.parse)((0,te.buildStream)(ye),ie.default)};lib$2.parseGIF=ue;var ce=function(fe){for(var ye=fe.pixels.length,be=new Uint8ClampedArray(ye*4),Pe=0;Pe<ye;Pe++){var Ne=Pe*4,we=fe.pixels[Pe],De=fe.colorTable[we]||[0,0,0];be[Ne]=De[0],be[Ne+1]=De[1],be[Ne+2]=De[2],be[Ne+3]=we!==fe.transparentIndex?255:0}return be},he=function(fe,ye,be){if(!fe.image){console.warn("gif frame does not have associated image.");return}var Pe=fe.image,Ne=Pe.descriptor.width*Pe.descriptor.height,we=(0,ne.lzw)(Pe.data.minCodeSize,Pe.data.blocks,Ne);Pe.descriptor.lct.interlaced&&(we=(0,se.deinterlace)(we,Pe.descriptor.width));var De={pixels:we,dims:{top:fe.image.descriptor.top,left:fe.image.descriptor.left,width:fe.image.descriptor.width,height:fe.image.descriptor.height}};return Pe.descriptor.lct&&Pe.descriptor.lct.exists?De.colorTable=Pe.lct:De.colorTable=ye,fe.gce&&(De.delay=(fe.gce.delay||10)*10,De.disposalType=fe.gce.extras.disposal,fe.gce.extras.transparentColorGiven&&(De.transparentIndex=fe.gce.transparentColorIndex)),be&&(De.patch=ce(De)),De};lib$2.decompressFrame=he;var de=function(fe,ye){return fe.frames.filter(function(be){return be.image}).map(function(be){return he(be,fe.gct,ye)})};return lib$2.decompressFrames=de,lib$2}var libExports$1=requireLib$1();const vT=class vT extends FurnitureLogic{constructor(){super(),this._disableFurnitureSelection=!0,this._hasClickUrl=!1}getEventTypes(){const ee=[RoomObjectRoomAdEvent.ROOM_AD_LOAD_IMAGE];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){super.initialize(ee),this._disableFurnitureSelection&&this.object.model.setValue(RoomObjectVariable.FURNITURE_SELECTION_DISABLED,1)}processUpdateMessage(ee){super.processUpdateMessage(ee),ee instanceof ObjectDataUpdateMessage&&this.processAdDataUpdateMessage(ee),ee instanceof ObjectAdUpdateMessage&&this.processAdUpdate(ee)}processAdDataUpdateMessage(ee){if(!ee)return;const te=new MapDataType;te.initializeFromRoomObjectModel(this.object.model);const se=parseInt(te.getValue(vT.STATE));!isNaN(se)&&this.object.getState(0)!==se&&this.object.setState(se,0);const ne=te.getValue(vT.IMAGEURL_KEY),le=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_URL);(!le||le!==ne)&&(this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_URL,ne),this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_STATUS,0),this.downloadBackground());const ue=te.getValue(vT.CLICKURL_KEY);if(ue){const fe=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_URL);(!fe||fe!==ue)&&this.object.model&&this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_URL,ue)}const ce=parseInt(te.getValue(vT.OFFSETX_KEY)),he=parseInt(te.getValue(vT.OFFSETY_KEY)),de=parseInt(te.getValue(vT.OFFSETZ_KEY));isNaN(ce)||this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_OFFSET_X,ce),isNaN(he)||this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_OFFSET_Y,he),isNaN(de)||this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_OFFSET_Z,de);let _e=vT.IMAGEURL_KEY+"="+(ne!==null?ne:"")+"	";this._hasClickUrl&&(_e=_e+(vT.CLICKURL_KEY+"="+(ue!==null?ue:"")+"	")),_e=_e+(vT.OFFSETX_KEY+"="+ce+"	"),_e=_e+(vT.OFFSETY_KEY+"="+he+"	"),_e=_e+(vT.OFFSETZ_KEY+"="+de+"	"),this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.BRANDING_OPTIONS+_e)}processAdUpdate(ee){if(!(!ee||!this.object))switch(ee.type){case ObjectAdUpdateMessage.IMAGE_LOADED:this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_STATUS,1);break;case ObjectAdUpdateMessage.IMAGE_LOADING_FAILED:this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_STATUS,-1);break}}mouseEvent(ee,te){!ee||!te||ee.type===MouseEventType.MOUSE_MOVE||ee.type===MouseEventType.DOUBLE_CLICK||super.mouseEvent(ee,te)}async downloadBackground(){const ee=this.object&&this.object.model;if(!ee)return;const te=ee.getValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_URL),se=ee.getValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_STATUS);if(!(!te||te===""||se===1))if(te.endsWith(".gif"))this.object.model.setValue(RoomObjectVariable.FURNITURE_BRANDING_IS_ANIMATED,!0),fetch(te).then(ne=>ne.arrayBuffer()).then(ne=>libExports$1.parseGIF(ne)).then(ne=>{const le=ne.lsd.width,ue=ne.lsd.height,ce=le*ue,he=libExports$1.decompressFrames(ne,!1),de=[],_e=[];let fe=new Uint8Array(ce*4);for(let ye=0;ye<he.length;ye++){ye>0&&(fe=fe.slice(0));const be=he[ye].pixels,Pe=he[ye].colorTable,Ne=he[ye].transparentIndex,we=he[ye].dims;for(let $e=0;$e<we.height;$e++)for(let Ge=0;Ge<we.width;Ge++){const Be=be[$e*we.width+Ge],ze=($e+we.top)*le+(Ge+we.left);if(Ne!==Be){const $t=Pe[Be];fe[4*ze]=$t[0],fe[4*ze+1]=$t[1],fe[4*ze+2]=$t[2],fe[4*ze+3]=255}}const De=BaseTexture.fromBuffer(fe,le,ue);de.push(new Texture$1(De)),_e.push(he[ye].delay)}Nitro.instance.roomEngine.roomContentLoader.createGifCollection(te,de,_e),this.processUpdateMessage(new ObjectAdUpdateMessage(ObjectAdUpdateMessage.IMAGE_LOADED))}).catch(ne=>{this.processUpdateMessage(new ObjectAdUpdateMessage(ObjectAdUpdateMessage.IMAGE_LOADING_FAILED))});else{const ne=GetAssetManager();if(!ne)return;if(!ne.getTexture(te)){await ne.downloadAsset(te)?this.processUpdateMessage(new ObjectAdUpdateMessage(ObjectAdUpdateMessage.IMAGE_LOADED)):this.processUpdateMessage(new ObjectAdUpdateMessage(ObjectAdUpdateMessage.IMAGE_LOADING_FAILED));return}this.processUpdateMessage(new ObjectAdUpdateMessage(ObjectAdUpdateMessage.IMAGE_LOADED))}}};vT.STATE="state",vT.IMAGEURL_KEY="imageUrl",vT.CLICKURL_KEY="clickUrl",vT.OFFSETX_KEY="offsetX",vT.OFFSETY_KEY="offsetY",vT.OFFSETZ_KEY="offsetZ";let FurnitureRoomBrandingLogic=vT;class FurnitureRoomBackgroundLogic extends FurnitureRoomBrandingLogic{getAdClickUrl(ee){return null}}class FurnitureRoomBillboardLogic extends FurnitureRoomBrandingLogic{constructor(){super(),this._hasClickUrl=!0}getAdClickUrl(ee){return ee.getValue(RoomObjectVariable.FURNITURE_BRANDING_URL)}handleAdClick(ee,te,se){if(se.indexOf("http")===0){HabboWebTools.openWebPage(se);return}this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectRoomAdEvent(RoomObjectRoomAdEvent.ROOM_AD_FURNI_CLICK,this.object,"",se))}}class FurnitureRoomDimmerLogic extends FurnitureLogic{constructor(){super(),this._roomColorUpdated=!1}getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.DIMMER,RoomObjectWidgetRequestEvent.WIDGET_REMOVE_DIMMER,RoomObjectDimmerStateUpdateEvent.DIMMER_STATE];return this.mergeTypes(super.getEventTypes(),ee)}onDispose(){this._roomColorUpdated&&this.eventDispatcher&&this.object&&(this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&(this.eventDispatcher.dispatchEvent(new RoomObjectDimmerStateUpdateEvent(this.object,0,1,1,16777215,255)),this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.WIDGET_REMOVE_DIMMER,this.object))),this._roomColorUpdated=!1),super.onDispose()}processUpdateMessage(ee){if(ee instanceof ObjectDataUpdateMessage){if(ee.data){const te=ee.data.getLegacyString();this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&this.processDimmerData(te),super.processUpdateMessage(new ObjectDataUpdateMessage(this.getStateFromDimmerData(te),ee.data))}return}super.processUpdateMessage(ee)}getStateFromDimmerData(ee){if(!ee)return 0;const te=ee.split(",");return te.length>=5?parseInt(te[0])-1:0}processDimmerData(ee){if(!ee)return;const te=ee.split(",");if(te.length>=5){const se=this.getStateFromDimmerData(ee),ne=parseInt(te[1]),le=parseInt(te[2]),ue=te[3];let ce=parseInt(ue.substr(1),16),he=parseInt(te[4]);se||(ce=16777215,he=255),this.eventDispatcher&&this.object&&(this.eventDispatcher.dispatchEvent(new RoomObjectDimmerStateUpdateEvent(this.object,se,ne,le,ce,he)),this._roomColorUpdated=!0)}}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.DIMMER,this.object))}update(ee){super.update(ee)}}const jM=class jM extends FurnitureLogic{constructor(){super(),this._score=0,this._scoreIncreaser=50,this._scoreTimer=0}processUpdateMessage(ee){if(ee instanceof ObjectDataUpdateMessage)return this.updateScore(ee.state);super.processUpdateMessage(ee)}updateScore(ee){this._score=ee;const te=this.object.getState(0);if(this._score!==te){let se=this._score-te;se<0&&(se=-se),se*jM.UPDATE_INTERVAL>jM.MAX_UPDATE_TIME?this._scoreIncreaser=jM.MAX_UPDATE_TIME/se:this._scoreIncreaser=jM.UPDATE_INTERVAL,this._scoreTimer=GetTickerTime()}}update(ee){super.update(ee);const te=this.object.getState(0);if(te!==this._score&&ee>=this._scoreTimer+this._scoreIncreaser){const se=ee-this._scoreTimer;let ne=se/this._scoreIncreaser,le=1;this._score<te&&(le=-1),ne>le*(this._score-te)&&(ne=le*(this._score-te)),this.object.setState(te+le*ne,0),this._scoreTimer=ee-(se-ne*this._scoreIncreaser)}}};jM.UPDATE_INTERVAL=50,jM.MAX_UPDATE_TIME=3e3;let FurnitureScoreLogic=jM;class FurnitureSongDiskLogic extends FurnitureLogic{processUpdateMessage(ee){if(super.processUpdateMessage(ee),this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1){const te=this.object.model.getValue(RoomObjectVariable.FURNITURE_EXTRAS),se=parseInt(te);this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.SONGDISK+se)}}}const rO=class rO extends FurnitureMultiStateLogic{constructor(){super(...arguments),this._state=-1,this._sampleId=-1,this._noPitch=!1,this._lastLocZ=0}getEventTypes(){const ee=[RoomObjectSamplePlaybackEvent.ROOM_OBJECT_INITIALIZED,RoomObjectSamplePlaybackEvent.ROOM_OBJECT_DISPOSED,RoomObjectSamplePlaybackEvent.PLAY_SAMPLE,RoomObjectSamplePlaybackEvent.CHANGE_PITCH];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){super.initialize(ee),ee.logic&&ee.logic.soundSample&&(this._sampleId=ee.logic.soundSample.id,this._noPitch=ee.logic.soundSample.noPitch),this.object.model.setValue(RoomObjectVariable.FURNITURE_SOUNDBLOCK_RELATIVE_ANIMATION_SPEED,1)}onDispose(){this._state!==rO.STATE_UNINITIALIZED&&this.eventDispatcher.dispatchEvent(new RoomObjectSamplePlaybackEvent(RoomObjectSamplePlaybackEvent.ROOM_OBJECT_DISPOSED,this.object,this._sampleId)),super.onDispose()}processUpdateMessage(ee){super.processUpdateMessage(ee),ee instanceof ObjectDataUpdateMessage&&this.updateSoundBlockMessage(ee)}updateSoundBlockMessage(ee){if(!ee)return;const te=this.object&&this.object.model,se=this.object&&this.object.location;!te||!se||(this._state===rO.STATE_UNINITIALIZED&&te.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&(this._lastLocZ=se.z,this.eventDispatcher.dispatchEvent(new RoomObjectSamplePlaybackEvent(RoomObjectSamplePlaybackEvent.ROOM_OBJECT_INITIALIZED,this.object,this._sampleId,this.getPitchForHeight(se.z)))),this._state!==rO.STATE_UNINITIALIZED&&te.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&this._lastLocZ!==se.z&&(this._lastLocZ=se.z,this.eventDispatcher.dispatchEvent(new RoomObjectSamplePlaybackEvent(RoomObjectSamplePlaybackEvent.CHANGE_PITCH,this.object,this._sampleId,this.getPitchForHeight(se.z)))),this._state!==rO.STATE_UNINITIALIZED&&ee.state!==this._state&&this.playSoundAt(se.z),this._state=ee.state)}playSoundAt(ee){if(!this.object)return;const te=this.getPitchForHeight(ee);this.object.model.setValue(RoomObjectVariable.FURNITURE_SOUNDBLOCK_RELATIVE_ANIMATION_SPEED,te),this.eventDispatcher.dispatchEvent(new RoomObjectSamplePlaybackEvent(RoomObjectSamplePlaybackEvent.PLAY_SAMPLE,this.object,this._sampleId,te))}getPitchForHeight(ee){if(this._noPitch)return 1;let te=ee*2;return te>rO.HIGHEST_SEMITONE&&(te=Math.min(0,rO.LOWEST_SEMITONE+(te-rO.HIGHEST_SEMITONE-1))),Math.pow(2,te/12)}};rO.HIGHEST_SEMITONE=12,rO.LOWEST_SEMITONE=-12,rO.STATE_UNINITIALIZED=-1;let FurnitureSoundBlockLogic=rO;class FurnitureSoundMachineLogic extends FurnitureMultiStateLogic{constructor(){super(...arguments),this._disposeEventsAllowed=!1,this._isInitialized=!1,this._currentState=-1}getEventTypes(){const ee=[RoomObjectFurnitureActionEvent.SOUND_MACHINE_START,RoomObjectFurnitureActionEvent.SOUND_MACHINE_STOP,RoomObjectFurnitureActionEvent.SOUND_MACHINE_DISPOSE,RoomObjectFurnitureActionEvent.SOUND_MACHINE_INIT];return this.mergeTypes(super.getEventTypes(),ee)}onDispose(){this.requestDispose(),super.onDispose()}processUpdateMessage(ee){if(super.processUpdateMessage(ee),this.object.model.getValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT)===1&&(this._isInitialized||this.requestInit(),this.object.model.setValue(RoomWidgetEnumItemExtradataParameter.INFOSTAND_EXTRA_PARAM,RoomWidgetEnumItemExtradataParameter.JUKEBOX),ee instanceof ObjectDataUpdateMessage)){const te=this.object.getState(0);te!==this._currentState&&(this._currentState=te,te===1?this.requestPlayList():te===0&&this.requestStopPlaying())}}requestInit(){!this.object||!this.eventDispatcher||(this._disposeEventsAllowed=!0,this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.SOUND_MACHINE_INIT,this.object)),this._isInitialized=!0)}requestPlayList(){!this.object||!this.eventDispatcher||(this._disposeEventsAllowed=!0,this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.SOUND_MACHINE_START,this.object)))}requestStopPlaying(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.SOUND_MACHINE_STOP,this.object))}requestDispose(){!this._disposeEventsAllowed||!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.SOUND_MACHINE_DISPOSE,this.object))}}const Q2=class Q2 extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.STICKIE,RoomObjectFurnitureActionEvent.STICKIE];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){super.initialize(ee),this.updateColor(),this.object&&this.object.model.setValue(RoomObjectVariable.FURNITURE_IS_STICKIE,"")}processUpdateMessage(ee){super.processUpdateMessage(ee),ee instanceof ObjectItemDataUpdateMessage&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.STICKIE,this.object)),this.updateColor()}updateColor(){if(!this.object)return;const ee=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA);let te=Q2.STICKIE_COLORS.indexOf(ee);te<0&&(te=3),this.object.model.setValue(RoomObjectVariable.FURNITURE_COLOR,te+1)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectFurnitureActionEvent(RoomObjectFurnitureActionEvent.STICKIE,this.object))}};Q2.STICKIE_COLORS=["9CCEFF","FF9CFF","9CFF9C","FFFF33"];let FurnitureStickieLogic=Q2;class FurnitureTrophyLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.TROPHY];return this.mergeTypes(super.getEventTypes(),ee)}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.TROPHY,this.object))}}const GM=class GM extends FurnitureMultiStateLogic{constructor(){super(),this._total=0,this._lastUpdate=0,this._interval=33}processUpdateMessage(ee){if(super.processUpdateMessage(ee),ee instanceof ObjectDataUpdateMessage){const te=ee.data;if(!te)return;this.updateTotal(te.result)}}updateTotal(ee){if(this._total=ee,!this._lastUpdate){this.object.model.setValue(RoomObjectVariable.FURNITURE_VOTE_COUNTER_COUNT,ee),this._lastUpdate=GetTickerTime();return}if(this._total!==this.currentTotal){const te=Math.abs(this._total-this.currentTotal);te*GM.UPDATE_INTERVAL>GM.MAX_UPDATE_TIME?this._interval=GM.MAX_UPDATE_TIME/te:this._interval=GM.UPDATE_INTERVAL,this._lastUpdate=GetTickerTime()}}update(ee){if(super.update(ee),this.object&&this.currentTotal!==this._total&&ee>=this._lastUpdate+this._interval){const te=ee-this._lastUpdate;let se=te/this._interval,ne=1;this._total<this.currentTotal&&(ne=-1),se>ne*(this._total-this.currentTotal)&&(se=ne*(this._total-this.currentTotal)),this.object.model.setValue(RoomObjectVariable.FURNITURE_VOTE_COUNTER_COUNT,this.currentTotal+ne*se),this._lastUpdate=ee-(te-se*this._interval)}}get currentTotal(){return this.object.model.getValue(RoomObjectVariable.FURNITURE_VOTE_COUNTER_COUNT)}};GM.UPDATE_INTERVAL=33,GM.MAX_UPDATE_TIME=1e3;let FurnitureVoteCounterLogic=GM;class FurnitureVoteMajorityLogic extends FurnitureMultiStateLogic{processUpdateMessage(ee){if(super.processUpdateMessage(ee),!!this.object&&ee instanceof ObjectDataUpdateMessage){const te=ee.data;te instanceof VoteDataType&&this.object.model.setValue(RoomObjectVariable.FURNITURE_VOTE_MAJORITY_RESULT,te.result)}}}class FurnitureWelcomeGiftLogic extends FurnitureMultiStateLogic{mouseEvent(ee,te){!ee||!te||(ee.type===MouseEventType.DOUBLE_CLICK&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectStateChangedEvent(RoomObjectStateChangedEvent.STATE_CHANGE,this.object)),super.mouseEvent(ee,te))}}class FurnitureWindowLogic extends FurnitureMultiStateLogic{initialize(ee){super.initialize(ee);let te="";ee.logic&&ee.logic.maskType&&ee.logic.maskType!==""&&ee.logic.maskType.length>0&&(te=ee.logic.maskType),this.object.model.setValue(RoomObjectVariable.FURNITURE_USES_PLANE_MASK,1),this.object.model.setValue(RoomObjectVariable.FURNITURE_PLANE_MASK_TYPE,te)}}class FurnitureYoutubeLogic extends FurnitureLogic{getEventTypes(){const ee=[RoomObjectWidgetRequestEvent.YOUTUBE,RoomObjectDataRequestEvent.RODRE_URL_PREFIX];return this.mergeTypes(super.getEventTypes(),ee)}update(ee){super.update(ee),this.object.model.getValue(RoomObjectVariable.SESSION_URL_PREFIX)||this.eventDispatcher.dispatchEvent(new RoomObjectDataRequestEvent(RoomObjectDataRequestEvent.RODRE_URL_PREFIX,this.object))}useObject(){!this.object||!this.eventDispatcher||this.eventDispatcher.dispatchEvent(new RoomObjectWidgetRequestEvent(RoomObjectWidgetRequestEvent.YOUTUBE,this.object))}}class PetLogic extends MovingObjectLogic{constructor(){super(),this._selected=!1,this._reportedLocation=null,this._postureIndex=0,this._gestureIndex=0,this._headDirectionDelta=0,this._directions=[],this._talkingEndTimestamp=0,this._gestureEndTimestamp=0,this._expressionEndTimestamp=0}getEventTypes(){const ee=[RoomObjectMouseEvent.CLICK,RoomObjectMoveEvent.POSITION_CHANGED];return this.mergeTypes(super.getEventTypes(),ee)}initialize(ee){if(!ee)return;const te=this.object&&this.object.model;if(te){if(ee.logic&&ee.logic.model){const se=ee.logic.model.directions;if(se&&se.length){for(const ne of se)this._directions.push(ne);this._directions.sort()}}te.setValue(RoomObjectVariable.PET_ALLOWED_DIRECTIONS,this._directions)}}dispose(){this._selected&&this.object&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectMoveEvent(RoomObjectMoveEvent.OBJECT_REMOVED,this.object)),this._directions=null,this._reportedLocation=null}update(ee){if(super.update(ee),this._selected&&this.object&&this.eventDispatcher){const te=this.object.getLocation();(!this._reportedLocation||this._reportedLocation.x!==te.x||this._reportedLocation.y!==te.y||this._reportedLocation.z!==te.z)&&(this._reportedLocation||(this._reportedLocation=new Vector3d),this._reportedLocation.assign(te),this.eventDispatcher.dispatchEvent(new RoomObjectMoveEvent(RoomObjectMoveEvent.POSITION_CHANGED,this.object)))}this.object&&this.object.model&&this.updateModel(ee,this.object.model)}updateModel(ee,te){this._gestureEndTimestamp>0&&ee>this._gestureEndTimestamp&&(te.setValue(RoomObjectVariable.FIGURE_GESTURE,null),this._gestureEndTimestamp=0),this._talkingEndTimestamp>0&&ee>this._talkingEndTimestamp&&(te.setValue(RoomObjectVariable.FIGURE_TALK,0),this._talkingEndTimestamp=0),this._expressionEndTimestamp>0&&ee>this._expressionEndTimestamp&&(te.setValue(RoomObjectVariable.FIGURE_EXPRESSION,0),this._expressionEndTimestamp=0)}processUpdateMessage(ee){if(!ee||!this.object)return;super.processUpdateMessage(ee);const te=this.object&&this.object.model;if(te){if(ee instanceof ObjectAvatarUpdateMessage){te.setValue(RoomObjectVariable.HEAD_DIRECTION,ee.headDirection);return}if(ee instanceof ObjectAvatarFigureUpdateMessage){const se=new PetFigureData(ee.figure);te.setValue(RoomObjectVariable.FIGURE,ee.figure),te.setValue(RoomObjectVariable.RACE,ee.subType),te.setValue(RoomObjectVariable.PET_PALETTE_INDEX,se.paletteId),te.setValue(RoomObjectVariable.PET_COLOR,se.color),te.setValue(RoomObjectVariable.PET_TYPE,se.typeId),te.setValue(RoomObjectVariable.PET_CUSTOM_LAYER_IDS,se.customLayerIds),te.setValue(RoomObjectVariable.PET_CUSTOM_PARTS_IDS,se.customPartIds),te.setValue(RoomObjectVariable.PET_CUSTOM_PALETTE_IDS,se.customPaletteIds),te.setValue(RoomObjectVariable.PET_IS_RIDING,ee.isRiding?1:0);return}if(ee instanceof ObjectAvatarPostureUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_POSTURE,ee.postureType);return}if(ee instanceof ObjectAvatarChatUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_TALK,1),this._talkingEndTimestamp=this.time+ee.numberOfWords*1e3;return}if(ee instanceof ObjectAvatarSleepUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_SLEEP,ee.isSleeping?1:0);return}if(ee instanceof ObjectAvatarPetGestureUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_GESTURE,ee.gesture),this._gestureEndTimestamp=this.time+3e3;return}if(ee instanceof ObjectAvatarSelectedMessage){this._selected=ee.selected,this._reportedLocation=null;return}if(ee instanceof ObjectAvatarExperienceUpdateMessage){te.setValue(RoomObjectVariable.FIGURE_EXPERIENCE_TIMESTAMP,this.time),te.setValue(RoomObjectVariable.FIGURE_GAINED_EXPERIENCE,ee.gainedExperience);return}}}mouseEvent(ee,te){let se=null;switch(ee.type){case MouseEventType.MOUSE_CLICK:se=RoomObjectMouseEvent.CLICK;break;case MouseEventType.DOUBLE_CLICK:break;case MouseEventType.MOUSE_DOWN:{this.object.model.getValue(RoomObjectVariable.PET_TYPE)===PetType.MONSTERPLANT&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectMouseEvent(RoomObjectMouseEvent.MOUSE_DOWN,this.object,ee.eventId,ee.altKey,ee.ctrlKey,ee.shiftKey,ee.buttonDown));break}}se&&this.eventDispatcher&&this.eventDispatcher.dispatchEvent(new RoomObjectMouseEvent(se,this.object,ee.eventId,ee.altKey,ee.ctrlKey,ee.shiftKey,ee.buttonDown))}}class RoomMapData{constructor(){this._width=0,this._height=0,this._wallHeight=0,this._fixedWallsHeight=0,this._tileMap=[],this._holeMap=[],this._doors=[],this._dimensions={minX:0,maxX:0,minY:0,maxY:0},this._restrictsDragging=!1,this._restrictedScale=1,this._restrictsScaling=!1}get width(){return this._width}set width(ee){this._width=ee}get height(){return this._height}set height(ee){this._height=ee}get wallHeight(){return this._wallHeight}set wallHeight(ee){this._wallHeight=ee}get fixedWallsHeight(){return this._fixedWallsHeight}set fixedWallsHeight(ee){this._fixedWallsHeight=ee}get tileMap(){return this._tileMap}get holeMap(){return this._holeMap}get doors(){return this._doors}get dimensions(){return this._dimensions}get restrictsDragging(){return this._restrictsDragging}set restrictsDragging(ee){this._restrictsDragging=ee}get restrictsScaling(){return this._restrictsScaling}set restrictsScaling(ee){this._restrictsScaling=ee}get restrictedScale(){return this._restrictedScale}set restrictedScale(ee){this._restrictedScale=ee}}const J2=class J2{constructor(ee,te,se){this.type=ee,this.loc=te,this.category=se}get loc(){return this._loc}set loc(ee){this._loc||(this._loc=new Vector3d),this._loc.assign(ee)}get type(){return this._type}set type(ee){this._type=ee}get category(){return this._category}set category(ee){this._category=ee}dispose(){this._loc=null}};J2.WINDOW="window",J2.HOLE="hole";let RoomPlaneBitmapMaskData=J2;class RoomMapMaskData{constructor(){this._masks=[]}get masks(){return this._masks}}class RoomPlaneBitmapMaskParser{constructor(){this._masks=new Map}get maskCount(){return this._masks.size}dispose(){this._masks&&(this.reset(),this._masks=null)}initialize(ee){if(!ee)return!1;if(this._masks.clear(),ee.masks.length)for(const te of ee.masks){if(!te)continue;const se=te.locations.length?te.locations[0]:null;se&&this._masks.set(te.id,new RoomPlaneBitmapMaskData(te.type,se,te.category))}return!0}reset(){for(const ee of this._masks.values())ee&&ee.dispose();this._masks.clear()}addMask(ee,te,se,ne){const le=new RoomPlaneBitmapMaskData(te,se,ne);this._masks.delete(ee),this._masks.set(ee,le)}removeMask(ee){const te=this._masks.get(ee);return te?(this._masks.delete(ee),te.dispose(),!0):!1}getXML(){const ee=new RoomMapMaskData;for(const[te,se]of this._masks.entries()){if(!se)continue;const ne=this.getMaskType(se),le=this.getMaskCategory(se),ue=this.getMaskLocation(se);if(ne&&le&&ue){const ce={id:te,type:ne,category:le,locations:[{x:ue.x,y:ue.y,z:ue.z}]};ee.masks.push(ce)}}return ee}getMaskLocation(ee){return ee?ee.loc:null}getMaskType(ee){return ee?ee.type:null}getMaskCategory(ee){return ee?ee.category:null}get masks(){return this._masks}}class RoomPlaneMaskData{constructor(ee,te,se,ne){this._leftSideLoc=0,this._rightSideLoc=0,this._leftSideLength=0,this._rightSideLength=0,this._leftSideLoc=ee,this._rightSideLoc=te,this._leftSideLength=se,this._rightSideLength=ne}get leftSideLoc(){return this._leftSideLoc}get rightSideLoc(){return this._rightSideLoc}get leftSideLength(){return this._leftSideLength}get rightSideLength(){return this._rightSideLength}}const OP=class OP{constructor(ee,te,se,ne,le){this._type=0,this._loc=null,this._leftSide=null,this._rightSide=null,this._normal=null,this._normalDirection=null;let ue,ce,he,de,_e,fe,ye,be;if(this._secondaryNormals=[],this._masks=[],this._loc=new Vector3d,this._loc.assign(te),this._leftSide=new Vector3d,this._leftSide.assign(se),this._rightSide=new Vector3d,this._rightSide.assign(ne),this._type=ee,se!=null&&ne!=null&&(this._normal=Vector3d.crossProduct(se,ne),ue=0,ce=0,he=0,de=0,_e=0,this.normal.x!=0||this.normal.y!=0?(de=this.normal.x,_e=this.normal.y,ue=360+Math.atan2(_e,de)/Math.PI*180,ue>=360&&(ue=ue-360),de=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y),_e=this.normal.z,ce=360+Math.atan2(_e,de)/Math.PI*180,ce>=360&&(ce=ce-360)):this.normal.z<0?ce=90:ce=270,this._normalDirection=new Vector3d(ue,ce,he)),le!=null&&le.length>0)for(fe=0;fe<le.length;)ye=le[fe],ye!=null&&ye.length>0&&(be=new Vector3d,be.assign(ye),be.multiply(1/be.length),this._secondaryNormals.push(be)),fe++}get type(){return this._type}get loc(){return this._loc}get leftSide(){return this._leftSide}get rightSide(){return this._rightSide}get normal(){return this._normal}get normalDirection(){return this._normalDirection}get secondaryNormalCount(){return this._secondaryNormals.length}get maskCount(){return this._masks.length}getSecondaryNormal(ee){if(ee<0||ee>=this.secondaryNormalCount)return null;const te=new Vector3d;return te.assign(this._secondaryNormals[ee]),te}addMask(ee,te,se,ne){const le=new RoomPlaneMaskData(ee,te,se,ne);this._masks.push(le)}getMask(ee){return ee<0||ee>=this.maskCount?null:this._masks[ee]}getMaskLeftSideLoc(ee){const te=this.getMask(ee);return te!=null?te.leftSideLoc:-1}getMaskRightSideLoc(ee){const te=this.getMask(ee);return te!=null?te.rightSideLoc:-1}getMaskLeftSideLength(ee){const te=this.getMask(ee);return te!=null?te.leftSideLength:-1}getMaskRightSideLength(ee){const te=this.getMask(ee);return te!=null?te.rightSideLength:-1}};OP.PLANE_UNDEFINED=0,OP.PLANE_FLOOR=1,OP.PLANE_WALL=2,OP.PLANE_LANDSCAPE=3,OP.PLANE_BILLBOARD=4;let RoomPlaneData=OP;class RoomFloorHole{constructor(ee,te,se,ne){this._x=ee,this._y=te,this._width=se,this._height=ne}get x(){return this._x}get y(){return this._y}get width(){return this._width}get height(){return this._height}}const AN=class AN{constructor(){this._corners=[],this._endPoints=[],this._directions=[],this._lengths=[],this._leftTurns=[],this._borders=[],this._hideWalls=[],this._manuallyLeftCut=[],this._manuallyRightCut=[],this._addDuplicates=!1,this._count=0}addWall(ee,te,se,ne,le){(this._addDuplicates||this.checkIsNotDuplicate(ee,te,se,ne,le))&&(this._corners.push(ee),this._directions.push(te),this._lengths.push(se),this._borders.push(ne),this._leftTurns.push(le),this._hideWalls.push(!1),this._manuallyLeftCut.push(!1),this._manuallyRightCut.push(!1),this._count++)}checkIsNotDuplicate(ee,te,se,ne,le){let ue=0;for(;ue<this._count;){if(this._corners[ue].x==ee.x&&this._corners[ue].y==ee.y&&this._directions[ue]==te&&this._lengths[ue]==se&&this._borders[ue]==ne&&this._leftTurns[ue]==le)return!1;ue++}return!0}get count(){return this._count}getCorner(ee){return this._corners[ee]}getEndPoint(ee){return this.calculateWallEndPoints(),this._endPoints[ee]}getLength(ee){return this._lengths[ee]}getDirection(ee){return this._directions[ee]}getBorder(ee){return this._borders[ee]}getHideWall(ee){return this._hideWalls[ee]}getLeftTurn(ee){return this._leftTurns[ee]}getManuallyLeftCut(ee){return this._manuallyLeftCut[ee]}getManuallyRightCut(ee){return this._manuallyRightCut[ee]}setHideWall(ee,te){this._hideWalls[ee]=te}setLength(ee,te){te<this._lengths[ee]&&(this._lengths[ee]=te,this._manuallyRightCut[ee]=!0)}moveCorner(ee,te){let se;if(te>0&&te<this._lengths[ee]){const ne=this._corners[ee];se=AN.WALL_DIRECTION_VECTORS[this.getDirection(ee)],this._corners[ee]=new Point$1(ne.x+te*se.x,ne.y+te*se.y),this._lengths[ee]=this._lengths[ee]-te,this._manuallyLeftCut[ee]=!0}}calculateWallEndPoints(){let ee,te,se,ne,le;if(this._endPoints.length!=this.count)for(this._endPoints=[],ee=0;ee<this.count;)te=this.getCorner(ee),se=new Point$1(te.x,te.y),ne=AN.WALL_DIRECTION_VECTORS[this.getDirection(ee)],le=this.getLength(ee),se.x=se.x+ne.x*le,se.y=se.y+ne.y*le,this._endPoints.push(se),ee++}};AN.WALL_DIRECTION_VECTORS=[new Vector3d(1,0,0),new Vector3d(0,1,0),new Vector3d(-1,0,0),new Vector3d(0,-1,0)],AN.WALL_NORMAL_VECTORS=[new Vector3d(0,1,0),new Vector3d(-1,0,0),new Vector3d(0,-1,0),new Vector3d(1,0,0)];let RoomWallData=AN;const UR=class UR{constructor(){this._width=0,this._height=0,this._minX=0,this._maxX=0,this._minY=0,this._maxY=0,this._fixedWallHeight=-1,this._floorHeight=0,this._restrictsScaling=!1,this._restrictedScale=1,this._tileMatrix=[],this._tileMatrixOriginal=[],this._planes=[],this._floorHoleMatrix=[],this._wallHeight=3.6,this._wallThicknessMultiplier=1,this._floorThicknessMultiplier=1,this._floorHoles=new Map}static getFloorHeight(ee){const te=ee.length;if(!te)return 0;let se=0,ne=0;for(;ne<te;){const le=ee[ne];let ue=0;for(;ue<le.length;){const ce=le[ue];ce>se&&(se=ce),ue++}ne++}return se}static findEntranceTile(ee){if(!ee)return null;const te=ee.length;if(!te)return null;const se=[];let ne=0;for(;ne<te;){const le=ee[ne];if(!le||!le.length)return null;let ue=0;for(;ue<le.length;){if(le[ue]>=0){se.push(ue);break}ue++}se.length<ne+1&&se.push(le.length+1),ne++}for(ne=1;ne<se.length-1;){if(Math.trunc(se[ne])<=Math.trunc(se[ne-1])-1&&Math.trunc(se[ne])<=Math.trunc(se[ne+1])-1)return new Point$1(Math.trunc(se[ne]|0),ne);ne++}return null}static expandFloorTiles(ee){let te,se,ne,le,ue,ce,he,de,_e,fe,ye,be;const Pe=ee.length,Ne=ee[0].length,we=[];for(se=0;se<Pe*4;)we[se]=[],se++;let De=0;for(se=0;se<Pe;){for(ue=0,te=0;te<Ne;){if(ce=ee[se][te],ce<0||ce<=255)for(le=0;le<4;){for(ne=0;ne<4;)we[De+le]===void 0&&(we[De+le]=[]),we[De+le][ue+ne]=ce<0?ce:ce*4,ne++;le++}else{for(he=(ce&255)*4,de=he+(ce>>11&1)*3,_e=he+(ce>>10&1)*3,fe=he+(ce>>9&1)*3,ye=he+(ce>>8&1)*3,ne=0;ne<3;)be=ne+1,we[De][ue+ne]=(de*(3-ne)+_e*ne)/3,we[De+3][ue+be]=(fe*(3-be)+ye*be)/3,we[De+be][ue]=(de*(3-be)+fe*be)/3,we[De+ne][ue+3]=(_e*(3-ne)+ye*ne)/3,ne++;we[De+1][ue+1]=de>he?he+2:he+1,we[De+1][ue+2]=_e>he?he+2:he+1,we[De+2][ue+1]=fe>he?he+2:he+1,we[De+2][ue+2]=ye>he?he+2:he+1}ue=ue+4,te++}De=De+4,se++}return we}static addTileTypes(ee){let te,se,ne,le,ue,ce,he,de,_e,fe,ye,be,Pe;const Ne=ee.length-1,we=ee[0].length-1;for(se=1;se<Ne;){for(te=1;te<we;)ne=ee[se][te],ne<0||(le=ee[se-1][te-1]&255,ue=ee[se-1][te]&255,ce=ee[se-1][te+1]&255,he=ee[se][te-1]&255,de=ee[se][te+1]&255,_e=ee[se+1][te-1]&255,fe=ee[se+1][te]&255,ye=ee[se+1][te+1]&255,be=ne+1,Pe=(le==be||ue==be||he==be?8:0)|(ce==be||ue==be||de==be?4:0)|(_e==be||fe==be||he==be?2:0)|(ye==be||fe==be||de==be?1:0),Pe==15&&(Pe=0),ee[se][te]=ne|Pe<<8),te++;se++}}static unpadHeightMap(ee){ee.shift(),ee.pop();for(const te of ee)te.shift(),te.pop()}static padHeightMap(ee){const te=[],se=[];for(const ne of ee)ne.push(UR.TILE_BLOCKED),ne.unshift(UR.TILE_BLOCKED);for(const ne of ee[0])te.push(UR.TILE_BLOCKED),se.push(UR.TILE_BLOCKED);ee.push(se),ee.unshift(te)}get minX(){return this._minX}get maxX(){return this._maxX}get minY(){return this._minY}get maxY(){return this._maxY}get tileMapWidth(){return this._width}get tileMapHeight(){return this._height}get planeCount(){return this._planes.length}get floorHeight(){return this._fixedWallHeight!=-1?this._fixedWallHeight:this._floorHeight}get wallHeight(){return this._fixedWallHeight!=-1?this._fixedWallHeight+3.6:this._wallHeight}set wallHeight(ee){ee<0&&(ee=0),this._wallHeight=ee}get wallThicknessMultiplier(){return this._wallThicknessMultiplier}set wallThicknessMultiplier(ee){ee<0&&(ee=0),this._wallThicknessMultiplier=ee}get floorThicknessMultiplier(){return this._floorThicknessMultiplier}set floorThicknessMultiplier(ee){ee<0&&(ee=0),this._floorThicknessMultiplier=ee}dispose(){this._planes=null,this._tileMatrix=null,this._tileMatrixOriginal=null,this._floorHoleMatrix=null,this._floorHoles!=null&&(this._floorHoles.clear(),this._floorHoles=null)}reset(){this._planes=[],this._tileMatrix=[],this._tileMatrixOriginal=[],this._width=0,this._height=0,this._minX=0,this._maxX=0,this._minY=0,this._maxY=0,this._floorHeight=0,this._floorHoleMatrix=[]}initializeTileMap(ee,te){ee<0&&(ee=0),te<0&&(te=0),this._tileMatrix=[],this._tileMatrixOriginal=[],this._floorHoleMatrix=[];let se=0;for(;se<te;){const ne=[],le=[],ue=[];let ce=0;for(;ce<ee;)ne[ce]=UR.TILE_BLOCKED,le[ce]=UR.TILE_BLOCKED,ue[ce]=!1,ce++;this._tileMatrix.push(ne),this._tileMatrixOriginal.push(le),this._floorHoleMatrix.push(ue),se++}return this._width=ee,this._height=te,this._minX=this._width,this._maxX=-1,this._minY=this._height,this._maxY=-1,!0}setTileHeight(ee,te,se){let ne,le,ue,ce,he;if(ee>=0&&ee<this._width&&te>=0&&te<this._height){if(ne=this._tileMatrix[te],ne[ee]=se,se>=0)ee<this._minX&&(this._minX=ee),ee>this._maxX&&(this._maxX=ee),te<this._minY&&(this._minY=te),te>this._maxY&&(this._maxY=te);else{if(ee==this._minX||ee==this._maxX){for(le=!1,ue=this._minY;ue<this._maxY;){if(this.getTileHeightInternal(ee,ue)>=0){le=!0;break}ue++}le||(ee==this._minX&&this._minX++,ee==this._maxX&&this._maxX--)}if(te==this._minY||te==this._maxY){for(ce=!1,he=this._minX;he<this._maxX;){if(this.getTileHeight(he,te)>=0){ce=!0;break}he++}ce||(te==this._minY&&this._minY++,te==this._maxY&&this._maxY--)}}return!0}return!1}getTileHeight(ee,te){if(ee<0||ee>=this._width||te<0||te>=this._height)return UR.TILE_BLOCKED;const se=this._tileMatrix[te];return se[ee]===void 0?0:Math.abs(se[ee])}getTileHeightOriginal(ee,te){return ee<0||ee>=this._width||te<0||te>=this._height?UR.TILE_BLOCKED:this._floorHoleMatrix[te][ee]?UR.TILE_HOLE:this._tileMatrixOriginal[te][ee]}getTileHeightInternal(ee,te){return ee<0||ee>=this._width||te<0||te>=this._height?UR.TILE_BLOCKED:this._tileMatrix[te][ee]}initializeFromTileData(ee=-1){let te,se;for(this._fixedWallHeight=ee,se=0;se<this._height;){for(te=0;te<this._width;)this._tileMatrixOriginal[se]===void 0&&(this._tileMatrixOriginal[se]=[]),this._tileMatrixOriginal[se][te]=this._tileMatrix[se][te],te++;se++}const ne=UR.findEntranceTile(this._tileMatrix);for(se=0;se<this._height;){for(te=0;te<this._width;)this._floorHoleMatrix[se]===void 0&&(this._floorHoleMatrix[se]=[]),this._floorHoleMatrix[se][te]&&this.setTileHeight(te,se,UR.TILE_HOLE),te++;se++}return this.initialize(ne)}initialize(ee){let te=0;ee!=null&&(te=this.getTileHeight(ee.x,ee.y),this.setTileHeight(ee.x,ee.y,UR.TILE_BLOCKED)),this._floorHeight=UR.getFloorHeight(this._tileMatrix),this.createWallPlanes();const se=[];for(const le of this._tileMatrix)se.push(le.concat());UR.padHeightMap(se),UR.addTileTypes(se),UR.unpadHeightMap(se);const ne=UR.expandFloorTiles(se);return this.extractPlanes(ne),ee!=null&&(this.setTileHeight(ee.x,ee.y,te),this.addFloor(new Vector3d(ee.x+.5,ee.y+.5,te),new Vector3d(-1,0,0),new Vector3d(0,-1,0),!1,!1,!1,!1)),!0}generateWallData(ee,te){let se,ne,le,ue,ce;const he=new RoomWallData,de=[this.extractTopWall.bind(this),this.extractRightWall.bind(this),this.extractBottomWall.bind(this),this.extractLeftWall.bind(this)];let _e=0,fe=new Point$1(ee.x,ee.y),ye=0;for(;ye++<1e3;){if(se=!1,ne=!1,le=_e,(fe.x<this.minX||fe.x>this.maxX||fe.y<this.minY||fe.y>this.maxY)&&(se=!0),ue=de[_e](fe,te),ue==null)return null;if(ce=Math.abs(ue.x-fe.x)+Math.abs(ue.y-fe.y),fe.x==ue.x||fe.y==ue.y?(_e=(_e-1+de.length)%de.length,ce=ce+1,ne=!0):(_e=(_e+1)%de.length,ce--),he.addWall(fe,le,ce,se,ne),ue.x==ee.x&&ue.y==ee.y&&(ue.x!=fe.x||ue.y!=fe.y))break;fe=ue}return he.count==0?null:he}hidePeninsulaWallChains(ee){let te,se,ne,le,ue=0;const ce=ee.count;for(;ue<ce;){const he=ue;for(te=ue,se=0,ne=!1;!ee.getBorder(ue)&&ue<ce;)ee.getLeftTurn(ue)?se++:se>0&&se--,se>1&&(ne=!0),te=ue,ue++;if(ne)for(le=he;le<=te;)ee.setHideWall(le,!0),le++;ue++}}updateWallsNextToHoles(ee){let te,se,ne,le,ue,ce,he;const de=ee.count;let _e=0;for(;_e<de;){if(!ee.getHideWall(_e)){for(te=ee.getCorner(_e),se=ee.getDirection(_e),ne=ee.getLength(_e),le=RoomWallData.WALL_DIRECTION_VECTORS[se],ue=RoomWallData.WALL_NORMAL_VECTORS[se],ce=0,he=0;he<ne;){if(this.getTileHeightInternal(te.x+he*le.x-ue.x,te.y+he*le.y-ue.y)==UR.TILE_HOLE){if(he>0&&ce==0){ee.setLength(_e,he);break}ce++}else if(ce>0){ee.moveCorner(_e,ce);break}he++}ce==ne&&ee.setHideWall(_e,!0)}_e++}}resolveOriginalWallIndex(ee,te,se){let ne,le,ue,ce,he,de;const _e=Math.min(ee.y,te.y),fe=Math.max(ee.y,te.y),ye=Math.min(ee.x,te.x),be=Math.max(ee.x,te.x),Pe=se.count;let Ne=0;for(;Ne<Pe;){if(ne=se.getCorner(Ne),le=se.getEndPoint(Ne),ee.x==te.x){if(ne.x==ee.x&&le.x==ee.x&&(ue=Math.min(ne.y,le.y),ce=Math.max(ne.y,le.y),ue<=_e&&fe<=ce))return Ne}else if(ee.y==te.y&&ne.y==ee.y&&le.y==ee.y&&(he=Math.min(ne.x,le.x),de=Math.max(ne.x,le.x),he<=ye&&be<=de))return Ne;Ne++}return-1}hideOriginallyHiddenWalls(ee,te){let se,ne,le,ue,ce;const he=ee.count;let de=0;for(;de<he;)ee.getHideWall(de)||(se=ee.getCorner(de),ne=new Point$1(se.x,se.y),le=RoomWallData.WALL_DIRECTION_VECTORS[ee.getDirection(de)],ue=ee.getLength(de),ne.x=ne.x+le.x*ue,ne.y=ne.y+le.y*ue,ce=this.resolveOriginalWallIndex(se,ne,te),ce>=0?te.getHideWall(ce)&&ee.setHideWall(de,!0):ee.setHideWall(de,!0)),de++}checkWallHiding(ee,te){this.hidePeninsulaWallChains(te),this.updateWallsNextToHoles(ee),this.hideOriginallyHiddenWalls(ee,te)}addWalls(ee,te){const se=ee.count,ne=te.count;let le=0;for(;le<se;){if(!ee.getHideWall(le)){const ue=ee.getCorner(le),ce=ee.getDirection(le),he=ee.getLength(le),de=RoomWallData.WALL_DIRECTION_VECTORS[ce],_e=RoomWallData.WALL_NORMAL_VECTORS[ce];let fe=-1,ye=0;for(;ye<he;){const gd=this.getTileHeightInternal(ue.x+ye*de.x+_e.x,ue.y+ye*de.y+_e.y);gd>=0&&(gd<fe||fe<0)&&(fe=gd),ye++}const be=fe;let Pe=new Vector3d(ue.x,ue.y,be);Pe=Vector3d.sum(Pe,Vector3d.product(_e,.5)),Pe=Vector3d.sum(Pe,Vector3d.product(de,-.5));const Ne=this.wallHeight+Math.min(UR.MAX_WALL_ADDITIONAL_HEIGHT,this.floorHeight)-fe,we=Vector3d.product(de,-he),De=new Vector3d(0,0,Ne);Pe=Vector3d.dif(Pe,we);const $e=this.resolveOriginalWallIndex(ue,ee.getEndPoint(le),te);let Ge=0,Be=0;$e>=0?(Ge=te.getDirection(($e+1)%ne),Be=te.getDirection(($e-1+ne)%ne)):(Ge=ee.getDirection((le+1)%se),Be=ee.getDirection((le-1+se)%se));let ze=null;(Ge-ce+4)%4==3?ze=RoomWallData.WALL_NORMAL_VECTORS[Ge]:(ce-Be+4)%4==3&&(ze=RoomWallData.WALL_NORMAL_VECTORS[Be]);const $t=ee.getLeftTurn(le),ut=ee.getLeftTurn((le-1+se)%se),Ti=ee.getHideWall((le+1)%se),Hi=ee.getManuallyLeftCut(le),bn=ee.getManuallyRightCut(le);this.addWall(Pe,we,De,ze,!ut||Hi,!$t||bn,!Ti)}le++}}createWallPlanes(){const ee=this._tileMatrix;if(ee==null)return!1;let te,se,ne;const le=ee.length;let ue=0;if(le==0)return!1;for(te=0;te<le;){if(ne=ee[te],ne==null||ne.length==0)return!1;ue>0?ue=Math.min(ue,ne.length):ue=ne.length,te++}const ce=Math.min(UR.MAX_WALL_ADDITIONAL_HEIGHT,this._fixedWallHeight!=-1?this._fixedWallHeight:UR.getFloorHeight(ee)),he=this.minX;let de=this.minY;for(de=this.minY;de<=this.maxY;){if(this.getTileHeightInternal(he,de)>UR.TILE_HOLE){de--;break}de++}if(de>this.maxY)return!1;const _e=new Point$1(he,de),fe=this.generateWallData(_e,!0),ye=this.generateWallData(_e,!1);for(fe!=null&&(fe.count,ye.count,this.checkWallHiding(fe,ye),this.addWalls(fe,ye)),se=0;se<this.tileMapHeight;){for(te=0;te<this.tileMapWidth;)this.getTileHeightInternal(te,se)<0&&this.setTileHeight(te,se,-(ce+this.wallHeight)),te++;se++}return!0}extractTopWall(ee,te){if(ee==null)return null;let se=1,ne=UR.TILE_HOLE;for(te||(ne=UR.TILE_BLOCKED);se<1e3;){if(this.getTileHeightInternal(ee.x+se,ee.y)>ne)return new Point$1(ee.x+se-1,ee.y);if(this.getTileHeightInternal(ee.x+se,ee.y+1)<=ne)return new Point$1(ee.x+se,ee.y+1);se++}return null}extractRightWall(ee,te){if(ee==null)return null;let se=1,ne=UR.TILE_HOLE;for(te||(ne=UR.TILE_BLOCKED);se<1e3;){if(this.getTileHeightInternal(ee.x,ee.y+se)>ne)return new Point$1(ee.x,ee.y+(se-1));if(this.getTileHeightInternal(ee.x-1,ee.y+se)<=ne)return new Point$1(ee.x-1,ee.y+se);se++}return null}extractBottomWall(ee,te){if(ee==null)return null;let se=1,ne=UR.TILE_HOLE;for(te||(ne=UR.TILE_BLOCKED);se<1e3;){if(this.getTileHeightInternal(ee.x-se,ee.y)>ne)return new Point$1(ee.x-(se-1),ee.y);if(this.getTileHeightInternal(ee.x-se,ee.y-1)<=ne)return new Point$1(ee.x-se,ee.y-1);se++}return null}extractLeftWall(ee,te){if(ee==null)return null;let se=1,ne=UR.TILE_HOLE;for(te||(ne=UR.TILE_BLOCKED);se<1e3;){if(this.getTileHeightInternal(ee.x,ee.y-se)>ne)return new Point$1(ee.x,ee.y-(se-1));if(this.getTileHeightInternal(ee.x+1,ee.y-se)<=ne)return new Point$1(ee.x+1,ee.y-se);se++}return null}addWall(ee,te,se,ne,le,ue,ce){this.addPlane(RoomPlaneData.PLANE_WALL,ee,te,se,[ne]),this.addPlane(RoomPlaneData.PLANE_LANDSCAPE,ee,te,se,[ne]);const he=UR.WALL_THICKNESS*this._wallThicknessMultiplier,de=UR.FLOOR_THICKNESS*this._floorThicknessMultiplier,_e=Vector3d.crossProduct(te,se),fe=Vector3d.product(_e,1/_e.length*-he);if(this.addPlane(RoomPlaneData.PLANE_WALL,Vector3d.sum(ee,se),te,fe,[_e,ne]),le&&this.addPlane(RoomPlaneData.PLANE_WALL,Vector3d.sum(Vector3d.sum(ee,te),se),Vector3d.product(se,-(se.length+de)/se.length),fe,[_e,ne]),ue&&(this.addPlane(RoomPlaneData.PLANE_WALL,Vector3d.sum(ee,Vector3d.product(se,-de/se.length)),Vector3d.product(se,(se.length+de)/se.length),fe,[_e,ne]),ce)){const ye=Vector3d.product(te,he/te.length);this.addPlane(RoomPlaneData.PLANE_WALL,Vector3d.sum(Vector3d.sum(ee,se),Vector3d.product(ye,-1)),ye,fe,[_e,te,ne])}}addFloor(ee,te,se,ne,le,ue,ce){let he,de,_e;this.addPlane(RoomPlaneData.PLANE_FLOOR,ee,te,se)!=null&&(he=UR.FLOOR_THICKNESS*this._floorThicknessMultiplier,de=new Vector3d(0,0,he),_e=Vector3d.dif(ee,de),ue&&this.addPlane(RoomPlaneData.PLANE_FLOOR,_e,te,de),ce&&this.addPlane(RoomPlaneData.PLANE_FLOOR,Vector3d.sum(_e,Vector3d.sum(te,se)),Vector3d.product(te,-1),de),ne&&this.addPlane(RoomPlaneData.PLANE_FLOOR,Vector3d.sum(_e,se),Vector3d.product(se,-1),de),le&&this.addPlane(RoomPlaneData.PLANE_FLOOR,Vector3d.sum(_e,te),se,de))}initializeFromMapData(ee){if(!ee)return!1;this.reset(),this.resetFloorHoles();const te=ee.width,se=ee.height,ne=ee.wallHeight,le=ee.fixedWallsHeight;if(this.initializeTileMap(te,se),ee.tileMap){let ue=0;for(;ue<ee.tileMap.length;){const ce=ee.tileMap[ue];if(ce){let he=0;for(;he<ce.length;){const de=ce[he];de&&this.setTileHeight(he,ue,de.height),he++}}ue++}}if(ee.holeMap&&ee.holeMap.length){let ue=0;for(;ue<ee.holeMap.length;){const ce=ee.holeMap[ue];ce&&(this.addFloorHole(ce.id,ce.x,ce.y,ce.width,ce.height),ue++)}this.initializeHoleMap()}return this.wallHeight=ne,this.restrictsDragging=ee.restrictsDragging,this.restrictsScaling=ee.restrictsScaling,this.restrictedScale=ee.restrictedScale,this.initializeFromTileData(le),!0}addPlane(ee,te,se,ne,le=null){if(se.length==0||ne.length==0)return null;const ue=new RoomPlaneData(ee,te,se,ne,le);return this._planes.push(ue),ue}getMapData(){const ee=new RoomMapData;ee.width=this._width,ee.height=this._height,ee.wallHeight=this._wallHeight,ee.fixedWallsHeight=this._fixedWallHeight,ee.dimensions.minX=this.minX,ee.dimensions.maxX=this.maxX,ee.dimensions.minY=this.minY,ee.dimensions.maxY=this.maxY,ee.restrictsDragging=this.restrictsDragging,ee.restrictsScaling=this.restrictsScaling,ee.restrictedScale=this.restrictedScale;let te=0;for(;te<this._height;){const se=[],ne=this._tileMatrixOriginal[te];let le=0;for(;le<this._width;){const ue=ne[le];se.push({height:ue}),le++}ee.tileMap.push(se),te++}for(const[se,ne]of this._floorHoles.entries())ne&&ee.holeMap.push({id:se,x:ne.x,y:ne.y,width:ne.width,height:ne.height});return ee}getPlaneLocation(ee){if(ee<0||ee>=this.planeCount)return null;const te=this._planes[ee];return te?te.loc:null}getPlaneNormal(ee){if(ee<0||ee>=this.planeCount)return null;const te=this._planes[ee];return te?te.normal:null}getPlaneLeftSide(ee){if(ee<0||ee>=this.planeCount)return null;const te=this._planes[ee];return te?te.leftSide:null}getPlaneRightSide(ee){if(ee<0||ee>=this.planeCount)return null;const te=this._planes[ee];return te?te.rightSide:null}getPlaneNormalDirection(ee){if(ee<0||ee>=this.planeCount)return null;const te=this._planes[ee];return te?te.normalDirection:null}getPlaneSecondaryNormals(ee){let te,se;if(ee<0||ee>=this.planeCount)return null;const ne=this._planes[ee];if(ne!=null){for(te=[],se=0;se<ne.secondaryNormalCount;)te.push(ne.getSecondaryNormal(se)),se++;return te}return null}getPlaneType(ee){if(ee<0||ee>=this.planeCount)return RoomPlaneData.PLANE_UNDEFINED;const te=this._planes[ee];return te?te.type:RoomPlaneData.PLANE_UNDEFINED}getPlaneMaskCount(ee){if(ee<0||ee>=this.planeCount)return 0;const te=this._planes[ee];return te?te.maskCount:0}getPlaneMaskLeftSideLoc(ee,te){if(ee<0||ee>=this.planeCount)return-1;const se=this._planes[ee];return se?se.getMaskLeftSideLoc(te):-1}getPlaneMaskRightSideLoc(ee,te){if(ee<0||ee>=this.planeCount)return-1;const se=this._planes[ee];return se?se.getMaskRightSideLoc(te):-1}getPlaneMaskLeftSideLength(ee,te){if(ee<0||ee>=this.planeCount)return-1;const se=this._planes[ee];return se?se.getMaskLeftSideLength(te):-1}getPlaneMaskRightSideLength(ee,te){if(ee<0||ee>=this.planeCount)return-1;const se=this._planes[ee];return se?se.getMaskRightSideLength(te):-1}addFloorHole(ee,te,se,ne,le){this.removeFloorHole(ee),this._floorHoles.set(ee,new RoomFloorHole(te,se,ne,le))}removeFloorHole(ee){this._floorHoles.delete(ee)}resetFloorHoles(){this._floorHoles.clear()}initializeHoleMap(){let ee,te,se,ne,le,ue,ce,he;for(te=0;te<this._height;){for(se=this._floorHoleMatrix[te],ee=0;ee<this._width;)se[ee]=!1,ee++;te++}for(const de of this._floorHoles.values())if(ne=de,ne!=null)for(le=ne.x,ue=ne.x+ne.width-1,ce=ne.y,he=ne.y+ne.height-1,le=le<0?0:le,ue=ue>=this._width?this._width-1:ue,ce=ce<0?0:ce,he=he>=this._height?this._height-1:he,te=ce;te<=he;){for(se=this._floorHoleMatrix[te],ee=le;ee<=ue;)se[ee]=!0,ee++;te++}}extractPlanes(ee){let te,se,ne,le,ue,ce,he,de,_e,fe,ye,be,Pe,Ne,we;const De=ee.length,$e=ee[0].length,Ge=[];let Be=0;for(;Be<De;)Ge[Be]=[],Be++;let ze=0;for(;ze<De;){for(te=0;te<$e;){if(se=ee[ze][te],!(se<0||Ge[ze][te])){for(ue=te==0||ee[ze][te-1]!=se,ce=ze==0||ee[ze-1][te]!=se,ne=te+1;ne<$e&&!(ee[ze][ne]!=se||Ge[ze][ne]||ze>0&&ee[ze-1][ne]==se==ce);)ne++;for(he=ne==$e||ee[ze][ne]!=se,ye=!1,le=ze+1;le<De&&!ye;){for(de=ee[le][te]!=se,ye=de||te>0&&ee[le][te-1]==se==ue||ne<$e&&ee[le][ne]==se==he,_e=te;_e<ne;){if(ee[le][_e]==se==de){ye=!0,ne=_e;break}_e++}if(ye)break;le++}for(de=de||le==De,he=ne==$e||ee[ze][ne]!=se,fe=ze;fe<le;){for(_e=te;_e<ne;)Ge[fe][_e]=!0,_e++;fe++}be=te/4-.5,Pe=ze/4-.5,Ne=(ne-te)/4,we=(le-ze)/4,this.addFloor(new Vector3d(be+Ne,Pe+we,se/4),new Vector3d(-Ne,0,0),new Vector3d(0,-we,0),he,ue,de,ce)}te++}ze++}}get restrictsDragging(){return this._restrictsDragging}set restrictsDragging(ee){this._restrictsDragging=ee}get restrictsScaling(){return this._restrictsScaling}set restrictsScaling(ee){this._restrictsScaling=ee}get restrictedScale(){return this._restrictedScale}set restrictedScale(ee){this._restrictedScale=ee}};UR.FLOOR_THICKNESS=.25,UR.WALL_THICKNESS=.25,UR.MAX_WALL_ADDITIONAL_HEIGHT=20,UR.TILE_BLOCKED=-110,UR.TILE_HOLE=-100;let RoomPlaneParser=UR;class RoomLogic extends RoomObjectLogicBase{constructor(){super(),this._planeParser=new RoomPlaneParser,this._planeBitmapMaskParser=new RoomPlaneBitmapMaskParser,this._color=16777215,this._light=255,this._originalColor=16777215,this._originalLight=255,this._targetColor=16777215,this._targetLight=255,this._colorChangedTime=0,this._colorTransitionLength=1500,this._lastHoleUpdate=0,this._needsMapUpdate=!1,this._skipColorTransition=!1}getEventTypes(){const ee=[RoomObjectMouseEvent.MOUSE_MOVE,RoomObjectMouseEvent.CLICK];return this.mergeTypes(super.getEventTypes(),ee)}dispose(){super.dispose(),this._planeParser&&(this._planeParser.dispose(),this._planeParser=null),this._planeBitmapMaskParser&&(this._planeBitmapMaskParser.dispose(),this._planeBitmapMaskParser=null)}initialize(ee){!ee||!this.object||ee instanceof RoomMapData&&this._planeParser.initializeFromMapData(ee)&&(this.object.model.setValue(RoomObjectVariable.ROOM_MAP_DATA,ee),this.object.model.setValue(RoomObjectVariable.ROOM_BACKGROUND_COLOR,16777215),this.object.model.setValue(RoomObjectVariable.ROOM_FLOOR_VISIBILITY,1),this.object.model.setValue(RoomObjectVariable.ROOM_WALL_VISIBILITY,1),this.object.model.setValue(RoomObjectVariable.ROOM_LANDSCAPE_VISIBILITY,1),this._skipColorTransition=NitroConfiguration.getValue("room.color.skip.transition")===!0)}update(ee){if(super.update(ee),this.updateBackgroundColor(ee),this._needsMapUpdate){if(this._lastHoleUpdate&&ee-this._lastHoleUpdate<5)return;const te=this.object&&this.object.model;if(te){const se=this._planeParser.getMapData();te.setValue(RoomObjectVariable.ROOM_MAP_DATA,se),te.setValue(RoomObjectVariable.ROOM_FLOOR_HOLE_UPDATE_TIME,ee),this._planeParser.initializeFromMapData(se)}this._lastHoleUpdate=0,this._needsMapUpdate=!1}}updateBackgroundColor(ee){if(!this.object||!this._colorChangedTime)return;let te=this._color,se=this._light;if(ee-this._colorChangedTime>=this._colorTransitionLength)te=this._targetColor,se=this._targetLight,this._colorChangedTime=0;else{let le=this._originalColor>>16&255,ue=this._originalColor>>8&255,ce=this._originalColor&255;const he=this._targetColor>>16&255,de=this._targetColor>>8&255,_e=this._targetColor&255,fe=(ee-this._colorChangedTime)/this._colorTransitionLength;le=le+(he-le)*fe,ue=ue+(de-ue)*fe,ce=ce+(_e-ce)*fe,te=(le<<16)+(ue<<8)+ce,se=this._originalLight+(this._targetLight-this._originalLight)*fe,this._color=te,this._light=se}let ne=ColorConverter.rgbToHSL(te);ne=(ne&16776960)+se,te=ColorConverter.hslToRGB(ne),this.object.model&&this.object.model.setValue(RoomObjectVariable.ROOM_BACKGROUND_COLOR,te)}processUpdateMessage(ee){if(!ee||!this.object)return;const te=this.object.model;if(te){if(ee instanceof ObjectRoomUpdateMessage){this.onObjectRoomUpdateMessage(ee,te);return}if(ee instanceof ObjectRoomMaskUpdateMessage){this.onObjectRoomMaskUpdateMessage(ee,te);return}if(ee instanceof ObjectRoomPlaneVisibilityUpdateMessage){this.onObjectRoomPlaneVisibilityUpdateMessage(ee,te);return}if(ee instanceof ObjectRoomPlanePropertyUpdateMessage){this.onObjectRoomPlanePropertyUpdateMessage(ee,te);return}if(ee instanceof ObjectRoomFloorHoleUpdateMessage){this.onObjectRoomFloorHoleUpdateMessage(ee,te);return}if(ee instanceof ObjectRoomColorUpdateMessage){this.onObjectRoomColorUpdateMessage(ee,te);return}ee instanceof ObjectRoomMapUpdateMessage&&this.onObjectRoomMapUpdateMessage(ee)}}onObjectRoomUpdateMessage(ee,te){switch(ee.type){case ObjectRoomUpdateMessage.ROOM_FLOOR_UPDATE:te.setValue(RoomObjectVariable.ROOM_FLOOR_TYPE,ee.value);return;case ObjectRoomUpdateMessage.ROOM_WALL_UPDATE:te.setValue(RoomObjectVariable.ROOM_WALL_TYPE,ee.value);return;case ObjectRoomUpdateMessage.ROOM_LANDSCAPE_UPDATE:te.setValue(RoomObjectVariable.ROOM_LANDSCAPE_TYPE,ee.value);return}}onObjectRoomMaskUpdateMessage(ee,te){let se=null,ne=!1;switch(ee.type){case ObjectRoomMaskUpdateMessage.ADD_MASK:se=RoomPlaneBitmapMaskData.WINDOW,ee.maskCategory===ObjectRoomMaskUpdateMessage.HOLE&&(se=RoomPlaneBitmapMaskData.HOLE),this._planeBitmapMaskParser.addMask(ee.maskId,ee.maskType,ee.maskLocation,se),ne=!0;break;case ObjectRoomMaskUpdateMessage.REMOVE_MASK:ne=this._planeBitmapMaskParser.removeMask(ee.maskId);break}ne&&te.setValue(RoomObjectVariable.ROOM_PLANE_MASK_XML,this._planeBitmapMaskParser.getXML())}onObjectRoomPlaneVisibilityUpdateMessage(ee,te){let se=0;switch(ee.visible&&(se=1),ee.type){case ObjectRoomPlaneVisibilityUpdateMessage.FLOOR_VISIBILITY:te.setValue(RoomObjectVariable.ROOM_FLOOR_VISIBILITY,se);return;case ObjectRoomPlaneVisibilityUpdateMessage.WALL_VISIBILITY:te.setValue(RoomObjectVariable.ROOM_WALL_VISIBILITY,se),te.setValue(RoomObjectVariable.ROOM_LANDSCAPE_VISIBILITY,se);return}}onObjectRoomPlanePropertyUpdateMessage(ee,te){switch(ee.type){case ObjectRoomPlanePropertyUpdateMessage.FLOOR_THICKNESS:te.setValue(RoomObjectVariable.ROOM_FLOOR_THICKNESS,ee.value);return;case ObjectRoomPlanePropertyUpdateMessage.WALL_THICKNESS:te.setValue(RoomObjectVariable.ROOM_WALL_THICKNESS,ee.value);return}}onObjectRoomFloorHoleUpdateMessage(ee,te){switch(ee.type){case ObjectRoomFloorHoleUpdateMessage.ADD:this._planeParser.addFloorHole(ee.id,ee.x,ee.y,ee.width,ee.height),this._needsMapUpdate=!0;return;case ObjectRoomFloorHoleUpdateMessage.REMOVE:this._planeParser.removeFloorHole(ee.id),this._needsMapUpdate=!0;return}this._lastHoleUpdate=this.time}onObjectRoomColorUpdateMessage(ee,te){!ee||!te||(this._originalColor=this._color,this._originalLight=this._light,this._targetColor=ee.color,this._targetLight=ee.light,this._colorChangedTime=this.time,this._skipColorTransition?this._colorTransitionLength=0:this._colorTransitionLength=1500,te.setValue(RoomObjectVariable.ROOM_COLORIZE_BG_ONLY,ee.backgroundOnly))}onObjectRoomMapUpdateMessage(ee){!ee||!ee.mapData||(this.object.model.setValue(RoomObjectVariable.ROOM_MAP_DATA,ee.mapData),this.object.model.setValue(RoomObjectVariable.ROOM_FLOOR_HOLE_UPDATE_TIME,this.time),this._planeParser.initializeFromMapData(ee.mapData))}mouseEvent(ee,te){if(!ee||!te||!this.object||!this.object.model)return;const se=ee.spriteTag;let ne=0;if(se&&se.indexOf("@")>=0&&(ne=parseInt(se.substr(se.indexOf("@")+1))),ne<1||ne>this._planeParser.planeCount){ee.type===MouseEventType.ROLL_OUT&&this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_PLANE,0);return}ne--;let le=null;const ue=this._planeParser.getPlaneLocation(ne),ce=this._planeParser.getPlaneLeftSide(ne),he=this._planeParser.getPlaneRightSide(ne),de=this._planeParser.getPlaneNormalDirection(ne),_e=this._planeParser.getPlaneType(ne);if(ue==null||ce==null||he==null||de==null)return;const fe=ce.length,ye=he.length;if(fe==0||ye==0)return;const be=ee.screenX,Pe=ee.screenY,Ne=new Point$1(be,Pe);if(le=te.getPlanePosition(Ne,ue,ce,he),!le){this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_PLANE,0);return}const we=Vector3d.product(ce,le.x/fe);we.add(Vector3d.product(he,le.y/ye)),we.add(ue);const De=we.x,$e=we.y,Ge=we.z;if(le.x>=0&&le.x<fe&&le.y>=0&&le.y<ye)this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_X,De),this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_Y,$e),this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_Z,Ge),this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_PLANE,ne+1);else{this.object.model.setValue(RoomObjectVariable.ROOM_SELECTED_PLANE,0);return}let Be=null;switch(ee.type===MouseEventType.MOUSE_MOVE||ee.type===MouseEventType.ROLL_OVER?Be=RoomObjectMouseEvent.MOUSE_MOVE:ee.type===MouseEventType.MOUSE_CLICK&&(Be=RoomObjectMouseEvent.CLICK),ee.type){case MouseEventType.MOUSE_MOVE:case MouseEventType.ROLL_OVER:case MouseEventType.MOUSE_CLICK:{let ze=null;if(_e===RoomPlaneData.PLANE_FLOOR)ze=new RoomObjectTileMouseEvent(Be,this.object,ee.eventId,De,$e,Ge,ee.altKey,ee.ctrlKey,ee.shiftKey,ee.buttonDown);else if(_e===RoomPlaneData.PLANE_WALL||_e===RoomPlaneData.PLANE_LANDSCAPE){let $t=90;de&&($t=de.x+90,$t>360&&($t-=360));const ut=ce.length*le.x/fe,Ti=he.length*le.y/ye;ze=new RoomObjectWallMouseEvent(Be,this.object,ee.eventId,ue,ce,he,ut,Ti,$t,ee.altKey,ee.ctrlKey,ee.shiftKey,ee.buttonDown)}this.eventDispatcher&&this.eventDispatcher.dispatchEvent(ze);return}}}}class SelectionArrowLogic extends RoomObjectLogicBase{initialize(ee){this.object&&(this.object.model.setValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER,1),this.object.setState(1,0))}processUpdateMessage(ee){if(super.processUpdateMessage(ee),ee instanceof ObjectVisibilityUpdateMessage&&this.object)switch(ee.type){case ObjectVisibilityUpdateMessage.ENABLED:this.object.setState(0,0);return;case ObjectVisibilityUpdateMessage.DISABLED:this.object.setState(1,0);return}}}const ZO=class ZO extends RoomObjectLogicBase{constructor(){super(),this._lastEventId=null,this._isHidden=!1}initialize(ee){this.object&&(this.object.model.setValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER,1),this.object.setState(ZO.CURSOR_HIDDEN_STATE,0))}processUpdateMessage(ee){ee instanceof ObjectTileCursorUpdateMessage&&(this._lastEventId&&this._lastEventId===ee.sourceEventId||(ee.toggleVisibility&&(this._isHidden=!this._isHidden),super.processUpdateMessage(ee),this.object&&(this._isHidden?this.object.setState(ZO.CURSOR_HIDDEN_STATE,0):ee.visible?(this.object.model.setValue(RoomObjectVariable.TILE_CURSOR_HEIGHT,ee.height),this.object.setState(ee.height>.8?ZO.CURSOR_HEIGHT_STATE:ZO.CURSOR_VISIBLE_STATE)):this.object.setState(ZO.CURSOR_HIDDEN_STATE,0)),this._lastEventId=ee.sourceEventId))}};ZO.CURSOR_VISIBLE_STATE=0,ZO.CURSOR_HIDDEN_STATE=1,ZO.CURSOR_HEIGHT_STATE=6;let TileCursorLogic=ZO;class ExpressionAddition{constructor(ee,te,se){this._id=ee,this._type=te,this._visualization=se}dispose(){this._visualization=null}update(ee,te){}animate(ee){return!1}get id(){return this._id}get type(){return this._type}get visualization(){return this._visualization}}const dI=class dI extends ExpressionAddition{constructor(ee,te,se){super(ee,te,se),this._asset=null,this._startTime=GetTickerTime(),this._delta=0,this._offsetY=0,this._scale=0,this._state=0}update(ee,te){if(!ee)return;this._scale=te;let se=64,ne=0;if(te<48?(this._asset=this.visualization.getAvatarRenderAsset("avatar_addition_user_blowkiss_small"),this.visualization.angle===90||this.visualization.angle===270?ne=0:this.visualization.angle===135||this.visualization.angle===180||this.visualization.angle===225?ne=6:ne=-6,this._offsetY=-38,se=32):(this._asset=this.visualization.getAvatarRenderAsset("avatar_addition_user_blowkiss"),this.visualization.angle===90||this.visualization.angle===270?ne=-3:this.visualization.angle===135||this.visualization.angle===180||this.visualization.angle===225?ne=22:ne=-30,this._offsetY=-70),this.visualization.posture===AvatarAction.POSTURE_SIT?this._offsetY+=se/2:this.visualization.posture===AvatarAction.POSTURE_LAY&&(this._offsetY+=se),this._asset){ee.texture=this._asset,ee.offsetX=ne,ee.offsetY=this._offsetY,ee.relativeDepth=-.02,ee.alpha=0;const le=this._delta;this.animate(ee),this._delta=le}}animate(ee){if(!ee)return!1;if(this._asset&&(ee.texture=this._asset),this._state===dI.STATE_DELAY)return GetTickerTime()-this._startTime<dI.DELAY_BEFORE_ANIMATION?!1:(this._state=dI.STATE_FADE_IN,ee.alpha=0,ee.visible=!0,this._delta=0,!0);if(this._state===dI.STATE_FADE_IN)return this._delta+=.1,ee.offsetY=this._offsetY,ee.alpha=Math.pow(this._delta,.9)*255,this._delta>=1&&(ee.alpha=255,this._delta=0,this._state=dI.STATE_FLOAT),!0;if(this._state===dI.STATE_FLOAT){const te=Math.pow(this._delta,.9);this._delta+=.05;const se=this._scale<48?-30:-40;return ee.offsetY=this._offsetY+(this._delta<1?te:1)*se,ee.alpha=(1-te)*255,ee.alpha<=0&&(ee.visible=!1,this._state=dI.STATE_COMPLETE),!0}return!1}};dI.DELAY_BEFORE_ANIMATION=300,dI.STATE_DELAY=0,dI.STATE_FADE_IN=1,dI.STATE_FLOAT=2,dI.STATE_COMPLETE=3;let FloatingHeartAddition=dI;const CP=class CP{static getExpressionAddition(ee,te,se){switch(te){case this.BLOW:return new FloatingHeartAddition(ee,this.BLOW,se);default:return new ExpressionAddition(ee,te,se)}}};CP.WAVE=1,CP.BLOW=2,CP.LAUGH=3,CP.CRY=4,CP.IDLE=5;let ExpressionAdditionFactory=CP;const PT=class PT{constructor(ee,te){this._id=ee,this._visualization=te,this._asset=null,this._startTime=GetTickerTime(),this._offsetY=0,this._scale=0,this._state=0}dispose(){this._visualization=null,this._asset=null}getSpriteAssetName(ee){let te="left";return(this._visualization.angle===135||this._visualization.angle===180||this._visualization.angle===225||this._visualization.angle===270)&&(te="right"),"avatar_addition_user_idle_"+te+"_"+ee+(this._scale<48?"_small":"")}update(ee,te){if(!ee)return;this._scale=te,this._asset=this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(this._state===PT.STATE_FRAME_A?1:2));let se=64,ne=0;te<48?(this._visualization.angle===135||this._visualization.angle===180||this._visualization.angle===225||this._visualization.angle===270?ne=10:ne=-16,this._offsetY=-38,se=32):(this._visualization.angle===135||this._visualization.angle===180||this._visualization.angle===225||this._visualization.angle===270?ne=22:ne=-30,this._offsetY=-70),this._visualization.posture===AvatarAction.POSTURE_SIT?this._offsetY+=se/2:this._visualization.posture===AvatarAction.POSTURE_LAY&&(this._offsetY+=se-.3*se),this._asset&&(ee.texture=this._asset,ee.offsetX=ne,ee.offsetY=this._offsetY,ee.relativeDepth=-.02,ee.alpha=0)}animate(ee){if(!ee)return!1;const te=GetTickerTime();return this._state===PT.STATE_DELAY&&te-this._startTime>=PT.DELAY_BEFORE_ANIMATION&&(this._state=PT.STATE_FRAME_A,this._startTime=te,this._asset=this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(1))),this._state===PT.STATE_FRAME_A&&te-this._startTime>=PT.DELAY_PER_FRAME&&(this._state=PT.STATE_FRAME_B,this._startTime=te,this._asset=this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(2))),this._state===PT.STATE_FRAME_B&&te-this._startTime>=PT.DELAY_PER_FRAME&&(this._state=PT.STATE_FRAME_A,this._startTime=te,this._asset=this._visualization.getAvatarRenderAsset(this.getSpriteAssetName(1))),this._asset?(ee.texture=this._asset,ee.alpha=255,ee.visible=!0):ee.visible=!1,!1}get id(){return this._id}};PT.DELAY_BEFORE_ANIMATION=2e3,PT.DELAY_PER_FRAME=2e3,PT.STATE_DELAY=0,PT.STATE_FRAME_A=1,PT.STATE_FRAME_B=2;let FloatingIdleZAddition=PT;const QO=class QO{constructor(ee){this._id=ee,this._asset=null,this._disposed=!1}dispose(){this._asset=null}update(ee,te){if(ee){if(!this._asset){const se=new Sprite$1(Texture$1.WHITE);se.alpha=0,se.width=QO.WIDTH,se.height=QO.HEIGHT,this._asset=TextureUtils.generateTexture(se)}ee.visible=!0,ee.texture=this._asset,ee.offsetX=QO.OFFSET_X,ee.offsetY=QO.OFFSET_Y,ee.alphaTolerance=AlphaTolerance.MATCH_ALL_PIXELS}}animate(ee){return!1}get id(){return this._id}};QO.WIDTH=46,QO.HEIGHT=60,QO.OFFSET_X=-23,QO.OFFSET_Y=-48;let GameClickTargetAddition=QO;class GuideStatusBubbleAddition{constructor(ee,te,se){this._id=ee,this._visualization=te,this._asset=null,this._relativeDepth=0,this._status=se}dispose(){this._visualization=null,this._asset=null}update(ee,te){if(!ee)return;ee.visible=!0,ee.relativeDepth=this._relativeDepth,ee.alpha=255;let se=64,ne=0,le=0;this._asset=this._visualization.getAvatarRenderAsset(this._status===AvatarGuideStatus.GUIDE?"avatar_addition_user_guide_bubble":"avatar_addition_user_guide_requester_bubble"),te<48?(ne=-19,le=-80,se=32):(ne=-19,le=-120),this._visualization.posture===AvatarAction.POSTURE_SIT?le+=se/2:this._visualization.posture===AvatarAction.POSTURE_LAY&&(le+=te),this._asset&&(ee.texture=this._asset,ee.offsetX=ne,ee.offsetY=le,ee.relativeDepth=-.02+0)}animate(ee){return this._asset&&ee&&(ee.texture=this._asset),!1}get id(){return this._id}get relativeDepth(){return this._relativeDepth}set relativeDepth(ee){this._relativeDepth=ee}}class MutedBubbleAddition{constructor(ee,te){this._id=ee,this._visualization=te,this._asset=null}dispose(){this._visualization=null,this._asset=null}update(ee,te){if(!ee)return;let se=64,ne=0,le=0;te<48?(this._asset=this._visualization.getAvatarRenderAsset("avatar_addition_user_muted_small"),se=32,ne=-12,le=-66):(this._asset=this._visualization.getAvatarRenderAsset("avatar_addition_user_muted"),ne=-15,le=-110),this._visualization.posture===AvatarAction.POSTURE_SIT?le+=se/2:this._visualization.posture===AvatarAction.POSTURE_LAY&&(le+=te),this._asset?(ee.visible=!0,ee.texture=this._asset,ee.offsetX=ne,ee.offsetY=le,ee.relativeDepth=-.02):ee.visible=!1}animate(ee){return this._asset&&ee&&(ee.texture=this._asset),!1}get id(){return this._id}}class NumberBubbleAddition{constructor(ee,te,se){this._id=ee,this._visualization=se,this._asset=null,this._scale=0,this._number=te,this._numberValueFadeDirection=0,this._numberValueMoving=!1,this._numberValueMoveCounter=0}dispose(){this._visualization=null,this._asset=null}update(ee,te){if(!ee)return;this._scale=te;let se=64,ne=0,le=0;this._number>0?(te<48?(this._asset=this._visualization.getAvatarRenderAsset("avatar_addition_number_"+this._number+"_small"),se=32,ne=-6,le=-52):(this._asset=this._visualization.getAvatarRenderAsset("avatar_addition_number_"+this._number),ne=-8,le=-105),this._visualization.posture===AvatarAction.POSTURE_SIT?le+=se/2:this._visualization.posture===AvatarAction.POSTURE_LAY&&(le+=te),this._asset?(ee.visible=!0,ee.texture=this._asset,ee.offsetX=ne,ee.offsetY=le,ee.relativeDepth=-.01,ee.alpha=0,this._numberValueFadeDirection=1,this._numberValueMoving=!0,this._numberValueMoveCounter=0):ee.visible=!1):ee.visible&&(this._numberValueFadeDirection=-1)}animate(ee){if(!ee)return!1;this._asset&&(ee.texture=this._asset);let te=ee.alpha,se=!1;if(this._numberValueMoving){if(this._numberValueMoveCounter++,this._numberValueMoveCounter<10)return!1;if(this._numberValueFadeDirection<0)this._scale<48?ee.offsetY-=2:ee.offsetY-=4;else{let ne=4;this._scale<48&&(ne=8),this._numberValueMoveCounter%ne||(ee.offsetY--,se=!0)}}return this._numberValueFadeDirection>0?(te<255&&(te+=32),te>=255&&(te=255,this._numberValueFadeDirection=0),ee.alpha=te,!0):this._numberValueFadeDirection<0?(te>=0&&(te-=32),te<=0&&(this._numberValueFadeDirection=0,this._numberValueMoving=!1,te=0,ee.visible=!1),ee.alpha=te,!0):se}get id(){return this._id}}class TypingBubbleAddition{constructor(ee,te){this._id=ee,this._visualization=te,this._asset=null,this._relativeDepth=0}dispose(){this._visualization=null,this._asset=null}update(ee,te){if(!ee)return;ee.visible=!0,ee.relativeDepth=this._relativeDepth,ee.alpha=255;let se=64,ne=0,le=0;te<48?(this._asset=this._visualization.getAvatarRenderAsset("avatar_addition_user_typing_small"),ne=3,le=-42,se=32):(this._asset=this._visualization.getAvatarRenderAsset("avatar_addition_user_typing"),ne=14,le=-83),this._visualization.posture===AvatarAction.POSTURE_SIT?le+=se/2:this._visualization.posture===AvatarAction.POSTURE_LAY&&(le+=te),this._asset&&(ee.texture=this._asset,ee.offsetX=ne,ee.offsetY=le,ee.relativeDepth=-.02+0)}animate(ee){return this._asset&&ee&&(ee.texture=this._asset),!1}get id(){return this._id}get relativeDepth(){return this._relativeDepth}set relativeDepth(ee){this._relativeDepth=ee}}class AvatarVisualizationData extends Disposable{constructor(){super()}initialize(ee){return!0}onDispose(){this._avatarRenderer=null}createAvatarImage(ee,te,se=null,ne=null,le=null){let ue=null;return te>48?ue=this._avatarRenderer.createAvatarImage(ee,AvatarScaleType.LARGE,se,ne,le):ue=this._avatarRenderer.createAvatarImage(ee,AvatarScaleType.SMALL,se,ne,le),ue}getAvatarRendererAsset(ee){return this._avatarRenderer?this._avatarRenderer.assets.getTexture(ee):null}get avatarManager(){return this._avatarRenderer}set avatarManager(ee){this._avatarRenderer=ee}get layerCount(){return 0}}const nR=class nR extends RoomObjectSpriteVisualization{constructor(){super(),this._data=null,this._avatarImage=null,this._cachedAvatars=new AdvancedMap,this._cachedAvatarEffects=new AdvancedMap,this._shadow=null,this._lastUpdate=-1e3,this._disposed=!1,this._figure=null,this._gender=null,this._direction=-1,this._headDirection=-1,this._posture="",this._postureParameter="",this._canStandUp=!1,this._postureOffset=0,this._verticalOffset=0,this._angle=-1,this._headAngle=-1,this._talk=!1,this._expression=0,this._sleep=!1,this._blink=!1,this._gesture=0,this._sign=-1,this._highlightEnabled=!1,this._highlight=!1,this._dance=0,this._effect=0,this._carryObject=0,this._useObject=0,this._ownUser=!1,this._isLaying=!1,this._layInside=!1,this._isAnimating=!1,this._extraSpritesStartIndex=2,this._forcedAnimFrames=0,this._updatesUntilFrameUpdate=0,this._isAvatarReady=!1,this._needsUpdate=!1,this._geometryUpdateCounter=-1,this._additions=new Map}initialize(ee){return ee instanceof AvatarVisualizationData?(this._data=ee,this.createSprites(nR.INITIAL_RESERVED_SPRITES),super.initialize(ee),!0):!1}dispose(){this._disposed||(super.dispose(),this._avatarImage&&this._avatarImage.dispose(),this._shadow=null,this._disposed=!0)}update(ee,te,se,ne){if(!this.object||!ee||!this._data||te<this._lastUpdate+nR.UPDATE_TIME_INCREASER)return;this._lastUpdate+=nR.UPDATE_TIME_INCREASER,this._lastUpdate+nR.UPDATE_TIME_INCREASER<te&&(this._lastUpdate=te-nR.UPDATE_TIME_INCREASER);const le=this.object.model,ue=ee.scale,ce=this._effect;let he=!1,de=!1,_e=!1,fe=!1;const ye=this.updateModel(le,ue);if(ye||ue!==this._scale||!this._avatarImage){if(ue!==this._scale&&(he=!0,this.updateScale(ue)),ce!==this._effect&&(de=!0),he||!this._avatarImage||de){if(this._avatarImage=this.createAvatarImage(ue,this._effect),!this._avatarImage)return;_e=!0;const Ne=this.getSprite(nR.AVATAR_LAYER_ID);Ne&&this._avatarImage&&this._avatarImage.isPlaceholder()?Ne.alpha=150:Ne&&(Ne.alpha=255)}if(!this._avatarImage)return;if(de&&this._avatarImage.animationHasResetOnToggle&&this._avatarImage.resetAnimationFrameCounter(),this.updateShadow(ue),fe=this.updateObject(this.object,ee,se,!0),this.processActionsForAvatar(this._avatarImage),this._additions){let Ne=this._extraSpritesStartIndex;for(const we of this._additions.values())we.update(this.getSprite(Ne++),ue)}this._scale=ue}else fe=this.updateObject(this.object,ee,se);if(this._additions){let Ne=this._extraSpritesStartIndex;for(const we of this._additions.values())we.animate(this.getSprite(Ne++))&&this.updateSpriteCounter++}const be=fe||ye||he,Pe=(this._isAnimating||this._forcedAnimFrames>0)&&se;if(be&&(this._forcedAnimFrames=nR.ANIMATION_FRAME_UPDATE_INTERVAL),be||Pe){if(this.updateSpriteCounter++,this._forcedAnimFrames--,this._updatesUntilFrameUpdate--,this._updatesUntilFrameUpdate<=0||he||ye||_e)this._avatarImage.updateAnimationByFrames(1),this._updatesUntilFrameUpdate=nR.ANIMATION_FRAME_UPDATE_INTERVAL;else return;let Ne=this._avatarImage.getCanvasOffsets();(!Ne||Ne.length<3)&&(Ne=nR.DEFAULT_CANVAS_OFFSETS);const we=this.getSprite(nR.SPRITE_INDEX_AVATAR);if(we){const Be=this.object.model.getValue(RoomObjectVariable.FIGURE_HIGHLIGHT_ENABLE)===1&&this.object.model.getValue(RoomObjectVariable.FIGURE_HIGHLIGHT)===1,ze=this._avatarImage.getImage(AvatarSetType.FULL,Be);ze&&(we.texture=ze,Be||(we.filters=[])),we.texture&&(we.offsetX=-1*ue/2+Ne[0]-(we.texture.width-ue)/2,we.offsetY=-we.texture.height+ue/4+Ne[1]+this._postureOffset),this._isLaying?this._layInside?we.relativeDepth=-.5:we.relativeDepth=nR.AVATAR_SPRITE_LAYING_DEPTH+Ne[2]:we.relativeDepth=nR.AVATAR_SPRITE_DEFAULT_DEPTH+Ne[2],this._ownUser?(we.relativeDepth-=nR.AVATAR_OWN_DEPTH_ADJUST,we.spriteType=RoomObjectSpriteType.AVATAR_OWN):we.spriteType=RoomObjectSpriteType.AVATAR}const De=this.getAddition(nR.TYPING_BUBBLE_ID);De&&(this._isLaying?De.relativeDepth=nR.AVATAR_SPRITE_LAYING_DEPTH-.01+Ne[2]:De.relativeDepth=nR.AVATAR_SPRITE_DEFAULT_DEPTH-.01+Ne[2]),this._isAnimating=this._avatarImage.isAnimating();let $e=nR.INITIAL_RESERVED_SPRITES;const Ge=this._avatarImage.getDirection();for(const Be of this._avatarImage.getSprites())if(Be.id===nR.AVATAR){const ze=this.getSprite(nR.SPRITE_INDEX_AVATAR);if(ze){const $t=this._avatarImage.getLayerData(Be);let ut=Be.getDirectionOffsetX(Ge),Ti=Be.getDirectionOffsetY(Ge);$t&&(ut+=$t.dx,Ti+=$t.dy),ue<48&&(ut/=2,Ti/=2),this._canStandUp||(ze.offsetX+=ut,ze.offsetY+=Ti)}}else{const ze=this.getSprite($e);if(ze){ze.alphaTolerance=AlphaTolerance.MATCH_NOTHING,ze.visible=!0;const $t=this._avatarImage.getLayerData(Be);let ut=0,Ti=Be.getDirectionOffsetX(Ge),Hi=Be.getDirectionOffsetY(Ge);const bn=Be.getDirectionOffsetZ(Ge);let gd=0;Be.hasDirections&&(gd=Ge),$t&&(ut=$t.animationFrame,Ti+=$t.dx,Hi+=$t.dy,gd+=$t.dd),ue<48&&(Ti/=2,Hi/=2),gd<0?gd+=8:gd>7&&(gd-=8);const Pm=this._avatarImage.getScale()+"_"+Be.member+"_"+gd+"_"+ut,oE=this._avatarImage.getAsset(Pm);if(!oE)continue;ze.texture=oE.texture,ze.offsetX=oE.offsetX-ue/2+Ti,ze.offsetY=oE.offsetY+Hi,ze.flipH=oE.flipH,Be.hasStaticY?ze.offsetY+=this._verticalOffset*ue/(2*nR.BASE_Y_SCALE):ze.offsetY+=this._postureOffset,this._isLaying?ze.relativeDepth=nR.AVATAR_SPRITE_LAYING_DEPTH-.001*this.totalSprites*bn:ze.relativeDepth=nR.AVATAR_SPRITE_DEFAULT_DEPTH-.001*this.totalSprites*bn,Be.ink===33?ze.blendMode=BLEND_MODES.ADD:ze.blendMode=BLEND_MODES.NORMAL}$e++}}}createAvatarImage(ee,te){let se=null,ne="avatarImage"+ee.toString();if(te?(ne+="-"+te,se=this._cachedAvatarEffects.getValue(ne)):se=this._cachedAvatars.getValue(ne),!se&&(se=this._data.createAvatarImage(this._figure,ee,this._gender,this,this),se))if(!te)this._cachedAvatars.add(ne,se);else{if(this._cachedAvatarEffects.length>=nR.MAX_EFFECT_CACHE){const le=this._cachedAvatarEffects.remove(this._cachedAvatarEffects.getKey(0));le&&le.dispose()}this._cachedAvatarEffects.add(ne,se)}return se}updateObject(ee,te,se,ne=!1){if(!ne&&this.updateObjectCounter===ee.updateCounter&&this._geometryUpdateCounter===te.updateId)return!1;let le=ee.getDirection().x-te.direction.x,ue=this._headDirection-te.direction.x;return this._posture==="float"&&(ue=le),le=(le%360+360)%360,ue=(ue%360+360)%360,this._posture==="sit"&&this._canStandUp&&(le-=le%90-45,ue-=ue%90-45),(le!==this._angle||ne)&&(se=!0,this._angle=le,le=le-(135-22.5),le=(le+360)%360,this._avatarImage.setDirectionAngle(AvatarSetType.FULL,le)),(ue!==this._headAngle||ne)&&(se=!0,this._headAngle=ue,this._headAngle!==this._angle&&(ue=ue-(135-22.5),ue=(ue+360)%360,this._avatarImage.setDirectionAngle(AvatarSetType.HEAD,ue))),this._geometryUpdateCounter=te.updateId,this.updateObjectCounter=this.object.updateCounter,se}updateModel(ee,te){if(!ee||this.updateModelCounter===ee.updateCounter)return!1;let se=!1;const ne=ee.getValue(RoomObjectVariable.FIGURE_TALK)>0;ne!==this._talk&&(this._talk=ne,se=!0);const le=ee.getValue(RoomObjectVariable.FIGURE_EXPRESSION);le!==this._expression&&(this._expression=le,se=!0);const ue=ee.getValue(RoomObjectVariable.FIGURE_SLEEP)>0;ue!==this._sleep&&(this._sleep=ue,se=!0);const ce=ee.getValue(RoomObjectVariable.FIGURE_BLINK)>0;ce!==this._blink&&(this._blink=ce,se=!0);const he=ee.getValue(RoomObjectVariable.FIGURE_GESTURE)||0;he!==this._gesture&&(this._gesture=he,se=!0);const de=ee.getValue(RoomObjectVariable.FIGURE_POSTURE);de!==this._posture&&(this._posture=de,se=!0);const _e=ee.getValue(RoomObjectVariable.FIGURE_POSTURE_PARAMETER);_e!==this._postureParameter&&(this._postureParameter=_e,se=!0);const fe=ee.getValue(RoomObjectVariable.FIGURE_CAN_STAND_UP);fe!==this._canStandUp&&(this._canStandUp=fe,se=!0);const ye=ee.getValue(RoomObjectVariable.FIGURE_VERTICAL_OFFSET)*nR.BASE_Y_SCALE;ye!==this._verticalOffset&&(this._verticalOffset=ye,se=!0);const be=ee.getValue(RoomObjectVariable.FIGURE_DANCE)||0;be!==this._dance&&(this._dance=be,se=!0);const Pe=ee.getValue(RoomObjectVariable.FIGURE_EFFECT)||0;Pe!==this._effect&&(this._effect=Pe,se=!0);const Ne=ee.getValue(RoomObjectVariable.FIGURE_CARRY_OBJECT)||0;Ne!==this._carryObject&&(this._carryObject=Ne,se=!0);const we=ee.getValue(RoomObjectVariable.FIGURE_USE_OBJECT)||0;we!==this._useObject&&(this._useObject=we,se=!0);const De=ee.getValue(RoomObjectVariable.HEAD_DIRECTION);De!==this._headDirection&&(this._headDirection=De,se=!0),this._carryObject>0&&we>0?this._useObject!==this._carryObject&&(this._useObject=this._carryObject,se=!0):this._useObject!==0&&(this._useObject=0,se=!0);let $e=this.getAddition(nR.FLOATING_IDLE_Z_ID);this._sleep?($e||($e=this.addAddition(new FloatingIdleZAddition(nR.FLOATING_IDLE_Z_ID,this))),se=!0):$e&&this.removeAddition(nR.FLOATING_IDLE_Z_ID);const Ge=ee.getValue(RoomObjectVariable.FIGURE_IS_MUTED)>0;let Be=this.getAddition(nR.MUTED_BUBBLE_ID);if(Ge)Be||(Be=this.addAddition(new MutedBubbleAddition(nR.MUTED_BUBBLE_ID,this))),se=!0;else{Be&&(this.removeAddition(nR.MUTED_BUBBLE_ID),se=!0);const nE=ee.getValue(RoomObjectVariable.FIGURE_IS_TYPING)>0;let On=this.getAddition(nR.TYPING_BUBBLE_ID);nE?(On||(On=this.addAddition(new TypingBubbleAddition(nR.TYPING_BUBBLE_ID,this))),se=!0):On&&(this.removeAddition(nR.TYPING_BUBBLE_ID),se=!0)}const ze=ee.getValue(RoomObjectVariable.FIGURE_GUIDE_STATUS)||0;ze!==AvatarGuideStatus.NONE?(this.removeAddition(nR.GUIDE_BUBBLE_ID),this.addAddition(new GuideStatusBubbleAddition(nR.GUIDE_BUBBLE_ID,this,ze)),se=!0):this.getAddition(nR.GUIDE_BUBBLE_ID)&&(this.removeAddition(nR.GUIDE_BUBBLE_ID),se=!0);const $t=ee.getValue(RoomObjectVariable.FIGURE_IS_PLAYING_GAME)>0;let ut=this.getAddition(nR.GAME_CLICK_TARGET_ID);$t?(ut||(ut=this.addAddition(new GameClickTargetAddition(nR.GAME_CLICK_TARGET_ID))),se=!0):ut&&this.removeAddition(nR.GAME_CLICK_TARGET_ID);const Ti=ee.getValue(RoomObjectVariable.FIGURE_NUMBER_VALUE);let Hi=this.getAddition(nR.NUMBER_BUBBLE_ID);Ti>0?(Hi||(Hi=this.addAddition(new NumberBubbleAddition(nR.NUMBER_BUBBLE_ID,Ti,this))),se=!0):Hi&&this.removeAddition(nR.NUMBER_BUBBLE_ID);let bn=this.getAddition(nR.EXPRESSION_ID);this._expression>0?bn||(bn=ExpressionAdditionFactory.getExpressionAddition(nR.EXPRESSION_ID,this._expression,this),bn&&this.addAddition(bn)):bn&&this.removeAddition(nR.EXPRESSION_ID),this.updateScale(te);const gd=ee.getValue(RoomObjectVariable.GENDER);gd!==this._gender&&(this._gender=gd,se=!0),this.updateFigure(ee.getValue(RoomObjectVariable.FIGURE))&&(se=!0);let Pm=ee.getValue(RoomObjectVariable.FIGURE_SIGN);Pm===null&&(Pm=-1),this._sign!==Pm&&(this._sign=Pm,se=!0);const oE=ee.getValue(RoomObjectVariable.FIGURE_HIGHLIGHT_ENABLE)>0;if(oE!==this._highlightEnabled&&(this._highlightEnabled=oE,se=!0),this._highlightEnabled){const nE=ee.getValue(RoomObjectVariable.FIGURE_HIGHLIGHT)>0;nE!==this._highlight&&(this._highlight=nE,se=!0)}const aE=ee.getValue(RoomObjectVariable.OWN_USER)>0;return aE!==this._ownUser&&(this._ownUser=aE,se=!0),this.updateModelCounter=ee.updateCounter,se}setDirection(ee){this._direction!==ee&&(this._direction=ee,this._needsUpdate=!0)}updateScale(ee){ee<48&&(this._blink=!1),this._posture==="sit"||this._posture==="lay"?this._postureOffset=ee/2:this._postureOffset=0,this._layInside=!1,this._isLaying=!1,this._posture==="lay"&&(this._isLaying=!0,parseInt(this._postureParameter)<0&&(this._layInside=!0))}processActionsForAvatar(ee){if(!ee)return;if(ee.initActionAppends(),ee.appendAction(AvatarAction.POSTURE,this._posture,this._postureParameter),this._gesture>0&&this._avatarImage.appendAction(AvatarAction.GESTURE,AvatarAction.getGesture(this._gesture)),this._dance>0&&this._avatarImage.appendAction(AvatarAction.DANCE,this._dance),this._sign>-1&&this._avatarImage.appendAction(AvatarAction.SIGN,this._sign),this._carryObject>0&&this._avatarImage.appendAction(AvatarAction.CARRY_OBJECT,this._carryObject),this._useObject>0&&this._avatarImage.appendAction(AvatarAction.USE_OBJECT,this._useObject),this._talk&&this._avatarImage.appendAction(AvatarAction.TALK),(this._sleep||this._blink)&&this._avatarImage.appendAction(AvatarAction.SLEEP),this._expression>0){const se=AvatarAction.getExpression(this._expression);if(se!=="")switch(se){case AvatarAction.DANCE:this._avatarImage.appendAction(AvatarAction.DANCE,2);break;default:this._avatarImage.appendAction(se);break}}this._effect>0&&this._avatarImage.appendAction(AvatarAction.EFFECT,this._effect),ee.endActionAppends(),this._isAnimating=ee.isAnimating();let te=nR.INITIAL_RESERVED_SPRITES;for(const se of this._avatarImage.getSprites())se.id!==nR.AVATAR&&te++;if(te!==this.totalSprites&&this.createSprites(te),this._extraSpritesStartIndex=te,this._additions)for(const se of this._additions.values())this.createSprite()}updateFigure(ee){return this._figure===ee?!1:(this._figure=ee,this.clearAvatar(),!0)}resetFigure(ee){this.clearAvatar()}resetEffect(ee){this.clearAvatar()}clearAvatar(){for(const te of this._cachedAvatars.getValues())te&&te.dispose();for(const te of this._cachedAvatarEffects.getValues())te&&te.dispose();this._cachedAvatars.reset(),this._cachedAvatarEffects.reset(),this._avatarImage=null;const ee=this.getSprite(nR.AVATAR_LAYER_ID);ee&&(ee.texture=Texture$1.EMPTY,ee.alpha=255)}getAddition(ee){if(!this._additions)return null;const te=this._additions.get(ee);return te||null}addAddition(ee){if(!this.getAddition(ee.id))return this._additions.set(ee.id,ee),ee}removeAddition(ee){const te=this.getAddition(ee);te&&(this._additions.delete(te.id),te.dispose())}updateShadow(ee){this._shadow=null;const te=this.getSprite(nR.SHADOW_LAYER_ID);if(!te)return;let se=this._posture==="mv"||this._posture==="std"||this._posture==="sit"&&this._canStandUp;if(this._effect===nR.SNOWBOARDING_EFFECT&&(se=!1),se){if(te.visible=!0,!this._shadow||ee!==this._scale){let ne=0,le=0;ee<48?(te.libraryAssetName="sh_std_sd_1_0_0",this._shadow=this._avatarImage.getAsset(te.libraryAssetName),ne=-8,le=this._canStandUp?6:-3):(te.libraryAssetName="h_std_sd_1_0_0",this._shadow=this._avatarImage.getAsset(te.libraryAssetName),ne=-17,le=this._canStandUp?10:-7),this._shadow?(te.texture=this._shadow.texture,te.offsetX=ne,te.offsetY=le,te.alpha=50,te.relativeDepth=1):te.visible=!1}}else this._shadow=null,te.visible=!1}getAvatarRenderAsset(ee){return this._data?this._data.getAvatarRendererAsset(ee):null}get direction(){return this._direction}get posture(){return this._posture}get angle(){return this._angle}get disposed(){return this._disposed}};nR.AVATAR="avatar",nR.FLOATING_IDLE_Z_ID=1,nR.TYPING_BUBBLE_ID=2,nR.EXPRESSION_ID=3,nR.NUMBER_BUBBLE_ID=4,nR.GAME_CLICK_TARGET_ID=5,nR.MUTED_BUBBLE_ID=6,nR.GUIDE_BUBBLE_ID=7,nR.OWN_USER_ID=4,nR.UPDATE_TIME_INCREASER=41,nR.AVATAR_LAYER_ID=0,nR.SHADOW_LAYER_ID=1,nR.SNOWBOARDING_EFFECT=97,nR.INITIAL_RESERVED_SPRITES=2,nR.ANIMATION_FRAME_UPDATE_INTERVAL=2,nR.DEFAULT_CANVAS_OFFSETS=[0,0,0],nR.MAX_EFFECT_CACHE=2,nR.SPRITE_INDEX_AVATAR=0,nR.BASE_Y_SCALE=1e3,nR.AVATAR_SPRITE_DEFAULT_DEPTH=-.01,nR.AVATAR_OWN_DEPTH_ADJUST=.001,nR.AVATAR_SPRITE_LAYING_DEPTH=-.409;let AvatarVisualization=nR;const fI=class fI{static allocate(ee,te,se,ne,le,ue,ce=-1,he=0){const de=fI.POOL.length?fI.POOL.pop():new fI;return ne<1&&(ne=1),le<0&&(le=fI.FRAME_REPEAT_FOREVER),de._id=ee,de._x=te||0,de._y=se||0,de._repeats=ne,de._frameRepeats=le,de._remainingFrameRepeats=le,de._isLastFrame=ue,de._isRecycled=!1,ce>=0?(de._activeSequence=ce,de._activeSequenceOffset=he):(de._activeSequence=-1,de._activeSequenceOffset=0),de}get id(){return this._id>=0?this._id:-this._id*Math.random()}get x(){return this._x}get y(){return this._y}get repeats(){return this._repeats}get frameRepeats(){return this._frameRepeats}get isLastFrame(){return this._isLastFrame}get remainingFrameRepeats(){return this._frameRepeats<0?fI.FRAME_REPEAT_FOREVER:this._remainingFrameRepeats}set remainingFrameRepeats(ee){ee<0&&(ee=0),this._frameRepeats>0&&ee>this._frameRepeats&&(ee=this._frameRepeats),this._remainingFrameRepeats=ee}get activeSequence(){return this._activeSequence}get activeSequenceOffset(){return this._activeSequenceOffset}recycle(){this._isRecycled||(this._isRecycled=!0,fI.POOL.length<fI.POOL_SIZE_LIMIT&&fI.POOL.push(this))}};fI.FRAME_REPEAT_FOREVER=-1,fI.SEQUENCE_NOT_DEFINED=-1,fI.POOL_SIZE_LIMIT=3e3,fI.POOL=[];let AnimationFrame=fI;class AnimationFrameData{constructor(ee,te,se,ne,le,ue){this._id=0,this._x=0,this._y=0,this._randomX=0,this._randomY=0,this._repeats=1,this._id=ee,this._x=te,this._y=se,this._randomX=ne,this._randomY=le,this._repeats=ue}get id(){return this._id}hasDirectionalOffsets(){return!1}getX(ee){return this._x}getY(ee){return this._y}get x(){return this._x}get y(){return this._x}get randomX(){return this._randomX}get randomY(){return this._randomY}get repeats(){return this._repeats}}class AnimationFrameDirectionalData extends AnimationFrameData{constructor(ee,te,se,ne,le,ue,ce){super(ee,te,se,ne,le,ce),this._directionalOffsets=ue}hasDirectionalOffsets(){return this._directionalOffsets!==null}getX(ee){return this._directionalOffsets?this._directionalOffsets.getXOffset(ee,super.getX(ee)):super.getX(ee)}getY(ee){return this._directionalOffsets?this._directionalOffsets.getYOffset(ee,super.getY(ee)):super.getY(ee)}}class AnimationFrameSequenceData{constructor(ee,te){this._frames=[],this._frameIndexes=[],this._frameRepeats=[],this._isRandom=te,this._loopCount=ee<1?1:ee}get isRandom(){return this._isRandom}get frameCount(){return this._frameIndexes.length*this._loopCount}dispose(){this._frames=[]}initialize(){let ee=this._frameIndexes.length-1,te=-1,se=1;for(;ee>=0;)this._frameIndexes[ee]===te?se++:(te=this._frameIndexes[ee],se=1),this._frameRepeats[ee]=se,ee--}addFrame(ee,te,se,ne,le,ue){let ce=1;if(this._frames.length>0){const de=this._frames[this._frames.length-1];de.id===ee&&!de.hasDirectionalOffsets()&&de.x===te&&de.y===se&&de.randomX===ne&&ne===0&&de.randomY===le&&le===0&&(ce+=de.repeats,this._frames.pop())}const he=ue?new AnimationFrameDirectionalData(ee,te,se,ne,le,ue,ce):new AnimationFrameData(ee,te,se,ne,le,ce);this._frames.push(he),this._frameIndexes.push(this._frames.length-1),this._frameRepeats.push(1)}getFrame(ee){return!this._frames.length||ee<0||ee>=this.frameCount?null:this._frames[this._frameIndexes[ee%this._frameIndexes.length]]}getFrameIndex(ee){return ee<0||ee>=this.frameCount?-1:(this._isRandom&&(ee=Math.round(Math.random()*this._frameIndexes.length),ee===this._frameIndexes.length&&ee--),ee)}getRepeats(ee){return ee<0||ee>=this.frameCount?0:this._frameRepeats[ee%this._frameRepeats.length]}}class AnimationLayerData{constructor(ee,te,se){this._frameSequences=[],this._frameCount=-1,this._loopCount=ee<0?0:ee,this._frameRepeat=te<1?1:te,this._isRandom=se}get frameCount(){return this._frameCount<0&&this.calculateLength(),this._frameCount}dispose(){if(!(!this._frameSequences||!this._frameSequences.length)){for(const ee of this._frameSequences)ee&&ee.dispose();this._frameSequences=[]}}addFrameSequence(ee,te){const se=new AnimationFrameSequenceData(ee,te);return this._frameSequences.push(se),se}calculateLength(){this._frameCount=0;for(const ee of this._frameSequences)ee&&(this._frameCount+=ee.frameCount)}getFrame(ee,te){if(this._frameCount<1)return null;if(te=te/this._frameRepeat,!this._isRandom){const le=Math.floor(te/this._frameCount);te=Math.floor(te%this._frameCount);let ue=!1,ce=null;(this._loopCount>0&&le>=this._loopCount||this._loopCount<=0&&this._frameCount===1)&&(te=this._frameCount-1,ue=!0);let he=0,de=0;for(;de<this._frameSequences.length;){if(ce=this._frameSequences[de],ce){if(te<he+ce.frameCount)break;he+=ce.frameCount}de++}return this.getFrameFromSpecificSequence(ee,ce,de,te-he,ue)}const se=Math.trunc(this._frameSequences.length*Math.random()),ne=this._frameSequences[se];return ne.frameCount<1?null:this.getFrameFromSpecificSequence(ee,ne,se,0,!1)}getFrameFromSequence(ee,te,se,ne){if(te<0||te>=this._frameSequences.length)return null;const le=this._frameSequences[te];return le?se>=le.frameCount?this.getFrame(ee,ne):this.getFrameFromSpecificSequence(ee,le,te,se,!1):null}getFrameFromSpecificSequence(ee,te,se,ne,le){if(!te)return null;const ue=te.getFrameIndex(ne),ce=te.getFrame(ue);if(!ce)return null;let he=ce.getX(ee),de=ce.getY(ee);const _e=ce.randomX,fe=ce.randomY;let ye=ce.repeats,be=!1;_e&&(he=Math.trunc(he+_e*Math.random())),fe&&(de=Math.trunc(de+fe*Math.random())),ye>1&&(ye=te.getRepeats(ue));let Pe=this._frameRepeat*ye;return le&&(Pe=AnimationFrame.FRAME_REPEAT_FOREVER),!this._isRandom&&!te.isRandom&&se===this._frameSequences.length-1&&ne===te.frameCount-1&&(be=!0),AnimationFrame.allocate(ce.id,he,de,ye,Pe,be,se,ne)}}class DirectionalOffsetData{constructor(){this._offsetX=new Map,this._offsetY=new Map}getXOffset(ee,te){const se=this._offsetX.get(ee);return se??te}getYOffset(ee,te){const se=this._offsetY.get(ee);return se??te}setDirection(ee,te,se){this._offsetX.set(ee,te),this._offsetY.set(ee,se)}}const JO=class JO{constructor(){this._layers=new Map,this._frameCount=-1,this._randomStart=!1,this._immediateChanges=null}static getTransitionToAnimationId(ee){return JO.TRANSITION_TO_ANIMATION_OFFSET+ee}static getTransitionFromAnimationId(ee){return JO.TRANSITION_FROM_ANIMATION_OFFSET+ee}static isTransitionToAnimation(ee){return ee>=JO.TRANSITION_TO_ANIMATION_OFFSET&&ee<JO.TRANSITION_FROM_ANIMATION_OFFSET}static isTransitionFromAnimation(ee){return ee>=JO.TRANSITION_FROM_ANIMATION_OFFSET}dispose(){for(const ee of this._layers.values())ee&&ee.dispose();this._layers.clear(),this._immediateChanges=null}setImmediateChanges(ee){this._immediateChanges=ee}isImmediateChange(ee){return!(!this._immediateChanges||this._immediateChanges.indexOf(ee)===-1)}getStartFrame(ee){return this._randomStart?Math.random()*this._frameCount:0}initialize(ee){if(ee.randomStart&&(this._randomStart=!0),ee.layers)for(const te in ee.layers){const se=ee.layers[te];if(!se)return!1;const ne=parseInt(te),le=se.loopCount!==void 0?se.loopCount:1,ue=se.frameRepeat!==void 0?se.frameRepeat:1,ce=se.random!==void 0&&se.random!==0;if(!this.addLayer(ne,le,ue,ce,se))return!1}return!0}addLayer(ee,te,se,ne,le){const ue=new AnimationLayerData(te,se,ne);if(le.frameSequences)for(const he in le.frameSequences){const de=le.frameSequences[he];if(!de)continue;const _e=de.loopCount!==void 0?de.loopCount:1,fe=de.random!==void 0&&de.random!==0,ye=ue.addFrameSequence(_e,fe);if(de.frames)for(const be in de.frames){const Pe=de.frames[be];if(!Pe)return ue.dispose(),!1;ye.addFrame(Pe.id,Pe.x||0,Pe.y||0,Pe.randomX||0,Pe.randomY||0,this.readDirectionalOffsets(Pe))}ye.initialize()}ue.calculateLength(),this._layers.set(ee,ue);const ce=ue.frameCount;return ce>this._frameCount&&(this._frameCount=ce),!0}readDirectionalOffsets(ee){let te=null;if(ee&&ee.offsets)for(const se in ee.offsets){const ne=ee.offsets[se];ne&&(te||(te=new DirectionalOffsetData),te.setDirection(ne.direction,ne.x,ne.y))}return te}getFrame(ee,te,se){const ne=this._layers.get(te);return ne?ne.getFrame(ee,se):null}getFrameFromSequence(ee,te,se,ne,le){const ue=this._layers.get(te);return ue?ue.getFrameFromSequence(ee,se,ne,le):null}};JO.TRANSITION_TO_ANIMATION_OFFSET=1e6,JO.TRANSITION_FROM_ANIMATION_OFFSET=2e6,JO.DEFAULT_FRAME_NUMBER=0;let AnimationData=JO;const kD=class kD{constructor(ee){this._colors=[],this.createColors(ee)}createColors(ee){if(ee)for(let te=0;te<ee;te++)this._colors.push(kD.DEFAULT_COLOR)}dispose(){this._colors=[]}getLayerColor(ee){const te=this._colors[ee];return te||kD.DEFAULT_COLOR}setColorLayer(ee,te){this._colors[ee]&&(this._colors[ee]=te)}};kD.DEFAULT_COLOR=16777215;let ColorData=kD;const IT=class IT{constructor(){this._tag=IT.DEFAULT_TAG,this._ink=IT.DEFAULT_INK,this._alpha=IT.DEFAULT_ALPHA,this._ignoreMouse=IT.DEFAULT_IGNORE_MOUSE,this._xOffset=IT.DEFAULT_XOFFSET,this._yOffset=IT.DEFAULT_YOFFSET,this._zOffset=IT.DEFAULT_ZOFFSET}setFromLayer(ee){ee&&(this._tag=ee.tag,this._ink=ee.ink,this._alpha=ee.alpha,this._ignoreMouse=ee.ignoreMouse,this._xOffset=ee.xOffset,this._yOffset=ee.yOffset,this._zOffset=ee.zOffset)}get tag(){return this._tag}set tag(ee){this._tag=ee}get ink(){return this._ink}set ink(ee){this._ink=ee}get alpha(){return this._alpha}set alpha(ee){this._alpha=ee}get ignoreMouse(){return this._ignoreMouse}set ignoreMouse(ee){this._ignoreMouse=ee}get xOffset(){return this._xOffset}set xOffset(ee){this._xOffset=ee}get yOffset(){return this._yOffset}set yOffset(ee){this._yOffset=ee}get zOffset(){return this._zOffset}set zOffset(ee){this._zOffset=ee}};IT.DEFAULT_COUNT=0,IT.DEFAULT_DIRECTION=0,IT.DEFAULT_TAG="",IT.DEFAULT_INK=BLEND_MODES.NORMAL,IT.DEFAULT_ALPHA=255,IT.DEFAULT_IGNORE_MOUSE=!1,IT.DEFAULT_XOFFSET=0,IT.DEFAULT_YOFFSET=0,IT.DEFAULT_ZOFFSET=0;let LayerData=IT;const jF=class jF{constructor(ee){this._layers=[],this.createLayers(ee)}createLayers(ee){if(ee)for(let te=0;te<ee;te++)this._layers.push(new LayerData)}dispose(){this._layers=[]}setFromDirection(ee){if(!ee)return;const te=this.layerCount;if(te===ee.layerCount)for(let se=0;se<te;se++){const ne=this.getLayer(se),le=ee.getLayer(se);ne&&ne.setFromLayer(le)}}getLayer(ee){const te=this._layers[ee];return te||null}getLayerTag(ee){const te=this.getLayer(ee);return te?te.tag:LayerData.DEFAULT_TAG}setLayerTag(ee,te){const se=this.getLayer(ee);se&&(se.tag=te)}getLayerInk(ee){const te=this.getLayer(ee);return te?te.ink:LayerData.DEFAULT_INK}setLayerInk(ee,te){const se=this.getLayer(ee);se&&(isNaN(te)||(se.ink=te))}getLayerAlpha(ee){const te=this.getLayer(ee);return te?te.alpha:LayerData.DEFAULT_ALPHA}setLayerAlpha(ee,te){const se=this.getLayer(ee);se&&(isNaN(te)||(se.alpha=te))}getLayerIgnoreMouse(ee){const te=this.getLayer(ee);return te?te.ignoreMouse:LayerData.DEFAULT_IGNORE_MOUSE}setLayerIgnoreMouse(ee,te){const se=this.getLayer(ee);se&&(se.ignoreMouse=te||!1)}getLayerXOffset(ee){const te=this.getLayer(ee);return te?te.xOffset:LayerData.DEFAULT_XOFFSET}setLayerXOffset(ee,te){const se=this.getLayer(ee);se&&(isNaN(te)||(se.xOffset=te))}getLayerYOffset(ee){const te=this.getLayer(ee);return te?te.yOffset:LayerData.DEFAULT_YOFFSET}setLayerYOffset(ee,te){const se=this.getLayer(ee);se&&(isNaN(te)||(se.yOffset=te))}getLayerZOffset(ee){const te=this.getLayer(ee);return te?te.zOffset:LayerData.DEFAULT_ZOFFSET}setLayerZOffset(ee,te){const se=this.getLayer(ee);se&&(isNaN(te)||(se.zOffset=te))}get layerCount(){return this._layers.length}};jF.USE_DEFAULT_DIRECTION=-1;let DirectionData=jF;const $D=class $D{constructor(ee,te){this._layerCount=ee<0?0:ee>$D.MAX_LAYERS?$D.MAX_LAYERS:ee,this._angle=te<1?1:te>360?360:te,this._defaultDirection=new DirectionData(this._layerCount),this._directions=new Map,this._colors=[],this._lastDirectionData=null,this._lastDirection=-1}dispose(){this._defaultDirection&&this._defaultDirection.dispose();for(const ee of this._directions.values())ee&&ee.dispose();for(const ee of this._colors)ee&&ee.dispose();this.reset()}reset(){this._defaultDirection=null,this._colors=[],this._lastDirectionData=null,this._lastDirection=-1,this._directions.clear()}processLayers(ee){return ee?this.setDirectionLayers(this._defaultDirection,ee):!1}processDirections(ee){if(!ee)return!1;for(const te in ee){const se=ee[te];if(!se)continue;const ne=parseInt(te);if(this._directions.get(ne))return!1;const le=new DirectionData(this._layerCount);le.setFromDirection(this._defaultDirection),this.setDirectionLayers(le,se.layers),this._directions.set(ne,le),this._lastDirectionData=null,this._lastDirection=-1}return!0}processColors(ee){if(!ee)return!1;for(const te in ee){const se=ee[te];if(!se)continue;const ne=parseInt(te);if(this._colors[ne])return!1;const le=new ColorData(this._layerCount);for(const ue in se.layers){const ce=se.layers[ue];if(!ce)continue;const he=parseInt(ue),de=ce.color;le.setColorLayer(he,de)}this._colors[ne]=le}return!0}setDirectionLayers(ee,te){if(!ee||!te)return!1;for(const se in te){const ne=te[se];if(!ne)continue;const le=parseInt(se);if(le<0||le>=this._layerCount)return!1;ne.ink!==void 0&&ee.setLayerInk(le,SpriteUtilities.inkToBlendMode(ne.ink)),ne.tag!==void 0&&ee.setLayerTag(le,ne.tag),ne.alpha!==void 0&&ee.setLayerAlpha(le,ne.alpha),ne.ignoreMouse!==void 0&&ee.setLayerIgnoreMouse(le,ne.ignoreMouse),ne.x!==void 0&&ee.setLayerXOffset(le,ne.x),ne.y!==void 0&&ee.setLayerYOffset(le,ne.y),ne.z!==void 0&&ee.setLayerZOffset(le,ne.z/-1e3)}return!0}getValidDirection(ee){if(this._directions.get(ee))return ee;ee=(ee%360+360)%360;let se=-1,ne=-1;for(const le of this._directions.keys()){let ue=(le*this._angle-ee+360)%360;ue>180&&(ue=360-ue),(ue<se||se<0)&&(se=ue,ne=le)}return ne>=0?Math.trunc(ne):0}getDirectionData(ee){if(ee===this._lastDirection&&this._lastDirectionData)return this._lastDirectionData;let te=this._directions.get(ee);return te||(te=this._defaultDirection),this._lastDirection=ee,this._lastDirectionData=te,this._lastDirectionData}getLayerTag(ee,te){const se=this.getDirectionData(ee);return se?se.getLayerTag(te):LayerData.DEFAULT_TAG}getLayerInk(ee,te){const se=this.getDirectionData(ee);return se?se.getLayerInk(te):LayerData.DEFAULT_INK}getLayerAlpha(ee,te){const se=this.getDirectionData(ee);return se?se.getLayerAlpha(te):LayerData.DEFAULT_ALPHA}getLayerColor(ee,te){const se=this._colors[te];return se?se.getLayerColor(ee):ColorData.DEFAULT_COLOR}getLayerIgnoreMouse(ee,te){const se=this.getDirectionData(ee);return se?se.getLayerIgnoreMouse(te):LayerData.DEFAULT_IGNORE_MOUSE}getLayerXOffset(ee,te){const se=this.getDirectionData(ee);return se?se.getLayerXOffset(te):LayerData.DEFAULT_XOFFSET}getLayerYOffset(ee,te){const se=this.getDirectionData(ee);return se?se.getLayerYOffset(te):LayerData.DEFAULT_YOFFSET}getLayerZOffset(ee,te){const se=this.getDirectionData(ee);return se?se.getLayerZOffset(te):LayerData.DEFAULT_ZOFFSET}get layerCount(){return this._layerCount}};$D.MAX_LAYERS=26;let SizeData=$D;class AnimationSizeData extends SizeData{constructor(ee,te){super(ee,te),this._animations=new Map,this._animationIds=[]}dispose(){super.dispose();for(const ee of this._animations.values())ee&&ee.dispose();this._animations.clear(),this._animationIds=[]}defineAnimations(ee){if(!ee)return!0;for(const te in ee){const se=ee[te];if(!se)return!1;let ne=parseInt(te.split("_")[0]),le=!1;const ue=se.transitionTo,ce=se.transitionFrom;ue!==void 0&&(ne=AnimationData.getTransitionToAnimationId(ue),le=!0),ce!==void 0&&(ne=AnimationData.getTransitionFromAnimationId(ce),le=!0);const he=this.createAnimationData();if(!he.initialize(se))return he.dispose(),!1;const de=se.immediateChangeFrom;if(de!==void 0){const _e=de.split(","),fe=[];for(const ye of _e){const be=parseInt(ye);fe.indexOf(be)===-1&&fe.push(be)}he.setImmediateChanges(fe)}this._animations.set(ne,he),le||this._animationIds.push(ne)}return!0}createAnimationData(){return new AnimationData}hasAnimation(ee){return!!this._animations.get(ee)}getAnimationCount(){return this._animationIds.length||0}getAnimationId(ee){const te=this.getAnimationCount();return ee<0||te<=0?0:this._animationIds[ee%te]}isImmediateChange(ee,te){const se=this._animations.get(ee);return se?se.isImmediateChange(te):!1}getStartFrame(ee,te){const se=this._animations.get(ee);return se?se.getStartFrame(te):0}getFrame(ee,te,se,ne){const le=this._animations.get(ee);return le?le.getFrame(te,se,ne):null}getFrameFromSequence(ee,te,se,ne,le,ue){const ce=this._animations.get(ee);return ce?ce.getFrameFromSequence(te,se,ne,le,ue):null}}class AnimationStateData{constructor(){this._animationId=-1,this._animationAfterTransitionId=0,this._animationOver=!1,this._frameCounter=0,this._frames=[],this._lastFramePlayed=[],this._animationPlayed=[],this._layerCount=0}get animationOver(){return this._animationOver}set animationOver(ee){this._animationOver=ee}get frameCounter(){return this._frameCounter}set frameCounter(ee){this._frameCounter=ee}get animationId(){return this._animationId}set animationId(ee){ee!==this._animationId&&(this._animationId=ee,this.resetAnimationFrames(!1))}get animationAfterTransitionId(){return this._animationAfterTransitionId}set animationAfterTransitionId(ee){this._animationAfterTransitionId=ee}dispose(){this.recycleFrames(),this._frames=null,this._lastFramePlayed=null,this._animationPlayed=null}setLayerCount(ee){this._layerCount=ee,this.resetAnimationFrames()}resetAnimationFrames(ee=!0){(ee||!this._frames)&&(this.recycleFrames(),this._frames=[]),this._lastFramePlayed=[],this._animationPlayed=[],this._animationOver=!1,this._frameCounter=0;let te=0;for(;te<this._layerCount;){if(ee||this._frames.length<=te)this._frames[te]=null;else{const se=this._frames[te];se&&(se.recycle(),this._frames[te]=AnimationFrame.allocate(se.id,se.x,se.y,se.repeats,0,se.isLastFrame))}this._lastFramePlayed[te]=!1,this._animationPlayed[te]=!1,te++}}recycleFrames(){if(!(!this._frames||!this._frames.length))for(const ee of this._frames)ee&&ee.recycle()}getFrame(ee){return ee<0||ee>=this._layerCount?null:this._frames[ee]}setFrame(ee,te){if(ee<0||ee>=this._layerCount)return;const se=this._frames[ee];se&&se.recycle(),this._frames[ee]=te}getAnimationPlayed(ee){return ee<0||ee>=this._layerCount?!0:this._animationPlayed[ee]}setAnimationPlayed(ee,te){ee<0||ee>=this._layerCount||(this._animationPlayed[ee]=te)}getLastFramePlayed(ee){return ee<0||ee>=this._layerCount?!0:this._lastFramePlayed[ee]}setLastFramePlayed(ee,te){ee<0||ee>=this._layerCount||(this._lastFramePlayed[ee]=te)}}const eU=class eU extends AnimationSizeData{constructor(ee,te){super(ee,te),this._posturesToAnimations=new Map,this._gesturesToAnimations=new Map,this._defaultPosture=null}processPostures(ee){if(!ee||(ee.defaultPosture&&ee.defaultPosture.length&&(this._defaultPosture=ee.defaultPosture),!ee.postures))return!1;for(const te of ee.postures)this._posturesToAnimations.get(te.id)||(this._defaultPosture===null&&(this._defaultPosture=te.id),this._posturesToAnimations.set(te.id,te.animationId));return this._posturesToAnimations.get(this._defaultPosture)!==void 0}processGestures(ee){if(!ee)return!1;for(const te of ee)this._gesturesToAnimations.get(te.id)||this._gesturesToAnimations.set(te.id,te.animationId);return!0}postureToAnimation(ee){return this._posturesToAnimations.get(ee)||(ee=this._defaultPosture),this._posturesToAnimations.get(ee)}getGestureDisabled(ee){return ee==="ded"}gestureToAnimation(ee){return this._gesturesToAnimations.get(ee)?this._gesturesToAnimations.get(ee):eU.DEFAULT}animationToPosture(ee,te){if(ee>=0&&ee<this._posturesToAnimations.size){const se=this._posturesToAnimations.keys();for(;;){const ne=se.next();if(ne.done)return null;if(ee<=0)return ne.value;--ee}}return te?this._defaultPosture:null}animationToGesture(ee){if(ee>=0&&ee<this._gesturesToAnimations.size){const te=this._gesturesToAnimations.keys();for(;;){const se=te.next();if(se.done)return null;if(ee<=0)return se.value;--ee}}return null}getGestureForAnimationId(ee){for(const te of this._gesturesToAnimations.keys())if(this._gesturesToAnimations.get(te)===ee)return te;return null}get totalPostures(){return this._posturesToAnimations.size}get totalGestures(){return this._gesturesToAnimations.size}};eU.DEFAULT=-1;let PetSizeData=eU;const GF=class GF{constructor(){this._type="",this._sizes=[],this._sizeDatas=new Map,this._lastSize=-1,this._lastSizeScale=-1,this._lastSizeData=null,this._lastSizeDataScale=-1}initialize(ee){return this.reset(),ee?(this._type=ee.name,this.defineVisualizations(ee.visualizations)?!0:(this.reset(),!1)):!1}dispose(){if(this._sizeDatas&&this._sizeDatas.size){for(const ee of this._sizeDatas.values())ee&&ee.dispose();this._sizeDatas=null}this._lastSizeData=null,this._sizes=null}reset(){if(this._type="",this._sizeDatas&&this._sizeDatas.size)for(const ee of this._sizeDatas.values())ee&&ee.dispose();this._sizeDatas.clear(),this._sizes=[],this._lastSizeData=null,this._lastSizeDataScale=-1}createSizeData(ee,te,se){return new SizeData(te,se)}defineVisualizations(ee){if(!ee)return!1;for(const te in ee){const se=ee[te],ne=se.layerCount,le=se.angle;let ue=se.size;if(ue<1&&(ue=1),this._sizeDatas.get(ue))return!1;const ce=this.createSizeData(ue,ne,le);if(!ce)return!1;for(const he in se){const de=se[he];if(!this.processVisualElement(ce,he,de))return ce.dispose(),!1}this._sizeDatas.set(ue,ce),this._sizes.push(ue)}return this._sizes.sort(),!0}processVisualElement(ee,te,se){if(!ee||!te||!se)return!1;switch(te){case"layers":if(!ee.processLayers(se))return!1;break;case"directions":if(!ee.processDirections(se))return!1;break;case"colors":if(!ee.processColors(se))return!1;break}return!0}getValidSize(ee){if(ee===this._lastSizeScale)return this._lastSize;const te=this.getSizeIndex(ee);let se=-1;return te<this._sizes.length&&(se=this._sizes[te]),this._lastSizeScale=ee,this._lastSize=se,se}getSizeIndex(ee){if(ee<=0)return 0;let te=0,se=1;for(;se<this._sizes.length;){if(this._sizes[se]>ee){this._sizes[se]/ee<ee/this._sizes[se-1]&&(te=se);break}te=se,se++}return te}getSizeData(ee){if(ee===this._lastSizeDataScale)return this._lastSizeData;const te=this.getSizeIndex(ee);return te<this._sizes.length?this._lastSizeData=this._sizeDatas.get(this._sizes[te]):this._lastSizeData=null,this._lastSizeDataScale=ee,this._lastSizeData}getLayerCount(ee){const te=this.getSizeData(ee);return te?te.layerCount:LayerData.DEFAULT_COUNT}getValidDirection(ee,te){const se=this.getSizeData(ee);return se?se.getValidDirection(te):LayerData.DEFAULT_DIRECTION}getLayerTag(ee,te,se){const ne=this.getSizeData(ee);return ne?ne.getLayerTag(te,se):LayerData.DEFAULT_TAG}getLayerInk(ee,te,se){const ne=this.getSizeData(ee);return ne?ne.getLayerInk(te,se):LayerData.DEFAULT_INK}getLayerAlpha(ee,te,se){const ne=this.getSizeData(ee);return ne?ne.getLayerAlpha(te,se):LayerData.DEFAULT_ALPHA}getLayerColor(ee,te,se){const ne=this.getSizeData(ee);return ne?ne.getLayerColor(te,se):ColorData.DEFAULT_COLOR}getLayerIgnoreMouse(ee,te,se){const ne=this.getSizeData(ee);return ne?ne.getLayerIgnoreMouse(te,se):LayerData.DEFAULT_IGNORE_MOUSE}getLayerXOffset(ee,te,se){const ne=this.getSizeData(ee);return ne?ne.getLayerXOffset(te,se):LayerData.DEFAULT_XOFFSET}getLayerYOffset(ee,te,se){const ne=this.getSizeData(ee);return ne?ne.getLayerYOffset(te,se):LayerData.DEFAULT_YOFFSET}getLayerZOffset(ee,te,se){const ne=this.getSizeData(ee);return ne?ne.getLayerZOffset(te,se):LayerData.DEFAULT_ZOFFSET}get type(){return this._type}};GF.LAYER_LETTERS=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];let FurnitureVisualizationData=GF;class FurnitureAnimatedVisualizationData extends FurnitureVisualizationData{createSizeData(ee,te,se){return new AnimationSizeData(te,se)}processVisualElement(ee,te,se){if(!ee||!te||!se)return!1;switch(te){case"animations":if(!(ee instanceof AnimationSizeData)||!ee.defineAnimations(se))return!1;break;default:if(!super.processVisualElement(ee,te,se))return!1;break}return!0}hasAnimation(ee,te){const se=this.getSizeData(ee);return se?se.hasAnimation(te):null}getAnimationCount(ee){const te=this.getSizeData(ee);return te?te.getAnimationCount():null}getAnimationId(ee,te){const se=this.getSizeData(ee);return se?se.getAnimationId(te):null}isImmediateChange(ee,te,se){const ne=this.getSizeData(ee);return ne?ne.isImmediateChange(te,se):null}getStartFrame(ee,te,se){const ne=this.getSizeData(ee);return ne?ne.getStartFrame(te,se):null}getFrame(ee,te,se,ne,le){const ue=this.getSizeData(ee);return ue?ue.getFrame(te,se,ne,le):null}getFrameFromSequence(ee,te,se,ne,le,ue,ce){const he=this.getSizeData(ee);return he?he.getFrameFromSequence(te,se,ne,le,ue,ce):null}}const HD=class HD extends RoomObjectSpriteVisualization{constructor(){super(),this._data=null,this._type=null,this._direction=0,this._lastCameraAngle=NaN,this._selectedColor=0,this._furnitureLift=0,this._alphaMultiplier=1,this._alphaChanged=!1,this._clickUrl=null,this._clickHandling=!1,this._cacheDirection=-1,this._cacheScale=0,this._cacheSize=-1,this._layerCount=0,this._shadowLayerIndex=-1,this._updatedLayers=[],this._assetNames=[],this._spriteTags=[],this._spriteInks=[],this._spriteAlphas=[],this._spriteColors=[],this._spriteMouseCaptures=[],this._spriteXOffsets=[],this._spriteYOffsets=[],this._spriteZOffsets=[],this._animationNumber=0}initialize(ee){return this.reset(),ee instanceof FurnitureVisualizationData?(this._type=ee.type,this._data=ee,!0):!1}dispose(){super.dispose(),this._data=null,this._updatedLayers=null,this._assetNames=null,this._spriteTags=null,this._spriteInks=null,this._spriteAlphas=null,this._spriteColors=null,this._spriteMouseCaptures=null,this._spriteXOffsets=null,this._spriteYOffsets=null,this._spriteZOffsets=null}reset(){super.reset(),this.setDirection(-1),this._data=null,this._updatedLayers=[],this._assetNames=[],this._spriteTags=[],this._spriteInks=[],this._spriteAlphas=[],this._spriteColors=[],this._spriteMouseCaptures=[],this._spriteXOffsets=[],this._spriteYOffsets=[],this._spriteZOffsets=[],this.createSprites(0)}resetLayers(ee,te){this._cacheDirection===te&&this._cacheScale===ee||(this._updatedLayers=[],this._assetNames=[],this._spriteTags=[],this._spriteInks=[],this._spriteAlphas=[],this._spriteColors=[],this._spriteMouseCaptures=[],this._spriteXOffsets=[],this._spriteYOffsets=[],this._spriteZOffsets=[],this._cacheDirection=te,this._cacheScale=ee,this._cacheSize=this.getValidSize(ee),this.setLayerCount((this._data&&this._data.getLayerCount(ee)||0)+this.getAdditionalLayerCount()))}update(ee,te,se,ne){if(!ee)return;const le=ee.scale;let ue=!1;this.updateObject(le,ee.direction.x)&&(ue=!0),this.updateModel(le)&&(ue=!0);let ce=0;ne?this._animationNumber=this._animationNumber|this.updateAnimation(le):(ce=this.updateAnimation(le)|this._animationNumber,this._animationNumber=0),(ue||ce!==0)&&(this.updateSprites(le,ue,ce),this._scale=le,this.updateSpriteCounter++)}updateObject(ee,te){if(!this.object||this.updateObjectCounter===this.object.updateCounter&&ee===this._scale&&this._lastCameraAngle===te)return!1;let se=this.object.getDirection().x-(te+135);if(se=(se%360+360)%360,this._data){const ne=this._data.getValidDirection(ee,se);this.setDirection(ne)}return this._lastCameraAngle=te,this._scale=ee,this.updateObjectCounter=this.object.updateCounter,this.resetLayers(ee,this._direction),!0}updateModel(ee){const te=this.object&&this.object.model;if(!te||this.updateModelCounter===te.updateCounter)return!1;this._selectedColor=te.getValue(RoomObjectVariable.FURNITURE_COLOR),this._clickUrl=te.getValue(RoomObjectVariable.FURNITURE_AD_URL),this._clickHandling=this._clickUrl&&this._clickUrl!==""&&this._clickUrl.indexOf("http")===0||!1,this._furnitureLift=te.getValue(RoomObjectVariable.FURNITURE_LIFT_AMOUNT)||0;let se=te.getValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER);return isNaN(se)&&(se=1),this._alphaMultiplier!==se&&(this._alphaMultiplier=se,this._alphaChanged=!0),this.updateModelCounter=te.updateCounter,!0}updateSprites(ee,te,se){if(this._layerCount!==this.totalSprites&&this.createSprites(this._layerCount),te){let ne=this.totalSprites-1;for(;ne>=0;)this.updateSprite(ee,ne),ne--}else{let ne=0;for(;se>0;)se&&this.updateSprite(ee,ne),ne++,se=se>>1}this._alphaChanged=!1}updateSprite(ee,te){const se=this.getSpriteAssetName(ee,te),ne=this.getSprite(te);if(se&&ne){const le=this.getAsset(se,te);if(le&&le.texture){ne.visible=!0,ne.type=this._type,ne.texture=le.texture,ne.flipH=le.flipH,ne.flipV=le.flipV,ne.direction=this._direction;let ue=0;te!==this._shadowLayerIndex?(ne.tag=this.getLayerTag(ee,this._direction,te),ne.alpha=this.getLayerAlpha(ee,this._direction,te),ne.color=this.getLayerColor(ee,te,this._selectedColor),ne.offsetX=le.offsetX+this.getLayerXOffset(ee,this._direction,te),ne.offsetY=le.offsetY+this.getLayerYOffset(ee,this._direction,te),ne.blendMode=this.getLayerInk(ee,this._direction,te),ne.alphaTolerance=this.getLayerIgnoreMouse(ee,this._direction,te)?AlphaTolerance.MATCH_NOTHING:AlphaTolerance.MATCH_OPAQUE_PIXELS,ue=this.getLayerZOffset(ee,this._direction,te),ue=ue-te*.001):(ne.offsetX=le.offsetX,ne.offsetY=le.offsetY+this.getLayerYOffset(ee,this._direction,te),ne.alpha=48*this._alphaMultiplier,ne.alphaTolerance=AlphaTolerance.MATCH_NOTHING,ue=1),ne.relativeDepth=ue*HD.DEPTH_MULTIPLIER,ne.name=se,ne.libraryAssetName=this.getLibraryAssetNameForSprite(le,ne),ne.posture=this.getPostureForAsset(ee,le.source),ne.clickHandling=this._clickHandling}else this.resetSprite(ne)}else ne&&this.resetSprite(ne)}getLibraryAssetNameForSprite(ee,te){return ee.source}getPostureForAssetFile(ee,te){return null}resetSprite(ee){ee&&(ee.texture=null,ee.libraryAssetName="",ee.posture="",ee.tag="",ee.offsetX=0,ee.offsetY=0,ee.flipH=!1,ee.flipV=!1,ee.relativeDepth=0,ee.clickHandling=!1)}getSpriteAssetName(ee,te){if(!this._data||te>=FurnitureVisualizationData.LAYER_LETTERS.length)return"";let se=this._assetNames[te],ne=this._updatedLayers[te];return(!se||!se.length)&&(se=this.cacheSpriteAssetName(ee,te,!0),ne=this._cacheSize!==1),ne&&(se+=this.getFrameNumber(ee,te)),se}cacheSpriteAssetName(ee,te,se){this._type;const ne=se?this._cacheSize:this.getValidSize(ee);let le="";const ue=ne!==1;if(te!==this._shadowLayerIndex?le=FurnitureVisualizationData.LAYER_LETTERS[te]||"":le="sd",le==="")return null;const ce=this._type+(ue?"_"+ne+"_"+le+"_"+this._direction+"_":"_icon_"+le);return se&&(this._assetNames[te]=ce,this._updatedLayers[te]=ue),ce}getLayerTag(ee,te,se){const ne=this._spriteTags[se];if(ne!==void 0)return ne;if(!this._data)return LayerData.DEFAULT_TAG;const le=this._data.getLayerTag(ee,te,se);return this._spriteTags[se]=le,le}getLayerInk(ee,te,se){const ne=this._spriteInks[se];if(ne!==void 0)return ne;if(!this._data)return LayerData.DEFAULT_INK;const le=this._data.getLayerInk(ee,te,se);return this._spriteInks[se]=le,le}getLayerAlpha(ee,te,se){if(!this._alphaChanged){const le=this._spriteAlphas[se];if(le!==void 0)return le}if(!this._data)return LayerData.DEFAULT_ALPHA;let ne=this._data.getLayerAlpha(ee,te,se);return this._alphaMultiplier!==null&&(ne=ne*this._alphaMultiplier),this._spriteAlphas[se]=ne,ne}getLayerColor(ee,te,se){const ne=this._spriteColors[te];if(ne!==void 0)return ne;if(!this._data)return ColorData.DEFAULT_COLOR;const le=this._data.getLayerColor(ee,te,se);return this._spriteColors[te]=le,le}getLayerIgnoreMouse(ee,te,se){const ne=this._spriteMouseCaptures[se];if(ne!==void 0)return ne;if(!this._data)return LayerData.DEFAULT_IGNORE_MOUSE;const le=this._data.getLayerIgnoreMouse(ee,te,se);return this._spriteMouseCaptures[se]=le,le}getLayerXOffset(ee,te,se){const ne=this._spriteXOffsets[se];if(ne!==void 0)return ne;if(!this._data)return LayerData.DEFAULT_XOFFSET;const le=this._data.getLayerXOffset(ee,te,se);return this._spriteXOffsets[se]=le,le}getLayerYOffset(ee,te,se){if(se===this._shadowLayerIndex)return Math.ceil(this._furnitureLift*(ee/2));const ne=this._spriteYOffsets[se];if(ne!==void 0)return ne;if(!this._data)return LayerData.DEFAULT_YOFFSET;const le=this._data.getLayerYOffset(ee,te,se);return this._spriteYOffsets[se]=le,le}getLayerZOffset(ee,te,se){const ne=this._spriteZOffsets[se];if(ne!==void 0)return ne;if(!this._data)return LayerData.DEFAULT_ZOFFSET;const le=this._data.getLayerZOffset(ee,te,se);return this._spriteZOffsets[se]=le,le}getValidSize(ee){return this._data?this._data.getValidSize(ee):ee}setLayerCount(ee){this._layerCount=ee,this._shadowLayerIndex=ee-this.getAdditionalLayerCount()}setDirection(ee){this._direction!==ee&&(this._direction=ee)}getAdditionalLayerCount(){return 1}updateAnimation(ee){return 0}getFrameNumber(ee,te){return 0}getPostureForAsset(ee,te){return null}getAsset(ee,te=-1){return this.asset?this.asset.getAsset(ee):null}get direction(){return this._direction}get data(){return this._data}};HD.DEPTH_MULTIPLIER=Math.sqrt(.5),HD.TYPE=RoomObjectVisualizationType.FURNITURE_STATIC;let FurnitureVisualization=HD;const xN=class xN extends FurnitureVisualization{constructor(){super(),this._state=-1,this._frameIncrease=1,this._animationData=new AnimationStateData,this._animationScale=0,this._animationChangeTime=0,this._animatedLayerCount=0,this._directionChanged=!1}initialize(ee){return ee instanceof FurnitureAnimatedVisualizationData?super.initialize(ee):!1}dispose(){super.dispose(),this._animationData&&(this._animationData.dispose(),this._animationData=null)}get animatedLayerCount(){return this._animatedLayerCount}get animationId(){return this._animationData.animationId}getAnimationId(ee){return this.animationId!==xN.DEFAULT_ANIMATION_ID&&this.data.hasAnimation(this._animationScale,this.animationId)?this.animationId:xN.DEFAULT_ANIMATION_ID}updateObject(ee,te){if(super.updateObject(ee,te)){const se=this.object.getState(0);return se!==this._state&&(this.setAnimation(se),this._state=se,this._animationChangeTime=this.object.model.getValue(RoomObjectVariable.FURNITURE_STATE_UPDATE_TIME)||0),!0}return!1}updateModel(ee){if(super.updateModel(ee)){if(this.usesAnimationResetting()){const se=this.object.model.getValue(RoomObjectVariable.FURNITURE_STATE_UPDATE_TIME);se>this._animationChangeTime&&(this._animationChangeTime=se,this.setAnimation(this._state))}const te=this.object.model.getValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX);if(!isNaN(te)){const se=this.data.getAnimationId(this._animationScale,te);this.setAnimation(se)}return!0}return!1}isPlayingTransition(ee,te){return!(!AnimationData.isTransitionFromAnimation(ee.animationId)&&!AnimationData.isTransitionToAnimation(ee.animationId)||te!==ee.animationAfterTransitionId||ee.animationOver)}getCurrentState(ee){const te=ee.animationId;return!AnimationData.isTransitionFromAnimation(te)&&!AnimationData.isTransitionToAnimation(te)?te:ee.animationAfterTransitionId}setAnimation(ee){this.data&&this.setSubAnimation(this._animationData,ee,this._state>=0)}setSubAnimation(ee,te,se=!0){const ne=ee.animationId;if(se){if(this.isPlayingTransition(ee,te))return!1;const le=this.getCurrentState(ee);if(te!==le){if(!this.data.isImmediateChange(this._animationScale,te,le)){let ue=AnimationData.getTransitionFromAnimationId(le);this.data.hasAnimation(this._animationScale,ue)?(ee.animationAfterTransitionId=te,te=ue):(ue=AnimationData.getTransitionToAnimationId(te),this.data.hasAnimation(this._animationScale,ue)&&(ee.animationAfterTransitionId=te,te=ue))}}else if(AnimationData.isTransitionFromAnimation(ee.animationId)){const ue=AnimationData.getTransitionToAnimationId(te);this.data.hasAnimation(this._animationScale,ue)&&(ee.animationAfterTransitionId=te,te=ue)}else if(!AnimationData.isTransitionToAnimation(ee.animationId)&&this.usesAnimationResetting()){const ue=AnimationData.getTransitionFromAnimationId(le);if(this.data.hasAnimation(this._animationScale,ue))ee.animationAfterTransitionId=te,te=ue;else{const ce=AnimationData.getTransitionToAnimationId(te);this.data.hasAnimation(this._animationScale,ce)&&(ee.animationAfterTransitionId=te,te=ce)}}}return ne!==te?(ee.animationId=te,!0):!1}getLastFramePlayed(ee){return this._animationData.getLastFramePlayed(ee)}resetAllAnimationFrames(){this._animationData&&this._animationData.setLayerCount(this._animatedLayerCount)}updateAnimation(ee){if(!this.data)return 0;ee!==this._animationScale&&(this._animationScale=ee,this._animatedLayerCount=this.data.getLayerCount(ee),this.resetAllAnimationFrames());const te=this.updateAnimations(ee);return this._directionChanged=!1,te}updateAnimations(ee){if(this._animationData.animationOver&&!this._directionChanged)return 0;const te=this.updateFramesForAnimation(this._animationData,ee);return this._animationData.animationOver&&(AnimationData.isTransitionFromAnimation(this._animationData.animationId)||AnimationData.isTransitionToAnimation(this._animationData.animationId))&&(this.setAnimation(this._animationData.animationAfterTransitionId),this._animationData.animationOver=!1),te}updateFramesForAnimation(ee,te){if(ee.animationOver&&!this._directionChanged)return 0;const se=this.getAnimationId(ee);let ne=ee.frameCounter;ne||(ne=this.data.getStartFrame(te,se,this._direction)),ne+=this.frameIncrease,ee.frameCounter=ne,ee.animationOver=!0;let le=!1,ue=this._animatedLayerCount-1,ce=0,he=1<<this._animatedLayerCount-1;for(;ue>=0;){let de=0;if(le=ee.getAnimationPlayed(ue),!le||this._directionChanged){let _e=ee.getLastFramePlayed(ue),fe=ee.getFrame(ue);fe&&fe.isLastFrame&&fe.remainingFrameRepeats<=this.frameIncrease&&(_e=!0),(this._directionChanged||!fe||fe.remainingFrameRepeats>=0&&(fe.remainingFrameRepeats=fe.remainingFrameRepeats-this.frameIncrease)<=0)&&(de=AnimationFrame.SEQUENCE_NOT_DEFINED,fe&&(de=fe.activeSequence),de===AnimationFrame.SEQUENCE_NOT_DEFINED?fe=this.data.getFrame(te,se,this._direction,ue,ne):fe=this.data.getFrameFromSequence(te,se,this._direction,ue,de,fe.activeSequenceOffset+fe.repeats,ne),ee.setFrame(ue,fe),ce=ce|he),!fe||fe.remainingFrameRepeats==AnimationFrame.FRAME_REPEAT_FOREVER?(_e=!0,le=!0):ee.animationOver=!1,ee.setLastFramePlayed(ue,_e),ee.setAnimationPlayed(ue,le)}he=he>>1,ue--}return ce}getFrameNumber(ee,te){const se=this._animationData.getFrame(te);return se?se.id:super.getFrameNumber(ee,te)}getLayerXOffset(ee,te,se){const ne=super.getLayerXOffset(ee,te,se),le=this._animationData.getFrame(se);return le?ne+le.x:ne}getLayerYOffset(ee,te,se){const ne=super.getLayerYOffset(ee,te,se),le=this._animationData.getFrame(se);return le?ne+le.y:ne}usesAnimationResetting(){return!1}setDirection(ee){this._direction!==ee&&(super.setDirection(ee),this._directionChanged=!0)}get frameIncrease(){return this._frameIncrease}get data(){return this._data}};xN.TYPE=RoomObjectVisualizationType.FURNITURE_ANIMATED,xN.DEFAULT_ANIMATION_ID=0;let FurnitureAnimatedVisualization=xN;const ON=class ON extends FurnitureAnimatedVisualization{constructor(){super(),this._badgeId="",this._badgeAssetNameNormalScale="",this._badgeAssetNameSmallScale="",this._badgeVisibleInState=-1}updateModel(ee){let te=super.updateModel(ee);const se=this.object.model.getValue(RoomObjectVariable.FURNITURE_BADGE_IMAGE_STATUS),ne=this.object.model.getValue(RoomObjectVariable.FURNITURE_BADGE_ASSET_NAME);if(se===-1)this._badgeAssetNameNormalScale="",this._badgeAssetNameSmallScale="";else if(se===1&&ne!==this._badgeId){this._badgeId=ne,this._badgeAssetNameNormalScale=this._badgeId,this._badgeAssetNameSmallScale===""&&(this._badgeAssetNameSmallScale=this._badgeAssetNameNormalScale+"_32");const le=this.object.model.getValue(RoomObjectVariable.FURNITURE_BADGE_VISIBLE_IN_STATE);isNaN(le)||(this._badgeVisibleInState=le),te=!0}return te}getSpriteAssetName(ee,te){return this.getLayerTag(ee,this.direction,te)!==ON.BADGE||this._badgeVisibleInState!==-1&&this.object.getState(0)!==this._badgeVisibleInState?super.getSpriteAssetName(ee,te):ee===32?this._badgeAssetNameSmallScale:this._badgeAssetNameNormalScale}getLayerXOffset(ee,te,se){let ne=super.getLayerXOffset(ee,te,se);if(this.getLayerTag(ee,te,se)===ON.BADGE){const le=this.getAsset(ee===32?this._badgeAssetNameSmallScale:this._badgeAssetNameNormalScale,se);le&&(ee===64?ne+=(40-le.width)/2:ne+=(20-le.width)/2)}return ne}getLayerYOffset(ee,te,se){let ne=super.getLayerYOffset(ee,te,se);if(this.getLayerTag(ee,te,se)===ON.BADGE){const le=this.getAsset(ee===32?this._badgeAssetNameSmallScale:this._badgeAssetNameNormalScale,se);le&&(ee===64?ne+=(40-le.height)/2:ne+=(20-le.height)/2)}return ne}};ON.BADGE="BADGE";let FurnitureBadgeDisplayVisualization=ON;const FI=class FI extends FurnitureVisualization{constructor(){super(),this._imageUrl=null,this._shortUrl=null,this._imageReady=!1,this._isAnimated=!1,this._gifCollection=null,this._offsetX=0,this._offsetY=0,this._offsetZ=0,this._currentFrame=-1,this._totalFrames=-1}dispose(){super.dispose(),this._imageUrl&&this.asset&&this.asset.disposeAsset(this._imageUrl)}updateObject(ee,te){return super.updateObject(ee,te)?(this._imageReady&&this.checkAndCreateImageForCurrentState(),!0):!1}updateModel(ee){const te=super.updateModel(ee);if(te&&(this._offsetX=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_OFFSET_X)||0,this._offsetY=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_OFFSET_Y)||0,this._offsetZ=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_OFFSET_Z)||0,this._isAnimated=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_IS_ANIMATED)||!1),this._imageReady){if(this.checkIfImageChanged())return this._imageReady=!1,this._imageUrl=null,!0}else if(this._imageReady=this.checkIfImageReady(),this._imageReady)return this.checkAndCreateImageForCurrentState(),!0;return te}checkIfImageChanged(){const ee=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_URL);return ee&&ee===this._imageUrl?!1:(this._gifCollection,this.asset&&this.asset.disposeAsset(this._imageUrl),!0)}checkIfImageReady(){if(!(this.object&&this.object.model))return!1;const te=this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_URL);if(!te||this._imageUrl&&this._imageUrl===te)return!1;if(this.object.model.getValue(RoomObjectVariable.FURNITURE_BRANDING_IMAGE_STATUS)===1){let ne=null;if(this._isAnimated){const le=Nitro.instance.roomEngine.roomContentLoader.getGifCollection(te);le&&(this._gifCollection=le,ne=le.textures[0])}else ne=GetAssetManager().getTexture(te);return ne?(this.imageReady(ne,te),!0):!1}return!1}imageReady(ee,te){if(!ee){this._imageUrl=null;return}this._imageUrl=te}checkAndCreateImageForCurrentState(){if(this._isAnimated){this.buildAssetsForGif();return}if(!this._imageUrl)return;const ee=GetAssetManager().getTexture(this._imageUrl);if(!ee)return;const te=this.object.getState(0);this.addBackgroundAsset(ee,te,0)}buildAssetsForGif(){if(!this._gifCollection)return;const ee=this._gifCollection.textures,te=this._gifCollection.durations;if(!ee.length||!te.length||ee.length!==te.length)return;const se=this.object.getState(0);for(let ne=0;ne<ee.length;ne++){const le=ee[ne];te[ne],le&&this.addBackgroundAsset(le,se,ne)}this._currentFrame=-1,this._totalFrames=ee.length}addBackgroundAsset(ee,te,se){let ne=0,le=0,ue=!1,ce=!1;switch(te){case FI.STATE_0:ne=0,le=0,ue=!1,ce=!1;break;case FI.STATE_1:ne=-ee.width,le=0,ue=!0,ce=!1;break;case FI.STATE_2:ne=-ee.width,le=-ee.height,ue=!0,ce=!0;break;case FI.STATE_3:ne=0,le=-ee.height,ue=!1,ce=!0;break}this.asset.addAsset(`${this._imageUrl}_${se}`,ee,!0,ne,le,ue,ce)}getSpriteAssetName(ee,te){return this.getLayerTag(ee,this._direction,te)===FI.BRANDED_IMAGE&&this._imageUrl?`${this._imageUrl}_${this.getFrameNumber(ee,te)}`:super.getSpriteAssetName(ee,te)}updateAnimation(ee){return!this._imageReady||!this._isAnimated||this._totalFrames<=0?0:1}getFrameNumber(ee,te){if(!this._imageReady||!this._isAnimated||this._totalFrames<=0)return 0;if(this.getLayerTag(ee,this._direction,te)===FI.BRANDED_IMAGE&&this._imageUrl){let ne=this._currentFrame;return ne<0?ne=0:ne+=1,ne===this._totalFrames&&(ne=0),this._currentFrame=ne,this._currentFrame}return 0}};FI.BRANDED_IMAGE="branded_image",FI.STATE_0=0,FI.STATE_1=1,FI.STATE_2=2,FI.STATE_3=3;let FurnitureBrandedImageVisualization=FI;class FurnitureBBVisualization extends FurnitureBrandedImageVisualization{getLayerXOffset(ee,te,se){return super.getLayerXOffset(ee,te,se)+this._offsetX}getLayerYOffset(ee,te,se){return super.getLayerYOffset(ee,te,se)+this._offsetY}getLayerZOffset(ee,te,se){return super.getLayerZOffset(ee,te,se)+this._offsetZ}}const kM=class kM extends FurnitureAnimatedVisualization{constructor(){super(),this._stateQueue=[],this._running=!1}setAnimation(ee){if(ee===-1&&!this._running){this._running=!0,this._stateQueue=[],this._stateQueue.push(kM.ANIMATION_ID_ROLL);return}if(ee>=0&&ee<=7){if(this._running){this._running=!1,this._stateQueue=[],this._stateQueue.push(kM.ANIMATION_ID_OFFSET_SLOW1),this._stateQueue.push(kM.ANIMATION_ID_OFFSET_SLOW2+ee),this._stateQueue.push(ee);return}super.setAnimation(ee)}}updateAnimation(ee){return this.getLastFramePlayed(0)&&this._stateQueue.length&&super.setAnimation(this._stateQueue.shift()),super.updateAnimation(ee)}};kM.ANIMATION_ID_OFFSET_SLOW1=20,kM.ANIMATION_ID_OFFSET_SLOW2=9,kM.ANIMATION_ID_ROLL=-1;let FurnitureBottleVisualization=kM;class FurnitureBuilderPlaceholderVisualization extends FurnitureVisualization{}const EC=class EC extends FurnitureAnimatedVisualization{getFrameNumber(ee,te){const se=this.getLayerTag(ee,this.direction,te),ne=this.object.getState(0);switch(se){case EC.SECONDS_SPRITE:return Math.floor(ne%60%10);case EC.TEN_SECONDS_SPRITE:return Math.floor(ne%60/10);case EC.MINUTES_SPRITE:return Math.floor(ne/60%10);case EC.TEN_MINUTES_SPRITE:return Math.floor(ne/60/10%10);default:return super.getFrameNumber(ee,te)}}get animationId(){return 0}};EC.SECONDS_SPRITE="seconds_sprite",EC.TEN_SECONDS_SPRITE="ten_seconds_sprite",EC.MINUTES_SPRITE="minutes_sprite",EC.TEN_MINUTES_SPRITE="ten_minutes_sprite";let FurnitureCounterClockVisualization=EC;class FurnitureCuboidVisualization extends RoomObjectSpriteVisualization{}const VD=class VD extends FurnitureAnimatedVisualization{constructor(){super(),this._thumbnailAssetNameNormal=null,this._thumbnailImageNormal=null,this._thumbnailDirection=-1,this._thumbnailChanged=!1,this._hasOutline=!1}get hasThumbnailImage(){return this._thumbnailImageNormal!=null}setThumbnailImages(ee){this._thumbnailImageNormal=ee,this._thumbnailChanged=!0}updateModel(ee){const te=super.updateModel(ee);return!this._thumbnailChanged&&this._thumbnailDirection===this.direction?te:(this.refreshThumbnail(),!0)}refreshThumbnail(){this.asset!=null&&(this._thumbnailImageNormal?this.addThumbnailAsset(this._thumbnailImageNormal,64):this.asset.disposeAsset(this.getThumbnailAssetName(64)),this._thumbnailChanged=!1,this._thumbnailDirection=this.direction)}addThumbnailAsset(ee,te){let se=0;for(;se<this.totalSprites;){if(this.getLayerTag(te,this.direction,se)===VD.THUMBNAIL){const ne=this.cacheSpriteAssetName(te,se,!1)+this.getFrameNumber(te,se),le=this.getAsset(ne,se);if(le){const ue=this.generateTransformedThumbnail(ee,le),ce=this.getThumbnailAssetName(te);this.asset.disposeAsset(ce),this.asset.addAsset(ce,ue,!0,le.offsetX,le.offsetY,!1,!1)}return}se++}}generateTransformedThumbnail(ee,te){if(this._hasOutline){const ce=new NitroSprite,he=new NitroSprite(NitroTexture.WHITE);he.tint=0,he.width=ee.width+40,he.height=ee.height+40;const de=new NitroSprite(ee),_e=(he.width-de.width)/2,fe=(he.height-de.height)/2;de.position.set(_e,fe),ce.addChild(he,de),ee=TextureUtils.generateTexture(ce)}const se=1.1,ne=new Matrix$1,le=te.width/ee.width;switch(this.direction){case 2:ne.a=le,ne.b=-.5*le,ne.c=0,ne.d=le*se,ne.tx=0,ne.ty=.5*le*ee.width;break;case 0:case 4:ne.a=le,ne.b=.5*le,ne.c=0,ne.d=le*se,ne.tx=0,ne.ty=0;break;default:ne.a=le,ne.b=0,ne.c=0,ne.d=le,ne.tx=0,ne.ty=0}const ue=new NitroSprite(ee);return ue.transform.setFromMatrix(ne),TextureUtils.generateTexture(ue)}getSpriteAssetName(ee,te){return this._thumbnailImageNormal&&this.getLayerTag(ee,this.direction,te)===VD.THUMBNAIL?this.getThumbnailAssetName(ee):super.getSpriteAssetName(ee,te)}getThumbnailAssetName(ee){return this._thumbnailAssetNameNormal=this.getFullThumbnailAssetName(this.object.id,64),this._thumbnailAssetNameNormal}getFullThumbnailAssetName(ee,te){return[this._type,ee,"thumb",te].join("_")}};VD.THUMBNAIL="THUMBNAIL";let IsometricImageFurniVisualization=VD;class FurnitureDynamicThumbnailVisualization extends IsometricImageFurniVisualization{constructor(){super(),this._cachedUrl=null,this._hasOutline=!0}updateModel(ee){if(this.object){const te=this.getThumbnailURL();if(this._cachedUrl!==te)if(this._cachedUrl=te,this._cachedUrl&&this._cachedUrl!==""){const se=new Image;se.src=te,se.crossOrigin="*",se.onload=()=>{const ne=Texture$1.from(se);ne.baseTexture.scaleMode=SCALE_MODES.LINEAR,this.setThumbnailImages(ne)}}else this.setThumbnailImages(null)}return super.updateModel(ee)}getThumbnailURL(){throw new Error("This method must be overridden!")}}class FurnitureExternalImageVisualization extends FurnitureDynamicThumbnailVisualization{constructor(){super(),this._url=null,this._typePrefix=null}getThumbnailURL(){if(!this.object)return null;if(this._url)return this._url;const ee=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA);if(!ee||ee==="")return null;this.object.type.indexOf("")>=0&&(this._typePrefix=this.object.type.indexOf("")>=0?"":"postcards/selfie/");let se=JSON.parse(ee).w||"";return se=this.buildThumbnailUrl(se),this._url=se,this._url}buildThumbnailUrl(ee){return ee=ee.replace(".png","_small.png"),ee.indexOf(".png")===-1&&(ee=ee+"_small.png"),ee}}class FurnitureParticleSystemParticle{constructor(){this._hasMoved=!1,this._age=0,this._isEmitter=!1,this._fade=!1,this._alphaMultiplier=1}init(ee,te,se,ne,le,ue,ce,he=!1,de=null,_e=!1){this._x=ee,this._y=te,this._z=se,this._particleDirection=new Vector3D(ne.x,ne.y,ne.z),this._particleDirection.scaleBy(le),this._lastX=this._x-this._particleDirection.x*ue,this._lastY=this._y-this._particleDirection.y*ue,this._lastZ=this._z-this._particleDirection.z*ue,this._age=0,this._hasMoved=!1,this._lifeTime=ce,this._isEmitter=he,this._frames=de,this._fade=_e,this._alphaMultiplier=1,this._fadeTime=.5+Math.random()*.5}dispose(){this._particleDirection=null}update(){this._age++,this._age===this._lifeTime&&this.ignite(),this._fade&&this._age/this._lifeTime>this._fadeTime&&(this._alphaMultiplier=(this._lifeTime-this._age)/(this._lifeTime*(1-this._fadeTime)))}getAsset(){return this._frames&&this._frames.length>0?this._frames[this._age%this._frames.length]:null}ignite(){}get fade(){return this._fade}get alphaMultiplier(){return this._alphaMultiplier}get direction(){return this._particleDirection}get age(){return this._age}get isEmitter(){return this._isEmitter}get isAlive(){return this._age<=this._lifeTime}get x(){return this._x}set x(ee){this._x=ee}get y(){return this._y}set y(ee){this._y=ee}get z(){return this._z}set z(ee){this._z=ee}get lastX(){return this._lastX}set lastX(ee){this._hasMoved=!0,this._lastX=ee}get lastY(){return this._lastY}set lastY(ee){this._hasMoved=!0,this._lastY=ee}get lastZ(){return this._lastZ}set lastZ(ee){this._hasMoved=!0,this._lastZ=ee}get hasMoved(){return this._hasMoved}toString(){return[this._x,this._y,this._z].toString()}copy(ee,te){this._x=ee._x*te,this._y=ee._y*te,this._z=ee._z*te,this._lastX=ee._lastX*te,this._lastY=ee._lastY*te,this._lastZ=ee._lastZ*te,this._hasMoved=ee.hasMoved,this._particleDirection=ee._particleDirection,this._age=ee._age,this._lifeTime=ee._lifeTime,this._isEmitter=ee._isEmitter,this._fade=ee._fade,this._fadeTime=ee._fadeTime,this._alphaMultiplier=ee._alphaMultiplier}}const $M=class $M extends FurnitureParticleSystemParticle{constructor(ee="",te=-1){super(),this._roomObjectSpriteId=-1,this._timeStep=.1,this._fuseTime=10,this._energy=1,this._hasIgnited=!1,this._burstPulse=1,this._particles=[],this._name=ee,this._roomObjectSpriteId=te,this._particleConfigurations=[]}dispose(){for(const ee of this._particles)ee.dispose();this._particles=null,this._particleConfigurations=null,super.dispose()}setup(ee,te,se,ne,le,ue,ce,he,de,_e){this._maxNumberOfParticles=ee,this._particlesPerFrame=te,this._force=se,this._emitterDirection=ne,this._emitterDirection.normalize(),this._gravity=le,this._airFriction=ue,this._explosionShape=ce,this._fuseTime=de,this._energy=he,this._burstPulse=_e,this.reset()}reset(){for(const ee of this._particles)ee.dispose();this._particles=[],this._emittedParticles=0,this._hasIgnited=!1,this.init(0,0,0,this._emitterDirection,this._force,this._timeStep,this._fuseTime,!0)}copyStateFrom(ee,te){super.copy(ee,te),this._force=ee._force,this._emitterDirection=ee._emitterDirection,this._gravity=ee._gravity,this._airFriction=ee._airFriction,this._explosionShape=ee._explosionShape,this._fuseTime=ee._fuseTime,this._energy=ee._energy,this._burstPulse=ee._burstPulse,this._timeStep=ee._timeStep,this._hasIgnited=ee._hasIgnited}configureParticle(ee,te,se,ne){const le={};le.lifeTime=ee,le.isEmitter=te,le.frames=se,le.fade=ne,this._particleConfigurations.push(le)}ignite(){this._hasIgnited=!0,this._emittedParticles<this._maxNumberOfParticles&&this.age>1&&this.releaseParticles(this,this.direction)}releaseParticles(ee,te=null){te||(te=new Vector3D);const se=new Vector3D,ne=this.getRandomParticleConfiguration();let le=0;for(;le<this._particlesPerFrame;){switch(this._explosionShape){case $M.CONE:se.x=this.randomBoolean(.5)?Math.random():-Math.random(),se.y=-(Math.random()+1),se.z=this.randomBoolean(.5)?Math.random():-Math.random();break;case $M.PLANE:se.x=this.randomBoolean(.5)?Math.random():-Math.random(),se.y=0,se.z=this.randomBoolean(.5)?Math.random():-Math.random();break;case $M.SPHERE:se.x=this.randomBoolean(.5)?Math.random():-Math.random(),se.y=this.randomBoolean(.5)?Math.random():-Math.random(),se.z=this.randomBoolean(.5)?Math.random():-Math.random();break}se.normalize();const ue=new FurnitureParticleSystemParticle;let ce=0,he=!1,de=!1,_e=[];ne?(ce=Math.floor(Math.random()*ne.lifeTime+10),he=ne.isEmitter,_e=ne.frames,de=ne.fade):(ce=Math.trunc(Math.floor(Math.random()*20+10)),he=!1,_e=[]),ue.init(ee.x,ee.y,ee.z,se,this._energy,this._timeStep,ce,he,_e,de),this._particles.push(ue),this._emittedParticles++,le++}}getRandomParticleConfiguration(){const ee=Math.trunc(Math.floor(Math.random()*this._particleConfigurations.length));return this._particleConfigurations[ee]}update(){super.update(),this.accumulateForces(),this.verlet(),this.satisfyConstraints(),!this.isAlive&&this._emittedParticles<this._maxNumberOfParticles&&this.age%this._burstPulse===0&&this.releaseParticles(this,this.direction)}verlet(){if(this.isAlive||this._emittedParticles<this._maxNumberOfParticles){const te=this.x,se=this.y,ne=this.z;this.x=(2-this._airFriction)*this.x-(1-this._airFriction)*this.lastX,this.y=(2-this._airFriction)*this.y-(1-this._airFriction)*this.lastY+this._gravity*this._timeStep*this._timeStep,this.z=(2-this._airFriction)*this.z-(1-this._airFriction)*this.lastZ,this.lastX=te,this.lastY=se,this.lastZ=ne}const ee=[];for(const te of this._particles){te.update();const se=te.x,ne=te.y,le=te.z;te.x=(2-this._airFriction)*te.x-(1-this._airFriction)*te.lastX,te.y=(2-this._airFriction)*te.y-(1-this._airFriction)*te.lastY+this._gravity*this._timeStep*this._timeStep,te.z=(2-this._airFriction)*te.z-(1-this._airFriction)*te.lastZ,te.lastX=se,te.lastY=ne,te.lastZ=le,(te.y>10||!te.isAlive)&&ee.push(te)}for(const te of ee)te.isEmitter,this._particles.splice(this._particles.indexOf(te),1),te.dispose()}satisfyConstraints(){}accumulateForces(){for(const ee of this._particles);}get particles(){return this._particles}get hasIgnited(){return this._hasIgnited}randomBoolean(ee){return Math.random()<ee}get roomObjectSpriteId(){return this._roomObjectSpriteId}};$M.CONE="cone",$M.PLANE="plane",$M.SPHERE="sphere";let FurnitureParticleSystemEmitter=$M;class FurnitureParticleSystem{constructor(ee){this._canvasId=-1,this._hasIgnited=!1,this._centerX=0,this._centerY=0,this._scaleMultiplier=1,this._blend=1,this._bgColor=4278190080,this._isDone=!1,this._emitters=new AdvancedMap,this._visualization=ee,this._blackOverlayAlphaTransform=new AlphaFilter,this._blackOverlayAlphaTransform.alpha=1,this._particleColorTransform=new AlphaFilter,this._identityMatrix=new Matrix$1,this._translationMatrix=new Matrix$1}dispose(){for(const ee of this._emitters.getValues())ee.dispose();this._emitters=null,this._canvasTexture&&(this._canvasTexture.destroy(),this._canvasTexture=null),this._blackOverlay&&(this._blackOverlay.destroy(),this._blackOverlay=null),this._emptySprite&&(this._emptySprite.destroy(),this._emptySprite=null),this._blackOverlayAlphaTransform=null,this._particleColorTransform=null,this._identityMatrix=null,this._translationMatrix=null}reset(){this._currentEmitter&&this._currentEmitter.reset(),this._currentEmitter=null,this._hasIgnited=!1,this._isDone=!1,this.updateCanvas()}setAnimation(ee){this._currentEmitter&&this._currentEmitter.reset(),this._currentEmitter=this._emitters.getValue(ee),this._hasIgnited=!1,this._isDone=!1,this.updateCanvas()}updateCanvas(){if(!(!this._currentEmitter||this._canvasId===-1)&&(this._roomSprite=this._visualization.getSprite(this._canvasId),this._roomSprite&&this._roomSprite.texture)){if(this._roomSprite.width<=1||this._roomSprite.height<=1)return;this._canvasTexture&&(this._canvasTexture.width!==this._roomSprite.width||this._canvasTexture.height!==this._roomSprite.height)&&(this._canvasTexture=null),this.clearCanvas(),this._centerX=-this._roomSprite.offsetX,this._centerY=-this._roomSprite.offsetY,this._roomSprite.texture=this._canvasTexture}}getLayerYOffset(ee,te,se){return this._currentEmitter&&this._currentEmitter.roomObjectSpriteId===se?this._currentEmitter.y*this._scaleMultiplier:0}controlsSprite(ee){return this._currentEmitter?this._currentEmitter.roomObjectSpriteId==ee:!1}updateSprites(){!this._currentEmitter||!this._roomSprite||(this._canvasTexture&&this._roomSprite.texture!==this._canvasTexture&&(this._roomSprite.texture=this._canvasTexture),this._hasIgnited&&this._currentEmitter.roomObjectSpriteId>=0&&(this._visualization.getSprite(this._currentEmitter.roomObjectSpriteId).visible=!1))}updateAnimation(){if(!this._currentEmitter||!this._roomSprite||this._isDone)return;const ee=10;!this._hasIgnited&&this._currentEmitter.hasIgnited&&(this._hasIgnited=!0);const te=this._offsetY*this._scaleMultiplier;if(this._currentEmitter.update(),this._hasIgnited){this._currentEmitter.roomObjectSpriteId>=0&&(this._visualization.getSprite(this._currentEmitter.roomObjectSpriteId).visible=!1),this._canvasTexture||this.updateCanvas(),this.clearCanvas();for(const se of this._currentEmitter.particles){const ne=this._centerX+(se.x-se.z)*ee/10*this._scaleMultiplier,le=this._centerY-te+(se.y+(se.x+se.z)/2)*ee/10*this._scaleMultiplier,ue=se.getAsset();if(ue&&ue.texture)if(se.fade&&se.alphaMultiplier<1){this._translationMatrix.identity(),this._translationMatrix.translate(ne+ue.offsetX,le+ue.offsetY);const ce=new NitroSprite(ue.texture);this._particleColorTransform.alpha=se.alphaMultiplier,ce.filters=[this._particleColorTransform],PixiApplicationProxy.instance.renderer.render(ce,{renderTexture:this._canvasTexture,transform:this._translationMatrix,clear:!1})}else{const ce=new NitroPoint(ne+ue.offsetX,le+ue.offsetY),he=new NitroSprite(ue.texture);he.x=ce.x,he.y=ce.y,PixiApplicationProxy.instance.renderer.render(he,{renderTexture:this._canvasTexture,clear:!1})}else{const ce=new NitroSprite(Texture$1.WHITE);ce.tint=16777215,ce.x=ne-1,ce.y=le-1,ce.width=2,ce.height=2,PixiApplicationProxy.instance.renderer.render(ce,{renderTexture:this._canvasTexture,clear:!1})}}if(!this._currentEmitter.particles.length){this._isDone=!0;return}}}parseData(ee){this._size=ee.size,this._canvasId=ee.canvasId!==void 0?ee.canvasId:-1,this._offsetY=ee.offsetY!==void 0?ee.offsetY:10,this._scaleMultiplier=this._size/64,this._blend=ee.blend!==void 0?ee.blend:1,this._blend=Math.min(this._blend,1),this._blackOverlayAlphaTransform.alpha=this._blend;const te=ee.bgColor!==void 0?ee.bgColor:"0";if(this._bgColor=parseInt(te,16)||0,!(!ee.emitters||!ee.emitters.length))for(const se of ee.emitters){const ne=se.id,le=se.name,ue=se.spriteId,ce=new FurnitureParticleSystemEmitter(le,ue);this._emitters.add(ne,ce);const he=se.maxNumParticles,de=se.particlesPerFrame,_e=se.burstPulse!==void 0?se.burstPulse:1,fe=se.fuseTime,ye=se.simulation.force,be=se.simulation.direction,Pe=se.simulation.gravity,Ne=se.simulation.airFriction,we=se.simulation.shape,De=se.simulation.energy;for(const $e of se.particles){const Ge=$e.lifeTime,Be=$e.isEmitter||!1,ze=$e.fade||!1,$t=[];for(const ut of $e.frames)$t.push(this._visualization.asset.getAsset(ut));ce.configureParticle(Ge,Be,$t,ze)}ce.setup(he,de,ye,new Vector3D(0,be,0),Pe,Ne,we,De,fe,_e)}}copyStateFrom(ee){let te=0;ee._emitters&&ee._currentEmitter&&(te=ee._emitters.getKey(ee._emitters.getValues().indexOf(ee._currentEmitter))),this.setAnimation(te),this._currentEmitter&&this._currentEmitter.copyStateFrom(ee._currentEmitter,ee._size/this._size),this._canvasTexture=null}clearCanvas(){this._emptySprite||(this._emptySprite=new NitroSprite(Texture$1.EMPTY),this._emptySprite.alpha=0),this._canvasTexture?PixiApplicationProxy.instance.renderer.render(this._emptySprite,{renderTexture:this._canvasTexture,clear:!0}):this._canvasTexture=RenderTexture$1.create({width:this._roomSprite.width,height:this._roomSprite.height})}}class FurnitureFireworksVisualization extends FurnitureAnimatedVisualization{dispose(){if(super.dispose(),this._currentParticleSystem=null,this._particleSystems){for(const ee of this._particleSystems.getValues())ee.dispose();this._particleSystems=null}}updateObject(ee,te){if(super.updateObject(ee,te)){if(!this._particleSystems)this.readDefinition(),this._particleSystems?this._currentParticleSystem=this._particleSystems.getValue(ee):NitroLogger.log("ERROR Particle systems could not be read!",this.object.type);else if(ee!==this._scale||this._particleSystems.getValue(ee)!==this._currentParticleSystem){const se=this._particleSystems.getValue(ee);se.copyStateFrom(this._currentParticleSystem),this._currentParticleSystem&&this._currentParticleSystem.reset(),this._currentParticleSystem=se}return!0}return!1}updateSprites(ee,te,se){super.updateSprites(ee,te,se),this._currentParticleSystem&&this._currentParticleSystem.updateSprites()}updateAnimation(ee){return this._currentParticleSystem&&this._currentParticleSystem.updateAnimation(),super.updateAnimation(ee)}setAnimation(ee){this._currentParticleSystem&&this._currentParticleSystem.setAnimation(ee),super.setAnimation(ee)}getLayerYOffset(ee,te,se){return this._currentParticleSystem&&this._currentParticleSystem.controlsSprite(se)?this._currentParticleSystem.getLayerYOffset(ee,te,se):super.getLayerYOffset(ee,te,se)}readDefinition(){if(!this.object||!this.object.model)return!1;const ee=this.object.model.getValue(RoomObjectVariable.FURNITURE_FIREWORKS_DATA);if(!ee||!ee.length)return!1;this._particleSystems=new AdvancedMap;for(const te of ee){const se=te.size,ne=new FurnitureParticleSystem(this);ne.parseData(te),this._particleSystems.add(se,ne)}return!0}}const HM=class HM extends FurnitureFireworksVisualization{constructor(){super(...arguments),this._packetType=0,this._ribbonType=0,this._lastAnimationId=0}update(ee,te,se,ne){this.updatePresentWrap(),super.update(ee,te,se,ne)}updatePresentWrap(){if(!this.object)return;const ee=1e3,te=this.object.model.getValue(RoomObjectVariable.FURNITURE_EXTRAS),se=parseInt(te),ne=Math.floor(se/ee),le=se%ee;this._packetType=ne>HM.MAX_PACKET_TYPE_VALUE?0:ne,this._ribbonType=le>HM.MAX_RIBBON_TYPE_VALUE?0:le}getFrameNumber(ee,te){if(this._lastAnimationId===HM.PRESENT_DEFAULT_STATE){if(te<=1)return this._packetType;if(te===2)return this._ribbonType}return super.getFrameNumber(ee,te)}getSpriteAssetName(ee,te){const se=this.getValidSize(ee);let ne=this._type,le="";te<this.spriteCount-1?le=String.fromCharCode(97+te):le="sd";const ue=this.getFrameNumber(ee,te);return ne=ne+("_"+se+"_"+le+"_"+this.direction),ne=ne+("_"+ue),ne}setAnimation(ee){this._lastAnimationId=ee,super.setAnimation(ee)}};HM.PRESENT_DEFAULT_STATE=0,HM.MAX_PACKET_TYPE_VALUE=9,HM.MAX_RIBBON_TYPE_VALUE=11;let FurnitureGiftWrappedFireworksVisualization=HM;class FurnitureGiftWrappedVisualization extends FurnitureVisualization{constructor(){super(...arguments),this._packetType=0,this._ribbonType=0}update(ee,te,se,ne){this.updatePresentWrap(),super.update(ee,te,se,ne)}updatePresentWrap(){if(!this.object)return;const ee=this.object.model.getValue(RoomObjectVariable.FURNITURE_EXTRAS),te=1e3,se=parseInt(ee);this._packetType=Math.floor(se/te),this._ribbonType=se%te}getFrameNumber(ee,te){return te<=1?this._packetType:this._ribbonType}getSpriteAssetName(ee,te){const se=this.getValidSize(ee);let ne=this._type,le="";te<this.spriteCount-1?le=String.fromCharCode(97+te):le="sd";const ue=this.getFrameNumber(ee,te);return ne=ne+("_"+se+"_"+le+"_"+this.direction),ne=ne+("_"+ue),ne}}const XT=class XT extends FurnitureAnimatedVisualization{constructor(){super(),this._color1=XT.DEFAULT_COLOR_1,this._color2=XT.DEFAULT_COLOR_2,this._badgeAssetNameNormalScale="",this._badgeAssetNameSmallScale=""}updateModel(ee){const te=super.updateModel(ee);if(this._badgeAssetNameNormalScale===""){const le=this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME);le&&(this._badgeAssetNameNormalScale=le,this._badgeAssetNameSmallScale=this._badgeAssetNameNormalScale+"_32")}const se=this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_1);this._color1=se||XT.DEFAULT_COLOR_1;const ne=this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_2);return this._color2=ne||XT.DEFAULT_COLOR_2,te}getLayerColor(ee,te,se){switch(this.getLayerTag(ee,this._direction,te)){case XT.PRIMARY_COLOUR_SPRITE_TAG:return this._color1;case XT.SECONDARY_COLOUR_SPRITE_TAG:return this._color2}return super.getLayerColor(ee,te,se)}getSpriteAssetName(ee,te){return this.getLayerTag(ee,this._direction,te)===XT.BADGE?ee===32?this._badgeAssetNameSmallScale:this._badgeAssetNameNormalScale:super.getSpriteAssetName(ee,te)}getLibraryAssetNameForSprite(ee,te){return te.tag===XT.BADGE?"%group.badge.url%"+te.libraryAssetName.replace("badge_",""):super.getLibraryAssetNameForSprite(ee,te)}};XT.PRIMARY_COLOUR_SPRITE_TAG="COLOR1",XT.SECONDARY_COLOUR_SPRITE_TAG="COLOR2",XT.BADGE="BADGE",XT.DEFAULT_COLOR_1=15658734,XT.DEFAULT_COLOR_2=4934475;let FurnitureGuildCustomizedVisualization=XT;const SO=class SO extends IsometricImageFurniVisualization{updateModel(ee){const te=super.updateModel(ee);if(!this.hasThumbnailImage){const le=this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME);le&&le.length&&this.setThumbnailImages(this.getBitmapAsset(le))}const se=this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_1);this._color1=se||SO.DEFAULT_COLOR_1;const ne=this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_COLOR_2);return this._color2=ne||SO.DEFAULT_COLOR_2,te}generateTransformedThumbnail(ee,te){const ne=new Matrix$1,le=te.width/ee.width;switch(this.direction){case 2:ne.a=le,ne.b=-.5*le,ne.c=0,ne.d=le*1.1,ne.tx=0,ne.ty=.5*le*ee.width;break;case 0:case 4:ne.a=le,ne.b=.5*le,ne.c=0,ne.d=le*1.1,ne.tx=0,ne.ty=0;break;default:ne.a=le,ne.b=0,ne.c=0,ne.d=le,ne.tx=0,ne.ty=0}const ue=new NitroSprite(ee);return ue.transform.setFromMatrix(ne),ue.position.set(0),TextureUtils.generateTexture(ue)}getLayerColor(ee,te,se){switch(this.getLayerTag(ee,this._direction,te)){case SO.PRIMARY_COLOUR_SPRITE_TAG:return this._color1;case SO.SECONDARY_COLOUR_SPRITE_TAG:return this._color2}return super.getLayerColor(ee,te,se)}getLibraryAssetNameForSprite(ee,te){return te.tag===SO.THUMBNAIL&&this.object&&this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME)?"%group.badge.url%"+this.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_ASSET_NAME):super.getLibraryAssetNameForSprite(ee,te)}getBitmapAsset(ee){const te=this.asset.getAsset(ee);return!te||!te.texture?null:te.texture}};SO.PRIMARY_COLOUR_SPRITE_TAG="COLOR1",SO.SECONDARY_COLOUR_SPRITE_TAG="COLOR2",SO.DEFAULT_COLOR_1=15658734,SO.DEFAULT_COLOR_2=4934475;let FurnitureGuildIsometricBadgeVisualization=SO;const bO=class bO extends FurnitureAnimatedVisualization{constructor(){super(),this._stateQueue=[],this._running=!1}setAnimation(ee){if(ee===-1&&!this._running){this._running=!0,this._stateQueue=[],this._stateQueue.push(bO.ANIMATION_ID_START_ROLL),this._stateQueue.push(bO.ANIMATION_ID_ROLL);return}if(ee>0&&ee<=bO.ANIMATION_ID_OFFSET_SLOW1){if(this._running){this._running=!1,this._stateQueue=[],this._stateQueue.push(bO.ANIMATION_ID_OFFSET_SLOW1+ee),this._stateQueue.push(bO.ANIMATION_ID_OFFSET_SLOW2+ee),this._stateQueue.push(ee);return}super.setAnimation(ee)}}updateAnimation(ee){return this.getLastFramePlayed(1)&&this.getLastFramePlayed(2)&&this.getLastFramePlayed(3)&&this._stateQueue.length&&super.setAnimation(this._stateQueue.shift()),super.updateAnimation(ee)}};bO.ANIMATION_ID_OFFSET_SLOW1=10,bO.ANIMATION_ID_OFFSET_SLOW2=20,bO.ANIMATION_ID_START_ROLL=31,bO.ANIMATION_ID_ROLL=32;let FurnitureHabboWheelVisualization=bO;class FurnitureIsometricBBVisualization extends FurnitureBBVisualization{constructor(){super(...arguments),this._needsTransform=!0}transformGifTextures(ee){if(!this._gifCollection)return;const te=this._gifCollection.textures;if(te.length){for(let se=0;se<te.length;se++){const ne=te[se];if(!ne||!this.getAsset(`${this._imageUrl}_${se}`))continue;const ue=1.1,ce=new Matrix$1,he=ee.width/ne.width;switch(this.direction){case 2:ce.a=he,ce.b=-.5*he,ce.c=0,ce.d=he*ue,ce.tx=0,ce.ty=.5*he*ne.width;break;case 0:case 4:ce.a=he,ce.b=.5*he,ce.c=0,ce.d=he*ue,ce.tx=0,ce.ty=0;break;default:ce.a=he,ce.b=0,ce.c=0,ce.d=he,ce.tx=0,ce.ty=0}const de=new NitroSprite(ne),_e=RenderTexture$1.create({width:ee.width+ce.tx,height:ee.height+ce.ty});PixiApplicationProxy.instance.renderer.render(de,{renderTexture:_e,clear:!0,transform:ce}),this.asset.disposeAsset(`${this._imageUrl}_${se}`),this.asset.addAsset(`${this._imageUrl}_${se}`,_e,!0,ee.x,ee.y,ee.flipH,ee.flipV)}this._needsTransform=!1}}generateTransformedImage(ee,te){const ne=new Matrix$1,le=te.width/ee.width;switch(this.direction){case 2:ne.a=le,ne.b=-.5*le,ne.c=0,ne.d=le*1.1,ne.tx=0,ne.ty=.5*le*ee.width;break;case 0:case 4:ne.a=le,ne.b=.5*le,ne.c=0,ne.d=le*1.1,ne.tx=0,ne.ty=0;break;default:ne.a=le,ne.b=0,ne.c=0,ne.d=le,ne.tx=0,ne.ty=0}const ue=new NitroSprite(ee),ce=RenderTexture$1.create({width:te.width+ne.tx,height:te.height+ne.ty});PixiApplicationProxy.instance.renderer.render(ue,{renderTexture:ce,clear:!0,transform:ne}),this.asset.disposeAsset(`${this._imageUrl}_0`),this.asset.addAsset(`${this._imageUrl}_0`,ce,!0,ue.x,ue.y,te.flipH,te.flipV),this._needsTransform=!1}checkAndCreateImageForCurrentState(){super.checkAndCreateImageForCurrentState(),this._needsTransform=!0}getSpriteAssetName(ee,te){return this.getLayerTag(ee,this._direction,te)===FurnitureBrandedImageVisualization.BRANDED_IMAGE&&this._imageUrl?(this._needsTransform&&(this._isAnimated?this.transformGifTextures(this.getAsset(super.getSpriteAssetName(ee,te))):this.generateTransformedImage(GetAssetManager().getTexture(this._imageUrl),this.getAsset(super.getSpriteAssetName(ee,te)))),`${this._imageUrl}_${this.getFrameNumber(ee,te)}`):super.getSpriteAssetName(ee,te)}}class FurnitureMannequinVisualizationData extends FurnitureVisualizationData{constructor(){super(),this._avatarData=new AvatarVisualizationData}dispose(){super.dispose(),this._avatarData&&(this._avatarData.dispose(),this._avatarData=null)}createAvatarImage(ee,te,se=null,ne=null,le=null){return this._avatarData.createAvatarImage(ee,te,se,ne,le)}set avatarManager(ee){this._avatarData.avatarManager=ee}}const CN=class CN extends FurnitureVisualization{constructor(){super(),this._mannequinScale=-1,this._figure=null,this._gender=null,this._dynamicAssetName=null,this._needsUpdate=!1,this._placeHolderFigure="hd-99999-99998",this._disposed=!1}initialize(ee){return ee instanceof FurnitureMannequinVisualizationData?super.initialize(ee):!1}dispose(){this._disposed||(this._disposed=!0,this._dynamicAssetName&&this.asset&&(this.asset.disposeAsset(this._dynamicAssetName),this._dynamicAssetName=null),super.dispose())}updateObject(ee,te){const se=super.updateObject(ee,te);return se&&this._mannequinScale!==ee&&(this._mannequinScale=ee,this.updateAvatar()),se}updateModel(ee){let te=super.updateModel(ee);if(te){const se=this.object.model.getValue(RoomObjectVariable.FURNITURE_MANNEQUIN_FIGURE)||null;se&&(this._figure=se+"."+this._placeHolderFigure,this._gender=this.object.model.getValue(RoomObjectVariable.FURNITURE_MANNEQUIN_GENDER)||null,this.updateAvatar())}return te=te||this._needsUpdate,this._needsUpdate=!1,te}updateAvatar(ee=!1){if(!this.avatarExists()||ee){const te=this.data.createAvatarImage(this._figure,this._mannequinScale,this._gender,this);te&&(te.setDirection(AvatarSetType.FULL,this.direction),this._dynamicAssetName&&this.asset.disposeAsset(this._dynamicAssetName),this.asset.addAsset(this.getAvatarAssetName(),te.getImage(AvatarSetType.FULL,!1,1,!1),!0),this._dynamicAssetName=this.getAvatarAssetName(),this._needsUpdate=!0,te.dispose())}}avatarExists(){return this._figure&&this.getAsset(this.getAvatarAssetName())!==null}getAvatarAssetName(){return"mannequin_"+this._figure+"_"+this._mannequinScale+"_"+this.direction+"_"+this.object.id}resetFigure(ee){ee===this._figure&&this.updateAvatar(!0)}getSpriteAssetName(ee,te){const se=this.getLayerTag(ee,this.direction,te);return this._figure&&se===CN.AVATAR_IMAGE_SPRITE_TAG&&this.avatarExists()?this.getAvatarAssetName():super.getSpriteAssetName(ee,te)}getLayerXOffset(ee,te,se){return this.getLayerTag(ee,te,se)===CN.AVATAR_IMAGE_SPRITE_TAG&&this.avatarExists()?-this.getSprite(se).width/2:super.getLayerXOffset(ee,te,se)}getLayerYOffset(ee,te,se){return this.getLayerTag(ee,te,se)===CN.AVATAR_IMAGE_SPRITE_TAG&&this.avatarExists()?-this.getSprite(se).height:super.getLayerYOffset(ee,te,se)}get disposed(){return this._disposed}get data(){return this._data}};CN.AVATAR_IMAGE_SPRITE_TAG="avatar_image";let FurnitureMannequinVisualization=CN;const BI=class BI extends FurnitureAnimatedVisualization{constructor(){super(),this._animOffsetIndex=[]}updateAnimation(ee){this._animSpeedIndex||this.initItems(ee);let te=this.getSprite(2);return te&&(this._animOffsetIndex[0]=this.getNewPoint(ee,0)),te=this.getSprite(3),te&&(this._animOffsetIndex[1]=this.getNewPoint(ee,1)),super.updateAnimation(ee)}getNewPoint(ee,te){let se=0,ne=this._animPhaseIndex[te],le=this._animDirectionIndex[te];const ue=this._animSpeedIndex[te],ce=this._animFactorIndex[te];let he=1;ee==32?(se=BI.AREA_DIAMETER_SMALL,he=.5):se=BI.AREA_DIAMETER_LARGE;const de=ne+le*ue;Math.abs(de)>=se&&(le>0?ne=ne-(de-se):ne=ne+(-se-de),le=-le,this._animDirectionIndex[te]=le);const _e=(se-Math.abs(ne))*ce;let fe=le*Math.sin(Math.abs(ne/4))*_e;return le>0?fe=fe-_e:fe=fe+_e,ne=ne+le*ue*he,this._animPhaseIndex[te]=ne,Math.trunc(fe)==0&&(this._animFactorIndex[te]=this.getRandomAmplitudeFactor()),new NitroPoint(ne,fe)}initItems(ee){let te;ee===32?te=BI.AREA_DIAMETER_SMALL:te=BI.AREA_DIAMETER_LARGE,this._animPhaseIndex=[],this._animPhaseIndex.push(Math.random()*te*1.5),this._animPhaseIndex.push(Math.random()*te*1.5),this._animDirectionIndex=[],this._animDirectionIndex.push(1),this._animDirectionIndex.push(-1),this._animSpeedIndex=[],this._animSpeedIndex.push(BI.ANIM_SPEED_FAST),this._animSpeedIndex.push(BI.ANIM_SPEED_SLOW),this._animFactorIndex=[],this._animFactorIndex.push(this.getRandomAmplitudeFactor()),this._animFactorIndex.push(this.getRandomAmplitudeFactor())}getLayerXOffset(ee,te,se){return(se===2||se===3)&&this._animOffsetIndex.length==2?this._animOffsetIndex[se-2].x:super.getLayerXOffset(ee,te,se)}getLayerYOffset(ee,te,se){return(se===2||se===3)&&this._animOffsetIndex.length==2?this._animOffsetIndex[se-2].y:super.getLayerYOffset(ee,te,se)}getRandomAmplitudeFactor(){return Math.random()*30/100+.15}};BI.UPDATE_INTERVAL=2,BI.AREA_DIAMETER_SMALL=15,BI.AREA_DIAMETER_LARGE=31,BI.ANIM_SPEED_FAST=2,BI.ANIM_SPEED_SLOW=1;let FurniturePartyBeamerVisualization=BI;const tU=class tU{constructor(ee,te,se,ne,le,ue){this._name=ee,this._index=te,this._radius=se,this._arcSpeed=ne*Math.PI*2/360,this._arcOffset=le*Math.PI*2/360,this._height=ue,this._position=0,this._positionVector=new Vector3d(0,0,0),this._children=[]}dispose(){for(;this._children.length>0;)this._children.shift().dispose()}update(ee,te,se){this._position=this._position+this._arcSpeed/tU.SYSTEM_TEMPO,ee[this._index]=this.getPositionVector(te,se);for(const ne of this._children)ne.update(ee,this._positionVector,se)}getPositionVector(ee,te){const se=this._radius*Math.cos(this._position+this._arcOffset),ne=this._radius*Math.sin(this._position+this._arcOffset);return this._positionVector.x=(se-ne)*(te/2),this._positionVector.y=(ne+se)*(te/2)*.5-this._height*(te/2),this._positionVector.z=-Math.trunc(4*(se+ne)-.7),ee&&this._positionVector.add(ee),this._positionVector}addChild(ee){this._children.indexOf(ee)>=0||this._children.push(ee)}hasChild(ee){return!!this.getChild(ee)}getChild(ee){for(const te of this._children){if(te.name===ee)return te;if(te.hasChild(ee))return te.getChild(ee)}return null}get name(){return this._name}};tU.SYSTEM_TEMPO=30;let FurniturePlanetSystemVisualizationPlanetObject=tU;class FurniturePlanetSystemVisualization extends FurnitureAnimatedVisualization{constructor(){super(),this._offsetArray=[],this._rootPosition=new Vector3d}dispose(){if(this._planetIndex)for(;this._planetIndex.length>0;)this._planetIndex.shift().dispose();this._planetIndex=null,this._planetNameIndex=null}updateAnimation(ee){if(!this._planetIndex&&this.spriteCount>0&&!this.processPlanets())return 0;if(this._planetIndex){for(const te of this._planetIndex)te.update(this._offsetArray,this._rootPosition,ee);return super.updateAnimation(ee)}return 0}getLayerXOffset(ee,te,se){return this._offsetArray[se]?this._offsetArray[se].x:super.getLayerXOffset(ee,te,se)}getLayerYOffset(ee,te,se){return this._offsetArray[se]?this._offsetArray[se].y:super.getLayerYOffset(ee,te,se)}getLayerZOffset(ee,te,se){return this._offsetArray[se]?this._offsetArray[se].z:super.getLayerZOffset(ee,te,se)}processPlanets(){if(!this.object||!this.object.model)return;const ee=this.object.model.getValue(RoomObjectVariable.FURNITURE_PLANETSYSTEM_DATA);if(!ee)return!1;this._planetIndex=[],this._planetNameIndex=[];for(const te of ee)this.getSprite(te.id)&&this.addPlanet(te.name,te.id,te.parent,te.radius||0,te.arcSpeed||0,te.arcOffset||0,te.height||0);return!0}addPlanet(ee,te,se,ne,le,ue,ce){if(!this._planetIndex)return;const he=new FurniturePlanetSystemVisualizationPlanetObject(ee,te,ne,le,ue,ce),de=this.getPlanet(se);de?de.addChild(he):(this._planetIndex.push(he),this._planetNameIndex.push(ee))}getPlanet(ee){for(const te of this._planetIndex){if(te.name===ee)return te;if(te.hasChild(ee))return te.getChild(ee)}return null}}class FurniturePosterVisualization extends FurnitureAnimatedVisualization{}const dM=class dM extends FurnitureAnimatedVisualization{constructor(){super(),this._stateQueue=[],this._animationCounter=-1}setAnimation(ee){return ee===dM.ANIMATION_ID_ROLL_ONCE&&(this._stateQueue=[],this._stateQueue.push(dM.ANIMATION_ID_NORMAL),this._animationCounter=dM.ANIMATION_DURATION),super.setAnimation(ee)}updateAnimation(ee){return this._animationCounter>0&&this._animationCounter--,this._animationCounter||this._stateQueue.length&&super.setAnimation(this._stateQueue.shift()),super.updateAnimation(ee)}usesAnimationResetting(){return!0}};dM.ANIMATION_ID_ROLL=3,dM.ANIMATION_ID_ROLL_ONCE=2,dM.ANIMATION_ID_NORMAL=1,dM.ANIMATION_DURATION=15;let FurnitureQueueTileVisualization=dM;class FurnitureResettingAnimatedVisualization extends FurnitureAnimatedVisualization{usesAnimationResetting(){return!0}}class FurnitureRoomBackgroundVisualization extends FurnitureBrandedImageVisualization{imageReady(ee,te){super.imageReady(ee,te),ee&&this.setImageOffset(ee.width,ee.height)}setImageOffset(ee,te){const se=new DirectionalOffsetData;se.setDirection(1,0,-te),se.setDirection(3,0,0),se.setDirection(5,-ee,0),se.setDirection(7,-ee,-te),se.setDirection(4,-ee/2,-te/2),this._imageOffset=se}getLayerXOffset(ee,te,se){if(this._imageOffset){const ne=this._imageOffset.getXOffset(te,0);if(ne!==void 0)return ne+this._offsetX}return super.getLayerXOffset(ee,te,se)+this._offsetX}getLayerYOffset(ee,te,se){if(this._imageOffset){const ne=this._imageOffset.getYOffset(te,0);if(ne!==void 0)return ne+this._offsetY}return super.getLayerYOffset(ee,te,se)+this._offsetY}getLayerZOffset(ee,te,se){return super.getLayerZOffset(ee,te,se)+-this._offsetZ}getLayerIgnoreMouse(ee,te,se){return!0}}const RC=class RC extends FurnitureAnimatedVisualization{getFrameNumber(ee,te){const se=this.getLayerTag(ee,this.direction,te),ne=this.object.getState(0);switch(se){case RC.ONES_SPRITE:return Math.floor(ne%10);case RC.TENS_SPRITE:return Math.floor(ne/10%10);case RC.HUNDREDS_SPRITE:return Math.floor(ne/100%10);case RC.THOUSANDS_SPRITE:return Math.floor(ne/1e3%10);default:return super.getFrameNumber(ee,te)}}};RC.ONES_SPRITE="ones_sprite",RC.TENS_SPRITE="tens_sprite",RC.HUNDREDS_SPRITE="hundreds_sprite",RC.THOUSANDS_SPRITE="thousands_sprite";let FurnitureScoreBoardVisualization=RC;class FurnitureSoundBlockVisualization extends FurnitureAnimatedVisualization{constructor(){super(...arguments),this._internalFrameIncreaseCounter=0}updateAnimations(ee){return this._internalFrameIncreaseCounter=this._internalFrameIncreaseCounter+this.object.model.getValue(RoomObjectVariable.FURNITURE_SOUNDBLOCK_RELATIVE_ANIMATION_SPEED),this._frameIncrease=this._internalFrameIncreaseCounter,this._internalFrameIncreaseCounter=this._internalFrameIncreaseCounter-this._frameIncrease,super.updateAnimations(ee)}}class FurnitureStickieVisualization extends FurnitureVisualization{getLayerColor(ee,te,se){return this._data?this._data.getLayerColor(ee,te,se):ColorData.DEFAULT_COLOR}}const wT=class wT extends FurnitureAnimatedVisualization{constructor(){super(),this._stateQueue=[],this._running=!1,super.setAnimation(wT.ANIMATION_ID_OFF)}setAnimation(ee){if(ee===0&&!this._running){this._running=!0,this._stateQueue=[],this._stateQueue.push(wT.ANIMATION_ID_START_ROLL),this._stateQueue.push(wT.ANIMATION_ID_ROLL);return}if(ee>0&&ee<=wT.ANIMATION_ID_OFFSET_SLOW2){if(this._running){this._running=!1,this._stateQueue=[],this.direction===2?(this._stateQueue.push(wT.ANIMATION_ID_OFFSET_SLOW1+5),this._stateQueue.push(wT.ANIMATION_ID_OFFSET_SLOW2+5)):(this._stateQueue.push(wT.ANIMATION_ID_OFFSET_SLOW1+ee),this._stateQueue.push(wT.ANIMATION_ID_OFFSET_SLOW2+ee)),this._stateQueue.push(wT.ANIMATION_ID_OFF);return}super.setAnimation(wT.ANIMATION_ID_OFF)}}updateAnimation(ee){return this.getLastFramePlayed(11)&&this._stateQueue.length&&super.setAnimation(this._stateQueue.shift()),super.updateAnimation(ee)}};wT.ANIMATION_ID_OFFSET_SLOW1=20,wT.ANIMATION_ID_OFFSET_SLOW2=10,wT.ANIMATION_ID_START_ROLL=31,wT.ANIMATION_ID_ROLL=32,wT.ANIMATION_ID_OFF=30;let FurnitureValRandomizerVisualization=wT;const jI=class jI extends FurnitureAnimatedVisualization{updateObject(ee,te){return super.updateObject(ee,te),!0}getFrameNumber(ee,te){const se=this.object.model.getValue(RoomObjectVariable.FURNITURE_VOTE_COUNTER_COUNT);switch(this.getLayerTag(ee,this.direction,te)){case jI.ONES_SPRITE:return se%10;case jI.TENS_SPRITE:return se/10%10;case jI.HUNDREDS_SPRITE:return se/100%10;default:return super.getFrameNumber(ee,te)}}getLayerAlpha(ee,te,se){if(this.object.model.getValue(RoomObjectVariable.FURNITURE_VOTE_COUNTER_COUNT)===jI.HIDE_COUNTER_SCORE)switch(this.getLayerTag(ee,te,se)){case jI.ONES_SPRITE:case jI.TENS_SPRITE:case jI.HUNDREDS_SPRITE:return 0}return super.getLayerAlpha(ee,te,se)}};jI.ONES_SPRITE="ones_sprite",jI.TENS_SPRITE="tens_sprite",jI.HUNDREDS_SPRITE="hundreds_sprite",jI.HIDE_COUNTER_SCORE=-1;let FurnitureVoteCounterVisualization=jI;const KT=class KT extends FurnitureAnimatedVisualization{getFrameNumber(ee,te){const se=this.object.model.getValue(RoomObjectVariable.FURNITURE_VOTE_MAJORITY_RESULT);switch(this.getLayerTag(ee,this.direction,te)){case KT.ONES_SPRITE:return se%10;case KT.TENS_SPRITE:return se/10%10;case KT.HUNDREDS_SPRITE:return se/100%10;default:return super.getFrameNumber(ee,te)}}getLayerAlpha(ee,te,se){const ne=this.object.model.getValue(RoomObjectVariable.FURNITURE_VOTE_MAJORITY_RESULT);if(KT.HIDE_RESULTS_STATES.indexOf(this.object.getState(0))!==-1||ne===KT.HIDE_RESULTS_VALUE)switch(this.getLayerTag(ee,te,se)){case KT.ONES_SPRITE:case KT.TENS_SPRITE:case KT.HUNDREDS_SPRITE:return 0}return super.getLayerAlpha(ee,te,se)}};KT.ONES_SPRITE="ones_sprite",KT.TENS_SPRITE="tens_sprite",KT.HUNDREDS_SPRITE="hundreds_sprite",KT.HIDE_RESULTS_STATES=[-1,1],KT.HIDE_RESULTS_VALUE=-1;let FurnitureVoteMajorityVisualization=KT;class FurnitureWaterAreaVisualization extends FurnitureAnimatedVisualization{}const sU=class sU extends FurnitureDynamicThumbnailVisualization{getThumbnailURL(){if(!this.object)return null;const ee=this.object.model.getValue(RoomObjectVariable.FURNITURE_DATA);return ee&&ee[sU.THUMBNAIL_URL]||null}};sU.THUMBNAIL_URL="THUMBNAIL_URL";let FurnitureYoutubeVisualization=sU;/*!
 * @pixi/text - v6.5.10
 * Compiled Thu, 06 Jul 2023 15:25:11 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var extendStatics=function(ie,ee){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,se){te.__proto__=se}||function(te,se){for(var ne in se)se.hasOwnProperty(ne)&&(te[ne]=se[ne])},extendStatics(ie,ee)};function __extends(ie,ee){extendStatics(ie,ee);function te(){this.constructor=ie}ie.prototype=ee===null?Object.create(ee):(te.prototype=ee.prototype,new te)}var TEXT_GRADIENT;(function(ie){ie[ie.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",ie[ie.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(TEXT_GRADIENT||(TEXT_GRADIENT={}));var defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},genericFontFamilies$1=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],TextStyle$1=function(){function ie(ee){this.styleID=0,this.reset(),deepCopyProperties(this,ee,ee)}return ie.prototype.clone=function(){var ee={};return deepCopyProperties(ee,this,defaultStyle),new ie(ee)},ie.prototype.reset=function(){deepCopyProperties(this,defaultStyle,defaultStyle)},Object.defineProperty(ie.prototype,"align",{get:function(){return this._align},set:function(ee){this._align!==ee&&(this._align=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"breakWords",{get:function(){return this._breakWords},set:function(ee){this._breakWords!==ee&&(this._breakWords=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(ee){this._dropShadow!==ee&&(this._dropShadow=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(ee){this._dropShadowAlpha!==ee&&(this._dropShadowAlpha=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(ee){this._dropShadowAngle!==ee&&(this._dropShadowAngle=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(ee){this._dropShadowBlur!==ee&&(this._dropShadowBlur=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(ee){var te=getColor(ee);this._dropShadowColor!==te&&(this._dropShadowColor=te,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(ee){this._dropShadowDistance!==ee&&(this._dropShadowDistance=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"fill",{get:function(){return this._fill},set:function(ee){var te=getColor(ee);this._fill!==te&&(this._fill=te,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(ee){this._fillGradientType!==ee&&(this._fillGradientType=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(ee){areArraysEqual(this._fillGradientStops,ee)||(this._fillGradientStops=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(ee){this.fontFamily!==ee&&(this._fontFamily=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"fontSize",{get:function(){return this._fontSize},set:function(ee){this._fontSize!==ee&&(this._fontSize=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(ee){this._fontStyle!==ee&&(this._fontStyle=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(ee){this._fontVariant!==ee&&(this._fontVariant=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(ee){this._fontWeight!==ee&&(this._fontWeight=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(ee){this._letterSpacing!==ee&&(this._letterSpacing=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(ee){this._lineHeight!==ee&&(this._lineHeight=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"leading",{get:function(){return this._leading},set:function(ee){this._leading!==ee&&(this._leading=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(ee){this._lineJoin!==ee&&(this._lineJoin=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(ee){this._miterLimit!==ee&&(this._miterLimit=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"padding",{get:function(){return this._padding},set:function(ee){this._padding!==ee&&(this._padding=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"stroke",{get:function(){return this._stroke},set:function(ee){var te=getColor(ee);this._stroke!==te&&(this._stroke=te,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(ee){this._strokeThickness!==ee&&(this._strokeThickness=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(ee){this._textBaseline!==ee&&(this._textBaseline=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"trim",{get:function(){return this._trim},set:function(ee){this._trim!==ee&&(this._trim=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(ee){this._whiteSpace!==ee&&(this._whiteSpace=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(ee){this._wordWrap!==ee&&(this._wordWrap=ee,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(ee){this._wordWrapWidth!==ee&&(this._wordWrapWidth=ee,this.styleID++)},enumerable:!1,configurable:!0}),ie.prototype.toFontString=function(){var ee=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,te=this.fontFamily;Array.isArray(this.fontFamily)||(te=this.fontFamily.split(","));for(var se=te.length-1;se>=0;se--){var ne=te[se].trim();!/([\"\'])[^\'\"]+\1/.test(ne)&&genericFontFamilies$1.indexOf(ne)<0&&(ne='"'+ne+'"'),te[se]=ne}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+ee+" "+te.join(",")},ie}();function getSingleColor(ie){return typeof ie=="number"?hex2string(ie):(typeof ie=="string"&&ie.indexOf("0x")===0&&(ie=ie.replace("0x","#")),ie)}function getColor(ie){if(Array.isArray(ie)){for(var ee=0;ee<ie.length;++ee)ie[ee]=getSingleColor(ie[ee]);return ie}else return getSingleColor(ie)}function areArraysEqual(ie,ee){if(!Array.isArray(ie)||!Array.isArray(ee)||ie.length!==ee.length)return!1;for(var te=0;te<ie.length;++te)if(ie[te]!==ee[te])return!1;return!0}function deepCopyProperties(ie,ee,te){for(var se in te)Array.isArray(ee[se])?ie[se]=ee[se].slice():ie[se]=ee[se]}var contextSettings$1={willReadFrequently:!0},TextMetrics=function(){function ie(ee,te,se,ne,le,ue,ce,he,de){this.text=ee,this.style=te,this.width=se,this.height=ne,this.lines=le,this.lineWidths=ue,this.lineHeight=ce,this.maxLineWidth=he,this.fontProperties=de}return ie.measureText=function(ee,te,se,ne){ne===void 0&&(ne=ie._canvas),se=se??te.wordWrap;var le=te.toFontString(),ue=ie.measureFont(le);ue.fontSize===0&&(ue.fontSize=te.fontSize,ue.ascent=te.fontSize);var ce=ne.getContext("2d",contextSettings$1);ce.font=le;for(var he=se?ie.wordWrap(ee,te,ne):ee,de=he.split(/(?:\r\n|\r|\n)/),_e=new Array(de.length),fe=0,ye=0;ye<de.length;ye++){var be=ce.measureText(de[ye]).width+(de[ye].length-1)*te.letterSpacing;_e[ye]=be,fe=Math.max(fe,be)}var Pe=fe+te.strokeThickness;te.dropShadow&&(Pe+=te.dropShadowDistance);var Ne=te.lineHeight||ue.fontSize+te.strokeThickness,we=Math.max(Ne,ue.fontSize+te.strokeThickness)+(de.length-1)*(Ne+te.leading);return te.dropShadow&&(we+=te.dropShadowDistance),new ie(ee,te,Pe,we,de,_e,Ne+te.leading,fe,ue)},ie.wordWrap=function(ee,te,se){se===void 0&&(se=ie._canvas);for(var ne=se.getContext("2d",contextSettings$1),le=0,ue="",ce="",he=Object.create(null),de=te.letterSpacing,_e=te.whiteSpace,fe=ie.collapseSpaces(_e),ye=ie.collapseNewlines(_e),be=!fe,Pe=te.wordWrapWidth+de,Ne=ie.tokenize(ee),we=0;we<Ne.length;we++){var De=Ne[we];if(ie.isNewline(De)){if(!ye){ce+=ie.addLine(ue),be=!fe,ue="",le=0;continue}De=" "}if(fe){var $e=ie.isBreakingSpace(De),Ge=ie.isBreakingSpace(ue[ue.length-1]);if($e&&Ge)continue}var Be=ie.getFromCache(De,de,he,ne);if(Be>Pe)if(ue!==""&&(ce+=ie.addLine(ue),ue="",le=0),ie.canBreakWords(De,te.breakWords))for(var ze=ie.wordWrapSplit(De),$t=0;$t<ze.length;$t++){for(var ut=ze[$t],Ti=1;ze[$t+Ti];){var Hi=ze[$t+Ti],bn=ut[ut.length-1];if(!ie.canBreakChars(bn,Hi,De,$t,te.breakWords))ut+=Hi;else break;Ti++}$t+=ut.length-1;var gd=ie.getFromCache(ut,de,he,ne);gd+le>Pe&&(ce+=ie.addLine(ue),be=!1,ue="",le=0),ue+=ut,le+=gd}else{ue.length>0&&(ce+=ie.addLine(ue),ue="",le=0);var Pm=we===Ne.length-1;ce+=ie.addLine(De,!Pm),be=!1,ue="",le=0}else Be+le>Pe&&(be=!1,ce+=ie.addLine(ue),ue="",le=0),(ue.length>0||!ie.isBreakingSpace(De)||be)&&(ue+=De,le+=Be)}return ce+=ie.addLine(ue,!1),ce},ie.addLine=function(ee,te){return te===void 0&&(te=!0),ee=ie.trimRight(ee),ee=te?ee+`
`:ee,ee},ie.getFromCache=function(ee,te,se,ne){var le=se[ee];if(typeof le!="number"){var ue=ee.length*te;le=ne.measureText(ee).width+ue,se[ee]=le}return le},ie.collapseSpaces=function(ee){return ee==="normal"||ee==="pre-line"},ie.collapseNewlines=function(ee){return ee==="normal"},ie.trimRight=function(ee){if(typeof ee!="string")return"";for(var te=ee.length-1;te>=0;te--){var se=ee[te];if(!ie.isBreakingSpace(se))break;ee=ee.slice(0,-1)}return ee},ie.isNewline=function(ee){return typeof ee!="string"?!1:ie._newlines.indexOf(ee.charCodeAt(0))>=0},ie.isBreakingSpace=function(ee,te){return typeof ee!="string"?!1:ie._breakingSpaces.indexOf(ee.charCodeAt(0))>=0},ie.tokenize=function(ee){var te=[],se="";if(typeof ee!="string")return te;for(var ne=0;ne<ee.length;ne++){var le=ee[ne],ue=ee[ne+1];if(ie.isBreakingSpace(le,ue)||ie.isNewline(le)){se!==""&&(te.push(se),se=""),te.push(le);continue}se+=le}return se!==""&&te.push(se),te},ie.canBreakWords=function(ee,te){return te},ie.canBreakChars=function(ee,te,se,ne,le){return!0},ie.wordWrapSplit=function(ee){return ee.split("")},ie.measureFont=function(ee){if(ie._fonts[ee])return ie._fonts[ee];var te={ascent:0,descent:0,fontSize:0},se=ie._canvas,ne=ie._context;ne.font=ee;var le=ie.METRICS_STRING+ie.BASELINE_SYMBOL,ue=Math.ceil(ne.measureText(le).width),ce=Math.ceil(ne.measureText(ie.BASELINE_SYMBOL).width),he=Math.ceil(ie.HEIGHT_MULTIPLIER*ce);ce=ce*ie.BASELINE_MULTIPLIER|0,se.width=ue,se.height=he,ne.fillStyle="#f00",ne.fillRect(0,0,ue,he),ne.font=ee,ne.textBaseline="alphabetic",ne.fillStyle="#000",ne.fillText(le,0,ce);var de=ne.getImageData(0,0,ue,he).data,_e=de.length,fe=ue*4,ye=0,be=0,Pe=!1;for(ye=0;ye<ce;++ye){for(var Ne=0;Ne<fe;Ne+=4)if(de[be+Ne]!==255){Pe=!0;break}if(!Pe)be+=fe;else break}for(te.ascent=ce-ye,be=_e-fe,Pe=!1,ye=he;ye>ce;--ye){for(var Ne=0;Ne<fe;Ne+=4)if(de[be+Ne]!==255){Pe=!0;break}if(!Pe)be-=fe;else break}return te.descent=ye-ce,te.fontSize=te.ascent+te.descent,ie._fonts[ee]=te,te},ie.clearMetrics=function(ee){ee===void 0&&(ee=""),ee?delete ie._fonts[ee]:ie._fonts={}},Object.defineProperty(ie,"_canvas",{get:function(){if(!ie.__canvas){var ee=void 0;try{var te=new OffscreenCanvas(0,0),se=te.getContext("2d",contextSettings$1);if(se&&se.measureText)return ie.__canvas=te,te;ee=settings$1.ADAPTER.createCanvas()}catch{ee=settings$1.ADAPTER.createCanvas()}ee.width=ee.height=10,ie.__canvas=ee}return ie.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(ie,"_context",{get:function(){return ie.__context||(ie.__context=ie._canvas.getContext("2d",contextSettings$1)),ie.__context},enumerable:!1,configurable:!0}),ie}();TextMetrics._fonts={},TextMetrics.METRICS_STRING="|ÉqÅ",TextMetrics.BASELINE_SYMBOL="M",TextMetrics.BASELINE_MULTIPLIER=1.4,TextMetrics.HEIGHT_MULTIPLIER=2,TextMetrics._newlines=[10,13],TextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Text$2=function(ie){__extends(ee,ie);function ee(te,se,ne){var le=this,ue=!1;ne||(ne=settings$1.ADAPTER.createCanvas(),ue=!0),ne.width=3,ne.height=3;var ce=Texture$1.from(ne);return ce.orig=new Rectangle$1,ce.trim=new Rectangle$1,le=ie.call(this,ce)||this,le._ownCanvas=ue,le.canvas=ne,le.context=ne.getContext("2d",{willReadFrequently:!0}),le._resolution=settings$1.RESOLUTION,le._autoResolution=!0,le._text=null,le._style=null,le._styleListener=null,le._font="",le.text=te,le.style=se,le.localStyleID=-1,le}return ee.prototype.updateText=function(te){var se=this._style;if(this.localStyleID!==se.styleID&&(this.dirty=!0,this.localStyleID=se.styleID),!(!this.dirty&&te)){this._font=this._style.toFontString();var ne=this.context,le=TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),ue=le.width,ce=le.height,he=le.lines,de=le.lineHeight,_e=le.lineWidths,fe=le.maxLineWidth,ye=le.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,ue)+se.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,ce)+se.padding*2)*this._resolution),ne.scale(this._resolution,this._resolution),ne.clearRect(0,0,this.canvas.width,this.canvas.height),ne.font=this._font,ne.lineWidth=se.strokeThickness,ne.textBaseline=se.textBaseline,ne.lineJoin=se.lineJoin,ne.miterLimit=se.miterLimit;for(var be,Pe,Ne=se.dropShadow?2:1,we=0;we<Ne;++we){var De=se.dropShadow&&we===0,$e=De?Math.ceil(Math.max(1,ce)+se.padding*2):0,Ge=$e*this._resolution;if(De){ne.fillStyle="black",ne.strokeStyle="black";var Be=se.dropShadowColor,ze=hex2rgb(typeof Be=="number"?Be:string2hex(Be)),$t=se.dropShadowBlur*this._resolution,ut=se.dropShadowDistance*this._resolution;ne.shadowColor="rgba("+ze[0]*255+","+ze[1]*255+","+ze[2]*255+","+se.dropShadowAlpha+")",ne.shadowBlur=$t,ne.shadowOffsetX=Math.cos(se.dropShadowAngle)*ut,ne.shadowOffsetY=Math.sin(se.dropShadowAngle)*ut+Ge}else ne.fillStyle=this._generateFillStyle(se,he,le),ne.strokeStyle=se.stroke,ne.shadowColor="black",ne.shadowBlur=0,ne.shadowOffsetX=0,ne.shadowOffsetY=0;var Ti=(de-ye.fontSize)/2;(!ee.nextLineHeightBehavior||de-ye.fontSize<0)&&(Ti=0);for(var Hi=0;Hi<he.length;Hi++)be=se.strokeThickness/2,Pe=se.strokeThickness/2+Hi*de+ye.ascent+Ti,se.align==="right"?be+=fe-_e[Hi]:se.align==="center"&&(be+=(fe-_e[Hi])/2),se.stroke&&se.strokeThickness&&this.drawLetterSpacing(he[Hi],be+se.padding,Pe+se.padding-$e,!0),se.fill&&this.drawLetterSpacing(he[Hi],be+se.padding,Pe+se.padding-$e)}this.updateTexture()}},ee.prototype.drawLetterSpacing=function(te,se,ne,le){le===void 0&&(le=!1);var ue=this._style,ce=ue.letterSpacing,he=ee.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(ce===0||he){he&&(this.context.letterSpacing=ce,this.context.textLetterSpacing=ce),le?this.context.strokeText(te,se,ne):this.context.fillText(te,se,ne);return}for(var de=se,_e=Array.from?Array.from(te):te.split(""),fe=this.context.measureText(te).width,ye=0,be=0;be<_e.length;++be){var Pe=_e[be];le?this.context.strokeText(Pe,de,ne):this.context.fillText(Pe,de,ne);for(var Ne="",we=be+1;we<_e.length;++we)Ne+=_e[we];ye=this.context.measureText(Ne).width,de+=fe-ye+ce,fe=ye}},ee.prototype.updateTexture=function(){var te=this.canvas;if(this._style.trim){var se=trimCanvas(te);se.data&&(te.width=se.width,te.height=se.height,this.context.putImageData(se.data,0,0))}var ne=this._texture,le=this._style,ue=le.trim?0:le.padding,ce=ne.baseTexture;ne.trim.width=ne._frame.width=te.width/this._resolution,ne.trim.height=ne._frame.height=te.height/this._resolution,ne.trim.x=-ue,ne.trim.y=-ue,ne.orig.width=ne._frame.width-ue*2,ne.orig.height=ne._frame.height-ue*2,this._onTextureUpdate(),ce.setRealSize(te.width,te.height,this._resolution),ne.updateUvs(),this.dirty=!1},ee.prototype._render=function(te){this._autoResolution&&this._resolution!==te.resolution&&(this._resolution=te.resolution,this.dirty=!0),this.updateText(!0),ie.prototype._render.call(this,te)},ee.prototype.updateTransform=function(){this.updateText(!0),ie.prototype.updateTransform.call(this)},ee.prototype.getBounds=function(te,se){return this.updateText(!0),this._textureID===-1&&(te=!1),ie.prototype.getBounds.call(this,te,se)},ee.prototype.getLocalBounds=function(te){return this.updateText(!0),ie.prototype.getLocalBounds.call(this,te)},ee.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},ee.prototype._generateFillStyle=function(te,se,ne){var le=te.fill;if(Array.isArray(le)){if(le.length===1)return le[0]}else return le;var ue,ce=te.dropShadow?te.dropShadowDistance:0,he=te.padding||0,de=this.canvas.width/this._resolution-ce-he*2,_e=this.canvas.height/this._resolution-ce-he*2,fe=le.slice(),ye=te.fillGradientStops.slice();if(!ye.length)for(var be=fe.length+1,Pe=1;Pe<be;++Pe)ye.push(Pe/be);if(fe.unshift(le[0]),ye.unshift(0),fe.push(le[le.length-1]),ye.push(1),te.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){ue=this.context.createLinearGradient(de/2,he,de/2,_e+he);for(var Ne=ne.fontProperties.fontSize+te.strokeThickness,Pe=0;Pe<se.length;Pe++){var we=ne.lineHeight*(Pe-1)+Ne,De=ne.lineHeight*Pe,$e=De;Pe>0&&we>De&&($e=(De+we)/2);var Ge=De+Ne,Be=ne.lineHeight*(Pe+1),ze=Ge;Pe+1<se.length&&Be<Ge&&(ze=(Ge+Be)/2);for(var $t=(ze-$e)/_e,ut=0;ut<fe.length;ut++){var Ti=0;typeof ye[ut]=="number"?Ti=ye[ut]:Ti=ut/fe.length;var Hi=Math.min(1,Math.max(0,$e/_e+Ti*$t));Hi=Number(Hi.toFixed(5)),ue.addColorStop(Hi,fe[ut])}}}else{ue=this.context.createLinearGradient(he,_e/2,de+he,_e/2);for(var bn=fe.length+1,gd=1,Pe=0;Pe<fe.length;Pe++){var Pm=void 0;typeof ye[Pe]=="number"?Pm=ye[Pe]:Pm=gd/bn,ue.addColorStop(Pm,fe[Pe]),gd++}}return ue},ee.prototype.destroy=function(te){typeof te=="boolean"&&(te={children:te}),te=Object.assign({},defaultDestroyOptions,te),ie.prototype.destroy.call(this,te),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(ee.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(te){this.updateText(!0);var se=sign(this.scale.x)||1;this.scale.x=se*te/this._texture.orig.width,this._width=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(te){this.updateText(!0);var se=sign(this.scale.y)||1;this.scale.y=se*te/this._texture.orig.height,this._height=te},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"style",{get:function(){return this._style},set:function(te){te=te||{},te instanceof TextStyle$1?this._style=te:this._style=new TextStyle$1(te),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"text",{get:function(){return this._text},set:function(te){te=String(te??""),this._text!==te&&(this._text=te,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(ee.prototype,"resolution",{get:function(){return this._resolution},set:function(te){this._autoResolution=!1,this._resolution!==te&&(this._resolution=te,this.dirty=!0)},enumerable:!1,configurable:!0}),ee.nextLineHeightBehavior=!1,ee.experimentalLetterSpacing=!1,ee}(Sprite$1);class ExperienceData{constructor(ee){this._sprite=new NitroSprite(ee),this._texture=null,this._amount=-1,this._alpha=0}renderBubble(ee){if(!this._sprite||this._amount===ee)return null;const te=new NitroContainer;te.addChild(this._sprite);const se=new Text$2("+"+ee,{fontFamily:"Arial",fontSize:9,fill:16777215,align:"center"});return se.anchor.x=.5,se.x=this._sprite.width/2,se.y=19,te.addChild(se),this._texture?PixiApplicationProxy.instance.renderer.render(te,{renderTexture:this._texture,clear:!0}):this._texture=TextureUtils.generateTexture(te),this._texture}get amount(){return this._amount}set amount(ee){this._amount=ee}get alpha(){return this._alpha}set alpha(ee){this._alpha=ee}}class PetVisualizationData extends FurnitureAnimatedVisualizationData{constructor(){super(),this._isAllowedToTurnHead=!0}createSizeData(ee,te,se){return ee>1?new PetSizeData(te,se):new AnimationSizeData(te,se)}defineVisualizations(ee){return this._isAllowedToTurnHead=!0,super.defineVisualizations(ee)}processVisualElement(ee,te,se){if(!ee||!te||!se)return!1;switch(te){case"postures":if(!(ee instanceof PetSizeData)||!ee.processPostures(se))return!1;break;case"gestures":if(!(ee instanceof PetSizeData)||!ee.processGestures(se))return!1;break;default:if(!super.processVisualElement(ee,te,se))return!1;break}return!0}postureToAnimation(ee,te){const se=this.getSizeData(ee);return se?se.postureToAnimation(te):PetSizeData.DEFAULT}getGestureDisabled(ee,te){const se=this.getSizeData(ee);return se?se.getGestureDisabled(te):!1}gestureToAnimation(ee,te){const se=this.getSizeData(ee);return se?se.gestureToAnimation(te):PetSizeData.DEFAULT}animationToPosture(ee,te,se){const ne=this.getSizeData(ee);return ne?ne.animationToPosture(te,se):null}animationToGesture(ee,te){const se=this.getSizeData(ee);return se?se.animationToGesture(te):null}getGestureForAnimationId(ee,te){const se=this.getSizeData(ee);return se?se.getGestureForAnimationId(te):null}totalPostures(ee){const te=this.getSizeData(ee);return te?te.totalPostures:0}totalGestures(ee){const te=this.getSizeData(ee);return te?te.totalGestures:0}get isAllowedToTurnHead(){return this._isAllowedToTurnHead}}const XR=class XR extends FurnitureAnimatedVisualization{constructor(){for(super(),this._posture="",this._gesture="",this._isSleeping=!1,this._headDirection=-1,this._headOnly=!1,this._nonHeadSprites=[],this._headSprites=[],this._saddleSprites=[],this._animationOver=!1,this._paletteIndex=-1,this._paletteName="",this._customLayerIds=[],this._customPartIds=[],this._customPaletteIds=[],this._isRiding=!1,this._color=16777215,this._experience=0,this._experienceTimestamp=0,this._experienceData=null,this._previousAnimationDirection=-1,this._animationStates=[];this._animationStates.length<XR.ANIMATION_INDEX_COUNT;)this._animationStates.push(new AnimationStateData)}initialize(ee){if(!(ee instanceof PetVisualizationData))return!1;const te=this.getPetAdditionAsset(XR.PET_EXPERIENCE_BUBBLE);return te&&(this._experienceData=new ExperienceData(te)),super.initialize(ee)}dispose(){if(super.dispose(),this._animationStates){for(;this._animationStates.length;){const ee=this._animationStates[0];ee&&ee.dispose(),this._animationStates.pop()}this._animationStates=null}}getAnimationId(ee){return ee.animationId}update(ee,te,se,ne){super.update(ee,te,se,ne),this.updateExperienceBubble(te)}updateExperienceBubble(ee){if(this._experienceData&&(this._experienceData.alpha=0,this._experienceTimestamp)){const te=ee-this._experienceTimestamp;te<XR.EXPERIENCE_BUBBLE_VISIBLE_IN_MS?this._experienceData.alpha=Math.sin(te/XR.EXPERIENCE_BUBBLE_VISIBLE_IN_MS*Math.PI)*255:this._experienceTimestamp=0;const se=this.getSprite(this.totalSprites-1);if(se){if(this._experienceData.alpha>0){const ne=this._experienceData.renderBubble(this._experience);if(ne){se.texture=ne,se.offsetX=-20,se.offsetY=-80,se.alpha=this._experienceData.alpha,se.visible=!0,se.relativeDepth=-.2;return}}se.texture=null,se.visible=!1}}}updateModel(ee){const te=this.object&&this.object.model;if(!te||this.updateModelCounter===te.updateCounter)return!1;const se=te.getValue(RoomObjectVariable.FIGURE_POSTURE),ne=te.getValue(RoomObjectVariable.FIGURE_GESTURE);this.setPostureAndGesture(se,ne);let le=te.getValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER)||null;(le===null||isNaN(le))&&(le=1),this._alphaMultiplier!==le&&(this._alphaMultiplier=le,this._alphaChanged=!0),this._isSleeping=te.getValue(RoomObjectVariable.FIGURE_SLEEP)>0;const ue=te.getValue(RoomObjectVariable.HEAD_DIRECTION);!isNaN(ue)&&this.data.isAllowedToTurnHead?this._headDirection=ue:this._headDirection=this.object.getDirection().x,this._experience=te.getValue(RoomObjectVariable.FIGURE_GAINED_EXPERIENCE),this._experienceTimestamp=te.getValue(RoomObjectVariable.FIGURE_EXPERIENCE_TIMESTAMP);const ce=te.getValue(RoomObjectVariable.PET_PALETTE_INDEX),he=te.getValue(RoomObjectVariable.PET_CUSTOM_LAYER_IDS),de=te.getValue(RoomObjectVariable.PET_CUSTOM_PARTS_IDS),_e=te.getValue(RoomObjectVariable.PET_CUSTOM_PALETTE_IDS),fe=te.getValue(RoomObjectVariable.PET_IS_RIDING),ye=te.getValue(RoomObjectVariable.PET_HEAD_ONLY),be=te.getValue(RoomObjectVariable.PET_COLOR);return ce!==this._paletteIndex&&(this._paletteIndex=ce,this._paletteName=this._paletteIndex.toString()),this._customLayerIds=he||[],this._customPartIds=de||[],this._customPaletteIds=_e||[],this._isRiding=!isNaN(fe)&&fe>0,this._headOnly=!isNaN(ye)&&ye>0,!isNaN(be)&&this._color!==be&&(this._color=be),this.updateModelCounter=te.updateCounter,!0}updateAnimation(ee){if(this.object){const te=this.object.getDirection().x;te!==this._previousAnimationDirection&&(this._previousAnimationDirection=te,this.resetAllAnimationFrames())}return super.updateAnimation(ee)}setPostureAndGesture(ee,te){this.data&&(ee!==this._posture&&(this._posture=ee,this.setAnimationForIndex(XR.POSTURE_ANIMATION_INDEX,this.data.postureToAnimation(this._scale,ee))),this.data.getGestureDisabled(this._scale,ee)&&(te=null),te!==this._gesture&&(this._gesture=te,this.setAnimationForIndex(XR.GESTURE_ANIMATION_INDEX,this.data.gestureToAnimation(this._scale,te))))}getAnimationStateData(ee){return ee>=0&&ee<this._animationStates.length?this._animationStates[ee]:null}setAnimationForIndex(ee,te){const se=this.getAnimationStateData(ee);se&&this.setSubAnimation(se,te)&&(this._animationOver=!1)}resetAllAnimationFrames(){this._animationOver=!1;let ee=this._animationStates.length-1;for(;ee>=0;){const te=this._animationStates[ee];te&&te.setLayerCount(this.animatedLayerCount),ee--}}updateAnimations(ee){if(this._animationOver)return 0;let te=!0,se=0,ne=0;for(;ne<this._animationStates.length;){const le=this._animationStates[ne];if(le&&!le.animationOver){const ue=this.updateFramesForAnimation(le,ee);se=se|ue,le.animationOver?(AnimationData.isTransitionFromAnimation(le.animationId)||AnimationData.isTransitionToAnimation(le.animationId))&&(this.setAnimationForIndex(ne,le.animationAfterTransitionId),te=!1):te=!1}ne++}return this._animationOver=te,se}getSpriteAssetName(ee,te){if(this._headOnly&&this.isNonHeadSprite(te)||this._isRiding&&this._parser3(te))return null;const se=this.totalSprites;if(te<se-XR.ADDITIONAL_SPRITE_COUNT){const ne=this.getValidSize(ee);if(te<se-(1+XR.ADDITIONAL_SPRITE_COUNT)){if(te>=FurnitureVisualizationData.LAYER_LETTERS.length)return null;const le=FurnitureVisualizationData.LAYER_LETTERS[te];return ne===1?this._type+"_icon_"+le:this._type+"_"+ne+"_"+le+"_"+this.getDirection(ee,te)+"_"+this.getFrameNumber(ne,te)}return this._type+"_"+ne+"_sd_"+this.getDirection(ee,te)+"_0"}return null}getLayerColor(ee,te,se){return te<this.totalSprites-XR.ADDITIONAL_SPRITE_COUNT?this._color:16777215}getLayerXOffset(ee,te,se){let ne=super.getLayerXOffset(ee,te,se),le=this._animationStates.length-1;for(;le>=0;){const ue=this._animationStates[le];if(ue){const ce=ue.getFrame(se);ce&&(ne+=ce.x)}le--}return ne}getLayerYOffset(ee,te,se){let ne=super.getLayerYOffset(ee,te,se),le=this._animationStates.length-1;for(;le>=0;){const ue=this._animationStates[le];if(ue){const ce=ue.getFrame(se);ce&&(ne+=ce.y)}le--}return ne}getLayerZOffset(ee,te,se){return this.data?this.data.getLayerZOffset(ee,this.getDirection(ee,se),se):LayerData.DEFAULT_ZOFFSET}getDirection(ee,te){return this.isHeadSprite(te)?this.data.getValidDirection(ee,this._headDirection):this._direction}getFrameNumber(ee,te){let se=this._animationStates.length-1;for(;se>=0;){const ne=this._animationStates[se];if(ne){const le=ne.getFrame(te);if(le)return le.id}se--}return super.getFrameNumber(ee,te)}isHeadSprite(ee){if(this._headSprites[ee]===void 0){const te=this.data.getLayerTag(this._scale,DirectionData.USE_DEFAULT_DIRECTION,ee)===XR.HEAD,se=this.data.getLayerTag(this._scale,DirectionData.USE_DEFAULT_DIRECTION,ee)===XR.HAIR;te||se?this._headSprites[ee]=!0:this._headSprites[ee]=!1}return this._headSprites[ee]}isNonHeadSprite(ee){if(this._nonHeadSprites[ee]===void 0)if(ee<this.totalSprites-(1+XR.ADDITIONAL_SPRITE_COUNT)){const te=this.data.getLayerTag(this._scale,DirectionData.USE_DEFAULT_DIRECTION,ee);te&&te.length>0&&te!==XR.HEAD&&te!==XR.HAIR?this._nonHeadSprites[ee]=!0:this._nonHeadSprites[ee]=!1}else this._nonHeadSprites[ee]=!0;return this._nonHeadSprites[ee]}_parser3(ee){return this._saddleSprites[ee]===void 0&&(this.data.getLayerTag(this._scale,DirectionData.USE_DEFAULT_DIRECTION,ee)===XR.SADDLE?this._saddleSprites[ee]=!0:this._saddleSprites[ee]=!1),this._saddleSprites[ee]}getAsset(ee,te=-1){if(!this.asset)return null;const se=this._customLayerIds.indexOf(te);let ne=this._paletteName,le=-1,ue=-1;return se>-1&&(le=this._customPartIds[se],ue=this._customPaletteIds[se],ne=ue>-1?ue.toString():this._paletteName),!isNaN(le)&&le>-1&&(ee=ee+"_"+le),this.asset.getAssetWithPalette(ee,ne)}getAdditionalLayerCount(){return super.getAdditionalLayerCount()+XR.ADDITIONAL_SPRITE_COUNT}setLayerCount(ee){super.setLayerCount(ee),this._headSprites=[]}getPostureForAsset(ee,te){const se=te.split("_");let ne=se.length,le=0;for(;le<se.length;){if(se[le]==="64"||se[le]==="32"){ne=le+3;break}le++}let ue=null;if(ne<se.length){let ce=se[ne];ce=ce.split("@")[0],ue=this.data.animationToPosture(ee,parseInt(ce)/100,!1),ue||(ue=this.data.getGestureForAnimationId(ee,parseInt(ce)/100))}return ue}getPetAdditionAsset(ee){return GetAssetManager().getTexture(ee)}get data(){return this._data}};XR.TYPE=RoomObjectVisualizationType.PET_ANIMATED,XR.HEAD="head",XR.SADDLE="saddle",XR.HAIR="hair",XR.ADDITIONAL_SPRITE_COUNT=1,XR.EXPERIENCE_BUBBLE_VISIBLE_IN_MS=1e3,XR.PET_EXPERIENCE_BUBBLE="avatar_addition_pet_experience_bubble",XR.POSTURE_ANIMATION_INDEX=0,XR.GESTURE_ANIMATION_INDEX=1,XR.ANIMATION_INDEX_COUNT=2;let PetVisualization=XR;const rU=class rU{constructor(ee,te=-1,se=1,ne=-1,le=1){this._normalMinX=te,this._normalMaxX=se,this._normalMinY=ne,this._normalMaxY=le,this._asset=ee}get asset(){return this._asset}get normalMinX(){return this._normalMinX}get normalMaxX(){return this._normalMaxX}get normalMinY(){return this._normalMinY}get normalMaxY(){return this._normalMaxY}dispose(){this._asset=null}};rU.MIN_NORMAL_COORDINATE_VALUE=-1,rU.MAX_NORMAL_COORDINATE_VALUE=1;let PlaneMaskBitmap=rU;const iU=class iU{constructor(){this._bitmaps=[]}dispose(){for(const ee of this._bitmaps)ee&&ee.dispose();this._bitmaps=null}addBitmap(ee,te=-1,se=1,ne=-1,le=1){this._bitmaps.push(new PlaneMaskBitmap(ee,te,se,ne,le))}getAsset(ee){if(!ee)return null;for(const te of this._bitmaps)if(te&&ee.x>=te.normalMinX&&ee.x<=te.normalMaxX&&ee.y>=te.normalMinY&&ee.y<=te.normalMaxY)return te.asset;return null}};iU.MIN_NORMAL_COORDINATE_VALUE=-1,iU.MAX_NORMAL_COORDINATE_VALUE=1;let PlaneMaskVisualization=iU;class PlaneMask{constructor(){this._sizes=[],this._maskVisualizations=new Map,this._assetNames=new Map,this._lastMaskVisualization=null,this._lastSize=-1}dispose(){if(this._maskVisualizations){for(const ee of this._maskVisualizations.values())ee&&ee.dispose();this._maskVisualizations=null}this._lastMaskVisualization=null,this._sizes=null}createMaskVisualization(ee){if(this._maskVisualizations.get(ee))return null;const se=new PlaneMaskVisualization;return this._maskVisualizations.set(ee,se),this._sizes.push(ee),this._sizes.sort(),se}getSizeIndex(ee){let te=0,se=1;for(;se<this._sizes.length;){if(this._sizes[se]>ee){this._sizes[se]-ee<ee-this._sizes[se-1]&&(te=se);break}te=se,se++}return te}getMaskVisualization(ee){if(ee===this._lastSize)return this._lastMaskVisualization;const te=this.getSizeIndex(ee);return te<this._sizes.length?this._lastMaskVisualization=this._maskVisualizations.get(this._sizes[te]):this._lastMaskVisualization=null,this._lastSize=ee,this._lastMaskVisualization}getGraphicAsset(ee,te){const se=this.getMaskVisualization(ee);return se?se.getAsset(te):null}getAssetName(ee){return this._assetNames&&this._assetNames.get(ee)||null}setAssetName(ee,te){this._assetNames&&this._assetNames.set(ee,te)}}class PlaneMaskManager{constructor(){this._assetCollection=null,this._masks=new Map,this._data=null}get data(){return this._data}dispose(){if(this._assetCollection=null,this._data=null,this._masks&&this._masks.size){for(const ee of this._masks.values())ee&&ee.dispose();this._masks.clear()}}initialize(ee){this._data=ee}initializeAssetCollection(ee){this.data&&(this._assetCollection=ee,this.parseMasks(this.data,ee))}parseMasks(ee,te){if(!(!ee||!te)&&ee.masks&&ee.masks.length){let se=0;for(;se<ee.masks.length;){const ne=ee.masks[se];if(ne){const le=ne.id;if(this._masks.get(le))continue;const ce=new PlaneMask;if(ne.visualizations&&ne.visualizations.length){let he=0;for(;he<ne.visualizations.length;){const de=ne.visualizations[he];if(de){const _e=de.size,fe=ce.createMaskVisualization(_e);if(fe){const ye=this.parseMaskBitmaps(de.bitmaps,fe,te);ce.setAssetName(_e,ye)}}he++}}this._masks.set(le,ce)}se++}}}parseMaskBitmaps(ee,te,se){if(!ee||!ee.length)return null;let ne=null;for(const le of ee){if(!le)continue;const ue=le.assetName,ce=se.getAsset(ue);if(!ce)continue;let he=PlaneMaskVisualization.MIN_NORMAL_COORDINATE_VALUE,de=PlaneMaskVisualization.MAX_NORMAL_COORDINATE_VALUE,_e=PlaneMaskVisualization.MIN_NORMAL_COORDINATE_VALUE,fe=PlaneMaskVisualization.MAX_NORMAL_COORDINATE_VALUE;le.normalMinX!==void 0&&(he=le.normalMinX),le.normalMaxX!==void 0&&(de=le.normalMaxX),le.normalMinY!==void 0&&(_e=le.normalMinY),le.normalMaxY!==void 0&&(fe=le.normalMaxY),ce.flipH||(ne=ue),te.addBitmap(ce,he,de,_e,fe)}return ne}updateMask(ee,te,se,ne,le,ue){const ce=this._masks.get(te);if(!ce)return!0;const he=ce.getGraphicAsset(se,ne);if(!he)return!0;const de=he.texture;if(!de)return!0;const _e=new Point$1(le+he.offsetX,ue+he.offsetY),fe=new Matrix$1;let ye=1,be=1,Pe=0,Ne=0,we=_e.x+Pe,De=_e.y+Ne;return he.flipH&&(ye=-1,Pe=de.width,we=_e.x+Pe-de.width),he.flipV&&(be=-1,Ne=de.height,De=_e.y+Ne-de.height),fe.scale(ye,be),fe.translate(we,De),PixiApplicationProxy.instance.renderer.render(new Sprite$1(de),{renderTexture:ee,clear:!1,transform:fe}),!0}getMask(ee){return!this._masks||!this._masks.size?null:this._masks.get(ee)||null}}class PlaneDrawingData{constructor(ee=null,te=0,se=!1){this._assetNames=[],this._maskAssetNames=[],this._maskAssetLocations=[],this._maskAssetFlipHs=[],this._maskAssetFlipVs=[],ee!=null&&(this._maskAssetNames=ee._maskAssetNames,this._maskAssetLocations=ee._maskAssetLocations,this._maskAssetFlipHs=ee._maskAssetFlipHs,this._maskAssetFlipVs=ee._maskAssetFlipVs),this._color=te,this._alignBottom=se}addMask(ee,te,se,ne){this._maskAssetNames.push(ee),this._maskAssetLocations.push(te),this._maskAssetFlipHs.push(se),this._maskAssetFlipVs.push(ne)}addAssetColumn(ee){this._assetNames.push(ee)}set z(ee){this._z=ee}get z(){return this._z}set cornerPoints(ee){this._points=ee}get cornerPoints(){return this._points}get color(){return this._color}get maskAssetNames(){return this._maskAssetNames}get maskAssetLocations(){return this._maskAssetLocations}get maskAssetFlipHs(){return this._maskAssetFlipHs}get maskAssetFlipVs(){return this._maskAssetFlipVs}isBottomAligned(){return this._alignBottom}get assetNameColumns(){return this._assetNames}}class AnimationItem{constructor(ee,te,se,ne,le){this._x=ee,this._y=te,this._speedX=se,this._speedY=ne,this._asset=le,isNaN(this._x)&&(this._x=0),isNaN(this._y)&&(this._y=0),isNaN(this._speedX)&&(this._speedX=0),isNaN(this._speedY)&&(this._speedY=0)}get bitmapData(){return this._asset}dispose(){this._asset=null}getPosition(ee,te,se,ne,le){let ue=this._x,ce=this._y;se>0&&(ue=ue+this._speedX/se*le/1e3),ne>0&&(ce=ce+this._speedY/ne*le/1e3);const he=Math.trunc(ue%1*ee),de=Math.trunc(ce%1*te);return new Point$1(he,de)}}const VM=class VM{constructor(ee,te,se,ne=0){this._material=ee,this._offset=ne,this._align=se,this._color=te,this._isDisposed=!1}get offset(){return this._offset}get align(){return this._align}get disposed(){return this._isDisposed}dispose(){this._isDisposed=!0,this._material=null,this.clearCache()}clearCache(){}render(ee,te,se,ne,le,ue,ce,he,de){const _e=this._color>>16,fe=this._color>>8&255,ye=this._color&255,be=_e<255||fe<255||ye<255;if(this._material){const Pe=this._material.render(ee,te,be?null:se,ne,le,ue,ce,he,de+this.offset,this.align===VM.ALIGN_TOP);if(Pe&&be){const Ne=new Sprite$1(Pe);be&&(Ne.tint=this._color),te.writeToRenderTexture(Ne,se,!1)}}else{const Pe=te.createAndFillRenderTexture(ne,le,ee,this._color);te.writeToRenderTexture(new Sprite$1(Pe),se,!1)}return se}getMaterial(){return this._material}getColor(){return this._color}};VM.DEFAULT_OFFSET=0,VM.ALIGN_TOP=1,VM.ALIGN_BOTTOM=2,VM.ALIGN_DEFAULT=VM.ALIGN_TOP;let PlaneVisualizationLayer=VM;class PlaneVisualization{constructor(ee,te,se){this._layers=[],this._geometry=se,this._cachedBitmapNormal=new Vector3d,this._isCached=!1,this._hasAnimationLayers=!1,te<0&&(te=0);let ne=0;for(;ne<te;)this._layers.push(null),ne++}get geometry(){return this._geometry}get hasAnimationLayers(){return this._hasAnimationLayers}dispose(){if(this._layers&&this._layers.length){for(const ee of this._layers)ee&&ee.dispose();this._layers=null}this._geometry=null,this._cachedBitmapNormal&&(this._cachedBitmapNormal=null)}clearCache(){if(this._isCached){if(this._cachedBitmapNormal&&this._cachedBitmapNormal.assign(new Vector3d),this._layers&&this._layers.length)for(const ee of this._layers){if(!ee)continue;ee.clearCache()}this._isCached=!1}}setLayer(ee,te,se,ne,le=0){if(ee<0||ee>this._layers.length)return!1;let ue=this._layers[ee];return ue&&ue.dispose(),ue=new PlaneVisualizationLayer(te,se,ne,le),this._layers[ee]=ue,!0}setAnimationLayer(ee,te,se){if(ee<0||ee>this._layers.length)return!1;let ne=this._layers[ee];return ne&&ne.dispose(),ne=new PlaneVisualizationAnimationLayer(te,se),this._layers[ee]=ne,this._hasAnimationLayers=!0,!0}getLayers(){return this._layers}render(ee,te,se,ne,le,ue,ce,he=0,de=0,_e=0,fe=0,ye=0,be=0,Pe=0){ne<1&&(ne=1),le<1&&(le=1),(!se||se.width!==ne||se.height!==le)&&(se=null),this._isCached=!0;const Ne=te.createAndFillRenderTexture(ne,le,ee);if(this._cachedBitmapNormal.assign(ue),this._layers&&this._layers.length)for(const we of this._layers)we&&(we instanceof PlaneVisualizationLayer?we.render(`${ee}:${this._layers.indexOf(we)}`,te,Ne,ne,le,ue,ce,he,de):we instanceof PlaneVisualizationAnimationLayer&&we.render(te,Ne,ne,le,ue,he,de,_e,fe,ye,be,Pe));return Ne}}class Plane{constructor(){this._planeVisualizations=new Map,this._sizes=[],this._lastPlaneVisualization=null,this._lastSize=-1}isStatic(ee){return!0}dispose(){for(const ee of this._planeVisualizations.values())ee&&ee.dispose();this._planeVisualizations=null,this._lastPlaneVisualization=null,this._sizes=null,this._lastSize=-1}clearCache(){for(const ee of this._planeVisualizations.values())ee&&ee.clearCache()}createPlaneVisualization(ee,te,se){if(this._planeVisualizations.get(ee.toString()))return null;const le=new PlaneVisualization(ee,te,se);return this._planeVisualizations.set(ee.toString(),le),this._sizes.push(ee),this._sizes.sort(),le}getSizeIndex(ee){let te=0,se=1;for(;se<this._sizes.length;){if(this._sizes[se]>ee){this._sizes[se]-ee<ee-this._sizes[se-1]&&(te=se);break}te=se,se++}return te}getPlaneVisualization(ee){if(ee===this._lastSize)return this._lastPlaneVisualization;const te=this.getSizeIndex(ee);return te<this._sizes.length?this._lastPlaneVisualization=this._planeVisualizations.get(this._sizes[te].toString()):this._lastPlaneVisualization=null,this._lastSize=ee,this._lastPlaneVisualization}getLayers(){return this.getPlaneVisualization(this._lastSize).getLayers()}}const zD=class zD extends Plane{render(ee,te,se,ne,le,ue,ce,he,de,_e){const fe=this.getPlaneVisualization(ue);if(!fe||!fe.geometry)return null;const ye=fe.geometry.getScreenPoint(new Vector3d(0,0,0)),be=fe.geometry.getScreenPoint(new Vector3d(0,le/fe.geometry.scale,0)),Pe=fe.geometry.getScreenPoint(new Vector3d(ne/fe.geometry.scale,0,0));let Ne=0,we=0;if(ye&&be&&Pe){ne=Math.round(Math.abs(ye.x-Pe.x)),le=Math.round(Math.abs(ye.x-be.x));const De=ye.x-fe.geometry.getScreenPoint(new Vector3d(1,0,0)).x;Ne=de*Math.trunc(Math.abs(De)),we=_e*Math.trunc(Math.abs(De))}return fe.render(ee,te,se,ne,le,ce,he,Ne,we)}};zD.DEFAULT_COLOR=16777215,zD.HORIZONTAL_ANGLE_DEFAULT=45,zD.VERTICAL_ANGLE_DEFAULT=30;let FloorPlane=zD;class PlaneBitmapData{constructor(ee,te){this._texture=ee,this._timeStamp=te}dispose(){this._texture=null}get texture(){return this._texture}get timeStamp(){return this._timeStamp}}const dT=class dT{constructor(){this._seed=1,this._modulus=16777216,this._multiplier=69069,this._increment=5}static setSeed(ee=1){dT._randomizer||(dT._randomizer=new dT),dT._randomizer.seed=ee}static setModulus(ee=16777216){dT._randomizer||(dT._randomizer=new dT),dT._randomizer.modulus=ee}static getValues(ee,te,se){return dT._randomizer||(dT._randomizer=new dT),dT._randomizer.getRandomValues(ee,te,se)}static getArray(ee,te){return dT._randomizer||(dT._randomizer=new dT),dT._randomizer.getRandomArray(ee,te)}set seed(ee){this._seed=ee}set modulus(ee){ee<1&&(ee=1),this._modulus=ee}dispose(){}getRandomValues(ee,te,se){const ne=[];let le=0;for(;le<ee;)ne.push(this.iterateScaled(te,se-te)),le++;return ne}getRandomArray(ee,te){if(ee>te||te>1e3)return null;const se=[];let ne=0;for(;ne<=te;)se.push(ne),ne++;const le=[];let ue=0;for(;ue<ee;){const ce=this.iterateScaled(0,se.length-1);le.push(se[ce]),se.splice(ce,1),ue++}return le}iterate(){let ee=ToInt32(Math.trunc(this._multiplier*this._seed)+this._increment);return ee<0&&(ee=-ee),ee=ee%this._modulus,this._seed=ee,ee}iterateScaled(ee,te){let se=this.iterate();return te<1?ee:(se=Math.trunc(ee+se/this._modulus*te),se)}};dT.DEFAULT_SEED=1,dT.DEFAULT_MODULUS=16777216,dT._randomizer=null;let Randomizer=dT;const ZT=class ZT{constructor(ee,te,se=1){if(this._cells=[],this._repeatMode=se,this._width=ee<1?1:ee,this._cachedBitmapData=null,this._cachedBitmapNormal=null,this._cachedBitmapDataOffsetX=0,this._cachedBitmapDataOffsetY=0,this._isCached=!1,this._isStatic=!0,te&&te.length){let ne=0;for(;ne<te.length;){const le=te[ne];le&&(this._cells.push(le),le.isStatic||(this._isStatic=!1)),ne++}}}get isStatic(){return this._isStatic}isRepeated(){return this._repeatMode!==ZT.REPEAT_MODE_NONE}get width(){return this._width}dispose(){if(this._cells&&this._cells.length){for(const ee of this._cells)ee&&ee.dispose();this._cells=null}this._cachedBitmapData=null,this._cachedBitmapNormal&&(this._cachedBitmapNormal=null)}clearCache(){if(this._isCached){if(this._cachedBitmapData&&(this._cachedBitmapData=null),this._cachedBitmapNormal&&(this._cachedBitmapNormal.x=0,this._cachedBitmapNormal.y=0,this._cachedBitmapNormal.z=0),this._cells&&this._cells.length)for(const ee of this._cells)ee&&ee.clearCache();this._isCached=!1}}render(ee,te,se,ne,le,ue){if(this._repeatMode===ZT.REPEAT_MODE_NONE&&(se=this.getCellsHeight(this._cells,ne)),this._cachedBitmapNormal||(this._cachedBitmapNormal=new Vector3d),this.isStatic){if(this._cachedBitmapData){if(this._cachedBitmapData.height===se&&Vector3d.isEqual(this._cachedBitmapNormal,ne)&&this._cachedBitmapDataOffsetX===le&&this._cachedBitmapDataOffsetY===ue)return this._cachedBitmapData;this._cachedBitmapData=null}}else this._cachedBitmapData=null;if(this._isCached=!0,this._cachedBitmapData||(this._cachedBitmapData=te.createRenderTexture(this._width,se,`${ee}:column`)),this._cachedBitmapNormal.assign(ne),this._cachedBitmapDataOffsetX=le,this._cachedBitmapDataOffsetY=ue,!this._cells.length)return this._cachedBitmapData;switch(this._repeatMode){case ZT.REPEAT_MODE_NONE:this.renderRepeatNone(ne);break;case ZT.REPEAT_MODE_BORDERS:this.renderRepeatBorders(ne);break;case ZT.REPEAT_MODE_CENTER:this.renderRepeatCenter(ne);break;case ZT.REPEAT_MODE_FIRST:this.renderRepeatFirst(ne);break;case ZT.REPEAT_MODE_LAST:this.renderRepeatLast(ne);break;default:this.renderRepeatAll(ne,le,ue);break}return this._cachedBitmapData}getCellsHeight(ee,te){if(!ee||!ee.length)return 0;let se=0,ne=0;for(;ne<ee.length;){const le=ee[ne];le&&(se+=le.getHeight(te)),ne++}return se}renderCells(ee,te,se,ne,le=0,ue=0){if(!ee||!ee.length||!this._cachedBitmapData)return te;let ce=0;for(;ce<ee.length;){let he=null;if(se?he=ee[ce]:he=ee[ee.length-1-ce],he){const de=he.render(ne,le,ue);if(de&&(se||(te-=de.height),de.y=te,TextureUtils.writeToRenderTexture(de,this._cachedBitmapData,!1),se&&(te=te+de.height),se&&te>=this._cachedBitmapData.height||!se&&te<=0))return te}ce++}return te}renderRepeatNone(ee){!this._cells.length||!this._cachedBitmapData||this.renderCells(this._cells,0,!0,ee)}renderRepeatAll(ee,te,se){if(!this._cells.length||!this._cachedBitmapData)return;let ne=0;for(;ne<this._cachedBitmapData.height;)if(ne=this.renderCells(this._cells,ne,!0,ee,te,se),!ne)return}renderRepeatBorders(ee){if(!this._cells.length||!this._cachedBitmapData)return;const te=[];let se=0,ne=1;for(;ne<this._cells.length-1;){const he=this._cells[ne];if(he){const de=he.getHeight(ee);de>0&&(se=se+de,te.push(he))}ne++}if(this._cells.length==1){const he=this._cells[0];if(he){const de=he.getHeight(ee);de>0&&(se=se+de,te.push(he))}}let le=this._cachedBitmapData.height-se>>1,ue=this.renderCells(te,le,!0,ee),ce=this._cells[0];if(ce){const he=[ce];for(;le>=0;)le=this.renderCells(he,le,!1,ee)}if(ce=this._cells[this._cells.length-1],ce){const he=[ce];for(;ue<this._cachedBitmapData.height;)ue=this.renderCells(he,ue,!0,ee)}}renderRepeatCenter(ee){if(!this._cells.length||!this._cachedBitmapData)return;const te=[],se=[];let ne=0,le=0,ue=0;for(;ue<this._cells.length>>1;){const de=this._cells[ue];if(de){const _e=de.getHeight(ee);_e>0&&(ne=ne+_e,te.push(de))}ue++}for(ue=(this._cells.length>>1)+1;ue<this._cells.length;){const de=this._cells[ue];if(de){const _e=de.getHeight(ee);_e>0&&(le=le+_e,se.push(de))}ue++}let ce=0,he=this._cachedBitmapData.height;if(ne+le>this._cachedBitmapData.height&&(ce=ne+le-this._cachedBitmapData.height,he=he+(ce-(ce>>1))),ce==0){const de=this._cells[this._cells.length>>1];if(de){const _e=de.getHeight(ee);if(_e>0){const fe=this._cachedBitmapData.height-(ne+le),ye=Math.ceil(fe/_e)*_e;let be=ne-(ye-fe>>1);const Pe=be+ye,Ne=[de];for(;be<Pe;)be=this.renderCells(Ne,be,!0,ee)}}}this.renderCells(te,0,!0,ee),this.renderCells(se,he,!1,ee)}renderRepeatFirst(ee){if(!this._cells.length||!this._cachedBitmapData)return;let te=this.renderCells(this._cells,this._cachedBitmapData.height,!1,ee);const se=this._cells[0];if(!se)return;const ne=[se];for(;te>=0;)te=this.renderCells(ne,te,!1,ee)}renderRepeatLast(ee){if(!this._cells.length||!this._cachedBitmapData)return;let te=this.renderCells(this._cells,0,!0,ee);const se=this._cells[this._cells.length-1];if(!se)return;const ne=[se];for(;te<this._cachedBitmapData.height;)te=this.renderCells(ne,te,!0,ee)}getCells(){return this._cells}};ZT.REPEAT_MODE_NONE=0,ZT.REPEAT_MODE_ALL=1,ZT.REPEAT_MODE_BORDERS=2,ZT.REPEAT_MODE_CENTER=3,ZT.REPEAT_MODE_FIRST=4,ZT.REPEAT_MODE_LAST=5;let PlaneMaterialCellColumn=ZT;const KR=class KR{constructor(ee,te=1,se=1,ne=-1,le=1,ue=-1,ce=1){this._repeatMode=1,this._align=1,this._cachedBitmapNormal=null,this._cachedBitmapHeight=0,this._isCached=!1,this._isStatic=!0,this._normalMinX=-1,this._normalMaxX=1,this._normalMinY=-1,this._normalMaxY=1,this._columns=[],ee<1&&(ee=1);let he=0;for(;he<ee;)this._columns.push(null),he++;this._repeatMode=te,this._align=se,this._normalMinX=ne,this._normalMaxX=le,this._normalMinY=ue,this._normalMaxY=ce,this._repeatMode===KR.REPEAT_MODE_RANDOM&&(this._isStatic=!1)}static nextRandomColumnIndex(ee){return Randomizer.getValues(1,0,ee*17631)[0]%ee}get normalMinX(){return this._normalMinX}get normalMaxX(){return this._normalMaxX}get normalMinY(){return this._normalMinY}get normalMaxY(){return this._normalMaxY}isBottomAligned(){return this._align===KR.ALIGN_BOTTOM}get isStatic(){return this._isStatic}dispose(){this._cachedBitmapNormal&&(this._cachedBitmapNormal=null)}clearCache(){if(this._isCached){if(this._cachedBitmapNormal&&(this._cachedBitmapNormal.x=0,this._cachedBitmapNormal.y=0,this._cachedBitmapNormal.z=0),this._columns&&this._columns.length)for(const ee of this._columns)ee&&ee.clearCache();this._isCached=!1}}createColumn(ee,te,se,ne=1){if(ee<0||ee>=this._columns.length)return!1;const le=new PlaneMaterialCellColumn(te,se,ne),ue=this._columns[ee];return ue&&ue.dispose(),this._columns[ee]=le,le&&!le.isStatic&&(this._isStatic=!1),!0}render(ee,te,se,ne,le,ue,ce,he,de,_e){if(ne<1&&(ne=1),le<1&&(le=1),this._cachedBitmapNormal||(this._cachedBitmapNormal=new Vector3d),this.isStatic){if(this._cachedBitmapData){if(this._cachedBitmapData.baseTexture&&this._cachedBitmapData.width===ne&&this._cachedBitmapData.height===le&&Vector3d.isEqual(this._cachedBitmapNormal,ue))return se?(this.copyCachedBitmapOnCanvas(se,this._cachedBitmapHeight,de,_e),se):this._cachedBitmapData;this._cachedBitmapData=null}}else this._cachedBitmapData=null;if(this._isCached=!0,this._cachedBitmapNormal.assign(ue),!ce)return this._cachedBitmapHeight=le,this._cachedBitmapData?te.clearAndFillRenderTexture(this._cachedBitmapData):this._cachedBitmapData=te.createAndFillRenderTexture(ne,le,`${ee}:matrix`),this._cachedBitmapData;this._cachedBitmapData||(this._cachedBitmapHeight=le,this._cachedBitmapData=te.createRenderTexture(ne,le,`${ee}:matrix`),te.clearRenderTexture(this._cachedBitmapData));const fe=[];let ye=0;for(;ye<this._columns.length;){const Pe=this._columns[ye];if(Pe){const Ne=Pe.render(ee,te,le,ue,he,de);Ne&&fe.push(Ne)}ye++}if(!fe.length)return se||this._cachedBitmapData;let be=0;switch(this._repeatMode){case KR.REPEAT_MODE_BORDERS:NitroLogger.log("REPEAT_MODE_BORDERS");break;case KR.REPEAT_MODE_CENTER:NitroLogger.log("REPEAT_MODE_CENTER");break;case KR.REPEAT_MODE_FIRST:NitroLogger.log("REPEAT_MODE_FIRST");break;case KR.REPEAT_MODE_LAST:NitroLogger.log("REPEAT_MODE_LAST");break;case KR.REPEAT_MODE_RANDOM:be=this.renderRepeatRandom(this._cachedBitmapData,fe);break;default:be=this.renderRepeatAll(this._cachedBitmapData,fe);break}return this._cachedBitmapHeight=be,se?(this.copyCachedBitmapOnCanvas(se,be,de,_e),se):this._cachedBitmapData}copyCachedBitmapOnCanvas(ee,te,se,ne){if(!ee||!this._cachedBitmapData||ee===this._cachedBitmapData)return;ne||(se=ee.height-te-se);let le=null;this._align===KR.ALIGN_TOP?le=new Rectangle$1(0,0,this._cachedBitmapData.width,this._cachedBitmapHeight):le=new Rectangle$1(0,this._cachedBitmapData.height-this._cachedBitmapHeight,this._cachedBitmapData.width,this._cachedBitmapHeight);const ue=new RenderTexture$1(this._cachedBitmapData.baseTexture,le),ce=new Sprite$1(ue);ce.position.set(0,se),TextureUtils.writeToRenderTexture(ce,ee,!1)}getColumnsWidth(ee){if(!ee||!ee.length)return 0;let te=0;for(const se of ee)se&&(te+=se.width);return te}renderColumns(ee,te,se,ne){if(!ee||!te||!te.length)return new Point$1(se,0);let le=0,ue=0;for(;ue<te.length;){const ce=ne?te[ue]:te[te.length-1-ue];if(ce){ne||(se=se-ce.width);let he=0;this._align==KR.ALIGN_BOTTOM&&(he=ee.height-ce.height);const de=new Sprite$1(ce);if(de.position.set(se,he),TextureUtils.writeToRenderTexture(de,ee,!1),ce.height>le&&(le=ce.height),ne&&(se=se+ce.width),ne&&se>=ee.width||!ne&&se<=0)return new Point$1(se,le)}ue++}return new Point$1(se,le)}renderRepeatAll(ee,te){if(!ee||!te||!te.length)return 0;this.getColumnsWidth(te);let se=0,ne=0;for(;se<ee.width;){const le=this.renderColumns(ee,te,se,!0);if(se=le.x,le.y>ne&&(ne=le.y),!le.x)return ne}return ne}renderRepeatRandom(ee,te){if(!ee||!te||!te.length)return 0;let se=0,ne=0;for(;ne<ee.width;){const le=te[KR.nextRandomColumnIndex(te.length)];if(le!=null){const ue=this.renderColumns(ee,[le],ne,!0);ne=ue.x,ue.y>se&&(se=ue.y)}else return se}return se}getColumns(ee){if(this._repeatMode===KR.REPEAT_MODE_RANDOM){const te=[];let se=0;for(;se<ee;){const ne=this._columns[KR.nextRandomColumnIndex(this._columns.length)];if(ne)if(te.push(ne),ne.width>1)se+=ne.width;else break;else break}return te}return this._columns}};KR.REPEAT_MODE_ALL=1,KR.REPEAT_MODE_BORDERS=2,KR.REPEAT_MODE_CENTER=3,KR.REPEAT_MODE_FIRST=4,KR.REPEAT_MODE_LAST=5,KR.REPEAT_MODE_RANDOM=6,KR.REPEAT_MODE_DEFAULT=KR.REPEAT_MODE_ALL,KR.MIN_NORMAL_COORDINATE_VALUE=-1,KR.MAX_NORMAL_COORDINATE_VALUE=1,KR.ALIGN_TOP=1,KR.ALIGN_BOTTOM=2,KR.ALIGN_DEFAULT=KR.ALIGN_TOP;let PlaneMaterialCellMatrix=KR;const nU=class nU{constructor(){this._planeMaterialItems=[],this._isCached=!1}dispose(){if(this._planeMaterialItems&&this._planeMaterialItems.length){for(const ee of this._planeMaterialItems)ee&&ee.dispose();this._planeMaterialItems=null}this._isCached=!1}clearCache(){if(this._isCached){if(this._planeMaterialItems&&this._planeMaterialItems.length)for(const ee of this._planeMaterialItems)ee&&ee.clearCache();this._isCached=!1}}addMaterialCellMatrix(ee,te,se,ne=-1,le=1,ue=-1,ce=1){const he=new PlaneMaterialCellMatrix(ee,te,se,ne,le,ue,ce);return this._planeMaterialItems.push(he),he}getMaterialCellMatrix(ee){if(!ee)return null;if(this._planeMaterialItems&&this._planeMaterialItems.length){for(const te of this._planeMaterialItems)if(te&&ee.x>=te.normalMinX&&ee.x<=te.normalMaxX&&ee.y>=te.normalMinY&&ee.y<=te.normalMaxY)return te}return null}render(ee,te,se,ne,le,ue,ce,he,de,_e){ne<1&&(ne=1),le<1&&(le=1);const fe=this.getMaterialCellMatrix(ue);return fe?(this._isCached=!0,fe.render(ee,te,se,ne,le,ue,ce,he,de,_e)):null}};nU.MIN_NORMAL_COORDINATE_VALUE=-1,nU.MAX_NORMAL_COORDINATE_VALUE=1;let PlaneMaterial=nU;class PlaneMaterialCell{constructor(ee,te=null,se=null,ne=0){if(this._extraItemCount=0,this._texture=ee,this._extraItemOffsets=[],this._extraItemAssets=[],this._extraItemCount=0,te&&te.length&&ne>0){let le=0;for(;le<te.length;){const ue=te[le];ue&&this._extraItemAssets.push(ue),le++}if(this._extraItemAssets.length){if(se){let ue=0;for(;ue<se.length;){const ce=se[ue];ce&&this._extraItemOffsets.push(new Point$1(ce.x,ce.y)),ue++}}this._extraItemCount=ne}}}get isStatic(){return this._extraItemCount===0}dispose(){this._texture&&(this._texture.dispose(),this._texture=null),this._extraItemAssets=null,this._extraItemOffsets=null,this._extraItemCount=0}clearCache(){}getHeight(ee){if(this._texture){const te=this._texture.getBitmap(ee);if(te)return te.height}return 0}render(ee,te,se){if(!this._texture)return null;const ne=this._texture.getBitmap(ee);if(!ne)return null;const le=new TilingSprite(ne,ne.width,ne.height);if(te!==0||se!==0){for(;te<0;)te+=ne.width;for(;se<0;)se+=ne.height;le.tilePosition.set(te%ne.width,se%ne.height),le.uvRespectAnchor=!0,te&&(le.anchor.x=1,le.scale.x=-1),se&&(le.anchor.y=1,le.scale.y=-1)}if(!this.isStatic){const ue=Math.min(this._extraItemCount,this._extraItemOffsets.length),ce=Math.max(this._extraItemCount,this._extraItemOffsets.length),he=Randomizer.getArray(this._extraItemCount,ce);let de=0;for(;de<ue;){const _e=this._extraItemOffsets[he[de]],fe=this._extraItemAssets[de%this._extraItemAssets.length];if(_e&&fe){const ye=fe.texture;if(ye){let be=fe.offsetX,Pe=fe.offsetY,Ne=1,we=1,De=0,$e=0;fe.flipH&&(Ne=-1,De=ye.width,be=-(fe.width+fe.x)),fe.flipV&&(we=-1,$e=ye.height,Pe=-(fe.height+fe.y));const Ge=new Point$1(_e.x+be,_e.y+Pe),Be=new Matrix$1;let ze=Ge.x+De;ze=ze>>1<<1,Be.scale(Ne,we),Be.translate(ze,Ge.y+$e);const $t=new Sprite$1(ye);$t.transform.setFromMatrix(Be),le.addChild($t)}}de++}}return le}getAssetName(ee){return this._texture==null?null:this._texture.getAssetName(ee)}}const aU=class aU{constructor(ee,te=-1,se=1,ne=-1,le=1,ue=null){this._bitmap=ee,this._normalMinX=te,this._normalMaxX=se,this._normalMinY=ne,this._normalMaxY=le,this._assetName=ue}get bitmap(){return this._bitmap}get normalMinX(){return this._normalMinX}get normalMaxX(){return this._normalMaxX}get normalMinY(){return this._normalMinY}get normalMaxY(){return this._normalMaxY}get assetName(){return this._assetName}dispose(){this._bitmap=null}};aU.MIN_NORMAL_COORDINATE_VALUE=-1,aU.MAX_NORMAL_COORDINATE_VALUE=1;let PlaneTextureBitmap=aU;const oU=class oU{constructor(){this._bitmaps=[]}dispose(){if(this._bitmaps){for(const ee of this._bitmaps)ee&&ee.dispose();this._bitmaps=null}}addBitmap(ee,te=-1,se=1,ne=-1,le=1,ue=null){this._bitmaps.push(new PlaneTextureBitmap(ee,te,se,ne,le,ue))}getBitmap(ee){const te=this.getPlaneTextureBitmap(ee);return te?te.bitmap:null}getPlaneTextureBitmap(ee){if(!ee)return null;for(const te of this._bitmaps)if(te&&ee.x>=te.normalMinX&&ee.x<=te.normalMaxX&&ee.y>=te.normalMinY&&ee.y<=te.normalMaxY)return te;return null}getAssetName(ee){const te=this.getPlaneTextureBitmap(ee);return te?te.assetName:null}};oU.MIN_NORMAL_COORDINATE_VALUE=-1,oU.MAX_NORMAL_COORDINATE_VALUE=1;let PlaneTexture=oU;const lU=class lU{constructor(){this._assetCollection=null,this._textures=new Map,this._materials=new Map,this._planes=new Map,this._geometries=new Map,this._data=null}get data(){return this._data}get assetCollection(){return this._assetCollection}initializeDimensions(ee,te){return!0}dispose(){if(this._planes){for(const ee of this._planes.values())ee&&ee.dispose();this._planes=null}if(this._materials&&(this.resetMaterials(),this._materials=null),this._textures&&(this.resetTextures(),this._textures=null),this._geometries){for(const ee of this._geometries.values())ee&&ee.dispose();this._geometries=null}this._data=null,this._assetCollection=null}clearCache(){for(const ee of this._planes.values())ee&&ee.clearCache();for(const ee of this._materials.values())ee&&ee.clearCache()}initialize(ee){this._data=ee}reinitialize(){this.resetTextures(),this.resetMaterials(),this.initializeAll()}resetMaterials(){for(const ee of this._materials.values())ee&&ee.dispose();this._materials.clear()}resetTextures(){for(const ee of this._textures.values())ee&&ee.dispose();this._textures.clear()}getTexture(ee){return this._textures.get(ee)}getMaterial(ee){return this._materials.get(ee)}getPlane(ee){return this._planes.get(ee)}addPlane(ee,te){return te?this._planes.get(ee)?!1:(this._planes.set(ee,te),!0):!1}initializeAssetCollection(ee){this._data&&(this._assetCollection=ee,this.initializeAll())}initializeAll(){this._data&&(this.initializeTexturesAndMaterials(),this.initializePlanes())}initializeTexturesAndMaterials(){this._data.textures&&this._data.textures.length&&this.parseTextures(this._data.textures,this.assetCollection),this._data.materials&&this._data.materials.length&&this.parsePlaneMaterials(this._data.materials)}initializePlanes(){}parseTextures(ee,te){if(!(!ee||!te)&&ee.length)for(const se of ee){if(!se)continue;const ne=se.id;if(!this._textures.get(ne)){const le=new PlaneTexture;if(se.bitmaps&&se.bitmaps.length)for(const ue of se.bitmaps){if(!ue)continue;const ce=ue.assetName;let he=PlaneTexture.MIN_NORMAL_COORDINATE_VALUE,de=PlaneTexture.MAX_NORMAL_COORDINATE_VALUE,_e=PlaneTexture.MIN_NORMAL_COORDINATE_VALUE,fe=PlaneTexture.MAX_NORMAL_COORDINATE_VALUE;ue.normalMinX!==void 0&&(he=ue.normalMinX),ue.normalMaxX!==void 0&&(de=ue.normalMaxX),ue.normalMinY!==void 0&&(_e=ue.normalMinY),ue.normalMaxY!==void 0&&(fe=ue.normalMaxY);const ye=te.getAsset(ce);if(ye){const be=ye.texture;if(be){let Pe=be;ye.flipH?Pe=Rasterizer.getFlipHBitmapData(be):Pe=Pe.clone(),le.addBitmap(Pe,he,de,_e,fe,ce)}}}this._textures.set(ne,le)}}}parsePlaneMaterials(ee){if(!(!ee||!ee.length))for(const te of ee){if(!te)continue;const se=te.id,ne=new PlaneMaterial;if(te.matrices&&te.matrices.length)for(const le of te.matrices){if(!le)continue;let ue=PlaneMaterialCellMatrix.REPEAT_MODE_DEFAULT,ce=PlaneMaterialCellMatrix.ALIGN_DEFAULT,he=PlaneMaterialCellMatrix.MIN_NORMAL_COORDINATE_VALUE,de=PlaneMaterialCellMatrix.MAX_NORMAL_COORDINATE_VALUE,_e=PlaneMaterialCellMatrix.MIN_NORMAL_COORDINATE_VALUE,fe=PlaneMaterialCellMatrix.MAX_NORMAL_COORDINATE_VALUE;switch(le.normalMinX!==void 0&&(he=le.normalMinX),le.normalMaxX!==void 0&&(de=le.normalMaxX),le.normalMinY!==void 0&&(_e=le.normalMinY),le.normalMaxY!==void 0&&(fe=le.normalMaxY),le.repeatMode){case"borders":ue=PlaneMaterialCellMatrix.REPEAT_MODE_BORDERS;break;case"center":ue=PlaneMaterialCellMatrix.REPEAT_MODE_CENTER;break;case"first":ue=PlaneMaterialCellMatrix.REPEAT_MODE_FIRST;break;case"last":ue=PlaneMaterialCellMatrix.REPEAT_MODE_LAST;break;case"random":ue=PlaneMaterialCellMatrix.REPEAT_MODE_RANDOM;break;default:ue=PlaneMaterialCellMatrix.REPEAT_MODE_DEFAULT;break}switch(le.align){case"top":ce=PlaneMaterialCellMatrix.ALIGN_TOP;break;case"bottom":ce=PlaneMaterialCellMatrix.ALIGN_BOTTOM;break;default:ce=PlaneMaterialCellMatrix.ALIGN_DEFAULT;break}if(le.columns&&le.columns.length){const ye=ne.addMaterialCellMatrix(le.columns.length,ue,ce,he,de,_e,fe);let be=0;for(;be<le.columns.length;){const Pe=le.columns[be];Pe&&this.parsePlaneMaterialCellColumn(Pe,ye,be),be++}}}this._materials.set(se,ne)}}parsePlaneMaterialCellColumn(ee,te,se){if(!ee||!te)return;let ne=PlaneMaterialCellColumn.REPEAT_MODE_ALL;const le=ee.width,ue=this.parsePlaneMaterialCells(ee);switch(ee.repeatMode){case"borders":ne=PlaneMaterialCellColumn.REPEAT_MODE_BORDERS;break;case"center":ne=PlaneMaterialCellColumn.REPEAT_MODE_CENTER;break;case"first":ne=PlaneMaterialCellColumn.REPEAT_MODE_FIRST;break;case"last":ne=PlaneMaterialCellColumn.REPEAT_MODE_LAST;break;case"none":ne=PlaneMaterialCellColumn.REPEAT_MODE_NONE;break;default:ne=PlaneMaterialCellColumn.REPEAT_MODE_ALL;break}te.createColumn(se,le,ue,ne)}parsePlaneMaterialCells(ee){if(!ee||!ee.cells||!ee.cells.length)return null;const te=[];let se=0;for(;se<ee.cells.length;){const ne=ee.cells[se];if(ne){const le=ne.textureId;let ue=null,ce=null,he=null,de=0;if(ne.extraData){const ye=ne.extraData.extraItemTypes,be=ne.extraData.offsets;ye&&be&&ye.length&&be.length&&(ue=this.parseExtraItemTypes(ye),ce=this.parseExtraItemOffsets(be),de=ce.length,ne.extraData.limitMax!==void 0&&(de=ne.extraData.limitMax))}if(ue&&ue.length){he=[];for(const ye of ue){if(!ye)continue;const be=this._assetCollection.getAsset(ye);be&&he.push(be)}}const _e=this.getTexture(le),fe=new PlaneMaterialCell(_e,he,ce,de);te.push(fe)}se++}return!te||!te.length?null:te}parseExtraItemTypes(ee){const te=[];if(ee&&ee.length){let se=0;for(;se<ee.length;){const ne=ee[se];ne&&te.push(ne),se++}}return te}parseExtraItemOffsets(ee){const te=[];if(ee&&ee.length){let se=0;for(;se<ee.length;){const[ne,le]=ee[se];te.push(new Point$1(ne,le)),se++}}return te}getGeometry(ee,te,se){te=Math.abs(te),te>90&&(te=90),se=Math.abs(se),se>90&&(se=90);const ne=`${ee}_${Math.round(te)}_${Math.round(se)}`;let le=this._geometries.get(ne);return le||(le=new RoomGeometry(ee,new Vector3d(te,se),new Vector3d(-10,0,0)),this._geometries.set(ne,le),le)}parseVisualizations(ee,te){if(!(!ee||!te)&&te&&te.length)for(const se of te){if(!se)continue;const ne=se.size;let le=FloorPlane.HORIZONTAL_ANGLE_DEFAULT,ue=FloorPlane.VERTICAL_ANGLE_DEFAULT;se.horizontalAngle!==void 0&&(le=se.horizontalAngle),se.verticalAngle!==void 0&&(ue=se.verticalAngle);const ce=se.allLayers,he=ee.createPlaneVisualization(ne,ce&&ce.length||0,this.getGeometry(ne,le,ue));if(he&&ce&&ce.length){let de=0;for(;de<ce.length;){const _e=ce[de];if(_e){let fe=null,ye=PlaneVisualizationLayer.ALIGN_DEFAULT,be=FloorPlane.DEFAULT_COLOR,Pe=PlaneVisualizationLayer.DEFAULT_OFFSET;_e.materialId&&(fe=this.getMaterial(_e.materialId)),_e.color&&(be=_e.color),_e.offset&&(Pe=_e.offset),_e.align&&(_e.align==="bottom"?ye=PlaneVisualizationLayer.ALIGN_BOTTOM:_e.align=="top"&&(ye=PlaneVisualizationLayer.ALIGN_TOP)),he.setLayer(de,fe,be,ye,Pe)}de++}}}}render(ee,te,se,ne,le,ue,ce,he,de,_e=0,fe=0,ye=0,be=0,Pe=0){return null}getTextureIdentifier(ee,te){return ee.toString()}getLayers(ee){let te=this.getPlane(ee);return te||(te=this.getPlane(lU.DEFAULT)),te.getLayers()}};lU.DEFAULT="default";let PlaneRasterizer=lU;class FloorRasterizer extends PlaneRasterizer{initializePlanes(){if(!this.data)return;const ee=this.data.planes;ee&&ee.length&&this.parseFloors(ee)}parseFloors(ee){if(ee)for(const te in ee){const se=ee[te];if(!se)continue;const ne=se.id,le=se.visualizations,ue=new FloorPlane;this.parseVisualizations(ue,le),this.addPlane(ne,ue)||ue.dispose()}}render(ee,te,se,ne,le,ue,ce,he,de,_e=0,fe=0,ye=0,be=0,Pe=0){let Ne=this.getPlane(ne);if(Ne||(Ne=this.getPlane(PlaneRasterizer.DEFAULT)),!Ne)return null;se&&te.clearAndFillRenderTexture(se);let we=Ne.render(ee,te,se,le,ue,ce,he,de,_e,fe);return we&&we!==se&&(we=new RenderTexture$1(we.baseTexture),!we)?null:new PlaneBitmapData(we,-1)}}const WD=class WD extends Plane{render(ee,te,se,ne,le,ue,ce,he){const de=this.getPlaneVisualization(ue);if(!de||!de.geometry)return null;const _e=de.geometry.getScreenPoint(new Vector3d(0,0,0)),fe=de.geometry.getScreenPoint(new Vector3d(0,0,le/de.geometry.scale)),ye=de.geometry.getScreenPoint(new Vector3d(0,ne/de.geometry.scale,0));return _e&&fe&&ye&&(ne=Math.round(Math.abs(_e.x-ye.x)),le=Math.round(Math.abs(_e.y-fe.y))),de.render(ee,te,se,ne,le,ce,he)}};WD.DEFAULT_COLOR=16777215,WD.HORIZONTAL_ANGLE_DEFAULT=45,WD.VERTICAL_ANGLE_DEFAULT=30;let WallPlane=WD;class WallRasterizer extends PlaneRasterizer{initializePlanes(){if(!this.data)return;const ee=this.data.planes;ee&&ee.length&&this.parseWalls(ee)}parseWalls(ee){if(ee)for(const te in ee){const se=ee[te];if(!se)continue;const ne=se.id,le=se.visualizations,ue=new WallPlane;this.parseVisualizations(ue,le),this.addPlane(ne,ue)||ue.dispose()}}render(ee,te,se,ne,le,ue,ce,he,de,_e=0,fe=0,ye=0,be=0,Pe=0){let Ne=this.getPlane(ne);if(Ne||(Ne=this.getPlane(PlaneRasterizer.DEFAULT)),!Ne)return null;se&&te.clearAndFillRenderTexture(se);let we=Ne.render(ee,te,se,le,ue,ce,he,de);return we&&we!==se&&(we=new RenderTexture$1(we.baseTexture),!we)?null:new PlaneBitmapData(we,-1)}getTextureIdentifier(ee,te){return te?`${ee}_${te.x}_${te.y}_${te.z}`:super.getTextureIdentifier(ee,te)}}const YD=class YD extends Plane{constructor(){super(...arguments),this._width=0,this._height=0}isStatic(ee){const te=this.getPlaneVisualization(ee);return te?!te.hasAnimationLayers:super.isStatic(ee)}initializeDimensions(ee,te){ee<0&&(ee=0),te<0&&(te=0),(ee!==this._width||te!==this._height)&&(this._width=ee,this._height=te)}render(ee,te,se,ne,le,ue,ce,he,de,_e,fe,ye,be){const Pe=this.getPlaneVisualization(ue);if(!Pe||!Pe.geometry)return null;const Ne=Pe.geometry.getScreenPoint(new Vector3d(0,0,0)),we=Pe.geometry.getScreenPoint(new Vector3d(0,0,1)),De=Pe.geometry.getScreenPoint(new Vector3d(0,1,0));if(Ne&&we&&De){ne=Math.round(Math.abs((Ne.x-De.x)*ne/Pe.geometry.scale)),le=Math.round(Math.abs((Ne.y-we.y)*le/Pe.geometry.scale));const $e=Math.trunc(de*Math.abs(Ne.x-De.x)),Ge=Math.trunc(_e*Math.abs(Ne.y-we.y)),Be=Math.trunc(fe*Math.abs(Ne.x-De.x)),ze=Math.trunc(ye*Math.abs(Ne.y-we.y));return Pe.render(ee,te,se,ne,le,ce,he,$e,Ge,Be,ze,fe,ye,be)}return null}};YD.DEFAULT_COLOR=16777215,YD.HORIZONTAL_ANGLE_DEFAULT=45,YD.VERTICAL_ANGLE_DEFAULT=30;let LandscapePlane=YD;const TC=class TC extends PlaneRasterizer{constructor(){super(...arguments),this._landscapeWidth=0,this._landscapeHeight=0,this._cachedBitmap=null}initializeDimensions(ee,te){return ee<0&&(ee=0),te<0&&(te=0),this._landscapeWidth=ee,this._landscapeHeight=te,!0}initializePlanes(){if(!this.data)return;const ee=this.data.planes;ee&&ee.length&&this.parseLandscapes(ee)}parseLandscapes(ee){if(!ee)return;const te=Math.trunc(Math.random()*654321);for(const se in ee){const ne=ee[se];if(!ne)continue;const le=ne.id,ue=ne.animatedVisualization,ce=new LandscapePlane;for(const he of ue){if(!he)continue;const de=he.size;let _e=LandscapePlane.HORIZONTAL_ANGLE_DEFAULT,fe=LandscapePlane.VERTICAL_ANGLE_DEFAULT;he.horizontalAngle!==void 0&&(_e=he.horizontalAngle),he.verticalAngle!==void 0&&(fe=he.verticalAngle);const ye=he.allLayers.length??0,be=ce.createPlaneVisualization(de,ye||0,this.getGeometry(de,_e,fe));if(be){Randomizer.setSeed(te);let Pe=0;for(;Pe<ye;){const Ne=he.allLayers[Pe];if(Ne){if(Ne.items===void 0){const we=Ne;let De=null,$e=PlaneVisualizationLayer.ALIGN_DEFAULT,Ge=LandscapePlane.DEFAULT_COLOR,Be=PlaneVisualizationLayer.DEFAULT_OFFSET;we.materialId&&(De=this.getMaterial(we.materialId)),we.color&&(Ge=we.color),we.offset&&(Be=we.offset),we.align&&(we.align==="bottom"?$e=PlaneVisualizationLayer.ALIGN_BOTTOM:we.align==="top"&&($e=PlaneVisualizationLayer.ALIGN_TOP)),be.setLayer(Pe,De,Ge,$e,Be)}else{const De=Ne.items,$e=[];if(De&&De.length){for(const Ge of De)if(Ge){Ge.id;const Be=Ge.assetId,ze=this.getCoordinateValue(Ge.x||"",Ge.randomX||""),$t=this.getCoordinateValue(Ge.y||"",Ge.randomY||""),ut=Ge.speedX,Ti=Ge.speedY;$e.push({asset:Be,x:ze,y:$t,speedX:ut,speedY:Ti})}}be.setAnimationLayer(Pe,$e,this.assetCollection)}Pe++}}}}this.addPlane(le,ce)||ce.dispose()}}getCoordinateValue(ee,te){let se=0;if(ee.length>0&&ee.charAt(ee.length-1)==="%"&&(ee=ee.substr(0,ee.length-1),se=parseFloat(ee)/100),te.length>0){const ue=Randomizer.getValues(1,0,1e4)[0]/1e4;te.charAt(te.length-1)==="%"&&(te=te.substr(0,te.length-1),se=se+ue*parseFloat(te)/100)}return se}render(ee,te,se,ne,le,ue,ce,he,de,_e=0,fe=0,ye=0,be=0,Pe=0){let Ne=this.getPlane(ne);if(Ne||(Ne=this.getPlane(TC.DEFAULT)),!Ne)return null;se&&te.clearRenderTexture(se);let we=Ne.render(ee,te,se,le,ue,ce,he,de,_e,fe,ye,be,Pe);if(we&&we!==se&&(we=new RenderTexture$1(we.baseTexture),!we))return null;let De=null;return!Ne.isStatic(ce)&&TC.UPDATE_INTERVAL>0?De=new PlaneBitmapData(we,Math.round(Pe/TC.UPDATE_INTERVAL)*TC.UPDATE_INTERVAL+TC.UPDATE_INTERVAL):De=new PlaneBitmapData(we,-1),De}getTextureIdentifier(ee,te){return te?te.x<0?ee+"_0":ee+"_1":super.getTextureIdentifier(ee,te)}};TC.LANDSCAPES_ENABLED=!0,TC.LANDSCAPE_DEFAULT_COLOR=8828617,TC.UPDATE_INTERVAL=500;let LandscapeRasterizer=TC;class PlaneVisualizationAnimationLayer{constructor(ee,te){if(this._color=0,this._isDisposed=!1,this._color=0,this._isDisposed=!1,this._items=[],ee&&te)for(const se of ee){if(!se)continue;const ne=se.asset;if(ne){const le=te.getAsset(ne);le&&this._items.push(new AnimationItem(se.x,se.y,se.speedX,se.speedY,le))}}}get disposed(){return this._isDisposed}dispose(){if(this._isDisposed=!0,this._items){for(const ee of this._items)ee&&ee.dispose();this._items=[]}}clearCache(){}render(ee,te,se,ne,le,ue,ce,he,de,_e,fe,ye){if(he>0&&de>0){let be=0;for(;be<this._items.length;){const Pe=this._items[be];if(Pe){const Ne=Pe.getPosition(he,de,_e,fe,ye);if(Ne.x=Math.trunc(Ne.x-ue),Ne.y=Math.trunc(Ne.y-ce),Pe.bitmapData){if(Ne.x>-Pe.bitmapData.width&&Ne.x<te.width&&Ne.y>-Pe.bitmapData.height&&Ne.y<te.height){const we=new Sprite$1(Pe.bitmapData.texture);we.position.set(Ne.x,Ne.y),ee.writeToRenderTexture(we,te,!1)}if(Ne.x-he>-Pe.bitmapData.width&&Ne.x-he<te.width&&Ne.y>-Pe.bitmapData.height&&Ne.y<te.height){const we=new Sprite$1(Pe.bitmapData.texture);we.position.set(Ne.x-he,Ne.y),ee.writeToRenderTexture(we,te,!1)}if(Ne.x>-Pe.bitmapData.width&&Ne.x<te.width&&Ne.y-de>-Pe.bitmapData.height&&Ne.y-de<te.height){const we=new Sprite$1(Pe.bitmapData.texture);we.position.set(Ne.x,Ne.y-de),ee.writeToRenderTexture(we,te,!1)}if(Ne.x-he>-Pe.bitmapData.width&&Ne.x-he<te.width&&Ne.y-de>-Pe.bitmapData.height&&Ne.y-de<te.height){const we=new Sprite$1(Pe.bitmapData.texture);we.position.set(Ne.x-he,Ne.y-de),ee.writeToRenderTexture(we,te,!1)}}}be++}}return te}}class RoomPlaneBitmapMask{constructor(ee,te,se){this._type=ee,this._leftSideLoc=te,this._rightSideLoc=se}get type(){return this._type}get leftSideLoc(){return this._leftSideLoc}get rightSideLoc(){return this._rightSideLoc}}class RoomPlaneRectangleMask{constructor(ee,te,se,ne){this._leftSideLoc=ee,this._rightSideLoc=te,this._leftSideLength=se,this._rightSideLength=ne}get leftSideLoc(){return this._leftSideLoc}get rightSideLoc(){return this._rightSideLoc}get leftSideLength(){return this._leftSideLength}get rightSideLength(){return this._rightSideLength}}const QT=class QT{constructor(ee,te,se,ne,le,ue,ce,he,de,_e=0,fe=0,ye=0,be=0){if(this._maskManager=null,this._width=0,this._height=0,this._textureCache=ee,this._secondaryNormals=[],this._bitmapMasks=[],this._rectangleMasks=[],this._bitmapMasksOld=[],this._rectangleMasksOld=[],this._randomSeed=de,this._bitmapData=null,this._maskBitmapData=null,this._maskChanged=!1,this._activeTexture=null,this._origin=new Vector3d,this._origin.assign(te),this._location=new Vector3d,this._location.assign(se),this._leftSide=new Vector3d,this._leftSide.assign(ne),this._rightSide=new Vector3d,this._rightSide.assign(le),this._normal=Vector3d.crossProduct(this._leftSide,this._rightSide),this._normal.length>0&&this._normal.multiply(1/this._normal.length),he!=null)for(const Pe of he){if(!Pe)continue;const Ne=new Vector3d;Ne.assign(Pe),this._secondaryNormals.push(Ne)}this._disposed=!1,this._isVisible=!1,this._id=null,this._hasTexture=!0,this._geometryUpdateId=-1,this._offset=new Point$1,this._relativeDepth=0,this._type=ue,this._color=0,this._rasterizer=null,this._canBeVisible=!0,this._cornerA=new Vector3d,this._cornerB=new Vector3d,this._cornerC=new Vector3d,this._cornerD=new Vector3d,this._width=0,this._height=0,this._textureOffsetX=_e,this._textureOffsetY=fe,this._textureMaxX=ye,this._textureMaxY=be,this._useMask=ce,this._uniqueId=++QT._uniqueIdCounter}static blend(ee,te){return ColorConverter.colorize(te,ee|4278190080)&16777215}set canBeVisible(ee){ee!==this._canBeVisible&&(this._canBeVisible||this.resetTextureCache(),this._canBeVisible=ee)}get canBeVisible(){return this._canBeVisible}get bitmapData(){return!this.visible||!this._bitmapData?null:this._bitmapData}get maskBitmapData(){return!this.visible||!this._maskBitmapData?null:this._maskBitmapData}get visible(){return this._isVisible&&this._canBeVisible}get offset(){return this._offset}get relativeDepth(){return this._relativeDepth}get color(){return this._color}set color(ee){this._color=ee}get type(){return this._type}get leftSide(){return this._leftSide}get rightSide(){return this._rightSide}get location(){return this._location}get normal(){return this._normal}get hasTexture(){return this._hasTexture}set hasTexture(ee){this._hasTexture=ee}set rasterizer(ee){this._rasterizer=ee}set maskManager(ee){this._maskManager=ee}set id(ee){ee!==this._id&&(this.resetTextureCache(),this._id=ee)}get uniqueId(){return this._uniqueId}dispose(){this._activeTexture=null,this._location=null,this._origin=null,this._leftSide=null,this._rightSide=null,this._normal=null,this._rasterizer=null,this._cornerA=null,this._cornerB=null,this._cornerC=null,this._cornerD=null,this._bitmapMasks=null,this._rectangleMasks=null,this._maskPixels=null,this._maskBitmapData&&(this._maskBitmapData.destroy(!0),this._maskBitmapData=null),this._disposed=!0}copyBitmapData(ee){return!this.visible||!this._bitmapData||!ee||this._bitmapData.width!==ee.width||this._bitmapData.height!==ee.height?null:ee}resetTextureCache(ee=null){this._activeTexture=null}getTextureIdentifier(ee){return this._rasterizer?this._rasterizer.getTextureIdentifier(ee,this.normal):ee.toString()}needsNewTexture(ee,te){if(!ee)return!1;const se=this._activeTexture;return this.updateMaskChangeStatus(),!!(this._canBeVisible&&(!se||se.timeStamp>=0&&te>se.timeStamp||this._maskChanged))}getTexture(ee,te){if(!ee)return null;let se=null;if(this.needsNewTexture(ee,te)){this.getTextureIdentifier(ee.scale);const ne=this._leftSide.length*ee.scale,le=this._rightSide.length*ee.scale,ue=ee.getCoordinatePosition(this._normal);se=this._rasterizer.render(this._uniqueId.toString(),this._textureCache,null,this._id,ne,le,ee.scale,ue,this._hasTexture,this._textureOffsetX,this._textureOffsetY,this._textureMaxX,this._textureMaxY,te),se&&this.updateMask(se.texture,ee)}else this._activeTexture&&(se=this._activeTexture);return se?(this._activeTexture=se,se.texture):null}resolveMasks(ee){if(!this._useMask)return null;const te=new PlaneDrawingData,se=0;for(;se<this._bitmapMasks.length;){const ne=this._bitmapMasks[se];if(ne){const le=this._maskManager.getMask(ne.type);if(le){const ue=le.getAssetName(ee.scale);if(ue){const ce=ee.getCoordinatePosition(this._normal),he=le.getGraphicAsset(ee.scale,ce);if(he){const de=this._maskBitmapData.width*(1-ne.leftSideLoc/this._leftSide.length),_e=this._maskBitmapData.height*(1-ne.rightSideLoc/this._rightSide.length);te.addMask(ue,new Point$1(de+he.offsetX,_e+he.offsetY),he.flipH,he.flipV)}}}}}return te}screenWidth(ee){const te=ee.getScreenPoint(new Vector3d(0,0,0)),se=ee.getScreenPoint(new Vector3d(0,1,0));return Math.round(this._leftSide.length*Math.abs(te.x-se.x))}getDrawingDatas(ee){const te=[];if(this._isVisible){const se=this.resolveMasks(ee),ne=this._rasterizer.getLayers(this._id);for(const le of ne)if(this._hasTexture&&le.getMaterial()){const ue=ee.getCoordinatePosition(this._normal),ce=le.getMaterial().getMaterialCellMatrix(ue),he=new PlaneDrawingData(se,QT.blend(this._color,le.getColor()),ce.isBottomAligned());Randomizer.setSeed(this._randomSeed);for(const de of ce.getColumns(this.screenWidth(ee))){const _e=[];for(const fe of de.getCells()){const ye=fe.getAssetName(ue);ye&&_e.push(ye)}_e.length>0&&(de.isRepeated()||_e.push(""),he.addAssetColumn(_e))}he.assetNameColumns.length>0&&te.push(he)}else{const ue=new PlaneDrawingData(se,QT.blend(this._color,le.getColor()));te.push(ue)}te.length||te.push(new PlaneDrawingData(se,this._color))}return te}update(ee,te){if(!ee||this._disposed)return!1;let se=!1;if(this._geometryUpdateId!=ee.updateId&&(se=!0),(!se||!this._canBeVisible)&&!this.visible)return!1;if(se){this._activeTexture=null;let ne=0;if(ne=Vector3d.cosAngle(ee.directionAxis,this.normal),ne>-.001)return this._isVisible?(this._isVisible=!1,!0):!1;let le=0;for(;le<this._secondaryNormals.length;){if(ne=Vector3d.cosAngle(ee.directionAxis,this._secondaryNormals[le]),ne>-.001)return this._isVisible?(this._isVisible=!1,!0):!1;le++}this.updateCorners(ee);const ce=ee.getScreenPosition(this._origin).z;let he=Math.max(this._cornerA.z,this._cornerB.z,this._cornerC.z,this._cornerD.z)-ce;this._type===QT.TYPE_FLOOR&&(he=he-(this._location.z+Math.min(0,this._leftSide.z,this._rightSide.z))*8),this._type===QT.TYPE_LANDSCAPE&&(he=he+.02),this._relativeDepth=he,this._isVisible=!0,this._geometryUpdateId=ee.updateId}if(se||this.needsNewTexture(ee,te)){if(!this._bitmapData||this._width!==this._bitmapData.width||this._height!==this._bitmapData.height){if(this._bitmapData)if(this._width!==this._bitmapData.width||this._height!==this._bitmapData.height){if(this._bitmapData.destroy(),this._bitmapData=null,this._width<1||this._height<1)return!0;this._bitmapData=this._textureCache.createAndFillRenderTexture(this._width,this._height)}else{if(this._width<1||this._height<1)return this._bitmapData.destroy(),this._bitmapData=null,!0;this._textureCache.clearAndFillRenderTexture(this._bitmapData)}else{if(this._width<1||this._height<1)return!1;this._bitmapData=this._textureCache.createAndFillRenderTexture(this._width,this._height)}if(!this._bitmapData)return!1}else this._textureCache.clearAndFillRenderTexture(this._bitmapData);Randomizer.setSeed(this._randomSeed);const ne=this.getTexture(ee,te);if(ne)this.renderTexture(ee,ne);else return this.dispose(),!1;return ne!==null||se}return!1}updateCorners(ee){this._cornerA.assign(ee.getScreenPosition(this._location)),this._cornerB.assign(ee.getScreenPosition(Vector3d.sum(this._location,this._rightSide))),this._cornerC.assign(ee.getScreenPosition(Vector3d.sum(Vector3d.sum(this._location,this._leftSide),this._rightSide))),this._cornerD.assign(ee.getScreenPosition(Vector3d.sum(this._location,this._leftSide))),this._offset=ee.getScreenPoint(this._origin),this._cornerA.x=Math.round(this._cornerA.x),this._cornerA.y=Math.round(this._cornerA.y),this._cornerB.x=Math.round(this._cornerB.x),this._cornerB.y=Math.round(this._cornerB.y),this._cornerC.x=Math.round(this._cornerC.x),this._cornerC.y=Math.round(this._cornerC.y),this._cornerD.x=Math.round(this._cornerD.x),this._cornerD.y=Math.round(this._cornerD.y),this._offset.x=Math.round(this._offset.x),this._offset.y=Math.round(this._offset.y);const te=Math.min(this._cornerA.x,this._cornerB.x,this._cornerC.x,this._cornerD.x),se=Math.max(this._cornerA.x,this._cornerB.x,this._cornerC.x,this._cornerD.x)-te,ne=Math.min(this._cornerA.y,this._cornerB.y,this._cornerC.y,this._cornerD.y),le=Math.max(this._cornerA.y,this._cornerB.y,this._cornerC.y,this._cornerD.y)-ne;this._offset.x=this._offset.x-te,this._cornerA.x=this._cornerA.x-te,this._cornerB.x=this._cornerB.x-te,this._cornerC.x=this._cornerC.x-te,this._cornerD.x=this._cornerD.x-te,this._offset.y=this._offset.y-ne,this._cornerA.y=this._cornerA.y-ne,this._cornerB.y=this._cornerB.y-ne,this._cornerC.y=this._cornerC.y-ne,this._cornerD.y=this._cornerD.y-ne,this._width=se,this._height=le}getMatrixForDimensions(ee,te){let se=this._cornerD.x-this._cornerC.x,ne=this._cornerD.y-this._cornerC.y,le=this._cornerB.x-this._cornerC.x,ue=this._cornerB.y-this._cornerC.y;(this._type===QT.TYPE_WALL||this._type===QT.TYPE_LANDSCAPE)&&(Math.abs(le-ee)<=1&&(le=ee),Math.abs(ue-ee)<=1&&(ue=ee),Math.abs(se-te)<=1&&(se=te),Math.abs(ne-te)<=1&&(ne=te));const ce=le/ee,he=ue/ee,de=se/te,_e=ne/te,fe=new Matrix$1(ce,he,de,_e);return fe.translate(this._cornerC.x,this._cornerC.y),fe}renderTexture(ee,te){this._cornerA==null||this._cornerB==null||this._cornerC==null||this._cornerD==null||te==null||this._bitmapData==null||this.draw(te,this.getMatrixForDimensions(te.width,te.height))}draw(ee,te){this._textureCache.writeToRenderTexture(new Sprite$1(ee),this._bitmapData,!0,te)}resetBitmapMasks(){this._disposed||!this._useMask||!this._bitmapMasks.length||(this._maskChanged=!0,this._bitmapMasks=[])}addBitmapMask(ee,te,se){if(!this._useMask)return!1;for(const le of this._bitmapMasks)if(le&&le.type===ee&&le.leftSideLoc===te&&le.rightSideLoc===se)return!1;const ne=new RoomPlaneBitmapMask(ee,te,se);return this._bitmapMasks.push(ne),this._maskChanged=!0,!0}resetRectangleMasks(){!this._useMask||!this._rectangleMasks.length||(this._maskChanged=!0,this._rectangleMasks=[])}addRectangleMask(ee,te,se,ne){if(this._useMask){for(const ue of this._rectangleMasks)if(ue&&ue.leftSideLoc===ee&&ue.rightSideLoc===te&&ue.leftSideLength===se&&ue.rightSideLength===ne)return!1;const le=new RoomPlaneRectangleMask(ee,te,se,ne);return this._rectangleMasks.push(le),this._maskChanged=!0,!0}return!1}updateMaskChangeStatus(){if(!this._maskChanged)return;let ee=!0;if(this._bitmapMasks.length===this._bitmapMasksOld.length)for(const te of this._bitmapMasks){if(!te)continue;let se=!1;for(const ne of this._bitmapMasksOld)if(ne&&ne.type===te.type&&ne.leftSideLoc===te.leftSideLoc&&ne.rightSideLoc===te.rightSideLoc){se=!0;break}if(!se){ee=!1;break}}else ee=!1;this._rectangleMasks.length>this._rectangleMasksOld.length&&(ee=!1),ee&&(this._maskChanged=!1)}updateMask(ee,te){if(!ee||!te||!this._useMask||!this._bitmapMasks.length&&!this._rectangleMasks.length&&!this._maskChanged||!this._maskManager)return;const se=ee.width,ne=ee.height;if(this.updateMaskChangeStatus(),(!this._maskBitmapData||this._maskBitmapData.width!==se||this._maskBitmapData.height!==ne)&&(this._maskBitmapData=this._textureCache.createAndFillRenderTexture(se,ne,"mask"),this._maskChanged=!0),this._maskChanged){this._bitmapMasksOld=[],this._rectangleMasksOld=[],this._maskBitmapData&&this._textureCache.clearAndFillRenderTexture(this._maskBitmapData),this.resetTextureCache(ee);const le=te.getCoordinatePosition(this._normal);let ue=null,ce=0,he=0,de=0;for(;de<this._bitmapMasks.length;){const _e=this._bitmapMasks[de];_e&&(ue=_e.type,ce=this._maskBitmapData.width-this._maskBitmapData.width*_e.leftSideLoc/this._leftSide.length,he=this._maskBitmapData.height-this._maskBitmapData.height*_e.rightSideLoc/this._rightSide.length,this._maskManager.updateMask(this._maskBitmapData,ue,te.scale,le,ce,he),this._bitmapMasksOld.push(new RoomPlaneBitmapMask(ue,_e.leftSideLoc,_e.rightSideLoc))),de++}for(de=0;de<this._rectangleMasks.length;){const _e=this._rectangleMasks[de];if(_e){ce=this._maskBitmapData.width-this._maskBitmapData.width*_e.leftSideLoc/this._leftSide.length,he=this._maskBitmapData.height-this._maskBitmapData.height*_e.rightSideLoc/this._rightSide.length;const fe=this._maskBitmapData.width*_e.leftSideLength/this._leftSide.length,ye=this._maskBitmapData.height*_e.rightSideLength/this._rightSide.length,be=new Sprite$1(Texture$1.WHITE);be.tint=0,be.width=fe,be.height=ye,be.position.set(ce-fe,he-ye),this._textureCache.writeToRenderTexture(be,this._maskBitmapData,!1),this._rectangleMasksOld.push(new RoomPlaneRectangleMask(_e.leftSideLength,_e.rightSideLoc,_e.leftSideLength,_e.rightSideLength))}de++}this._maskPixels=this._textureCache.getPixels(this._maskBitmapData),this._maskChanged=!1}this.combineTextureMask(ee,this._maskPixels)}combineTextureMask(ee,te){var ue,ce;if(!ee||!te)return;const se=this._textureCache.getPixels(ee);for(let he=0;he<se.length;he+=4){const de=te[he],_e=te[he+1],fe=te[he+2];te[he+3],!de&&!_e&&!fe&&(se[he+3]=0)}const ne=(ue=ee.baseTexture._glTextures[1])==null?void 0:ue.texture,le=(ce=PixiApplicationProxy.instance.renderer)==null?void 0:ce.gl;!ne||!le||(le.bindTexture(le.TEXTURE_2D,ne),le.texImage2D(le.TEXTURE_2D,0,le.RGBA,ee.width,ee.height,0,le.RGBA,le.UNSIGNED_BYTE,se),le.bindTexture(le.TEXTURE_2D,null))}};QT.ZERO_POINT=new Point$1(0,0),QT.TYPE_UNDEFINED=0,QT.TYPE_WALL=1,QT.TYPE_FLOOR=2,QT.TYPE_LANDSCAPE=3,QT._uniqueIdCounter=1;let RoomPlane=QT;class RoomVisualizationData extends Disposable{constructor(){super(),this._wallRasterizer=new WallRasterizer,this._floorRasterizer=new FloorRasterizer,this._landscapeRasterizer=new LandscapeRasterizer,this._maskManager=new PlaneMaskManager,this._initialized=!1}initialize(ee){if(!ee.roomVisualization)return!1;const te=ee.roomVisualization.wallData;te&&this._wallRasterizer.initialize(te);const se=ee.roomVisualization.floorData;se&&this._floorRasterizer.initialize(se);const ne=ee.roomVisualization.landscapeData;ne&&this._landscapeRasterizer.initialize(ne);const le=ee.roomVisualization.maskData;return le&&this._maskManager.initialize(le),!0}onDispose(){this._wallRasterizer&&(this._wallRasterizer.dispose(),this._wallRasterizer=null),this._floorRasterizer&&(this._floorRasterizer.dispose(),this._floorRasterizer=null),this._landscapeRasterizer&&(this._landscapeRasterizer.dispose(),this._landscapeRasterizer=null),this._maskManager&&(this._maskManager.dispose(),this._maskManager=null),super.onDispose()}setGraphicAssetCollection(ee){this._initialized||(this._wallRasterizer.initializeAssetCollection(ee),this._floorRasterizer.initializeAssetCollection(ee),this._landscapeRasterizer.initializeAssetCollection(ee),this._maskManager.initializeAssetCollection(ee),this._initialized=!0)}clearCache(){this._wallRasterizer&&this._wallRasterizer.clearCache(),this._floorRasterizer&&this._floorRasterizer.clearCache(),this._landscapeRasterizer&&this._landscapeRasterizer.clearCache()}get wallRasterizer(){return this._wallRasterizer}get floorRasterizer(){return this._floorRasterizer}get landscapeRasterizer(){return this._landscapeRasterizer}get maskManager(){return this._maskManager}}const qR=class qR extends RoomObjectSpriteVisualization{constructor(){super(),this._data=null,this._roomPlaneParser=new RoomPlaneParser,this._roomPlaneBitmapMaskParser=new RoomPlaneBitmapMaskParser,this._geometryUpdateId=-1,this._directionX=0,this._directionY=0,this._directionZ=0,this._floorThickness=1,this._wallThickness=1,this._holeUpdateTime=NaN,this._planes=[],this._visiblePlanes=[],this._visiblePlaneSpriteNumbers=[],this._roomScale=0,this._lastUpdateTime=-1e3,this._updateIntervalTime=250,this._wallType=null,this._floorType=null,this._landscapeType=null,this._colorBackgroundOnly=!0,this._color=16777215,this._redColor=255,this._greenColor=255,this._blueColor=255,this._typeVisibility=[],this._assetUpdateCounter=0,this._maskData=null,this._isPlaneSet=!1,this._textureCache=new PlaneTextureCache,this._typeVisibility[RoomPlane.TYPE_UNDEFINED]=!1,this._typeVisibility[RoomPlane.TYPE_FLOOR]=!0,this._typeVisibility[RoomPlane.TYPE_WALL]=!0,this._typeVisibility[RoomPlane.TYPE_LANDSCAPE]=!0}initialize(ee){return ee instanceof RoomVisualizationData?(this._data=ee,super.initialize(ee),this._data.setGraphicAssetCollection(this.asset),!0):!1}dispose(){super.dispose(),this.clearPlanes(),this._planes=null,this._visiblePlanes=null,this._visiblePlaneSpriteNumbers=null,this._roomPlaneParser&&(this._roomPlaneParser.dispose(),this._roomPlaneParser=null),this._roomPlaneBitmapMaskParser&&(this._roomPlaneBitmapMaskParser.dispose(),this._roomPlaneBitmapMaskParser=null),this._data&&(this._data.clearCache(),this._data=null),this._textureCache&&this._textureCache.clearCache()}reset(){super.reset(),this._floorType=null,this._wallType=null,this._landscapeType=null,this._maskData=null,this._geometryUpdateId=-1,this._roomScale=0}update(ee,te,se,ne){if(!this.object||!ee)return;const le=this.updateGeometry(ee),ue=this.object.model;let ce=!1;if(this.updateThickness(ue)&&(ce=!0),this.updateHole(ue)&&(ce=!0),this.initializeRoomPlanes(),ce=this.updateMasks(ue),!(te<this._lastUpdateTime+this._updateIntervalTime&&!le&&!ce)){if(this.updatePlaneTexturesAndVisibilities(ue)&&(ce=!0),this.updatePlanes(ee,le,te)&&(ce=!0),ce){let he=0;for(;he<this._visiblePlanes.length;){const de=this._visiblePlaneSpriteNumbers[he],_e=this.getSprite(de),fe=this._visiblePlanes[he];if(_e&&fe&&fe.type!==RoomPlane.TYPE_LANDSCAPE)if(this._colorBackgroundOnly){let ye=fe.color;const be=(ye&255)*this._redColor/255,Pe=(ye>>8&255)*this._greenColor/255,Ne=(ye>>16&255)*this._blueColor/255;ye=(ye>>24<<24)+(Ne<<16)+(Pe<<8)+be,_e.color=ye}else _e.color=fe.color;he++}this.updateSpriteCounter++}this.updateModelCounter=ue.updateCounter,this._lastUpdateTime=te}}updateGeometry(ee){if(!ee||this._geometryUpdateId===ee.updateId)return!1;this._geometryUpdateId=ee.updateId,this._boundingRectangle=null;const te=ee.direction;return te&&(te.x!==this._directionX||te.y!==this._directionY||te.z!==this._directionZ||ee.scale!==this._roomScale)?(this._directionX=te.x,this._directionY=te.y,this._directionZ=te.z,this._roomScale=ee.scale,!0):!1}updateThickness(ee){if(this.updateModelCounter===ee.updateCounter)return!1;const te=ee.getValue(RoomObjectVariable.ROOM_FLOOR_THICKNESS),se=ee.getValue(RoomObjectVariable.ROOM_WALL_THICKNESS);return!isNaN(te)&&!isNaN(se)&&(te!==this._floorThickness||se!==this._wallThickness)?(this._floorThickness=te,this._wallThickness=se,this.clearPlanes(),!0):!1}updateHole(ee){if(this.updateModelCounter===ee.updateCounter)return!1;const te=ee.getValue(RoomObjectVariable.ROOM_FLOOR_HOLE_UPDATE_TIME);return!isNaN(te)&&te!==this._holeUpdateTime?(this._holeUpdateTime=te,this.clearPlanes(),!0):!1}updateMasks(ee){if(this.updateModelCounter===ee.updateCounter)return!1;let te=!1;const se=ee.getValue(RoomObjectVariable.ROOM_PLANE_MASK_XML);se!==this._maskData&&(this.updatePlaneMasks(se),this._maskData=se,te=!0);const ne=ee.getValue(RoomObjectVariable.ROOM_BACKGROUND_COLOR);ne!==this._color&&(this._color=ne,this._redColor=this._color&255,this._greenColor=this._color>>8&255,this._blueColor=this._color>>16&255,te=!0);const le=ee.getValue(RoomObjectVariable.ROOM_COLORIZE_BG_ONLY)||!1;return le!==this._colorBackgroundOnly&&(this._colorBackgroundOnly=le,te=!0),te}updatePlaneTexturesAndVisibilities(ee){if(this.updateModelCounter===ee.updateCounter)return!1;const te=ee.getValue(RoomObjectVariable.ROOM_FLOOR_TYPE),se=ee.getValue(RoomObjectVariable.ROOM_WALL_TYPE),ne=ee.getValue(RoomObjectVariable.ROOM_LANDSCAPE_TYPE),le=ee.getValue(RoomObjectVariable.ROOM_FLOOR_VISIBILITY)===1,ue=ee.getValue(RoomObjectVariable.ROOM_WALL_VISIBILITY)===1,ce=ee.getValue(RoomObjectVariable.ROOM_LANDSCAPE_VISIBILITY)===1;return this.updatePlaneTypes(te,se,ne)||this.updatePlaneVisibility(le,ue,ce)}clearPlanes(){if(this._planes){for(;this._planes.length;){const ee=this._planes[0];ee&&ee.dispose(),this._planes.pop()}this._planes=[],this._planes=[]}this._isPlaneSet=!1,this._assetUpdateCounter=this._assetUpdateCounter+1,this.reset()}initializeRoomPlanes(){if(!this.object||this._isPlaneSet)return;isNaN(this._floorThickness)||(this._roomPlaneParser.floorThicknessMultiplier=this._floorThickness),isNaN(this._wallThickness)||(this._roomPlaneParser.wallThicknessMultiplier=this._wallThickness);const ee=this.object.model.getValue(RoomObjectVariable.ROOM_MAP_DATA);if(!this._roomPlaneParser.initializeFromMapData(ee))return;const te=this.getLandscapeWidth(),se=this.getLandscapeHeight();let ne=0,le=this.object.model.getValue(RoomObjectVariable.ROOM_RANDOM_SEED),ue=0;for(;ue<this._roomPlaneParser.planeCount;){const ce=this._roomPlaneParser.getPlaneLocation(ue),he=this._roomPlaneParser.getPlaneLeftSide(ue),de=this._roomPlaneParser.getPlaneRightSide(ue),_e=this._roomPlaneParser.getPlaneSecondaryNormals(ue),fe=this._roomPlaneParser.getPlaneType(ue);let ye=null;if(ce&&he&&de){const be=Vector3d.crossProduct(he,de);if(le=ToInt32(Math.trunc(le*7613+517)>>>0),ye=null,fe===RoomPlaneData.PLANE_FLOOR){const Pe=ce.x+he.x+.5,Ne=ce.y+de.y+.5,we=Math.trunc(Pe)-Pe,De=Math.trunc(Ne)-Ne;ye=new RoomPlane(this._textureCache,this.object.getLocation(),ce,he,de,RoomPlane.TYPE_FLOOR,!0,_e,le,-we,-De),be.z!==0?ye.color=qR.FLOOR_COLOR:ye.color=be.x!==0?qR.FLOOR_COLOR_RIGHT:qR.FLOOR_COLOR_LEFT,this._data&&(ye.rasterizer=this._data.floorRasterizer)}else fe===RoomPlaneData.PLANE_WALL?(ye=new RoomPlane(this._textureCache,this.object.getLocation(),ce,he,de,RoomPlane.TYPE_WALL,!0,_e,le),(he.length<1||de.length<1)&&(ye.hasTexture=!1),be.x===0&&be.y===0?ye.color=qR.WALL_COLOR_BORDER:be.y>0?ye.color=qR.WALL_COLOR_TOP:be.y===0?ye.color=qR.WALL_COLOR_SIDE:ye.color=qR.WALL_COLOR_BOTTOM,this._data&&(ye.rasterizer=this._data.wallRasterizer)):fe===RoomPlaneData.PLANE_LANDSCAPE?(ye=new RoomPlane(this._textureCache,this.object.getLocation(),ce,he,de,RoomPlane.TYPE_LANDSCAPE,!0,_e,le,ne,0,te,se),be.y>0?ye.color=qR.LANDSCAPE_COLOR_TOP:be.y==0?ye.color=qR.LANDSCAPE_COLOR_SIDE:ye.color=qR.LANDSCAPE_COLOR_BOTTOM,this._data&&(ye.rasterizer=this._data.landscapeRasterizer),ne=ne+he.length):fe==RoomPlaneData.PLANE_BILLBOARD&&(ye=new RoomPlane(this._textureCache,this.object.getLocation(),ce,he,de,RoomPlane.TYPE_WALL,!0,_e,le),(he.length<1||de.length<1)&&(ye.hasTexture=!1),be.x==0&&be.y==0?ye.color=qR.WALL_COLOR_BORDER:be.y>0?ye.color=qR.WALL_COLOR_TOP:be.y==0?ye.color=qR.WALL_COLOR_SIDE:ye.color=qR.WALL_COLOR_BOTTOM);if(ye){ye.maskManager=this._data.maskManager;let Pe=0;for(;Pe<this._roomPlaneParser.getPlaneMaskCount(ue);){const Ne=this._roomPlaneParser.getPlaneMaskLeftSideLoc(ue,Pe),we=this._roomPlaneParser.getPlaneMaskRightSideLoc(ue,Pe),De=this._roomPlaneParser.getPlaneMaskLeftSideLength(ue,Pe),$e=this._roomPlaneParser.getPlaneMaskRightSideLength(ue,Pe);ye.addRectangleMask(Ne,we,De,$e),Pe++}this._planes.push(ye)}}else return;ue++}this._isPlaneSet=!0,this.defineSprites()}defineSprites(){this.createSprites(this._planes.length);let ee=0;for(;ee<this._planes.length;){const te=this._planes[ee],se=this.getSprite(ee);te&&se&&te.leftSide&&te.rightSide&&(te.type===RoomPlane.TYPE_WALL&&(te.leftSide.length<1||te.rightSide.length<1)?se.alphaTolerance=AlphaTolerance.MATCH_NOTHING:se.alphaTolerance=AlphaTolerance.MATCH_OPAQUE_PIXELS,te.type===RoomPlane.TYPE_WALL?se.tag="plane.wall@"+(ee+1):te.type===RoomPlane.TYPE_FLOOR?se.tag="plane.floor@"+(ee+1):se.tag="plane@"+(ee+1),se.spriteType=RoomObjectSpriteType.ROOM_PLANE),ee++}}getLandscapeWidth(){let ee=0,te=0;for(;te<this._roomPlaneParser.planeCount;){if(this._roomPlaneParser.getPlaneType(te)===RoomPlaneData.PLANE_LANDSCAPE){const ne=this._roomPlaneParser.getPlaneLeftSide(te);ee+=ne.length}te++}return ee}getLandscapeHeight(){let ee=0,te=0;for(;te<this._roomPlaneParser.planeCount;){if(this._roomPlaneParser.getPlaneType(te)===RoomPlaneData.PLANE_LANDSCAPE){const ne=this._roomPlaneParser.getPlaneRightSide(te);ne.length>ee&&(ee=ne.length)}te++}return ee>5&&(ee=5),ee}updatePlaneTypes(ee,te,se){if(ee!==this._floorType?this._floorType=ee:ee=null,te!==this._wallType?this._wallType=te:te=null,se!==this._landscapeType?this._landscapeType=se:se=null,!ee&&!te&&!se)return!1;let ne=0;for(;ne<this._planes.length;){const le=this._planes[ne];le&&(le.type===RoomPlane.TYPE_FLOOR&&ee?le.id=ee:le.type===RoomPlane.TYPE_WALL&&te?le.id=te:le.type===RoomPlane.TYPE_LANDSCAPE&&se&&(le.id=se)),ne++}return!0}updatePlaneVisibility(ee,te,se){return ee===this._typeVisibility[RoomPlane.TYPE_FLOOR]&&te===this._typeVisibility[RoomPlane.TYPE_WALL]&&se===this._typeVisibility[RoomPlane.TYPE_LANDSCAPE]?!1:(this._typeVisibility[RoomPlane.TYPE_FLOOR]=ee,this._typeVisibility[RoomPlane.TYPE_WALL]=te,this._typeVisibility[RoomPlane.TYPE_LANDSCAPE]=se,this._visiblePlanes=[],this._visiblePlaneSpriteNumbers=[],!0)}updatePlanes(ee,te,se){if(!ee||!this.object)return!1;this._assetUpdateCounter++,te&&(this._visiblePlanes=[],this._visiblePlaneSpriteNumbers=[]);const ne=this._visiblePlanes.length>0;let le=this._visiblePlanes;this._visiblePlanes.length||(le=this._planes);let ue=0,ce=!1,he=0;for(;he<le.length;){let de=he;ne&&(de=this._visiblePlaneSpriteNumbers[he]);const _e=this.getSprite(de);if(_e){const fe=le[he];fe?(_e.id=fe.uniqueId,fe.update(ee,se)&&(fe.visible&&(ue=fe.relativeDepth+this.floorRelativeDepth+de/1e3,fe.type!==RoomPlane.TYPE_FLOOR&&(ue=fe.relativeDepth+this.wallRelativeDepth+de/1e3,(fe.leftSide.length<1||fe.rightSide.length<1)&&(ue=ue+qR.ROOM_DEPTH_OFFSET*.5)),this.updateSprite(_e,ee,fe,`plane ${de} ${ee.scale}`,ue)),ce=!0),_e.visible!=(fe.visible&&this._typeVisibility[fe.type])&&(_e.visible=!_e.visible,ce=!0),_e.visible&&(ne||(this._visiblePlanes.push(fe),this._visiblePlaneSpriteNumbers.push(he)))):(_e.id=0,_e.visible&&(_e.visible=!1,ce=!0))}he++}return ce}updatePlaneMasks(ee){if(!ee)return;this._roomPlaneBitmapMaskParser.initialize(ee);const te=[],se=[];let ne=!1,le=0;for(;le<this._planes.length;){const ue=this._planes[le];ue&&(ue.resetBitmapMasks(),ue.type===RoomPlane.TYPE_LANDSCAPE&&te.push(le)),le++}for(const ue of this._roomPlaneBitmapMaskParser.masks.values()){const ce=this._roomPlaneBitmapMaskParser.getMaskType(ue),he=this._roomPlaneBitmapMaskParser.getMaskLocation(ue),de=this._roomPlaneBitmapMaskParser.getMaskCategory(ue);if(he){let _e=0;for(;_e<this._planes.length;){const fe=this._planes[_e];if((fe.type===RoomPlane.TYPE_WALL||fe.type===RoomPlane.TYPE_LANDSCAPE)&&fe&&fe.location&&fe.normal){const ye=Vector3d.dif(he,fe.location);if(Math.abs(Vector3d.scalarProjection(ye,fe.normal))<.01&&fe.leftSide&&fe.rightSide){const Pe=Vector3d.scalarProjection(ye,fe.leftSide),Ne=Vector3d.scalarProjection(ye,fe.rightSide);fe.type===RoomPlane.TYPE_WALL||fe.type===RoomPlane.TYPE_LANDSCAPE&&de===RoomPlaneBitmapMaskData.HOLE?fe.addBitmapMask(ce,Pe,Ne):fe.type===RoomPlane.TYPE_LANDSCAPE&&(fe.canBeVisible||(ne=!0),fe.canBeVisible=!0,se.push(_e))}}_e++}}}for(le=0;le<te.length;){const ue=te[le];if(se.indexOf(ue)<0){const ce=this._planes[ue];ce.canBeVisible=!1,ne=!0}le++}ne&&(this._visiblePlanes=[],this._visiblePlaneSpriteNumbers=[])}updateSprite(ee,te,se,ne,le){const ue=se.offset;ee.offsetX=-ue.x,ee.offsetY=-ue.y,ee.relativeDepth=le,ee.color=se.color,ee.texture=se.bitmapData,ee.name=ne+"_"+this._assetUpdateCounter}getBoundingRectangle(){return this._boundingRectangle||(this._boundingRectangle=super.getBoundingRectangle()),new Rectangle$1(this._boundingRectangle.x,this._boundingRectangle.y,this._boundingRectangle.width,this._boundingRectangle.height)}get planes(){const ee=[];for(const te of this._visiblePlanes)ee.push(te);return ee}get floorRelativeDepth(){return qR.ROOM_DEPTH_OFFSET+.1}get wallRelativeDepth(){return qR.ROOM_DEPTH_OFFSET+.5}};qR.FLOOR_COLOR=16777215,qR.FLOOR_COLOR_LEFT=14540253,qR.FLOOR_COLOR_RIGHT=12303291,qR.WALL_COLOR_TOP=16777215,qR.WALL_COLOR_SIDE=13421772,qR.WALL_COLOR_BOTTOM=10066329,qR.WALL_COLOR_BORDER=10066329,qR.LANDSCAPE_COLOR_TOP=16777215,qR.LANDSCAPE_COLOR_SIDE=13421772,qR.LANDSCAPE_COLOR_BOTTOM=10066329,qR.ROOM_DEPTH_OFFSET=1e3;let RoomVisualization=qR;class TileCursorVisualization extends FurnitureAnimatedVisualization{constructor(){super(),this._tileHeight=0}getLayerYOffset(ee,te,se){return se===1?(this._tileHeight=this.object.model.getValue(RoomObjectVariable.TILE_CURSOR_HEIGHT),-this._tileHeight*32):super.getLayerYOffset(ee,te,se)}}const uU=class uU{constructor(){this._visualizationDatas=new Map}getVisualization(ee){const te=this.getVisualizationType(ee);return te?new te:null}getVisualizationType(ee){if(!ee)return null;let te=null;switch(ee){case RoomObjectVisualizationType.ROOM:te=RoomVisualization;break;case RoomObjectVisualizationType.TILE_CURSOR:te=TileCursorVisualization;break;case RoomObjectVisualizationType.USER:case RoomObjectVisualizationType.BOT:case RoomObjectVisualizationType.RENTABLE_BOT:te=AvatarVisualization;break;case RoomObjectVisualizationType.PET_ANIMATED:te=PetVisualization;break;case RoomObjectVisualizationType.FURNITURE_STATIC:te=FurnitureVisualization;break;case RoomObjectVisualizationType.FURNITURE_ANIMATED:te=FurnitureAnimatedVisualization;break;case RoomObjectVisualizationType.FURNITURE_RESETTING_ANIMATED:te=FurnitureResettingAnimatedVisualization;break;case RoomObjectVisualizationType.FURNITURE_BADGE_DISPLAY:te=FurnitureBadgeDisplayVisualization;break;case RoomObjectVisualizationType.FURNITURE_BG:te=FurnitureRoomBackgroundVisualization;break;case RoomObjectVisualizationType.FURNITURE_BB:te=FurnitureBBVisualization;break;case RoomObjectVisualizationType.FURNITURE_ISOMETRIC_BB:te=FurnitureIsometricBBVisualization;break;case RoomObjectVisualizationType.FURNITURE_BOTTLE:te=FurnitureBottleVisualization;break;case RoomObjectVisualizationType.FURNITURE_BUILDER_PLACEHOLDER:te=FurnitureBuilderPlaceholderVisualization;break;case RoomObjectVisualizationType.FURNITURE_COUNTER_CLOCK:te=FurnitureCounterClockVisualization;break;case RoomObjectVisualizationType.FURNITURE_CUBOID:te=FurnitureCuboidVisualization;break;case RoomObjectVisualizationType.FURNITURE_EXTERNAL_IMAGE:te=FurnitureExternalImageVisualization;break;case RoomObjectVisualizationType.FURNITURE_FIREWORKS:te=FurnitureFireworksVisualization;break;case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED_FIREWORKS:te=FurnitureGiftWrappedFireworksVisualization;break;case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED:te=FurnitureGiftWrappedVisualization;break;case RoomObjectVisualizationType.FURNITURE_GUILD_CUSTOMIZED:te=FurnitureGuildCustomizedVisualization;break;case RoomObjectVisualizationType.FURNITURE_GUILD_ISOMETRIC_BADGE:te=FurnitureGuildIsometricBadgeVisualization;break;case RoomObjectVisualizationType.FURNITURE_HABBOWHEEL:te=FurnitureHabboWheelVisualization;break;case RoomObjectVisualizationType.FURNITURE_MANNEQUIN:te=FurnitureMannequinVisualization;break;case RoomObjectVisualizationType.FURNITURE_PARTY_BEAMER:te=FurniturePartyBeamerVisualization;break;case RoomObjectVisualizationType.FURNITURE_PLANET_SYSTEM:te=FurniturePlanetSystemVisualization;break;case RoomObjectVisualizationType.FURNITURE_POSTER:te=FurniturePosterVisualization;break;case RoomObjectVisualizationType.FURNITURE_QUEUE_TILE:te=FurnitureQueueTileVisualization;break;case RoomObjectVisualizationType.FURNITURE_SCORE_BOARD:te=FurnitureScoreBoardVisualization;break;case RoomObjectVisualizationType.FURNITURE_SOUNDBLOCK:te=FurnitureSoundBlockVisualization;break;case RoomObjectVisualizationType.FURNITURE_STICKIE:te=FurnitureStickieVisualization;break;case RoomObjectVisualizationType.FURNITURE_VAL_RANDOMIZER:te=FurnitureValRandomizerVisualization;break;case RoomObjectVisualizationType.FURNITURE_VOTE_COUNTER:te=FurnitureVoteCounterVisualization;break;case RoomObjectVisualizationType.FURNITURE_VOTE_MAJORITY:te=FurnitureVoteMajorityVisualization;break;case RoomObjectVisualizationType.FURNITURE_WATER_AREA:te=FurnitureWaterAreaVisualization;break;case RoomObjectVisualizationType.FURNITURE_YOUTUBE:te=FurnitureYoutubeVisualization;break}return te||(NitroLogger.log("Unknown Visualization",ee),null)}getVisualizationData(ee,te,se){const ne=this._visualizationDatas.get(ee);if(ne)return ne;let le=null;switch(te){case RoomObjectVisualizationType.FURNITURE_STATIC:case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED:case RoomObjectVisualizationType.FURNITURE_BB:case RoomObjectVisualizationType.FURNITURE_ISOMETRIC_BB:case RoomObjectVisualizationType.FURNITURE_BG:case RoomObjectVisualizationType.FURNITURE_STICKIE:case RoomObjectVisualizationType.FURNITURE_BUILDER_PLACEHOLDER:le=new FurnitureVisualizationData;break;case RoomObjectVisualizationType.FURNITURE_ANIMATED:case RoomObjectVisualizationType.FURNITURE_RESETTING_ANIMATED:case RoomObjectVisualizationType.FURNITURE_POSTER:case RoomObjectVisualizationType.FURNITURE_HABBOWHEEL:case RoomObjectVisualizationType.FURNITURE_VAL_RANDOMIZER:case RoomObjectVisualizationType.FURNITURE_BOTTLE:case RoomObjectVisualizationType.FURNITURE_PLANET_SYSTEM:case RoomObjectVisualizationType.FURNITURE_QUEUE_TILE:case RoomObjectVisualizationType.FURNITURE_PARTY_BEAMER:case RoomObjectVisualizationType.FURNITURE_COUNTER_CLOCK:case RoomObjectVisualizationType.FURNITURE_WATER_AREA:case RoomObjectVisualizationType.FURNITURE_SCORE_BOARD:case RoomObjectVisualizationType.FURNITURE_FIREWORKS:case RoomObjectVisualizationType.FURNITURE_GIFT_WRAPPED_FIREWORKS:case RoomObjectVisualizationType.FURNITURE_GUILD_CUSTOMIZED:case RoomObjectVisualizationType.FURNITURE_GUILD_ISOMETRIC_BADGE:case RoomObjectVisualizationType.FURNITURE_VOTE_COUNTER:case RoomObjectVisualizationType.FURNITURE_VOTE_MAJORITY:case RoomObjectVisualizationType.FURNITURE_SOUNDBLOCK:case RoomObjectVisualizationType.FURNITURE_BADGE_DISPLAY:case RoomObjectVisualizationType.FURNITURE_EXTERNAL_IMAGE:case RoomObjectVisualizationType.FURNITURE_YOUTUBE:case RoomObjectVisualizationType.TILE_CURSOR:le=new FurnitureAnimatedVisualizationData;break;case RoomObjectVisualizationType.FURNITURE_MANNEQUIN:le=new FurnitureMannequinVisualizationData;break;case RoomObjectVisualizationType.ROOM:le=new RoomVisualizationData;break;case RoomObjectVisualizationType.USER:case RoomObjectVisualizationType.BOT:case RoomObjectVisualizationType.RENTABLE_BOT:le=new AvatarVisualizationData;break;case RoomObjectVisualizationType.PET_ANIMATED:le=new PetVisualizationData;break}return le?le.initialize(se)?((le instanceof AvatarVisualizationData||le instanceof FurnitureMannequinVisualizationData)&&(le.avatarManager=Nitro.instance.avatar),uU.CACHING_ENABLED&&this._visualizationDatas.set(ee,le),le):(le.dispose(),null):null}};uU.CACHING_ENABLED=!0;let RoomObjectVisualizationFactory=uU;const GI=class GI{};GI.ROOM_MIN_X="room_min_x",GI.ROOM_MAX_X="room_max_x",GI.ROOM_MIN_Y="room_min_y",GI.ROOM_MAX_Y="room_max_y",GI.ROOM_IS_PUBLIC="room_is_public",GI.ROOM_Z_SCALE="room_z_scale",GI.AD_DISPLAY_DELAY="ad_display_delay",GI.IS_PLAYING_GAME="is_playing_game",GI.RESTRICTS_DRAGGING="restricts_dragging",GI.RESTRICTS_SCALING="restricts_scaling",GI.RESTRICTED_SCALE="room_scale";let RoomVariableEnum=GI;class FurnitureStackingHeightMap{constructor(ee,te){this._width=ee,this._height=te,this._heights=[],this._isNotStackable=[],this._isRoomTile=[];let se=ee*te;for(;se>0;)this._heights.push(0),this._isNotStackable.push(!1),this._isRoomTile.push(!1),se--}dispose(){this._width=0,this._height=0,this._height=null,this._isNotStackable=null,this._isRoomTile=null}validPosition(ee,te){return ee>=0&&ee<this._width&&te>=0&&te<this._height}getTileHeight(ee,te){return this.validPosition(ee,te)?this._heights[te*this._width+ee]:0}setTileHeight(ee,te,se){this.validPosition(ee,te)&&(this._heights[te*this._width+ee]=se)}setStackingBlocked(ee,te,se){this.validPosition(ee,te)&&(this._isNotStackable[te*this._width+ee]=se)}setIsRoomTile(ee,te,se){this.validPosition(ee,te)&&(this._isRoomTile[te*this._width+ee]=se)}validateLocation(ee,te,se,ne,le,ue,ce,he,de,_e=-1){let fe=0,ye=0;if(!this.validPosition(ee,te)||!this.validPosition(ee+se-1,te+ne-1))return!1;(le<0||le>=this._width)&&(le=0),(ue<0||ue>=this._height)&&(ue=0),ce=Math.min(ce,this._width-le),he=Math.min(he,this._height-ue),_e===-1&&(_e=this.getTileHeight(ee,te));let be=te;for(;be<te+ne;){for(fe=ee;fe<ee+se;){if(fe<le||fe>=le+ce||be<ue||be>=ue+he){if(ye=be*this._width+fe,de){if(!this._isRoomTile[ye])return!1}else if(this._isNotStackable[ye]||!this._isRoomTile[ye]||Math.abs(this._heights[ye]-_e)>.01)return!1}fe++}be++}return!0}get width(){return this._width}get height(){return this._height}}const kI=class kI{constructor(){this._isDisposed=!1,this._scale=64,this._heightMap=[],this._width=0,this._height=0,this._floorHeight=0}get disposed(){return this._isDisposed}get scale(){return this._scale}set scale(ee){this._scale=ee}dispose(){this.reset(),this._isDisposed=!0}initialize(ee,te,se){if(ee<=this._width&&te<=this._height){this._width=ee,this._height=te,this._floorHeight=se;return}this.reset();let ne=0;for(;ne<te;){const le=[];this._heightMap.push(le);let ue=0;for(;ue<ee;)le.push(0),ue++;ne++}this._width=ee,this._height=te,this._floorHeight=se}reset(){this._heightMap=[]}setHeight(ee,te,se){if(ee<0||ee>=this._width||te<0||te>=this._height)return!1;const ne=this._heightMap[te];return ne?(ne[ee]=se,!0):!1}getHeight(ee,te){if(ee<0||ee>=this._width||te<0||te>=this._height)return 0;const se=this._heightMap[te];return se?se[ee]:0}getLocation(ee,te,se,ne,le){if(ee==0&&te==0){ee=this._width,te=this._height;const _e=Math.round(this.scale/10);if(le==kI.R){let fe=this._width-1;for(;fe>=0;){let ye=1;for(;ye<this._height;){if(this.getHeight(fe,ye)<=this._floorHeight){ye-1<te&&(ee=fe,te=ye-1);break}ye++}fe--}ne=ne+(this.scale/4-_e/2),se=se+this.scale/2}else{let fe=this._height-1;for(;fe>=0;){let ye=1;for(;ye<this._width;){if(this.getHeight(ye,fe)<=this._floorHeight){ye-1<ee&&(ee=ye-1,te=fe);break}ye++}fe--}ne=ne+(this.scale/4-_e/2),se=se-_e}}let ue=ee,ce=te,he=this.getHeight(ee,te);return le==kI.R?(ue=ue+(se/(this._scale/2)-.5),ce=ce+.5,he=he-(ne-se/2)/(this._scale/2)):(ce=ce+((this._scale/2-se)/(this._scale/2)-.5),ue=ue+.5,he=he-(ne-(this._scale/2-se)/2)/(this._scale/2)),new Vector3d(ue,ce,he)}getLocationOldFormat(ee,te,se){let ne,le,ue=0,ce=0;le=Math.ceil(ee),ue=le-ee;let he,de,_e,fe=0;for(ne=0;ne<this._width;){if(le>=0&&le<this._height){if(this.getHeight(ne,le)<=this._floorHeight){he=ne-1,de=le,ce=ne,se=kI.L;break}if(this.getHeight(ne,le+1)<=this._floorHeight){he=ne,de=le,ce=de-ee,se=kI.R;break}}le++,ne++}const ye=this.scale/2*ue;let be=-ce*this.scale/2;return be=be+-te*18/32*this.scale/2,fe=this.getHeight(he,de),_e=fe*this.scale/2+be,se==kI.R?_e=_e+ue*this.scale/4:_e=_e+(1-ue)*this.scale/4,this.getLocation(he,de,ye,_e,se)}getOldLocation(ee,te){if(ee==null)return null;let se=0,ne=0,le=0,ue=0,ce="",he=0;if(te==90)se=Math.floor(ee.x-.5),ne=Math.floor(ee.y+.5),he=this.getHeight(se,ne),le=this._scale/2-(ee.y-ne+.5)*(this._scale/2),ue=(he-ee.z)*(this._scale/2)+(this._scale/2-le)/2,ce=kI.L;else if(te==180)se=Math.floor(ee.x+.5),ne=Math.floor(ee.y-.5),he=this.getHeight(se,ne),le=(ee.x+.5-se)*(this._scale/2),ue=(he-ee.z)*(this._scale/2)+le/2,ce=kI.R;else return null;return[se,ne,le,ue,ce]}getOldLocationString(ee,te){const se=this.getOldLocation(ee,te);if(se==null)return null;const ne=Math.trunc(se[0]),le=Math.trunc(se[1]),ue=Math.trunc(se[2]),ce=Math.trunc(se[3]),he=se[4];return":w="+ne+","+le+" l="+ue+","+ce+" "+he}getDirection(ee){return ee==kI.R?180:90}getFloorAltitude(ee,te){const se=this.getHeight(ee,te),ne=se+1;return se+(Math.trunc(this.getHeight(ee-1,te-1))==ne||Math.trunc(this.getHeight(ee,te-1))==ne||Math.trunc(this.getHeight(ee+1,te-1))==ne||Math.trunc(this.getHeight(ee-1,te))==ne||Math.trunc(this.getHeight(ee+1,te))==ne||Math.trunc(this.getHeight(ee-1,te+1))==ne||Math.trunc(this.getHeight(ee,te+1))==ne||Math.trunc(this.getHeight(ee+1,te+1))==ne?.5:0)}isRoomTile(ee,te){return ee>=0&&ee<this._width&&te>=0&&te<this._height&&this._heightMap[te][ee]>=0}};kI.DEFAULT_SCALE=32,kI.L="l",kI.R="r";let LegacyWallGeometry=kI;const cU=class cU{constructor(){this._targetId=-1,this._targetCategory=-2,this._targetLoc=null,this._moveDistance=0,this._previousMoveSpeed=0,this._maintainPreviousMoveSpeed=!1,this._currentLoc=null,this._limitedLocX=!1,this._limitedLocY=!1,this._centeredLocX=!1,this._centeredLocY=!1,this._screenWd=0,this._screenHt=0,this._scale=0,this._roomWd=0,this._roomHt=0,this._geometryUpdateId=-1,this._scaleChanged=!1,this._targetObjectLoc=new Vector3d}get location(){return this._currentLoc}get targetId(){return this._targetId}set targetId(ee){this._targetId=ee}get targetCategory(){return this._targetCategory}set targetCategory(ee){this._targetCategory=ee}get targetObjectLoc(){return this._targetObjectLoc}set targetObjectLoc(ee){this._targetObjectLoc.assign(ee)}get limitedLocationX(){return this._limitedLocX}set limitedLocationX(ee){this._limitedLocX=ee}get limitedLocationY(){return this._limitedLocY}set limitedLocationY(ee){this._limitedLocY=ee}get centeredLocX(){return this._centeredLocX}set centeredLocX(ee){this._centeredLocX=ee}get centeredLocY(){return this._centeredLocY}set centeredLocY(ee){this._centeredLocY=ee}get screenWd(){return this._screenWd}set screenWd(ee){this._screenWd=ee}get screenHt(){return this._screenHt}set screenHt(ee){this._screenHt=ee}get scale(){return this._scale}set scale(ee){this._scale!=ee&&(this._scale=ee,this._scaleChanged=!0)}get roomWd(){return this._roomWd}set roomWd(ee){this._roomWd=ee}get roomHt(){return this._roomHt}set roomHt(ee){this._roomHt=ee}get geometryUpdateId(){return this._geometryUpdateId}set geometryUpdateId(ee){this._geometryUpdateId=ee}get isMoving(){return this._targetLoc!=null&&this._currentLoc!=null}set target(ee){let te;this._targetLoc==null&&(this._targetLoc=new Vector3d),(this._targetLoc.x!=ee.x||this._targetLoc.y!=ee.y||this._targetLoc.z!=ee.z)&&(this._targetLoc.assign(ee),te=Vector3d.dif(this._targetLoc,this._currentLoc),this._moveDistance=te.length,this._maintainPreviousMoveSpeed=!0)}dispose(){this._targetLoc=null,this._currentLoc=null}initializeLocation(ee){this._currentLoc==null&&(this._currentLoc=new Vector3d,this._currentLoc.assign(ee))}resetLocation(ee){this._currentLoc==null&&(this._currentLoc=new Vector3d),this._currentLoc.assign(ee)}update(ee,te){let se,ne,le,ue,ce;if(this._followDuration>0&&this._targetLoc!=null&&this._currentLoc!=null){if(this._scaleChanged){this._scaleChanged=!1,this._currentLoc=this._targetLoc,this._targetLoc=null;return}se=Vector3d.dif(this._targetLoc,this._currentLoc),se.length>this._moveDistance&&(this._moveDistance=se.length),se.length<=te?(this._currentLoc=this._targetLoc,this._targetLoc=null,this._previousMoveSpeed=0):(ne=Math.sin(Math.PI*se.length/this._moveDistance),le=te*.5,ue=this._moveDistance/cU.MOVE_SPEED_DENOMINATOR,ce=le+(ue-le)*ne,this._maintainPreviousMoveSpeed&&(ce<this._previousMoveSpeed?(ce=this._previousMoveSpeed,ce>se.length&&(ce=se.length)):this._maintainPreviousMoveSpeed=!1),this._previousMoveSpeed=ce,se.divide(se.length),se.multiply(ce),this._currentLoc=Vector3d.sum(this._currentLoc,se))}}reset(){this._geometryUpdateId=-1}activateFollowing(ee){this._followDuration=ee}};cU.MOVE_SPEED_DENOMINATOR=12;let RoomCamera=cU;class RoomData{constructor(ee,te){this._roomId=ee,this._data=te,this._floorType=null,this._wallType=null,this._landscapeType=null}get roomId(){return this._roomId}get data(){return this._data}get floorType(){return this._floorType}set floorType(ee){this._floorType=ee}get wallType(){return this._wallType}set wallType(ee){this._wallType=ee}get landscapeType(){return this._landscapeType}set landscapeType(ee){this._landscapeType=ee}}class RoomFurnitureData{constructor(ee,te,se,ne,le,ue,ce,he=NaN,de=-1,_e=0,fe=0,ye="",be=!0,Pe=!0,Ne=-1){this._id=ee,this._typeId=te,this._type=se,this._state=ue,this._data=ce,this._extra=he,this._expiryTime=de,this._usagePolicy=_e,this._ownerId=fe,this._ownerName=ye,this._synchronized=be,this._realRoomObject=Pe,this._sizeZ=Ne,this._location=new Vector3d,this._direction=new Vector3d,this._location.assign(ne),this._direction.assign(le)}get id(){return this._id}get typeId(){return this._typeId}get type(){return this._type}get location(){return this._location}get direction(){return this._direction}get state(){return this._state}get data(){return this._data}get extra(){return this._extra}get expiryTime(){return this._expiryTime}get usagePolicy(){return this._usagePolicy}get ownerId(){return this._ownerId}get ownerName(){return this._ownerName}get synchronized(){return this._synchronized}get realRoomObject(){return this._realRoomObject}get sizeZ(){return this._sizeZ}}class TileObjectMap{constructor(ee,te){this._tileObjectMap=new Map;let se=0;for(;se<te;)this._tileObjectMap.set(se,new Map),se++;this._width=ee,this._height=te}clear(){for(const ee of this._tileObjectMap.values())ee&&ee.clear();this._tileObjectMap.clear()}populate(ee){this.clear();for(const te of ee)this.addRoomObject(te)}dispose(){this._tileObjectMap=null,this._width=0,this._height=0}getObjectIntTile(ee,te){if(ee>=0&&ee<this._width&&te>=0&&te<this._height){const se=this._tileObjectMap.get(te);if(se)return se.get(ee)}return null}setObjectInTile(ee,te,se){if(!se.isReady){NitroLogger.log("Assigning non initialized object to tile object map!");return}if(ee>=0&&ee<this._width&&te>=0&&te<this._height){const ne=this._tileObjectMap.get(te);ne&&ne.set(ee,se)}}addRoomObject(ee){if(!ee||!ee.model||!ee.isReady)return;const te=ee.getLocation(),se=ee.getDirection();if(!te||!se)return;let ne=ee.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X),le=ee.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);ne<1&&(ne=1),le<1&&(le=1);const ue=Math.trunc(se.x+45)%360/90;(ue===1||ue===3)&&([ne,le]=[le,ne]);let ce=te.y;for(;ce<te.y+le;){let he=te.x;for(;he<te.x+ne;){const de=this.getObjectIntTile(he,ce);(!de||de!==ee&&de.getLocation().z<=te.z)&&this.setObjectInTile(he,ce,ee),he++}ce++}}}class RoomInstanceData{constructor(ee){this._roomId=ee,this._modelName=null,this._legacyGeometry=new LegacyWallGeometry,this._tileObjectMap=null,this._roomCamera=new RoomCamera,this._selectedObject=null,this._placedObject=null,this._furnitureStackingHeightMap=null,this._floorStack=new Map,this._wallStack=new Map,this._mouseButtonCursorOwners=[]}dispose(){}setModelName(ee){this._modelName=ee}setSelectedObject(ee){this._selectedObject&&this._selectedObject.dispose(),this._selectedObject=ee}setPlacedObject(ee){this._placedObject&&this._placedObject.dispose(),this._placedObject=ee}setFurnitureStackingHeightMap(ee){this._furnitureStackingHeightMap&&this._furnitureStackingHeightMap.dispose(),this._furnitureStackingHeightMap=ee,this._tileObjectMap&&this._tileObjectMap.dispose(),this._furnitureStackingHeightMap&&(this._tileObjectMap=new TileObjectMap(this._furnitureStackingHeightMap.width,this._furnitureStackingHeightMap.height))}addPendingFurnitureFloor(ee){ee&&(this._floorStack.delete(ee.id),this._floorStack.set(ee.id,ee))}removePendingFunitureFloor(ee){const te=this._floorStack.get(ee);return te?(this._floorStack.delete(ee),te):null}getPendingFurnitureFloor(ee){const te=this._floorStack.get(ee);return te?(this._floorStack.delete(ee),te):null}getNextPendingFurnitureFloor(){if(!this._floorStack.size)return null;const ee=this._floorStack.keys();return this.getPendingFurnitureFloor(ee.next().value)}addPendingFurnitureWall(ee){ee&&(this._wallStack.delete(ee.id),this._wallStack.set(ee.id,ee))}removePendingFurnitureWall(ee){const te=this._wallStack.get(ee);return te?(this._wallStack.delete(ee),te):null}getPendingFurnitureWall(ee){const te=this._wallStack.get(ee);return te?(this._wallStack.delete(ee),te):null}getNextPendingFurnitureWall(){if(!this._wallStack.size)return null;const ee=this._wallStack.keys();return this.getPendingFurnitureWall(ee.next().value)}addButtonMouseCursorOwner(ee){return this._mouseButtonCursorOwners.indexOf(ee)===-1?(this._mouseButtonCursorOwners.push(ee),!0):!1}removeButtonMouseCursorOwner(ee){const te=this._mouseButtonCursorOwners.indexOf(ee);return te>-1?(this._mouseButtonCursorOwners.splice(te,1),!0):!1}hasButtonMouseCursorOwners(){return this._mouseButtonCursorOwners.length>0}get roomId(){return this._roomId}get modelName(){return this._modelName}get legacyGeometry(){return this._legacyGeometry}get tileObjectMap(){return this._tileObjectMap}get roomCamera(){return this._roomCamera}get selectedObject(){return this._selectedObject}get placedObject(){return this._placedObject}get furnitureStackingHeightMap(){return this._furnitureStackingHeightMap}}class RoomObjectBadgeImageAssetListener{constructor(ee,te){this._object=ee,this._groupBadge=te}get object(){return this._object}get groupBadge(){return this._groupBadge}}class SelectedRoomObjectData{constructor(ee,te,se,ne,le,ue=0,ce=null,he=null,de=-1,_e=-1,fe=null){this._id=0,this._category=0,this._operation="",this._loc=null,this._dir=null,this._typeId=0,this._instanceData=null,this._stuffData=null,this._state=-1,this._animFrame=-1,this._posture=null,this._id=ee,this._category=te,this._operation=se,this._loc=new Vector3d,this._loc.assign(ne),this._dir=new Vector3d,this._dir.assign(le),this._typeId=ue,this._instanceData=ce,this._stuffData=he,this._state=de,this._animFrame=_e,this._posture=fe}get id(){return this._id}get category(){return this._category}get operation(){return this._operation}get loc(){return this._loc}get dir(){return this._dir}get typeId(){return this._typeId}get instanceData(){return this._instanceData}get stuffData(){return this._stuffData}get state(){return this._state}get animFrame(){return this._animFrame}get posture(){return this._posture}dispose(){this._loc=null,this._dir=null}}const JT=class JT{constructor(){this.spriteCount=0,this.externalImageCount=0}static addMannequinSprites(ee,te){const se=[];for(const ne of ee)if(ne)if(ne.type==="boutique_mannequin1"&&ne.name.indexOf("mannequin_")===0){const le=te.getRoomObject(te.activeRoomId,ne.objectId,RoomObjectCategory.FLOOR);if(le){const ue=le.visualization.getSpriteList();if(ue)for(const ce of ue)ce.x=ce.x+(ne.x+ne.width/2+JT.MANNEQUIN_MAGIC_X_OFFSET),ce.y=ce.y+(ne.y+ne.height+JT.MANNEQUIN_MAGIC_Y_OFFSET),ce.z=ce.z+ne.z,se.push(ce)}}else se.push(ne);return se}static sortSpriteDataObjects(ee,te){return ee.z<te.z?1:(ee.z>te.z,-1)}static isSpriteInViewPort(ee,te,se){return!0}static sortQuadPoints(ee,te,se,ne){const le=[];if(ee.x==te.x?le.push(ee,se,te,ne):ee.x==se.x?le.push(ee,te,se,ne):te.x<ee.x&&te.y>ee.y||te.x>ee.x&&te.y<ee.y?le.push(ee,se,te,ne):le.push(ee,te,se,ne),le[0].x<le[1].x){let ue=le[0];le[0]=le[1],le[1]=ue,ue=le[2],le[2]=le[3],le[3]=ue}if(le[0].y<le[2].y){let ue=le[0];le[0]=le[2],le[2]=ue,ue=le[1],le[1]=le[3],le[3]=ue}return le}getFurniData(ee,te,se,ne){const le=[];let ue=te.getSortableSpriteList();const ce=se.getRoomObjects(se.activeRoomId,RoomObjectCategory.UNIT);for(const he of ce)if(he.id!==ne){const de=he.visualization.getSpriteList();if(de){let _e=0,fe=0;for(const be of ue)if(be.name==="avatar_"+he.id){_e=be.z,fe=be.y+be.height-te.geometry.scale/4;break}const ye=se.getRoomObjectScreenLocation(se.activeRoomId,he.id,RoomObjectCategory.UNIT,te.id);if(ye){fe===0&&(fe=ye.y);for(const be of de)be.x=be.x+(ye.x-te.screenOffsetX),be.y=be.y+fe,be.z=be.z+_e,(be.name.indexOf("h_std_fx29_")===0||be.name.indexOf("h_std_fx185_")===0)&&(be.y=be.y+JT.AVATAR_WATER_EFFECT_MAGIC_Y_OFFSET),ue.push(be)}}}ue=JT.addMannequinSprites(ue,se),ue.sort(JT.sortSpriteDataObjects);for(const he of ue)he.name!==null&&he.name.length>0&&he.name.indexOf("tile_cursor_")!==0&&JT.isSpriteInViewPort(he,ee,te)&&(ne<0||he.objectId!=ne)&&(le.push(this.getSpriteDataObject(he,ee,te,se)),this.maxZ||(this.maxZ=he.z),this.spriteCount++);return JSON.stringify(le)}getRoomRenderingModifiers(ee){return JSON.stringify(new Object)}getSpriteDataObject(ee,te,se,ne){let le=[];const ue={};let ce=ee.name;return ee.name.indexOf("@")!==-1&&(le=ee.name.split("@"),ce=le[0],le[1]),ue.name=ce,ue.x=ee.x-te.x,ue.y=ee.y-te.y,ue.x=ue.x+se.screenOffsetX,ue.y=ue.y+se.screenOffsetY,ue.z=ee.z,ee.alpha&&ee.alpha.toString()!=="255"&&(ue.alpha=ee.alpha),ee.flipH&&(ue.flipH=ee.flipH),ee.skew&&(ue.skew=ee.skew),ee.frame&&(ue.frame=ee.frame),ee.color&&ee.color.length>0&&(ue.color=parseInt(ee.color)),ee.blendMode&&ee.blendMode!=="normal"&&(ue.blendMode=ee.blendMode),ce.indexOf("http")===0&&(ue.width=ee.width,ue.height=ee.height,this.externalImageCount++,this.externalImageCount>JT.MAX_EXTERNAL_IMAGE_COUNT&&(ue.name="box")),ee.posture&&(ue.posture=ee.posture),ue}makeBackgroundPlane(ee,te,se){const ne=new Point$1(0,0),le=new Point$1(ee.width,0),ue=new Point$1(0,ee.height),ce=new Point$1(ee.width,ee.height),he=JT.sortQuadPoints(ne,le,ue,ce);let de=0;se.length>0?(de=se[0].z,this.maxZ&&(de=Math.max(this.maxZ,de))):de=this.maxZ?this.maxZ:0,de=de+(this.spriteCount*1.776104+se.length*2.31743);const _e=new PlaneDrawingData(null,te);return _e.cornerPoints=he,_e.z=de,_e}sortRoomPlanes(ee,te,se){const ne=new Map;let le=1;this.maxZ&&(le=le+this.maxZ);for(const he of ee){const de={plane:he,z:le};ne.set(he.uniqueId,de)}const ue=te.getPlaneSortableSprites();ue.sort((he,de)=>de.z-he.z),ue.reverse();let ce=[];for(const he of ue){const de=he.sprite;if(de){const _e=ne.get(de.id);_e&&(ne.delete(de.id),_e.z=he.z,ce.push(_e))}}return ce=ce.concat(Array.from(ne.values())),ce}getRoomPlanes(ee,te,se,ne){const le=[],ce=se.getRoomObject(se.activeRoomId,RoomEngine.ROOM_OBJECT_ID,RoomObjectCategory.ROOM).visualization;if(ce){const he=te.geometry,de=this.sortRoomPlanes(ce.planes,te,se),_e=PixiApplicationProxy.instance.stage;for(const fe of de){const ye=fe.plane,be=[],Pe=Vector3d.sum(ye.location,ye.leftSide),Ne=he.getScreenPoint(ye.location),we=he.getScreenPoint(Pe),De=he.getScreenPoint(Vector3d.sum(ye.location,ye.rightSide)),$e=he.getScreenPoint(Vector3d.sum(Pe,ye.rightSide));be.push(Ne,we,De,$e);let Ge=0,Be=0;for(const ze of be)ze.x+=_e.width/2,ze.y+=_e.height/2,ze.x+=te.screenOffsetX,ze.y+=te.screenOffsetY,ze.x+=-ee.x,ze.y+=-ee.y,ze.x<0?Ge--:ze.x>=ee.width&&Ge++,ze.y<0?Be--:ze.y>=ee.height&&Be++;if(!(Math.abs(Ge)===4||Math.abs(Be)===4)){const ze=JT.sortQuadPoints(Ne,we,De,$e);for(const $t of ye.getDrawingDatas(he))$t.cornerPoints=ze,$t.z=fe.z,le.push($t)}}le.unshift(this.makeBackgroundPlane(ee,ne,le))}return le}};JT.MANNEQUIN_MAGIC_X_OFFSET=1,JT.MANNEQUIN_MAGIC_Y_OFFSET=-16,JT.AVATAR_WATER_EFFECT_MAGIC_Y_OFFSET=-52,JT.MAX_EXTERNAL_IMAGE_COUNT=30;let SpriteDataCollector=JT;class RoomMessageHandler extends Disposable{constructor(ee){super(),this._connection=null,this._roomCreator=ee,this._planeParser=new RoomPlaneParser,this._latestEntryTileEvent=null,this._currentRoomId=0,this._ownUserId=0,this._initialConnection=!0,this._guideId=-1,this._requesterId=-1}onDispose(){super.onDispose(),this._connection=null,this._roomCreator=null,this._latestEntryTileEvent=null,this._planeParser&&(this._planeParser.dispose(),this._planeParser=null)}setConnection(ee){this._connection||!ee||(this._connection=ee,this._connection.addMessageEvent(new UserInfoEvent(this.onUserInfoEvent.bind(this))),this._connection.addMessageEvent(new RoomReadyMessageEvent(this.onRoomReadyMessageEvent.bind(this))),this._connection.addMessageEvent(new RoomPaintEvent(this.onRoomPaintEvent.bind(this))),this._connection.addMessageEvent(new FloorHeightMapEvent(this.onRoomModelEvent.bind(this))),this._connection.addMessageEvent(new RoomHeightMapEvent(this.onRoomHeightMapEvent.bind(this))),this._connection.addMessageEvent(new RoomHeightMapUpdateEvent(this.onRoomHeightMapUpdateEvent.bind(this))),this._connection.addMessageEvent(new RoomVisualizationSettingsEvent(this.onRoomThicknessEvent.bind(this))),this._connection.addMessageEvent(new RoomEntryTileMessageEvent(this.onRoomDoorEvent.bind(this))),this._connection.addMessageEvent(new ObjectsRollingEvent(this.onRoomRollingEvent.bind(this))),this._connection.addMessageEvent(new ObjectsDataUpdateEvent(this.onObjectsDataUpdateEvent.bind(this))),this._connection.addMessageEvent(new FurnitureAliasesEvent(this.onFurnitureAliasesEvent.bind(this))),this._connection.addMessageEvent(new FurnitureFloorAddEvent(this.onFurnitureFloorAddEvent.bind(this))),this._connection.addMessageEvent(new FurnitureFloorEvent(this.onFurnitureFloorEvent.bind(this))),this._connection.addMessageEvent(new FurnitureFloorRemoveEvent(this.onFurnitureFloorRemoveEvent.bind(this))),this._connection.addMessageEvent(new FurnitureFloorUpdateEvent(this.onFurnitureFloorUpdateEvent.bind(this))),this._connection.addMessageEvent(new FurnitureWallAddEvent(this.onFurnitureWallAddEvent.bind(this))),this._connection.addMessageEvent(new FurnitureWallEvent(this.onFurnitureWallEvent.bind(this))),this._connection.addMessageEvent(new FurnitureWallRemoveEvent(this.onFurnitureWallRemoveEvent.bind(this))),this._connection.addMessageEvent(new FurnitureWallUpdateEvent(this.onFurnitureWallUpdateEvent.bind(this))),this._connection.addMessageEvent(new FurnitureDataEvent(this.onFurnitureDataEvent.bind(this))),this._connection.addMessageEvent(new ItemDataUpdateMessageEvent(this.onItemDataUpdateMessageEvent.bind(this))),this._connection.addMessageEvent(new OneWayDoorStatusMessageEvent(this.onOneWayDoorStatusMessageEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitDanceEvent(this.onRoomUnitDanceEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitEffectEvent(this.onRoomUnitEffectEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitEvent(this.onRoomUnitEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitExpressionEvent(this.onRoomUnitExpressionEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitHandItemEvent(this.onRoomUnitHandItemEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitIdleEvent(this.onRoomUnitIdleEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitInfoEvent(this.onRoomUnitInfoEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitNumberEvent(this.onRoomUnitNumberEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitRemoveEvent(this.onRoomUnitRemoveEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitStatusEvent(this.onRoomUnitStatusEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitChatEvent(this.onRoomUnitChatEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitChatShoutEvent(this.onRoomUnitChatEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitChatWhisperEvent(this.onRoomUnitChatEvent.bind(this))),this._connection.addMessageEvent(new RoomUnitTypingEvent(this.onRoomUnitTypingEvent.bind(this))),this._connection.addMessageEvent(new PetFigureUpdateEvent(this.onPetFigureUpdateEvent.bind(this))),this._connection.addMessageEvent(new PetExperienceEvent(this.onPetExperienceEvent.bind(this))),this._connection.addMessageEvent(new YouArePlayingGameEvent(this.onYouArePlayingGameEvent.bind(this))),this._connection.addMessageEvent(new DiceValueMessageEvent(this.onDiceValueMessageEvent.bind(this))),this._connection.addMessageEvent(new IgnoreResultEvent(this.onIgnoreResultEvent.bind(this))),this._connection.addMessageEvent(new GuideSessionStartedMessageEvent(this.onGuideSessionStartedMessageEvent.bind(this))),this._connection.addMessageEvent(new GuideSessionEndedMessageEvent(this.onGuideSessionEndedMessageEvent.bind(this))),this._connection.addMessageEvent(new GuideSessionErrorMessageEvent(this.onGuideSessionErrorMessageEvent.bind(this))))}setRoomId(ee){this._currentRoomId!==0&&this._roomCreator&&this._roomCreator.destroyRoom(this._currentRoomId),this._currentRoomId=ee,this._latestEntryTileEvent=null}clearRoomId(){this._currentRoomId=0,this._latestEntryTileEvent=null}onUserInfoEvent(ee){if(!(ee instanceof UserInfoEvent)||!ee.connection)return;const te=ee.getParser();te&&(this._ownUserId=te.userInfo.userId)}onRoomReadyMessageEvent(ee){const te=ee.getParser();if(this._currentRoomId!==te.roomId&&this.setRoomId(te.roomId),this._roomCreator&&this._roomCreator.setRoomInstanceModelName(te.roomId,te.name),this._initialConnection){ee.connection.send(new FurnitureAliasesComposer),this._initialConnection=!1;return}ee.connection.send(new GetRoomEntryDataMessageComposer)}onRoomPaintEvent(ee){if(!(ee instanceof RoomPaintEvent))return;const te=ee.getParser();if(!te)return;const se=te.floorType,ne=te.wallType,le=te.landscapeType;this._roomCreator&&this._roomCreator.updateRoomInstancePlaneType(this._currentRoomId,se,ne,le)}onRoomModelEvent(ee){if(!(ee instanceof FloorHeightMapEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();if(!te)return;const se=this._roomCreator.getLegacyWallGeometry(this._currentRoomId);if(!se)return;this._planeParser.reset();const ne=te.width,le=te.height;this._planeParser.initializeTileMap(ne,le);let ue=null;this._latestEntryTileEvent&&(ue=this._latestEntryTileEvent.getParser());let ce=-1,he=-1,de=0,_e=0,fe=0;for(;fe<le;){let Pe=0;for(;Pe<ne;){const Ne=te.getHeight(Pe,fe);(fe>0&&fe<le-1||Pe>0&&Pe<ne-1)&&Ne!=RoomPlaneParser.TILE_BLOCKED&&(ue==null||Pe==ue.x&&fe==ue.y)&&(te.getHeight(Pe,fe-1)==RoomPlaneParser.TILE_BLOCKED&&te.getHeight(Pe-1,fe)==RoomPlaneParser.TILE_BLOCKED&&te.getHeight(Pe,fe+1)==RoomPlaneParser.TILE_BLOCKED&&(ce=Pe+.5,he=fe,de=Ne,_e=90),te.getHeight(Pe,fe-1)==RoomPlaneParser.TILE_BLOCKED&&te.getHeight(Pe-1,fe)==RoomPlaneParser.TILE_BLOCKED&&te.getHeight(Pe+1,fe)==RoomPlaneParser.TILE_BLOCKED&&(ce=Pe,he=fe+.5,de=Ne,_e=180)),this._planeParser.setTileHeight(Pe,fe,Ne),Pe++}fe++}this._planeParser.setTileHeight(Math.floor(ce),Math.floor(he),de),this._planeParser.initializeFromTileData(te.wallHeight),this._planeParser.setTileHeight(Math.floor(ce),Math.floor(he),de+this._planeParser.wallHeight),te.scale===64?(this._planeParser.restrictsDragging=!0,this._planeParser.restrictsScaling=!0,this._planeParser.restrictedScale=.5):(this._planeParser.restrictsDragging=!1,this._planeParser.restrictsScaling=!1,this._planeParser.restrictedScale=1),se.scale=LegacyWallGeometry.DEFAULT_SCALE,se.initialize(ne,le,this._planeParser.floorHeight);let ye=te.height-1;for(;ye>=0;){let Pe=te.width-1;for(;Pe>=0;)se.setHeight(Pe,ye,this._planeParser.getTileHeight(Pe,ye)),Pe--;ye--}const be=this._planeParser.getMapData();be.doors.push({x:ce,y:he,z:de,dir:_e}),this._roomCreator.createRoomInstance(this._currentRoomId,be)}onRoomHeightMapEvent(ee){if(!(ee instanceof RoomHeightMapEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();if(!te)return;const se=te.width,ne=te.height,le=new FurnitureStackingHeightMap(se,ne);let ue=0;for(;ue<ne;){let ce=0;for(;ce<se;)le.setTileHeight(ce,ue,te.getTileHeight(ce,ue)),le.setStackingBlocked(ce,ue,te.getStackingBlocked(ce,ue)),le.setIsRoomTile(ce,ue,te.isRoomTile(ce,ue)),ce++;ue++}this._roomCreator.setFurnitureStackingHeightMap(this._currentRoomId,le)}onRoomHeightMapUpdateEvent(ee){if(!(ee instanceof RoomHeightMapUpdateEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();if(!te)return;const se=this._roomCreator.getFurnitureStackingHeightMap(this._currentRoomId);if(se){for(;te.next();)se.setTileHeight(te.x,te.y,te.tileHeight()),se.setStackingBlocked(te.x,te.y,te.isStackingBlocked()),se.setIsRoomTile(te.x,te.y,te.isRoomTile());this._roomCreator.refreshTileObjectMap(this._currentRoomId,"RoomMessageHandler.onRoomHeightMapUpdateEvent()")}}onRoomThicknessEvent(ee){if(!(ee instanceof RoomVisualizationSettingsEvent))return;const te=ee.getParser();if(!te)return;const se=!te.hideWalls,ne=!0,le=te.thicknessWall,ue=te.thicknessFloor;this._roomCreator&&(this._roomCreator.updateRoomInstancePlaneVisibility(this._currentRoomId,se,ne),this._roomCreator.updateRoomInstancePlaneThickness(this._currentRoomId,le,ue))}onRoomDoorEvent(ee){ee instanceof RoomEntryTileMessageEvent&&(this._latestEntryTileEvent=ee)}onRoomRollingEvent(ee){if(!(ee instanceof ObjectsRollingEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();this._roomCreator.updateRoomObjectFloor(this._currentRoomId,te.rollerId,null,null,1,null),this._roomCreator.updateRoomObjectFloor(this._currentRoomId,te.rollerId,null,null,2,null);const se=te.itemsRolling;if(se&&se.length)for(const le of se)le&&this._roomCreator.rollRoomObjectFloor(this._currentRoomId,le.id,le.location,le.targetLocation);const ne=te.unitRolling;if(ne){this._roomCreator.updateRoomObjectUserLocation(this._currentRoomId,ne.id,ne.location,ne.targetLocation);const le=this._roomCreator.getRoomObjectUser(this._currentRoomId,ne.id);if(le&&le.type!==RoomObjectUserType.MONSTER_PLANT){let ue="std";switch(ne.movementType){case ObjectRolling.MOVE:ue="mv";break;case ObjectRolling.SLIDE:ue="std";break}this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId,ne.id,ue)}}}onObjectsDataUpdateEvent(ee){if(!(ee instanceof ObjectsDataUpdateEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();if(te)for(const se of te.objects)this._roomCreator.updateRoomObjectFloor(this._currentRoomId,se.id,null,null,se.state,se.data)}onFurnitureAliasesEvent(ee){!(ee instanceof FurnitureAliasesEvent)||!ee.connection||!this._roomCreator||(ee.getParser().aliases,this._connection.send(new GetRoomEntryDataMessageComposer))}onFurnitureFloorAddEvent(ee){if(!(ee instanceof FurnitureFloorAddEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser().item;te&&this.addRoomObjectFurnitureFloor(this._currentRoomId,te)}onFurnitureFloorEvent(ee){if(!(ee instanceof FurnitureFloorEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();if(!te)return;const se=te.items.length;let ne=0;for(;ne<se;){const le=te.items[ne];le&&this.addRoomObjectFurnitureFloor(this._currentRoomId,le),ne++}}onFurnitureFloorRemoveEvent(ee){if(!(ee instanceof FurnitureFloorRemoveEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();te&&(te.delay>0?setTimeout(()=>{this._roomCreator.removeRoomObjectFloor(this._currentRoomId,te.itemId,te.isExpired?-1:te.userId,!0)},te.delay):this._roomCreator.removeRoomObjectFloor(this._currentRoomId,te.itemId,te.isExpired?-1:te.userId,!0))}onFurnitureFloorUpdateEvent(ee){if(!(ee instanceof FurnitureFloorUpdateEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser().item;if(!te)return;const se=new Vector3d(te.x,te.y,te.z),ne=new Vector3d(te.direction);this._roomCreator.updateRoomObjectFloor(this._currentRoomId,te.itemId,se,ne,te.data.state,te.data,te.extra),this._roomCreator.updateRoomObjectFloorHeight(this._currentRoomId,te.itemId,te.stackHeight),this._roomCreator.updateRoomObjectFloorExpiration(this._currentRoomId,te.itemId,te.expires)}onFurnitureWallAddEvent(ee){if(!(ee instanceof FurnitureWallAddEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser().item;te&&this.addRoomObjectFurnitureWall(this._currentRoomId,te)}onFurnitureWallEvent(ee){if(!(ee instanceof FurnitureWallEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();if(!te)return;const se=te.items.length;let ne=0;for(;ne<se;){const le=te.items[ne];le&&this.addRoomObjectFurnitureWall(this._currentRoomId,le),ne++}}onFurnitureWallRemoveEvent(ee){if(!(ee instanceof FurnitureWallRemoveEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();te&&this._roomCreator.removeRoomObjectWall(this._currentRoomId,te.itemId,te.userId)}onFurnitureWallUpdateEvent(ee){if(!(ee instanceof FurnitureWallUpdateEvent)||!ee.connection||!this._roomCreator)return;const te=this._roomCreator.getLegacyWallGeometry(this._currentRoomId);if(!te)return;const se=ee.getParser().item;if(!se)return;const ne=te.getLocation(se.width,se.height,se.localX,se.localY,se.direction),le=new Vector3d(te.getDirection(se.direction));this._roomCreator.updateRoomObjectWall(this._currentRoomId,se.itemId,ne,le,se.state,se.stuffData),this._roomCreator.updateRoomObjectWallExpiration(this._currentRoomId,se.itemId,se.secondsToExpiration)}onFurnitureDataEvent(ee){if(!(ee instanceof FurnitureDataEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();this._roomCreator.updateRoomObjectFloor(this._currentRoomId,te.furnitureId,null,null,te.objectData.state,te.objectData)}onItemDataUpdateMessageEvent(ee){if(!(ee instanceof ItemDataUpdateMessageEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();this._roomCreator.updateRoomObjectWallItemData(this._currentRoomId,te.furnitureId,te.data)}onOneWayDoorStatusMessageEvent(ee){if(!(ee instanceof OneWayDoorStatusMessageEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();this._roomCreator.updateRoomObjectFloor(this._currentRoomId,te.itemId,null,null,te.state,new LegacyDataType)}onDiceValueMessageEvent(ee){if(!(ee instanceof DiceValueMessageEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();this._roomCreator.updateRoomObjectFloor(this._currentRoomId,te.itemId,null,null,te.value,new LegacyDataType)}onRoomUnitDanceEvent(ee){!(ee instanceof RoomUnitDanceEvent)||!ee.connection||!this._roomCreator||this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,ee.getParser().unitId,RoomObjectVariable.FIGURE_DANCE,ee.getParser().danceId)}onRoomUnitEffectEvent(ee){!(ee instanceof RoomUnitEffectEvent)||!ee.connection||!this._roomCreator||this._roomCreator.updateRoomObjectUserEffect(this._currentRoomId,ee.getParser().unitId,ee.getParser().effectId,ee.getParser().delay)}onRoomUnitEvent(ee){if(!(ee instanceof RoomUnitEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser().users;if(!(!te||!te.length)){for(const se of te){if(!se)continue;const ne=new Vector3d(se.x,se.y,se.z),le=new Vector3d(se.dir);this._roomCreator.addRoomObjectUser(this._currentRoomId,se.roomIndex,ne,le,se.dir,se.userType,se.figure),se.webID===this._ownUserId&&(this._roomCreator.setRoomSessionOwnUser(this._currentRoomId,se.roomIndex),this._roomCreator.updateRoomObjectUserOwn(this._currentRoomId,se.roomIndex)),this._roomCreator.updateRoomObjectUserFigure(this._currentRoomId,se.roomIndex,se.figure,se.sex,se.subType,se.isRiding),RoomObjectUserType.getTypeString(se.userType)===RoomObjectUserType.PET&&this._roomCreator.getPetTypeId(se.figure)===PetType.MONSTERPLANT&&this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId,se.roomIndex,se.petPosture),this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,se.roomIndex,RoomObjectVariable.FIGURE_IS_MUTED,this._roomCreator.sessionDataManager.isUserIgnored(se.name)?1:0)}this.updateGuideMarker()}}onRoomUnitExpressionEvent(ee){!(ee instanceof RoomUnitExpressionEvent)||!ee.connection||!this._roomCreator||this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,ee.getParser().unitId,RoomObjectVariable.FIGURE_EXPRESSION,ee.getParser().expression)}onRoomUnitHandItemEvent(ee){!(ee instanceof RoomUnitHandItemEvent)||!ee.connection||!this._roomCreator||this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,ee.getParser().unitId,RoomObjectVariable.FIGURE_CARRY_OBJECT,ee.getParser().handId)}onRoomUnitIdleEvent(ee){!(ee instanceof RoomUnitIdleEvent)||!ee.connection||!this._roomCreator||this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,ee.getParser().unitId,RoomObjectVariable.FIGURE_SLEEP,ee.getParser().isIdle?1:0)}onRoomUnitInfoEvent(ee){!(ee instanceof RoomUnitInfoEvent)||!ee.connection||!this._roomCreator||this._roomCreator.updateRoomObjectUserFigure(this._currentRoomId,ee.getParser().unitId,ee.getParser().figure,ee.getParser().gender)}onRoomUnitNumberEvent(ee){if(!(ee instanceof RoomUnitNumberEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();te&&this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,te.unitId,RoomObjectVariable.FIGURE_NUMBER_VALUE,te.value)}onRoomUnitRemoveEvent(ee){!(ee instanceof RoomUnitRemoveEvent)||!ee.connection||!this._roomCreator||(this._roomCreator.removeRoomObjectUser(this._currentRoomId,ee.getParser().unitId),this.updateGuideMarker())}onRoomUnitStatusEvent(ee){if(!(ee instanceof RoomUnitStatusEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser().statuses;if(!te||!te.length)return;const se=this._roomCreator.getRoomInstance(this._currentRoomId);if(!se)return;const ne=se.model.getValue(RoomVariableEnum.ROOM_Z_SCALE)||1;for(const le of te){if(!le)continue;let ue=le.height;ue&&(ue=ue/ne);const ce=new Vector3d(le.x,le.y,le.z+ue),he=new Vector3d(le.direction);let de=null;le.didMove&&(de=new Vector3d(le.targetX,le.targetY,le.targetZ)),this._roomCreator.updateRoomObjectUserLocation(this._currentRoomId,le.id,ce,de,le.canStandUp,ue,he,le.headDirection),this._roomCreator.updateRoomObjectUserFlatControl(this._currentRoomId,le.id,null);let _e=!0,fe=!1,ye=RoomObjectVariable.STD,be="";if(le.actions&&le.actions.length){for(const Pe of le.actions)if(Pe)switch(Pe.action){case"flatctrl":this._roomCreator.updateRoomObjectUserFlatControl(this._currentRoomId,le.id,Pe.value);break;case"sign":le.actions.length===1&&(_e=!1),this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,le.id,RoomObjectVariable.FIGURE_SIGN,parseInt(Pe.value));break;case"gst":le.actions.length===1&&(_e=!1),this._roomCreator.updateRoomObjectUserPetGesture(this._currentRoomId,le.id,Pe.value);break;case"wav":case"mv":fe=!0,ye=Pe.action,be=Pe.value;break;case"trd":break;default:fe=!0,ye=Pe.action,be=Pe.value;break}}fe?this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId,le.id,ye,be):_e&&this._roomCreator.updateRoomObjectUserPosture(this._currentRoomId,le.id,RoomObjectVariable.STD,"")}this.updateGuideMarker()}onRoomUnitChatEvent(ee){if(!ee.connection||!this._roomCreator)return;const te=ee.getParser();te&&(this._roomCreator.updateRoomObjectUserGesture(this._currentRoomId,te.roomIndex,te.gesture),this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,te.roomIndex,RoomObjectVariable.FIGURE_TALK,te.message.length/10))}onRoomUnitTypingEvent(ee){!(ee instanceof RoomUnitTypingEvent)||!ee.connection||!this._roomCreator||this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,ee.getParser().unitId,RoomObjectVariable.FIGURE_IS_TYPING,ee.getParser().isTyping?1:0)}onPetFigureUpdateEvent(ee){if(!(ee instanceof PetFigureUpdateEvent)||!ee.connection||!this._roomCreator)return;const te=ee.getParser();te&&this._roomCreator.updateRoomObjectUserFigure(this._currentRoomId,te.roomIndex,te.figureData.figuredata,"","",te.isRiding)}onPetExperienceEvent(ee){const te=ee.getParser();te&&this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,te.roomIndex,RoomObjectVariable.FIGURE_GAINED_EXPERIENCE,te.gainedExperience)}onYouArePlayingGameEvent(ee){if(!ee)return;const te=ee.getParser();te&&this._roomCreator.setRoomEngineGameMode(this._currentRoomId,te.isPlaying)}addRoomObjectFurnitureFloor(ee,te){if(!te||!this._roomCreator)return;const se=new Vector3d(te.x,te.y,te.z),ne=new Vector3d(te.direction);te.spriteName?this._roomCreator.addFurnitureFloorByTypeName(ee,te.itemId,te.spriteName,se,ne,te.state,te.data,te.extra,te.expires,te.usagePolicy,te.userId,te.username,!0,!0,te.stackHeight):this._roomCreator.addFurnitureFloor(ee,te.itemId,te.spriteId,se,ne,te.state,te.data,te.extra,te.expires,te.usagePolicy,te.userId,te.username,!0,!0,te.stackHeight)}addRoomObjectFurnitureWall(ee,te){if(!te||!this._roomCreator)return;const se=this._roomCreator.getLegacyWallGeometry(ee);if(!se)return;let ne=null;te.isOldFormat||(ne=se.getLocation(te.width,te.height,te.localX,te.localY,te.direction));const le=new Vector3d(se.getDirection(te.direction));this._roomCreator.addFurnitureWall(ee,te.itemId,te.spriteId,ne,le,te.state,te.stuffData,te.secondsToExpiration,te.usagePolicy,te.userId,te.username)}onIgnoreResultEvent(ee){if(!ee)return;const te=ee.getParser();if(!te)return;const se=this._roomCreator.roomSessionManager.getSession(this._currentRoomId);if(!se)return;const ne=se.userDataManager.getUserDataByName(te.name);if(ne)switch(te.result){case 1:case 2:this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,ne.roomIndex,RoomObjectVariable.FIGURE_IS_MUTED,1);return;case 3:this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,ne.roomIndex,RoomObjectVariable.FIGURE_IS_MUTED,0);return}}onGuideSessionStartedMessageEvent(ee){const te=ee.getParser();this._guideId=te.guideUserId,this._requesterId=te.requesterUserId,this.updateGuideMarker()}onGuideSessionEndedMessageEvent(ee){this.removeGuideMarker()}onGuideSessionErrorMessageEvent(ee){this.removeGuideMarker()}updateGuideMarker(){const ee=this._roomCreator.sessionDataManager.userId;this.setUserGuideStatus(this._guideId,this._requesterId===ee?AvatarGuideStatus.GUIDE:AvatarGuideStatus.NONE),this.setUserGuideStatus(this._requesterId,this._guideId===ee?AvatarGuideStatus.REQUESTER:AvatarGuideStatus.NONE)}removeGuideMarker(){this.setUserGuideStatus(this._guideId,AvatarGuideStatus.NONE),this.setUserGuideStatus(this._requesterId,AvatarGuideStatus.NONE),this._guideId=-1,this._requesterId=-1}setUserGuideStatus(ee,te){if(!this._roomCreator||!this._roomCreator.roomSessionManager)return;const se=this._roomCreator.roomSessionManager.getSession(this._currentRoomId);if(!se)return;const ne=se.userDataManager.getDataByType(ee,RoomObjectType.USER);ne&&this._roomCreator.updateRoomObjectUserAction(this._currentRoomId,ne.roomIndex,RoomObjectVariable.FIGURE_GUIDE_STATUS,te)}get currentRoomId(){return this._currentRoomId}}class RoomObjectEventHandler extends Disposable{constructor(ee){super(),this._roomEngine=ee,this._eventIds=new Map,this._selectedAvatarId=-1,this._selectedObjectId=-1,this._selectedObjectCategory=-2,this._whereYouClickIsWhereYouGo=!0,this._objectPlacementSource=null,this.onRoomEngineObjectEvent=this.onRoomEngineObjectEvent.bind(this),this._roomEngine.events.addEventListener(RoomEngineObjectEvent.ADDED,this.onRoomEngineObjectEvent)}dispose(){this._eventIds&&(this._eventIds=null),this._roomEngine.events.removeEventListener(RoomEngineObjectEvent.ADDED,this.onRoomEngineObjectEvent),this._roomEngine=null}onRoomEngineObjectEvent(ee){let te=this.getSelectedRoomObjectData(ee.roomId);if(te&&te.operation===RoomObjectOperationType.OBJECT_PLACE&&te.id===ee.objectId){const se=this._roomEngine.getRoomObject(ee.roomId,te.id,te.category);if(se&&se.model&&te.category===RoomObjectCategory.FLOOR){const ne=se.model.getValue(RoomObjectVariable.FURNITURE_ALLOWED_DIRECTIONS);if(ne&&ne.length){const le=new Vector3d(ne[0]);if(se.setDirection(le),this.updateSelectedObjectData(ee.roomId,te.id,te.category,te.loc,le,te.operation,te.typeId,te.instanceData,te.stuffData,te.state,te.animFrame,te.posture),te=this.getSelectedRoomObjectData(ee.roomId),!te)return}}this.setFurnitureAlphaMultiplier(se,.5)}}processRoomCanvasMouseEvent(ee,te,se){if(!ee||!te||RoomEnterEffect.isRunning())return;const ne=te.type;let le=this._roomEngine.getRoomObjectCategoryForType(ne);if(le!==RoomObjectCategory.ROOM&&(!this._roomEngine.isPlayingGame()||le!==RoomObjectCategory.UNIT)&&(le=RoomObjectCategory.MINIMUM),this.getMouseEventId(le,ee.type)===ee.eventId){if(ee.type===MouseEventType.MOUSE_CLICK||ee.type===MouseEventType.DOUBLE_CLICK||ee.type===MouseEventType.MOUSE_DOWN||ee.type===MouseEventType.MOUSE_UP||ee.type===MouseEventType.MOUSE_MOVE)return}else ee.eventId&&this.setMouseEventId(le,ee.type,ee.eventId);te.mouseHandler&&te.mouseHandler.mouseEvent(ee,se)}processRoomObjectPlacement(ee,te,se,ne,le,ue=null,ce=null,he=-1,de=-1,_e=null){this._objectPlacementSource=ee;const fe=new Vector3d(-100,-100),ye=new Vector3d(0);return this.setSelectedRoomObjectData(te,se,ne,fe,ye,RoomObjectOperationType.OBJECT_PLACE,le,ue,ce,he,de,_e),this._roomEngine&&(this._roomEngine.setObjectMoverIconSprite(le,ne,!1,ue,ce,he,de,_e),this._roomEngine.setObjectMoverIconSpriteVisible(!1)),!0}cancelRoomObjectInsert(ee){return this.resetSelectedObjectData(ee),!0}getMouseEventId(ee,te){const se=this._eventIds.get(ee);return se&&se.get(te)||null}setMouseEventId(ee,te,se){let ne=this._eventIds.get(ee);ne||(ne=new Map,this._eventIds.set(ee,ne)),ne.delete(te),ne.set(te,se)}handleRoomObjectEvent(ee,te){if(ee){if(ee instanceof RoomObjectMouseEvent){this.handleRoomObjectMouseEvent(ee,te);return}switch(ee.type){case RoomObjectStateChangedEvent.STATE_CHANGE:case RoomObjectStateChangedEvent.STATE_RANDOM:this.onRoomObjectStateChangedEvent(ee,te);return;case RoomObjectDimmerStateUpdateEvent.DIMMER_STATE:this.onRoomObjectDimmerStateUpdateEvent(ee,te);return;case RoomObjectMoveEvent.POSITION_CHANGED:case RoomObjectMoveEvent.OBJECT_REMOVED:this.handleSelectedObjectRemove(ee,te);return;case RoomObjectWidgetRequestEvent.OPEN_WIDGET:case RoomObjectWidgetRequestEvent.CLOSE_WIDGET:case RoomObjectWidgetRequestEvent.OPEN_FURNI_CONTEXT_MENU:case RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU:case RoomObjectWidgetRequestEvent.PLACEHOLDER:case RoomObjectWidgetRequestEvent.CREDITFURNI:case RoomObjectWidgetRequestEvent.STACK_HEIGHT:case RoomObjectWidgetRequestEvent.EXTERNAL_IMAGE:case RoomObjectWidgetRequestEvent.STICKIE:case RoomObjectWidgetRequestEvent.PRESENT:case RoomObjectWidgetRequestEvent.TROPHY:case RoomObjectWidgetRequestEvent.TEASER:case RoomObjectWidgetRequestEvent.ECOTRONBOX:case RoomObjectWidgetRequestEvent.DIMMER:case RoomObjectWidgetRequestEvent.WIDGET_REMOVE_DIMMER:case RoomObjectWidgetRequestEvent.CLOTHING_CHANGE:case RoomObjectWidgetRequestEvent.JUKEBOX_PLAYLIST_EDITOR:case RoomObjectWidgetRequestEvent.MANNEQUIN:case RoomObjectWidgetRequestEvent.PET_PRODUCT_MENU:case RoomObjectWidgetRequestEvent.GUILD_FURNI_CONTEXT_MENU:case RoomObjectWidgetRequestEvent.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG:case RoomObjectWidgetRequestEvent.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG:case RoomObjectWidgetRequestEvent.BACKGROUND_COLOR:case RoomObjectWidgetRequestEvent.MYSTERYBOX_OPEN_DIALOG:case RoomObjectWidgetRequestEvent.EFFECTBOX_OPEN_DIALOG:case RoomObjectWidgetRequestEvent.MYSTERYTROPHY_OPEN_DIALOG:case RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_OPEN:case RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_ENGRAVING:case RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_FAILED:case RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_CONFIRM:case RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_ENGRAVING:case RoomObjectWidgetRequestEvent.BADGE_DISPLAY_ENGRAVING:case RoomObjectWidgetRequestEvent.HIGH_SCORE_DISPLAY:case RoomObjectWidgetRequestEvent.HIDE_HIGH_SCORE_DISPLAY:case RoomObjectWidgetRequestEvent.INERNAL_LINK:case RoomObjectWidgetRequestEvent.ROOM_LINK:case RoomObjectWidgetRequestEvent.YOUTUBE:this.onRoomObjectWidgetRequestEvent(ee,te);return;case RoomObjectFurnitureActionEvent.DICE_ACTIVATE:case RoomObjectFurnitureActionEvent.DICE_OFF:case RoomObjectFurnitureActionEvent.USE_HABBOWHEEL:case RoomObjectFurnitureActionEvent.STICKIE:case RoomObjectFurnitureActionEvent.ENTER_ONEWAYDOOR:this.onRoomObjectFurnitureActionEvent(ee,te);return;case RoomObjectFurnitureActionEvent.SOUND_MACHINE_INIT:case RoomObjectFurnitureActionEvent.SOUND_MACHINE_START:case RoomObjectFurnitureActionEvent.SOUND_MACHINE_STOP:case RoomObjectFurnitureActionEvent.SOUND_MACHINE_DISPOSE:this.handleObjectSoundMachineEvent(ee,te);return;case RoomObjectFurnitureActionEvent.JUKEBOX_INIT:case RoomObjectFurnitureActionEvent.JUKEBOX_START:case RoomObjectFurnitureActionEvent.JUKEBOX_MACHINE_STOP:case RoomObjectFurnitureActionEvent.JUKEBOX_DISPOSE:this.handleObjectJukeboxEvent(ee,te);return;case RoomObjectFloorHoleEvent.ADD_HOLE:case RoomObjectFloorHoleEvent.REMOVE_HOLE:this.onRoomObjectFloorHoleEvent(ee,te);return;case RoomObjectRoomAdEvent.ROOM_AD_FURNI_CLICK:case RoomObjectRoomAdEvent.ROOM_AD_FURNI_DOUBLE_CLICK:case RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_SHOW:case RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_HIDE:case RoomObjectRoomAdEvent.ROOM_AD_LOAD_IMAGE:this.onRoomObjectRoomAdEvent(ee,te);return;case RoomObjectBadgeAssetEvent.LOAD_BADGE:this.onRoomObjectBadgeAssetEvent(ee,te);return;case RoomObjectFurnitureActionEvent.MOUSE_ARROW:case RoomObjectFurnitureActionEvent.MOUSE_BUTTON:this.handleMousePointer(ee,te);return;case RoomObjectPlaySoundIdEvent.PLAY_SOUND:case RoomObjectPlaySoundIdEvent.PLAY_SOUND_AT_PITCH:this.handleRoomObjectPlaySoundEvent(ee,te);return;case RoomObjectSamplePlaybackEvent.ROOM_OBJECT_INITIALIZED:case RoomObjectSamplePlaybackEvent.ROOM_OBJECT_DISPOSED:case RoomObjectSamplePlaybackEvent.PLAY_SAMPLE:case RoomObjectSamplePlaybackEvent.CHANGE_PITCH:this.handleRoomObjectSamplePlaybackEvent(ee,te);return;case RoomObjectHSLColorEnableEvent.ROOM_BACKGROUND_COLOR:this.onHSLColorEnableEvent(ee,te);return;case RoomObjectDataRequestEvent.RODRE_CURRENT_USER_ID:case RoomObjectDataRequestEvent.RODRE_URL_PREFIX:this.onRoomObjectDataRequestEvent(ee,te);return;default:NitroLogger.warn("Unhandled Event",ee.constructor.name,"Object ID",ee.object.id);return}}}handleRoomObjectMouseEvent(ee,te){if(!(!ee||!ee.type))switch(ee.type){case RoomObjectMouseEvent.CLICK:this.handleRoomObjectMouseClickEvent(ee,te);return;case RoomObjectMouseEvent.DOUBLE_CLICK:this.handleRoomObjectMouseDoubleClickEvent(ee,te);return;case RoomObjectMouseEvent.MOUSE_MOVE:this.handleRoomObjectMouseMoveEvent(ee,te);return;case RoomObjectMouseEvent.MOUSE_DOWN:this.handleRoomObjectMouseDownEvent(ee,te);return;case RoomObjectMouseEvent.MOUSE_DOWN_LONG:this.handleRoomObjectMouseDownLongEvent(ee,te);return;case RoomObjectMouseEvent.MOUSE_ENTER:this.handleRoomObjectMouseEnterEvent(ee,te);return;case RoomObjectMouseEvent.MOUSE_LEAVE:this.handleRoomObjectMouseLeaveEvent(ee,te);return}}handleRoomObjectMouseClickEvent(ee,te){if(!ee)return;let se=RoomObjectOperationType.OBJECT_UNDEFINED;const ne=this.getSelectedRoomObjectData(te);ne&&(se=ne.operation);let le=!1,ue=!1;this._whereYouClickIsWhereYouGo&&(!se||se===RoomObjectOperationType.OBJECT_UNDEFINED)&&(le=this.handleMoveTargetFurni(te,ee));const ce=this._roomEngine.getRoomObjectCategoryForType(ee.objectType);switch(se){case RoomObjectOperationType.OBJECT_MOVE:ce===RoomObjectCategory.ROOM?ne&&this.modifyRoomObject(te,ne.id,ne.category,RoomObjectOperationType.OBJECT_MOVE_TO):ce===RoomObjectCategory.UNIT&&(ne&&ee.objectType===RoomObjectUserType.MONSTER_PLANT&&this.modifyRoomObject(te,ne.id,ne.category,RoomObjectOperationType.OBJECT_MOVE_TO),ee.eventId&&this.setMouseEventId(RoomObjectCategory.ROOM,MouseEventType.MOUSE_CLICK,ee.eventId),this.placeObjectOnUser(te,ee.objectId,ce)),ue=!0,ee.objectId!==-1&&this.setSelectedObject(te,ee.objectId,ce);break;case RoomObjectOperationType.OBJECT_PLACE:if(ce===RoomObjectCategory.ROOM)this.placeObject(te,ee instanceof RoomObjectTileMouseEvent,ee instanceof RoomObjectWallMouseEvent);else if(ce===RoomObjectCategory.UNIT)switch(ee.objectType){case RoomObjectUserType.MONSTER_PLANT:case RoomObjectUserType.RENTABLE_BOT:this.placeObject(te,ee instanceof RoomObjectTileMouseEvent,ee instanceof RoomObjectWallMouseEvent);break;default:ee.eventId&&this.setMouseEventId(RoomObjectCategory.ROOM,MouseEventType.MOUSE_CLICK,ee.eventId),this.placeObjectOnUser(te,ee.objectId,ce);break}break;case RoomObjectOperationType.OBJECT_UNDEFINED:ce===RoomObjectCategory.ROOM?!le&&ee instanceof RoomObjectTileMouseEvent&&this.onRoomObjectTileMouseEvent(te,ee):(this.setSelectedObject(te,ee.objectId,ce),ue=!1,ce===RoomObjectCategory.UNIT?(ee.ctrlKey&&!ee.altKey&&!ee.shiftKey&&ee.objectType===RoomObjectUserType.RENTABLE_BOT?this.modifyRoomObject(te,ee.objectId,ce,RoomObjectOperationType.OBJECT_PICKUP_BOT):ee.ctrlKey&&!ee.altKey&&!ee.shiftKey&&ee.objectType===RoomObjectUserType.MONSTER_PLANT?this.modifyRoomObject(te,ee.objectId,ce,RoomObjectOperationType.OBJECT_PICKUP_PET):!ee.ctrlKey&&!ee.altKey&&ee.shiftKey&&ee.objectType===RoomObjectUserType.MONSTER_PLANT&&this.modifyRoomObject(te,ee.objectId,ce,RoomObjectOperationType.OBJECT_ROTATE_POSITIVE),this._roomEngine.isPlayingGame()?ue=!0:le=!0):(ce===RoomObjectCategory.FLOOR||ce===RoomObjectCategory.WALL)&&(ee.altKey||ee.ctrlKey||ee.shiftKey)&&(!ee.ctrlKey&&!ee.altKey&&ee.shiftKey?ce===RoomObjectCategory.FLOOR&&this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.REQUEST_ROTATE,te,ee.objectId,ce)):ee.ctrlKey&&!ee.altKey&&!ee.shiftKey&&this.modifyRoomObject(te,ee.objectId,ce,RoomObjectOperationType.OBJECT_PICKUP),this._roomEngine.isPlayingGame()?ue=!0:le=!0),ee.eventId&&(le&&this.setMouseEventId(RoomObjectCategory.ROOM,MouseEventType.MOUSE_CLICK,ee.eventId),ue&&this.setMouseEventId(RoomObjectCategory.MINIMUM,MouseEventType.MOUSE_CLICK,ee.eventId)));break}if(ce===RoomObjectCategory.ROOM){const he=this.getMouseEventId(RoomObjectCategory.MINIMUM,MouseEventType.MOUSE_CLICK),de=this.getMouseEventId(RoomObjectCategory.UNIT,MouseEventType.MOUSE_CLICK);he!==ee.eventId&&de!==ee.eventId&&!ue&&(this.deselectObject(te),this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.DESELECTED,te,-1,RoomObjectCategory.MINIMUM)),this.setSelectedAvatar(te,0,!1))}}handleRoomObjectMouseDoubleClickEvent(ee,te){const se=ee.objectId,ne=ee.objectType,le=this._roomEngine.getRoomObjectCategoryForType(ne);this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.DOUBLE_CLICK,te,se,le))}handleRoomObjectMouseMoveEvent(ee,te){if(!ee)return;let se=RoomObjectOperationType.OBJECT_UNDEFINED;const ne=this.getSelectedRoomObjectData(te);ne&&(se=ne.operation);const le=this._roomEngine.getRoomObjectCategoryForType(ee.objectType);if(this._roomEngine){const ue=this._roomEngine.getRoomObjectCursor(te);if(ue&&ue.logic){let ce=null;ee instanceof RoomObjectTileMouseEvent?ce=this.handleMouseOverTile(ee,te):ee.object&&ee.object.id!==-1?this._whereYouClickIsWhereYouGo&&(ce=this.handleMouseOverObject(le,te,ee)):ce=new ObjectTileCursorUpdateMessage(null,0,!1,ee.eventId),ue.processUpdateMessage(ce)}}switch(se){case RoomObjectOperationType.OBJECT_MOVE:le===RoomObjectCategory.ROOM&&this.handleObjectMove(ee,te);return;case RoomObjectOperationType.OBJECT_PLACE:le===RoomObjectCategory.ROOM&&this.handleObjectPlace(ee,te);return}}handleRoomObjectMouseDownEvent(ee,te){if(!ee)return;let se=RoomObjectOperationType.OBJECT_UNDEFINED;const ne=this.getSelectedRoomObjectData(te);ne&&(se=ne.operation);const le=this._roomEngine.getRoomObjectCategoryForType(ee.objectType);switch(se){case RoomObjectOperationType.OBJECT_UNDEFINED:(le===RoomObjectCategory.FLOOR||le===RoomObjectCategory.WALL||ee.objectType===RoomObjectUserType.MONSTER_PLANT)&&(ee.altKey&&!ee.ctrlKey&&!ee.shiftKey||this.decorateModeMove(ee))&&this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.REQUEST_MOVE,te,ee.objectId,le));return}}handleRoomObjectMouseDownLongEvent(ee,te){if(!ee)return;let se=RoomObjectOperationType.OBJECT_UNDEFINED;const ne=this.getSelectedRoomObjectData(te);ne&&(se=ne.operation);const le=this._roomEngine.getRoomObjectCategoryForType(ee.objectType);switch(se){case RoomObjectOperationType.OBJECT_UNDEFINED:(le===RoomObjectCategory.FLOOR||le===RoomObjectCategory.WALL||ee.objectType===RoomObjectUserType.MONSTER_PLANT)&&(!ee.ctrlKey&&!ee.shiftKey||this.decorateModeMove(ee))&&this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.REQUEST_MANIPULATION,te,ee.objectId,le));return}}handleRoomObjectMouseEnterEvent(ee,te){const se=ee.objectId,ne=ee.objectType,le=this._roomEngine.getRoomObjectCategoryForType(ne);this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.MOUSE_ENTER,te,se,le))}handleRoomObjectMouseLeaveEvent(ee,te){const se=ee.objectId,ne=ee.objectType,le=this._roomEngine.getRoomObjectCategoryForType(ne);if(le!==RoomObjectCategory.ROOM&&le===RoomObjectCategory.UNIT){const ue=this._roomEngine.getRoomObjectCursor(te);ue&&ue.processUpdateMessage(new ObjectDataUpdateMessage(0,null))}this._roomEngine.events&&this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.MOUSE_LEAVE,te,se,le))}onRoomObjectStateChangedEvent(ee,te){if(ee)switch(ee.type){case RoomObjectStateChangedEvent.STATE_CHANGE:this.changeObjectState(te,ee.object.id,ee.object.type,ee.state,!1);return;case RoomObjectStateChangedEvent.STATE_RANDOM:this.changeObjectState(te,ee.object.id,ee.object.type,ee.state,!0);return}}onRoomObjectDimmerStateUpdateEvent(ee,te){if(ee)switch(ee.type){case RoomObjectDimmerStateUpdateEvent.DIMMER_STATE:this._roomEngine.events.dispatchEvent(new RoomEngineDimmerStateEvent(te,ee.state,ee.presetId,ee.effectId,ee.color,ee.brightness));return}}handleSelectedObjectRemove(ee,te){if(!(!ee||!this._roomEngine))switch(ee.type){case RoomObjectMoveEvent.POSITION_CHANGED:{const se=ee.objectId,ne=ee.objectType,le=this._roomEngine.getRoomObjectCategoryForType(ne),ue=this._roomEngine.getRoomObject(te,se,le),ce=this._roomEngine.getRoomObjectSelectionArrow(te);if(ue&&ce&&ce.logic){const he=ue.getLocation();ce.logic.processUpdateMessage(new RoomObjectUpdateMessage(he,null))}return}case RoomObjectMoveEvent.OBJECT_REMOVED:this.setSelectedAvatar(te,0,!1);return}}onRoomObjectWidgetRequestEvent(ee,te){if(!ee||!this._roomEngine)return;const se=ee.objectId,ne=ee.objectType,le=this._roomEngine.getRoomObjectCategoryForType(ne),ue=this._roomEngine.events;if(ue&&!RoomId.isRoomPreviewerId(te))switch(ee.type){case RoomObjectWidgetRequestEvent.OPEN_WIDGET:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.OPEN_WIDGET,te,se,le,ee.object.logic.widget));return;case RoomObjectWidgetRequestEvent.CLOSE_WIDGET:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.CLOSE_WIDGET,te,se,le,ee.object.logic.widget));return;case RoomObjectWidgetRequestEvent.OPEN_FURNI_CONTEXT_MENU:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.OPEN_FURNI_CONTEXT_MENU,te,se,le,ee.object.logic.contextMenu));return;case RoomObjectWidgetRequestEvent.CLOSE_FURNI_CONTEXT_MENU:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.CLOSE_FURNI_CONTEXT_MENU,te,se,le));return;case RoomObjectWidgetRequestEvent.PLACEHOLDER:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_PLACEHOLDER,te,se,le));return;case RoomObjectWidgetRequestEvent.CREDITFURNI:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_CREDITFURNI,te,se,le));return;case RoomObjectWidgetRequestEvent.STACK_HEIGHT:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_STACK_HEIGHT,te,se,le));return;case RoomObjectWidgetRequestEvent.EXTERNAL_IMAGE:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_EXTERNAL_IMAGE,te,se,le));return;case RoomObjectWidgetRequestEvent.STICKIE:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_STICKIE,te,se,le));return;case RoomObjectWidgetRequestEvent.PRESENT:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_PRESENT,te,se,le));return;case RoomObjectWidgetRequestEvent.TROPHY:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_TROPHY,te,se,le));return;case RoomObjectWidgetRequestEvent.TEASER:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_TEASER,te,se,le));return;case RoomObjectWidgetRequestEvent.ECOTRONBOX:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_ECOTRONBOX,te,se,le));return;case RoomObjectWidgetRequestEvent.DIMMER:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_DIMMER,te,se,le));return;case RoomObjectWidgetRequestEvent.WIDGET_REMOVE_DIMMER:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REMOVE_DIMMER,te,se,le));return;case RoomObjectWidgetRequestEvent.CLOTHING_CHANGE:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_CLOTHING_CHANGE,te,se,le));return;case RoomObjectWidgetRequestEvent.JUKEBOX_PLAYLIST_EDITOR:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_PLAYLIST_EDITOR,te,se,le));return;case RoomObjectWidgetRequestEvent.MANNEQUIN:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_MANNEQUIN,te,se,le));return;case RoomObjectWidgetRequestEvent.PET_PRODUCT_MENU:ue.dispatchEvent(new RoomEngineUseProductEvent(RoomEngineUseProductEvent.USE_PRODUCT_FROM_ROOM,te,se,le));return;case RoomObjectWidgetRequestEvent.GUILD_FURNI_CONTEXT_MENU:this._roomEngine.connection.send(new FurnitureGroupInfoComposer(ee.objectId,ee.object.model.getValue(RoomObjectVariable.FURNITURE_GUILD_CUSTOMIZED_GUILD_ID)));return;case RoomObjectWidgetRequestEvent.MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_MONSTERPLANT_SEED_PLANT_CONFIRMATION_DIALOG,te,se,le));return;case RoomObjectWidgetRequestEvent.PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_PURCHASABLE_CLOTHING_CONFIRMATION_DIALOG,te,se,le));return;case RoomObjectWidgetRequestEvent.BACKGROUND_COLOR:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_BACKGROUND_COLOR,te,se,le));return;case RoomObjectWidgetRequestEvent.MYSTERYBOX_OPEN_DIALOG:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_MYSTERYBOX_OPEN_DIALOG,te,se,le));return;case RoomObjectWidgetRequestEvent.EFFECTBOX_OPEN_DIALOG:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_EFFECTBOX_OPEN_DIALOG,te,se,le));return;case RoomObjectWidgetRequestEvent.MYSTERYTROPHY_OPEN_DIALOG:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_MYSTERYTROPHY_OPEN_DIALOG,te,se,le));return;case RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_OPEN:this._roomEngine.connection.send(new GetResolutionAchievementsMessageComposer(ee.objectId,0));return;case RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_ENGRAVING:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_ACHIEVEMENT_RESOLUTION_ENGRAVING,te,se,le));return;case RoomObjectWidgetRequestEvent.ACHIEVEMENT_RESOLUTION_FAILED:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_ACHIEVEMENT_RESOLUTION_FAILED,te,se,le));return;case RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_CONFIRM:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_FRIEND_FURNITURE_CONFIRM,te,se,le));return;case RoomObjectWidgetRequestEvent.FRIEND_FURNITURE_ENGRAVING:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_FRIEND_FURNITURE_ENGRAVING,te,se,le));return;case RoomObjectWidgetRequestEvent.BADGE_DISPLAY_ENGRAVING:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_BADGE_DISPLAY_ENGRAVING,te,se,le));return;case RoomObjectWidgetRequestEvent.HIGH_SCORE_DISPLAY:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_HIGH_SCORE_DISPLAY,te,se,le));return;case RoomObjectWidgetRequestEvent.HIDE_HIGH_SCORE_DISPLAY:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_HIDE_HIGH_SCORE_DISPLAY,te,se,le));return;case RoomObjectWidgetRequestEvent.INERNAL_LINK:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_INTERNAL_LINK,te,se,le));return;case RoomObjectWidgetRequestEvent.ROOM_LINK:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_ROOM_LINK,te,se,le));return;case RoomObjectWidgetRequestEvent.YOUTUBE:ue.dispatchEvent(new RoomEngineTriggerWidgetEvent(RoomEngineTriggerWidgetEvent.REQUEST_YOUTUBE,te,se,le));return}}onRoomObjectFurnitureActionEvent(ee,te){ee&&this.useObject(te,ee.object.id,ee.object.type,ee.type)}handleObjectSoundMachineEvent(ee,te){if(!ee)return;const se=this._roomEngine.getRoomObjectCategoryForType(ee.objectType),ne=this.getSelectedRoomObjectData(te);if(!(ne&&ne.category===se&&ne.id===ee.objectId&&ne.operation===RoomObjectOperationType.OBJECT_PLACE))switch(ee.type){case RoomObjectFurnitureActionEvent.SOUND_MACHINE_INIT:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent.SOUND_MACHINE_INIT,te,ee.objectId,se));return;case RoomObjectFurnitureActionEvent.SOUND_MACHINE_START:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent.SOUND_MACHINE_SWITCHED_ON,te,ee.objectId,se));return;case RoomObjectFurnitureActionEvent.SOUND_MACHINE_STOP:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent.SOUND_MACHINE_SWITCHED_OFF,te,ee.objectId,se));return;case RoomObjectFurnitureActionEvent.SOUND_MACHINE_DISPOSE:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent.SOUND_MACHINE_DISPOSE,te,ee.objectId,se));return}}handleObjectJukeboxEvent(ee,te){if(!ee)return;const se=this._roomEngine.getRoomObjectCategoryForType(ee.objectType),ne=this.getSelectedRoomObjectData(te);if(!(ne&&ne.category===se&&ne.id===ee.objectId&&ne.operation===RoomObjectOperationType.OBJECT_PLACE))switch(ee.type){case RoomObjectFurnitureActionEvent.JUKEBOX_INIT:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent.JUKEBOX_INIT,te,ee.objectId,se));return;case RoomObjectFurnitureActionEvent.JUKEBOX_START:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent.JUKEBOX_SWITCHED_ON,te,ee.objectId,se));return;case RoomObjectFurnitureActionEvent.JUKEBOX_MACHINE_STOP:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent.JUKEBOX_SWITCHED_OFF,te,ee.objectId,se));return;case RoomObjectFurnitureActionEvent.JUKEBOX_DISPOSE:this._roomEngine.events.dispatchEvent(new RoomObjectSoundMachineEvent(RoomObjectSoundMachineEvent.JUKEBOX_DISPOSE,te,ee.objectId,se));return}}onRoomObjectFloorHoleEvent(ee,te){if(ee)switch(ee.type){case RoomObjectFloorHoleEvent.ADD_HOLE:this._roomEngine.addRoomInstanceFloorHole(te,ee.objectId);return;case RoomObjectFloorHoleEvent.REMOVE_HOLE:this._roomEngine.removeRoomInstanceFloorHole(te,ee.objectId);return}}onRoomObjectRoomAdEvent(ee,te){if(!ee)return;let se=null;switch(ee.type){case RoomObjectRoomAdEvent.ROOM_AD_FURNI_CLICK:this._roomEngine.events.dispatchEvent(ee),ee.clickUrl&&ee.clickUrl.length>0&&Nitro.instance.createLinkEvent(ee.clickUrl),se=RoomEngineRoomAdEvent.FURNI_CLICK;break;case RoomObjectRoomAdEvent.ROOM_AD_FURNI_DOUBLE_CLICK:if(ee.clickUrl&&ee.clickUrl.length>0){const ne="CATALOG_PAGE";ee.clickUrl.indexOf(ne)===0&&Nitro.instance.createLinkEvent(ee.clickUrl.substr(ne.length))}se=RoomEngineRoomAdEvent.FURNI_DOUBLE_CLICK;break;case RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_SHOW:se=RoomEngineRoomAdEvent.TOOLTIP_SHOW;break;case RoomObjectRoomAdEvent.ROOM_AD_TOOLTIP_HIDE:se=RoomEngineRoomAdEvent.TOOLTIP_HIDE;break}se&&this._roomEngine.events.dispatchEvent(new RoomEngineObjectEvent(se,te,ee.objectId,this._roomEngine.getRoomObjectCategoryForType(ee.objectType)))}onRoomObjectBadgeAssetEvent(ee,te){if(!(!ee||!this._roomEngine))switch(ee.type){case RoomObjectBadgeAssetEvent.LOAD_BADGE:{const se=ee.objectId,ne=ee.objectType,le=this._roomEngine.getRoomObjectCategoryForType(ne);this._roomEngine.loadRoomObjectBadgeImage(te,se,le,ee.badgeId,ee.groupBadge);return}}}handleMousePointer(ee,te){ee&&this._roomEngine.updateMousePointer(ee.type,ee.objectId,ee.objectType)}handleRoomObjectPlaySoundEvent(ee,te){const se=this._roomEngine.getRoomObjectCategoryForType(ee.objectType);switch(ee.type){case RoomObjectPlaySoundIdEvent.PLAY_SOUND:this._roomEngine.events.dispatchEvent(new RoomEngineObjectPlaySoundEvent(RoomEngineObjectPlaySoundEvent.PLAY_SOUND,te,ee.objectId,se,ee.soundId,ee.pitch));return;case RoomObjectPlaySoundIdEvent.PLAY_SOUND_AT_PITCH:this._roomEngine.events.dispatchEvent(new RoomEngineObjectPlaySoundEvent(RoomEngineObjectPlaySoundEvent.PLAY_SOUND_AT_PITCH,te,ee.objectId,se,ee.soundId,ee.pitch));return}}handleRoomObjectSamplePlaybackEvent(ee,te){if(!ee)return;const se=this._roomEngine.getRoomObjectCategoryForType(ee.objectType);switch(ee.type){case RoomObjectSamplePlaybackEvent.ROOM_OBJECT_INITIALIZED:this._roomEngine.events.dispatchEvent(new RoomEngineSamplePlaybackEvent(RoomEngineSamplePlaybackEvent.ROOM_OBJECT_INITIALIZED,te,ee.objectId,se,ee.sampleId,ee.pitch));break;case RoomObjectSamplePlaybackEvent.ROOM_OBJECT_DISPOSED:this._roomEngine.events.dispatchEvent(new RoomEngineSamplePlaybackEvent(RoomEngineSamplePlaybackEvent.ROOM_OBJECT_DISPOSED,te,ee.objectId,se,ee.sampleId,ee.pitch));break;case RoomObjectSamplePlaybackEvent.PLAY_SAMPLE:this._roomEngine.events.dispatchEvent(new RoomEngineSamplePlaybackEvent(RoomEngineSamplePlaybackEvent.PLAY_SAMPLE,te,ee.objectId,se,ee.sampleId,ee.pitch));break;case RoomObjectSamplePlaybackEvent.CHANGE_PITCH:this._roomEngine.events.dispatchEvent(new RoomEngineSamplePlaybackEvent(RoomEngineSamplePlaybackEvent.CHANGE_PITCH,te,ee.objectId,se,ee.sampleId,ee.pitch));break}}onHSLColorEnableEvent(ee,te){if(!(!ee||!this._roomEngine))switch(ee.type){case RoomObjectHSLColorEnableEvent.ROOM_BACKGROUND_COLOR:this._roomEngine.events.dispatchEvent(new RoomObjectHSLColorEnabledEvent(RoomObjectHSLColorEnabledEvent.ROOM_BACKGROUND_COLOR,te,ee.enable,ee.hue,ee.saturation,ee.lightness));return}}onRoomObjectDataRequestEvent(ee,te){if(!(!ee||!this._roomEngine||!ee.object))switch(ee.type){case RoomObjectDataRequestEvent.RODRE_CURRENT_USER_ID:ee.object.model.setValue(RoomObjectVariable.SESSION_CURRENT_USER_ID,this._roomEngine.sessionDataManager.userId);return;case RoomObjectDataRequestEvent.RODRE_URL_PREFIX:ee.object.model.setValue(RoomObjectVariable.SESSION_URL_PREFIX,NitroConfiguration.getValue("url.prefix"));return}}onRoomObjectTileMouseEvent(ee,te){if(!this._roomEngine||this._roomEngine.isDecorating||!this._roomEngine.roomSessionManager)return;const se=this._roomEngine.roomSessionManager.getSession(ee);!se||se.isSpectator||this.sendWalkUpdate(te.tileXAsInt,te.tileYAsInt)}handleObjectMove(ee,te){if(!ee||!this._roomEngine||!this._roomEngine.events)return;const ne=this.getSelectedRoomObjectData(te);if(!ne)return;const le=this._roomEngine.getRoomObject(te,ne.id,ne.category);if(!le)return;let ue=!0;if(ne.category===RoomObjectCategory.FLOOR||ne.category===RoomObjectCategory.UNIT){const ce=this._roomEngine.getFurnitureStackingHeightMap(te);ee instanceof RoomObjectTileMouseEvent&&this.handleFurnitureMove(le,ne,Math.trunc(ee.tileX+.5),Math.trunc(ee.tileY+.5),ce)||(this.handleFurnitureMove(le,ne,ne.loc.x,ne.loc.y,ce),ue=!1)}else if(ne.category===RoomObjectCategory.WALL){if(ue=!1,ee instanceof RoomObjectWallMouseEvent){const ce=ee.wallLocation,he=ee.wallWidth,de=ee.wallHeight,_e=ee.x,fe=ee.y,ye=ee.direction;this.handleWallItemMove(le,ne,ce,he,de,_e,fe,ye)&&(ue=!0)}ue||(le.setLocation(ne.loc),le.setDirection(ne.dir)),this._roomEngine.updateRoomObjectMask(te,ne.id,ue)}ue?(this.setFurnitureAlphaMultiplier(le,.5),this._roomEngine.setObjectMoverIconSpriteVisible(!1)):(this.setFurnitureAlphaMultiplier(le,0),this._roomEngine.setObjectMoverIconSpriteVisible(!0))}handleObjectPlace(ee,te){if(!ee||!this._roomEngine||!this._roomEngine.events)return;let ne=this.getSelectedRoomObjectData(te);if(!ne)return;let le=this._roomEngine.getRoomObject(te,ne.id,ne.category);if(!le){if(ee instanceof RoomObjectTileMouseEvent){if(ne.category===RoomObjectCategory.FLOOR)this._roomEngine.addFurnitureFloor(te,ne.id,ne.typeId,ne.loc,ne.dir,0,ne.stuffData,parseFloat(ne.instanceData),-1,0,0,"",!1);else if(ne.category===RoomObjectCategory.UNIT){this._roomEngine.addRoomObjectUser(te,ne.id,new Vector3d,new Vector3d(180),180,ne.typeId,ne.instanceData);const ue=this._roomEngine.getRoomObject(te,ne.id,ne.category);ue&&ne.posture&&ue.model.setValue(RoomObjectVariable.FIGURE_POSTURE,ne.posture)}}else ee instanceof RoomObjectWallMouseEvent&&ne.category===RoomObjectCategory.WALL&&this._roomEngine.addFurnitureWall(te,ne.id,ne.typeId,ne.loc,ne.dir,0,ne.instanceData,0);if(le=this._roomEngine.getRoomObject(te,ne.id,ne.category),le&&ne.category===RoomObjectCategory.FLOOR){const ue=le.model.getValue(RoomObjectVariable.FURNITURE_ALLOWED_DIRECTIONS);if(ue&&ue.length){const ce=new Vector3d(ue[0]);if(le.setDirection(ce),this.updateSelectedObjectData(te,ne.id,ne.category,ne.loc,ce,ne.operation,ne.typeId,ne.instanceData,ne.stuffData,ne.state,ne.animFrame,ne.posture),ne=this.getSelectedRoomObjectData(te),!ne)return}}this.setFurnitureAlphaMultiplier(le,.5),this._roomEngine.setObjectMoverIconSpriteVisible(!0)}if(le){let ue=!0;const ce=this._roomEngine.getFurnitureStackingHeightMap(te);if(ne.category===RoomObjectCategory.FLOOR)ee instanceof RoomObjectTileMouseEvent&&this.handleFurnitureMove(le,ne,Math.trunc(ee.tileX+.5),Math.trunc(ee.tileY+.5),ce)||(this._roomEngine.removeRoomObjectFloor(te,ne.id),ue=!1);else if(ne.category===RoomObjectCategory.WALL){if(ue=!1,ee instanceof RoomObjectWallMouseEvent){const he=ee.wallLocation,de=ee.wallWidth,_e=ee.wallHeight,fe=ee.x,ye=ee.y,be=ee.direction;this.handleWallItemMove(le,ne,he,de,_e,fe,ye,be)&&(ue=!0)}ue||this._roomEngine.removeRoomObjectWall(te,ne.id),this._roomEngine.updateRoomObjectMask(te,ne.id,ue)}else ne.category===RoomObjectCategory.UNIT&&(ee instanceof RoomObjectTileMouseEvent&&this.handleUserPlace(le,Math.trunc(ee.tileX+.5),Math.trunc(ee.tileY+.5),this._roomEngine.getLegacyWallGeometry(te))||(this._roomEngine.removeRoomObjectUser(te,ne.id),ue=!1));this._roomEngine.setObjectMoverIconSpriteVisible(!ue)}}handleFurnitureMove(ee,te,se,ne,le){if(!ee||!te)return!1;const ue=new Vector3d;ue.assign(ee.getDirection()),ee.setDirection(te.dir);const ce=new Vector3d(se,ne,0),he=new Vector3d;he.assign(ee.getDirection());let de=this.validateFurnitureLocation(ee,ce,te.loc,te.dir,le);return de||(he.x=this.getValidRoomObjectDirection(ee,!0),ee.setDirection(he),de=this.validateFurnitureLocation(ee,ce,te.loc,te.dir,le)),de?(ee.setLocation(de),he&&ee.setDirection(he),!0):(ee.setDirection(ue),!1)}handleWallItemMove(ee,te,se,ne,le,ue,ce,he){if(!ee||!te)return!1;const de=new Vector3d(he),_e=this.validateWallItemLocation(ee,se,ne,le,ue,ce,te);return _e?(ee.setLocation(_e),ee.setDirection(de),!0):!1}validateFurnitureLocation(ee,te,se,ne,le){if(!ee||!ee.model||!te)return null;let ue=null;const ce=ee.getDirection();if(!ce||!se||!ne)return null;if(te.x===se.x&&te.y===se.y&&ce.x===ne.x)return ue=new Vector3d,ue.assign(se),ue;let he=ee.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X),de=ee.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);he<1&&(he=1),de<1&&(de=1);const _e=se.x,fe=se.y;let ye=he,be=de,Pe=0,Ne=Math.trunc(Math.trunc(ce.x+45)%360/90);if((Ne===1||Ne===3)&&(Pe=he,he=de,de=Pe),Ne=Math.trunc(Math.trunc(ne.x+45)%360/90),(Ne===1||Ne===3)&&(Pe=ye,ye=be,be=Pe),le&&te){const we=ee.model.getValue(RoomObjectVariable.FURNITURE_ALWAYS_STACKABLE)===1;return le.validateLocation(te.x,te.y,he,de,_e,fe,ye,be,we)?new Vector3d(te.x,te.y,le.getTileHeight(te.x,te.y)):null}return null}validateWallItemLocation(ee,te,se,ne,le,ue,ce){if(ee==null||ee.model==null||te==null||se==null||ne==null||ce==null)return null;const he=ee.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X),de=ee.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Z),_e=ee.model.getValue(RoomObjectVariable.FURNITURE_CENTER_Z);if((le<he/2||le>se.length-he/2||ue<_e||ue>ne.length-(de-_e))&&(le<he/2&&le<=se.length-he/2?le=he/2:le>=he/2&&le>se.length-he/2&&(le=se.length-he/2),ue<_e&&ue<=ne.length-(de-_e)?ue=_e:ue>=_e&&ue>ne.length-(de-_e)&&(ue=ne.length-(de-_e))),le<he/2||le>se.length-he/2||ue<_e||ue>ne.length-(de-_e))return null;let fe=Vector3d.sum(Vector3d.product(se,le/se.length),Vector3d.product(ne,ue/ne.length));return fe=Vector3d.sum(te,fe),fe}changeObjectState(ee,te,se,ne,le){const ue=this._roomEngine.getRoomObjectCategoryForType(se);this.changeRoomObjectState(ee,te,ue,ne,le)}useObject(ee,te,se,ne){if(!(!this._roomEngine||!this._roomEngine.connection))switch(ne){case RoomObjectFurnitureActionEvent.DICE_ACTIVATE:this._roomEngine.connection.send(new FurnitureDiceActivateComposer(te));return;case RoomObjectFurnitureActionEvent.DICE_OFF:this._roomEngine.connection.send(new FurnitureDiceDeactivateComposer(te));return;case RoomObjectFurnitureActionEvent.USE_HABBOWHEEL:this._roomEngine.connection.send(new FurnitureColorWheelComposer(te));return;case RoomObjectFurnitureActionEvent.STICKIE:this._roomEngine.connection.send(new GetItemDataComposer(te));return;case RoomObjectFurnitureActionEvent.ENTER_ONEWAYDOOR:this._roomEngine.connection.send(new FurnitureOneWayDoorComposer(te));return}}changeRoomObjectState(ee,te,se,ne,le){return!this._roomEngine||!this._roomEngine.connection||(se===RoomObjectCategory.FLOOR?le?this._roomEngine.connection.send(new FurnitureRandomStateComposer(te,ne)):this._roomEngine.connection.send(new FurnitureMultiStateComposer(te,ne)):se===RoomObjectCategory.WALL&&this._roomEngine.connection.send(new FurnitureWallMultiStateComposer(te,ne))),!0}sendWalkUpdate(ee,te){!this._roomEngine||!this._roomEngine.connection||this._roomEngine.connection.send(new RoomUnitWalkComposer$1(ee,te))}handleMouseOverObject(ee,te,se){if(ee!==RoomObjectCategory.FLOOR)return null;const ne=this._roomEngine.getRoomObject(te,se.objectId,RoomObjectCategory.FLOOR);if(!ne)return null;const le=this.getActiveSurfaceLocation(ne,se);if(!le||!this._roomEngine.getFurnitureStackingHeightMap(te))return null;const ce=le.x,he=le.y,de=le.z;return new ObjectTileCursorUpdateMessage(new Vector3d(ce,he,ne.getLocation().z),de,!0,se.eventId)}handleMoveTargetFurni(ee,te){if(te.objectType===RoomObjectUserType.USER||te.objectType===RoomObjectUserType.PET||te.objectType===RoomObjectUserType.BOT||te.objectType===RoomObjectUserType.RENTABLE_BOT||te.objectType===RoomObjectUserType.MONSTER_PLANT)return;const se=this._roomEngine.getRoomObject(ee,te.objectId,RoomObjectCategory.FLOOR),ne=this.getActiveSurfaceLocation(se,te);return ne?(this.sendWalkUpdate(ne.x,ne.y),!0):!1}getActiveSurfaceLocation(ee,te){if(!ee||!te)return null;const se=this._roomEngine.sessionDataManager.getFloorItemDataByName(ee.type);if(!se||!se.canStandOn&&!se.canSitOn&&!se.canLayOn)return null;const ne=ee.model;if(!ne)return null;const le=ee.getLocation(),ue=ee.getDirection();let ce=ne.getValue(RoomObjectVariable.FURNITURE_SIZE_X),he=ne.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);const de=ne.getValue(RoomObjectVariable.FURNITURE_SIZE_Z);(ue.x===90||ue.x===270)&&([ce,he]=[he,ce]),ce<1&&(ce=1),he<1&&(he=1);const _e=this._roomEngine.getActiveRoomInstanceRenderingCanvas();if(!_e)return null;const fe=_e.geometry.scale,ye=se.canSitOn?.5:0,be=(fe/2+te.spriteOffsetX+te.localX)/(fe/4),Pe=(te.spriteOffsetY+te.localY+(de-ye)*fe/2)/(fe/4),Ne=(be+2*Pe)/4,we=(be-2*Pe)/4,De=Math.floor(le.x+Ne),$e=Math.floor(le.y-we+1);let Ge=!1;(De<le.x||De>=le.x+ce||$e<le.y||$e>=le.y+he)&&(Ge=!0);const Be=se.canSitOn?de-.5:de;return Ge?null:new Vector3d(De,$e,Be)}handleMouseOverTile(ee,te){if(this._whereYouClickIsWhereYouGo)return new ObjectTileCursorUpdateMessage(new Vector3d(ee.tileXAsInt,ee.tileYAsInt,ee.tileZAsInt),0,!0,ee.eventId);const se=this._roomEngine.getRoomObjectCursor(te);if(se&&se.visualization){const ne=ee.tileXAsInt,le=ee.tileYAsInt,ue=ee.tileZAsInt;if(this._roomEngine.getRoomInstance(te)){const he=this._roomEngine.getRoomTileObjectMap(te);if(he){const de=he.getObjectIntTile(ne,le),_e=this._roomEngine.getFurnitureStackingHeightMap(te);if(_e){if(de&&de.model&&de.model.getValue(RoomObjectVariable.FURNITURE_IS_VARIABLE_HEIGHT)>0){const fe=_e.getTileHeight(ne,le),ye=this._roomEngine.getLegacyWallGeometry(te).getHeight(ne,le);return new ObjectTileCursorUpdateMessage(new Vector3d(ne,le,ue),fe-ye,!0,ee.eventId)}return new ObjectTileCursorUpdateMessage(new Vector3d(ne,le,ue),0,!0,ee.eventId)}}}}return null}placeObject(ee,te,se){const ne=this.getSelectedRoomObjectData(ee);if(!ne)return;let le=null,ue=ne.id;const ce=ne.category;let he=0,de=0,_e=0,fe=0,ye="";if(this._roomEngine&&this._roomEngine.connection&&(le=this._roomEngine.getRoomObject(ee,ue,ce),le)){const be=le.getLocation();if(fe=le.getDirection().x,ce===RoomObjectCategory.FLOOR||ce===RoomObjectCategory.UNIT)he=be.x,de=be.y,_e=be.z;else if(ce===RoomObjectCategory.WALL){he=be.x,de=be.y,_e=be.z;const Pe=this._roomEngine.getLegacyWallGeometry(ee);Pe&&(ye=Pe.getOldLocationString(be,fe))}fe=(fe/45%8+8)%8,ue<0&&ce===RoomObjectCategory.UNIT&&(ue=ue*-1),this._objectPlacementSource!==RoomObjectPlacementSource.CATALOG&&(ce===RoomObjectCategory.UNIT?ne.typeId===RoomObjectType.PET?this._roomEngine.connection.send(new PetPlaceComposer(ue,Math.trunc(he),Math.trunc(de))):ne.typeId===RoomObjectType.RENTABLE_BOT&&this._roomEngine.connection.send(new BotPlaceComposer(ue,Math.trunc(he),Math.trunc(de))):le.model.getValue(RoomObjectVariable.FURNITURE_IS_STICKIE)!==void 0?this._roomEngine.connection.send(new FurniturePostItPlaceComposer(ue,ye)):this._roomEngine.connection.send(new FurniturePlaceComposer$1(ue,ce,ye,Math.trunc(he),Math.trunc(de),fe)))}if(this._roomEngine.setPlacedRoomObjectData(ee,new SelectedRoomObjectData(ne.id,ne.category,null,ne.dir,null)),this.resetSelectedObjectData(ee),this._roomEngine&&this._roomEngine.events){const be=le&&le.id===ne.id;this._roomEngine.events.dispatchEvent(new RoomEngineObjectPlacedEvent(RoomEngineObjectEvent.PLACED,ee,ue,ce,ye,he,de,_e,fe,be,te,se,ne.instanceData))}}modifyRoomObject(ee,te,se,ne){if(!this._roomEngine)return!1;const le=this._roomEngine.getRoomObject(ee,te,se);if(!le)return!1;let ue=!0;switch(ne){case RoomObjectOperationType.OBJECT_ROTATE_POSITIVE:case RoomObjectOperationType.OBJECT_ROTATE_NEGATIVE:if(this._roomEngine.connection){let ce=0;ne==RoomObjectOperationType.OBJECT_ROTATE_NEGATIVE?ce=this.getValidRoomObjectDirection(le,!1):ce=this.getValidRoomObjectDirection(le,!0);const he=le.getLocation().x,de=le.getLocation().y;if(this.isValidLocation(le,new Vector3d(ce),this._roomEngine.getFurnitureStackingHeightMap(ee)))if(ce=Math.trunc(ce/45),le.type===RoomObjectUserType.MONSTER_PLANT){const _e=this._roomEngine.roomSessionManager.getSession(ee);if(_e){const fe=_e.userDataManager.getUserDataByIndex(te);fe&&this._roomEngine.connection.send(new PetMoveComposer(fe.webID,Math.trunc(he),Math.trunc(de),ce))}}else this._roomEngine.connection.send(new FurnitureFloorUpdateComposer(te,he,de,ce))}break;case RoomObjectOperationType.OBJECT_EJECT:case RoomObjectOperationType.OBJECT_PICKUP:this._roomEngine.connection&&this._roomEngine.connection.send(new FurniturePickupComposer$1(se,te));break;case RoomObjectOperationType.OBJECT_PICKUP_PET:if(this._roomEngine.connection){const ce=this._roomEngine.roomSessionManager.getSession(ee);if(ce){const he=ce.userDataManager.getUserDataByIndex(te);ce.pickupPet(he.webID)}}break;case RoomObjectOperationType.OBJECT_PICKUP_BOT:if(this._roomEngine.connection){const ce=this._roomEngine.roomSessionManager.getSession(ee);if(ce){const he=ce.userDataManager.getUserDataByIndex(te);ce.pickupBot(he.webID)}}break;case RoomObjectOperationType.OBJECT_MOVE:ue=!1,this.setFurnitureAlphaMultiplier(le,.5),this.setSelectedRoomObjectData(ee,le.id,se,le.getLocation(),le.getDirection(),ne),this._roomEngine.setObjectMoverIconSprite(le.id,se,!0),this._roomEngine.setObjectMoverIconSpriteVisible(!1);break;case RoomObjectOperationType.OBJECT_MOVE_TO:{const ce=this.getSelectedRoomObjectData(ee);if(this.updateSelectedObjectData(ee,ce.id,ce.category,ce.loc,ce.dir,RoomObjectOperationType.OBJECT_MOVE_TO,ce.typeId,ce.instanceData,ce.stuffData,ce.state,ce.animFrame,ce.posture),this.setFurnitureAlphaMultiplier(le,1),this._roomEngine.removeObjectMoverIconSprite(),this._roomEngine.connection){if(se===RoomObjectCategory.FLOOR){const he=le.getDirection().x%360,de=le.getLocation(),_e=he/45;this._roomEngine.connection.send(new FurnitureFloorUpdateComposer(te,de.x,de.y,_e))}else if(se===RoomObjectCategory.WALL){const he=le.getDirection().x%360,de=this._roomEngine.getLegacyWallGeometry(ee);if(de){const _e=de.getOldLocationString(le.getLocation(),he);_e&&this._roomEngine.connection.send(new FurnitureWallUpdateComposer(te,_e))}}else if(se===RoomObjectCategory.UNIT){const he=le.getDirection().x%360,de=le.getLocation(),_e=he/45;parseInt(le.model.getValue(RoomObjectVariable.RACE));const fe=this._roomEngine.roomSessionManager.getSession(ee);if(fe){const ye=fe.userDataManager.getUserDataByIndex(te);ye&&this._roomEngine.connection.send(new PetMoveComposer(ye.webID,de.x,de.y,_e))}}}break}}return ue&&this.resetSelectedObjectData(ee),!0}modifyRoomObjectDataWithMap(ee,te,se,ne,le){if(!this._roomEngine||!this._roomEngine.getRoomObject(ee,te,se))return!1;switch(ne){case RoomObjectOperationType.OBJECT_SAVE_STUFF_DATA:this._roomEngine.connection&&this._roomEngine.connection.send(new SetObjectDataMessageComposer(te,le));break}return!0}modifyWallItemData(ee,te,se,ne){return!this._roomEngine||!this._roomEngine.connection?!1:(this._roomEngine.connection.send(new SetItemDataMessageComposer(te,se,ne)),!0)}deleteWallItem(ee,te){return!this._roomEngine||!this._roomEngine.connection?!1:(this._roomEngine.connection.send(new RemoveWallItemComposer(te)),!0)}getValidRoomObjectDirection(ee,te){if(!ee||!ee.model)return 0;let se=0,ne=0,le=[];ee.type===RoomObjectUserType.MONSTER_PLANT?le=ee.model.getValue(RoomObjectVariable.PET_ALLOWED_DIRECTIONS):le=ee.model.getValue(RoomObjectVariable.FURNITURE_ALLOWED_DIRECTIONS);let ue=ee.getDirection().x;if(le&&le.length){if(se=le.indexOf(ue),se<0){for(se=0,ne=0;ne<le.length&&!(ue<=le[ne]);)se++,ne++;se=se%le.length}te?se=(se+1)%le.length:se=(se-1+le.length)%le.length,ue=le[se]}return ue}isValidLocation(ee,te,se){if(!ee||!ee.model||!te)return!1;const ne=ee.getDirection(),le=ee.getLocation();if(!ne||!le)return!1;if(ne.x%180===te.x%180)return!0;let ue=ee.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X),ce=ee.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);ue<1&&(ue=1),ce<1&&(ce=1);let he=ue,de=ce,_e=Math.trunc(Math.trunc(te.x+45)%360/90);if((_e===1||_e===3)&&([ue,ce]=[ce,ue]),_e=Math.trunc(Math.trunc(ne.x+45)%360/90),(_e===1||_e===3)&&([he,de]=[de,he]),se&&le){const fe=ee.model.getValue(RoomObjectVariable.FURNITURE_ALWAYS_STACKABLE)===1;if(se.validateLocation(le.x,le.y,ue,ce,le.x,le.y,he,de,fe,le.z))return!0}return!1}placeObjectOnUser(ee,te,se){const ne=this.getSelectedRoomObjectData(ee);!ne||!this._roomEngine.getRoomObject(ee,te,se)||!this._roomEngine||!this._roomEngine.events||this._roomEngine.events.dispatchEvent(new RoomEngineObjectPlacedOnUserEvent(RoomEngineObjectEvent.PLACED_ON_USER,ee,te,se,ne.id,ne.category))}setSelectedObject(ee,te,se){if(!this._roomEngine)return;const ne=this._roomEngine.events;if(ne)switch(se){case RoomObjectCategory.UNIT:case RoomObjectCategory.FLOOR:case RoomObjectCategory.WALL:if(se===RoomObjectCategory.UNIT)this.deselectObject(ee),this.setSelectedAvatar(ee,te,!0);else if(this.setSelectedAvatar(ee,0,!1),te!==this._selectedObjectId){this.deselectObject(ee);const le=this._roomEngine.getRoomObject(ee,te,se);le&&le.logic&&(le.logic.processUpdateMessage(new ObjectSelectedMessage(!0)),this._selectedObjectId=te,this._selectedObjectCategory=se)}ne.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.SELECTED,ee,te,se));return}}deselectObject(ee){if(this._selectedObjectId===-1)return;const te=this._roomEngine.getRoomObject(ee,this._selectedObjectId,this._selectedObjectCategory);te&&te.logic&&(te.logic.processUpdateMessage(new ObjectSelectedMessage(!1)),this._selectedObjectId=-1,this._selectedObjectCategory=RoomObjectCategory.MINIMUM)}setSelectedAvatar(ee,te,se){if(!this._roomEngine)return;const ne=RoomObjectCategory.UNIT,le=this._roomEngine.getRoomObject(ee,this._selectedAvatarId,ne);le&&le.logic&&(le.logic.processUpdateMessage(new ObjectAvatarSelectedMessage(!1)),this._selectedAvatarId=-1);let ue=!1;if(se){const he=this._roomEngine.getRoomObject(ee,te,ne);if(he&&he.logic){he.logic.processUpdateMessage(new ObjectAvatarSelectedMessage(!0)),ue=!0,this._selectedAvatarId=te;const de=he.getLocation();de&&this._roomEngine.connection.send(new RoomUnitLookComposer$1(~~de.x,~~de.y))}}const ce=this._roomEngine.getRoomObjectSelectionArrow(ee);ce&&ce.logic&&(ue&&!this._roomEngine.isPlayingGame()?ce.logic.processUpdateMessage(new ObjectVisibilityUpdateMessage(ObjectVisibilityUpdateMessage.ENABLED)):ce.logic.processUpdateMessage(new ObjectVisibilityUpdateMessage(ObjectVisibilityUpdateMessage.DISABLED)))}resetSelectedObjectData(ee){if(!this._roomEngine)return;this._roomEngine.removeObjectMoverIconSprite();const te=this.getSelectedRoomObjectData(ee);if(te){if(te.operation===RoomObjectOperationType.OBJECT_MOVE||te.operation===RoomObjectOperationType.OBJECT_MOVE_TO){const se=this._roomEngine.getRoomObject(ee,te.id,te.category);se&&te.operation!==RoomObjectOperationType.OBJECT_MOVE_TO&&(se.setLocation(te.loc),se.setDirection(te.dir)),this.setFurnitureAlphaMultiplier(se,1),te.category===RoomObjectCategory.WALL&&this._roomEngine.updateRoomObjectMask(ee,te.id,!0),this.updateSelectedObjectData(ee,te.id,te.category,te.loc,te.dir,RoomObjectOperationType.OBJECT_MOVE,te.typeId,te.instanceData,te.stuffData,te.state,te.animFrame,te.posture)}else if(te.operation===RoomObjectOperationType.OBJECT_PLACE){const se=te.id;switch(te.category){case RoomObjectCategory.FLOOR:this._roomEngine.removeRoomObjectFloor(ee,se);break;case RoomObjectCategory.WALL:this._roomEngine.removeRoomObjectWall(ee,se);break;case RoomObjectCategory.UNIT:this._roomEngine.removeRoomObjectUser(ee,se);break}}this._roomEngine.setSelectedRoomObjectData(ee,null)}}getSelectedRoomObjectData(ee){return this._roomEngine?this._roomEngine.getSelectedRoomObjectData(ee):null}setFurnitureAlphaMultiplier(ee,te){!ee||!ee.model||ee.model.setValue(RoomObjectVariable.FURNITURE_ALPHA_MULTIPLIER,te)}decorateModeMove(ee){return this._roomEngine.isDecorating&&!(ee.ctrlKey||ee.shiftKey)}cancelRoomObjectPlacement(ee){return this.resetSelectedObjectData(ee),!0}setSelectedRoomObjectData(ee,te,se,ne,le,ue,ce=0,he=null,de=null,_e=-1,fe=-1,ye=null){if(this.resetSelectedObjectData(ee),!this._roomEngine)return;const be=new SelectedRoomObjectData(te,se,ue,ne,le,ce,he,de,_e,fe,ye);this._roomEngine.setSelectedRoomObjectData(ee,be)}updateSelectedObjectData(ee,te,se,ne,le,ue,ce=0,he=null,de=null,_e=-1,fe=-1,ye=null){if(!this._roomEngine)return null;const be=new SelectedRoomObjectData(te,se,ue,ne,le,ce,he,de,_e,fe,ye);this._roomEngine.setSelectedRoomObjectData(ee,be)}handleUserPlace(ee,te,se,ne){return ne.isRoomTile(te,se)?(ee.setLocation(new Vector3d(te,se,ne.getHeight(te,se))),!0):!1}get engine(){return this._roomEngine}get selectedAvatarId(){return this._selectedAvatarId}}class RoomObjectLogicFactory{constructor(){this._events=new EventDispatcher,this._cachedEvents=new Map,this._registeredEvents=new Map,this._functions=[]}getLogic(ee){const te=this.getLogicType(ee);if(!te)return null;const se=new te;if(!se)return null;if(se.eventDispatcher=this._events,!this._cachedEvents.get(ee)){this._cachedEvents.set(ee,!0);const ne=se.getEventTypes();for(const le of ne)le&&this.registerEventType(le)}return se}registerEventType(ee){if(!this._registeredEvents.get(ee)){this._registeredEvents.set(ee,!0);for(const te of this._functions)te&&this._events.addEventListener(ee,te)}}registerEventFunction(ee){if(ee&&!(this._functions.indexOf(ee)>=0)){this._functions.push(ee);for(const te of this._registeredEvents.keys())te&&this._events.addEventListener(te,ee)}}removeEventFunction(ee){if(!ee)return;const te=this._functions.indexOf(ee);if(te!==-1){this._functions.splice(te,1);for(const se of this._registeredEvents.keys())se&&this._events.removeEventListener(se,ee)}}getLogicType(ee){if(!ee)return null;let te=null;switch(ee){case RoomObjectLogicType.ROOM:te=RoomLogic;break;case RoomObjectLogicType.TILE_CURSOR:te=TileCursorLogic;break;case RoomObjectLogicType.SELECTION_ARROW:te=SelectionArrowLogic;break;case RoomObjectLogicType.USER:case RoomObjectLogicType.BOT:case RoomObjectLogicType.RENTABLE_BOT:te=AvatarLogic;break;case RoomObjectLogicType.PET:te=PetLogic;break;case RoomObjectLogicType.FURNITURE_BASIC:te=FurnitureLogic;break;case RoomObjectLogicType.FURNITURE_BADGE_DISPLAY:te=FurnitureBadgeDisplayLogic;break;case RoomObjectLogicType.FURNITURE_CHANGE_STATE_WHEN_STEP_ON:te=FurnitureChangeStateWhenStepOnLogic;break;case RoomObjectLogicType.FURNITURE_COUNTER_CLOCK:te=FurnitureCounterClockLogic;break;case RoomObjectLogicType.FURNITURE_CRACKABLE:te=FurnitureCrackableLogic;break;case RoomObjectLogicType.FURNITURE_CREDIT:te=FurnitureCreditLogic;break;case RoomObjectLogicType.FURNITURE_CUSTOM_STACK_HEIGHT:te=FurnitureCustomStackHeightLogic;break;case RoomObjectLogicType.FURNITURE_DICE:te=FurnitureDiceLogic;break;case RoomObjectLogicType.FURNITURE_EDITABLE_INTERNAL_LINK:te=FurnitureEditableInternalLinkLogic;break;case RoomObjectLogicType.FURNITURE_EDITABLE_ROOM_LINK:te=FurnitureEditableRoomLinkLogic;break;case RoomObjectLogicType.FURNITURE_EXTERNAL_IMAGE_WALLITEM:te=FurnitureExternalImageLogic;break;case RoomObjectLogicType.FURNITURE_FIREWORKS:te=FurnitureFireworksLogic;break;case RoomObjectLogicType.FURNITURE_FLOOR_HOLE:te=FurnitureFloorHoleLogic;break;case RoomObjectLogicType.FURNITURE_GUILD_CUSTOMIZED:te=FurnitureGuildCustomizedLogic;break;case RoomObjectLogicType.FURNITURE_HIGH_SCORE:te=FurnitureHighScoreLogic;break;case RoomObjectLogicType.FURNITURE_HOCKEY_SCORE:te=FurnitureHockeyScoreLogic;break;case RoomObjectLogicType.FURNITURE_ES:te=FurnitureIceStormLogic;break;case RoomObjectLogicType.FURNITURE_MANNEQUIN:te=FurnitureMannequinLogic;break;case RoomObjectLogicType.FURNITURE_MULTIHEIGHT:te=FurnitureMultiHeightLogic;break;case RoomObjectLogicType.FURNITURE_MULTISTATE:te=FurnitureMultiStateLogic;break;case RoomObjectLogicType.FURNITURE_ONE_WAY_DOOR:te=FurnitureOneWayDoorLogic;break;case RoomObjectLogicType.FURNITURE_PET_CUSTOMIZATION:te=FurniturePetCustomizationLogic;break;case RoomObjectLogicType.FURNITURE_PRESENT:te=FurniturePresentLogic;break;case RoomObjectLogicType.FURNITURE_PURCHASABLE_CLOTHING:te=FurniturePurchaseableClothingLogic;break;case RoomObjectLogicType.FURNITURE_PUSHABLE:te=FurniturePushableLogic;break;case RoomObjectLogicType.FURNITURE_BACKGROUND_COLOR:te=FurnitureRoomBackgroundColorLogic;break;case RoomObjectLogicType.FURNITURE_BG:te=FurnitureRoomBackgroundLogic;break;case RoomObjectLogicType.FURNITURE_BB:te=FurnitureRoomBillboardLogic;break;case RoomObjectLogicType.FURNITURE_ROOMDIMMER:te=FurnitureRoomDimmerLogic;break;case RoomObjectLogicType.FURNITURE_SCORE:te=FurnitureScoreLogic;break;case RoomObjectLogicType.FURNITURE_SOUNDBLOCK:te=FurnitureSoundBlockLogic;break;case RoomObjectLogicType.FURNITURE_STICKIE:te=FurnitureStickieLogic;break;case RoomObjectLogicType.FURNITURE_TROPHY:te=FurnitureTrophyLogic;break;case RoomObjectLogicType.FURNITURE_VOTE_COUNTER:te=FurnitureVoteCounterLogic;break;case RoomObjectLogicType.FURNITURE_VOTE_MAJORITY:te=FurnitureVoteMajorityLogic;break;case RoomObjectLogicType.FURNITURE_WINDOW:te=FurnitureWindowLogic;break;case RoomObjectLogicType.FURNITURE_LOVELOCK:te=FurnitureLoveLockLogic;break;case RoomObjectLogicType.FURNITURE_YOUTUBE:te=FurnitureYoutubeLogic;break;case RoomObjectLogicType.FURNITURE_CRAFTING_GIZMO:te=FurnitureCraftingGizmoLogic;break;case RoomObjectLogicType.FURNITURE_RENTABLE_SPACE:te=FurnitureRentableSpaceLogic;break;case RoomObjectLogicType.FURNITURE_EFFECTBOX:te=FurnitureEffectBoxLogic;break;case RoomObjectLogicType.FURNITURE_MONSTERPLANT_SEED:te=FurnitureMonsterplantSeedLogic;break;case RoomObjectLogicType.FURNITURE_MYSTERYBOX:te=FurnitureMysteryBoxLogic;break;case RoomObjectLogicType.FURNITURE_MYSTERYTROPHY:te=FurnitureMysteryTrophyLogic;break;case RoomObjectLogicType.FURNITURE_RANDOM_TELEPORT:te=FurnitureRandomTeleportLogic;break;case RoomObjectLogicType.FURNITURE_CLOTHING_CHANGE:te=FurnitureClothingChangeLogic;break;case RoomObjectLogicType.FURNITURE_CUCKOO_CLOCK:te=FurnitureCuckooClockLogic;break;case RoomObjectLogicType.FURNITURE_ECOTRON_BOX:te=FurnitureEcotronBoxLogic;break;case RoomObjectLogicType.FURNITURE_GROUP_FORUM_TERMINAL:te=FurnitureGroupForumTerminalLogic;break;case RoomObjectLogicType.FURNITURE_HWEEN_LOVELOCK:te=FurnitureHweenLovelockLogic;break;case RoomObjectLogicType.FURNITURE_INTERNAL_LINK:te=FurnitureInternalLinkLogic;break;case RoomObjectLogicType.FURNITURE_JUKEBOX:te=FurnitureJukeboxLogic;break;case RoomObjectLogicType.FURNITURE_PLACEHOLDER:te=FurniturePlaceholderLogic;break;case RoomObjectLogicType.FURNITURE_PLANET_SYSTEM:te=FurniturePlanetSystemLogic;break;case RoomObjectLogicType.FURNITURE_RANDOMSTATE:te=FurnitureRandomStateLogic;break;case RoomObjectLogicType.FURNITURE_SONG_DISK:te=FurnitureSongDiskLogic;break;case RoomObjectLogicType.FURNITURE_SOUND_MACHINE:te=FurnitureSoundMachineLogic;break;case RoomObjectLogicType.FURNITURE_WELCOME_GIFT:te=FurnitureWelcomeGiftLogic;break;case RoomObjectLogicType.FURNITURE_ACHIEVEMENT_RESOLUTION:te=FurnitureAchievementResolutionLogic;break;case RoomObjectLogicType.FURNITURE_HABBOWHEEL:te=FurnitureHabboWheelLogic;break;default:te=FurnitureLogic;break}return te||(NitroLogger.warn("Unknown Logic",ee),null)}get events(){return this._events}}const NR=class NR extends NitroManager{constructor(ee){super(),this._communication=ee,this._sessionDataManager=null,this._roomSessionManager=null,this._roomManager=null,this._roomObjectEventHandler=new RoomObjectEventHandler(this),this._roomMessageHandler=new RoomMessageHandler(this),this._roomContentLoader=new RoomContentLoader,this._ready=!1,this._roomContentLoaderReady=!1,this._activeRoomId=-1,this._activeRoomActiveCanvas=-1,this._roomInstanceDatas=new Map,this._roomDatas=new Map,this._roomRendererFactory=new RoomRendererFactory,this._visualizationFactory=new RoomObjectVisualizationFactory,this._logicFactory=new RoomObjectLogicFactory,this._activeRoomActiveCanvasMouseX=0,this._activeRoomActiveCanvasMouseY=0,this._activeRoomIsDragged=!1,this._activeRoomWasDragged=!1,this._activeRoomDragStartX=0,this._activeRoomDragStartY=0,this._activeRoomDragX=0,this._activeRoomDragY=0,this._skipFurnitureCreationForNextFrame=!1,this._mouseCursorUpdate=!1,this._imageObjectIdBank=null,this._imageCallbacks=new Map,this._thumbnailCallbacks=new Map,this._roomDraggingAlwaysCenters=!1,this._roomAllowsDragging=!0,this._badgeListenerObjects=new Map,this.runVisibilityUpdate=this.runVisibilityUpdate.bind(this),this.processRoomObjectEvent=this.processRoomObjectEvent.bind(this),this.onRoomSessionEvent=this.onRoomSessionEvent.bind(this),this.onRoomContentLoaderReadyEvent=this.onRoomContentLoaderReadyEvent.bind(this),this.onBadgeImageReadyEvent=this.onBadgeImageReadyEvent.bind(this)}onInit(){this._ready||(this._imageObjectIdBank=new NumberBank(1e3),this._thumbnailObjectIdBank=new NumberBank(1e3),this._logicFactory.registerEventFunction(this.processRoomObjectEvent),this._roomManager&&(this._roomManager.setContentLoader(this._roomContentLoader),this._roomManager.addUpdateCategory(RoomObjectCategory.FLOOR),this._roomManager.addUpdateCategory(RoomObjectCategory.WALL),this._roomManager.addUpdateCategory(RoomObjectCategory.UNIT),this._roomManager.addUpdateCategory(RoomObjectCategory.CURSOR),this._roomManager.addUpdateCategory(RoomObjectCategory.ROOM)),this._roomMessageHandler.setConnection(this._communication.connection),this._roomContentLoader.initialize(this.events),this._roomContentLoader.setSessionDataManager(this._sessionDataManager),this._roomContentLoader.setIconListener(this),this._roomSessionManager&&(this._roomSessionManager.events.addEventListener(RoomSessionEvent.STARTED,this.onRoomSessionEvent),this._roomSessionManager.events.addEventListener(RoomSessionEvent.ENDED,this.onRoomSessionEvent)),this.events.addEventListener(RoomContentLoader.LOADER_READY,this.onRoomContentLoaderReadyEvent),GetTicker().add(this.update,this),document.addEventListener("visibilitychange",this.runVisibilityUpdate))}onDispose(){if(this._ready){for(const[ee,te]of this._roomInstanceDatas)this.removeRoomInstance(ee);document.removeEventListener("visibilitychange",this.runVisibilityUpdate),GetTicker().remove(this.update,this),this._roomObjectEventHandler&&this._roomObjectEventHandler.dispose(),this._roomMessageHandler&&this._roomMessageHandler.dispose(),this._roomContentLoader&&this._roomContentLoader.dispose(),this.events.removeEventListener(RoomContentLoader.LOADER_READY,this.onRoomContentLoaderReadyEvent),this._roomSessionManager&&(this._roomSessionManager.events.removeEventListener(RoomSessionEvent.STARTED,this.onRoomSessionEvent),this._roomSessionManager.events.removeEventListener(RoomSessionEvent.ENDED,this.onRoomSessionEvent)),super.onDispose()}}onRoomSessionEvent(ee){if(ee instanceof RoomSessionEvent)switch(ee.type){case RoomSessionEvent.STARTED:this._roomMessageHandler&&this._roomMessageHandler.setRoomId(ee.session.roomId);return;case RoomSessionEvent.ENDED:this._roomMessageHandler&&(this._roomMessageHandler.clearRoomId(),this.removeRoomInstance(ee.session.roomId));return}}onRoomContentLoaderReadyEvent(ee){this._roomContentLoaderReady=!0,this._roomManager.init()}setActiveRoomId(ee){this._activeRoomId=ee}destroyRoom(ee){this.removeRoomInstance(ee)}getRoomInstance(ee){return this._roomManager&&this._roomManager.getRoomInstance(this.getRoomId(ee))||null}removeRoomInstance(ee){this.getRoomInstance(ee)&&this._roomManager&&this._roomManager.removeRoomInstance(this.getRoomId(ee));const se=this._roomInstanceDatas.get(ee);se&&(this._roomInstanceDatas.delete(se.roomId),se.dispose()),this.events.dispatchEvent(new RoomEngineEvent(RoomEngineEvent.DISPOSED,ee))}createRoomInstance(ee,te){let se="111",ne="201",le="1";if(!this._ready){let he=this._roomDatas.get(ee);he&&(this._roomDatas.delete(ee),se=he.floorType,ne=he.wallType,le=he.landscapeType),he=new RoomData(ee,te),he.floorType=se,he.wallType=ne,he.landscapeType=le,this._roomDatas.set(ee,he),NitroLogger.warn("Room Engine not initilized yet, can not create room. Room data stored for later initialization.");return}if(!te){NitroLogger.warn("Room property messages");return}const ue=this._roomDatas.get(ee);ue&&(this._roomDatas.delete(ee),ue.floorType&&(se=ue.floorType),ue.wallType&&(ne=ue.wallType),ue.landscapeType&&(le=ue.landscapeType)),this.setupRoomInstance(ee,te,se,ne,le,this.getRoomInstanceModelName(ee))&&(te.restrictsDragging?this._roomAllowsDragging=!1:this._roomAllowsDragging=!0,this.events.dispatchEvent(new RoomEngineEvent(RoomEngineEvent.INITIALIZED,ee)))}setupRoomInstance(ee,te,se,ne,le,ue){if(!this._ready||!this._roomManager)return;const ce=this._roomManager.createRoomInstance(this.getRoomId(ee));if(!ce)return null;const he=RoomObjectCategory.ROOM,de=ce.createRoomObjectAndInitalize(NR.ROOM_OBJECT_ID,NR.ROOM_OBJECT_TYPE,he);if(ce.model.setValue(RoomVariableEnum.ROOM_IS_PUBLIC,0),ce.model.setValue(RoomVariableEnum.ROOM_Z_SCALE,1),te&&(ce.model.setValue(RoomVariableEnum.RESTRICTS_DRAGGING,te.restrictsDragging),ce.model.setValue(RoomVariableEnum.RESTRICTS_SCALING,te.restrictsScaling),ce.model.setValue(RoomVariableEnum.RESTRICTED_SCALE,te.restrictedScale),te.dimensions)){const ye=te.dimensions.minX,be=te.dimensions.maxX,Pe=te.dimensions.minY,Ne=te.dimensions.maxY;ce.model.setValue(RoomVariableEnum.ROOM_MIN_X,ye),ce.model.setValue(RoomVariableEnum.ROOM_MAX_X,be),ce.model.setValue(RoomVariableEnum.ROOM_MIN_Y,Pe),ce.model.setValue(RoomVariableEnum.ROOM_MAX_Y,Ne);const we=Math.trunc(ye*423+be*671+Pe*913+Ne*7509);de&&de.model&&de.model.setValue(RoomObjectVariable.ROOM_RANDOM_SEED,we)}const _e=de&&de.logic||null;if(_e&&(_e.initialize(te),se&&(_e.processUpdateMessage(new ObjectRoomUpdateMessage(ObjectRoomUpdateMessage.ROOM_FLOOR_UPDATE,se)),ce.model.setValue(RoomObjectVariable.ROOM_FLOOR_TYPE,se)),ne&&(_e.processUpdateMessage(new ObjectRoomUpdateMessage(ObjectRoomUpdateMessage.ROOM_WALL_UPDATE,ne)),ce.model.setValue(RoomObjectVariable.ROOM_WALL_TYPE,ne)),le&&(_e.processUpdateMessage(new ObjectRoomUpdateMessage(ObjectRoomUpdateMessage.ROOM_LANDSCAPE_UPDATE,le)),ce.model.setValue(RoomObjectVariable.ROOM_LANDSCAPE_TYPE,le))),te&&te.doors.length){let fe=0;for(;fe<te.doors.length;){const ye=te.doors[fe];if(ye){const be=ye.x,Pe=ye.y,Ne=ye.z,we=ye.dir,De=ObjectRoomMaskUpdateMessage.DOOR,$e="door_"+fe,Ge=new Vector3d(be,Pe,Ne);_e.processUpdateMessage(new ObjectRoomMaskUpdateMessage(ObjectRoomMaskUpdateMessage.ADD_MASK,$e,De,Ge,ObjectRoomMaskUpdateMessage.HOLE)),(we===90||we===180)&&(we===90&&(ce.model.setValue(RoomObjectVariable.ROOM_DOOR_X,be-.5),ce.model.setValue(RoomObjectVariable.ROOM_DOOR_Y,Pe)),we===180&&(ce.model.setValue(RoomObjectVariable.ROOM_DOOR_X,be),ce.model.setValue(RoomObjectVariable.ROOM_DOOR_Y,Pe-.5)),ce.model.setValue(RoomObjectVariable.ROOM_DOOR_Z,Ne),ce.model.setValue(RoomObjectVariable.ROOM_DOOR_DIR,we))}fe++}}return ce.createRoomObjectAndInitalize(NR.CURSOR_OBJECT_ID,NR.CURSOR_OBJECT_TYPE,RoomObjectCategory.CURSOR),NitroConfiguration.getValue("enable.avatar.arrow",!1)&&ce.createRoomObjectAndInitalize(NR.ARROW_OBJECT_ID,NR.ARROW_OBJECT_TYPE,RoomObjectCategory.CURSOR),ce}getRoomInstanceDisplay(ee,te,se,ne,le){const ue=this.getRoomInstance(ee);if(!ue)return null;let ce=ue.renderer;if(!ce&&(ce=this._roomRendererFactory.createRenderer(),!ce))return null;ce.roomObjectVariableAccurateZ=RoomObjectVariable.OBJECT_ACCURATE_Z_VALUE,ue.setRenderer(ce);const he=ce.createCanvas(te,se,ne,le);if(!he)return null;if(ue.model.getValue(RoomVariableEnum.RESTRICTS_SCALING)){let _e=ue.model.getValue(RoomVariableEnum.RESTRICTED_SCALE);_e||(_e=1),he.setScale(_e),he.restrictsScaling=!0}else he.restrictsScaling=!1;if(he.setMouseListener(this._roomObjectEventHandler),he.geometry){he.geometry.z_scale=ue.model.getValue(RoomVariableEnum.ROOM_Z_SCALE);const _e=ue.model.getValue(RoomObjectVariable.ROOM_DOOR_X),fe=ue.model.getValue(RoomObjectVariable.ROOM_DOOR_Y),ye=ue.model.getValue(RoomObjectVariable.ROOM_DOOR_Z),be=ue.model.getValue(RoomObjectVariable.ROOM_DOOR_DIR),Pe=new Vector3d(_e,fe,ye);let Ne=null;be===90&&(Ne=new Vector3d(-2e3,0,0)),be===180&&(Ne=new Vector3d(0,-2e3,0)),he.geometry.setDisplacement(Pe,Ne);const we=he.master;if(we){const De=new NitroSprite(Texture$1.EMPTY);De.name=NR.OVERLAY,De.interactive=!1,we.addChild(De)}}return he.master}setRoomInstanceRenderingCanvasMask(ee,te,se){const ne=this.getRoomInstanceRenderingCanvas(ee,te);ne&&ne.setMask(se)}setRoomInstanceRenderingCanvasScale(ee,te,se,ne=null,le=null,ue=!1,ce=!1){const he=this.getRoomInstanceRenderingCanvas(ee,te);if(he){if(he.restrictsScaling&&!ue)return;he.setScale(se,ne,le,ue,ce),this.events.dispatchEvent(new RoomEngineEvent(RoomEngineEvent.ROOM_ZOOMED,ee))}}getRoomInstanceRenderingCanvas(ee,te=-1){const se=this.getRoomInstance(ee);if(!se)return null;const ne=se.renderer;if(!ne)return null;te===-1&&(te=this._activeRoomActiveCanvas);const le=ne.getCanvas(te);return le||null}getActiveRoomInstanceRenderingCanvas(){return this.getRoomInstanceRenderingCanvas(this._activeRoomId,this._activeRoomActiveCanvas)}getRoomInstanceRenderingCanvasOffset(ee,te=-1){te===-1&&(te=this._activeRoomActiveCanvas);const se=this.getRoomInstanceRenderingCanvas(ee,te);return se?new Point$1(se.screenOffsetX,se.screenOffsetY):null}setRoomInstanceRenderingCanvasOffset(ee,te,se){const ne=this.getRoomInstanceRenderingCanvas(ee,te);if(!ne||!se)return!1;const le=~~se.x,ue=~~se.y;if(!(ne.screenOffsetX===le&&ne.screenOffsetY===ue))return this.events.dispatchEvent(new RoomDragEvent(ee,-(ne.screenOffsetX-le),-(ne.screenOffsetY-ue))),ne.screenOffsetX=le,ne.screenOffsetY=ue,!0}getRoomInstanceRenderingCanvasScale(ee=-1e3,te=-1){ee===-1e3&&(ee=this._activeRoomId),te===-1&&(te=this._activeRoomActiveCanvas);const se=this.getRoomInstanceRenderingCanvas(ee,te);return se?se.scale:1}initializeRoomInstanceRenderingCanvas(ee,te,se,ne){const le=this.getRoomInstanceRenderingCanvas(ee,te);le&&le.initialize(se,ne)}getRoomInstanceGeometry(ee,te=-1){const se=this.getRoomInstance(ee);if(!se)return null;const ne=se.renderer;if(!ne)return null;te===-1&&(te=this._activeRoomActiveCanvas);const le=ne.getCanvas(te);return le?le.geometry:null}getRoomInstanceVariable(ee,te){const se=this.getRoomInstance(ee);return se&&se.model&&se.model.getValue(te)||null}updateRoomInstancePlaneVisibility(ee,te,se=!0){const ne=this.getRoomOwnObject(ee);return ne?(ne.processUpdateMessage(new ObjectRoomPlaneVisibilityUpdateMessage(ObjectRoomPlaneVisibilityUpdateMessage.WALL_VISIBILITY,te)),ne.processUpdateMessage(new ObjectRoomPlaneVisibilityUpdateMessage(ObjectRoomPlaneVisibilityUpdateMessage.FLOOR_VISIBILITY,se)),!0):!1}updateRoomInstancePlaneThickness(ee,te,se){const ne=this.getRoomOwnObject(ee);return ne?(ne.processUpdateMessage(new ObjectRoomPlanePropertyUpdateMessage(ObjectRoomPlanePropertyUpdateMessage.WALL_THICKNESS,te)),ne.processUpdateMessage(new ObjectRoomPlanePropertyUpdateMessage(ObjectRoomPlanePropertyUpdateMessage.FLOOR_THICKNESS,se)),!0):!1}updateRoomInstancePlaneType(ee,te=null,se=null,ne=null,le=!1){const ue=this.getRoomOwnObject(ee),ce=this.getRoomInstance(ee);if(!ue){let he=this._roomDatas.get(ee);return he||(he=new RoomData(ee,null),this._roomDatas.set(ee,he)),te&&(he.floorType=te),se&&(he.wallType=se),ne&&(he.landscapeType=ne),!0}return te&&(ce&&!le&&ce.model.setValue(RoomObjectVariable.ROOM_FLOOR_TYPE,te),ue.processUpdateMessage(new ObjectRoomUpdateMessage(ObjectRoomUpdateMessage.ROOM_FLOOR_UPDATE,te))),se&&(ce&&!le&&ce.model.setValue(RoomObjectVariable.ROOM_WALL_TYPE,se),ue.processUpdateMessage(new ObjectRoomUpdateMessage(ObjectRoomUpdateMessage.ROOM_WALL_UPDATE,se))),ne&&(ce&&!le&&ce.model.setValue(RoomObjectVariable.ROOM_LANDSCAPE_TYPE,ne),ue.processUpdateMessage(new ObjectRoomUpdateMessage(ObjectRoomUpdateMessage.ROOM_LANDSCAPE_UPDATE,ne))),!0}updateObjectRoomColor(ee,te,se,ne){const le=this.getRoomOwnObject(ee);if(!le||!le.logic)return!1;const ue=new ObjectRoomColorUpdateMessage(ObjectRoomColorUpdateMessage.BACKGROUND_COLOR,te,se,ne);return le.logic.processUpdateMessage(ue),this.events.dispatchEvent(new RoomBackgroundColorEvent(ee,te,se,ne)),!0}addRoomInstanceFloorHole(ee,te){if(te<0)return;const se=this.getRoomOwnObject(ee),ne=this.getRoomObjectFloor(ee,te);if(se&&se.logic&&ne&&ne.model){const le=ne.getLocation(),ue=ne.model.getValue(RoomObjectVariable.FURNITURE_SIZE_X),ce=ne.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Y);se.processUpdateMessage(new ObjectRoomFloorHoleUpdateMessage(ObjectRoomFloorHoleUpdateMessage.ADD,te,le.x,le.y,ue,ce))}}removeRoomInstanceFloorHole(ee,te){if(te<0)return;const se=this.getRoomOwnObject(ee);se&&se.processUpdateMessage(new ObjectRoomFloorHoleUpdateMessage(ObjectRoomFloorHoleUpdateMessage.REMOVE,te))}setRoomEngineGameMode(ee,te){const se=this.getRoomInstance(ee);if(!se)return;const ne=te?1:0;se.model.setValue(RoomVariableEnum.IS_PLAYING_GAME,ne),ne===0?this.events.dispatchEvent(new RoomEngineEvent(RoomEngineEvent.NORMAL_MODE,ee)):this.events.dispatchEvent(new RoomEngineEvent(RoomEngineEvent.GAME_MODE,ee))}isRoomIdPlayingGame(ee){const te=this.getRoomInstance(ee);return te?te.model.getValue(RoomVariableEnum.IS_PLAYING_GAME)>0:!1}isPlayingGame(){return this.isRoomIdPlayingGame(this._activeRoomId)}disableUpdate(ee){ee?GetTicker().remove(this.update,this):(GetTicker().remove(this.update,this),GetTicker().add(this.update,this))}runUpdate(){this.update(1)}runVisibilityUpdate(){document.hidden||this.update(1,!0)}update(ee,te=!1){this._roomManager&&(ee=GetTickerTime(),RoomEnterEffect.turnVisualizationOn(),this.processPendingFurniture(),this._roomManager.update(ee,te),this.updateRoomCameras(ee),this._mouseCursorUpdate&&this.setPointer(),RoomEnterEffect.turnVisualizationOff())}setPointer(){this._mouseCursorUpdate=!1;const ee=this.getRoomInstanceData(this._activeRoomId);ee&&ee.hasButtonMouseCursorOwners()?document.body.style.cursor="pointer":document.body.style.cursor="auto"}processPendingFurniture(){if(this._skipFurnitureCreationForNextFrame){this._skipFurnitureCreationForNextFrame=!1;return}const ee=new Date().valueOf(),te=5;for(const se of this._roomInstanceDatas.values()){if(!se)continue;let ne=null,le=0,ue=!1;for(;ne=se.getNextPendingFurnitureFloor();)if(ue=this.processPendingFurnitureFloor(se.roomId,ne.id,ne),!(++le%te)&&new Date().valueOf()-ee>=40){this._skipFurnitureCreationForNextFrame=!0;break}for(;!this._skipFurnitureCreationForNextFrame&&(ne=se.getNextPendingFurnitureWall());)if(ue=this.processPendingFurnitureWall(se.roomId,ne.id,ne),!(++le%te)&&new Date().valueOf()-ee>=40){this._skipFurnitureCreationForNextFrame=!0;break}if(ue&&this._roomManager&&(this._roomManager.getRoomInstance(this.getRoomId(se.roomId)).hasUninitializedObjects()||this.objectsInitialized(se.roomId.toString())),this._skipFurnitureCreationForNextFrame)return}}onRoomEngineInitalized(ee){if(ee){this._ready=!0,this.events.dispatchEvent(new RoomEngineEvent(RoomEngineEvent.ENGINE_INITIALIZED,0));for(const te of this._roomDatas.values())te&&this.createRoomInstance(te.roomId,te.data)}}processPendingFurnitureFloor(ee,te,se){if(!se){const he=this.getRoomInstanceData(ee);if(he&&(se=he.getPendingFurnitureFloor(te)),!se)return!1}let ne=se.type;ne||(ne=this.getFurnitureFloorName(se.typeId));const le=this.createRoomObjectFloor(ee,te,ne);if(!le)return!1;const ue=le.model;if(ue&&(ue.setValue(RoomObjectVariable.FURNITURE_COLOR,this.getFurnitureFloorColorIndex(se.typeId)),ue.setValue(RoomObjectVariable.FURNITURE_TYPE_ID,se.typeId),ue.setValue(RoomObjectVariable.FURNITURE_AD_URL,this.getRoomObjectAdUrl(se.type)),ue.setValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT,se.realRoomObject?1:0),ue.setValue(RoomObjectVariable.FURNITURE_EXPIRY_TIME,se.expiryTime),ue.setValue(RoomObjectVariable.FURNITURE_EXPIRTY_TIMESTAMP,GetTickerTime()),ue.setValue(RoomObjectVariable.FURNITURE_USAGE_POLICY,se.usagePolicy),ue.setValue(RoomObjectVariable.FURNITURE_OWNER_ID,se.ownerId),ue.setValue(RoomObjectVariable.FURNITURE_OWNER_NAME,se.ownerName)),!this.updateRoomObjectFloor(ee,te,se.location,se.direction,se.state,se.data,se.extra)||se.sizeZ>=0&&!this.updateRoomObjectFloorHeight(ee,te,se.sizeZ))return!1;this.events&&this.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.ADDED,ee,te,RoomObjectCategory.FLOOR));const ce=this.getPlacedRoomObjectData(ee);return ce&&ce.id===te&&ce.category===RoomObjectCategory.FLOOR&&this.selectRoomObject(ee,te,RoomObjectCategory.FLOOR),le.isReady&&se.synchronized&&this.addObjectToTileMap(ee,le),!0}processPendingFurnitureWall(ee,te,se){if(!se){const de=this.getRoomInstanceData(ee);if(de&&(se=de.getPendingFurnitureWall(te)),!se)return!1}let ne="";se.data&&(ne=se.data.getLegacyString());let le=this.getFurnitureWallName(se.typeId,ne);le||(le="");const ue=this.createRoomObjectWall(ee,te,le);if(!ue)return!1;const ce=ue.model;if(ce&&(ce.setValue(RoomObjectVariable.FURNITURE_COLOR,this.getFurnitureWallColorIndex(se.typeId)),ce.setValue(RoomObjectVariable.FURNITURE_TYPE_ID,se.typeId),ce.setValue(RoomObjectVariable.FURNITURE_AD_URL,this.getRoomObjectAdUrl(se.type)),ce.setValue(RoomObjectVariable.FURNITURE_REAL_ROOM_OBJECT,se.realRoomObject?1:0),ce.setValue(RoomObjectVariable.OBJECT_ACCURATE_Z_VALUE,1),ce.setValue(RoomObjectVariable.FURNITURE_EXPIRY_TIME,se.expiryTime),ce.setValue(RoomObjectVariable.FURNITURE_EXPIRTY_TIMESTAMP,GetTickerTime()),ce.setValue(RoomObjectVariable.FURNITURE_USAGE_POLICY,se.usagePolicy),ce.setValue(RoomObjectVariable.FURNITURE_OWNER_ID,se.ownerId),ce.setValue(RoomObjectVariable.FURNITURE_OWNER_NAME,se.ownerName)),!this.updateRoomObjectWall(ee,te,se.location,se.direction,se.state,ne))return!1;this.events&&this.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.ADDED,ee,te,RoomObjectCategory.WALL));const he=this.getPlacedRoomObjectData(ee);return he&&Math.abs(he.id)===te&&he.category===RoomObjectCategory.WALL&&this.selectRoomObject(ee,te,RoomObjectCategory.WALL),!0}setRoomSessionOwnUser(ee,te){if(!this._roomSessionManager)return;const se=this._roomSessionManager.getSession(ee);se&&se.setOwnRoomIndex(te);const ne=this.getRoomCamera(ee);ne&&(ne.targetId=te,ne.targetCategory=RoomObjectCategory.UNIT,ne.activateFollowing(this.cameraFollowDuration))}get cameraFollowDuration(){return 1e3}updateRoomCameras(ee){for(const te of this._roomInstanceDatas.values()){if(!te)continue;const se=te.roomCamera;if(!se)continue;let ne=null;const le=this.getRoomObject(te.roomId,se.targetId,se.targetCategory);le&&(ne=le.getLocation()),ne&&(te.roomId!==this._activeRoomId||!this._activeRoomIsDragged)&&this.updateRoomCamera(te.roomId,1,ne,ee)}if(this._activeRoomWasDragged){const te=this.getRoomInstanceRenderingCanvas(this._activeRoomId,1);te&&this.setRoomInstanceRenderingCanvasOffset(this._activeRoomId,1,new Point$1(te.screenOffsetX+this._activeRoomDragX,te.screenOffsetY+this._activeRoomDragY)),this._activeRoomDragX=0,this._activeRoomDragY=0}}updateRoomCamera(ee,te,se,ne){const le=this.getRoomInstanceRenderingCanvas(ee,te),ue=this.getRoomInstanceData(ee);if(!le||!ue||le.scale!==1)return;const ce=le.geometry,he=ue.roomCamera,de=this.getRoomInstance(ee);if(!ce||!he||!de)return;const _e=this.getRoomCanvasRectangle(ee,te);if(!_e)return;let fe=Math.floor(se.z)+1;const ye=Math.round(_e.width),be=Math.round(_e.height),Pe=this.getCanvasBoundingRectangle(te);if(Pe&&(Pe.right<0||Pe.bottom<0||Pe.left>=ye||Pe.top>=be)&&he.reset(),he.screenWd!==ye||he.screenHt!==be||he.scale!==ce.scale||he.geometryUpdateId!==ce.updateId||!Vector3d.isEqual(se,he.targetObjectLoc)||he.isMoving){he.targetObjectLoc=se;const Ne=new Vector3d;Ne.assign(se),Ne.x=Math.round(Ne.x),Ne.y=Math.round(Ne.y);const we=de.model.getValue(RoomVariableEnum.ROOM_MIN_X)-.5,De=de.model.getValue(RoomVariableEnum.ROOM_MIN_Y)-.5,$e=de.model.getValue(RoomVariableEnum.ROOM_MAX_X)+.5,Ge=de.model.getValue(RoomVariableEnum.ROOM_MAX_Y)+.5,Be=Math.round((we+$e)/2),ze=Math.round((De+Ge)/2),$t=2;let ut=new Point$1(Ne.x-Be,Ne.y-ze);const Ti=ce.scale/Math.sqrt(2),Hi=Ti/2,bn=new Matrix$1;bn.rotate(-(ce.direction.x+90)/180*Math.PI),ut=bn.apply(ut),ut.y=ut.y*(Hi/Ti);const gd=_e.width/2/Ti-1,Pm=_e.height/2/Hi-1;let oE=0,aE=0,nE=0,On=0,nh=ce.getScreenPoint(new Vector3d(Be,ze,$t));if(!nh)return;if(nh.x=nh.x+Math.round(_e.width/2),nh.y=nh.y+Math.round(_e.height/2),Pe)if(Pe.x+=-le.screenOffsetX,Pe.y+=-le.screenOffsetY,Pe.width>1&&Pe.height>1)oE=(Pe.left-nh.x-ce.scale*.25)/Ti,nE=(Pe.right-nh.x+ce.scale*.25)/Ti,aE=(Pe.top-nh.y-ce.scale*.5)/Hi,On=(Pe.bottom-nh.y+ce.scale*.5)/Hi;else{ce.adjustLocation(new Vector3d(-30,-30),25);return}else{ce.adjustLocation(new Vector3d(0,0),25);return}let Hn=!1,Xp=!1,Jp=!1,md=!1;Math.round((nE-oE)*Ti)<_e.width?(fe=2,ut.x=(nE+oE)/2,Jp=!0):(ut.x>nE-gd&&(ut.x=nE-gd,Hn=!0),ut.x<oE+gd&&(ut.x=oE+gd,Hn=!0)),Math.round((On-aE)*Hi)<_e.height?(fe=2,ut.y=(On+aE)/2,md=!0):(ut.y>On-Pm&&(ut.y=On-Pm,Xp=!0),ut.y<aE+Pm&&(ut.y=aE+Pm,Xp=!0),Xp&&(ut.y=ut.y/(Hi/Ti))),bn.invert(),ut=bn.apply(ut),ut.x=ut.x+Be,ut.y=ut.y+ze;let mE=.35,fE=.2,yE=.2;const AE=10,bE=10;if(yE*ye>100&&(yE=100/ye),mE*be>150&&(mE=150/be),fE*be>150&&(fE=150/be),he.limitedLocationX&&he.screenWd==ye&&he.screenHt==be&&(yE=0),he.limitedLocationY&&he.screenWd==ye&&he.screenHt==be&&(mE=0,fE=0),_e.width=_e.width*(1-yE*2),_e.height=_e.height*(1-(mE+fE)),_e.width<AE&&(_e.width=AE),_e.height<bE&&(_e.height=bE),mE+fE>0?(_e.x+=-_e.width/2,_e.y+=-_e.height*(fE/(mE+fE))):(_e.x+=-_e.width/2,_e.y+=-_e.height/2),nh=ce.getScreenPoint(Ne),!nh)return;if(nh){nh.x=nh.x+le.screenOffsetX,nh.y=nh.y+le.screenOffsetY,Ne.z=fe,Ne.x=Math.round(ut.x*2)/2,Ne.y=Math.round(ut.y*2)/2,he.location||(ce.location=Ne,this.useOffsetScrolling?he.initializeLocation(new Vector3d(0,0,0)):he.initializeLocation(Ne));const ME=ce.getScreenPoint(Ne),SE=new Vector3d(0,0,0);ME&&(SE.x=ME.x,SE.y=ME.y),(nh.x<_e.left||nh.x>_e.right)&&!he.centeredLocX||(nh.y<_e.top||nh.y>_e.bottom)&&!he.centeredLocY||Jp&&!he.centeredLocX&&he.screenWd!=ye||md&&!he.centeredLocY&&he.screenHt!=be||he.roomWd!=Pe.width||he.roomHt!=Pe.height||he.screenWd!=ye||he.screenHt!=be?(he.limitedLocationX=Hn,he.limitedLocationY=Xp,this.useOffsetScrolling?he.target=SE:he.target=Ne):(Hn||(he.limitedLocationX=!1),Xp||(he.limitedLocationY=!1))}he.centeredLocX=Jp,he.centeredLocY=md,he.screenWd=ye,he.screenHt=be,he.scale=ce.scale,he.geometryUpdateId=ce.updateId,he.roomWd=Pe.width,he.roomHt=Pe.height,this._sessionDataManager.isCameraFollowDisabled||(this.useOffsetScrolling?he.update(ne,8):he.update(ne,.5)),this.useOffsetScrolling?this.setRoomInstanceRenderingCanvasOffset(this.activeRoomId,1,new Point$1(-he.location.x,-he.location.y)):ce.adjustLocation(he.location,25)}else he.limitedLocationX=!1,he.limitedLocationY=!1,he.centeredLocX=!1,he.centeredLocY=!1}getRoomCanvasRectangle(ee,te){const se=this.getRoomInstanceRenderingCanvas(ee,te);return se?new Rectangle$1(0,0,se.width,se.height):null}getRoomObjectBoundingRectangle(ee,te,se,ne){const le=this.getRoomInstanceGeometry(ee,ne);if(!le)return null;const ue=this.getRoomObject(ee,te,se);if(!ue)return null;const ce=ue.visualization;if(!ce)return null;const he=ce.getBoundingRectangle(),de=this.getRoomInstanceRenderingCanvas(ee,ne),_e=de?de.scale:1,fe=le.getScreenPoint(ue.getLocation());return!fe||(fe.x=Math.round(fe.x),fe.y=Math.round(fe.y),he.x=he.x*_e,he.y=he.y*_e,he.width=he.width*_e,he.height=he.height*_e,fe.x=fe.x*_e,fe.y=fe.y*_e,he.x+=fe.x,he.y+=fe.y,!de)?null:(he.x+=Math.round(de.width/2)+de.screenOffsetX,he.y+=Math.round(de.height/2)+de.screenOffsetY,he)}getCanvasBoundingRectangle(ee){return this.getRoomObjectBoundingRectangle(this._activeRoomId,NR.ROOM_OBJECT_ID,RoomObjectCategory.ROOM,ee)}getFurnitureFloorName(ee){return this._roomContentLoader?this._roomContentLoader.getFurnitureFloorNameForTypeId(ee):null}getFurnitureWallName(ee,te=null){return this._roomContentLoader?this._roomContentLoader.getFurnitureWallNameForTypeId(ee,te):null}getFurnitureFloorColorIndex(ee){return this._roomContentLoader?this._roomContentLoader.getFurnitureFloorColorIndex(ee):null}getFurnitureWallColorIndex(ee){return this._roomContentLoader?this._roomContentLoader.getFurnitureWallColorIndex(ee):null}getRoomInstanceData(ee){const te=this._roomInstanceDatas.get(ee);if(te)return te;const se=new RoomInstanceData(ee);return this._roomInstanceDatas.set(se.roomId,se),se}getRoomInstanceModelName(ee){const te=this.getRoomInstanceData(ee);return te?te.modelName:null}setRoomInstanceModelName(ee,te){const se=this.getRoomInstanceData(ee);se&&se.setModelName(te)}getRoomTileObjectMap(ee){const te=this.getRoomInstanceData(ee);return te?te.tileObjectMap:null}getCurrentRoomCamera(){return this.getRoomCamera(this._activeRoomId)}getRoomCamera(ee){const te=this.getRoomInstanceData(ee);return te?te.roomCamera:null}getSelectedRoomObjectData(ee){const te=this.getRoomInstanceData(ee);return te?te.selectedObject:null}setSelectedRoomObjectData(ee,te){const se=this.getRoomInstanceData(ee);if(!se)return null;se.setSelectedObject(te),te&&se.setPlacedObject(null)}getPlacedRoomObjectData(ee){const te=this.getRoomInstanceData(ee);return te?te.placedObject:null}setPlacedRoomObjectData(ee,te){const se=this.getRoomInstanceData(ee);if(!se)return null;se.setPlacedObject(te)}cancelRoomObjectPlacement(){this._roomObjectEventHandler&&this._roomObjectEventHandler.cancelRoomObjectPlacement(this._activeRoomId)}getFurnitureStackingHeightMap(ee){const te=this.getRoomInstanceData(ee);return te?te.furnitureStackingHeightMap:null}setFurnitureStackingHeightMap(ee,te){const se=this.getRoomInstanceData(ee);if(!se)return null;se.setFurnitureStackingHeightMap(te)}getLegacyWallGeometry(ee){const te=this.getRoomInstanceData(ee);return te?te.legacyGeometry:null}createRoomObjectAndInitialize(ee,te,se,ne){const le=this.getRoomInstance(ee);return le?le.createRoomObjectAndInitalize(te,se,ne):null}getTotalObjectsForManager(ee,te){const se=this.getRoomInstance(ee);return se?se.getTotalObjectsForManager(te):0}getRoomObject(ee,te,se){if(!this._ready)return null;let ne=this.getRoomId(ee);return ee===0&&(ne=NR.TEMPORARY_ROOM),this.getObject(ne,te,se)}getObject(ee,te,se){let ne=null;if(this._roomManager&&(ne=this._roomManager.getRoomInstance(ee)),!ne)return null;let le=ne.getRoomObject(te,se);if(!le)switch(se){case RoomObjectCategory.FLOOR:this.processPendingFurnitureFloor(this.getRoomIdFromString(ee),te,null),le=ne.getRoomObject(te,se);break;case RoomObjectCategory.WALL:this.processPendingFurnitureWall(this.getRoomIdFromString(ee),te,null),le=ne.getRoomObject(te,se);break}return le}getRoomObjectByIndex(ee,te,se){const ne=this.getRoomInstance(ee);return ne?ne.getRoomObjectByIndex(te,se):null}getRoomObjectCategoryForType(ee){return!ee||!this._roomContentLoader?RoomObjectCategory.MINIMUM:this._roomContentLoader.getCategoryForType(ee)}getRoomObjectCursor(ee){return this.getObject(this.getRoomId(ee),NR.CURSOR_OBJECT_ID,RoomObjectCategory.CURSOR)}getRoomObjectSelectionArrow(ee){return this.getObject(this.getRoomId(ee),NR.ARROW_OBJECT_ID,RoomObjectCategory.CURSOR)}getRoomOwnObject(ee){return this.getObject(this.getRoomId(ee),NR.ROOM_OBJECT_ID,RoomObjectCategory.ROOM)}getRoomObjectUser(ee,te){return this.getObject(this.getRoomId(ee),te,RoomObjectCategory.UNIT)}removeRoomObjectUser(ee,te){return this.removeRoomObject(ee,te,RoomObjectCategory.UNIT)}createRoomObjectUser(ee,te,se){return this.createRoomObjectAndInitialize(ee,te,se,RoomObjectCategory.UNIT)}getRoomObjectFloor(ee,te){return this.getObject(this.getRoomId(ee),te,RoomObjectCategory.FLOOR)}createRoomObjectFloor(ee,te,se){return this.createRoomObjectAndInitialize(ee,te,se,RoomObjectCategory.FLOOR)}removeRoomObjectFloor(ee,te,se=-1,ne=!1){const le=this.getRoomInstanceData(ee);if(le&&le.removePendingFunitureFloor(te),this._sessionDataManager&&se===this._sessionDataManager.userId&&!FurniId.isBuilderClubId(te)){const ue=this.getRoomObject(ee,te,RoomObjectCategory.FLOOR);if(ue){const ce=this.getRoomObjectScreenLocation(ee,te,RoomObjectCategory.FLOOR,this._activeRoomActiveCanvas);if(ce&&!(ue.model.getValue(RoomObjectVariable.FURNITURE_DISABLE_PICKING_ANIMATION)===1)){const de=ue.model.getValue(RoomObjectVariable.FURNITURE_TYPE_ID),_e=ue.model.getValue(RoomObjectVariable.FURNITURE_EXTRAS),fe=ue.model.getValue(RoomObjectVariable.FURNITURE_DATA_FORMAT),ye=ObjectDataFactory.getData(fe),be=this.getFurnitureFloorIcon(de,null,_e,ye).data;if(be){const Pe=TextureUtils.generateImage(be);if(this.events){const Ne=new NitroToolbarAnimateIconEvent(Pe,ce.x,ce.y);Ne.iconName=ToolbarIconEnum.INVENTORY,this.events.dispatchEvent(Ne)}}}}}this.removeRoomObject(ee,te,RoomObjectCategory.FLOOR),this.setMouseDefault(ee,RoomObjectCategory.FLOOR,te),ne&&this.refreshTileObjectMap(ee,"RoomEngine.disposeObjectFurniture()")}getRoomObjectWall(ee,te){return this.getObject(this.getRoomId(ee),te,RoomObjectCategory.WALL)}removeRoomObjectWall(ee,te,se=-1){if(this._sessionDataManager&&se===this._sessionDataManager.userId&&!FurniId.isBuilderClubId(te)){const ne=this.getRoomObject(ee,te,RoomObjectCategory.WALL);if(ne&&ne.type.indexOf("post_it")===-1&&ne.type.indexOf("external_image_wallitem")===-1){const le=this.getRoomObjectScreenLocation(ee,te,RoomObjectCategory.WALL,this._activeRoomActiveCanvas);if(le){const ue=ne.model.getValue(RoomObjectVariable.FURNITURE_TYPE_ID),ce=ne.model.getValue(RoomObjectVariable.FURNITURE_DATA),he=this.getFurnitureWallIcon(ue,null,ce).data;if(he){const de=TextureUtils.generateImage(he);if(this.events){const _e=new NitroToolbarAnimateIconEvent(de,le.x,le.y);_e.iconName=ToolbarIconEnum.INVENTORY,this.events.dispatchEvent(_e)}}}}}this.removeRoomObject(ee,te,RoomObjectCategory.WALL),this.updateRoomObjectMask(ee,te,!1),this.setMouseDefault(ee,RoomObjectCategory.WALL,te)}createRoomObjectWall(ee,te,se){return this.createRoomObjectAndInitialize(ee,te,se,RoomObjectCategory.WALL)}removeRoomObject(ee,te,se){const ne=this.getRoomInstance(ee);if(!ne)return null;ne.removeRoomObject(te,se),this.events&&this.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.REMOVED,ee,te,se))}addFurnitureFloor(ee,te,se,ne,le,ue,ce,he=NaN,de=-1,_e=0,fe=0,ye="",be=!0,Pe=!0,Ne=-1){const we=this.getRoomInstanceData(ee);if(!we)return!1;const De=new RoomFurnitureData(te,se,null,ne,le,ue,ce,he,de,_e,fe,ye,be,Pe,Ne);return we.addPendingFurnitureFloor(De),!0}addFurnitureFloorByTypeName(ee,te,se,ne,le,ue,ce,he=NaN,de=-1,_e=0,fe=0,ye="",be=!0,Pe=!0,Ne=-1){const we=this.getRoomInstanceData(ee);if(!we)return!1;const De=new RoomFurnitureData(te,0,se,ne,le,ue,ce,he,de,_e,fe,ye,be,Pe,Ne);return we.addPendingFurnitureFloor(De),!0}addFurnitureWall(ee,te,se,ne,le,ue,ce,he=-1,de=0,_e=0,fe="",ye=!0){const be=this.getRoomInstanceData(ee);if(!be)return!1;const Pe=new LegacyDataType;Pe.setString(ce);const Ne=new RoomFurnitureData(te,se,null,ne,le,ue,Pe,NaN,he,de,_e,fe,!0,ye);return be.addPendingFurnitureWall(Ne),!0}updateRoomObjectFloor(ee,te,se,ne,le,ue,ce=null){const he=this.getRoomObjectFloor(ee,te);return he?(he.processUpdateMessage(new RoomObjectUpdateMessage(se,ne)),he.processUpdateMessage(new ObjectDataUpdateMessage(le,ue,ce)),!0):!1}updateRoomObjectWall(ee,te,se,ne,le,ue=null){const ce=this.getRoomObjectWall(ee,te);if(!ce||!ce.logic)return!1;const he=new RoomObjectUpdateMessage(se,ne),de=new LegacyDataType,_e=new ObjectDataUpdateMessage(le,de);return de.setString(ue),ce.logic.processUpdateMessage(he),ce.logic.processUpdateMessage(_e),this.updateRoomObjectMask(ee,te),!0}updateRoomObjectWallItemData(ee,te,se){const ne=this.getRoomObjectWall(ee,te);return!ne||!ne.logic?!1:(ne.logic.processUpdateMessage(new ObjectItemDataUpdateMessage(se)),!0)}updateRoomObjectFloorHeight(ee,te,se){const ne=this.getRoomObjectFloor(ee,te);return ne?(ne.processUpdateMessage(new ObjectHeightUpdateMessage(null,null,se)),!0):!1}updateRoomObjectFloorExpiration(ee,te,se){const ne=this.getRoomObjectFloor(ee,te);return ne?(ne.model.setValue(RoomObjectVariable.FURNITURE_EXPIRY_TIME,se),ne.model.setValue(RoomObjectVariable.FURNITURE_EXPIRTY_TIMESTAMP,GetTickerTime()),!0):!1}updateRoomObjectWallExpiration(ee,te,se){const ne=this.getRoomObjectWall(ee,te);return ne?(ne.model.setValue(RoomObjectVariable.FURNITURE_EXPIRY_TIME,se),ne.model.setValue(RoomObjectVariable.FURNITURE_EXPIRTY_TIMESTAMP,GetTickerTime()),!0):!1}updateRoomObjectMask(ee,te,se=!0){const ne=RoomObjectCategory.WALL+"_"+te,le=this.getRoomObjectWall(ee,te);let ue=null;if(le&&le.model){if(le.model.getValue(RoomObjectVariable.FURNITURE_USES_PLANE_MASK)>0){const he=le.model.getValue(RoomObjectVariable.FURNITURE_PLANE_MASK_TYPE),de=le.getLocation();se?ue=new ObjectRoomMaskUpdateMessage(ObjectRoomMaskUpdateMessage.ADD_MASK,ne,he,de):ue=new ObjectRoomMaskUpdateMessage(ObjectRoomMaskUpdateMessage.REMOVE_MASK,ne)}}else ue=new ObjectRoomMaskUpdateMessage(ObjectRoomMaskUpdateMessage.REMOVE_MASK,ne);const ce=this.getRoomOwnObject(ee);ce&&ce.logic&&ue&&ce.logic.processUpdateMessage(ue)}rollRoomObjectFloor(ee,te,se,ne){const le=this.getRoomObjectFloor(ee,te);le&&le.processUpdateMessage(new ObjectMoveUpdateMessage(se,ne,null,!!ne))}updateRoomObjectWallLocation(ee,te,se){const ne=this.getRoomObjectWall(ee,te);return ne?(ne.logic&&ne.logic.processUpdateMessage(new ObjectMoveUpdateMessage(se,null,null)),this.updateRoomObjectMask(ee,te),!0):!1}addRoomObjectUser(ee,te,se,ne,le,ue,ce){if(this.getRoomObjectUser(ee,te))return!1;let de=RoomObjectUserType.getTypeString(ue);de===RoomObjectUserType.PET&&(de=this.getPetType(ce));const _e=this.createRoomObjectUser(ee,te,de);return _e?(_e.processUpdateMessage(new ObjectAvatarUpdateMessage(this.fixedUserLocation(ee,se),null,ne,le,!1,0)),ce&&_e.processUpdateMessage(new ObjectAvatarFigureUpdateMessage(ce)),this.events&&this.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.ADDED,ee,te,RoomObjectCategory.UNIT)),!0):!1}updateRoomObjectUserLocation(ee,te,se,ne,le=!1,ue=0,ce=null,he=NaN){const de=this.getRoomObjectUser(ee,te);if(!de)return!1;se||(se=de.getLocation()),ce||(ce=de.getDirection()),isNaN(he)&&(he=de.model.getValue(RoomObjectVariable.HEAD_DIRECTION)),de.processUpdateMessage(new ObjectAvatarUpdateMessage(this.fixedUserLocation(ee,se),this.fixedUserLocation(ee,ne),ce,he,le,ue));const _e=this._roomSessionManager&&this._roomSessionManager.getSession(ee)||null;return _e&&_e.ownRoomIndex===te&&this._logicFactory.events.dispatchEvent(new RoomToObjectOwnAvatarMoveEvent(RoomToObjectOwnAvatarMoveEvent.ROAME_MOVE_TO,ne)),!0}fixedUserLocation(ee,te){if(!te)return null;const se=this.getFurnitureStackingHeightMap(ee),ne=this.getLegacyWallGeometry(ee);if(!se||!ne)return te;let le=te.z;const ue=se.getTileHeight(te.x,te.y),ce=ne.getHeight(te.x,te.y);return Math.abs(le-ue)<.1&&Math.abs(ue-ce)<.1&&(le=ne.getFloorAltitude(te.x,te.y)),new Vector3d(te.x,te.y,le)}updateRoomObjectUserAction(ee,te,se,ne,le=null){const ue=this.getRoomObjectUser(ee,te);if(!ue)return!1;let ce=null;switch(se){case RoomObjectVariable.FIGURE_TALK:ce=new ObjectAvatarChatUpdateMessage(ne);break;case RoomObjectVariable.FIGURE_SLEEP:ce=new ObjectAvatarSleepUpdateMessage(ne===1);break;case RoomObjectVariable.FIGURE_IS_TYPING:ce=new ObjectAvatarTypingUpdateMessage(ne===1);break;case RoomObjectVariable.FIGURE_IS_MUTED:ce=new ObjectAvatarMutedUpdateMessage(ne===1);break;case RoomObjectVariable.FIGURE_CARRY_OBJECT:ce=new ObjectAvatarCarryObjectUpdateMessage(ne,le);break;case RoomObjectVariable.FIGURE_USE_OBJECT:ce=new ObjectAvatarUseObjectUpdateMessage(ne);break;case RoomObjectVariable.FIGURE_DANCE:ce=new ObjectAvatarDanceUpdateMessage(ne);break;case RoomObjectVariable.FIGURE_GAINED_EXPERIENCE:ce=new ObjectAvatarExperienceUpdateMessage(ne);break;case RoomObjectVariable.FIGURE_NUMBER_VALUE:ce=new ObjectAvatarPlayerValueUpdateMessage(ne);break;case RoomObjectVariable.FIGURE_SIGN:ce=new ObjectAvatarSignUpdateMessage(ne);break;case RoomObjectVariable.FIGURE_EXPRESSION:ce=new ObjectAvatarExpressionUpdateMessage(ne);break;case RoomObjectVariable.FIGURE_IS_PLAYING_GAME:ce=new ObjectAvatarPlayingGameUpdateMessage(ne===1);break;case RoomObjectVariable.FIGURE_GUIDE_STATUS:ce=new ObjectAvatarGuideStatusUpdateMessage(ne);break}return ce?(ue.processUpdateMessage(ce),!0):!1}updateRoomObjectUserFigure(ee,te,se,ne=null,le=null,ue=!1){const ce=this.getRoomObjectUser(ee,te);return ce?(ce.processUpdateMessage(new ObjectAvatarFigureUpdateMessage(se,ne,le,ue)),!0):!1}updateRoomObjectUserFlatControl(ee,te,se){const ne=this.getRoomObjectUser(ee,te);return ne?(ne.processUpdateMessage(new ObjectAvatarFlatControlUpdateMessage(parseInt(se))),!0):!1}updateRoomObjectUserEffect(ee,te,se,ne=0){const le=this.getRoomObjectUser(ee,te);return le?(le.processUpdateMessage(new ObjectAvatarEffectUpdateMessage(se,ne)),!0):!1}updateRoomObjectUserGesture(ee,te,se){const ne=this.getRoomObjectUser(ee,te);return ne?(ne.processUpdateMessage(new ObjectAvatarGestureUpdateMessage(se)),!0):!1}updateRoomObjectUserPetGesture(ee,te,se){const ne=this.getRoomObjectUser(ee,te);return ne?(ne.processUpdateMessage(new ObjectAvatarPetGestureUpdateMessage(se)),!0):!1}updateRoomObjectUserPosture(ee,te,se,ne=null){const le=this.getRoomObjectUser(ee,te);return le?(le.processUpdateMessage(new ObjectAvatarPostureUpdateMessage(se,ne)),!0):!1}updateRoomObjectUserOwn(ee,te){const se=this.getRoomObjectUser(ee,te);se&&se.processUpdateMessage(new ObjectAvatarOwnMessage)}useRoomObject(ee,te){const se=this.getRoomObject(this._activeRoomId,ee,te);if(se){const ne=se.logic;if(ne)return ne.useObject(),!0}return!1}objectInitialized(ee,te,se){const ne=this.getRoomIdFromString(ee);se===RoomObjectCategory.WALL&&this.updateRoomObjectMask(ne,te);const le=this.getRoomObject(ne,te,se);if(le&&le.model&&le.logic){const ue=le.model.getValue(RoomObjectVariable.FURNITURE_DATA_FORMAT);if(!isNaN(ue)){const ce=ObjectDataFactory.getData(ue);ce.initializeFromRoomObjectModel(le.model),le.processUpdateMessage(new ObjectDataUpdateMessage(le.getState(0),ce))}this.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.CONTENT_UPDATED,ne,te,se))}ee!==NR.TEMPORARY_ROOM&&this.addObjectToTileMap(ne,le)}changeObjectModelData(ee,te,se,ne,le){const ue=this.getObject(this.getRoomId(ee),te,se);if(!ue||!ue.logic)return!1;const ce=new ObjectModelDataUpdateMessage(ne,le);return ue.processUpdateMessage(ce),!0}changeObjectState(ee,te,se){const ne=this.getObject(this.getRoomId(ee),te,se);if(!ne||!ne.model)return;let le=ne.model.getValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX);isNaN(le)?le=1:le=le+1,ne.model.setValue(RoomObjectVariable.FURNITURE_AUTOMATIC_STATE_INDEX,le);const ue=ne.model.getValue(RoomObjectVariable.FURNITURE_DATA_FORMAT),ce=ObjectDataFactory.getData(ue);ce.initializeFromRoomObjectModel(ne.model),ne.logic&&ne.logic.processUpdateMessage(new ObjectDataUpdateMessage(le,ce))}loadRoomObjectBadgeImage(ee,te,se,ne,le=!0){if(!this._sessionDataManager)return;let ue=null;if(ee===0){const he=this._roomManager.getRoomInstance(NR.TEMPORARY_ROOM);he&&(ue=he.getRoomObject(te,se))}else ue=this.getRoomObjectFloor(ee,te);if(!ue||!ue.logic)return;let ce=le?this._sessionDataManager.loadGroupBadgeImage(ne):this._sessionDataManager.loadBadgeImage(ne);if(ce)this.putBadgeInObjectAssets(ue,ne,le);else{ce="loading_icon",this._badgeListenerObjects||(this._badgeListenerObjects=new Map),this._badgeListenerObjects.size||this._sessionDataManager.events.addEventListener(BadgeImageReadyEvent.IMAGE_READY,this.onBadgeImageReadyEvent);let he=this._badgeListenerObjects.get(ne);he||(he=[]),he.push(new RoomObjectBadgeImageAssetListener(ue,le)),this._badgeListenerObjects.set(ne,he)}ue.logic.processUpdateMessage(new ObjectGroupBadgeUpdateMessage(ne,ce))}onBadgeImageReadyEvent(ee){if(!this._sessionDataManager)return;const te=this._badgeListenerObjects&&this._badgeListenerObjects.get(ee.badgeId);if(te){for(const se of te){if(!se)continue;this.putBadgeInObjectAssets(se.object,ee.badgeId,se.groupBadge);const ne=se.groupBadge?this._sessionDataManager.loadGroupBadgeImage(ee.badgeId):this._sessionDataManager.loadBadgeImage(ee.badgeId);se.object&&se.object.logic&&se.object.logic.processUpdateMessage(new ObjectGroupBadgeUpdateMessage(ee.badgeId,ne))}this._badgeListenerObjects.delete(ee.badgeId),this._badgeListenerObjects.size||this._sessionDataManager.events.removeEventListener(BadgeImageReadyEvent.IMAGE_READY,this.onBadgeImageReadyEvent)}}putBadgeInObjectAssets(ee,te,se=!1){if(!this._roomContentLoader||!this._sessionDataManager)return;const ne=se?this._sessionDataManager.loadGroupBadgeImage(te):this._sessionDataManager.loadBadgeImage(te),le=se?this._sessionDataManager.getGroupBadgeImage(te):this._sessionDataManager.getBadgeImage(te);le&&this._roomContentLoader.addAssetToCollection(ee.type,ne,le,!1)}dispatchMouseEvent(ee,te,se,ne,le,ue,ce,he){const de=this.getRoomInstanceRenderingCanvas(this._activeRoomId,ee);if(!de)return;const _e=this.getRenderingCanvasOverlay(de),fe=this.getOverlayIconSprite(_e,NR.OBJECT_ICON_SPRITE);if(fe){const ye=fe.getLocalBounds();fe.x=te-ye.width/2,fe.y=se-ye.height/2}if(!this.handleRoomDragging(de,te,se,ne,le,ue,ce)&&!de.handleMouseEvent(te,se,ne,le,ue,ce,he)){let ye=null;ne===MouseEventType.MOUSE_CLICK?(this.events&&this.events.dispatchEvent(new RoomEngineObjectEvent(RoomEngineObjectEvent.DESELECTED,this._activeRoomId,-1,RoomObjectCategory.MINIMUM)),ye=RoomObjectMouseEvent.CLICK):ne===MouseEventType.MOUSE_MOVE?ye=RoomObjectMouseEvent.MOUSE_MOVE:ne===MouseEventType.MOUSE_DOWN?ye=RoomObjectMouseEvent.MOUSE_DOWN:ne===MouseEventType.MOUSE_DOWN_LONG?ye=RoomObjectMouseEvent.MOUSE_DOWN_LONG:ne===MouseEventType.MOUSE_UP&&(ye=RoomObjectMouseEvent.MOUSE_UP),this._roomObjectEventHandler.handleRoomObjectEvent(new RoomObjectMouseEvent(ye,this.getRoomObject(this._activeRoomId,NR.ROOM_OBJECT_ID,RoomObjectCategory.ROOM),null,le),this._activeRoomId)}this._activeRoomActiveCanvas=ee,this._activeRoomActiveCanvasMouseX=te,this._activeRoomActiveCanvasMouseY=se}handleRoomDragging(ee,te,se,ne,le,ue,ce){let he=te-this._activeRoomActiveCanvasMouseX,de=se-this._activeRoomActiveCanvasMouseY;if(ne===MouseEventType.MOUSE_DOWN)!le&&!ue&&!ce&&!this.isDecorating&&this._roomAllowsDragging&&(this._activeRoomIsDragged=!0,this._activeRoomWasDragged=!1,this._activeRoomDragStartX=this._activeRoomActiveCanvasMouseX,this._activeRoomDragStartY=this._activeRoomActiveCanvasMouseY);else if(ne===MouseEventType.MOUSE_UP){if(this._activeRoomIsDragged&&(this._activeRoomIsDragged=!1,this._activeRoomWasDragged)){const _e=this.getRoomInstanceData(this._activeRoomId);if(_e){const fe=_e.roomCamera;fe&&(this.useOffsetScrolling&&(fe.isMoving||(fe.centeredLocX=!1,fe.centeredLocY=!1),fe.resetLocation(new Vector3d(-ee.screenOffsetX,-ee.screenOffsetY))),this._roomDraggingAlwaysCenters&&fe.reset())}}}else if(ne===MouseEventType.MOUSE_MOVE)this._activeRoomIsDragged&&(this._activeRoomWasDragged||(he=te-this._activeRoomDragStartX,de=se-this._activeRoomDragStartY,(he<=-NR.DRAG_THRESHOLD||he>=NR.DRAG_THRESHOLD||de<=-NR.DRAG_THRESHOLD||de>=NR.DRAG_THRESHOLD)&&(this._activeRoomWasDragged=!0),he=0,de=0),(he!=0||de!=0)&&(this._activeRoomDragX+=he,this._activeRoomDragY+=de,this._activeRoomWasDragged=!0));else if((ne===MouseEventType.MOUSE_CLICK||ne===MouseEventType.DOUBLE_CLICK)&&(this._activeRoomIsDragged=!1,this._activeRoomWasDragged))return this._activeRoomWasDragged=!1,!0;return!1}updateMousePointer(ee,te,se){const ne=this.getRoomObjectCategoryForType(se);switch(ee){case RoomObjectFurnitureActionEvent.MOUSE_BUTTON:this.setMouseButton(this._activeRoomId,ne,te);return;default:this.setMouseDefault(this._activeRoomId,ne,te);return}}setMouseButton(ee,te,se){if(!this._roomSessionManager)return;const ne=this._roomSessionManager.getSession(ee);if(ne&&(te!==RoomObjectCategory.FLOOR&&te!==RoomObjectCategory.WALL||ne.controllerLevel>=RoomControllerLevel.GUEST)){const le=this.getRoomInstanceData(ee);le&&le.addButtonMouseCursorOwner(te+"_"+se)&&(this._mouseCursorUpdate=!0)}}setMouseDefault(ee,te,se){if(!this._roomSessionManager)return;const ne=this.getRoomInstanceData(ee);ne&&ne.removeButtonMouseCursorOwner(te+"_"+se)&&(this._mouseCursorUpdate=!0)}processRoomObjectOperation(ee,te,se){if(!this._roomObjectEventHandler)return!1;this._roomObjectEventHandler.modifyRoomObject(this._activeRoomId,ee,te,se)}modifyRoomObjectDataWithMap(ee,te,se,ne){if(!this._roomObjectEventHandler)return!1;te===RoomObjectCategory.FLOOR&&this._roomObjectEventHandler.modifyRoomObjectDataWithMap(this._activeRoomId,ee,te,se,ne)}modifyRoomObjectData(ee,te,se,ne){if(!this._roomObjectEventHandler)return!1;te===RoomObjectCategory.WALL&&this._roomObjectEventHandler.modifyWallItemData(this._activeRoomId,ee,se,ne)}processRoomObjectEvent(ee){if(!this._roomObjectEventHandler)return;const te=this.getRoomObjectRoomId(ee.object);if(!te)return;const se=this.getRoomIdFromString(te);this._roomObjectEventHandler.handleRoomObjectEvent(ee,se)}processRoomObjectPlacement(ee,te,se,ne,le=null,ue=null,ce=-1,he=-1,de=null){const _e=this.getRoomInstance(this._activeRoomId);return!_e||_e.model.getValue(RoomVariableEnum.ROOM_IS_PUBLIC)!==0||!this._roomObjectEventHandler?!1:this._roomObjectEventHandler.processRoomObjectPlacement(ee,this._activeRoomId,te,se,ne,le,ue,ce,he,de)}getRoomObjectScreenLocation(ee,te,se,ne=-1){ne==-1&&(ne=this._activeRoomActiveCanvas);const le=this.getRoomInstanceGeometry(ee,ne);if(!le)return null;const ue=this.getRoomObject(ee,te,se);if(!ue)return null;const ce=le.getScreenPoint(ue.getLocation());if(!ce)return null;const he=this.getRoomInstanceRenderingCanvas(ee,ne);return he?(ce.x=ce.x*he.scale,ce.y=ce.y*he.scale,ce.x+=he.width/2+he.screenOffsetX,ce.y+=he.height/2+he.screenOffsetY,ce.x=Math.round(ce.x),ce.y=Math.round(ce.y),ce):null}selectRoomObject(ee,te,se){this._roomObjectEventHandler&&this._roomObjectEventHandler.setSelectedObject(ee,te,se)}setSelectedAvatar(ee,te){this._roomObjectEventHandler||this._roomObjectEventHandler.setSelectedAvatar(ee,te,!0)}cancelRoomObjectInsert(){this._roomObjectEventHandler&&this._roomObjectEventHandler.cancelRoomObjectInsert(this._activeRoomId)}addOverlayIconSprite(ee,te,se,ne=1){if(!ee||!se)return;let le=this.getOverlayIconSprite(ee,te);return le?null:(le=new NitroSprite(se),le.name=te,le.scale.set(ne),ee.addChild(le),le)}onRoomContentLoaded(ee,te,se){if(!this._roomContentLoader||ee===-1)return;this._thumbnailObjectIdBank.freeNumber(ee-1);const ne=this._thumbnailCallbacks.get(te);if(ne){this._thumbnailCallbacks.delete(te);const le=this._roomContentLoader.getImage(te);if(le)for(const ue of ne)ue&&ue.imageReady(ee,null,le)}}setObjectMoverIconSprite(ee,te,se,ne=null,le=null,ue=-1,ce=-1,he=null){let de=null,_e=0,fe=null;const ye=1;if(se)fe=this.getRoomObjectImage(this._activeRoomId,ee,te,new Vector3d,1,null);else if(this._roomContentLoader)if(te===RoomObjectCategory.FLOOR?(de=this._roomContentLoader.getFurnitureFloorNameForTypeId(ee),_e=this._roomContentLoader.getFurnitureFloorColorIndex(ee)):te===RoomObjectCategory.WALL&&(de=this._roomContentLoader.getFurnitureWallNameForTypeId(ee,ne),_e=this._roomContentLoader.getFurnitureWallColorIndex(ee)),te===RoomObjectCategory.UNIT)if(de=RoomObjectUserType.getTypeString(ee),de==="pet"){de=this.getPetType(ne);const we=new PetFigureData(ne);fe=this.getRoomObjectPetImage(we.typeId,we.paletteId,we.color,new Vector3d(180),64,null,!0,0,we.customParts,he)}else fe=this.getGenericRoomObjectImage(de,ne,new Vector3d(180),64,null,0,null,le,ue,ce,he);else fe=this.getGenericRoomObjectImage(de,_e.toString(),new Vector3d,1,null,0,ne,le,ue,ce,he);if(!fe||!fe.data)return;const be=this.getActiveRoomInstanceRenderingCanvas();if(!be)return;const Pe=this.getRenderingCanvasOverlay(be);this.removeOverlayIconSprite(Pe,NR.OBJECT_ICON_SPRITE);const Ne=this.addOverlayIconSprite(Pe,NR.OBJECT_ICON_SPRITE,fe.data,ye);Ne&&(Ne.x=this._activeRoomActiveCanvasMouseX-fe.data.width/2,Ne.y=this._activeRoomActiveCanvasMouseY-fe.data.height/2)}getRoomObjectImage(ee,te,se,ne,le,ue,ce=0){if(!this._roomManager)return null;let he=-1,de=null,_e=null,fe="",ye=null;const be=this.getRoomId(ee),Pe=this._roomManager.getRoomInstance(be);if(Pe){const Ne=Pe.getRoomObject(te,se);if(Ne&&Ne.model)switch(he=Ne.id,de=Ne.type,se){case RoomObjectCategory.FLOOR:case RoomObjectCategory.WALL:{fe=Ne.model.getValue(RoomObjectVariable.FURNITURE_COLOR).toString(),ye=Ne.model.getValue(RoomObjectVariable.FURNITURE_EXTRAS);const we=Ne.model.getValue(RoomObjectVariable.FURNITURE_DATA_FORMAT);we!==LegacyDataType.FORMAT_KEY&&(_e=ObjectDataFactory.getData(we),_e.initializeFromRoomObjectModel(Ne.model));break}case RoomObjectCategory.UNIT:fe=Ne.model.getValue(RoomObjectVariable.FIGURE);break}}return this.getGenericRoomObjectImage(de,fe,ne,le,ue,ce,ye,_e,-1,-1,null,he)}getFurnitureFloorIconUrl(ee){let te=null,se="";return this._roomContentLoader?(te=this._roomContentLoader.getFurnitureFloorNameForTypeId(ee),se=this._roomContentLoader.getFurnitureFloorColorIndex(ee).toString(),this._roomContentLoader.getAssetIconUrl(te,se)):null}getFurnitureFloorIcon(ee,te,se=null,ne=null){return this.getFurnitureFloorImage(ee,new Vector3d,1,te,0,se,-1,-1,ne)}getFurnitureWallIconUrl(ee,te=null){let se=null,ne="";return this._roomContentLoader?(se=this._roomContentLoader.getFurnitureWallNameForTypeId(ee,te),ne=this._roomContentLoader.getFurnitureWallColorIndex(ee).toString(),this._roomContentLoader.getAssetIconUrl(se,ne)):null}getFurnitureWallIcon(ee,te,se=null){return this.getFurnitureWallImage(ee,new Vector3d,1,te,0,se)}getFurnitureFloorImage(ee,te,se,ne,le=0,ue=null,ce=-1,he=-1,de=null){let _e=null,fe="";return this._roomContentLoader&&(_e=this._roomContentLoader.getFurnitureFloorNameForTypeId(ee),fe=this._roomContentLoader.getFurnitureFloorColorIndex(ee).toString()),se===1&&ne?this.getGenericRoomObjectThumbnail(_e,fe,ne,ue,de):this.getGenericRoomObjectImage(_e,fe,te,se,ne,le,ue,de,ce,he)}getFurnitureWallImage(ee,te,se,ne,le=0,ue=null,ce=-1,he=-1){let de=null,_e="";return this._roomContentLoader&&(de=this._roomContentLoader.getFurnitureWallNameForTypeId(ee),_e=this._roomContentLoader.getFurnitureWallColorIndex(ee).toString()),se===1&&ne?this.getGenericRoomObjectThumbnail(de,_e,ne,ue,null):this.getGenericRoomObjectImage(de,_e,te,se,ne,le,ue,null,ce,he)}getRoomObjectPetImage(ee,te,se,ne,le,ue,ce=!1,he=0,de=null,_e=null){let fe=null,ye=ee+" "+te+" "+se.toString(16);if(ce&&(ye=ye+" head"),de){ye=ye+(" "+de.length);for(const be of de)ye=ye+(" "+be.layerId+" "+be.partId+" "+be.paletteId)}return this._roomContentLoader&&(fe=this._roomContentLoader.getPetNameForType(ee)),this.getGenericRoomObjectImage(fe,ye,ne,le,ue,he,null,null,-1,-1,_e)}getGenericRoomObjectImage(ee,te,se,ne,le,ue=0,ce=null,he=null,de=-1,_e=-1,fe=null,ye=-1){if(!this._roomManager)return null;const be=new ImageResult;if(be.id=-1,!this._ready||!ee)return be;let Pe=this._roomManager.getRoomInstance(NR.TEMPORARY_ROOM);if(!Pe&&(Pe=this._roomManager.createRoomInstance(NR.TEMPORARY_ROOM),!Pe))return be;let Ne=this._imageObjectIdBank.reserveNumber();const we=this.getRoomObjectCategoryForType(ee);if(Ne<0)return be;Ne++;const De=Pe.createRoomObjectAndInitalize(Ne,ee,we);if(!De||!De.model||!De.logic)return be;const $e=De.model;switch(we){case RoomObjectCategory.FLOOR:case RoomObjectCategory.WALL:$e.setValue(RoomObjectVariable.FURNITURE_COLOR,parseInt(te)),$e.setValue(RoomObjectVariable.FURNITURE_EXTRAS,ce);break;case RoomObjectCategory.UNIT:if(ee===RoomObjectUserType.USER||ee===RoomObjectUserType.BOT||ee===RoomObjectUserType.RENTABLE_BOT||ee===RoomObjectUserType.PET)$e.setValue(RoomObjectVariable.FIGURE,te);else{const $t=new PetFigureData(te);$e.setValue(RoomObjectVariable.PET_PALETTE_INDEX,$t.paletteId),$e.setValue(RoomObjectVariable.PET_COLOR,$t.color),$t.headOnly&&$e.setValue(RoomObjectVariable.PET_HEAD_ONLY,1),$t.hasCustomParts&&($e.setValue(RoomObjectVariable.PET_CUSTOM_LAYER_IDS,$t.customLayerIds),$e.setValue(RoomObjectVariable.PET_CUSTOM_PARTS_IDS,$t.customPartIds),$e.setValue(RoomObjectVariable.PET_CUSTOM_PALETTE_IDS,$t.customPaletteIds)),fe&&$e.setValue(RoomObjectVariable.FIGURE_POSTURE,fe)}break}De.setDirection(se);const Ge=De.visualization;if(!Ge)return Pe.removeRoomObject(Ne,we),be;(de>-1||he)&&(he&&he.getLegacyString()!==""?De.logic.processUpdateMessage(new ObjectDataUpdateMessage(parseInt(he.getLegacyString()),he)):De.logic.processUpdateMessage(new ObjectDataUpdateMessage(de,he)));const Be=new RoomGeometry(ne,new Vector3d(-135,30,0),new Vector3d(11,11,5));if(Ge.update(Be,0,!0,!1),_e>0){let $t=0;for(;$t<_e;)Ge.update(Be,0,!0,!1),$t++}const ze=Ge.getImage(ue,ye);if(be.data=ze,be.id=Ne,!this.isRoomContentTypeLoaded(ee)&&le){let $t=this._imageCallbacks.get(Ne.toString());$t||($t=[],this._imageCallbacks.set(Ne.toString(),$t)),$t.push(le),$e.setValue(RoomObjectVariable.IMAGE_QUERY_SCALE,ne)}else Pe.removeRoomObject(Ne,we),this._imageObjectIdBank.freeNumber(Ne-1),be.id=0;return Be.dispose(),be}getGenericRoomObjectThumbnail(ee,te,se,ne=null,le=null){if(!this._roomManager)return null;const ue=new ImageResult;if(ue.id=-1,!this._ready||!ee)return ue;let ce=this._roomManager.getRoomInstance(NR.TEMPORARY_ROOM);if(!ce&&(ce=this._roomManager.createRoomInstance(NR.TEMPORARY_ROOM),!ce))return ue;let he=this._thumbnailObjectIdBank.reserveNumber();if(this.getRoomObjectCategoryForType(ee),he<0)return ue;he++,ue.id=he,ue.data=null,ue.image=null;const de=[ee,te].join("_"),_e=this._roomContentLoader.getImage(de);if(!_e&&se){let fe=this._thumbnailCallbacks.get(de);fe||(fe=[],this._thumbnailCallbacks.set(de,fe),this._roomContentLoader.downloadImage(he,ee,te,null)),fe.push(se)}else _e&&(ue.image=_e),this._thumbnailObjectIdBank.freeNumber(he-1),ue.id=0;return ue}initalizeTemporaryObjectsByType(ee,te){const se=this._roomManager.getRoomInstance(NR.TEMPORARY_ROOM);if(!se||!this._roomContentLoader)return;const ne=this._roomContentLoader.getCategoryForType(ee),le=se.getManager(ne);let ue=null,ce=0;if(le&&le.objects.length){for(const he of le.objects.getValues())if(he&&he.model&&he.type===ee){const de=he.id,_e=he.visualization;let fe=null;if(_e){const be=he.model.getValue(RoomObjectVariable.IMAGE_QUERY_SCALE);ue&&ce!==be&&(ue.dispose(),ue=null),ue||(ce=be,ue=new RoomGeometry(be,new Vector3d(-135,30,0),new Vector3d(11,11,5))),_e.update(ue,0,!0,!1),fe=_e.image}se.removeRoomObject(de,ne),this._imageObjectIdBank.freeNumber(de-1);const ye=this._imageCallbacks.get(de.toString());if(ye){this._imageCallbacks.delete(de.toString());for(const be of ye)be&&(fe?be.imageReady(de,fe):be.imageFailed(de))}}}ue&&ue.dispose()}setObjectMoverIconSpriteVisible(ee){const te=this.getActiveRoomInstanceRenderingCanvas();if(!te)return;const se=this.getRenderingCanvasOverlay(te),ne=this.getOverlayIconSprite(se,NR.OBJECT_ICON_SPRITE);ne&&(ne.visible=ee)}removeObjectMoverIconSprite(){const ee=this.getActiveRoomInstanceRenderingCanvas();if(!ee)return;const te=this.getRenderingCanvasOverlay(ee);this.removeOverlayIconSprite(te,NR.OBJECT_ICON_SPRITE)}getRenderingCanvasOverlay(ee){if(!ee)return null;const te=ee.master;return te&&te.getChildByName(NR.OVERLAY)||null}removeOverlayIconSprite(ee,te){if(!ee)return!1;let se=ee.children.length-1;for(;se>=0;){const ne=ee.getChildAt(se);if(ne&&ne.name===te){if(ee.removeChildAt(se),ne.children.length){const le=ne.getChildAt(0);le.parent.removeChild(le),le.destroy()}return!0}se--}return!1}getOverlayIconSprite(ee,te){if(!ee)return null;let se=ee.children.length-1;for(;se>=0;){const ne=ee.getChildAt(se);if(ne&&ne.name===te)return ne;se--}return null}getRoomObjects(ee,te){if(this._ready){const se=this.getRoomId(ee),ne=this._roomManager.getRoomInstance(se);if(ne)return ne.getRoomObjectsForCategory(te)}return[]}addObjectToTileMap(ee,te){const se=this.getRoomInstanceData(ee).tileObjectMap;se&&se.addRoomObject(te)}refreshTileObjectMap(ee,te){const se=this.getRoomInstanceData(ee).tileObjectMap;se&&se.populate(this.getRoomObjects(ee,RoomObjectCategory.FLOOR))}getRenderRoomMessage(ee,te,se=!1,ne=!0,le=!1,ue=-1){let ce=null;if(ue>-1?ce=this.getRoomInstanceRenderingCanvas(this._activeRoomId,ue):ce=this.getActiveRoomInstanceRenderingCanvas(),!ce)return null;le&&ce.skipSpriteVisibilityChecking();let he=-1;!ne&&this._roomSessionManager.getSession(this._activeRoomId)!=null&&(he=this._roomSessionManager.getSession(this._activeRoomId).ownRoomIndex);const de=new SpriteDataCollector,_e=de.getFurniData(ee,ce,this,he),fe=de.getRoomRenderingModifiers(this),ye=de.getRoomPlanes(ee,ce,this,te);return le&&ce.resumeSpriteVisibilityChecking(),NitroLogger.log(_e,fe,ye),null}createTextureFromRoom(ee,te=-1,se=null){let ne=null;te>-1?ne=this.getRoomInstanceRenderingCanvas(this._activeRoomId,te):ne=this.getActiveRoomInstanceRenderingCanvas();let le=null;return se?le=TextureUtils.generateTexture(ne.master,se):le=ne.getDisplayAsTexture(),le}saveTextureAsScreenshot(ee,te=!1){let se=null;te?se=new RenderRoomThumbnailMessageComposer:se=new RenderRoomMessageComposer,se.assignBitmap(ee),this._communication.connection.send(se)}saveBase64AsScreenshot(ee,te=!1){let se=null;te?se=new RenderRoomThumbnailMessageComposer:se=new RenderRoomMessageComposer,se.assignBase64(ee),this._communication.connection.send(se)}objectsInitialized(ee){const te=this.getRoomIdFromString(ee);this.events.dispatchEvent(new RoomEngineEvent(RoomEngineEvent.OBJECTS_INITIALIZED,te))}getRoomId(ee){return ee.toString()}getRoomIdFromString(ee){if(!ee)return-1;const te=ee.split("_");return te.length<=0?-1:parseInt(te[0])||0}getRoomObjectRoomId(ee){return!ee||!ee.model?null:ee.model.getValue(RoomObjectVariable.OBJECT_ROOM_ID)}getRoomObjectAdUrl(ee){return this._roomContentLoader.getRoomObjectAdUrl(ee)}getPetTypeId(ee){let te=-1;if(ee){const se=ee.split(" ");se.length>1&&(te=parseInt(se[0]))}return te}getPetType(ee){if(!ee)return null;const te=ee.split(" ");if(te.length>1){const se=parseInt(te[0]);return this._roomContentLoader?this._roomContentLoader.getPetNameForType(se):"pet"}return null}isRoomContentTypeLoaded(ee){return this._roomContentLoader?this._roomContentLoader.getCollection(ee)!==null:!1}getPetColorResult(ee,te){return this._roomContentLoader?this._roomContentLoader.getPetColorResult(ee,te):null}getPetColorResultsForTag(ee,te){return this._roomContentLoader?this._roomContentLoader.getPetColorResultsForTag(ee,te):null}deleteRoomObject(ee,te){return!this._roomObjectEventHandler||te!==RoomObjectCategory.WALL?!1:this._roomObjectEventHandler.deleteWallItem(this._activeRoomId,ee)}get connection(){return this._communication.connection}get sessionDataManager(){return this._sessionDataManager}set sessionDataManager(ee){this._sessionDataManager=ee}get roomSessionManager(){return this._roomSessionManager}set roomSessionManager(ee){this._roomSessionManager=ee}get roomManager(){return this._roomManager}set roomManager(ee){this._roomManager=ee}get objectEventHandler(){return this._roomObjectEventHandler}get roomRendererFactory(){return this._roomRendererFactory}get visualizationFactory(){return this._visualizationFactory}get logicFactory(){return this._logicFactory}get activeRoomId(){return this._activeRoomId}get ready(){return this._ready}get roomContentLoader(){return this._roomContentLoader}get isDecorating(){if(!this._roomSessionManager)return!1;const ee=this._roomSessionManager.getSession(this._activeRoomId);return ee&&ee.isDecorating||!1}get useOffsetScrolling(){return!0}get selectedAvatarId(){return this._roomObjectEventHandler?this._roomObjectEventHandler.selectedAvatarId:-1}getRoomObjectCount(ee,te){return this._roomManager==null?0:this._roomManager.getRoomInstance(ee.toString()).getRoomObjectsForCategory(te).length}};NR.ROOM_OBJECT_ID=-1,NR.ROOM_OBJECT_TYPE="room",NR.CURSOR_OBJECT_ID=-2,NR.CURSOR_OBJECT_TYPE="tile_cursor",NR.ARROW_OBJECT_ID=-3,NR.ARROW_OBJECT_TYPE="selection_arrow",NR.OVERLAY="overlay",NR.OBJECT_ICON_SPRITE="object_icon_sprite",NR.DRAG_THRESHOLD=15,NR.TEMPORARY_ROOM="temporary_room";let RoomEngine=NR;const tR=class tR{constructor(ee,te=1){this._previewRoomId=1,this._currentPreviewObjectType=0,this._currentPreviewObjectCategory=0,this._currentPreviewObjectData="",this._currentPreviewRectangle=null,this._currentPreviewCanvasWidth=0,this._currentPreviewCanvasHeight=0,this._currentPreviewScale=64,this._backgroundColor=305148561,this._backgroundSprite=null,this._disableUpdate=!1,this._roomEngine=ee,this._planeParser=new RoomPlaneParser,this._previewRoomId=RoomId.makeRoomPreviewerId(te),this._addViewOffset=new Point$1(0,0),this.onRoomObjectAdded=this.onRoomObjectAdded.bind(this),this.onRoomInitializedonRoomInitialized=this.onRoomInitializedonRoomInitialized.bind(this),this.isRoomEngineReady&&this._roomEngine.events&&(this._roomEngine.events.addEventListener(RoomEngineObjectEvent.ADDED,this.onRoomObjectAdded),this._roomEngine.events.addEventListener(RoomEngineObjectEvent.CONTENT_UPDATED,this.onRoomObjectAdded),this._roomEngine.events.addEventListener(RoomEngineEvent.INITIALIZED,this.onRoomInitializedonRoomInitialized)),this.createRoomForPreview()}dispose(){this.reset(!0),this.isRoomEngineReady&&this._roomEngine.events&&(this._roomEngine.events.removeEventListener(RoomEngineObjectEvent.ADDED,this.onRoomObjectAdded),this._roomEngine.events.removeEventListener(RoomEngineObjectEvent.CONTENT_UPDATED,this.onRoomObjectAdded),this._roomEngine.events.removeEventListener(RoomEngineEvent.INITIALIZED,this.onRoomInitializedonRoomInitialized)),this._backgroundSprite&&(this._backgroundSprite.destroy(),this._backgroundSprite=null),this._planeParser&&(this._planeParser.dispose(),this._planeParser=null)}createRoomForPreview(){if(this.isRoomEngineReady){const te=new RoomPlaneParser;te.initializeTileMap(9,9);let se=1;for(;se<8;){let ne=1;for(;ne<8;)te.setTileHeight(ne,se,0),ne++;se++}te.initializeFromTileData(),this._roomEngine.createRoomInstance(this._previewRoomId,te.getMapData()),te.dispose()}}reset(ee){this.isRoomEngineReady&&(this._roomEngine.removeRoomObjectFloor(this._previewRoomId,tR.PREVIEW_OBJECT_ID),this._roomEngine.removeRoomObjectWall(this._previewRoomId,tR.PREVIEW_OBJECT_ID),this._roomEngine.removeRoomObjectUser(this._previewRoomId,tR.PREVIEW_OBJECT_ID),ee||this.updatePreviewRoomView()),this._currentPreviewObjectCategory=RoomObjectCategory.MINIMUM}updatePreviewModel(ee,te,se=!0){const ne=new FloorHeightMapMessageParser;ne.flush(),ne.parseModel(ee,te,se);const le=this._roomEngine.getLegacyWallGeometry(this._previewRoomId);if(!le)return;this._planeParser.reset();const ue=ne.width,ce=ne.height;this._planeParser.initializeTileMap(ue,ce);const he=null;let de=-1,_e=-1,fe=0,ye=0,be=0;for(;be<ce;){let De=0;for(;De<ue;){const $e=ne.getHeight(De,be);(be>0&&be<ce-1||De>0&&De<ue-1)&&$e!=RoomPlaneParser.TILE_BLOCKED&&he==null&&(ne.getHeight(De,be-1)==RoomPlaneParser.TILE_BLOCKED&&ne.getHeight(De-1,be)==RoomPlaneParser.TILE_BLOCKED&&ne.getHeight(De,be+1)==RoomPlaneParser.TILE_BLOCKED&&(de=De+.5,_e=be,fe=$e,ye=90),ne.getHeight(De,be-1)==RoomPlaneParser.TILE_BLOCKED&&ne.getHeight(De-1,be)==RoomPlaneParser.TILE_BLOCKED&&ne.getHeight(De+1,be)==RoomPlaneParser.TILE_BLOCKED&&(de=De,_e=be+.5,fe=$e,ye=180)),this._planeParser.setTileHeight(De,be,$e),De++}be++}this._planeParser.setTileHeight(Math.floor(de),Math.floor(_e),fe),this._planeParser.initializeFromTileData(ne.wallHeight),this._planeParser.setTileHeight(Math.floor(de),Math.floor(_e),fe+this._planeParser.wallHeight),le.scale=LegacyWallGeometry.DEFAULT_SCALE,le.initialize(ue,ce,this._planeParser.floorHeight);let Pe=ne.height-1;for(;Pe>=0;){let De=ne.width-1;for(;De>=0;)le.setHeight(De,Pe,this._planeParser.getTileHeight(De,Pe)),De--;Pe--}const Ne=this._planeParser.getMapData();Ne.doors.push({x:de,y:_e,z:fe,dir:ye});const we=this.getRoomPreviewOwnRoomObject();we&&we.processUpdateMessage(new ObjectRoomMapUpdateMessage(Ne))}addFurnitureIntoRoom(ee,te,se=null,ne=null){if(se||(se=new LegacyDataType),this.isRoomEngineReady&&(this.reset(!1),this._currentPreviewObjectType=ee,this._currentPreviewObjectCategory=RoomObjectCategory.FLOOR,this._currentPreviewObjectData="",this._roomEngine.addFurnitureFloor(this._previewRoomId,tR.PREVIEW_OBJECT_ID,ee,new Vector3d(tR.PREVIEW_OBJECT_LOCATION_X,tR.PREVIEW_OBJECT_LOCATION_Y,0),te,0,se,NaN,-1,0,-1,"",!0,!1))){this._previousAutomaticStateChangeTime=GetTickerTime(),this._automaticStateChange=!0;const le=this._roomEngine.getRoomObject(this._previewRoomId,tR.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);return le&&ne&&le.model.setValue(RoomObjectVariable.FURNITURE_EXTRAS,ne),this.updatePreviewRoomView(),tR.PREVIEW_OBJECT_ID}return-1}addWallItemIntoRoom(ee,te,se){if(this.isRoomEngineReady){if(this._currentPreviewObjectCategory===RoomObjectCategory.WALL&&this._currentPreviewObjectType===ee&&this._currentPreviewObjectData===se)return tR.PREVIEW_OBJECT_ID;if(this.reset(!1),this._currentPreviewObjectType=ee,this._currentPreviewObjectCategory=RoomObjectCategory.WALL,this._currentPreviewObjectData=se,this._roomEngine.addFurnitureWall(this._previewRoomId,tR.PREVIEW_OBJECT_ID,ee,new Vector3d(.5,2.3,1.8),te,0,se,0,0,-1,"",!1))return this._previousAutomaticStateChangeTime=GetTickerTime(),this._automaticStateChange=!0,this.updatePreviewRoomView(),tR.PREVIEW_OBJECT_ID}return-1}addAvatarIntoRoom(ee,te){return this.isRoomEngineReady?(this.reset(!1),this._currentPreviewObjectType=1,this._currentPreviewObjectCategory=RoomObjectCategory.UNIT,this._currentPreviewObjectData=ee,this._roomEngine.addRoomObjectUser(this._previewRoomId,tR.PREVIEW_OBJECT_ID,new Vector3d(tR.PREVIEW_OBJECT_LOCATION_X,tR.PREVIEW_OBJECT_LOCATION_Y,0),new Vector3d(90,0,0),135,RoomObjectUserType.getTypeNumber(RoomObjectUserType.USER),ee)&&(this._previousAutomaticStateChangeTime=GetTickerTime(),this._automaticStateChange=!0,this.updateUserGesture(1),this.updateUserEffect(te),this.updateUserPosture("std")),this.updatePreviewRoomView(),tR.PREVIEW_OBJECT_ID):-1}addPetIntoRoom(ee){return this.isRoomEngineReady?(this.reset(!1),this._currentPreviewObjectType=1,this._currentPreviewObjectCategory=RoomObjectCategory.UNIT,this._currentPreviewObjectData=ee,this._roomEngine.addRoomObjectUser(this._previewRoomId,tR.PREVIEW_OBJECT_ID,new Vector3d(tR.PREVIEW_OBJECT_LOCATION_X,tR.PREVIEW_OBJECT_LOCATION_Y,0),new Vector3d(90,0,0),90,RoomObjectUserType.getTypeNumber(RoomObjectUserType.PET),ee)&&(this._previousAutomaticStateChangeTime=GetTickerTime(),this._automaticStateChange=!1,this.updateUserGesture(1),this.updateUserPosture("std")),this.updatePreviewRoomView(),tR.PREVIEW_OBJECT_ID):-1}updateUserPosture(ee,te=""){this.isRoomEngineReady&&this._roomEngine.updateRoomObjectUserPosture(this._previewRoomId,tR.PREVIEW_OBJECT_ID,ee,te)}updateUserGesture(ee){this.isRoomEngineReady&&this._roomEngine.updateRoomObjectUserGesture(this._previewRoomId,tR.PREVIEW_OBJECT_ID,ee)}updateUserEffect(ee){this.isRoomEngineReady&&this._roomEngine.updateRoomObjectUserEffect(this._previewRoomId,tR.PREVIEW_OBJECT_ID,ee)}updateObjectUserFigure(ee,te=null,se=null,ne=!1){return this.isRoomEngineReady?this._roomEngine.updateRoomObjectUserFigure(this._previewRoomId,tR.PREVIEW_OBJECT_ID,ee,te,se,ne):!1}updateObjectUserAction(ee,te,se=null){this.isRoomEngineReady&&this._roomEngine.updateRoomObjectUserAction(this._previewRoomId,tR.PREVIEW_OBJECT_ID,ee,te,se)}updateObjectStuffData(ee){this.isRoomEngineReady&&this._roomEngine.updateRoomObjectFloor(this._previewRoomId,tR.PREVIEW_OBJECT_ID,null,null,ee.state,ee)}changeRoomObjectState(){this.isRoomEngineReady&&(this._automaticStateChange=!1,this._currentPreviewObjectCategory!==RoomObjectCategory.UNIT&&this._roomEngine.changeObjectState(this._previewRoomId,tR.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory))}changeRoomObjectDirection(){if(this.isRoomEngineReady){const ee=this._roomEngine.getRoomObject(this._previewRoomId,tR.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);if(!ee)return;const te=this._roomEngine.objectEventHandler.getValidRoomObjectDirection(ee,!0);switch(this._currentPreviewObjectCategory){case RoomObjectCategory.FLOOR:{const se=new Vector3d(tR.PREVIEW_OBJECT_LOCATION_X,tR.PREVIEW_OBJECT_LOCATION_Y),ne=new Vector3d(te,te,te);this._roomEngine.updateRoomObjectFloor(this._previewRoomId,tR.PREVIEW_OBJECT_ID,se,ne,null,null);return}case RoomObjectCategory.WALL:return}}}checkAutomaticRoomObjectStateChange(){if(this._automaticStateChange){const ee=GetTickerTime();ee>this._previousAutomaticStateChangeTime+tR.AUTOMATIC_STATE_CHANGE_INTERVAL&&(this._previousAutomaticStateChangeTime=ee,this.isRoomEngineReady&&this._roomEngine.changeObjectState(this._previewRoomId,tR.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory))}}getRoomCanvas(ee,te){if(this.isRoomEngineReady){const se=this._roomEngine.getRoomInstanceDisplay(this._previewRoomId,tR.PREVIEW_CANVAS_ID,ee,te,this._currentPreviewScale);if(se&&this._backgroundColor!==null){let le=this._backgroundSprite;le||(le=new NitroSprite(Texture$1.WHITE),se.addChildAt(le,0)),le.width=ee,le.height=te,le.tint=this._backgroundColor}this._roomEngine.setRoomInstanceRenderingCanvasMask(this._previewRoomId,tR.PREVIEW_CANVAS_ID,!0);const ne=this._roomEngine.getRoomInstanceGeometry(this._previewRoomId,tR.PREVIEW_CANVAS_ID);return ne&&ne.adjustLocation(new Vector3d(tR.PREVIEW_OBJECT_LOCATION_X,tR.PREVIEW_OBJECT_LOCATION_Y,0),30),this._currentPreviewCanvasWidth=ee,this._currentPreviewCanvasHeight=te,se}return null}modifyRoomCanvas(ee,te){this.isRoomEngineReady&&(this._currentPreviewCanvasWidth=ee,this._currentPreviewCanvasHeight=te,this._backgroundSprite&&(this._backgroundSprite.width=ee,this._backgroundSprite.height=te),this._roomEngine.initializeRoomInstanceRenderingCanvas(this._previewRoomId,tR.PREVIEW_CANVAS_ID,ee,te))}set addViewOffset(ee){this._addViewOffset=ee}get addViewOffset(){return this._addViewOffset}updatePreviewObjectBoundingRectangle(ee){const te=this._roomEngine.getRoomObjectBoundingRectangle(this._previewRoomId,tR.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory,tR.PREVIEW_CANVAS_ID);if(te&&ee)if(te.x+=-(this._currentPreviewCanvasWidth>>1),te.y+=-(this._currentPreviewCanvasHeight>>1),te.x+=-ee.x,te.y+=-ee.y,!this._currentPreviewRectangle)this._currentPreviewRectangle=te;else{const se=this._currentPreviewRectangle.clone().enlarge(te);(se.width-this._currentPreviewRectangle.width>this._currentPreviewCanvasWidth-this._currentPreviewRectangle.width>>1||se.height-this._currentPreviewRectangle.height>this._currentPreviewCanvasHeight-this._currentPreviewRectangle.height>>1||this._currentPreviewRectangle.width<1||this._currentPreviewRectangle.height<1)&&(this._currentPreviewRectangle=se)}}validatePreviewSize(ee){if(this._currentPreviewRectangle.width<1||this._currentPreviewRectangle.height<1)return ee;if(this.isRoomEngineReady){const te=this._roomEngine.getRoomInstanceGeometry(this._previewRoomId,tR.PREVIEW_CANVAS_ID);this._currentPreviewRectangle.width>this._currentPreviewCanvasWidth*(1+tR.ALLOWED_IMAGE_CUT)||this._currentPreviewRectangle.height>this._currentPreviewCanvasHeight*(1+tR.ALLOWED_IMAGE_CUT)?tR.ZOOM_ENABLED?this._roomEngine.getRoomInstanceRenderingCanvasScale(this._previewRoomId,tR.PREVIEW_CANVAS_ID)!==.5&&(this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId,tR.PREVIEW_CANVAS_ID,.5,null,null),this._currentPreviewScale=tR.SCALE_SMALL,this._currentPreviewNeedsZoomOut=!0,ee.x=ee.x>>1,ee.y=ee.y>>1,this._currentPreviewRectangle.x=this._currentPreviewRectangle.x>>2,this._currentPreviewRectangle.y=this._currentPreviewRectangle.y>>2,this._currentPreviewRectangle.width=this._currentPreviewRectangle.width>>2,this._currentPreviewRectangle.height=this._currentPreviewRectangle.height>>2):te.isZoomedIn()&&(te.performZoomOut(),this._currentPreviewScale=tR.SCALE_SMALL,this._currentPreviewNeedsZoomOut=!0):this._currentPreviewNeedsZoomOut||(tR.ZOOM_ENABLED?this._roomEngine.getRoomInstanceRenderingCanvasScale(this._previewRoomId,tR.PREVIEW_CANVAS_ID)!==1&&(this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId,tR.PREVIEW_CANVAS_ID,1,null,null),this._currentPreviewScale=tR.SCALE_NORMAL):te.isZoomedIn()||(te.performZoomIn(),this._currentPreviewScale=tR.SCALE_NORMAL))}return ee}zoomIn(){this.isRoomEngineReady&&(tR.ZOOM_ENABLED?this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId,tR.PREVIEW_CANVAS_ID,1):this._roomEngine.getRoomInstanceGeometry(this._previewRoomId,tR.PREVIEW_CANVAS_ID).performZoomIn()),this._currentPreviewScale=tR.SCALE_NORMAL}zoomOut(){this.isRoomEngineReady&&(tR.ZOOM_ENABLED?this._roomEngine.setRoomInstanceRenderingCanvasScale(this._previewRoomId,tR.PREVIEW_CANVAS_ID,.5):this._roomEngine.getRoomInstanceGeometry(this._previewRoomId,tR.PREVIEW_CANVAS_ID).performZoomOut()),this._currentPreviewScale=tR.SCALE_SMALL}updateAvatarDirection(ee,te){this.isRoomEngineReady&&this._roomEngine.updateRoomObjectUserLocation(this._previewRoomId,tR.PREVIEW_OBJECT_ID,new Vector3d(tR.PREVIEW_OBJECT_LOCATION_X,tR.PREVIEW_OBJECT_LOCATION_Y,0),new Vector3d(tR.PREVIEW_OBJECT_LOCATION_X,tR.PREVIEW_OBJECT_LOCATION_Y,0),!1,0,new Vector3d(ee*45,0,0),te*45)}updateObjectRoom(ee=null,te=null,se=null,ne=!1){return this.isRoomEngineReady?this._roomEngine.updateRoomInstancePlaneType(this._previewRoomId,ee,te,se,ne):!1}updateRoomWallsAndFloorVisibility(ee,te=!0){this.isRoomEngineReady&&this._roomEngine.updateRoomInstancePlaneVisibility(this._previewRoomId,ee,te)}getCanvasOffset(ee){if(this._currentPreviewRectangle.width<1||this._currentPreviewRectangle.height<1)return ee;let te=-(this._currentPreviewRectangle.left+this._currentPreviewRectangle.right)>>1,se=-(this._currentPreviewRectangle.top+this._currentPreviewRectangle.bottom)>>1;const ne=this._currentPreviewCanvasHeight-this._currentPreviewRectangle.height>>1;ne>10?se=se+Math.min(15,ne-10):this._currentPreviewObjectCategory!==RoomObjectCategory.UNIT?se=se+(5-Math.max(0,ne/2)):se=se-(5-Math.min(0,ne/2)),se=se+this._addViewOffset.y,te=te+this._addViewOffset.x;const le=te-ee.x,ue=se-ee.y;if(le!==0||ue!==0){const ce=Math.sqrt(le*le+ue*ue);return ce>10&&(te=ee.x+le*10/ce,se=ee.y+ue*10/ce),new Point$1(te,se)}return null}updatePreviewRoomView(ee=!1){if(!(this._disableUpdate&&!ee)&&(this.checkAutomaticRoomObjectStateChange(),this.isRoomEngineReady)){let te=this._roomEngine.getRoomInstanceRenderingCanvasOffset(this._previewRoomId,tR.PREVIEW_CANVAS_ID);if(te&&(this.updatePreviewObjectBoundingRectangle(te),this._currentPreviewRectangle)){const se=this._currentPreviewScale;te=this.validatePreviewSize(te);const ne=this.getCanvasOffset(te);ne&&this._roomEngine.setRoomInstanceRenderingCanvasOffset(this._previewRoomId,tR.PREVIEW_CANVAS_ID,ne),this._currentPreviewScale!==se&&(this._currentPreviewRectangle=null)}}}set disableUpdate(ee){this._disableUpdate=ee}set disableRoomEngineUpdate(ee){this.isRoomEngineReady&&this._roomEngine.disableUpdate(ee)}onRoomInitializedonRoomInitialized(ee){if(ee)switch(ee.type){case RoomEngineEvent.INITIALIZED:ee.roomId===this._previewRoomId&&this.isRoomEngineReady&&this._roomEngine.updateRoomInstancePlaneType(this._previewRoomId,"110","99999");return}}onRoomObjectAdded(ee){if(ee.roomId===this._previewRoomId&&ee.objectId===tR.PREVIEW_OBJECT_ID&&ee.category===this._currentPreviewObjectCategory){this._currentPreviewRectangle=null,this._currentPreviewNeedsZoomOut=!1;const te=this._roomEngine.getRoomObject(ee.roomId,ee.objectId,ee.category);if(te&&te.model&&ee.category===RoomObjectCategory.WALL){const se=te.model.getValue(RoomObjectVariable.FURNITURE_SIZE_Z),ne=te.model.getValue(RoomObjectVariable.FURNITURE_CENTER_Z);(se!==null||ne!==null)&&this._roomEngine.updateRoomObjectWallLocation(ee.roomId,ee.objectId,new Vector3d(.5,2.3,(3.6-se)/2+ne))}}}updateRoomEngine(){this.isRoomEngineReady&&this._roomEngine.runUpdate()}getRenderingCanvas(){const ee=this._roomEngine.getRoomInstanceRenderingCanvas(this._previewRoomId,tR.PREVIEW_CANVAS_ID);return ee||null}getGenericRoomObjectImage(ee,te,se,ne,le,ue=0,ce=null,he=null,de=-1,_e=-1,fe=null){return this.isRoomEngineReady?this._roomEngine.getGenericRoomObjectImage(ee,te,se,ne,le,ue,ce,he,de,_e,fe):null}getRoomObjectImage(ee,te,se,ne=0){return this.isRoomEngineReady?this._roomEngine.getRoomObjectImage(this._previewRoomId,tR.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory,ee,te,se,ne):null}getRoomObjectCurrentImage(){if(this.isRoomEngineReady){const ee=this._roomEngine.getRoomObject(this._previewRoomId,tR.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);if(ee&&ee.visualization)return ee.visualization.getImage(16777215,-1)}return null}getRoomPreviewObject(){if(this.isRoomEngineReady){const ee=this._roomEngine.getRoomObject(this._previewRoomId,tR.PREVIEW_OBJECT_ID,this._currentPreviewObjectCategory);if(ee)return ee}return null}getRoomPreviewOwnRoomObject(){if(this.isRoomEngineReady){const ee=this._roomEngine.getRoomObject(this._previewRoomId,RoomEngine.ROOM_OBJECT_ID,RoomObjectCategory.ROOM);if(ee)return ee}return null}get isRoomEngineReady(){return this._roomEngine&&this._roomEngine.ready}get roomId(){return this._previewRoomId}get backgroundColor(){return this._backgroundColor}set backgroundColor(ee){this._backgroundColor=ee}get width(){return this._currentPreviewCanvasWidth}get height(){return this._currentPreviewCanvasHeight}};tR.SCALE_NORMAL=64,tR.SCALE_SMALL=32,tR.PREVIEW_COUNTER=0,tR.PREVIEW_CANVAS_ID=1,tR.PREVIEW_OBJECT_ID=1,tR.PREVIEW_OBJECT_LOCATION_X=2,tR.PREVIEW_OBJECT_LOCATION_Y=2,tR.ALLOWED_IMAGE_CUT=.25,tR.AUTOMATIC_STATE_CHANGE_INTERVAL=2500,tR.ZOOM_ENABLED=!0;let RoomPreviewer=tR;class BadgeInfo{constructor(ee,te){this._image=ee,this._placeHolder=te}get image(){return this._image}get placeHolder(){return this._placeHolder}}class GroupBadge{constructor(ee){this._code=ee,this._parts=[]}get code(){return this._code}get parts(){return this._parts}}const iT=class iT{constructor(ee,te=0,se=0,ne=0){this.type=ee,this.key=te,this.color=se,this.position=ne}get code(){return this.key===0?null:iT.getCode(this.type,this.key,this.color,this.position)}static getCode(ee,te,se,ne){return(ee===iT.BASE?ee:te>=100?iT.SYMBOL_ALT:iT.SYMBOL)+(te<10?"0":"")+(ee===iT.BASE?te:te>=100?te-100:te)+(se<10?"0":"")+se+ne}calculatePosition(ee){const te=this.calculateGridPos(this.position);let se=iT.CELL_WIDTH*te.x+iT.CELL_WIDTH/2-ee.width/2,ne=iT.CELL_HEIGHT*te.y+iT.CELL_HEIGHT/2-ee.height/2;return se<0&&(se=0),se+ee.width>iT.IMAGE_WIDTH&&(se=iT.IMAGE_WIDTH-ee.width),ne<0&&(ne=0),ne+ee.height>iT.IMAGE_HEIGHT&&(ne=iT.IMAGE_HEIGHT-ee.height),new NitroPoint(Math.floor(se),Math.floor(ne))}calculateGridPos(ee){const te=new NitroPoint;return te.x=Math.floor(ee%3),te.y=Math.floor(ee/3),te}};iT.BASE="b",iT.SYMBOL="s",iT.SYMBOL_ALT="t",iT.BASE_PART=0,iT.LAYER_PART=1,iT.IMAGE_WIDTH=39,iT.IMAGE_HEIGHT=39,iT.CELL_WIDTH=13,iT.CELL_HEIGHT=13;let GroupBadgePart=iT;const iO=class iO{constructor(ee,te){this._assets=ee,this._sessionDataManager=te,this._groupBases=new Map,this._groupSymbols=new Map,this._groupPartColors=new Map,this._requestedBadges=new Map,this._groupBadgesQueue=new Map,this._readyToGenerateGroupBadges=!1}init(){if(this._sessionDataManager&&this._sessionDataManager.communication){this._messages=[new GroupBadgePartsEvent(this.onGroupBadgePartsEvent.bind(this))];for(const ee of this._messages)this._sessionDataManager.communication.registerMessageEvent(ee)}}dispose(){if(this._messages&&this._messages.length){for(const ee of this._messages)this._sessionDataManager.communication.removeMessageEvent(ee);this._messages=null}this._sessionDataManager=null}getBadgeImage(ee,te=iO.NORMAL_BADGE,se=!0){let ne=this.getBadgeTexture(ee,te);return!ne&&se&&(ne=this.getBadgePlaceholder()),ne}getBadgeInfo(ee){const te=this.getBadgeTexture(ee);return te?new BadgeInfo(te,!1):new BadgeInfo(this.getBadgePlaceholder(),!0)}loadBadgeImage(ee,te=iO.NORMAL_BADGE){return this._assets.getTexture(this.getBadgeUrl(ee,te))?ee:(this.getBadgeTexture(ee,te),null)}getBadgeTexture(ee,te=iO.NORMAL_BADGE){const se=this.getBadgeUrl(ee,te);if(!se||!se.length)return null;const ne=this._assets.getTexture(se);if(ne)return ne.clone();if(te===iO.NORMAL_BADGE){if(this._requestedBadges.get(ee))return null;this._requestedBadges.set(ee,!0),this._assets.downloadAsset(se).then(le=>{if(!le)return;this._requestedBadges.delete(ee);const ue=this._assets.getTexture(se);ue&&this._sessionDataManager&&this._sessionDataManager.events.dispatchEvent(new BadgeImageReadyEvent(ee,ue.clone()))}).catch(le=>{})}else if(te===iO.GROUP_BADGE){if(this._groupBadgesQueue.get(ee))return;this._groupBadgesQueue.set(ee,!0),this._readyToGenerateGroupBadges&&this.loadGroupBadge(ee)}return null}getBadgePlaceholder(){const ee=NitroConfiguration.getValue("images.url")+"/loading_icon.png",te=this._assets.getTexture(ee);return te?te.clone():null}getBadgeUrl(ee,te=iO.NORMAL_BADGE){let se=null;switch(te){case iO.NORMAL_BADGE:se=NitroConfiguration.getValue("badge.asset.url").replace("%badgename%",ee);break;case iO.GROUP_BADGE:se=ee;break}return se}loadGroupBadge(ee){const te=new GroupBadge(ee),se=[...ee.matchAll(/[b|s][0-9]{4,6}/g)];for(const ne of se){const le=ne[0],ue=le.length===6,ce=le[0],he=parseInt(le.slice(1,ue?3:4)),de=parseInt(le.slice(ue?3:4,ue?5:6)),_e=le.length<6?0:parseInt(le.slice(ue?5:6,ue?6:7)),fe=new GroupBadgePart(ce,he,de,_e);te.parts.push(fe)}this.renderGroupBadge(te)}renderGroupBadge(ee){const te=new NitroContainer,se=new NitroSprite(NitroTexture.EMPTY);se.width=GroupBadgePart.IMAGE_WIDTH,se.height=GroupBadgePart.IMAGE_HEIGHT,te.addChild(se);for(const le of ee.parts){let ue=!0;const ce=le.type==="b"?this._groupBases.get(le.key):this._groupSymbols.get(le.key);if(ce)for(const he of ce){if(!he||!he.length)continue;const de=this._assets.getTexture(`badgepart_${he}`);if(!de)continue;const{x:_e,y:fe}=le.calculatePosition(de),ye=new NitroSprite(de);ye.position.set(_e,fe),ue&&(ye.tint=parseInt(this._groupPartColors.get(le.color),16)),ue=!1,te.addChild(ye)}}this._requestedBadges.delete(ee.code),this._groupBadgesQueue.delete(ee.code);const ne=TextureUtils.generateTexture(te);this._assets.setTexture(ee.code,ne),this._sessionDataManager&&this._sessionDataManager.events.dispatchEvent(new BadgeImageReadyEvent(ee.code,ne))}onGroupBadgePartsEvent(ee){if(!ee)return;const te=ee.getParser();if(te){te.bases.forEach((se,ne)=>this._groupBases.set(ne,se.map(le=>le.replace(".png","").replace(".gif","")))),te.symbols.forEach((se,ne)=>this._groupSymbols.set(ne,se.map(le=>le.replace(".png","").replace(".gif","")))),this._groupPartColors=te.partColors,this._readyToGenerateGroupBadges=!0;for(const se of this._groupBadgesQueue.keys())this.loadGroupBadge(se)}}get disposed(){return!!this._sessionDataManager}};iO.GROUP_BADGE="group_badge",iO.NORMAL_BADGE="normal_badge";let BadgeImageManager=iO;class FurnitureData{constructor(ee,te,se,ne,le,ue,ce,he,de,_e,fe,ye,be,Pe,Ne,we,De,$e,Ge,Be,ze,$t,ut,Ti,Hi,bn,gd,Pm,oE){this._type=ee,this._id=te,this._fullName=se,this._className=ne,this._category=le,this._revision=he,this._tileSizeX=de,this._tileSizeY=_e,this._tileSizeZ=fe,this._colors=ye,this._hasIndexedColor=be,this._colourIndex=Pe,this._localizedName=ue,this._description=ce,this._adUrl=Ne,this._purchaseOfferId=we,this._purchaseCouldBeUsedForBuyout=De,this._rentOfferId=$e,this._rentCouldBeUsedForBuyout=Ge,this._customParams=ze,this._specialType=$t,this._availableForBuildersClub=Be,this._canStandOn=ut,this._canSitOn=Ti,this._canLayOn=Hi,this._excludedFromDynamic=bn,this._furniLine=gd,this._environment=Pm,this._rare=oE}get type(){return this._type}get id(){return this._id}get className(){return this._className}set className(ee){this._className=ee}get fullName(){return this._fullName}get category(){return this._category}get hasIndexedColor(){return this._hasIndexedColor}get colorIndex(){return this._colourIndex}get revision(){return this._revision}get tileSizeX(){return this._tileSizeX}get tileSizeY(){return this._tileSizeY}get tileSizeZ(){return this._tileSizeZ}get colors(){return this._colors}get name(){return this._localizedName}get description(){return this._description}get adUrl(){return this._adUrl}get purchaseOfferId(){return this._purchaseOfferId}get customParams(){return this._customParams}get specialType(){return this._specialType}get rentOfferId(){return this._rentOfferId}get purchaseCouldBeUsedForBuyout(){return this._purchaseCouldBeUsedForBuyout}get rentCouldBeUsedForBuyout(){return this._rentCouldBeUsedForBuyout}get availableForBuildersClub(){return this._availableForBuildersClub}get canStandOn(){return this._canStandOn}get canSitOn(){return this._canSitOn}get canLayOn(){return this._canLayOn}get isExternalImage(){return this._className.indexOf("external_image")!==-1}get excludeDynamic(){return this._excludedFromDynamic}get furniLine(){return this._furniLine}get environment(){return this._environment}get rare(){return this._rare}}const MN=class MN extends EventDispatcher{constructor(ee,te,se){super(),this._floorItems=ee,this._wallItems=te,this._localization=se}loadFurnitureData(ee){ee&&fetch(ee).then(te=>te.json()).then(te=>this.onFurnitureDataLoaded(te)).catch(te=>this.onFurnitureDataError(te))}onFurnitureDataLoaded(ee){ee&&((typeof ee.roomitemtypes>"u"||typeof ee.wallitemtypes>"u")&&NitroLogger.warn("Could not find `roomitemtypes` or `wallitemtypes` in furnidata."),ee.roomitemtypes&&this.parseFloorItems(ee.roomitemtypes),ee.wallitemtypes&&this.parseWallItems(ee.wallitemtypes),this.dispatchEvent(new NitroEvent(MN.FURNITURE_DATA_READY)))}onFurnitureDataError(ee){ee&&(NitroLogger.error(ee),this.dispatchEvent(new NitroEvent(MN.FURNITURE_DATA_ERROR)))}parseFloorItems(ee){if(!(!ee||!ee.furnitype))for(const te of ee.furnitype){if(!te)continue;const se=[];if(te.partcolors)for(const de of te.partcolors.color){let _e=de;_e.charAt(0)==="#"&&(_e=_e.replace("#","")),se.push(parseInt(_e,16))}const ne=te.classname.split("*"),le=ne[0],ue=ne.length>1?parseInt(ne[1]):0,ce=ne.length>1,he=new FurnitureData(FurnitureType.FLOOR,te.id,te.classname,le,te.category,te.name,te.description,te.revision,te.xdim,te.ydim,0,se,ce,ue,te.adurl,te.offerid,te.buyout,te.rentofferid,te.rentbuyout,te.bc,te.customparams,te.specialtype,te.canstandon,te.cansiton,te.canlayon,te.excludeddynamic,te.furniline,te.environment,te.rare);this._floorItems.set(he.id,he),this.updateLocalizations(he)}}parseWallItems(ee){if(!(!ee||!ee.furnitype))for(const te of ee.furnitype){if(!te)continue;const se=new FurnitureData(FurnitureType.WALL,te.id,te.classname,te.classname,te.category,te.name,te.description,te.revision,0,0,0,null,!1,0,te.adurl,te.offerid,te.buyout,te.rentofferid,te.rentbuyout,te.bc,null,te.specialtype,!1,!1,!1,te.excludeddynamic,te.furniline,te.environment,te.rare);this._wallItems.set(se.id,se),this.updateLocalizations(se)}}updateLocalizations(ee){if(this._localization)switch(ee.type){case FurnitureType.FLOOR:this._localization.setValue("roomItem.name."+ee.id,ee.name),this._localization.setValue("roomItem.desc."+ee.id,ee.description);return;case FurnitureType.WALL:this._localization.setValue("wallItem.name."+ee.id,ee.name),this._localization.setValue("wallItem.desc."+ee.id,ee.description);return}}};MN.FURNITURE_DATA_READY="FDP_FURNITURE_DATA_READY",MN.FURNITURE_DATA_ERROR="FDP_FURNITURE_DATA_ERROR";let FurnitureDataLoader=MN;class GroupInformationManager{constructor(ee){this._sessionDataManager=ee,this._groupBadges=new Map}init(){if(this._sessionDataManager&&this._sessionDataManager.communication){this._messages=[new RoomReadyMessageEvent(this.onRoomReadyMessageEvent.bind(this)),new HabboGroupBadgesMessageEvent(this.onGroupBadgesEvent.bind(this))];for(const ee of this._messages)this._sessionDataManager.communication.registerMessageEvent(ee)}}dispose(){if(!this.disposed){if(this._messages&&this._messages.length){for(const ee of this._messages)this._sessionDataManager.communication.removeMessageEvent(ee);this._messages=null}this._groupBadges=null,this._sessionDataManager=null}}onRoomReadyMessageEvent(ee){this._sessionDataManager.send(new GetHabboGroupBadgesMessageComposer)}onGroupBadgesEvent(ee){const te=ee.getParser();for(const[se,ne]of te.badges.entries())this._groupBadges.set(se,ne)}getGroupBadge(ee){return this._groupBadges.get(ee)}get disposed(){return!!this._sessionDataManager}}const qD=class qD{};qD.NO_CLUB=0,qD.CLUB=1,qD.VIP=2;let HabboClubLevelEnum=qD;class BaseHandler extends Disposable{constructor(ee,te){super(),this._connection=ee,this._listener=te,this._roomId=0}onDispose(){this._connection=null,this._listener=null}setRoomId(ee){this._roomId=ee}get connection(){return this._connection}get listener(){return this._listener}get roomId(){return this._roomId}}class GenericErrorHandler extends BaseHandler{constructor(ee,te){super(ee,te),ee.addMessageEvent(new GenericErrorEvent(this.onRoomGenericError.bind(this)))}onRoomGenericError(ee){if(!(ee instanceof GenericErrorEvent))return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);if(!se)return;let ne=null;switch(te.errorCode){case GenericErrorEnum.KICKED_OUT_OF_ROOM:ne=RoomSessionErrorMessageEvent.RSEME_KICKED;break;default:return}!ne||ne.length==0||this.listener.events.dispatchEvent(new RoomSessionErrorMessageEvent(ne,se))}}class PetPackageHandler extends BaseHandler{constructor(ee,te){super(ee,te),ee.addMessageEvent(new OpenPetPackageRequestedMessageEvent(this.onOpenPetPackageRequested.bind(this))),ee.addMessageEvent(new OpenPetPackageResultMessageEvent(this.onOpenPetPackageResult.bind(this)))}onOpenPetPackageRequested(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&this.listener.events.dispatchEvent(new RoomSessionPetPackageEvent(RoomSessionPetPackageEvent.RSOPPE_OPEN_PET_PACKAGE_REQUESTED,se,te.objectId,te.figureData,0,null))}onOpenPetPackageResult(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&this.listener.events.dispatchEvent(new RoomSessionPetPackageEvent(RoomSessionPetPackageEvent.RSOPPE_OPEN_PET_PACKAGE_RESULT,se,te.objectId,null,te.nameValidationStatus,te.nameValidationInfo))}}class PollHandler extends BaseHandler{constructor(ee,te){super(ee,te),ee.addMessageEvent(new PollContentsEvent(this.onPollContentsEvent.bind(this))),ee.addMessageEvent(new PollOfferEvent(this.onPollOfferEvent.bind(this))),ee.addMessageEvent(new PollErrorEvent(this.onPollErrorEvent.bind(this)))}onPollContentsEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();if(!se)return;const ne=new RoomSessionPollEvent(RoomSessionPollEvent.CONTENT,te,se.id);ne.startMessage=se.startMessage,ne.endMessage=se.endMessage,ne.numQuestions=se.numQuestions,ne.questionArray=se.questionArray,ne.npsPoll=se.npsPoll,this.listener.events.dispatchEvent(ne)}onPollOfferEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();if(!se)return;const ne=new RoomSessionPollEvent(RoomSessionPollEvent.OFFER,te,se.id);ne.summary=se.headline,ne.summary=se.summary,this.listener.events.dispatchEvent(ne)}onPollErrorEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te||!ee.getParser())return;const ne=new RoomSessionPollEvent(RoomSessionPollEvent.ERROR,te,-1);ne.headline="???",ne.summary="???",this.listener.events.dispatchEvent(ne)}}class RoomChatHandler extends BaseHandler{constructor(ee,te){super(ee,te),ee.addMessageEvent(new RoomUnitChatEvent(this.onRoomUnitChatEvent.bind(this))),ee.addMessageEvent(new RoomUnitChatShoutEvent(this.onRoomUnitChatEvent.bind(this))),ee.addMessageEvent(new RoomUnitChatWhisperEvent(this.onRoomUnitChatEvent.bind(this))),ee.addMessageEvent(new RoomUnitHandItemReceivedEvent(this.onRoomUnitHandItemReceivedEvent.bind(this))),ee.addMessageEvent(new RespectReceivedEvent(this.onRespectReceivedEvent.bind(this))),ee.addMessageEvent(new PetRespectNoficationEvent(this.onPetRespectNoficationEvent.bind(this))),ee.addMessageEvent(new PetSupplementedNotificationEvent(this.onPetSupplementedNotificationEvent.bind(this))),ee.addMessageEvent(new FloodControlEvent(this.onFloodControlEvent.bind(this))),ee.addMessageEvent(new RemainingMuteEvent(this.onRemainingMuteEvent.bind(this)))}onRoomUnitChatEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();if(!se)return;let ne=RoomSessionChatEvent.CHAT_TYPE_SPEAK;ee instanceof RoomUnitChatShoutEvent?ne=RoomSessionChatEvent.CHAT_TYPE_SHOUT:ee instanceof RoomUnitChatWhisperEvent&&(ne=RoomSessionChatEvent.CHAT_TYPE_WHISPER);const le=new RoomSessionChatEvent(RoomSessionChatEvent.CHAT_EVENT,te,se.roomIndex,se.message,ne,se.bubble);this.listener.events.dispatchEvent(le)}onRoomUnitHandItemReceivedEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();se&&this.listener.events.dispatchEvent(new RoomSessionChatEvent(RoomSessionChatEvent.CHAT_EVENT,te,se.giverUserId,"",RoomSessionChatEvent.CHAT_TYPE_HAND_ITEM_RECEIVED,SystemChatStyleEnum.GENERIC,null,se.handItemType))}onRespectReceivedEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();if(!se)return;const ne=te.userDataManager.getUserData(se.userId);ne&&this.listener.events.dispatchEvent(new RoomSessionChatEvent(RoomSessionChatEvent.CHAT_EVENT,te,ne.roomIndex,"",RoomSessionChatEvent.CHAT_TYPE_RESPECT,SystemChatStyleEnum.GENERIC))}onPetRespectNoficationEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();if(!se)return;const ne=te.userDataManager.getPetData(se.petData.id);if(!ne)return;let le=RoomSessionChatEvent.CHAT_TYPE_PETRESPECT;se.isTreat&&(le=RoomSessionChatEvent.CHAT_TYPE_PETTREAT),this.listener.events.dispatchEvent(new RoomSessionChatEvent(RoomSessionChatEvent.CHAT_EVENT,te,ne.roomIndex,"",le,SystemChatStyleEnum.GENERIC))}onPetSupplementedNotificationEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();if(!se)return;const ne=te.userDataManager.getPetData(se.petId);if(!ne)return;let le=-1;const ue=te.userDataManager.getUserData(se.userId);ue&&(le=ue.roomIndex);let ce=RoomSessionChatEvent.CHAT_TYPE_PETREVIVE;switch(se.supplementType){case PetSupplementTypeEnum.REVIVE:ce=RoomSessionChatEvent.CHAT_TYPE_PETREVIVE;break;case PetSupplementTypeEnum.REBREED_FERTILIZER:ce=RoomSessionChatEvent.CHAT_TYPE_PET_REBREED_FERTILIZE;break;case PetSupplementTypeEnum.SPEED_FERTILIZER:ce=RoomSessionChatEvent.CHAT_TYPE_PET_SPEED_FERTILIZE;break}this.listener.events.dispatchEvent(new RoomSessionChatEvent(RoomSessionChatEvent.CHAT_EVENT,te,ne.roomIndex,"",ce,SystemChatStyleEnum.GENERIC,null,le))}onFloodControlEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();if(!se)return;const ne=se.seconds;this.listener.events.dispatchEvent(new RoomSessionChatEvent(RoomSessionChatEvent.FLOOD_EVENT,te,-1,ne.toString(),0,0))}onRemainingMuteEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();se&&this.listener.events.dispatchEvent(new RoomSessionChatEvent(RoomSessionChatEvent.CHAT_EVENT,te,te.ownRoomIndex,"",RoomSessionChatEvent.CHAT_TYPE_MUTE_REMAINING,SystemChatStyleEnum.GENERIC,null,se.seconds))}}class RoomDataHandler extends BaseHandler{constructor(ee,te){super(ee,te),ee.addMessageEvent(new GetGuestRoomResultEvent(this.onGetGuestRoomResultEvent.bind(this)))}onGetGuestRoomResultEvent(ee){if(!(ee instanceof GetGuestRoomResultEvent))return;const te=ee.getParser();if(!te||te.roomForward)return;const se=this.listener.getSession(this.roomId);if(!se)return;const ne=te.data;se.tradeMode=ne.tradeMode,se.isGuildRoom=ne.habboGroupId!==0,se.doorMode=ne.doorMode,se.allowPets=ne.allowPets,se.moderationSettings=te.moderation,this.listener.events.dispatchEvent(new RoomSessionPropertyUpdateEvent(RoomSessionPropertyUpdateEvent.RSDUE_ALLOW_PETS,se)),this.listener.events.dispatchEvent(new RoomSessionEvent(RoomSessionEvent.ROOM_DATA,se))}}class RoomDimmerPresetsHandler extends BaseHandler{constructor(ee,te){super(ee,te),ee.addMessageEvent(new RoomDimmerPresetsEvent(this.onRoomDimmerPresets.bind(this)))}onRoomDimmerPresets(ee){if(!ee)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);if(!se)return;const ne=new RoomSessionDimmerPresetsEvent(RoomSessionDimmerPresetsEvent.ROOM_DIMMER_PRESETS,se);ne.selectedPresetId=te.selectedPresetId;let le=0;for(;le<te.presetCount;){const ue=te.getPreset(le);ue&&ne.storePreset(ue.id,ue.type,ue.color,ue.brightness),le++}this.listener&&this.listener.events.dispatchEvent(ne)}}class RoomPermissionsHandler extends BaseHandler{constructor(ee,te){super(ee,te),ee.addMessageEvent(new RoomRightsEvent(this.onRoomRightsEvent.bind(this))),ee.addMessageEvent(new RoomRightsClearEvent(this.onRoomRightsClearEvent.bind(this))),ee.addMessageEvent(new RoomRightsOwnerEvent(this.onRoomRightsOwnerEvent.bind(this)))}onRoomRightsEvent(ee){if(!(ee instanceof RoomRightsEvent))return;const te=this.listener.getSession(this.roomId);te&&te.setControllerLevel(ee.getParser().controllerLevel)}onRoomRightsClearEvent(ee){if(!(ee instanceof RoomRightsClearEvent))return;const te=this.listener.getSession(this.roomId);te&&te.setControllerLevel(RoomControllerLevel.NONE)}onRoomRightsOwnerEvent(ee){if(!(ee instanceof RoomRightsOwnerEvent))return;const te=this.listener.getSession(this.roomId);te&&te.setRoomOwner()}}class RoomPresentHandler extends BaseHandler{constructor(ee,te){super(ee,te),ee&&ee.addMessageEvent(new PresentOpenedMessageEvent(this.onFurnitureGiftOpenedEvent.bind(this)))}onFurnitureGiftOpenedEvent(ee){if(!ee)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&this.listener&&this.listener.events&&this.listener.events.dispatchEvent(new RoomSessionPresentEvent(RoomSessionPresentEvent.RSPE_PRESENT_OPENED,se,te.classId,te.itemType,te.productCode,te.placedItemId,te.placedItemType,te.placedInRoom,te.petFigureString))}}const fM=class fM extends BaseHandler{constructor(ee,te){super(ee,te),ee.addMessageEvent(new RoomEnterEvent(this.onRoomEnterEvent.bind(this))),ee.addMessageEvent(new RoomReadyMessageEvent(this.onRoomReadyMessageEvent.bind(this))),ee.addMessageEvent(new DesktopViewEvent(this.onDesktopViewEvent.bind(this))),ee.addMessageEvent(new RoomDoorbellAcceptedEvent(this.onRoomDoorbellAcceptedEvent.bind(this))),ee.addMessageEvent(new FlatAccessDeniedMessageEvent(this.onRoomDoorbellRejectedEvent.bind(this))),ee.addMessageEvent(new YouAreSpectatorMessageEvent(this.onYouAreSpectatorMessageEvent.bind(this)))}onRoomEnterEvent(ee){ee instanceof RoomEnterEvent&&this.listener&&this.listener.sessionUpdate(this.roomId,fM.RS_CONNECTED)}onRoomReadyMessageEvent(ee){if(!(ee instanceof RoomReadyMessageEvent))return;const te=this.roomId,se=ee.getParser().roomId;this.listener&&(this.listener.sessionReinitialize(te,se),this.listener.sessionUpdate(this.roomId,fM.RS_READY))}onDesktopViewEvent(ee){ee instanceof DesktopViewEvent&&this.listener&&this.listener.sessionUpdate(this.roomId,fM.RS_DISCONNECTED)}onRoomDoorbellAcceptedEvent(ee){if(!(ee instanceof RoomDoorbellAcceptedEvent)||!this.listener)return;const te=ee.getParser();if(!te)return;const se=te.userName;if(!se||!se.length)this.connection.send(new GoToFlatMessageComposer(this.roomId));else if(this.listener.events){const ne=this.listener.getSession(this.roomId);if(!ne)return;this.listener.events.dispatchEvent(new RoomSessionDoorbellEvent(RoomSessionDoorbellEvent.RSDE_ACCEPTED,ne,se))}}onRoomDoorbellRejectedEvent(ee){if(!(ee instanceof FlatAccessDeniedMessageEvent)||!this.listener)return;const te=ee.getParser();if(!te)return;const se=te.userName;if(!se||!se.length)this.listener.sessionUpdate(this.roomId,fM.RS_DISCONNECTED);else if(this.listener.events){const ne=this.listener.getSession(this.roomId);if(!ne)return;this.listener.events.dispatchEvent(new RoomSessionDoorbellEvent(RoomSessionDoorbellEvent.RSDE_REJECTED,ne,se))}}onYouAreSpectatorMessageEvent(ee){if(this.listener){const te=this.listener.getSession(this.roomId);if(!te)return;te.isSpectator=!0,this.listener.events.dispatchEvent(new RoomSessionSpectatorModeEvent(RoomSessionSpectatorModeEvent.SPECTATOR_MODE,te))}}};fM.RS_CONNECTED="RS_CONNECTED",fM.RS_READY="RS_READY",fM.RS_DISCONNECTED="RS_DISCONNECTED";let RoomSessionHandler=fM;class RoomPetData{constructor(){this._adultLevel=7}get id(){return this._id}set id(ee){this._id=ee}get level(){return this._level}set level(ee){this._level=ee}get maximumLevel(){return this._maximumLevel}set maximumLevel(ee){this._maximumLevel=ee}get experience(){return this._experience}set experience(ee){this._experience=ee}get levelExperienceGoal(){return this._levelExperienceGoal}set levelExperienceGoal(ee){this._levelExperienceGoal=ee}get energy(){return this._energy}set energy(ee){this._energy=ee}get maximumEnergy(){return this._maximumEnergy}set maximumEnergy(ee){this._maximumEnergy=ee}get happyness(){return this._happyness}set happyness(ee){this._happyness=ee}get maximumHappyness(){return this._maximumHappyness}set maximumHappyness(ee){this._maximumHappyness=ee}get ownerId(){return this._ownerId}set ownerId(ee){this._ownerId=ee}get ownerName(){return this._ownerName}set ownerName(ee){this._ownerName=ee}get respect(){return this._respect}set respect(ee){this._respect=ee}get age(){return this._age}set age(ee){this._age=ee}get unknownRarity(){return this._unknownRarity}set unknownRarity(ee){this._unknownRarity=ee}get saddle(){return this._saddle}set saddle(ee){this._saddle=ee}get rider(){return this._rider}set rider(ee){this._rider=ee}get skillTresholds(){return this._skillThresholds}set skillTresholds(ee){this._skillThresholds=ee}get publiclyRideable(){return this._publiclyRideable}set publiclyRideable(ee){this._publiclyRideable=ee}get breedable(){return this._breedable}set breedable(ee){this._breedable=ee}get fullyGrown(){return this._fullyGrown}set fullyGrown(ee){this._fullyGrown=ee}get dead(){return this._dead}set dead(ee){this._dead=ee}get rarityLevel(){return this._rarityLevel}set rarityLevel(ee){this._rarityLevel=ee}get maximumTimeToLive(){return this._maximumTimeToLive}set maximumTimeToLive(ee){this._maximumTimeToLive=ee}get remainingTimeToLive(){return this._remainingTimeToLive}set remainingTimeToLive(ee){this._remainingTimeToLive=ee}get remainingGrowTime(){return this._remainingGrowTime}set remainingGrowTime(ee){this._remainingGrowTime=ee}get publiclyBreedable(){return this._publiclyBreedable}set publiclyBreedable(ee){this._publiclyBreedable=ee}get adultLevel(){return this._adultLevel}}class RoomUserData{constructor(ee){this._roomIndex=-1,this._name="",this._type=0,this._sex="",this._figure="",this._custom="",this._webID=0,this._groupID=0,this._groupStatus=0,this._groupName="",this._ownerId=0,this._ownerName="",this._petLevel=0,this._rarityLevel=0,this._roomIndex=ee}get roomIndex(){return this._roomIndex}get activityPoints(){return this._activityPoints}set activityPoints(ee){this._activityPoints=ee}get name(){return this._name}set name(ee){this._name=ee}get type(){return this._type}set type(ee){this._type=ee}get sex(){return this._sex}set sex(ee){this._sex=ee}get figure(){return this._figure}set figure(ee){this._figure=ee}get custom(){return this._custom}set custom(ee){this._custom=ee}get webID(){return this._webID}set webID(ee){this._webID=ee}get groupId(){return this._groupID}set groupId(ee){this._groupID=ee}get groupName(){return this._groupName}set groupName(ee){this._groupName=ee}get groupStatus(){return this._groupStatus}set groupStatus(ee){this._groupStatus=ee}get ownerId(){return this._ownerId}set ownerId(ee){this._ownerId=ee}get ownerName(){return this._ownerName}set ownerName(ee){this._ownerName=ee}get rarityLevel(){return this._rarityLevel}set rarityLevel(ee){this._rarityLevel=ee}get hasSaddle(){return this._hasSaddle}set hasSaddle(ee){this._hasSaddle=ee}get isRiding(){return this._isRiding}set isRiding(ee){this._isRiding=ee}get canBreed(){return this._canBreed}set canBreed(ee){this._canBreed=ee}get canHarvest(){return this._canHarvest}set canHarvest(ee){this._canHarvest=ee}get canRevive(){return this._canRevive}set canRevive(ee){this._canRevive=ee}get hasBreedingPermission(){return this._hasBreedingPermission}set hasBreedingPermission(ee){this._hasBreedingPermission=ee}get petLevel(){return this._petLevel}set petLevel(ee){this._petLevel=ee}get botSkills(){return this._botSkills}set botSkills(ee){this._botSkills=ee}get isModerator(){return this._isModerator}set isModerator(ee){this._isModerator=ee}}class RoomUsersHandler extends BaseHandler{constructor(ee,te){super(ee,te),ee.addMessageEvent(new RoomUnitEvent(this.onRoomUnitEvent.bind(this))),ee.addMessageEvent(new RoomUnitInfoEvent(this.onRoomUnitInfoEvent.bind(this))),ee.addMessageEvent(new RoomUnitRemoveEvent(this.onRoomUnitRemoveEvent.bind(this))),ee.addMessageEvent(new RoomUnitDanceEvent(this.onRoomUnitDanceEvent.bind(this))),ee.addMessageEvent(new UserCurrentBadgesEvent(this.onUserCurrentBadgesEvent.bind(this))),ee.addMessageEvent(new DoorbellMessageEvent(this.onRoomDoorbellEvent.bind(this))),ee.addMessageEvent(new UserNameChangeMessageEvent(this.onUserNameChangeMessageEvent.bind(this))),ee.addMessageEvent(new NewFriendRequestEvent(this.onNewFriendRequestEvent.bind(this))),ee.addMessageEvent(new PetInfoEvent(this.onPetInfoEvent.bind(this))),ee.addMessageEvent(new PetStatusUpdateEvent(this.onPetStatusUpdateEvent.bind(this))),ee.addMessageEvent(new PetBreedingMessageEvent(this.onPetBreedingMessageEvent.bind(this))),ee.addMessageEvent(new PetLevelUpdateMessageEvent(this.onPetLevelUpdateMessageEvent.bind(this))),ee.addMessageEvent(new ConfirmBreedingResultEvent(this.onConfirmBreedingResultEvent.bind(this))),ee.addMessageEvent(new NestBreedingSuccessEvent(this.onNestBreedingSuccessEvent.bind(this))),ee.addMessageEvent(new ConfirmBreedingRequestEvent(this.onConfirmBreedingRequestEvent.bind(this))),ee.addMessageEvent(new PetFigureUpdateEvent(this.onPetFigureUpdateEvent.bind(this))),ee.addMessageEvent(new PetBreedingResultEvent(this.onPetBreedingResultEvent.bind(this))),ee.addMessageEvent(new PetPlacingErrorEvent(this.onPetPlacingError.bind(this))),ee.addMessageEvent(new BotErrorEvent(this.onBotError.bind(this))),ee.addMessageEvent(new FavoriteMembershipUpdateMessageEvent(this.onFavoriteMembershipUpdateMessageEvent.bind(this)))}onRoomUnitEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser().users,ne=[];if(se&&se.length)for(const le of se){if(!le)continue;const ue=new RoomUserData(le.roomIndex);ue.name=le.name,ue.custom=le.custom,ue.activityPoints=le.activityPoints,ue.figure=le.figure,ue.type=le.userType,ue.webID=le.webID,ue.groupId=le.groupID,ue.groupName=le.groupName,ue.groupStatus=le.groupStatus,ue.sex=le.sex,ue.ownerId=le.ownerId,ue.ownerName=le.ownerName,ue.rarityLevel=le.rarityLevel,ue.hasSaddle=le.hasSaddle,ue.isRiding=le.isRiding,ue.canBreed=le.canBreed,ue.canHarvest=le.canHarvest,ue.canRevive=le.canRevive,ue.hasBreedingPermission=le.hasBreedingPermission,ue.petLevel=le.petLevel,ue.botSkills=le.botSkills,ue.isModerator=le.isModerator,te.userDataManager.getUserData(le.roomIndex)||ne.push(ue),te.userDataManager.updateUserData(ue)}this.listener.events.dispatchEvent(new RoomSessionUserDataUpdateEvent(te,ne))}onRoomUnitInfoEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();se&&(te.userDataManager.updateFigure(se.unitId,se.figure,se.gender,!1,!1),te.userDataManager.updateMotto(se.unitId,se.motto),te.userDataManager.updateAchievementScore(se.unitId,se.achievementScore),this.listener.events.dispatchEvent(new RoomSessionUserFigureUpdateEvent(te,se.unitId,se.figure,se.gender,se.motto,se.achievementScore)))}onRoomUnitRemoveEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);te&&te.userDataManager.removeUserData(ee.getParser().unitId)}onRoomUnitDanceEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&this.listener.events.dispatchEvent(new RoomSessionDanceEvent(se,te.unitId,te.danceId))}onUserCurrentBadgesEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&(se.userDataManager.setUserBadges(te.userId,te.badges),this.listener.events.dispatchEvent(new RoomSessionUserBadgesEvent(se,te.userId,te.badges)))}onRoomDoorbellEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=te.userName;if(!se||!se.length)return;const ne=this.listener.getSession(this.roomId);ne&&this.listener.events.dispatchEvent(new RoomSessionDoorbellEvent(RoomSessionDoorbellEvent.DOORBELL,ne,se))}onUserNameChangeMessageEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&se.userDataManager.updateName(te.id,te.newName)}onNewFriendRequestEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);if(!se)return;const ne=te.request;this.listener.events.dispatchEvent(new RoomSessionFriendRequestEvent(se,ne.requestId,ne.requesterUserId,ne.requesterName))}onPetInfoEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);if(!se)return;const ne=new RoomPetData;ne.id=te.id,ne.level=te.level,ne.maximumLevel=te.maximumLevel,ne.experience=te.experience,ne.levelExperienceGoal=te.levelExperienceGoal,ne.energy=te.energy,ne.maximumEnergy=te.maximumEnergy,ne.happyness=te.happyness,ne.maximumHappyness=te.maximumHappyness,ne.ownerId=te.ownerId,ne.ownerName=te.ownerName,ne.respect=te.respect,ne.age=te.age,ne.unknownRarity=te.unknownRarity,ne.saddle=te.saddle,ne.rider=te.rider,ne.breedable=te.breedable,ne.fullyGrown=te.fullyGrown,ne.rarityLevel=te.rarityLevel,ne.dead=te.dead,ne.skillTresholds=te.skillTresholds,ne.publiclyRideable=te.publiclyRideable,ne.maximumTimeToLive=te.maximumTimeToLive,ne.remainingTimeToLive=te.remainingTimeToLive,ne.remainingGrowTime=te.remainingGrowTime,ne.publiclyBreedable=te.publiclyBreedable,this.listener.events.dispatchEvent(new RoomSessionPetInfoUpdateEvent(se,ne))}onPetStatusUpdateEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&(se.userDataManager.updatePetBreedingStatus(te.roomIndex,te.canBreed,te.canHarvest,te.canRevive,te.hasBreedingPermission),this.listener.events.dispatchEvent(new RoomSessionPetStatusUpdateEvent(se,te.petId,te.canBreed,te.canHarvest,te.canRevive,te.hasBreedingPermission)))}onPetBreedingMessageEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&this.listener.events.dispatchEvent(new RoomSessionPetBreedingEvent(se,te.state,te.ownPetId,te.otherPetId))}onPetLevelUpdateMessageEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&(se.userDataManager.updatePetLevel(te.roomIndex,te.level),this.listener.events.dispatchEvent(new RoomSessionPetLevelUpdateEvent(se,te.petId,te.level)))}onConfirmBreedingResultEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&this.listener.events.dispatchEvent(new RoomSessionConfirmPetBreedingResultEvent(se,te.breedingNestStuffId,te.result))}onNestBreedingSuccessEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&this.listener.events.dispatchEvent(new RoomSessionNestBreedingSuccessEvent(se,te.petId,te.rarityCategory))}onConfirmBreedingRequestEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&this.listener.events.dispatchEvent(new RoomSessionConfirmPetBreedingEvent(se,te.nestId,te.pet1,te.pet2,te.rarityCategories,te.resultPetType))}onPetFigureUpdateEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);if(!se)return;const ne=te.figureData.figuredata;se.userDataManager.updateFigure(te.roomIndex,ne,"",te.hasSaddle,te.isRiding),this.listener.events.dispatchEvent(new RoomSessionPetFigureUpdateEvent(se,te.petId,ne))}onPetBreedingResultEvent(ee){if(!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);se&&this.listener.events.dispatchEvent(new RoomSessionPetBreedingResultEvent(se,te.resultData,te.otherResultData))}onPetPlacingError(ee){if(!ee||!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);if(!se)return;let ne=null;switch(te.errorCode){case 0:ne=RoomSessionErrorMessageEvent.RSEME_PETS_FORBIDDEN_IN_HOTEL;break;case 1:ne=RoomSessionErrorMessageEvent.RSEME_PETS_FORBIDDEN_IN_FLAT;break;case 2:ne=RoomSessionErrorMessageEvent.RSEME_MAX_PETS;break;case 3:ne=RoomSessionErrorMessageEvent.RSEME_NO_FREE_TILES_FOR_PET;break;case 4:ne=RoomSessionErrorMessageEvent.RSEME_SELECTED_TILE_NOT_FREE_FOR_PET;break;case 5:ne=RoomSessionErrorMessageEvent.RSEME_MAX_NUMBER_OF_OWN_PETS;break}!ne||ne.length==0||this.listener.events.dispatchEvent(new RoomSessionErrorMessageEvent(ne,se))}onBotError(ee){if(!ee||!this.listener)return;const te=ee.getParser();if(!te)return;const se=this.listener.getSession(this.roomId);if(!se)return;let ne=null;switch(te.errorCode){case 0:ne=RoomSessionErrorMessageEvent.RSEME_BOTS_FORBIDDEN_IN_HOTEL;break;case 1:ne=RoomSessionErrorMessageEvent.RSEME_BOTS_FORBIDDEN_IN_FLAT;break;case 2:ne=RoomSessionErrorMessageEvent.RSEME_BOT_LIMIT_REACHED;break;case 3:ne=RoomSessionErrorMessageEvent.RSEME_SELECTED_TILE_NOT_FREE_FOR_BOT;break;case 4:ne=RoomSessionErrorMessageEvent.RSEME_BOT_NAME_NOT_ACCEPTED;break}!ne||ne.length==0||this.listener.events.dispatchEvent(new RoomSessionErrorMessageEvent(ne,se))}onFavoriteMembershipUpdateMessageEvent(ee){if(!this.listener)return;const te=ee.getParser(),se=this.listener.getSession(this.roomId);if(!se)return;const ne=se.userDataManager.getUserDataByIndex(te.roomIndex);ne&&(ne.groupId=te.groupId,ne.groupName=te.groupName,this.listener.events.dispatchEvent(new RoomSessionFavoriteGroupUpdateEvent(se,te.roomIndex,te.groupId,te.status,te.groupName)))}}class WordQuizHandler extends BaseHandler{constructor(ee,te){super(ee,te),ee.addMessageEvent(new QuestionEvent(this.onQuestionEvent.bind(this))),ee.addMessageEvent(new QuestionAnsweredEvent(this.onQuestionAnsweredEvent.bind(this))),ee.addMessageEvent(new QuestionFinishedEvent(this.onQuestionFinishedEvent.bind(this)))}onQuestionEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();if(!se)return;const ne=new RoomSessionWordQuizEvent(RoomSessionWordQuizEvent.QUESTION,te,se.pollId);ne.question=se.question,ne.duration=se.duration,ne.pollType=se.pollType,ne.questionId=se.questionId,ne.pollId=se.pollId,this.listener.events.dispatchEvent(ne)}onQuestionAnsweredEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();if(!se)return;const ne=new RoomSessionWordQuizEvent(RoomSessionWordQuizEvent.ANSWERED,te,se.userId);ne.value=se.value,ne.userId=se.userId,ne.answerCounts=se.answerCounts,this.listener.events.dispatchEvent(ne)}onQuestionFinishedEvent(ee){if(!this.listener)return;const te=this.listener.getSession(this.roomId);if(!te)return;const se=ee.getParser();if(!se)return;const ne=new RoomSessionWordQuizEvent(RoomSessionWordQuizEvent.FINISHED,te);ne.questionId=se.questionId,ne.answerCounts=se.answerCounts,this.listener.events.dispatchEvent(ne)}}class IgnoredUsersManager{constructor(ee){this._sessionDataManager=ee,this._ignoredUsers=[]}init(){if(this._sessionDataManager&&this._sessionDataManager.communication){this._messages=[new IgnoredUsersEvent(this.onIgnoredUsersEvent.bind(this)),new IgnoreResultEvent(this.onIgnoreResultEvent.bind(this))];for(const ee of this._messages)this._sessionDataManager.communication.registerMessageEvent(ee)}}dispose(){if(!this.disposed){if(this._messages&&this._messages.length){for(const ee of this._messages)this._sessionDataManager.communication.removeMessageEvent(ee);this._messages=null}this._sessionDataManager=null}}requestIgnoredUsers(){this._sessionDataManager.send(new GetIgnoredUsersComposer(this._sessionDataManager.userName))}onIgnoredUsersEvent(ee){if(!ee)return;const te=ee.getParser();te&&(this._ignoredUsers=te.ignoredUsers)}onIgnoreResultEvent(ee){if(!ee)return;const te=ee.getParser();if(!te)return;const se=te.name;switch(te.result){case 0:return;case 1:this.addUserToIgnoreList(se);return;case 2:this.addUserToIgnoreList(se),this._ignoredUsers.shift();return;case 3:this.removeUserFromIgnoreList(se);return}}addUserToIgnoreList(ee){this._ignoredUsers.indexOf(ee)<0&&this._ignoredUsers.push(ee)}removeUserFromIgnoreList(ee){const te=this._ignoredUsers.indexOf(ee);te>=0&&this._ignoredUsers.splice(te,1)}ignoreUserId(ee){this._sessionDataManager.send(new IgnoreUserIdComposer(ee))}ignoreUser(ee){this._sessionDataManager.send(new IgnoreUserComposer(ee))}unignoreUser(ee){this._sessionDataManager.send(new UnignoreUserComposer(ee))}isIgnored(ee){return this._ignoredUsers.indexOf(ee)>=0}get disposed(){return!!this._sessionDataManager}}class ProductData{constructor(ee,te,se){this._type=ee,this._name=te,this._description=se}get type(){return this._type}get name(){return this._name}get description(){return this._description}}const PN=class PN extends EventDispatcher{constructor(ee){super(),this._products=ee}dispose(){this._products=null}loadProductData(ee){ee&&fetch(ee).then(te=>te.json()).then(te=>this.onProductDataLoadedEvent(te)).catch(te=>this.onProductDataError(te))}onProductDataLoadedEvent(ee){ee&&(this.parseProducts(ee.productdata),this.dispatchEvent(new NitroEvent(PN.PDP_PRODUCT_DATA_READY)))}onProductDataError(ee){ee&&this.dispatchEvent(new NitroEvent(PN.PDP_PRODUCT_DATA_FAILED))}parseProducts(ee){if(ee)for(const te of ee.product)te&&this._products.set(te.code,new ProductData(te.code,te.name,te.description))}};PN.PDP_PRODUCT_DATA_READY="PDP_PRODUCT_DATA_READY",PN.PDP_PRODUCT_DATA_FAILED="PDP_PRODUCT_DATA_FAILED";let ProductDataLoader=PN;const IC=class IC extends Disposable{constructor(){super(),this._connection=null,this._userDataByType=new Map,this._userDataByRoomIndex=new Map,this._userBadges=new Map}onDispose(){this._connection=null}setConnection(ee){this._connection=ee}getUserData(ee){return this.getDataByType(ee,IC.TYPE_USER)}getPetData(ee){return this.getDataByType(ee,IC.TYPE_PET)}getBotData(ee){return this.getDataByType(ee,IC.TYPE_BOT)}getRentableBotData(ee){return this.getDataByType(ee,IC.TYPE_RENTABLE_BOT)}getDataByType(ee,te){const se=this._userDataByType.get(te);if(!se)return null;const ne=se.get(ee);return ne||null}getUserDataByIndex(ee){const te=this._userDataByRoomIndex.get(ee);return te||null}getUserDataByName(ee){for(const te of this._userDataByRoomIndex.values())if(!(!te||te.name!==ee))return te;return null}updateUserData(ee){if(!ee)return;this.removeUserData(ee.roomIndex);let te=this._userDataByType.get(ee.type);te||(te=new Map,this._userDataByType.set(ee.type,te)),te.set(ee.webID,ee),this._userDataByRoomIndex.set(ee.roomIndex,ee)}removeUserData(ee){const te=this.getUserDataByIndex(ee);if(!te)return;this._userDataByRoomIndex.delete(ee);const se=this._userDataByType.get(te.type);se&&se.delete(te.webID)}getUserBadges(ee){this._connection&&this._connection.send(new UserCurrentBadgesComposer(ee));const te=this._userBadges.get(ee);return te||[]}setUserBadges(ee,te){this._userBadges.set(ee,te)}updateFigure(ee,te,se,ne,le){const ue=this.getUserDataByIndex(ee);ue&&(ue.figure=te,ue.sex=se,ue.hasSaddle=ne,ue.isRiding=le)}updateName(ee,te){const se=this.getUserDataByIndex(ee);se&&(se.name=te)}updateMotto(ee,te){const se=this.getUserDataByIndex(ee);se&&(se.custom=te)}updateAchievementScore(ee,te){const se=this.getUserDataByIndex(ee);se&&(se.activityPoints=te)}updatePetLevel(ee,te){const se=this.getUserDataByIndex(ee);se&&(se.petLevel=te)}updatePetBreedingStatus(ee,te,se,ne,le){const ue=this.getUserDataByIndex(ee);ue&&(ue.canBreed=te,ue.canHarvest=se,ue.canRevive=ne,ue.hasBreedingPermission=le)}requestPetInfo(ee){!this._connection||!this.getPetData(ee)||this._connection.send(new RequestPetInfoComposer(ee))}get connection(){return this._connection}};IC.TYPE_USER=1,IC.TYPE_PET=2,IC.TYPE_BOT=3,IC.TYPE_RENTABLE_BOT=4;let UserDataManager=IC;class RoomSession extends Disposable{constructor(){super(),this._connection=null,this._userData=new UserDataManager,this._roomId=0,this._password=null,this._state=RoomSessionEvent.CREATED,this._tradeMode=RoomTradingLevelEnum.NO_TRADING,this._doorMode=0,this._controllerLevel=RoomControllerLevel.NONE,this._ownRoomIndex=-1,this._isGuildRoom=!1,this._isRoomOwner=!1,this._isDecorating=!1,this._isSpectator=!1,this._moderationSettings=null}onDispose(){this._userData&&(this._userData.dispose(),this._userData=null),this._connection=null}setConnection(ee){this._connection||!ee||(this._connection=ee,this._userData&&this._userData.setConnection(ee))}setControllerLevel(ee){if(ee>=RoomControllerLevel.NONE&&ee<=RoomControllerLevel.MODERATOR){this._controllerLevel=ee;return}this._controllerLevel=RoomControllerLevel.NONE}setOwnRoomIndex(ee){this._ownRoomIndex=ee}setRoomOwner(){this._isRoomOwner=!0}start(){return this._state!==RoomSessionEvent.CREATED||!this._connection?!1:(this._state=RoomSessionEvent.STARTED,this.enterRoom())}enterRoom(){return this._connection?(this._connection.send(new RoomEnterComposer(this._roomId,this._password)),!0):!1}reset(ee){ee!==this._roomId&&(this._roomId=ee)}sendChatMessage(ee,te){this._connection.send(new RoomUnitChatComposer$1(ee,te))}sendShoutMessage(ee,te){this._connection.send(new RoomUnitChatShoutComposer(ee,te))}sendWhisperMessage(ee,te,se){this._connection.send(new RoomUnitChatWhisperComposer(ee,te,se))}sendChatTypingMessage(ee){ee?this._connection.send(new RoomUnitTypingStartComposer$1):this._connection.send(new RoomUnitTypingStopComposer)}sendMottoMessage(ee){this._connection.send(new UserMottoComposer(ee))}sendDanceMessage(ee){this._connection.send(new RoomUnitDanceComposer(ee))}sendExpressionMessage(ee){this._connection.send(new RoomUnitActionComposer(ee))}sendSignMessage(ee){ee<0||ee>17||this._connection.send(new RoomUnitSignComposer(ee))}sendPostureMessage(ee){this._connection.send(new RoomUnitPostureComposer(ee))}sendDoorbellApprovalMessage(ee,te){this._connection.send(new RoomDoorbellAccessComposer(ee,te))}sendAmbassadorAlertMessage(ee){this._connection.send(new RoomAmbassadorAlertComposer(ee))}sendKickMessage(ee){this._connection.send(new RoomKickUserComposer(ee))}sendMuteMessage(ee,te){this._connection.send(new RoomMuteUserComposer(ee,te,this._roomId))}sendBanMessage(ee,te){this._connection.send(new RoomBanUserComposer(ee,this._roomId,te))}sendGiveRightsMessage(ee){this._connection.send(new RoomGiveRightsComposer(ee))}sendTakeRightsMessage(ee){this._connection.send(new RoomTakeRightsComposer(ee))}sendPollStartMessage(ee){this._connection.send(new PollStartComposer(ee))}sendPollRejectMessage(ee){this._connection.send(new PollRejectComposer(ee))}sendPollAnswerMessage(ee,te,se){this._connection.send(new PollAnswerComposer(ee,te,se))}sendPeerUsersClassificationMessage(ee){this._connection.send(new PeerUsersClassificationMessageComposer(ee))}sendOpenPetPackageMessage(ee,te){this._connection.send(new OpenPetPackageMessageComposer(ee,te))}sendRoomUsersClassificationMessage(ee){this._connection.send(new RoomUsersClassificationMessageComposer(ee))}updateMoodlightData(ee,te,se,ne,le){let ue="000000"+se.toString(16).toUpperCase();ue="#"+ue.substring(ue.length-6),this.connection.send(new MoodlightSettingsSaveComposer(ee,te,ue,ne,le))}toggleMoodlightState(){this.connection.send(new MoodlightTogggleStateComposer)}pickupPet(ee){this._connection&&this._connection.send(new PetRemoveComposer(ee))}pickupBot(ee){this._connection&&this._connection.send(new BotRemoveComposer(ee))}requestMoodlightSettings(){this._connection&&this._connection.send(new MoodlightSettingsComposer)}openGift(ee){this._connection.send(new OpenPresentComposer(ee))}mountPet(ee){this._connection.send(new PetMountComposer(ee,!0))}dismountPet(ee){this._connection.send(new PetMountComposer(ee,!1))}usePetProduct(ee,te){this._connection.send(new UsePetProductComposer(ee,te))}removePetSaddle(ee){this._connection.send(new RemovePetSaddleComposer(ee))}togglePetBreeding(ee){this._connection.send(new TogglePetBreedingComposer(ee))}togglePetRiding(ee){this._connection.send(new TogglePetRidingComposer(ee))}useMultistateItem(ee){this._connection.send(new FurnitureMultiStateComposer(ee))}harvestPet(ee){this._connection.send(new HarvestPetMessageComposer(ee))}compostPlant(ee){this._connection.send(new CompostPlantMessageComposer(ee))}requestPetCommands(ee){this._connection.send(new GetPetCommandsComposer(ee))}sendScriptProceed(){this._connection.send(new NewUserExperienceScriptProceedComposer)}sendUpdateClothingChangeFurniture(ee,te,se){this._connection.send(new SetClothingChangeDataMessageComposer(ee,te,se))}changeQueue(ee){this._connection.send(new ChangeQueueMessageComposer(ee))}get connection(){return this._connection}get userDataManager(){return this._userData}get roomId(){return this._roomId}set roomId(ee){this._roomId=ee}get password(){return this._password}set password(ee){this._password=ee}get state(){return this._state}get isPrivateRoom(){return!0}get tradeMode(){return this._tradeMode}set tradeMode(ee){this._tradeMode=ee}get doorMode(){return this._doorMode}set doorMode(ee){this._doorMode=ee}get allowPets(){return this._allowPets}set allowPets(ee){this._allowPets=ee}get controllerLevel(){return this._controllerLevel}get ownRoomIndex(){return this._ownRoomIndex}get isGuildRoom(){return this._isGuildRoom}set isGuildRoom(ee){this._isGuildRoom=ee}get isRoomOwner(){return this._isRoomOwner}get isDecorating(){return this._isDecorating}set isDecorating(ee){this._isDecorating=ee}get isSpectator(){return this._isSpectator}set isSpectator(ee){this._isSpectator=ee}get moderationSettings(){return this._moderationSettings}set moderationSettings(ee){this._moderationSettings=ee}}class RoomSessionManager extends NitroManager{constructor(ee,te){super(),this._communication=ee,this._roomEngine=te,this._handlers=[],this._sessions=new Map,this._pendingSession=null,this._sessionStarting=!1,this._viewerSession=null,this.onRoomEngineEvent=this.onRoomEngineEvent.bind(this)}onInit(){this.createHandlers(),this.processPendingSession(),this._roomEngine.events.addEventListener(RoomEngineEvent.ENGINE_INITIALIZED,this.onRoomEngineEvent)}onDispose(){this._roomEngine.events.removeEventListener(RoomEngineEvent.ENGINE_INITIALIZED,this.onRoomEngineEvent),super.onDispose()}createHandlers(){const ee=this._communication&&this._communication.connection;ee&&this._handlers.push(new RoomChatHandler(ee,this),new RoomDataHandler(ee,this),new RoomDimmerPresetsHandler(ee,this),new RoomPermissionsHandler(ee,this),new RoomSessionHandler(ee,this),new RoomUsersHandler(ee,this),new RoomPresentHandler(ee,this),new GenericErrorHandler(ee,this),new WordQuizHandler(ee,this),new PollHandler(ee,this),new PetPackageHandler(ee,this))}setHandlers(ee){if(!(!this._handlers||!this._handlers.length))for(const te of this._handlers)te&&te.setRoomId(ee.roomId)}onRoomEngineEvent(ee){this.processPendingSession()}processPendingSession(){!this._pendingSession||!this._roomEngine.ready||(this.addSession(this._pendingSession),this._pendingSession=null)}getSession(ee){const te=this._sessions.get(this.getRoomId(ee));return te||null}createSession(ee,te=null){const se=new RoomSession;return se.roomId=ee,se.password=te,this.addSession(se)}addSession(ee){return this._roomEngine.ready?(this._sessionStarting=!0,this._sessions.get(this.getRoomId(ee.roomId))&&this.removeSession(ee.roomId,!1),ee.setConnection(this._communication.connection),this._sessions.set(this.getRoomId(ee.roomId),ee),this.events.dispatchEvent(new RoomSessionEvent(RoomSessionEvent.CREATED,ee)),this._viewerSession=ee,this.startSession(this._viewerSession),!0):(this._pendingSession=ee,!1)}startSession(ee){return ee.state===RoomSessionEvent.STARTED?!1:(this._sessionStarting=!1,ee.start()?(this.events.dispatchEvent(new RoomSessionEvent(RoomSessionEvent.STARTED,ee)),this.setHandlers(ee),!0):(this.removeSession(ee.roomId),!1))}removeSession(ee,te=!0){const se=this.getSession(ee);se&&(this._sessions.delete(this.getRoomId(ee)),this.events.dispatchEvent(new RoomSessionEvent(RoomSessionEvent.ENDED,se,te)),se.dispose())}sessionUpdate(ee,te){if(this.getSession(ee))switch(te){case RoomSessionHandler.RS_CONNECTED:return;case RoomSessionHandler.RS_READY:return;case RoomSessionHandler.RS_DISCONNECTED:this.removeSession(ee);return}}sessionReinitialize(ee,te){const se=this.getSession(ee);se&&(this._sessions.delete(this.getRoomId(ee)),se.reset(te),this._sessions.set(this.getRoomId(te),se),this.setHandlers(se))}getRoomId(ee){return"hard_coded_room_id"}get communication(){return this._communication}get roomEngine(){return this._roomEngine}get viewerSession(){return this._viewerSession}}const wN=class wN{static logEventLog(ee){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("logEventLog",ee)}catch{NitroLogger.log("External interface not working, failed to log event log.")}}static openPage(ee){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("openPage",ee)}catch{NitroLogger.log("Failed to open web page",ee)}}static openWebPage(ee){window.open(ee)}static sendHeartBeat(){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("heartBeat")}catch{NitroLogger.log("Failed to send heartbeat")}}static openWebPageAndMinimizeClient(ee){try{LegacyExternalInterface.available&&wN.openPage(ee)}catch{NitroLogger.log("Failed to open web page",ee)}}static closeWebPageAndRestoreClient(){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("closeWebPageAndRestoreClient")}catch{NitroLogger.log("Failed to close web page and restore client!")}}static openHabblet(ee,te=null){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("openHabblet",ee,te)}catch{NitroLogger.log("Failed to open Habblet",ee)}}static closeHabblet(ee,te=null){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("closeHabblet",ee,te)}catch{NitroLogger.log("Failed to close Habblet",ee)}}static send(ee,te){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("disconnect",ee,te)}catch{NitroLogger.log("Failed to close send ")}}static showGame(ee){try{LegacyExternalInterface.available&&LegacyExternalInterface.callGame("showGame",ee)}catch(te){NitroLogger.log("Failed to open game",te)}}static hideGame(){try{LegacyExternalInterface.available&&LegacyExternalInterface.callGame("hideGame")}catch{NitroLogger.log("Failed to hide game")}}static open(ee){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("openExternalLink",escape(ee))}catch{NitroLogger.log("External interface not working. Could not request to open: "+ee)}}static roomVisited(ee){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("roomVisited",ee)}catch{NitroLogger.log("External interface not working. Could not store last room visit.")}}static openMinimail(ee){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("openMinimail",ee)}catch{NitroLogger.log("External interface not working. Could not open minimail.")}}static openNews(){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("openNews")}catch{NitroLogger.log("External interface not working. Could not open news.")}}static closeNews(){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("closeNews")}catch{NitroLogger.log("External interface not working. Could not close news.")}}static openAvatars(){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("openAvatars")}catch{NitroLogger.log("External interface not working. Could not open avatars.")}}static openRoomEnterAd(){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("openRoomEnterAd")}catch{NitroLogger.log("External interface not working. Could not open roomenterad.")}}static updateFigure(ee){try{LegacyExternalInterface.available&&LegacyExternalInterface.call("updateFigure",ee)}catch{NitroLogger.log("External interface not working. Could not update figure.")}}};wN.ADVERTISEMENT="advertisement",wN.OPENLINK="openlink",wN.OPENROOM="openroom";let HabboWebTools=wN;class SessionDataManager extends NitroManager{constructor(ee){super(),this._communication=ee,this.resetUserInfo(),this._ignoredUsersManager=new IgnoredUsersManager(this),this._groupInformationManager=new GroupInformationManager(this),this._clubLevel=0,this._securityLevel=0,this._isAmbassador=!1,this._noobnessLevel=-1,this._isEmailVerified=!1,this._systemOpen=!1,this._systemShutdown=!1,this._isAuthenticHabbo=!1,this._isRoomCameraFollowDisabled=!1,this._uiFlags=0,this._floorItems=new Map,this._wallItems=new Map,this._products=new Map,this._furnitureData=null,this._furnitureReady=!1,this._productsReady=!1,this._furnitureListenersNotified=!1,this._pendingFurnitureListeners=[],this._pendingProductListeners=[],this._tags=[],this._badgeImageManager=null,this.onFurnitureDataReadyEvent=this.onFurnitureDataReadyEvent.bind(this),this.onProductDataReadyEvent=this.onProductDataReadyEvent.bind(this),this.onNitroSettingsEvent=this.onNitroSettingsEvent.bind(this)}onInit(){this.loadFurnitureData(),this.loadProductData(),this.loadBadgeImageManager(),this._ignoredUsersManager&&this._ignoredUsersManager.init(),this._groupInformationManager&&this._groupInformationManager.init(),this._communication.registerMessageEvent(new FigureUpdateEvent(this.onUserFigureEvent.bind(this))),this._communication.registerMessageEvent(new UserInfoEvent(this.onUserInfoEvent.bind(this))),this._communication.registerMessageEvent(new UserPermissionsEvent(this.onUserPermissionsEvent.bind(this))),this._communication.registerMessageEvent(new AvailabilityStatusMessageEvent(this.onAvailabilityStatusMessageEvent.bind(this))),this._communication.registerMessageEvent(new PetScratchFailedMessageEvent(this.onPetRespectFailed.bind(this))),this._communication.registerMessageEvent(new ChangeUserNameResultMessageEvent(this.onChangeNameUpdateEvent.bind(this))),this._communication.registerMessageEvent(new UserNameChangeMessageEvent(this.onUserNameChangeMessageEvent.bind(this))),this._communication.registerMessageEvent(new UserTagsMessageEvent(this.onUserTags.bind(this))),this._communication.registerMessageEvent(new RoomReadyMessageEvent(this.onRoomModelNameEvent.bind(this))),this._communication.registerMessageEvent(new InClientLinkEvent(this.onInClientLinkEvent.bind(this))),this._communication.registerMessageEvent(new MysteryBoxKeysEvent(this.onMysteryBoxKeysEvent.bind(this))),this._communication.registerMessageEvent(new NoobnessLevelMessageEvent(this.onNoobnessLevelMessageEvent.bind(this))),this._communication.registerMessageEvent(new AccountSafetyLockStatusChangeMessageEvent(this.onAccountSafetyLockStatusChangeMessageEvent.bind(this))),this._communication.registerMessageEvent(new EmailStatusResultEvent(this.onEmailStatus.bind(this))),Nitro.instance.events.addEventListener(NitroSettingsEvent.SETTINGS_UPDATED,this.onNitroSettingsEvent)}onDispose(){this.destroyFurnitureData(),this._ignoredUsersManager&&(this._ignoredUsersManager.dispose(),this._ignoredUsersManager=null),this._groupInformationManager&&(this._groupInformationManager.dispose(),this._groupInformationManager=null),Nitro.instance.events.removeEventListener(NitroSettingsEvent.SETTINGS_UPDATED,this.onNitroSettingsEvent),super.onDispose()}resetUserInfo(){this._userId=0,this._name=null,this._figure=null,this._gender=null,this._realName=null,this._canChangeName=!1,this._safetyLocked=!1}loadFurnitureData(){this.destroyFurnitureData(),this._furnitureData=new FurnitureDataLoader(this._floorItems,this._wallItems,Nitro.instance.localization),this._furnitureData.addEventListener(FurnitureDataLoader.FURNITURE_DATA_READY,this.onFurnitureDataReadyEvent),this._furnitureData.loadFurnitureData(NitroConfiguration.getValue("furnidata.url"))}loadProductData(){this.destroyProductData(),this._productData=new ProductDataLoader(this._products),this._productData.addEventListener(ProductDataLoader.PDP_PRODUCT_DATA_READY,this.onProductDataReadyEvent),this._productData.loadProductData(NitroConfiguration.getValue("productdata.url"))}loadBadgeImageManager(){this._badgeImageManager||(this._badgeImageManager=new BadgeImageManager(GetAssetManager(),this),this._badgeImageManager.init())}hasProductData(ee){return this._productsReady?!0:(ee&&this._pendingProductListeners.indexOf(ee)===-1&&this._pendingProductListeners.push(ee),!1)}getAllFurnitureData(ee){if(!this._furnitureReady)return this._pendingFurnitureListeners.indexOf(ee)===-1&&this._pendingFurnitureListeners.push(ee),null;const te=[];for(const se of this._floorItems.values())se&&te.push(se);for(const se of this._wallItems.values())se&&te.push(se);return te}removePendingFurniDataListener(ee){if(!this._pendingFurnitureListeners)return;const te=this._pendingFurnitureListeners.indexOf(ee);te!==-1&&this._pendingFurnitureListeners.splice(te,1)}onUserFigureEvent(ee){!ee||!ee.connection||(this._figure=ee.getParser().figure,this._gender=ee.getParser().gender,HabboWebTools.updateFigure(this._figure))}onUserInfoEvent(ee){if(!ee||!ee.connection)return;this.resetUserInfo();const te=ee.getParser().userInfo;te&&(this._userId=te.userId,this._name=te.username,this._figure=te.figure,this._gender=te.gender,this._realName=te.realName,this._respectsReceived=te.respectsReceived,this._respectsLeft=te.respectsRemaining,this._respectsPetLeft=te.respectsPetRemaining,this._canChangeName=te.canChangeName,this._safetyLocked=te.safetyLocked,this._ignoredUsersManager&&this._ignoredUsersManager.requestIgnoredUsers())}onUserPermissionsEvent(ee){!ee||!ee.connection||(this._clubLevel=ee.getParser().clubLevel,this._securityLevel=ee.getParser().securityLevel,this._isAmbassador=ee.getParser().isAmbassador)}onAvailabilityStatusMessageEvent(ee){if(!ee||!ee.connection)return;const te=ee.getParser();te&&(this._systemOpen=te.isOpen,this._systemShutdown=te.onShutdown,this._isAuthenticHabbo=te.isAuthenticUser)}onPetRespectFailed(ee){!ee||!ee.connection||this._respectsPetLeft++}onChangeNameUpdateEvent(ee){if(!ee||!ee.connection)return;const te=ee.getParser();te&&te.resultCode===ChangeUserNameResultMessageEvent.NAME_OK&&(this._canChangeName=!1,this.events.dispatchEvent(new UserNameUpdateEvent(te.name)))}onUserNameChangeMessageEvent(ee){if(!ee||!ee.connection)return;const te=ee.getParser();te&&te.webId===this.userId&&(this._name=te.newName,this._canChangeName=!1,this.events.dispatchEvent(new UserNameUpdateEvent(this._name)))}onUserTags(ee){if(!ee||!ee.connection)return;const te=ee.getParser();te&&(this._tags=te.tags)}onRoomModelNameEvent(ee){if(!ee)return;const te=ee.getParser();te&&HabboWebTools.roomVisited(te.roomId)}onFurnitureDataReadyEvent(ee){if(this._furnitureData.removeEventListener(FurnitureDataLoader.FURNITURE_DATA_READY,this.onFurnitureDataReadyEvent),this._furnitureReady=!0,!this._furnitureListenersNotified&&(this._furnitureListenersNotified=!0,this._pendingFurnitureListeners&&this._pendingFurnitureListeners.length))for(const te of this._pendingFurnitureListeners)te&&te.loadFurnitureData();this._pendingProductListeners=[]}onProductDataReadyEvent(ee){this._productData.removeEventListener(ProductDataLoader.PDP_PRODUCT_DATA_READY,this.onProductDataReadyEvent),this._productsReady=!0;for(const te of this._pendingProductListeners)te&&te.loadProductData();this._pendingProductListeners=[]}onInClientLinkEvent(ee){if(!ee)return;const te=ee.getParser();te&&Nitro.instance.createLinkEvent(te.link)}onMysteryBoxKeysEvent(ee){if(!ee)return;const te=ee.getParser();te&&this.events.dispatchEvent(new MysteryBoxKeysUpdateEvent(te.boxColor,te.keyColor))}onNoobnessLevelMessageEvent(ee){this._noobnessLevel=ee.getParser().noobnessLevel,this._noobnessLevel!==NoobnessLevelEnum.OLD_IDENTITY&&NitroConfiguration.setValue("new.identity",1)}onAccountSafetyLockStatusChangeMessageEvent(ee){if(!ee)return;const te=ee.getParser();te&&(this._safetyLocked=te.status==AccountSafetyLockStatusChangeParser.SAFETY_LOCK_STATUS_LOCKED)}onEmailStatus(ee){if(!ee)return;const te=ee.getParser();te&&(this._isEmailVerified=te.isVerified)}onNitroSettingsEvent(ee){this._isRoomCameraFollowDisabled=ee.cameraFollow,this._uiFlags=ee.flags,this.events.dispatchEvent(new SessionDataPreferencesEvent(this._uiFlags))}destroyFurnitureData(){this._furnitureData&&(this._furnitureData.dispose(),this._furnitureData=null)}destroyProductData(){this._productData&&(this._productData.dispose(),this._productData=null)}getFloorItemData(ee){const te=this._floorItems.get(ee);return te||null}getFloorItemDataByName(ee){if(!ee||!this._floorItems||!this._floorItems.size)return null;for(const te of this._floorItems.values())if(!(!te||te.className!==ee))return te}getWallItemData(ee){const te=this._wallItems.get(ee);return te||null}getWallItemDataByName(ee){if(!ee||!this._wallItems||!this._wallItems.size)return null;for(const te of this._wallItems.values())if(!(!te||te.className!==ee))return te}getProductData(ee){return this._productsReady||this.loadProductData(),this._products.get(ee)}getBadgeUrl(ee){return this._badgeImageManager.getBadgeUrl(ee)}getGroupBadgeUrl(ee){return this._badgeImageManager.getBadgeUrl(ee,BadgeImageManager.GROUP_BADGE)}getBadgeImage(ee){return this._badgeImageManager.getBadgeImage(ee)}getGroupBadgeImage(ee){return this._badgeImageManager.getBadgeImage(ee,BadgeImageManager.GROUP_BADGE)}getUserTags(ee){ee<0||this.send(new GetUserTagsComposer(ee))}loadBadgeImage(ee){return this._badgeImageManager.loadBadgeImage(ee)}loadGroupBadgeImage(ee){return this._badgeImageManager.loadBadgeImage(ee,BadgeImageManager.GROUP_BADGE)}hasSecurity(ee){return this._securityLevel>=ee}giveRespect(ee){ee<0||this._respectsLeft<=0||(this.send(new UserRespectComposer(ee)),this._respectsLeft--)}givePetRespect(ee){ee<0||this._respectsPetLeft<=0||(this.send(new PetRespectComposer(ee)),this._respectsPetLeft--)}sendSpecialCommandMessage(ee,te=0){this.send(new RoomUnitChatComposer$1(ee))}ignoreUser(ee){this._ignoredUsersManager&&this._ignoredUsersManager.ignoreUser(ee)}unignoreUser(ee){this._ignoredUsersManager&&this._ignoredUsersManager.unignoreUser(ee)}isUserIgnored(ee){return this._ignoredUsersManager&&this._ignoredUsersManager.isIgnored(ee)}getGroupBadge(ee){return this._groupInformationManager&&this._groupInformationManager.getGroupBadge(ee)}send(ee){this._communication.connection.send(ee)}get communication(){return this._communication}get userId(){return this._userId}get userName(){return this._name}get figure(){return this._figure}get gender(){return this._gender}get realName(){return this._realName}get ignoredUsersManager(){return this._ignoredUsersManager}get groupInformationManager(){return this._groupInformationManager}get respectsReceived(){return this._respectsReceived}get respectsLeft(){return this._respectsLeft}get respectsPetLeft(){return this._respectsPetLeft}get canChangeName(){return this._canChangeName}get clubLevel(){return this._clubLevel}get securityLevel(){return this._securityLevel}get isAmbassador(){return this._isAmbassador}get isEmailVerified(){return this._isEmailVerified}get isNoob(){return this._noobnessLevel!==NoobnessLevelEnum.OLD_IDENTITY}get isRealNoob(){return this._noobnessLevel===NoobnessLevelEnum.REAL_NOOB}get isSystemOpen(){return this._systemOpen}get isSystemShutdown(){return this._systemShutdown}get isAuthenticHabbo(){return this._isAuthenticHabbo}get isModerator(){return this._securityLevel>=SecurityLevel.MODERATOR}get isCameraFollowDisabled(){return this._isRoomCameraFollowDisabled}get uiFlags(){return this._uiFlags}get tags(){return this._tags}}class SongDataEntry extends PlayListEntry{constructor(ee,te,se,ne,le=""){super(ee,te,se,ne),this._jukeboxDiskId=-1,this._songData=le}get id(){return this._id}get length(){return this._length}get name(){return this._name}get creator(){return this._creator}get songData(){return this._songData}set songData(ee){this._songData=ee}get diskId(){return this._jukeboxDiskId}set diskId(ee){this._jukeboxDiskId=ee}}class SongStartRequestData{constructor(ee,te,se,ne,le){this._songId=ee,this._startPos=te,this._playLength=se,this._fadeInSeconds=ne,this._fadeOutSeconds=le,this._playRequestTime=Date.now()}get songId(){return this._songId}get startPos(){return this._startPos<0?0:this._startPos+(Date.now()-this._playRequestTime)/1e3}get playLength(){return this._playLength}get playRequestTime(){return this._playRequestTime}get fadeInSeconds(){return this._fadeInSeconds}get fadeOutSeconds(){return this._fadeOutSeconds}}const hU=class hU extends NitroEvent{constructor(ee,te){super(hU.NOTIFY_PLAYED_SONG),this._name=ee,this._creator=te}get name(){return this._name}get creator(){return this._creator}};hU.NOTIFY_PLAYED_SONG="UIEW_NOTIFY_PLAYED_SONG";let NotifyPlayedSongEvent=hU;const XD=class XD extends NitroEvent{constructor(ee,te,se,ne){super(ee),this._id=se,this._position=ne,this._priority=te}get id(){return this._id}get position(){return this._position}get priority(){return this._priority}};XD.NPE_USER_PLAY_SONG="NPE_USER_PLAY_SONG",XD.NPW_USER_STOP_SONG="NPW_USER_STOP_SONG",XD.NPE_SONG_CHANGED="NPE_SONG_CHANGED";let NowPlayingEvent=XD;const dU=class dU extends NitroEvent{constructor(ee){super(ee)}};dU.PLUE_PLAY_LIST_UPDATED="PLUE_PLAY_LIST_UPDATED",dU.PLUE_PLAY_LIST_FULL="PLUE_PLAY_LIST_FULL";let PlayListStatusEvent=dU;const kF=class kF extends NitroEvent{constructor(ee){super(ee)}};kF.SDIR_SONG_DISK_INVENTORY_RECEIVENT_EVENT="SDIR_SONG_DISK_INVENTORY_RECEIVENT_EVENT";let SongDiskInventoryReceivedEvent=kF;const $F=class $F extends NitroEvent{constructor(ee,te){super(ee),this._id=te}get id(){return this._id}};$F.SIR_TRAX_SONG_INFO_RECEIVED="SIR_TRAX_SONG_INFO_RECEIVED";let SongInfoReceivedEvent=$F;const HF=class HF extends NitroEvent{constructor(ee,te){super(ee),this._id=te}get id(){return this._id}};HF.TRAX_SONG_COMPLETE="SME_TRAX_SONG_COMPLETE";let SoundManagerEvent=HF;const MP=class MP{};MP.PRIORITY_ROOM_PLAYLIST=0,MP.PRIORITY_USER_PLAYLIST=1,MP.PRIORITY_SONG_PLAY=2,MP.PRIORITY_PURCHASE_PREVIEW=3,MP.PRIORITY_COUNT=4;let MusicPriorities=MP;class JukeboxPlaylistController{constructor(){this._isPlaying=!1,this._disposed=!1,this._entries=[],this._missingSongInfo=[],this._messageEvents=[new NowPlayingMessageEvent(this.onNowPlayingMessageEvent.bind(this)),new JukeboxSongDisksMessageEvent(this.onJukeboxSongDisksMessageEvent.bind(this)),new JukeboxPlayListFullMessageEvent(this.onJukeboxPlayListFullMessageEvent.bind(this))],this.onSongInfoReceivedEvent=this.onSongInfoReceivedEvent.bind(this)}init(){this._messageEvents.forEach(ee=>Nitro.instance.communication.connection.addMessageEvent(ee)),Nitro.instance.soundManager.events.addEventListener(SongInfoReceivedEvent.SIR_TRAX_SONG_INFO_RECEIVED,this.onSongInfoReceivedEvent)}get priority(){return MusicPriorities.PRIORITY_ROOM_PLAYLIST}onNowPlayingMessageEvent(ee){const te=ee.getParser();this._isPlaying=te.currentSongId!==-1,te.currentSongId>=0?(Nitro.instance.soundManager.musicController.playSong(te.currentSongId,MusicPriorities.PRIORITY_ROOM_PLAYLIST,te.syncCount/1e3,0,1,1),this._currentEntryId=te.currentSongId):this.stopPlaying(),te.nextSongId>=0&&Nitro.instance.soundManager.musicController.addSongInfoRequest(te.nextSongId),this._playPosition=te.currentPosition,Nitro.instance.soundManager.events.dispatchEvent(new NowPlayingEvent(NowPlayingEvent.NPE_SONG_CHANGED,MusicPriorities.PRIORITY_ROOM_PLAYLIST,te.currentSongId,te.currentPosition))}onJukeboxSongDisksMessageEvent(ee){const te=ee.getParser();this._entries=[];for(let se=0;se<te.songDisks.length;se++){const ne=te.songDisks.getWithIndex(se),le=te.songDisks.getKey(se);let ue=Nitro.instance.soundManager.musicController.getSongInfo(ne);ue==null&&(ue=new SongDataEntry(ne,-1,null,null,null),this._missingSongInfo.indexOf(ne)<0&&(this._missingSongInfo.push(ne),Nitro.instance.soundManager.musicController.requestSongInfoWithoutSamples(ne))),ue.diskId=le,this._entries.push(ue)}this._missingSongInfo.length==0&&Nitro.instance.soundManager.events.dispatchEvent(new PlayListStatusEvent(PlayListStatusEvent.PLUE_PLAY_LIST_UPDATED))}onJukeboxPlayListFullMessageEvent(ee){Nitro.instance.soundManager.events.dispatchEvent(new PlayListStatusEvent(PlayListStatusEvent.PLUE_PLAY_LIST_FULL))}onSongInfoReceivedEvent(ee){for(let se=0;se<this.length;se++){const ne=this._entries[se];if(ne.id===ee.id){const le=ne.diskId,ue=Nitro.instance.soundManager.musicController.getSongInfo(ee.id);ue!=null&&(ue.diskId=le,this._entries[se]=ue);break}}const te=this._missingSongInfo.indexOf(ee.id);te>=0&&this._missingSongInfo.splice(te,1),this._missingSongInfo.length==0&&Nitro.instance.soundManager.events.dispatchEvent(new PlayListStatusEvent(PlayListStatusEvent.PLUE_PLAY_LIST_UPDATED))}stopPlaying(){Nitro.instance.soundManager.musicController.stop(this.priority),this._currentEntryId=-1,this._playPosition=-1,this._isPlaying=!1}get length(){return this._entries?this._entries.length:0}get playPosition(){return this._playPosition}get nowPlayingSongId(){return this._currentEntryId}get isPlaying(){return this._isPlaying}get entries(){return this._entries}getEntry(ee){return ee<0||ee>=this._entries.length?null:this._entries[ee]}requestPlayList(){Nitro.instance.communication.connection.send(new GetJukeboxPlayListMessageComposer)}dispose(){this._disposed||(this._disposed=!0,this.stopPlaying(),Nitro.instance.soundManager.events&&Nitro.instance.soundManager.events.removeEventListener(SongInfoReceivedEvent.SIR_TRAX_SONG_INFO_RECEIVED,this.onSongInfoReceivedEvent),this._messageEvents.forEach(ee=>Nitro.instance.communication.connection.removeMessageEvent(ee)),this._messageEvents=null)}}class TraxChannel{constructor(ee){this._id=ee,this._items=[]}addChannelItem(ee){this._items.push(ee)}get items(){return this._items}}class TraxChannelItem{constructor(ee,te){this._id=ee,this._length=te}get id(){return this._id}get length(){return this._length}}class TraxData{constructor(ee){this._channels=[],this._metaData=new Map;let te=[];const se=ee.split(":"),ne=se[se.length-1];if(ne.indexOf("meta")>-1){const le=ne.split(";");for(const ue of le){const ce=ue.split(",");this._metaData.set(ce[0],ce[1])}te=se.slice(0,se.length-1)}else te=se;for(let le=0;le<te.length/2;le++)if(te[le*2].length>0){const ue=parseInt(te[le*2]),ce=te[le*2+1].split(";"),he=new TraxChannel(ue);for(const de of ce){const _e=de.split(",");if(_e.length!==2)return;he.addChannelItem(new TraxChannelItem(parseInt(_e[0]),parseInt(_e[1])))}this._channels.push(he)}}get channels(){return this._channels}getSampleIds(){const ee=[];for(const te of this._channels)for(const se of te.items)ee.indexOf(se.id)===-1&&ee.push(se.id);return ee}get hasMetaData(){return this._metaData.has("meta")}get metaCutMode(){return this._metaData.has("c")}get metaTempo(){const ee=this._metaData.get("t");return ee?parseInt(ee):null}}var howler={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var hasRequiredHowler;function requireHowler(){return hasRequiredHowler||(hasRequiredHowler=1,function(ie){(function(){var ee=function(){this.init()};ee.prototype={init:function(){var fe=this||te;return fe._counter=1e3,fe._html5AudioPool=[],fe.html5PoolSize=10,fe._codecs={},fe._howls=[],fe._muted=!1,fe._volume=1,fe._canPlayEvent="canplaythrough",fe._navigator=typeof window<"u"&&window.navigator?window.navigator:null,fe.masterGain=null,fe.noAudio=!1,fe.usingWebAudio=!0,fe.autoSuspend=!0,fe.ctx=null,fe.autoUnlock=!0,fe._setup(),fe},volume:function(fe){var ye=this||te;if(fe=parseFloat(fe),ye.ctx||_e(),typeof fe<"u"&&fe>=0&&fe<=1){if(ye._volume=fe,ye._muted)return ye;ye.usingWebAudio&&ye.masterGain.gain.setValueAtTime(fe,te.ctx.currentTime);for(var be=0;be<ye._howls.length;be++)if(!ye._howls[be]._webAudio)for(var Pe=ye._howls[be]._getSoundIds(),Ne=0;Ne<Pe.length;Ne++){var we=ye._howls[be]._soundById(Pe[Ne]);we&&we._node&&(we._node.volume=we._volume*fe)}return ye}return ye._volume},mute:function(fe){var ye=this||te;ye.ctx||_e(),ye._muted=fe,ye.usingWebAudio&&ye.masterGain.gain.setValueAtTime(fe?0:ye._volume,te.ctx.currentTime);for(var be=0;be<ye._howls.length;be++)if(!ye._howls[be]._webAudio)for(var Pe=ye._howls[be]._getSoundIds(),Ne=0;Ne<Pe.length;Ne++){var we=ye._howls[be]._soundById(Pe[Ne]);we&&we._node&&(we._node.muted=fe?!0:we._muted)}return ye},stop:function(){for(var fe=this||te,ye=0;ye<fe._howls.length;ye++)fe._howls[ye].stop();return fe},unload:function(){for(var fe=this||te,ye=fe._howls.length-1;ye>=0;ye--)fe._howls[ye].unload();return fe.usingWebAudio&&fe.ctx&&typeof fe.ctx.close<"u"&&(fe.ctx.close(),fe.ctx=null,_e()),fe},codecs:function(fe){return(this||te)._codecs[fe.replace(/^x-/,"")]},_setup:function(){var fe=this||te;if(fe.state=fe.ctx&&fe.ctx.state||"suspended",fe._autoSuspend(),!fe.usingWebAudio)if(typeof Audio<"u")try{var ye=new Audio;typeof ye.oncanplaythrough>"u"&&(fe._canPlayEvent="canplay")}catch{fe.noAudio=!0}else fe.noAudio=!0;try{var ye=new Audio;ye.muted&&(fe.noAudio=!0)}catch{}return fe.noAudio||fe._setupCodecs(),fe},_setupCodecs:function(){var fe=this||te,ye=null;try{ye=typeof Audio<"u"?new Audio:null}catch{return fe}if(!ye||typeof ye.canPlayType!="function")return fe;var be=ye.canPlayType("audio/mpeg;").replace(/^no$/,""),Pe=fe._navigator?fe._navigator.userAgent:"",Ne=Pe.match(/OPR\/(\d+)/g),we=Ne&&parseInt(Ne[0].split("/")[1],10)<33,De=Pe.indexOf("Safari")!==-1&&Pe.indexOf("Chrome")===-1,$e=Pe.match(/Version\/(.*?) /),Ge=De&&$e&&parseInt($e[1],10)<15;return fe._codecs={mp3:!!(!we&&(be||ye.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!be,opus:!!ye.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!ye.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!ye.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(ye.canPlayType('audio/wav; codecs="1"')||ye.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!ye.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!ye.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(ye.canPlayType("audio/x-m4a;")||ye.canPlayType("audio/m4a;")||ye.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(ye.canPlayType("audio/x-m4b;")||ye.canPlayType("audio/m4b;")||ye.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(ye.canPlayType("audio/x-mp4;")||ye.canPlayType("audio/mp4;")||ye.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!Ge&&ye.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!Ge&&ye.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!ye.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(ye.canPlayType("audio/x-flac;")||ye.canPlayType("audio/flac;")).replace(/^no$/,"")},fe},_unlockAudio:function(){var fe=this||te;if(!(fe._audioUnlocked||!fe.ctx)){fe._audioUnlocked=!1,fe.autoUnlock=!1,!fe._mobileUnloaded&&fe.ctx.sampleRate!==44100&&(fe._mobileUnloaded=!0,fe.unload()),fe._scratchBuffer=fe.ctx.createBuffer(1,1,22050);var ye=function(be){for(;fe._html5AudioPool.length<fe.html5PoolSize;)try{var Pe=new Audio;Pe._unlocked=!0,fe._releaseHtml5Audio(Pe)}catch{fe.noAudio=!0;break}for(var Ne=0;Ne<fe._howls.length;Ne++)if(!fe._howls[Ne]._webAudio)for(var we=fe._howls[Ne]._getSoundIds(),De=0;De<we.length;De++){var $e=fe._howls[Ne]._soundById(we[De]);$e&&$e._node&&!$e._node._unlocked&&($e._node._unlocked=!0,$e._node.load())}fe._autoResume();var Ge=fe.ctx.createBufferSource();Ge.buffer=fe._scratchBuffer,Ge.connect(fe.ctx.destination),typeof Ge.start>"u"?Ge.noteOn(0):Ge.start(0),typeof fe.ctx.resume=="function"&&fe.ctx.resume(),Ge.onended=function(){Ge.disconnect(0),fe._audioUnlocked=!0,document.removeEventListener("touchstart",ye,!0),document.removeEventListener("touchend",ye,!0),document.removeEventListener("click",ye,!0),document.removeEventListener("keydown",ye,!0);for(var Be=0;Be<fe._howls.length;Be++)fe._howls[Be]._emit("unlock")}};return document.addEventListener("touchstart",ye,!0),document.addEventListener("touchend",ye,!0),document.addEventListener("click",ye,!0),document.addEventListener("keydown",ye,!0),fe}},_obtainHtml5Audio:function(){var fe=this||te;if(fe._html5AudioPool.length)return fe._html5AudioPool.pop();var ye=new Audio().play();return ye&&typeof Promise<"u"&&(ye instanceof Promise||typeof ye.then=="function")&&ye.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(fe){var ye=this||te;return fe._unlocked&&ye._html5AudioPool.push(fe),ye},_autoSuspend:function(){var fe=this;if(!(!fe.autoSuspend||!fe.ctx||typeof fe.ctx.suspend>"u"||!te.usingWebAudio)){for(var ye=0;ye<fe._howls.length;ye++)if(fe._howls[ye]._webAudio){for(var be=0;be<fe._howls[ye]._sounds.length;be++)if(!fe._howls[ye]._sounds[be]._paused)return fe}return fe._suspendTimer&&clearTimeout(fe._suspendTimer),fe._suspendTimer=setTimeout(function(){if(fe.autoSuspend){fe._suspendTimer=null,fe.state="suspending";var Pe=function(){fe.state="suspended",fe._resumeAfterSuspend&&(delete fe._resumeAfterSuspend,fe._autoResume())};fe.ctx.suspend().then(Pe,Pe)}},3e4),fe}},_autoResume:function(){var fe=this;if(!(!fe.ctx||typeof fe.ctx.resume>"u"||!te.usingWebAudio))return fe.state==="running"&&fe.ctx.state!=="interrupted"&&fe._suspendTimer?(clearTimeout(fe._suspendTimer),fe._suspendTimer=null):fe.state==="suspended"||fe.state==="running"&&fe.ctx.state==="interrupted"?(fe.ctx.resume().then(function(){fe.state="running";for(var ye=0;ye<fe._howls.length;ye++)fe._howls[ye]._emit("resume")}),fe._suspendTimer&&(clearTimeout(fe._suspendTimer),fe._suspendTimer=null)):fe.state==="suspending"&&(fe._resumeAfterSuspend=!0),fe}};var te=new ee,se=function(fe){var ye=this;if(!fe.src||fe.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}ye.init(fe)};se.prototype={init:function(fe){var ye=this;return te.ctx||_e(),ye._autoplay=fe.autoplay||!1,ye._format=typeof fe.format!="string"?fe.format:[fe.format],ye._html5=fe.html5||!1,ye._muted=fe.mute||!1,ye._loop=fe.loop||!1,ye._pool=fe.pool||5,ye._preload=typeof fe.preload=="boolean"||fe.preload==="metadata"?fe.preload:!0,ye._rate=fe.rate||1,ye._sprite=fe.sprite||{},ye._src=typeof fe.src!="string"?fe.src:[fe.src],ye._volume=fe.volume!==void 0?fe.volume:1,ye._xhr={method:fe.xhr&&fe.xhr.method?fe.xhr.method:"GET",headers:fe.xhr&&fe.xhr.headers?fe.xhr.headers:null,withCredentials:fe.xhr&&fe.xhr.withCredentials?fe.xhr.withCredentials:!1},ye._duration=0,ye._state="unloaded",ye._sounds=[],ye._endTimers={},ye._queue=[],ye._playLock=!1,ye._onend=fe.onend?[{fn:fe.onend}]:[],ye._onfade=fe.onfade?[{fn:fe.onfade}]:[],ye._onload=fe.onload?[{fn:fe.onload}]:[],ye._onloaderror=fe.onloaderror?[{fn:fe.onloaderror}]:[],ye._onplayerror=fe.onplayerror?[{fn:fe.onplayerror}]:[],ye._onpause=fe.onpause?[{fn:fe.onpause}]:[],ye._onplay=fe.onplay?[{fn:fe.onplay}]:[],ye._onstop=fe.onstop?[{fn:fe.onstop}]:[],ye._onmute=fe.onmute?[{fn:fe.onmute}]:[],ye._onvolume=fe.onvolume?[{fn:fe.onvolume}]:[],ye._onrate=fe.onrate?[{fn:fe.onrate}]:[],ye._onseek=fe.onseek?[{fn:fe.onseek}]:[],ye._onunlock=fe.onunlock?[{fn:fe.onunlock}]:[],ye._onresume=[],ye._webAudio=te.usingWebAudio&&!ye._html5,typeof te.ctx<"u"&&te.ctx&&te.autoUnlock&&te._unlockAudio(),te._howls.push(ye),ye._autoplay&&ye._queue.push({event:"play",action:function(){ye.play()}}),ye._preload&&ye._preload!=="none"&&ye.load(),ye},load:function(){var fe=this,ye=null;if(te.noAudio){fe._emit("loaderror",null,"No audio support.");return}typeof fe._src=="string"&&(fe._src=[fe._src]);for(var be=0;be<fe._src.length;be++){var Pe,Ne;if(fe._format&&fe._format[be])Pe=fe._format[be];else{if(Ne=fe._src[be],typeof Ne!="string"){fe._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}Pe=/^data:audio\/([^;,]+);/i.exec(Ne),Pe||(Pe=/\.([^.]+)$/.exec(Ne.split("?",1)[0])),Pe&&(Pe=Pe[1].toLowerCase())}if(Pe||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),Pe&&te.codecs(Pe)){ye=fe._src[be];break}}if(!ye){fe._emit("loaderror",null,"No codec support for selected audio sources.");return}return fe._src=ye,fe._state="loading",window.location.protocol==="https:"&&ye.slice(0,5)==="http:"&&(fe._html5=!0,fe._webAudio=!1),new ne(fe),fe._webAudio&&ue(fe),fe},play:function(fe,ye){var be=this,Pe=null;if(typeof fe=="number")Pe=fe,fe=null;else{if(typeof fe=="string"&&be._state==="loaded"&&!be._sprite[fe])return null;if(typeof fe>"u"&&(fe="__default",!be._playLock)){for(var Ne=0,we=0;we<be._sounds.length;we++)be._sounds[we]._paused&&!be._sounds[we]._ended&&(Ne++,Pe=be._sounds[we]._id);Ne===1?fe=null:Pe=null}}var De=Pe?be._soundById(Pe):be._inactiveSound();if(!De)return null;if(Pe&&!fe&&(fe=De._sprite||"__default"),be._state!=="loaded"){De._sprite=fe,De._ended=!1;var $e=De._id;return be._queue.push({event:"play",action:function(){be.play($e)}}),$e}if(Pe&&!De._paused)return ye||be._loadQueue("play"),De._id;be._webAudio&&te._autoResume();var Ge=Math.max(0,De._seek>0?De._seek:be._sprite[fe][0]/1e3),Be=Math.max(0,(be._sprite[fe][0]+be._sprite[fe][1])/1e3-Ge),ze=Be*1e3/Math.abs(De._rate),$t=be._sprite[fe][0]/1e3,ut=(be._sprite[fe][0]+be._sprite[fe][1])/1e3;De._sprite=fe,De._ended=!1;var Ti=function(){De._paused=!1,De._seek=Ge,De._start=$t,De._stop=ut,De._loop=!!(De._loop||be._sprite[fe][2])};if(Ge>=ut){be._ended(De);return}var Hi=De._node;if(be._webAudio){var bn=function(){be._playLock=!1,Ti(),be._refreshBuffer(De);var aE=De._muted||be._muted?0:De._volume;Hi.gain.setValueAtTime(aE,te.ctx.currentTime),De._playStart=te.ctx.currentTime,typeof Hi.bufferSource.start>"u"?De._loop?Hi.bufferSource.noteGrainOn(0,Ge,86400):Hi.bufferSource.noteGrainOn(0,Ge,Be):De._loop?Hi.bufferSource.start(0,Ge,86400):Hi.bufferSource.start(0,Ge,Be),ze!==1/0&&(be._endTimers[De._id]=setTimeout(be._ended.bind(be,De),ze)),ye||setTimeout(function(){be._emit("play",De._id),be._loadQueue()},0)};te.state==="running"&&te.ctx.state!=="interrupted"?bn():(be._playLock=!0,be.once("resume",bn),be._clearTimer(De._id))}else{var gd=function(){Hi.currentTime=Ge,Hi.muted=De._muted||be._muted||te._muted||Hi.muted,Hi.volume=De._volume*te.volume(),Hi.playbackRate=De._rate;try{var aE=Hi.play();if(aE&&typeof Promise<"u"&&(aE instanceof Promise||typeof aE.then=="function")?(be._playLock=!0,Ti(),aE.then(function(){be._playLock=!1,Hi._unlocked=!0,ye?be._loadQueue():be._emit("play",De._id)}).catch(function(){be._playLock=!1,be._emit("playerror",De._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),De._ended=!0,De._paused=!0})):ye||(be._playLock=!1,Ti(),be._emit("play",De._id)),Hi.playbackRate=De._rate,Hi.paused){be._emit("playerror",De._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}fe!=="__default"||De._loop?be._endTimers[De._id]=setTimeout(be._ended.bind(be,De),ze):(be._endTimers[De._id]=function(){be._ended(De),Hi.removeEventListener("ended",be._endTimers[De._id],!1)},Hi.addEventListener("ended",be._endTimers[De._id],!1))}catch(nE){be._emit("playerror",De._id,nE)}};Hi.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(Hi.src=be._src,Hi.load());var Pm=window&&window.ejecta||!Hi.readyState&&te._navigator.isCocoonJS;if(Hi.readyState>=3||Pm)gd();else{be._playLock=!0,be._state="loading";var oE=function(){be._state="loaded",gd(),Hi.removeEventListener(te._canPlayEvent,oE,!1)};Hi.addEventListener(te._canPlayEvent,oE,!1),be._clearTimer(De._id)}}return De._id},pause:function(fe){var ye=this;if(ye._state!=="loaded"||ye._playLock)return ye._queue.push({event:"pause",action:function(){ye.pause(fe)}}),ye;for(var be=ye._getSoundIds(fe),Pe=0;Pe<be.length;Pe++){ye._clearTimer(be[Pe]);var Ne=ye._soundById(be[Pe]);if(Ne&&!Ne._paused&&(Ne._seek=ye.seek(be[Pe]),Ne._rateSeek=0,Ne._paused=!0,ye._stopFade(be[Pe]),Ne._node))if(ye._webAudio){if(!Ne._node.bufferSource)continue;typeof Ne._node.bufferSource.stop>"u"?Ne._node.bufferSource.noteOff(0):Ne._node.bufferSource.stop(0),ye._cleanBuffer(Ne._node)}else(!isNaN(Ne._node.duration)||Ne._node.duration===1/0)&&Ne._node.pause();arguments[1]||ye._emit("pause",Ne?Ne._id:null)}return ye},stop:function(fe,ye){var be=this;if(be._state!=="loaded"||be._playLock)return be._queue.push({event:"stop",action:function(){be.stop(fe)}}),be;for(var Pe=be._getSoundIds(fe),Ne=0;Ne<Pe.length;Ne++){be._clearTimer(Pe[Ne]);var we=be._soundById(Pe[Ne]);we&&(we._seek=we._start||0,we._rateSeek=0,we._paused=!0,we._ended=!0,be._stopFade(Pe[Ne]),we._node&&(be._webAudio?we._node.bufferSource&&(typeof we._node.bufferSource.stop>"u"?we._node.bufferSource.noteOff(0):we._node.bufferSource.stop(0),be._cleanBuffer(we._node)):(!isNaN(we._node.duration)||we._node.duration===1/0)&&(we._node.currentTime=we._start||0,we._node.pause(),we._node.duration===1/0&&be._clearSound(we._node))),ye||be._emit("stop",we._id))}return be},mute:function(fe,ye){var be=this;if(be._state!=="loaded"||be._playLock)return be._queue.push({event:"mute",action:function(){be.mute(fe,ye)}}),be;if(typeof ye>"u")if(typeof fe=="boolean")be._muted=fe;else return be._muted;for(var Pe=be._getSoundIds(ye),Ne=0;Ne<Pe.length;Ne++){var we=be._soundById(Pe[Ne]);we&&(we._muted=fe,we._interval&&be._stopFade(we._id),be._webAudio&&we._node?we._node.gain.setValueAtTime(fe?0:we._volume,te.ctx.currentTime):we._node&&(we._node.muted=te._muted?!0:fe),be._emit("mute",we._id))}return be},volume:function(){var fe=this,ye=arguments,be,Pe;if(ye.length===0)return fe._volume;if(ye.length===1||ye.length===2&&typeof ye[1]>"u"){var Ne=fe._getSoundIds(),we=Ne.indexOf(ye[0]);we>=0?Pe=parseInt(ye[0],10):be=parseFloat(ye[0])}else ye.length>=2&&(be=parseFloat(ye[0]),Pe=parseInt(ye[1],10));var De;if(typeof be<"u"&&be>=0&&be<=1){if(fe._state!=="loaded"||fe._playLock)return fe._queue.push({event:"volume",action:function(){fe.volume.apply(fe,ye)}}),fe;typeof Pe>"u"&&(fe._volume=be),Pe=fe._getSoundIds(Pe);for(var $e=0;$e<Pe.length;$e++)De=fe._soundById(Pe[$e]),De&&(De._volume=be,ye[2]||fe._stopFade(Pe[$e]),fe._webAudio&&De._node&&!De._muted?De._node.gain.setValueAtTime(be,te.ctx.currentTime):De._node&&!De._muted&&(De._node.volume=be*te.volume()),fe._emit("volume",De._id))}else return De=Pe?fe._soundById(Pe):fe._sounds[0],De?De._volume:0;return fe},fade:function(fe,ye,be,Pe){var Ne=this;if(Ne._state!=="loaded"||Ne._playLock)return Ne._queue.push({event:"fade",action:function(){Ne.fade(fe,ye,be,Pe)}}),Ne;fe=Math.min(Math.max(0,parseFloat(fe)),1),ye=Math.min(Math.max(0,parseFloat(ye)),1),be=parseFloat(be),Ne.volume(fe,Pe);for(var we=Ne._getSoundIds(Pe),De=0;De<we.length;De++){var $e=Ne._soundById(we[De]);if($e){if(Pe||Ne._stopFade(we[De]),Ne._webAudio&&!$e._muted){var Ge=te.ctx.currentTime,Be=Ge+be/1e3;$e._volume=fe,$e._node.gain.setValueAtTime(fe,Ge),$e._node.gain.linearRampToValueAtTime(ye,Be)}Ne._startFadeInterval($e,fe,ye,be,we[De],typeof Pe>"u")}}return Ne},_startFadeInterval:function(fe,ye,be,Pe,Ne,we){var De=this,$e=ye,Ge=be-ye,Be=Math.abs(Ge/.01),ze=Math.max(4,Be>0?Pe/Be:Pe),$t=Date.now();fe._fadeTo=be,fe._interval=setInterval(function(){var ut=(Date.now()-$t)/Pe;$t=Date.now(),$e+=Ge*ut,$e=Math.round($e*100)/100,Ge<0?$e=Math.max(be,$e):$e=Math.min(be,$e),De._webAudio?fe._volume=$e:De.volume($e,fe._id,!0),we&&(De._volume=$e),(be<ye&&$e<=be||be>ye&&$e>=be)&&(clearInterval(fe._interval),fe._interval=null,fe._fadeTo=null,De.volume(be,fe._id),De._emit("fade",fe._id))},ze)},_stopFade:function(fe){var ye=this,be=ye._soundById(fe);return be&&be._interval&&(ye._webAudio&&be._node.gain.cancelScheduledValues(te.ctx.currentTime),clearInterval(be._interval),be._interval=null,ye.volume(be._fadeTo,fe),be._fadeTo=null,ye._emit("fade",fe)),ye},loop:function(){var fe=this,ye=arguments,be,Pe,Ne;if(ye.length===0)return fe._loop;if(ye.length===1)if(typeof ye[0]=="boolean")be=ye[0],fe._loop=be;else return Ne=fe._soundById(parseInt(ye[0],10)),Ne?Ne._loop:!1;else ye.length===2&&(be=ye[0],Pe=parseInt(ye[1],10));for(var we=fe._getSoundIds(Pe),De=0;De<we.length;De++)Ne=fe._soundById(we[De]),Ne&&(Ne._loop=be,fe._webAudio&&Ne._node&&Ne._node.bufferSource&&(Ne._node.bufferSource.loop=be,be&&(Ne._node.bufferSource.loopStart=Ne._start||0,Ne._node.bufferSource.loopEnd=Ne._stop,fe.playing(we[De])&&(fe.pause(we[De],!0),fe.play(we[De],!0)))));return fe},rate:function(){var fe=this,ye=arguments,be,Pe;if(ye.length===0)Pe=fe._sounds[0]._id;else if(ye.length===1){var Ne=fe._getSoundIds(),we=Ne.indexOf(ye[0]);we>=0?Pe=parseInt(ye[0],10):be=parseFloat(ye[0])}else ye.length===2&&(be=parseFloat(ye[0]),Pe=parseInt(ye[1],10));var De;if(typeof be=="number"){if(fe._state!=="loaded"||fe._playLock)return fe._queue.push({event:"rate",action:function(){fe.rate.apply(fe,ye)}}),fe;typeof Pe>"u"&&(fe._rate=be),Pe=fe._getSoundIds(Pe);for(var $e=0;$e<Pe.length;$e++)if(De=fe._soundById(Pe[$e]),De){fe.playing(Pe[$e])&&(De._rateSeek=fe.seek(Pe[$e]),De._playStart=fe._webAudio?te.ctx.currentTime:De._playStart),De._rate=be,fe._webAudio&&De._node&&De._node.bufferSource?De._node.bufferSource.playbackRate.setValueAtTime(be,te.ctx.currentTime):De._node&&(De._node.playbackRate=be);var Ge=fe.seek(Pe[$e]),Be=(fe._sprite[De._sprite][0]+fe._sprite[De._sprite][1])/1e3-Ge,ze=Be*1e3/Math.abs(De._rate);(fe._endTimers[Pe[$e]]||!De._paused)&&(fe._clearTimer(Pe[$e]),fe._endTimers[Pe[$e]]=setTimeout(fe._ended.bind(fe,De),ze)),fe._emit("rate",De._id)}}else return De=fe._soundById(Pe),De?De._rate:fe._rate;return fe},seek:function(){var fe=this,ye=arguments,be,Pe;if(ye.length===0)fe._sounds.length&&(Pe=fe._sounds[0]._id);else if(ye.length===1){var Ne=fe._getSoundIds(),we=Ne.indexOf(ye[0]);we>=0?Pe=parseInt(ye[0],10):fe._sounds.length&&(Pe=fe._sounds[0]._id,be=parseFloat(ye[0]))}else ye.length===2&&(be=parseFloat(ye[0]),Pe=parseInt(ye[1],10));if(typeof Pe>"u")return 0;if(typeof be=="number"&&(fe._state!=="loaded"||fe._playLock))return fe._queue.push({event:"seek",action:function(){fe.seek.apply(fe,ye)}}),fe;var De=fe._soundById(Pe);if(De)if(typeof be=="number"&&be>=0){var $e=fe.playing(Pe);$e&&fe.pause(Pe,!0),De._seek=be,De._ended=!1,fe._clearTimer(Pe),!fe._webAudio&&De._node&&!isNaN(De._node.duration)&&(De._node.currentTime=be);var Ge=function(){$e&&fe.play(Pe,!0),fe._emit("seek",Pe)};if($e&&!fe._webAudio){var Be=function(){fe._playLock?setTimeout(Be,0):Ge()};setTimeout(Be,0)}else Ge()}else if(fe._webAudio){var ze=fe.playing(Pe)?te.ctx.currentTime-De._playStart:0,$t=De._rateSeek?De._rateSeek-De._seek:0;return De._seek+($t+ze*Math.abs(De._rate))}else return De._node.currentTime;return fe},playing:function(fe){var ye=this;if(typeof fe=="number"){var be=ye._soundById(fe);return be?!be._paused:!1}for(var Pe=0;Pe<ye._sounds.length;Pe++)if(!ye._sounds[Pe]._paused)return!0;return!1},duration:function(fe){var ye=this,be=ye._duration,Pe=ye._soundById(fe);return Pe&&(be=ye._sprite[Pe._sprite][1]/1e3),be},state:function(){return this._state},unload:function(){for(var fe=this,ye=fe._sounds,be=0;be<ye.length;be++)ye[be]._paused||fe.stop(ye[be]._id),fe._webAudio||(fe._clearSound(ye[be]._node),ye[be]._node.removeEventListener("error",ye[be]._errorFn,!1),ye[be]._node.removeEventListener(te._canPlayEvent,ye[be]._loadFn,!1),ye[be]._node.removeEventListener("ended",ye[be]._endFn,!1),te._releaseHtml5Audio(ye[be]._node)),delete ye[be]._node,fe._clearTimer(ye[be]._id);var Pe=te._howls.indexOf(fe);Pe>=0&&te._howls.splice(Pe,1);var Ne=!0;for(be=0;be<te._howls.length;be++)if(te._howls[be]._src===fe._src||fe._src.indexOf(te._howls[be]._src)>=0){Ne=!1;break}return Ne&&delete le[fe._src],te.noAudio=!1,fe._state="unloaded",fe._sounds=[],fe=null,null},on:function(fe,ye,be,Pe){var Ne=this,we=Ne["_on"+fe];return typeof ye=="function"&&we.push(Pe?{id:be,fn:ye,once:Pe}:{id:be,fn:ye}),Ne},off:function(fe,ye,be){var Pe=this,Ne=Pe["_on"+fe],we=0;if(typeof ye=="number"&&(be=ye,ye=null),ye||be)for(we=0;we<Ne.length;we++){var De=be===Ne[we].id;if(ye===Ne[we].fn&&De||!ye&&De){Ne.splice(we,1);break}}else if(fe)Pe["_on"+fe]=[];else{var $e=Object.keys(Pe);for(we=0;we<$e.length;we++)$e[we].indexOf("_on")===0&&Array.isArray(Pe[$e[we]])&&(Pe[$e[we]]=[])}return Pe},once:function(fe,ye,be){var Pe=this;return Pe.on(fe,ye,be,1),Pe},_emit:function(fe,ye,be){for(var Pe=this,Ne=Pe["_on"+fe],we=Ne.length-1;we>=0;we--)(!Ne[we].id||Ne[we].id===ye||fe==="load")&&(setTimeout((function(De){De.call(this,ye,be)}).bind(Pe,Ne[we].fn),0),Ne[we].once&&Pe.off(fe,Ne[we].fn,Ne[we].id));return Pe._loadQueue(fe),Pe},_loadQueue:function(fe){var ye=this;if(ye._queue.length>0){var be=ye._queue[0];be.event===fe&&(ye._queue.shift(),ye._loadQueue()),fe||be.action()}return ye},_ended:function(fe){var ye=this,be=fe._sprite;if(!ye._webAudio&&fe._node&&!fe._node.paused&&!fe._node.ended&&fe._node.currentTime<fe._stop)return setTimeout(ye._ended.bind(ye,fe),100),ye;var Pe=!!(fe._loop||ye._sprite[be][2]);if(ye._emit("end",fe._id),!ye._webAudio&&Pe&&ye.stop(fe._id,!0).play(fe._id),ye._webAudio&&Pe){ye._emit("play",fe._id),fe._seek=fe._start||0,fe._rateSeek=0,fe._playStart=te.ctx.currentTime;var Ne=(fe._stop-fe._start)*1e3/Math.abs(fe._rate);ye._endTimers[fe._id]=setTimeout(ye._ended.bind(ye,fe),Ne)}return ye._webAudio&&!Pe&&(fe._paused=!0,fe._ended=!0,fe._seek=fe._start||0,fe._rateSeek=0,ye._clearTimer(fe._id),ye._cleanBuffer(fe._node),te._autoSuspend()),!ye._webAudio&&!Pe&&ye.stop(fe._id,!0),ye},_clearTimer:function(fe){var ye=this;if(ye._endTimers[fe]){if(typeof ye._endTimers[fe]!="function")clearTimeout(ye._endTimers[fe]);else{var be=ye._soundById(fe);be&&be._node&&be._node.removeEventListener("ended",ye._endTimers[fe],!1)}delete ye._endTimers[fe]}return ye},_soundById:function(fe){for(var ye=this,be=0;be<ye._sounds.length;be++)if(fe===ye._sounds[be]._id)return ye._sounds[be];return null},_inactiveSound:function(){var fe=this;fe._drain();for(var ye=0;ye<fe._sounds.length;ye++)if(fe._sounds[ye]._ended)return fe._sounds[ye].reset();return new ne(fe)},_drain:function(){var fe=this,ye=fe._pool,be=0,Pe=0;if(!(fe._sounds.length<ye)){for(Pe=0;Pe<fe._sounds.length;Pe++)fe._sounds[Pe]._ended&&be++;for(Pe=fe._sounds.length-1;Pe>=0;Pe--){if(be<=ye)return;fe._sounds[Pe]._ended&&(fe._webAudio&&fe._sounds[Pe]._node&&fe._sounds[Pe]._node.disconnect(0),fe._sounds.splice(Pe,1),be--)}}},_getSoundIds:function(fe){var ye=this;if(typeof fe>"u"){for(var be=[],Pe=0;Pe<ye._sounds.length;Pe++)be.push(ye._sounds[Pe]._id);return be}else return[fe]},_refreshBuffer:function(fe){var ye=this;return fe._node.bufferSource=te.ctx.createBufferSource(),fe._node.bufferSource.buffer=le[ye._src],fe._panner?fe._node.bufferSource.connect(fe._panner):fe._node.bufferSource.connect(fe._node),fe._node.bufferSource.loop=fe._loop,fe._loop&&(fe._node.bufferSource.loopStart=fe._start||0,fe._node.bufferSource.loopEnd=fe._stop||0),fe._node.bufferSource.playbackRate.setValueAtTime(fe._rate,te.ctx.currentTime),ye},_cleanBuffer:function(fe){var ye=this,be=te._navigator&&te._navigator.vendor.indexOf("Apple")>=0;if(!fe.bufferSource)return ye;if(te._scratchBuffer&&fe.bufferSource&&(fe.bufferSource.onended=null,fe.bufferSource.disconnect(0),be))try{fe.bufferSource.buffer=te._scratchBuffer}catch{}return fe.bufferSource=null,ye},_clearSound:function(fe){var ye=/MSIE |Trident\//.test(te._navigator&&te._navigator.userAgent);ye||(fe.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var ne=function(fe){this._parent=fe,this.init()};ne.prototype={init:function(){var fe=this,ye=fe._parent;return fe._muted=ye._muted,fe._loop=ye._loop,fe._volume=ye._volume,fe._rate=ye._rate,fe._seek=0,fe._paused=!0,fe._ended=!0,fe._sprite="__default",fe._id=++te._counter,ye._sounds.push(fe),fe.create(),fe},create:function(){var fe=this,ye=fe._parent,be=te._muted||fe._muted||fe._parent._muted?0:fe._volume;return ye._webAudio?(fe._node=typeof te.ctx.createGain>"u"?te.ctx.createGainNode():te.ctx.createGain(),fe._node.gain.setValueAtTime(be,te.ctx.currentTime),fe._node.paused=!0,fe._node.connect(te.masterGain)):te.noAudio||(fe._node=te._obtainHtml5Audio(),fe._errorFn=fe._errorListener.bind(fe),fe._node.addEventListener("error",fe._errorFn,!1),fe._loadFn=fe._loadListener.bind(fe),fe._node.addEventListener(te._canPlayEvent,fe._loadFn,!1),fe._endFn=fe._endListener.bind(fe),fe._node.addEventListener("ended",fe._endFn,!1),fe._node.src=ye._src,fe._node.preload=ye._preload===!0?"auto":ye._preload,fe._node.volume=be*te.volume(),fe._node.load()),fe},reset:function(){var fe=this,ye=fe._parent;return fe._muted=ye._muted,fe._loop=ye._loop,fe._volume=ye._volume,fe._rate=ye._rate,fe._seek=0,fe._rateSeek=0,fe._paused=!0,fe._ended=!0,fe._sprite="__default",fe._id=++te._counter,fe},_errorListener:function(){var fe=this;fe._parent._emit("loaderror",fe._id,fe._node.error?fe._node.error.code:0),fe._node.removeEventListener("error",fe._errorFn,!1)},_loadListener:function(){var fe=this,ye=fe._parent;ye._duration=Math.ceil(fe._node.duration*10)/10,Object.keys(ye._sprite).length===0&&(ye._sprite={__default:[0,ye._duration*1e3]}),ye._state!=="loaded"&&(ye._state="loaded",ye._emit("load"),ye._loadQueue()),fe._node.removeEventListener(te._canPlayEvent,fe._loadFn,!1)},_endListener:function(){var fe=this,ye=fe._parent;ye._duration===1/0&&(ye._duration=Math.ceil(fe._node.duration*10)/10,ye._sprite.__default[1]===1/0&&(ye._sprite.__default[1]=ye._duration*1e3),ye._ended(fe)),fe._node.removeEventListener("ended",fe._endFn,!1)}};var le={},ue=function(fe){var ye=fe._src;if(le[ye]){fe._duration=le[ye].duration,de(fe);return}if(/^data:[^;]+;base64,/.test(ye)){for(var be=atob(ye.split(",")[1]),Pe=new Uint8Array(be.length),Ne=0;Ne<be.length;++Ne)Pe[Ne]=be.charCodeAt(Ne);he(Pe.buffer,fe)}else{var we=new XMLHttpRequest;we.open(fe._xhr.method,ye,!0),we.withCredentials=fe._xhr.withCredentials,we.responseType="arraybuffer",fe._xhr.headers&&Object.keys(fe._xhr.headers).forEach(function(De){we.setRequestHeader(De,fe._xhr.headers[De])}),we.onload=function(){var De=(we.status+"")[0];if(De!=="0"&&De!=="2"&&De!=="3"){fe._emit("loaderror",null,"Failed loading audio file with status: "+we.status+".");return}he(we.response,fe)},we.onerror=function(){fe._webAudio&&(fe._html5=!0,fe._webAudio=!1,fe._sounds=[],delete le[ye],fe.load())},ce(we)}},ce=function(fe){try{fe.send()}catch{fe.onerror()}},he=function(fe,ye){var be=function(){ye._emit("loaderror",null,"Decoding audio data failed.")},Pe=function(Ne){Ne&&ye._sounds.length>0?(le[ye._src]=Ne,de(ye,Ne)):be()};typeof Promise<"u"&&te.ctx.decodeAudioData.length===1?te.ctx.decodeAudioData(fe).then(Pe).catch(be):te.ctx.decodeAudioData(fe,Pe,be)},de=function(fe,ye){ye&&!fe._duration&&(fe._duration=ye.duration),Object.keys(fe._sprite).length===0&&(fe._sprite={__default:[0,fe._duration*1e3]}),fe._state!=="loaded"&&(fe._state="loaded",fe._emit("load"),fe._loadQueue())},_e=function(){if(te.usingWebAudio){try{typeof AudioContext<"u"?te.ctx=new AudioContext:typeof webkitAudioContext<"u"?te.ctx=new webkitAudioContext:te.usingWebAudio=!1}catch{te.usingWebAudio=!1}te.ctx||(te.usingWebAudio=!1);var fe=/iP(hone|od|ad)/.test(te._navigator&&te._navigator.platform),ye=te._navigator&&te._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),be=ye?parseInt(ye[1],10):null;if(fe&&be&&be<9){var Pe=/safari/.test(te._navigator&&te._navigator.userAgent.toLowerCase());te._navigator&&!Pe&&(te.usingWebAudio=!1)}te.usingWebAudio&&(te.masterGain=typeof te.ctx.createGain>"u"?te.ctx.createGainNode():te.ctx.createGain(),te.masterGain.gain.setValueAtTime(te._muted?0:te._volume,te.ctx.currentTime),te.masterGain.connect(te.ctx.destination)),te._setup()}};ie.Howler=te,ie.Howl=se,typeof commonjsGlobal<"u"?(commonjsGlobal.HowlerGlobal=ee,commonjsGlobal.Howler=te,commonjsGlobal.Howl=se,commonjsGlobal.Sound=ne):typeof window<"u"&&(window.HowlerGlobal=ee,window.Howler=te,window.Howl=se,window.Sound=ne)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(te){var se=this;if(!se.ctx||!se.ctx.listener)return se;for(var ne=se._howls.length-1;ne>=0;ne--)se._howls[ne].stereo(te);return se},HowlerGlobal.prototype.pos=function(te,se,ne){var le=this;if(!le.ctx||!le.ctx.listener)return le;if(se=typeof se!="number"?le._pos[1]:se,ne=typeof ne!="number"?le._pos[2]:ne,typeof te=="number")le._pos=[te,se,ne],typeof le.ctx.listener.positionX<"u"?(le.ctx.listener.positionX.setTargetAtTime(le._pos[0],Howler.ctx.currentTime,.1),le.ctx.listener.positionY.setTargetAtTime(le._pos[1],Howler.ctx.currentTime,.1),le.ctx.listener.positionZ.setTargetAtTime(le._pos[2],Howler.ctx.currentTime,.1)):le.ctx.listener.setPosition(le._pos[0],le._pos[1],le._pos[2]);else return le._pos;return le},HowlerGlobal.prototype.orientation=function(te,se,ne,le,ue,ce){var he=this;if(!he.ctx||!he.ctx.listener)return he;var de=he._orientation;if(se=typeof se!="number"?de[1]:se,ne=typeof ne!="number"?de[2]:ne,le=typeof le!="number"?de[3]:le,ue=typeof ue!="number"?de[4]:ue,ce=typeof ce!="number"?de[5]:ce,typeof te=="number")he._orientation=[te,se,ne,le,ue,ce],typeof he.ctx.listener.forwardX<"u"?(he.ctx.listener.forwardX.setTargetAtTime(te,Howler.ctx.currentTime,.1),he.ctx.listener.forwardY.setTargetAtTime(se,Howler.ctx.currentTime,.1),he.ctx.listener.forwardZ.setTargetAtTime(ne,Howler.ctx.currentTime,.1),he.ctx.listener.upX.setTargetAtTime(le,Howler.ctx.currentTime,.1),he.ctx.listener.upY.setTargetAtTime(ue,Howler.ctx.currentTime,.1),he.ctx.listener.upZ.setTargetAtTime(ce,Howler.ctx.currentTime,.1)):he.ctx.listener.setOrientation(te,se,ne,le,ue,ce);else return de;return he},Howl.prototype.init=function(te){return function(se){var ne=this;return ne._orientation=se.orientation||[1,0,0],ne._stereo=se.stereo||null,ne._pos=se.pos||null,ne._pannerAttr={coneInnerAngle:typeof se.coneInnerAngle<"u"?se.coneInnerAngle:360,coneOuterAngle:typeof se.coneOuterAngle<"u"?se.coneOuterAngle:360,coneOuterGain:typeof se.coneOuterGain<"u"?se.coneOuterGain:0,distanceModel:typeof se.distanceModel<"u"?se.distanceModel:"inverse",maxDistance:typeof se.maxDistance<"u"?se.maxDistance:1e4,panningModel:typeof se.panningModel<"u"?se.panningModel:"HRTF",refDistance:typeof se.refDistance<"u"?se.refDistance:1,rolloffFactor:typeof se.rolloffFactor<"u"?se.rolloffFactor:1},ne._onstereo=se.onstereo?[{fn:se.onstereo}]:[],ne._onpos=se.onpos?[{fn:se.onpos}]:[],ne._onorientation=se.onorientation?[{fn:se.onorientation}]:[],te.call(this,se)}}(Howl.prototype.init),Howl.prototype.stereo=function(te,se){var ne=this;if(!ne._webAudio)return ne;if(ne._state!=="loaded")return ne._queue.push({event:"stereo",action:function(){ne.stereo(te,se)}}),ne;var le=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof se>"u")if(typeof te=="number")ne._stereo=te,ne._pos=[te,0,0];else return ne._stereo;for(var ue=ne._getSoundIds(se),ce=0;ce<ue.length;ce++){var he=ne._soundById(ue[ce]);if(he)if(typeof te=="number")he._stereo=te,he._pos=[te,0,0],he._node&&(he._pannerAttr.panningModel="equalpower",(!he._panner||!he._panner.pan)&&ee(he,le),le==="spatial"?typeof he._panner.positionX<"u"?(he._panner.positionX.setValueAtTime(te,Howler.ctx.currentTime),he._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),he._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):he._panner.setPosition(te,0,0):he._panner.pan.setValueAtTime(te,Howler.ctx.currentTime)),ne._emit("stereo",he._id);else return he._stereo}return ne},Howl.prototype.pos=function(te,se,ne,le){var ue=this;if(!ue._webAudio)return ue;if(ue._state!=="loaded")return ue._queue.push({event:"pos",action:function(){ue.pos(te,se,ne,le)}}),ue;if(se=typeof se!="number"?0:se,ne=typeof ne!="number"?-.5:ne,typeof le>"u")if(typeof te=="number")ue._pos=[te,se,ne];else return ue._pos;for(var ce=ue._getSoundIds(le),he=0;he<ce.length;he++){var de=ue._soundById(ce[he]);if(de)if(typeof te=="number")de._pos=[te,se,ne],de._node&&((!de._panner||de._panner.pan)&&ee(de,"spatial"),typeof de._panner.positionX<"u"?(de._panner.positionX.setValueAtTime(te,Howler.ctx.currentTime),de._panner.positionY.setValueAtTime(se,Howler.ctx.currentTime),de._panner.positionZ.setValueAtTime(ne,Howler.ctx.currentTime)):de._panner.setPosition(te,se,ne)),ue._emit("pos",de._id);else return de._pos}return ue},Howl.prototype.orientation=function(te,se,ne,le){var ue=this;if(!ue._webAudio)return ue;if(ue._state!=="loaded")return ue._queue.push({event:"orientation",action:function(){ue.orientation(te,se,ne,le)}}),ue;if(se=typeof se!="number"?ue._orientation[1]:se,ne=typeof ne!="number"?ue._orientation[2]:ne,typeof le>"u")if(typeof te=="number")ue._orientation=[te,se,ne];else return ue._orientation;for(var ce=ue._getSoundIds(le),he=0;he<ce.length;he++){var de=ue._soundById(ce[he]);if(de)if(typeof te=="number")de._orientation=[te,se,ne],de._node&&(de._panner||(de._pos||(de._pos=ue._pos||[0,0,-.5]),ee(de,"spatial")),typeof de._panner.orientationX<"u"?(de._panner.orientationX.setValueAtTime(te,Howler.ctx.currentTime),de._panner.orientationY.setValueAtTime(se,Howler.ctx.currentTime),de._panner.orientationZ.setValueAtTime(ne,Howler.ctx.currentTime)):de._panner.setOrientation(te,se,ne)),ue._emit("orientation",de._id);else return de._orientation}return ue},Howl.prototype.pannerAttr=function(){var te=this,se=arguments,ne,le,ue;if(!te._webAudio)return te;if(se.length===0)return te._pannerAttr;if(se.length===1)if(typeof se[0]=="object")ne=se[0],typeof le>"u"&&(ne.pannerAttr||(ne.pannerAttr={coneInnerAngle:ne.coneInnerAngle,coneOuterAngle:ne.coneOuterAngle,coneOuterGain:ne.coneOuterGain,distanceModel:ne.distanceModel,maxDistance:ne.maxDistance,refDistance:ne.refDistance,rolloffFactor:ne.rolloffFactor,panningModel:ne.panningModel}),te._pannerAttr={coneInnerAngle:typeof ne.pannerAttr.coneInnerAngle<"u"?ne.pannerAttr.coneInnerAngle:te._coneInnerAngle,coneOuterAngle:typeof ne.pannerAttr.coneOuterAngle<"u"?ne.pannerAttr.coneOuterAngle:te._coneOuterAngle,coneOuterGain:typeof ne.pannerAttr.coneOuterGain<"u"?ne.pannerAttr.coneOuterGain:te._coneOuterGain,distanceModel:typeof ne.pannerAttr.distanceModel<"u"?ne.pannerAttr.distanceModel:te._distanceModel,maxDistance:typeof ne.pannerAttr.maxDistance<"u"?ne.pannerAttr.maxDistance:te._maxDistance,refDistance:typeof ne.pannerAttr.refDistance<"u"?ne.pannerAttr.refDistance:te._refDistance,rolloffFactor:typeof ne.pannerAttr.rolloffFactor<"u"?ne.pannerAttr.rolloffFactor:te._rolloffFactor,panningModel:typeof ne.pannerAttr.panningModel<"u"?ne.pannerAttr.panningModel:te._panningModel});else return ue=te._soundById(parseInt(se[0],10)),ue?ue._pannerAttr:te._pannerAttr;else se.length===2&&(ne=se[0],le=parseInt(se[1],10));for(var ce=te._getSoundIds(le),he=0;he<ce.length;he++)if(ue=te._soundById(ce[he]),ue){var de=ue._pannerAttr;de={coneInnerAngle:typeof ne.coneInnerAngle<"u"?ne.coneInnerAngle:de.coneInnerAngle,coneOuterAngle:typeof ne.coneOuterAngle<"u"?ne.coneOuterAngle:de.coneOuterAngle,coneOuterGain:typeof ne.coneOuterGain<"u"?ne.coneOuterGain:de.coneOuterGain,distanceModel:typeof ne.distanceModel<"u"?ne.distanceModel:de.distanceModel,maxDistance:typeof ne.maxDistance<"u"?ne.maxDistance:de.maxDistance,refDistance:typeof ne.refDistance<"u"?ne.refDistance:de.refDistance,rolloffFactor:typeof ne.rolloffFactor<"u"?ne.rolloffFactor:de.rolloffFactor,panningModel:typeof ne.panningModel<"u"?ne.panningModel:de.panningModel};var _e=ue._panner;_e||(ue._pos||(ue._pos=te._pos||[0,0,-.5]),ee(ue,"spatial"),_e=ue._panner),_e.coneInnerAngle=de.coneInnerAngle,_e.coneOuterAngle=de.coneOuterAngle,_e.coneOuterGain=de.coneOuterGain,_e.distanceModel=de.distanceModel,_e.maxDistance=de.maxDistance,_e.refDistance=de.refDistance,_e.rolloffFactor=de.rolloffFactor,_e.panningModel=de.panningModel}return te},Sound.prototype.init=function(te){return function(){var se=this,ne=se._parent;se._orientation=ne._orientation,se._stereo=ne._stereo,se._pos=ne._pos,se._pannerAttr=ne._pannerAttr,te.call(this),se._stereo?ne.stereo(se._stereo):se._pos&&ne.pos(se._pos[0],se._pos[1],se._pos[2],se._id)}}(Sound.prototype.init),Sound.prototype.reset=function(te){return function(){var se=this,ne=se._parent;return se._orientation=ne._orientation,se._stereo=ne._stereo,se._pos=ne._pos,se._pannerAttr=ne._pannerAttr,se._stereo?ne.stereo(se._stereo):se._pos?ne.pos(se._pos[0],se._pos[1],se._pos[2],se._id):se._panner&&(se._panner.disconnect(0),se._panner=void 0,ne._refreshBuffer(se)),te.call(this)}}(Sound.prototype.reset);var ee=function(te,se){se=se||"spatial",se==="spatial"?(te._panner=Howler.ctx.createPanner(),te._panner.coneInnerAngle=te._pannerAttr.coneInnerAngle,te._panner.coneOuterAngle=te._pannerAttr.coneOuterAngle,te._panner.coneOuterGain=te._pannerAttr.coneOuterGain,te._panner.distanceModel=te._pannerAttr.distanceModel,te._panner.maxDistance=te._pannerAttr.maxDistance,te._panner.refDistance=te._pannerAttr.refDistance,te._panner.rolloffFactor=te._pannerAttr.rolloffFactor,te._panner.panningModel=te._pannerAttr.panningModel,typeof te._panner.positionX<"u"?(te._panner.positionX.setValueAtTime(te._pos[0],Howler.ctx.currentTime),te._panner.positionY.setValueAtTime(te._pos[1],Howler.ctx.currentTime),te._panner.positionZ.setValueAtTime(te._pos[2],Howler.ctx.currentTime)):te._panner.setPosition(te._pos[0],te._pos[1],te._pos[2]),typeof te._panner.orientationX<"u"?(te._panner.orientationX.setValueAtTime(te._orientation[0],Howler.ctx.currentTime),te._panner.orientationY.setValueAtTime(te._orientation[1],Howler.ctx.currentTime),te._panner.orientationZ.setValueAtTime(te._orientation[2],Howler.ctx.currentTime)):te._panner.setOrientation(te._orientation[0],te._orientation[1],te._orientation[2])):(te._panner=Howler.ctx.createStereoPanner(),te._panner.pan.setValueAtTime(te._stereo,Howler.ctx.currentTime)),te._panner.connect(te._node),te._paused||te._parent.pause(te._id,!0).play(te._id,!0)}})()}(howler)),howler}var howlerExports=requireHowler();class MusicPlayer{constructor(ee){this._sampleUrl=ee,this._isPlaying=!1,this._startPos=0,this._currentPos=0,this._playLength=0,this._sequence=[],this._cache=new Map}async play(ee,te,se=0,ne=-1){this.reset(),this._currentSong=new TraxData(ee),this._startPos=Math.trunc(se),this._playLength=ne,this._currentPos=this._startPos,this._currentSongId=te,await this.preload(),this._isPlaying=!0,this.tick(),this._tickerInterval=window.setInterval(()=>this.tick(),1e3)}reset(){this._isPlaying=!1,window.clearInterval(this._tickerInterval),howlerExports.Howler.stop(),this._currentSongId=-1,this._currentSong=void 0,this._tickerInterval=void 0,this._startPos=0,this._playLength=0,this._sequence=[],this._currentPos=0}pause(){this._isPlaying=!1,howlerExports.Howler.stop()}resume(){this._isPlaying=!0}stop(){const ee=this._currentSongId;this.reset(),Nitro.instance.soundManager.events.dispatchEvent(new SoundManagerEvent(SoundManagerEvent.TRAX_SONG_COMPLETE,ee))}setVolume(ee){howlerExports.Howler.volume(ee)}getVolume(){return howlerExports.Howler.volume()}async getSample(ee){let te=this._cache.get(ee);return te||(te=await this.loadSong(ee)),Promise.resolve(te)}async preload(){if(this._sequence=[],!!this._currentSong){for(const ee of this._currentSong.channels){const te=[];for(const se of ee.items){const ne=await this.getSample(se.id),le=Math.ceil(se.length*2/Math.ceil(ne.duration()));for(let ue=0;ue<le;ue++)for(let ce=0;ce<Math.ceil(ne.duration());ce++)te.push({sampleId:se.id,offset:ce})}this._sequence.push(te)}this._playLength<=0&&(this._playLength=Math.max(...this._sequence.map(ee=>ee.length)))}}async preloadSamplesForSong(ee){const te=new TraxData(ee);await Promise.all(te.getSampleIds().map(se=>this.getSample(se)))}async loadSong(ee){return new Promise((te,se)=>{const ne=new howlerExports.Howl({src:[this._sampleUrl.replace("%sample%",ee.toString())],preload:!0});ne.once("load",()=>{this._cache.set(ee,ne),te(ne)}),ne.once("loaderror",()=>{NitroLogger.error("failed to load sample "+ee),se("failed to load sample "+ee)})})}tick(){this._currentPos>this._playLength-1&&this.stop(),this._isPlaying&&(this._currentSong&&this.playPosition(this._currentPos),this._currentPos++)}playPosition(ee){if(!(!this._currentSong||!this._sequence)&&howlerExports.Howler._audioUnlocked)for(const te of this._sequence){const se=te[ee];if(!se||se.sampleId===-1||se.sampleId===0)continue;const ne=this._cache.get(se.sampleId);ne&&(se.offset===0?ne.play():ne.playing()||(ne.seek(se.offset),ne.play()))}}}const PP=class PP{constructor(){this._priorityPlaying=-1,this._requestNumberPlaying=-1,this._previousNotificationTime=-1,this._timerInstance=-1,this._songRequestList=[],this._requestedSongs=new Map,this._availableSongs=new Map,this._songDiskInventory=new AdvancedMap,this._songRequestsPerPriority=[],this._songRequestCountsPerPriority=[],this._diskInventoryMissingData=[],this._songIdPlaying=-1,this._previousNotifiedSongId=-1,this._messageEvents=[new TraxSongInfoMessageEvent(this.onTraxSongInfoMessageEvent.bind(this)),new UserSongDisksInventoryMessageEvent(this.onSongDiskInventoryMessage.bind(this))],this.onJukeboxInit=this.onJukeboxInit.bind(this),this.onJukeboxDispose=this.onJukeboxDispose.bind(this),this.onSoundMachineInit=this.onSoundMachineInit.bind(this),this.onSoundMachineDispose=this.onSoundMachineDispose.bind(this),this.onTraxSongComplete=this.onTraxSongComplete.bind(this)}init(){this._timerInstance=window.setInterval(this.onTick.bind(this),1e3),this._musicPlayer=new MusicPlayer(Nitro.instance.getConfiguration("external.samples.url")),this._messageEvents.forEach(ee=>Nitro.instance.communication.connection.addMessageEvent(ee)),Nitro.instance.roomEngine.events.addEventListener(RoomObjectSoundMachineEvent.JUKEBOX_INIT,this.onJukeboxInit),Nitro.instance.roomEngine.events.addEventListener(RoomObjectSoundMachineEvent.JUKEBOX_DISPOSE,this.onJukeboxDispose),Nitro.instance.roomEngine.events.addEventListener(RoomObjectSoundMachineEvent.SOUND_MACHINE_INIT,this.onSoundMachineInit),Nitro.instance.roomEngine.events.addEventListener(RoomObjectSoundMachineEvent.SOUND_MACHINE_DISPOSE,this.onSoundMachineDispose),Nitro.instance.soundManager.events.addEventListener(SoundManagerEvent.TRAX_SONG_COMPLETE,this.onTraxSongComplete)}getRoomItemPlaylist(ee){return this._roomItemPlaylist}get songDiskInventory(){return this._songDiskInventory}getSongDiskInventorySize(){return this._songDiskInventory.length}getSongDiskInventoryDiskId(ee){return ee>=0&&ee<this._songDiskInventory.length?this._songDiskInventory.getKey(ee):-1}getSongDiskInventorySongId(ee){return ee>=0&&ee<this._songDiskInventory.length?this._songDiskInventory.getWithIndex(ee):-1}getSongInfo(ee){const te=this.getSongDataEntry(ee);return te||this.requestSongInfoWithoutSamples(ee),te}getSongIdPlayingAtPriority(ee){return ee!==this._priorityPlaying?-1:this._songIdPlaying}stop(ee){const te=ee===this._priorityPlaying,se=this.getTopRequestPriority()===ee;te?(this.resetSongStartRequest(ee),this.stopSongAtPriority(ee)):(this.resetSongStartRequest(ee),se&&this.reRequestSongAtPriority(this._priorityPlaying))}addSongInfoRequest(ee){this.requestSong(ee,!0)}requestSongInfoWithoutSamples(ee){this.requestSong(ee,!1)}requestUserSongDisks(){Nitro.instance.communication.connection.send(new GetUserSongDisksMessageComposer)}updateVolume(ee){this._musicPlayer.setVolume(ee)}dispose(){this._timerInstance&&(clearInterval(this._timerInstance),this._timerInstance=void 0),this._messageEvents.forEach(ee=>Nitro.instance.communication.connection.removeMessageEvent(ee)),Nitro.instance.roomEngine.events.removeEventListener(RoomObjectSoundMachineEvent.JUKEBOX_INIT,this.onJukeboxInit),Nitro.instance.roomEngine.events.removeEventListener(RoomObjectSoundMachineEvent.JUKEBOX_DISPOSE,this.onJukeboxDispose),Nitro.instance.roomEngine.events.removeEventListener(RoomObjectSoundMachineEvent.SOUND_MACHINE_INIT,this.onSoundMachineInit),Nitro.instance.roomEngine.events.removeEventListener(RoomObjectSoundMachineEvent.SOUND_MACHINE_DISPOSE,this.onSoundMachineDispose),Nitro.instance.soundManager.events.removeEventListener(SoundManagerEvent.TRAX_SONG_COMPLETE,this.onTraxSongComplete)}get samplesIdsInUse(){let ee,te,se=[];for(let ne=0;ne<this._songRequestsPerPriority.length;ne++)if(this._songRequestsPerPriority[ne]&&(ee=this._songRequestsPerPriority[ne],te=this._availableSongs.get(ee.songId),te)){const le=te.songData;if(le.length>0){const ue=new TraxData(le);se=se.concat(ue.getSampleIds())}}return se}onSongLoaded(ee){const te=this.getTopRequestPriority();if(te>=0){const se=this.getSongIdRequestedAtPriority(te);ee===se&&this.playSongObject(te,ee)}}samplesUnloaded(ee){throw new Error("Method not implemented.")}onTraxSongComplete(ee){if(this.getSongIdPlayingAtPriority(this._priorityPlaying)===ee.id){this.getTopRequestPriority()===this._priorityPlaying&&this.getSongRequestCountAtPriority(this._priorityPlaying)==this._requestNumberPlaying&&this.resetSongStartRequest(this._priorityPlaying);const te=this._priorityPlaying;this.playSongWithHighestPriority(),te>=MusicPriorities.PRIORITY_SONG_PLAY&&Nitro.instance.soundManager.events.dispatchEvent(new NowPlayingEvent(NowPlayingEvent.NPW_USER_STOP_SONG,te,ee.id,-1))}}onTraxSongInfoMessageEvent(ee){const te=ee.getParser();for(const se of te.songs){const ne=!!this.getSongDataEntry(se.id);if(this.areSamplesRequested(se.id),!ne){const le=new SongDataEntry(se.id,se.length,se.name,se.creator,se.data);this._availableSongs.set(se.id,le);const ue=this.getTopRequestPriority(),ce=this.getSongIdRequestedAtPriority(ue);for(se.id===ce&&this.playSongObject(ue,ce),Nitro.instance.soundManager.events.dispatchEvent(new SongInfoReceivedEvent(SongInfoReceivedEvent.SIR_TRAX_SONG_INFO_RECEIVED,se.id));this._diskInventoryMissingData.indexOf(se.id)!=-1;)this._diskInventoryMissingData.splice(this._diskInventoryMissingData.indexOf(se.id),1),this._diskInventoryMissingData.length===0&&Nitro.instance.soundManager.events.dispatchEvent(new SongDiskInventoryReceivedEvent(SongDiskInventoryReceivedEvent.SDIR_SONG_DISK_INVENTORY_RECEIVENT_EVENT))}}}onSongDiskInventoryMessage(ee){const te=ee.getParser();this._songDiskInventory.reset();for(let se=0;se<te.songDiskCount;se++){const ne=te.getDiskId(se),le=te.getSongId(se);this._songDiskInventory.add(ne,le),this._availableSongs.get(le)||(this._diskInventoryMissingData.push(le),this.requestSongInfoWithoutSamples(le))}this._diskInventoryMissingData.length===0&&Nitro.instance.soundManager.events.dispatchEvent(new SongDiskInventoryReceivedEvent(SongDiskInventoryReceivedEvent.SDIR_SONG_DISK_INVENTORY_RECEIVENT_EVENT))}onTick(){this._songRequestList.length!==0&&(Nitro.instance.communication.connection.send(new GetSongInfoMessageComposer(...this._songRequestList)),this._songRequestList=[])}requestSong(ee,te){this._requestedSongs.get(ee)===void 0&&(this._requestedSongs.set(ee,te),this._songRequestList.push(ee))}areSamplesRequested(ee){return this._requestedSongs.get(ee)?this._requestedSongs.get(ee):!1}processSongEntryForPlaying(ee,te=!0){return this.getSongDataEntry(ee)?!0:(this.addSongInfoRequest(ee),!1)}playSong(ee,te,se=0,ne=0,le=.5,ue=.5){return!this.addSongStartRequest(te,ee,se,ne,le,ue)||!this.processSongEntryForPlaying(ee)?!1:(te>=this._priorityPlaying&&this.playSongObject(te,ee),!0)}playSongObject(ee,te){if(te===-1||ee<0||ee>=MusicPriorities.PRIORITY_COUNT)return!1;let se=!1;this.stopSongAtPriority(this._priorityPlaying)&&(se=!0);const ne=this.getSongDataEntry(te);if(!ne)return!1;if(se)return!0;this._musicPlayer.setVolume(Nitro.instance.soundManager.traxVolume);let le=PP.SKIP_POSITION_SET,ue=0;const ce=this.getSongStartRequest(ee);return ce&&(le=ce.startPos,ue=ce.playLength,ce.fadeInSeconds,ce.fadeOutSeconds),le>=ne.length/1e3?!1:(le<=PP.SKIP_POSITION_SET&&(le=0),le=Math.trunc(le),this._priorityPlaying=ee,this._requestNumberPlaying=this.getSongRequestCountAtPriority(ee),this._songIdPlaying=te,this._priorityPlaying<=PP.MAXIMUM_NOTIFY_PRIORITY&&this.notifySongPlaying(ne),this._musicPlayer.preloadSamplesForSong(ne.songData).then(()=>this._musicPlayer.play(ne.songData,ne.id,le,ue)),ee>MusicPriorities.PRIORITY_ROOM_PLAYLIST&&Nitro.instance.soundManager.events.dispatchEvent(new NowPlayingEvent(NowPlayingEvent.NPE_USER_PLAY_SONG,ee,ne.id,-1)),!0)}notifySongPlaying(ee){const se=Date.now();ee.length>=8e3&&(this._previousNotifiedSongId!=ee.id||se>this._previousNotificationTime+8e3)&&(Nitro.instance.soundManager.events.dispatchEvent(new NotifyPlayedSongEvent(ee.name,ee.creator)),this._previousNotifiedSongId=ee.id,this._previousNotificationTime=se)}addSongStartRequest(ee,te,se,ne,le,ue){if(ee<0||ee>=MusicPriorities.PRIORITY_COUNT)return!1;const ce=new SongStartRequestData(te,se,ne,le,ue);return this._songRequestsPerPriority[ee]=ce,this._songRequestCountsPerPriority[ee]=this._songRequestCountsPerPriority[ee]+1,!0}getSongDataEntry(ee){let te;return this._availableSongs&&(te=this._availableSongs.get(ee)),te}getSongStartRequest(ee){return this._songRequestsPerPriority[ee]}getTopRequestPriority(){return this._songRequestsPerPriority.length-1}getSongIdRequestedAtPriority(ee){return ee<0||ee>=MusicPriorities.PRIORITY_COUNT||!this._songRequestsPerPriority[ee]?-1:this._songRequestsPerPriority[ee].songId}getSongRequestCountAtPriority(ee){return ee<0||ee>=MusicPriorities.PRIORITY_COUNT?-1:this._songRequestCountsPerPriority[ee]}playSongWithHighestPriority(){let ee;this._priorityPlaying=-1,this._songIdPlaying=-1,this._requestNumberPlaying=-1;let se=this.getTopRequestPriority();for(;se>=0;){if(ee=this.getSongIdRequestedAtPriority(se),ee>=0&&this.playSongObject(se,ee))return;se--}}resetSongStartRequest(ee){ee>=0&&ee<MusicPriorities.PRIORITY_COUNT&&(this._songRequestsPerPriority[ee]=void 0)}reRequestSongAtPriority(ee){this._songRequestCountsPerPriority[ee]=this._songRequestCountsPerPriority[ee]+1}stopSongAtPriority(ee){if(ee===this._priorityPlaying&&this._priorityPlaying>=0){const te=this.getSongIdPlayingAtPriority(ee);if(te>=0)return this.getSongDataEntry(te),this._musicPlayer.stop(),!0}return!1}onSoundMachineInit(ee){this.disposeRoomPlaylist()}onSoundMachineDispose(ee){this.disposeRoomPlaylist()}onJukeboxInit(ee){this.disposeRoomPlaylist(),this._roomItemPlaylist=new JukeboxPlaylistController,this._roomItemPlaylist.init(),Nitro.instance.communication.connection.send(new GetNowPlayingMessageComposer)}onJukeboxDispose(ee){this.disposeRoomPlaylist()}disposeRoomPlaylist(){this._roomItemPlaylist&&(this._roomItemPlaylist.dispose(),this._roomItemPlaylist=void 0)}};PP.SKIP_POSITION_SET=-1,PP.MAXIMUM_NOTIFY_PRIORITY=MusicPriorities.PRIORITY_ROOM_PLAYLIST;let MusicController=PP;class SoundManager extends NitroManager{constructor(){super(),this._volumeSystem=.5,this._volumeFurni=.5,this._volumeTrax=.5,this._internalSamples=new AdvancedMap,this._furniSamples=new AdvancedMap,this._furnitureBeingPlayed=new AdvancedMap,this._musicController=new MusicController,this.onEvent=this.onEvent.bind(this)}onInit(){this._musicController.init(),Nitro.instance.roomEngine.events.addEventListener(RoomEngineSamplePlaybackEvent.PLAY_SAMPLE,this.onEvent),Nitro.instance.roomEngine.events.addEventListener(RoomEngineObjectEvent.REMOVED,this.onEvent),Nitro.instance.roomEngine.events.addEventListener(RoomEngineEvent.DISPOSED,this.onEvent),Nitro.instance.events.addEventListener(NitroSettingsEvent.SETTINGS_UPDATED,this.onEvent),Nitro.instance.events.addEventListener(NitroSoundEvent.PLAY_SOUND,this.onEvent)}onDispose(){this._musicController&&(this._musicController.dispose(),this._musicController=null),Nitro.instance.roomEngine.events.removeEventListener(RoomEngineSamplePlaybackEvent.PLAY_SAMPLE,this.onEvent),Nitro.instance.roomEngine.events.removeEventListener(RoomEngineObjectEvent.REMOVED,this.onEvent),Nitro.instance.roomEngine.events.removeEventListener(RoomEngineEvent.DISPOSED,this.onEvent),Nitro.instance.events.removeEventListener(NitroSettingsEvent.SETTINGS_UPDATED,this.onEvent),Nitro.instance.events.removeEventListener(NitroSoundEvent.PLAY_SOUND,this.onEvent)}onEvent(ee){var te;switch(ee.type){case RoomEngineSamplePlaybackEvent.PLAY_SAMPLE:{const se=ee;this.playFurniSample(se.objectId,se.sampleId,se.pitch);return}case RoomEngineObjectEvent.REMOVED:{const se=ee;this.stopFurniSample(se.objectId);return}case RoomEngineEvent.DISPOSED:{this._furnitureBeingPlayed.getKeys().forEach(se=>{this.stopFurniSample(se)});return}case NitroSettingsEvent.SETTINGS_UPDATED:{const se=ee,ne=se.volumeFurni!==this._volumeFurni,le=se.volumeTrax!==this._volumeTrax;this._volumeSystem=se.volumeSystem/100,this._volumeFurni=se.volumeFurni/100,this._volumeTrax=se.volumeTrax/100,ne&&this.updateFurniSamplesVolume(this._volumeFurni),le&&((te=this._musicController)==null||te.updateVolume(this._volumeTrax));return}case NitroSoundEvent.PLAY_SOUND:{const se=ee;this.playInternalSample(se.sampleCode);return}}}playSample(ee,te,se=1){ee.volume=te,ee.currentTime=0;try{ee.play()}catch(ne){NitroLogger.error(ne)}}playInternalSample(ee){let te=this._internalSamples.getValue(ee);if(!te){const se=NitroConfiguration.getValue("sounds.url");te=new Audio(se.replace("%sample%",ee)),this._internalSamples.add(ee,te)}this.playSample(te,this._volumeSystem)}playFurniSample(ee,te,se){let ne=this._furniSamples.getValue(te);if(!ne){const le=NitroConfiguration.getValue("external.samples.url");ne=new Audio(le.replace("%sample%",te.toString())),this._furniSamples.add(te,ne)}this._furnitureBeingPlayed.hasKey(ee)||this._furnitureBeingPlayed.add(ee,te),ne.onended=le=>{this.stopFurniSample(ee)},ne.onpause=le=>{this.stopFurniSample(ee)},ne.onerror=le=>{this.stopFurniSample(ee)},this.playSample(ne,this._volumeFurni,se)}stopInternalSample(ee){const te=this._internalSamples.getValue(ee);if(te)try{te.pause()}catch(se){NitroLogger.error(se)}}stopFurniSample(ee){const te=this._furnitureBeingPlayed.getValue(ee);if(!te)return;const se=this._furniSamples.getValue(te);if(this._furnitureBeingPlayed.remove(ee),!!se)try{se.pause()}catch(ne){NitroLogger.error(ne)}}updateInternalSamplesVolume(ee){this._internalSamples.getValues().forEach(te=>{te.volume=ee})}updateFurniSamplesVolume(ee){this._furniSamples.getValues().forEach(te=>{te.volume=ee})}get traxVolume(){return this._volumeTrax}get musicController(){return this._musicController}}LegacyExternalInterface.available,settings$1.SCALE_MODE=window.devicePixelRatio%1?SCALE_MODES.LINEAR:SCALE_MODES.NEAREST,settings$1.ROUND_PIXELS=!0,settings$1.GC_MAX_IDLE=120;const nO=class nO{constructor(ee,te){nO.INSTANCE||(nO.INSTANCE=this),this._application=new PixiApplicationProxy(te),this._core=ee,this._events=new EventDispatcher,this._communication=new NitroCommunicationManager(ee.communication),this._localization=new NitroLocalizationManager(this._communication),this._avatar=new AvatarRenderManager,this._roomEngine=new RoomEngine(this._communication),this._sessionDataManager=new SessionDataManager(this._communication),this._roomSessionManager=new RoomSessionManager(this._communication,this._roomEngine),this._roomManager=new RoomManager(this._roomEngine,this._roomEngine.visualizationFactory,this._roomEngine.logicFactory),this._cameraManager=new RoomCameraWidgetManager,this._soundManager=new SoundManager,this._linkTrackers=[],this._isReady=!1,this._isDisposed=!1,this._core.configuration.events.addEventListener(ConfigurationEvent.LOADED,this.onConfigurationLoadedEvent.bind(this)),this._roomEngine.events.addEventListener(RoomEngineEvent.ENGINE_INITIALIZED,this.onRoomEngineReady.bind(this))}static bootstrap(){nO.INSTANCE&&(nO.INSTANCE.dispose(),nO.INSTANCE=null);const ee=document.createElement("canvas"),te=new this(new NitroCore,{autoDensity:!1,width:window.innerWidth,height:window.innerHeight,resolution:window.devicePixelRatio,view:ee});ee.addEventListener("webglcontextlost",()=>te.events.dispatchEvent(new NitroEvent(nO.WEBGL_CONTEXT_LOST)))}init(){if(!(this._isReady||this._isDisposed)){if(this._avatar&&this._avatar.init(),this._soundManager&&this._soundManager.init(),this._roomEngine&&(this._roomEngine.sessionDataManager=this._sessionDataManager,this._roomEngine.roomSessionManager=this._roomSessionManager,this._roomEngine.roomManager=this._roomManager,this._sessionDataManager&&this._sessionDataManager.init(),this._roomSessionManager&&this._roomSessionManager.init(),this._roomEngine.init()),!this._communication.connection)throw new Error("No connection found");new GameMessageHandler(this._communication.connection),this._isReady=!0}}dispose(){this._isDisposed||(this._roomManager&&(this._roomManager.dispose(),this._roomManager=null),this._roomSessionManager&&(this._roomSessionManager.dispose(),this._roomSessionManager=null),this._sessionDataManager&&(this._sessionDataManager.dispose(),this._sessionDataManager=null),this._roomEngine&&(this._roomEngine.dispose(),this._roomEngine=null),this._avatar&&(this._avatar.dispose(),this._avatar=null),this._soundManager&&(this._soundManager.dispose(),this._soundManager=null),this._communication&&(this._communication.dispose(),this._communication=null),this._application&&(this._application.destroy(),this._application=null),this._isDisposed=!0,this._isReady=!1)}onConfigurationLoadedEvent(ee){GetTicker().maxFPS=NitroConfiguration.getValue("system.fps.max",24),NitroLogger.LOG_DEBUG=NitroConfiguration.getValue("system.log.debug",!0),NitroLogger.LOG_WARN=NitroConfiguration.getValue("system.log.warn",!1),NitroLogger.LOG_ERROR=NitroConfiguration.getValue("system.log.error",!1),NitroLogger.LOG_EVENTS=NitroConfiguration.getValue("system.log.events",!1),NitroLogger.LOG_PACKETS=NitroConfiguration.getValue("system.log.packets",!1),LandscapeRasterizer.LANDSCAPES_ENABLED=NitroConfiguration.getValue("room.landscapes.enabled",!0)}onRoomEngineReady(ee){this.startSendingHeartBeat()}getConfiguration(ee,te=null){return NitroConfiguration.getValue(ee,te)}getLocalization(ee){return this._localization.getValue(ee)}getLocalizationWithParameter(ee,te,se){return this._localization.getValueWithParameter(ee,te,se)}getLocalizationWithParameters(ee,te,se){return this._localization.getValueWithParameters(ee,te,se)}addLinkEventTracker(ee){this._linkTrackers.indexOf(ee)>=0||this._linkTrackers.push(ee)}removeLinkEventTracker(ee){const te=this._linkTrackers.indexOf(ee);te!==-1&&this._linkTrackers.splice(te,1)}createLinkEvent(ee){if(!(!ee||ee===""))for(const te of this._linkTrackers){if(!te)continue;const se=te.eventUrlPrefix;se.length>0?ee.substr(0,se.length)===se&&te.linkReceived(ee):te.linkReceived(ee)}}startSendingHeartBeat(){this.sendHeartBeat(),setInterval(this.sendHeartBeat,1e4)}sendHeartBeat(){HabboWebTools.sendHeartBeat()}get application(){return this._application}get core(){return this._core}get events(){return this._events}get localization(){return this._localization}get communication(){return this._communication}get avatar(){return this._avatar}get roomEngine(){return this._roomEngine}get sessionDataManager(){return this._sessionDataManager}get roomSessionManager(){return this._roomSessionManager}get roomManager(){return this._roomManager}get cameraManager(){return this._cameraManager}get soundManager(){return this._soundManager}get width(){return this._application.renderer.width}get height(){return this._application.renderer.height}get isReady(){return this._isReady}get isDisposed(){return this._isDisposed}static get instance(){return this.INSTANCE||null}};nO.WEBGL_CONTEXT_LOST="NE_WEBGL_CONTEXT_LOST",nO.WEBGL_UNAVAILABLE="NE_WEBGL_UNAVAILABLE",nO.READY="NE_READY!",nO.INSTANCE=null;let Nitro=nO;const xR=class xR{static format(ee,te="",se=3){return ee>se*xR.YEAR?xR.getLocalization("friendlytime.years"+te,Math.round(ee/xR.YEAR)):ee>se*xR.MONTH?xR.getLocalization("friendlytime.months"+te,Math.round(ee/xR.MONTH)):ee>se*xR.DAY?xR.getLocalization("friendlytime.days"+te,Math.round(ee/xR.DAY)):ee>se*xR.HOUR?xR.getLocalization("friendlytime.hours"+te,Math.round(ee/xR.HOUR)):ee>se*xR.MINUTE?xR.getLocalization("friendlytime.minutes"+te,Math.round(ee/xR.MINUTE)):xR.getLocalization("friendlytime.seconds"+te,Math.round(ee))}static shortFormat(ee,te="",se=3){return ee>se*xR.YEAR?xR.getLocalization("friendlytime.years.short"+te,Math.round(ee/xR.YEAR)):ee>se*xR.MONTH?xR.getLocalization("friendlytime.months.short"+te,Math.round(ee/xR.MONTH)):ee>se*xR.DAY?xR.getLocalization("friendlytime.days.short"+te,Math.round(ee/xR.DAY)):ee>se*xR.HOUR?xR.getLocalization("friendlytime.hours.short"+te,Math.round(ee/xR.HOUR)):ee>se*xR.MINUTE?xR.getLocalization("friendlytime.minutes.short"+te,Math.round(ee/xR.MINUTE)):xR.getLocalization("friendlytime.seconds.short"+te,Math.round(ee))}static getLocalization(ee,te){return Nitro.instance.getLocalizationWithParameter(ee,"amount",te.toString())}};xR.MINUTE=60,xR.HOUR=60*xR.MINUTE,xR.DAY=24*xR.HOUR,xR.WEEK=7*xR.DAY,xR.MONTH=30*xR.DAY,xR.YEAR=365*xR.DAY;let FriendlyTime=xR;const fU=class fU{static isBuilderClubId(ee){return ee>=fU.BUILDER_CLUB_FURNI_ID_BASE}};fU.BUILDER_CLUB_FURNI_ID_BASE=2147418112;let FurniId=fU;const toUint32=ie=>ie>>>0,ToInt32=ie=>{const ee=toUint32(ie);return ee>=Math.pow(2,31)?ee-Math.pow(2,32):ee};class AvatarSet{constructor(ee){if(this._id=ee.id,this._isMain=ee.main||!1,this._avatarSets=new Map,this._bodyParts=[],this._allBodyParts=[],ee.avatarSets&&ee.avatarSets.length>0)for(const se of ee.avatarSets){if(!se)continue;const ne=new AvatarSet(se);this._avatarSets.set(ne.id,ne)}if(ee.bodyParts&&ee.bodyParts.length>0)for(const se of ee.bodyParts)se&&this._bodyParts.push(se.id);let te=this._bodyParts.concat();for(const se of this._avatarSets.values())se&&(te=te.concat(se.getBodyParts()));this._allBodyParts=te}findAvatarSet(ee){if(ee===this._id)return this;for(const te of this._avatarSets.values())if(te&&te.findAvatarSet(ee))return te;return null}getBodyParts(){return this._allBodyParts.concat()}get id(){return this._id}get isMain(){if(this._isMain)return!0;for(const ee of this._avatarSets.values())if(ee&&ee.isMain)return!0;return!1}}class Vector3D{constructor(ee=0,te=0,se=0){this._x=ee,this._y=te,this._z=se}static dot(ee,te){return ee.x*te.x+ee.y*te.y+ee.z*te.z}static cross(ee,te){const se=new Vector3D;return se.x=ee.y*te.z-ee.z*te.y,se.y=ee.z*te.x-ee.x*te.z,se.z=ee.x*te.y-ee.y*te.x,se}static subtract(ee,te){return new Vector3D(ee.x-te.x,ee.y-te.y,ee.z-te.z)}dot(ee){return this._x*ee.x+this._y*ee.y+this._z*ee.z}cross(ee){const te=new Vector3D;return te.x=this._y*ee.z-this._z*ee.y,te.y=this._z*ee.x-this._x*ee.z,te.z=this._x*ee.y-this._y*ee.x,te}subtract(ee){this._x=this._x-ee.x,this._y=this._y-ee.y,this._z=this._z-ee.z}add(ee){this._x=this._x+ee.x,this._y=this._y+ee.y,this._z=this._z+ee.z}normalize(){const ee=1/this.length();this._x=this._x*ee,this._y=this._y*ee,this._z=this._z*ee}scaleBy(ee){this._x*=ee,this._y*=ee,this._z*=ee}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z)}toString(){return"Vector3D: ("+this._x+","+this._y+","+this._z+")"}get x(){return this._x}set x(ee){this._x=ee}get y(){return this._y}set y(ee){this._y=ee}get z(){return this._z}set z(ee){this._z=ee}}class Node3D{constructor(ee,te,se){this._location=new Vector3D(ee,te,se),this._transformedLocation=new Vector3D,this._needsTransformation=!1,(ee!=0||te!=0||se!=0)&&(this._needsTransformation=!0)}get location(){return this._location}get transformedLocation(){return this._transformedLocation}applyTransform(ee){this._needsTransformation&&(this._transformedLocation=ee.vectorMultiplication(this._location))}}class GeometryItem extends Node3D{constructor(ee,te=!1){super(parseFloat(ee.x),parseFloat(ee.y),parseFloat(ee.z)),this._id=ee.id,this._radius=parseFloat(ee.radius),this._normal=new Vector3D(parseFloat(ee.nx),parseFloat(ee.ny),parseFloat(ee.nz)),this._isDoubleSided=ee.double||!1,this._isDynamic=te}getDistance(ee){const te=Math.abs(ee.z-this.transformedLocation.z-this._radius),se=Math.abs(ee.z-this.transformedLocation.z+this._radius);return Math.min(te,se)}get id(){return this._id}get normal(){return this._normal}get isDoubleSided(){return this._isDoubleSided}toString(){return this._id+": "+this.location+" - "+this.transformedLocation}get isDynamic(){return this._isDynamic}}class GeometryBodyPart extends Node3D{constructor(ee){if(super(parseFloat(ee.x),parseFloat(ee.y),parseFloat(ee.z)),this._id=ee.id,this._radius=parseFloat(ee.radius),this._parts=new Map,this._dynamicParts=new Map,ee.items&&ee.items.length>0)for(const te of ee.items){if(!te)continue;const se=new GeometryItem(te);this._parts.set(se.id,se)}}getDynamicParts(ee){const te=this._dynamicParts.get(ee),se=[];if(te)for(const ne in te){const le=te[ne];le&&se.push(le)}return se}getPartIds(ee){const te=[];for(const se of this._parts.values())se&&te.push(se.id);if(ee){const se=this._dynamicParts.get(ee);if(se)for(const ne in se){const le=se[ne];le&&te.push(le.id)}}return te}removeDynamicParts(ee){return this._dynamicParts.delete(ee),!0}addPart(ee,te){if(this.hasPart(ee.id,te))return!1;let se=this._dynamicParts.get(te);return se||(se={},this._dynamicParts.set(te,se)),se[ee.id]=new GeometryItem(ee,!0),!0}hasPart(ee,te){let se=this._parts.get(ee)||null;return!se&&this._dynamicParts.get(te)!==void 0&&(se=this._dynamicParts.get(te)[ee]||null),se!==null}getParts(ee,te,se,ne){const le=[];for(const he of this._parts.values())he&&(he.applyTransform(ee),le.push([he.getDistance(te),he]));const ue=this._dynamicParts.get(ne);if(ue)for(const he in ue){const de=ue[he];de&&(de.applyTransform(ee),le.push([de.getDistance(te),de]))}le.sort((he,de)=>{const _e=he[0],fe=de[0];return _e<fe?-1:_e>fe?1:0});const ce=[];for(const he of le)he&&ce.push(he[1].id);return ce}getDistance(ee){const te=Math.abs(ee.z-this.transformedLocation.z-this._radius),se=Math.abs(ee.z-this.transformedLocation.z+this._radius);return Math.min(te,se)}get id(){return this._id}get radius(){return this._radius}}const $I=class $I{constructor(ee=0,te=0,se=0,ne=0,le=0,ue=0,ce=0,he=0,de=0){this._data=[ee,te,se,ne,le,ue,ce,he,de]}static getXRotationMatrix(ee){const te=ee*Math.PI/180,se=Math.cos(te),ne=Math.sin(te);return new $I(1,0,0,0,se,-ne,0,ne,se)}static getYRotationMatrix(ee){const te=ee*Math.PI/180,se=Math.cos(te),ne=Math.sin(te);return new $I(se,0,ne,0,1,0,-ne,0,se)}static getZRotationMatrix(ee){const te=ee*Math.PI/180,se=Math.cos(te),ne=Math.sin(te);return new $I(se,-ne,0,ne,se,0,0,0,1)}identity(){return this._data=[1,0,0,0,1,0,0,0,1],this}vectorMultiplication(ee){const te=ee.x*this._data[0]+ee.y*this._data[3]+ee.z*this._data[6],se=ee.x*this._data[1]+ee.y*this._data[4]+ee.z*this._data[7],ne=ee.x*this._data[2]+ee.y*this._data[5]+ee.z*this._data[8];return new Vector3D(te,se,ne)}multiply(ee){const te=this._data[0]*ee.data[0]+this._data[1]*ee.data[3]+this._data[2]*ee.data[6],se=this._data[0]*ee.data[1]+this._data[1]*ee.data[4]+this._data[2]*ee.data[7],ne=this._data[0]*ee.data[2]+this._data[1]*ee.data[5]+this._data[2]*ee.data[8],le=this._data[3]*ee.data[0]+this._data[4]*ee.data[3]+this._data[5]*ee.data[6],ue=this._data[3]*ee.data[1]+this._data[4]*ee.data[4]+this._data[5]*ee.data[7],ce=this._data[3]*ee.data[2]+this._data[4]*ee.data[5]+this._data[5]*ee.data[8],he=this._data[6]*ee.data[0]+this._data[7]*ee.data[3]+this._data[8]*ee.data[6],de=this._data[6]*ee.data[1]+this._data[7]*ee.data[4]+this._data[8]*ee.data[7],_e=this._data[6]*ee.data[2]+this._data[7]*ee.data[5]+this._data[8]*ee.data[8];return new $I(te,se,ne,le,ue,ce,he,de,_e)}scalarMultiply(ee){let te=0;for(;te<this._data.length;)this._data[te]=this._data[te]*ee,te++}rotateX(ee){const te=ee*Math.PI/180,se=Math.cos(te),ne=Math.sin(te);return new $I(1,0,0,0,se,-ne,0,ne,se).multiply(this)}rotateY(ee){const te=ee*Math.PI/180,se=Math.cos(te),ne=Math.sin(te);return new $I(se,0,ne,0,1,0,-ne,0,se).multiply(this)}rotateZ(ee){const te=ee*Math.PI/180,se=Math.cos(te),ne=Math.sin(te);return new $I(se,-ne,0,ne,se,0,0,0,1).multiply(this)}skew(){}transpose(){return new $I(this._data[0],this._data[3],this._data[6],this._data[1],this._data[4],this._data[7],this._data[2],this._data[5],this._data[8])}equals(ee){return!1}get data(){return this._data}};$I.IDENTITY=new $I(1,0,0,0,1,0,0,0,1),$I.TOLERANS=1e-18;let Matrix4x4=$I;class AvatarModelGeometry{constructor(ee){this._camera=new Vector3D(0,0,10),this._avatarSet=new AvatarSet(ee.avatarSets[0]),this._geometryTypes=new Map,this._itemIdToBodyPartMap=new Map,this._transformation=new Matrix4x4,this._canvases=new Map;const te=ee.camera;if(te&&(this._camera.x=parseFloat(te.x),this._camera.y=parseFloat(te.y),this._camera.z=parseFloat(te.z)),ee.canvases&&ee.canvases.length>0)for(const se of ee.canvases){if(!se)continue;const ne=se.scale,le=new Map;if(se.geometries&&se.geometries.length>0)for(const ue of se.geometries){if(!ue)continue;const ce=new AvatarCanvas(ue,ne);le.set(ce.id,ce)}this._canvases.set(ne,le)}if(ee.types&&ee.types.length>0)for(const se of ee.types){if(!se)continue;const ne=new Map,le=new Map;if(se.bodyParts&&se.bodyParts.length>0)for(const ue of se.bodyParts){if(!ue)continue;const ce=new GeometryBodyPart(ue);ne.set(ce.id,ce);for(const he of ce.getPartIds(null))le.set(he,ce)}this._geometryTypes.set(se.id,ne),this._itemIdToBodyPartMap.set(se.id,le)}}removeDynamicItems(ee){for(const te of this._geometryTypes.values())if(te)for(const se of te.values())se&&se.removeDynamicParts(ee)}getBodyPartIdsInAvatarSet(ee){const te=this._avatarSet.findAvatarSet(ee);return te?te.getBodyParts():[]}isMainAvatarSet(ee){const te=this._avatarSet.findAvatarSet(ee);return te?te.isMain:!1}getCanvas(ee,te){const se=this._canvases.get(ee);return se&&se.get(te)||null}typeExists(ee){return!!this._geometryTypes.get(ee)}hasBodyPart(ee,te){if(this.typeExists(ee)){const se=this._geometryTypes.get(ee);if(se&&se.get(te))return!0}return!1}getBodyPartIDs(ee){const te=this.getBodyPartsOfType(ee),se=[];if(te)for(const ne of te.values())ne&&se.push(ne.id);return se}getBodyPartsOfType(ee){return this.typeExists(ee)?this._geometryTypes.get(ee):new Map}getBodyPart(ee,te){return this.getBodyPartsOfType(ee).get(te)||null}getBodyPartOfItem(ee,te,se){const ne=this._itemIdToBodyPartMap.get(ee);if(ne){const le=ne.get(te);if(le)return le;const ue=this.getBodyPartsOfType(ee);if(ue){for(const ce of ue.values())if(ce&&ce.hasPart(te,se))return ce}}return null}getBodyPartsInAvatarSet(ee,te){const se=this.getBodyPartIdsInAvatarSet(te),ne=[];for(const le of se){if(!le)continue;const ue=ee.get(le);ue&&ne.push(ue)}return ne}getBodyPartsAtAngle(ee,te,se){if(!se)return[];const ne=this.getBodyPartsOfType(se),le=this.getBodyPartsInAvatarSet(ne,ee),ue=[],ce=[];this._transformation=Matrix4x4.getYRotationMatrix(te);for(const he of le.values())he&&(he.applyTransform(this._transformation),ue.push([he.getDistance(this._camera),he]));ue.sort((he,de)=>{const _e=he[0],fe=de[0];return _e<fe?-1:_e>fe?1:0});for(const he of ue)he&&ce.push(he[1].id);return ce}getParts(ee,te,se,ne,le){if(this.hasBodyPart(ee,te)){const ue=this.getBodyPartsOfType(ee).get(te);return this._transformation=Matrix4x4.getYRotationMatrix(se),ue.getParts(this._transformation,this._camera,ne,le)}return[]}}class AvatarStructure extends EventDispatcher{constructor(ee){super(),this._renderManager=ee,this._geometry=null,this._figureData=new FigureSetData,this._partSetsData=new PartSetsData,this._animationData=new AvatarAnimationData,this._animationManager=new AnimationManager,this._mandatorySetTypeIds={},this._actionManager=null,this._defaultAction=null}init(){}dispose(){this.disposed||(super.dispose(),this._renderManager=null,this._figureData=null,this._partSetsData=null,this._animationData=null,this._mandatorySetTypeIds=null)}initGeometry(ee){ee&&(this._geometry=new AvatarModelGeometry(ee))}initActions(ee,te){te&&(this._actionManager=new AvatarActionManager(ee,te),this._defaultAction=this._actionManager.getDefaultAction())}updateActions(ee){this._actionManager.updateActions(ee),this._defaultAction=this._actionManager.getDefaultAction()}initPartSets(ee){return ee&&this._partSetsData.parse(ee)?(this._partSetsData.getPartDefinition("ri").appendToFigure=!0,this._partSetsData.getPartDefinition("li").appendToFigure=!0,!0):!1}initAnimation(ee){return ee?this._animationData.parse(ee):!1}initFigureData(ee){return ee?this._figureData.parse(ee):!1}injectFigureData(ee){this._figureData.injectJSON(ee)}registerAnimations(ee,te="fx",se=200){let ne=0;for(;ne<se;){const le=ee.getCollection(te+ne);if(le){const ue=le.data;this._animationManager.registerAnimation(this,ue.animations)}ne++}}registerAnimation(ee){this._animationManager.registerAnimation(this,ee)}getPartColor(ee,te,se=0){const ne=ee.getPartColorIds(te);if(!ne||ne.length<se)return null;const le=this._figureData.getSetType(te);if(le==null)return null;const ue=this._figureData.getPalette(le.paletteID);return ue?ue.getColor(ne[se]):null}getBodyPartData(ee,te,se){return this._animationManager.getLayerData(ee,te,se)}getAnimation(ee){return this._animationManager.getAnimation(ee)}getActionDefinition(ee){return this._actionManager.getActionDefinition(ee)}getActionDefinitionWithState(ee){return this._actionManager.getActionDefinitionWithState(ee)}isMainAvatarSet(ee){return this._geometry.isMainAvatarSet(ee)}sortActions(ee){return this._actionManager.sortActions(ee)}maxFrames(ee){let te=0;for(const se of ee)te=Math.max(te,this._animationData.getFrameCount(se.definition));return te}getMandatorySetTypeIds(ee,te){return this._mandatorySetTypeIds[ee]||(this._mandatorySetTypeIds[ee]=[]),this._mandatorySetTypeIds[ee][te]?this._mandatorySetTypeIds[ee][te]:(this._mandatorySetTypeIds[ee][te]=this._figureData.getMandatorySetTypeIds(ee,te),this._mandatorySetTypeIds[ee][te])}getDefaultPartSet(ee,te){return this._figureData.getDefaultPartSet(ee,te)}getCanvasOffsets(ee,te,se){return this._actionManager.getCanvasOffsets(ee,te,se)}getCanvas(ee,te){return this._geometry.getCanvas(ee,te)}removeDynamicItems(ee){this._geometry.removeDynamicItems(ee)}getActiveBodyPartIds(ee,te){let se=[];const ne=[],le=ee.definition.geometryType;if(ee.definition.isAnimation){const ue=ee.definition.state+"."+ee.actionParameter,ce=this._animationManager.getAnimation(ue);if(ce&&(se=ce.getAnimatedBodyPartIds(0,ee.overridingAction),ce.hasAddData())){const he={id:"",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:1},de={setType:""};for(const _e of ce.addData){const fe=this._geometry.getBodyPart(le,_e.align);if(fe){he.id=_e.id,fe.addPart(he,te),de.setType=_e.id;const ye=this._partSetsData.addPartDefinition(de);ye.appendToFigure=!0,_e.base===""&&(ye.staticId=1),ne.indexOf(fe.id)===-1&&ne.push(fe.id)}}}for(const he of se){const de=this._geometry.getBodyPart(le,he);de&&ne.indexOf(de.id)===-1&&ne.push(de.id)}}else{se=this._partSetsData.getActiveParts(ee.definition);for(const ue of se){const ce=this._geometry.getBodyPartOfItem(le,ue,te);ce&&ne.indexOf(ce.id)===-1&&ne.push(ce.id)}}return ne}getBodyPartsUnordered(ee){return this._geometry.getBodyPartIdsInAvatarSet(ee)}getBodyParts(ee,te,se){const ne=AvatarDirectionAngle.DIRECTION_TO_ANGLE[se];return this._geometry.getBodyPartsAtAngle(ee,ne,te)}getFrameBodyPartOffset(ee,te,se,ne){const le=this._animationData.getAction(ee.definition);return le?le.getFrameBodyPartOffset(te,se,ne):AnimationAction.DEFAULT_OFFSET}getParts(ee,te,se,ne,le,ue,ce,he=null){let de=null,_e=[],fe=null;if(!se==null)return[];const ye=this._partSetsData.getActiveParts(se.definition),be=[];let Pe=[0];const Ne=this._animationData.getAction(se.definition);if(se.definition.isAnimation){const Ge=se.definition.state+"."+se.actionParameter,Be=this._animationManager.getAnimation(Ge);if(Be){Pe=this.getPopulatedArray(Be.frameCount(se.overridingAction));for(const ze of Be.getAnimatedBodyPartIds(0,se.overridingAction))if(ze===ee){const $t=this._geometry.getBodyPart(ne,ze);if($t)for(const ut of $t.getDynamicParts(ce))ye.push(ut.id)}}}const we=this._geometry.getParts(ne,ee,le,ye,ce),De=te.getPartTypeIds();for(const Ge of De){if(he&&he.get(Ge))continue;const Be=te.getPartSetId(Ge),ze=te.getPartColorIds(Ge),$t=this._figureData.getSetType(Ge);if($t){const ut=this._figureData.getPalette($t.paletteID);if(ut){const Ti=$t.getPartSet(Be);if(Ti){ue=ue.concat(Ti.hiddenLayers);for(const Hi of Ti.parts)if(we.indexOf(Hi.type)>-1){if(Ne){const aE=Ne.getPart(Hi.type);aE?_e=aE.frames:_e=Pe}else _e=Pe;de=se.definition,ye.indexOf(Hi.type)===-1&&(de=this._defaultAction);const bn=this._partSetsData.getPartDefinition(Hi.type);let gd=bn?bn.flippedSetType:Hi.type;(!gd||gd==="")&&(gd=Hi.type),ze&&ze.length>Hi.colorLayerIndex-1&&(fe=ut.getColor(ze[Hi.colorLayerIndex-1]));const Pm=Hi.colorLayerIndex>0,oE=new AvatarImagePartContainer(ee,Hi.type,Hi.id.toString(),fe,_e,de,Pm,Hi.paletteMap,gd);be.push(oE)}}}}}const $e=[];for(const Ge of we){let Be=null,ze=!1;const $t=he&&he.get(Ge);for(const ut of be)ut.partType===Ge&&($t?Be=ut.color:(ze=!0,ue.indexOf(Ge)===-1&&$e.push(ut)));if(!ze){if($t){const ut=he.get(Ge);let Ti=0,Hi=0;for(;Hi<ut.length;)Ti=Ti+ut.charCodeAt(Hi),Hi++;if(Ne){const gd=Ne.getPart(Ge);gd?_e=gd.frames:_e=Pe}else _e=Pe;const bn=new AvatarImagePartContainer(ee,Ge,ut,Be,_e,se.definition,Be!=null,-1,Ge,!1,1);$e.push(bn)}else if(ye.indexOf(Ge)>-1){const ut=this._geometry.getBodyPartOfItem(ne,Ge,ce);if(ee===ut.id){const Ti=this._partSetsData.getPartDefinition(Ge);let Hi=!1,bn=1;if(Ti.appendToFigure){let gd="1";if(se.actionParameter!==""&&(gd=se.actionParameter),Ti.hasStaticId()&&(gd=Ti.staticId.toString()),Ne){const oE=Ne.getPart(Ge);oE?_e=oE.frames:_e=Pe}else _e=Pe;const Pm=new AvatarImagePartContainer(ee,Ge,gd,null,_e,se.definition,!1,-1,Ge,Hi,bn);$e.push(Pm)}}}}}return $e}getPopulatedArray(ee){const te=[];let se=0;for(;se<ee;)te.push(se),se++;return te}getItemIds(){if(this._actionManager){const ee=this._actionManager.getActionDefinition("CarryItem").params,te=[];for(const se of ee.values())te.push(se);return te}return[]}get renderManager(){return this._renderManager}get figureData(){return this._figureData}get partData(){return this._partSetsData}get animationManager(){return this._animationManager}}const HabboAvatarAnimations={animations:[{id:"Move",parts:[{setType:"bd",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"bds",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"ss",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"lg",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"sh",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"lh",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"lhs",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"ls",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"lc",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"rh",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"rhs",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"rs",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"rc",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]},{setType:"ch",frames:[{number:0,assetPartDefinition:"wlk"},{number:1,assetPartDefinition:"wlk"},{number:2,assetPartDefinition:"wlk"},{number:3,assetPartDefinition:"wlk"}]}]},{id:"Wave",parts:[{setType:"lh",frames:[{number:0,assetPartDefinition:"wav"},{number:1,assetPartDefinition:"wav"}]},{setType:"lhs",frames:[{number:0,assetPartDefinition:"wav"},{number:1,assetPartDefinition:"wav"}]},{setType:"ls",frames:[{number:0,assetPartDefinition:"wav"},{number:1,assetPartDefinition:"wav"}]},{setType:"lc",frames:[{number:0,assetPartDefinition:"wav"},{number:1,assetPartDefinition:"wav"}]},{setType:"ch",frames:[{number:0,assetPartDefinition:"wav"},{number:1,assetPartDefinition:"wav"},{number:2,assetPartDefinition:"wav"},{number:3,assetPartDefinition:"wav"}]}]},{id:"Talk",parts:[{setType:"hd",frames:[{number:0,assetPartDefinition:"spk"},{number:1,assetPartDefinition:"spk"}]},{setType:"fc",frames:[{number:0,assetPartDefinition:"spk"},{number:1,assetPartDefinition:"spk"}]},{setType:"fa",frames:[{number:0,assetPartDefinition:"spk"},{number:1,assetPartDefinition:"spk"}]}]},{id:"Sign",parts:[{setType:"lh",frames:[{number:0,assetPartDefinition:"sig"}]},{setType:"li",frames:[{number:0,assetPartDefinition:"sig"}]},{setType:"ls",frames:[{number:0,assetPartDefinition:"wav"}]},{setType:"lc",frames:[{number:0,assetPartDefinition:"wav"}]}]},{id:"Respect",parts:[{setType:"lh",frames:[{number:0,assetPartDefinition:"respect",repeats:15},{number:1,assetPartDefinition:"respect",repeats:15}]},{setType:"ls",frames:[{number:0,assetPartDefinition:"wav",repeats:15},{number:1,assetPartDefinition:"wav",repeats:15}]},{setType:"lc",frames:[{number:0,assetPartDefinition:"wav",repeats:15},{number:1,assetPartDefinition:"wav",repeats:15}]}]},{id:"Blow",parts:[{setType:"rh",frames:[{number:0,assetPartDefinition:"blw",repeats:10},{number:1,assetPartDefinition:"blw",repeats:10}]},{setType:"rs",frames:[{number:0,assetPartDefinition:"drk"}]},{setType:"rc",frames:[{number:0,assetPartDefinition:"drk"}]},{setType:"ri",frames:[{number:0,assetPartDefinition:""}]},{setType:"ey",frames:[{number:0,assetPartDefinition:"std",repeats:10},{number:0,assetPartDefinition:"eyb",repeats:10}]},{setType:"fc",frames:[{number:0,assetPartDefinition:"std",repeats:10},{number:0,assetPartDefinition:"blw",repeats:10}]}]},{id:"Laugh",parts:[{setType:"rh",frames:[{number:0,assetPartDefinition:"blw"}]},{setType:"rs",frames:[{number:0,assetPartDefinition:"drk"}]},{setType:"rc",frames:[{number:0,assetPartDefinition:"drk"}]},{setType:"ri",frames:[{number:0,assetPartDefinition:""}]},{setType:"ey",frames:[{number:0,assetPartDefinition:"std",repeats:2}]},{setType:"fc",frames:[{number:0,assetPartDefinition:"sml"}]}],offsets:{frames:[{id:0,directions:[{id:0,bodyParts:[{id:"head",dx:0,dy:1}]},{id:1,bodyParts:[{id:"head",dx:0,dy:1}]},{id:2,bodyParts:[{id:"head",dx:0,dy:1}]},{id:3,bodyParts:[{id:"head",dx:0,dy:1}]},{id:4,bodyParts:[{id:"head",dx:0,dy:1}]},{id:5,bodyParts:[{id:"head",dx:0,dy:1}]},{id:6,bodyParts:[{id:"head",dx:0,dy:1}]},{id:7,bodyParts:[{id:"head",dx:0,dy:1}]}]},{id:1,directions:[{id:0,bodyParts:[{id:"head",dx:0,dy:0}]},{id:1,bodyParts:[{id:"head",dx:0,dy:0}]},{id:2,bodyParts:[{id:"head",dx:0,dy:0}]},{id:3,bodyParts:[{id:"head",dx:0,dy:0}]},{id:4,bodyParts:[{id:"head",dx:0,dy:0}]},{id:5,bodyParts:[{id:"head",dx:0,dy:0}]},{id:6,bodyParts:[{id:"head",dx:0,dy:0}]},{id:7,bodyParts:[{id:"head",dx:0,dy:0}]}]}]}}]},HabboAvatarGeometry={geometry:{direction:0,camera:{x:0,y:0,z:10},canvases:[{scale:"h",geometries:[{id:"vertical",width:90,height:130,dx:0,dy:0},{id:"sitting",width:90,height:130,dx:0,dy:0},{id:"horizontal",width:128,height:80,dx:30,dy:0},{id:"swhorizontal",width:192,height:120,dx:0,dy:-40}]},{scale:"sh",geometries:[{id:"vertical",width:45,height:72,dx:0,dy:0},{id:"sitting",width:45,height:72,dx:0,dy:0},{id:"horizontal",width:64,height:50,dx:15,dy:-10},{id:"swhorizontal",width:96,height:70,dx:0,dy:-20},{id:"swim",width:64,height:70,dx:25,dy:10}]}],avatarSets:[{id:"full",avatarSets:[{id:"body",main:!0,bodyParts:[{id:"top"},{id:"bottom"},{id:"behind"},{id:"torso"},{id:"leftitem"},{id:"rightitem"},{id:"leftarm"},{id:"rightarm"}]},{id:"head",bodyParts:[{id:"head"}]}]}],types:[{id:"vertical",bodyParts:[{id:"top",x:0,y:0,z:0,radius:2},{id:"bottom",x:0,y:0,z:0,radius:.001},{id:"behind",x:0,y:0,z:.2,radius:.3},{id:"torso",x:0,y:0,z:0,radius:.4,items:[{id:"bd",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"bds",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"ch",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!1},{id:"sh",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"lg",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:"ss",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!1},{id:"cp",x:0,y:0,z:0,radius:.045,nx:0,ny:0,nz:-1,double:!1},{id:"wa",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!1},{id:"cc",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:"ca",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1}]},{id:"leftitem",x:0,y:0,z:-.29,radius:.3,items:[{id:"li",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:"rightitem",x:0,y:0,z:-.29,radius:.3,items:[{id:"ri",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:"leftarm",x:-1,y:0,z:-.51,radius:.5,items:[{id:"lh",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"lhs",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"ls",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"lc",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:"rightarm",x:1,y:0,z:-.51,radius:.5,items:[{id:"rh",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"rhs",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"rs",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"rc",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:"head",x:0,y:0,z:0,radius:.5,items:[{id:"hd",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"fc",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"ey",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:"hr",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!0},{id:"hrb",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!0},{id:"fa",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:"ea",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1},{id:"ha",x:0,y:0,z:0,radius:.08,nx:0,ny:0,nz:-1,double:!1},{id:"he",x:0,y:0,z:0,radius:.09,nx:0,ny:0,nz:-1,double:!1}]}]},{id:"sitting",bodyParts:[{id:"top",x:0,y:0,z:0,radius:2},{id:"bottom",x:0,y:0,z:0,radius:.001},{id:"behind",x:0,y:0,z:.2,radius:.3},{id:"torso",x:0,y:0,z:0,radius:.4,items:[{id:"bd",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"bds",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"ch",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:"sh",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!1},{id:"lg",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"ss",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!1},{id:"cp",x:0,y:0,z:0,radius:.045,nx:0,ny:0,nz:-1,double:!1},{id:"wa",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!1},{id:"cc",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:"ca",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1}]},{id:"leftitem",x:0,y:0,z:-.29,radius:.3,items:[{id:"li",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:"rightitem",x:0,y:0,z:-.29,radius:.3,items:[{id:"ri",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:"leftarm",x:-1,y:0,z:-.51,radius:.5,items:[{id:"lh",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"lhs",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"ls",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"lc",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:"rightarm",x:1,y:0,z:-.51,radius:.5,items:[{id:"rh",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"rhs",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"rs",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"rc",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:"head",x:0,y:0,z:0,radius:.5,items:[{id:"hd",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"fc",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"ey",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:"hr",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!0},{id:"hrb",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!0},{id:"fa",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:"ea",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1},{id:"ha",x:0,y:0,z:0,radius:.08,nx:0,ny:0,nz:-1,double:!1},{id:"he",x:0,y:0,z:0,radius:.09,nx:0,ny:0,nz:-1,double:!1}]}]},{id:"horizontal",bodyParts:[{id:"torso",x:0,y:0,z:0,radius:.4,items:[{id:"bd",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"bds",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"ch",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"cp",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1},{id:"sh",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!1},{id:"lg",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:"ss",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:"wa",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!1},{id:"cc",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:"ca",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1}]},{id:"leftitem",x:0,y:0,z:-.29,radius:.3,items:[{id:"li",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:"rightitem",x:0,y:0,z:-.29,radius:.3,items:[{id:"ri",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:"leftarm",x:-1,y:0,z:-.51,radius:.6,items:[{id:"lh",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"lhs",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"ls",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"lc",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:"rightarm",x:1,y:0,z:-.51,radius:.6,items:[{id:"rh",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"rhs",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"rs",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"rc",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:"head",x:0,y:0,z:0,radius:.5,items:[{id:"hd",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"fc",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"ey",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:"hr",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!0},{id:"hrb",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!0},{id:"fa",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:"ea",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1},{id:"ha",x:0,y:0,z:0,radius:.08,nx:0,ny:0,nz:-1,double:!1},{id:"he",x:0,y:0,z:0,radius:.09,nx:0,ny:0,nz:-1,double:!1}]}]},{id:"swhorizontal",bodyParts:[{id:"torso",x:0,y:0,z:0,radius:.4,items:[{id:"bd",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"bds",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"ch",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"cp",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1},{id:"sh",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!1},{id:"lg",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:"ss",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:"wa",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!1},{id:"cc",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:"ca",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1}]},{id:"leftitem",x:0,y:0,z:-.29,radius:.3,items:[{id:"li",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:"rightitem",x:0,y:0,z:-.29,radius:.3,items:[{id:"ri",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1}]},{id:"leftarm",x:-1,y:0,z:-.51,radius:.6,items:[{id:"lh",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"lhs",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"ls",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"lc",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:"rightarm",x:1,y:0,z:-.51,radius:.6,items:[{id:"rh",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"rhs",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!1},{id:"rs",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"rc",x:0,y:0,z:0,radius:.025,nx:0,ny:0,nz:-1,double:!1}]},{id:"head",x:0,y:0,z:0,radius:.5,items:[{id:"hd",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"fc",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"ey",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:"hr",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!0},{id:"hrb",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!0},{id:"fa",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:"ea",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1},{id:"ha",x:0,y:0,z:0,radius:.08,nx:0,ny:0,nz:-1,double:!1},{id:"he",x:0,y:0,z:0,radius:.09,nx:0,ny:0,nz:-1,double:!1}]}]},{id:"swim",bodyParts:[{id:"torso",x:0,y:0,z:0,radius:.4,items:[{id:"bds",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"ss",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1}]},{id:"head",x:0,y:0,z:0,radius:.5,items:[{id:"hd",x:0,y:0,z:0,radius:.01,nx:0,ny:0,nz:-1,double:!0},{id:"fc",x:0,y:0,z:0,radius:.02,nx:0,ny:0,nz:-1,double:!1},{id:"ey",x:0,y:0,z:0,radius:.03,nx:0,ny:0,nz:-1,double:!1},{id:"hr",x:0,y:0,z:0,radius:.04,nx:0,ny:0,nz:-1,double:!0},{id:"hrb",x:0,y:0,z:0,radius:.05,nx:0,ny:0,nz:-1,double:!0},{id:"fa",x:0,y:0,z:0,radius:.06,nx:0,ny:0,nz:-1,double:!1},{id:"ea",x:0,y:0,z:0,radius:.07,nx:0,ny:0,nz:-1,double:!1},{id:"ha",x:0,y:0,z:0,radius:.08,nx:0,ny:0,nz:-1,double:!1},{id:"he",x:0,y:0,z:0,radius:.09,nx:0,ny:0,nz:-1,double:!1}]}]}]}},HabboAvatarPartSets={partSets:{partSet:[{setType:"ri",flippedSetType:"ri"},{setType:"ri",flippedSetType:"ri"},{setType:"rh",flippedSetType:"lh"},{setType:"rhs",flippedSetType:"lhs"},{setType:"rs",swim:"0",flippedSetType:"ls"},{setType:"rc",flippedSetType:"lc"},{setType:"bd"},{setType:"bds"},{setType:"ss"},{setType:"sh"},{setType:"lg"},{setType:"ch"},{setType:"cp"},{setType:"cc"},{setType:"hd"},{setType:"fc"},{setType:"ey"},{setType:"hr"},{setType:"hrb",removeSetType:"hr"},{setType:"li",flippedSetType:"li"},{setType:"lh",flippedSetType:"rh"},{setType:"lhs",flippedSetType:"rhs"},{setType:"ls",flippedSetType:"rs"},{setType:"lc",flippedSetType:"rc"},{setType:"wa"},{setType:"ea"},{setType:"ca"},{setType:"fa"},{setType:"ha"},{setType:"he"}],activePartSets:[{id:"figure",activeParts:[{setType:"rh"},{setType:"rh"},{setType:"rhs"},{setType:"rs"},{setType:"rc"},{setType:"bd"},{setType:"bds"},{setType:"ss"},{setType:"sh"},{setType:"lg"},{setType:"ch"},{setType:"cp"},{setType:"cc"},{setType:"wa"},{setType:"hd"},{setType:"fc"},{setType:"ey"},{setType:"hr"},{setType:"hrb"},{setType:"lh"},{setType:"lhs"},{setType:"ls"},{setType:"lc"},{setType:"ea"},{setType:"ca"},{setType:"fa"},{setType:"ha"},{setType:"he"}]},{id:"head",activeParts:[{setType:"hd"},{setType:"fc"},{setType:"ey"},{setType:"hr"},{setType:"hrb"},{setType:"ea"},{setType:"fa"},{setType:"ha"},{setType:"he"}]},{id:"speak",activeParts:[{setType:"hd"},{setType:"hr"},{setType:"hrb"},{setType:"fc"},{setType:"fa"},{setType:"ha"}]},{id:"gesture",activeParts:[{setType:"ey"},{setType:"fc"}]},{id:"eye",activeParts:[{setType:"ey"}]},{id:"handRight",activeParts:[{setType:"rh"},{setType:"rhs"},{setType:"rs"},{setType:"rc"},{setType:"ri"}]},{id:"handRightAndHead",activeParts:[{setType:"rh"},{setType:"rhs"},{setType:"rs"},{setType:"rc"},{setType:"ri"},{setType:"ey"},{setType:"fc"},{setType:"hd"}]},{id:"handLeft",activeParts:[{setType:"lh"},{setType:"lhs"},{setType:"ls"},{setType:"lc"},{setType:"li"}]},{id:"walk",activeParts:[{setType:"bd"},{setType:"bds"},{setType:"ss"},{setType:"lg"},{setType:"lh"},{setType:"lhs"},{setType:"rh"},{setType:"rhs"},{setType:"ls"},{setType:"lc"},{setType:"rs"},{setType:"rc"},{setType:"sh"}]},{id:"sit",activeParts:[{setType:"bd"},{setType:"bds"},{setType:"ss"},{setType:"lg"},{setType:"sh"},{setType:"cc"}]},{id:"itemRight",activeParts:[{setType:"ri"}]}]}},pI=class pI extends EventDispatcher{constructor(ee,te,se,ne){super(),this._state=pI.NOT_LOADED,this._libraryName=ee,this._revision=te,this._downloadUrl=ne,this._assets=se,this._animation=null,this._downloadUrl=this._downloadUrl.replace(/%libname%/gi,this._libraryName),this._downloadUrl=this._downloadUrl.replace(/%revision%/gi,this._revision),this._assets.getCollection(this._libraryName)&&(this._state=pI.LOADED)}async downloadAsset(){if(!this._assets||this._state===pI.LOADING||this._state===pI.LOADED)return;if(this._assets.getCollection(this._libraryName)){this._state=pI.LOADED,this.dispatchEvent(new AvatarRenderEffectLibraryEvent(AvatarRenderEffectLibraryEvent.DOWNLOAD_COMPLETE,this));return}if(this._state=pI.LOADING,!await this._assets.downloadAsset(this._downloadUrl))return;this._state=pI.LOADED;const se=this._assets.getCollection(this._libraryName);se&&(this._animation=se.data.animations),this.dispatchEvent(new AvatarRenderEffectLibraryEvent(AvatarRenderEffectLibraryEvent.DOWNLOAD_COMPLETE,this))}get libraryName(){return this._libraryName}get animation(){return this._animation}get isLoaded(){return this._state===pI.LOADED}};pI.DOWNLOAD_COMPLETE="EADL_DOWNLOAD_COMPLETE",pI.NOT_LOADED=0,pI.LOADING=1,pI.LOADED=2;let EffectAssetDownloadLibrary=pI;const wP=class wP extends EventDispatcher{constructor(ee,te){super(),this._assets=ee,this._structure=te,this._missingMandatoryLibs=NitroConfiguration.getValue("avatar.mandatory.effect.libraries"),this._effectMap=new Map,this._effectListeners=new Map,this._incompleteEffects=new Map,this._initDownloadBuffer=[],this._pendingDownloadQueue=[],this._currentDownloads=[],this._libraryNames=[],this._isReady=!1,this.onLibraryLoaded=this.onLibraryLoaded.bind(this),this.onAvatarRenderReady=this.onAvatarRenderReady.bind(this),this.loadEffectMap(),this._structure.renderManager.events.addEventListener(AvatarRenderEvent.AVATAR_RENDER_READY,this.onAvatarRenderReady)}loadEffectMap(){const ee=new XMLHttpRequest;try{ee.open("GET",NitroConfiguration.getValue("avatar.effectmap.url")),ee.send(),ee.onloadend=te=>{if(ee.responseText){const se=JSON.parse(ee.responseText);this.processEffectMap(se.effects),this.processMissingLibraries(),this._isReady=!0,this.dispatchEvent(new NitroEvent(wP.DOWNLOADER_READY))}},ee.onerror=te=>{throw new Error("invalid_avatar_effect_map")}}catch(te){NitroLogger.error(te)}}processEffectMap(ee){if(ee)for(const te of ee){if(!te)continue;const se=te.id,ne=te.lib,le=te.revision||"";if(this._libraryNames.indexOf(ne)>=0)continue;this._libraryNames.push(ne);const ue=new EffectAssetDownloadLibrary(ne,le,this._assets,NitroConfiguration.getValue("avatar.asset.effect.url"));ue.addEventListener(AvatarRenderEffectLibraryEvent.DOWNLOAD_COMPLETE,this.onLibraryLoaded);let ce=this._effectMap.get(se);ce||(ce=[]),ce.push(ue),this._effectMap.set(se,ce)}}downloadAvatarEffect(ee,te){if(!this._isReady||!this._structure.renderManager.isReady){this._initDownloadBuffer.push([ee,te]);return}const se=this.getAvatarEffectPendingLibraries(ee);if(se&&se.length){if(te&&!te.disposed){let ne=this._effectListeners.get(ee.toString());ne||(ne=[]),ne.push(te),this._effectListeners.set(ee.toString(),ne)}this._incompleteEffects.set(ee.toString(),se);for(const ne of se)ne&&this.downloadLibrary(ne)}else te&&!te.disposed&&te.resetEffect(ee)}onAvatarRenderReady(ee){if(ee){for(const[te,se]of this._initDownloadBuffer)this.downloadAvatarEffect(te,se);this._initDownloadBuffer=[]}}onLibraryLoaded(ee){if(!ee||!ee.library)return;const te=[];this._structure.registerAnimation(ee.library.animation);for(const[ne,le]of this._incompleteEffects.entries()){let ue=!0;for(const ce of le)if(!(!ce||ce.isLoaded)){ue=!1;break}if(ue){te.push(ne);const ce=this._effectListeners.get(ne);for(const he of ce)!he||he.disposed||he.resetEffect(parseInt(ne));this._effectListeners.delete(ne),this.dispatchEvent(new NitroEvent(wP.LIBRARY_LOADED))}}for(const ne of te)this._incompleteEffects.delete(ne);let se=0;for(;se<this._currentDownloads.length;){const ne=this._currentDownloads[se];ne&&ne.libraryName===ee.library.libraryName&&this._currentDownloads.splice(se,1),se++}}processMissingLibraries(){const ee=this._missingMandatoryLibs.slice();for(const te of ee){if(!te)continue;const se=this._effectMap.get(te);if(se)for(const ne of se)ne&&this.downloadLibrary(ne)}}isAvatarEffectReady(ee){return!this._isReady||!this._structure.renderManager.isReady?!1:!this.getAvatarEffectPendingLibraries(ee).length}getAvatarEffectPendingLibraries(ee){const te=[];if(!this._structure)return te;const se=this._effectMap.get(ee.toString());if(se)for(const ne of se)!ne||ne.isLoaded||te.indexOf(ne)===-1&&te.push(ne);return te}downloadLibrary(ee){!ee||ee.isLoaded||this._pendingDownloadQueue.indexOf(ee)>=0||this._currentDownloads.indexOf(ee)>=0||(this._pendingDownloadQueue.push(ee),this.processDownloadQueue())}processDownloadQueue(){for(;this._pendingDownloadQueue.length;)this._pendingDownloadQueue[0].downloadAsset(),this._currentDownloads.push(this._pendingDownloadQueue.shift())}};wP.DOWNLOADER_READY="EADM_DOWNLOADER_READY",wP.LIBRARY_LOADED="EADM_LIBRARY_LOADED",wP.MAX_DOWNLOADS=2;let EffectAssetDownloadManager=wP;class PlaceHolderAvatarImage extends AvatarImage{constructor(ee,te,se,ne,le){super(ee,te,se,ne,le,null)}isPlaceholder(){return!0}}const pU=class pU extends NitroManager{constructor(){super(),this._structure=null,this._avatarAssetDownloadManager=null,this._placeHolderFigure=null,this._figureMapReady=!1,this._effectMapReady=!1,this._actionsReady=!1,this._geometryReady=!1,this._partSetsReady=!1,this._animationsReady=!1,this._isReady=!1,this.onAvatarAssetDownloaderReady=this.onAvatarAssetDownloaderReady.bind(this),this.onAvatarAssetDownloaded=this.onAvatarAssetDownloaded.bind(this),this.onEffectAssetDownloaderReady=this.onEffectAssetDownloaderReady.bind(this),this.onEffectAssetDownloaded=this.onEffectAssetDownloaded.bind(this),this.onAvatarStructureDownloadDone=this.onAvatarStructureDownloadDone.bind(this)}onInit(){this._structure=new AvatarStructure(this),this.loadGeometry(),this.loadPartSets(),this.loadActions(),this.loadAnimations(),this.loadFigureData(),this._aliasCollection=new AssetAliasCollection(this,GetAssetManager()),this._aliasCollection.init(),this._avatarAssetDownloadManager||(this._avatarAssetDownloadManager=new AvatarAssetDownloadManager(GetAssetManager(),this._structure),this._avatarAssetDownloadManager.addEventListener(AvatarAssetDownloadManager.DOWNLOADER_READY,this.onAvatarAssetDownloaderReady),this._avatarAssetDownloadManager.addEventListener(AvatarAssetDownloadManager.LIBRARY_LOADED,this.onAvatarAssetDownloaded)),this._effectAssetDownloadManager||(this._effectAssetDownloadManager=new EffectAssetDownloadManager(GetAssetManager(),this._structure),this._effectAssetDownloadManager.addEventListener(EffectAssetDownloadManager.DOWNLOADER_READY,this.onEffectAssetDownloaderReady),this._effectAssetDownloadManager.addEventListener(EffectAssetDownloadManager.LIBRARY_LOADED,this.onEffectAssetDownloaded)),this.checkReady()}onDispose(){this._avatarAssetDownloadManager&&(this._avatarAssetDownloadManager.removeEventListener(AvatarAssetDownloadManager.DOWNLOADER_READY,this.onAvatarAssetDownloaderReady),this._avatarAssetDownloadManager.removeEventListener(AvatarAssetDownloadManager.LIBRARY_LOADED,this.onAvatarAssetDownloaded)),this._effectAssetDownloadManager&&(this._effectAssetDownloadManager.removeEventListener(EffectAssetDownloadManager.DOWNLOADER_READY,this.onEffectAssetDownloaderReady),this._effectAssetDownloadManager.removeEventListener(EffectAssetDownloadManager.LIBRARY_LOADED,this.onEffectAssetDownloaded))}loadGeometry(){this._structure&&(this._structure.initGeometry(HabboAvatarGeometry.geometry),this._geometryReady=!0,this.checkReady())}loadPartSets(){this._structure&&(this._structure.initPartSets(HabboAvatarPartSets.partSets),this._partSetsReady=!0,this.checkReady())}loadActions(){const ee=NitroConfiguration.getValue("avatar.default.actions");ee&&this._structure.initActions(GetAssetManager(),ee);const te=new XMLHttpRequest;try{te.open("GET",NitroConfiguration.getValue("avatar.actions.url")),te.send(),te.onloadend=se=>{this._structure&&(this._structure.updateActions(JSON.parse(te.responseText)),this._actionsReady=!0,this.checkReady())},te.onerror=se=>{throw new Error("invalid_avatar_actions")}}catch(se){NitroLogger.error(se)}}loadAnimations(){this._structure&&(this._structure.initAnimation(HabboAvatarAnimations.animations),this._animationsReady=!0,this.checkReady())}loadFigureData(){const ee=NitroConfiguration.getValue("avatar.default.figuredata");if(!ee||typeof ee=="string"){NitroLogger.error("XML figuredata is no longer supported");return}this._structure&&this._structure.initFigureData(ee),new AvatarStructureDownload(NitroConfiguration.getValue("avatar.figuredata.url"),this._structure.figureData).addEventListener(AvatarStructureDownload.AVATAR_STRUCTURE_DONE,this.onAvatarStructureDownloadDone)}onAvatarStructureDownloadDone(ee){this._structureReady=!0,this._structure.init(),this.checkReady()}onAvatarAssetDownloaderReady(ee){ee&&(this._figureMapReady=!0,this.checkReady())}onAvatarAssetDownloaded(ee){ee&&this._aliasCollection.reset()}onEffectAssetDownloaderReady(ee){ee&&(this._effectMapReady=!0,this.checkReady())}onEffectAssetDownloaded(ee){ee&&this._aliasCollection.reset()}checkReady(){this._isReady||!this._geometryReady||!this._partSetsReady||!this._actionsReady||!this._animationsReady||!this._figureMapReady||!this._effectMapReady||!this._structureReady||(this._isReady=!0,this.events&&this.events.dispatchEvent(new NitroEvent(AvatarRenderEvent.AVATAR_RENDER_READY)))}createFigureContainer(ee){return new AvatarFigureContainer(ee)}isFigureContainerReady(ee){return this._avatarAssetDownloadManager?this._avatarAssetDownloadManager.isAvatarFigureContainerReady(ee):!1}createAvatarImage(ee,te,se,ne=null,le=null){if(!this._structure||!this._avatarAssetDownloadManager)return null;const ue=new AvatarFigureContainer(ee);return se&&this.validateAvatarFigure(ue,se),this._avatarAssetDownloadManager.isAvatarFigureContainerReady(ue)?new AvatarImage(this._structure,this._aliasCollection,ue,te,this._effectAssetDownloadManager,le):(this._placeHolderFigure||(this._placeHolderFigure=new AvatarFigureContainer(pU.DEFAULT_FIGURE)),this._avatarAssetDownloadManager.downloadAvatarFigure(ue,ne),new PlaceHolderAvatarImage(this._structure,this._aliasCollection,this._placeHolderFigure,te,this._effectAssetDownloadManager))}downloadAvatarFigure(ee,te){this._avatarAssetDownloadManager&&this._avatarAssetDownloadManager.downloadAvatarFigure(ee,te)}validateAvatarFigure(ee,te){let se=!1;const ne=this._structure.getMandatorySetTypeIds(te,2);if(ne){const le=this._structure.figureData;for(const ue of ne)if(ee.hasPartType(ue)){const ce=le.getSetType(ue);if(ce&&!ce.getPartSet(ee.getPartSetId(ue))){const de=this._structure.getDefaultPartSet(ue,te);de&&(ee.updatePart(ue,de.id,[0]),se=!0)}}else{const ce=this._structure.getDefaultPartSet(ue,te);ce&&(ee.updatePart(ue,ce.id,[0]),se=!0)}}return!se}getFigureClubLevel(ee,te,se=null){if(!this._structure)return 0;const ne=this._structure.figureData,le=Array.from(ee.getPartTypeIds());let ue=0;for(const ce of le){const he=ne.getSetType(ce);if(!he)continue;const de=ee.getPartSetId(ce),_e=he.getPartSet(de);if(_e){ue=Math.max(_e.clubLevel,ue);const fe=ne.getPalette(he.paletteID),ye=ee.getPartColorIds(ce);for(const be of ye){const Pe=fe.getColor(be);Pe&&(ue=Math.max(Pe.clubLevel,ue))}}}se||(se=this._structure.getBodyPartsUnordered(AvatarSetType.FULL));for(const ce of se){const he=ne.getSetType(ce);he&&le.indexOf(ce)===-1&&(ue=Math.max(he.optionalFromClubLevel(te),ue))}return ue}isValidFigureSetForGender(ee,te){const ne=this.structureData.getFigurePartSet(ee);return!!(ne&&(ne.gender.toUpperCase()==="U"||ne.gender.toUpperCase()===te.toUpperCase()))}getFigureStringWithFigureIds(ee,te,se){const ne=new FigureDataContainer;ne.loadAvatarData(ee,te);const le=this.resolveFigureSets(se);for(const ue of le)ne.savePartData(ue.type,ue.id,ne.getColourIds(ue.type));return ne.getFigureString()}resolveFigureSets(ee){const te=this.structureData,se=[];for(const ne of ee){const le=te.getFigurePartSet(ne);le&&se.push(le)}return se}getMandatoryAvatarPartSetIds(ee,te){return this._structure?this._structure.getMandatorySetTypeIds(ee,te):null}getAssetByName(ee){return this._aliasCollection.getAsset(ee)}get assets(){return GetAssetManager()}get isReady(){return this._isReady}get structure(){return this._structure}get structureData(){return this._structure?this._structure.figureData:null}get downloadManager(){return this._avatarAssetDownloadManager}};pU.DEFAULT_FIGURE="hd-99999-99999";let AvatarRenderManager=pU;class PetCustomPart{constructor(ee,te,se){this._layerId=ee,this._partId=te,this._paletteId=se}get layerId(){return this._layerId}set layerId(ee){this._layerId=ee}get partId(){return this._partId}set partId(ee){this._partId=ee}get paletteId(){return this._paletteId}set paletteId(ee){this._paletteId=ee}}class PetFigureData{constructor(ee){this._typeId=this.getTypeId(ee),this._paletteId=this.getPaletteId(ee),this._color=this.getColor(ee),this._headOnly=this.getHeadOnly(ee);const te=this.getCustomData(ee);this._customLayerIds=this.getCustomLayerIds(te),this._customPartIds=this.getCustomPartIds(te),this._customPaletteIds=this.getCustomPaletteIds(te),this._customParts=[];let se=0;for(;se<this._customLayerIds.length;)this._customParts.push(new PetCustomPart(this._customLayerIds[se],this._customPartIds[se],this._customPaletteIds[se])),se++}get typeId(){return this._typeId}get paletteId(){return this._paletteId}get color(){return this._color}get customLayerIds(){return this._customLayerIds}get customPartIds(){return this._customPartIds}get customPaletteIds(){return this._customPaletteIds}get customParts(){return this._customParts}getCustomPart(ee){if(this._customParts){for(const te of this._customParts)if(te.layerId===ee)return te}return null}get hasCustomParts(){return this._customLayerIds!=null&&this._customLayerIds.length>0}get headOnly(){return this._headOnly}get figureString(){let ee=this.typeId+" "+this.paletteId+" "+this.color.toString(16);ee=ee+(" "+this.customParts.length);for(const te of this.customParts)ee=ee+(" "+te.layerId+" "+te.partId+" "+te.paletteId);return ee}getCustomData(ee){let te=[];if(ee){const se=ee.split(" "),ne=this._headOnly?1:0,le=4+ne;if(se.length>le){const ue=3+ne,ce=parseInt(se[ue]);te=se.slice(le,le+ce*3)}}return te}getCustomLayerIds(ee){const te=[];let se=0;for(;se<ee.length;)te.push(parseInt(ee[se+0])),se=se+3;return te}getCustomPartIds(ee){const te=[];let se=0;for(;se<ee.length;)te.push(parseInt(ee[se+1])),se=se+3;return te}getCustomPaletteIds(ee){const te=[];let se=0;for(;se<ee.length;)te.push(parseInt(ee[se+2])),se=se+3;return te}getTypeId(ee){if(ee){const te=ee.split(" ");if(te.length>=1)return parseInt(te[0])}return 0}getPaletteId(ee){if(ee){const te=ee.split(" ");if(te.length>=2)return parseInt(te[1])}return 0}getColor(ee){if(ee){const te=ee.split(" ");if(te.length>=3)return parseInt(te[2],16)}return 16777215}getHeadOnly(ee){if(ee){const te=ee.split(" ");if(te.length>=4)return te[3]==="head"}return!1}}const vR=class vR{static get TIMER_TIME(){return 1e3/GetTickerFPS()}static runMotion(ee){return vR._RUNNING_MOTIONS.indexOf(ee)===-1&&vR._QUEUED_MOTIONS.indexOf(ee)===-1&&(vR._IS_UPDATING?vR._QUEUED_MOTIONS.push(ee):(vR._RUNNING_MOTIONS.push(ee),ee.start()),vR.startTimer()),ee}static removeMotion(ee){let te=vR._RUNNING_MOTIONS.indexOf(ee);te>-1?vR._IS_UPDATING?(te=vR._REMOVED_MOTIONS.indexOf(ee),te==-1&&vR._REMOVED_MOTIONS.push(ee)):(vR._RUNNING_MOTIONS.splice(te,1),ee.running&&ee.stop(),vR._RUNNING_MOTIONS.length||vR.stopTimer()):(te=vR._QUEUED_MOTIONS.indexOf(ee),te>-1&&vR._QUEUED_MOTIONS.splice(te,1))}static getMotionByTag(ee){for(const te of vR._RUNNING_MOTIONS)if(te.tag==ee)return te;for(const te of vR._QUEUED_MOTIONS)if(te.tag==ee)return te;return null}static getMotionByTarget(ee){for(const te of vR._RUNNING_MOTIONS)if(te.target==ee)return te;for(const te of vR._QUEUED_MOTIONS)if(te.target==ee)return te;return null}static getMotionByTagAndTarget(ee,te){for(const se of vR._RUNNING_MOTIONS)if(se.tag==ee&&se.target==te)return se;for(const se of vR._QUEUED_MOTIONS)if(se.tag==ee&&se.target==te)return se;return null}static get isRunning(){return!!vR._TIMER}static get isUpdating(){return vR._IS_UPDATING}static onTick(){vR._IS_UPDATING=!0;const ee=GetTickerTime();let te=null;for(;te=vR._QUEUED_MOTIONS.pop();)vR._RUNNING_MOTIONS.push(te);for(;te=vR._REMOVED_MOTIONS.pop();)vR._RUNNING_MOTIONS.splice(vR._RUNNING_MOTIONS.indexOf(te),1),te.running&&te.stop();for(te of vR._RUNNING_MOTIONS)te.running?(te.tick(ee),te.complete&&vR.removeMotion(te)):vR.removeMotion(te);vR._RUNNING_MOTIONS.length||vR.stopTimer(),vR._IS_UPDATING=!1}static startTimer(){vR._TIMER||(vR._TIMER=setInterval(vR.onTick,vR.TIMER_TIME))}static stopTimer(){vR._TIMER&&(clearInterval(vR._TIMER),vR._TIMER=null)}getNumRunningMotions(ee){let te=0;for(const se of vR._RUNNING_MOTIONS)se.target===ee&&te++;return te}};vR._QUEUED_MOTIONS=[],vR._RUNNING_MOTIONS=[],vR._REMOVED_MOTIONS=[],vR._TIMER=null,vR._IS_UPDATING=!1;let Motions=vR;const hubbeFurnisJson="https://cdn.hubbe.biz/furnidatas/FurnitureData.json",habbletFurnisJson="https://images.habblet.city/leet-asset-bundles/gamedata/habblet_furni.json?v=352",floorFurnitureInfo={},wallFurnitureInfo={};window.floorFurnitureInfo=floorFurnitureInfo,window.wallFurnitureInfo=wallFurnitureInfo;async function fetchFurnisInfoJson(){return window.isHubbe?await(await fetch(hubbeFurnisJson)).json():await(await fetch(habbletFurnisJson)).json()}async function loadAndParseFurnisInfo(){const ie=await fetchFurnisInfoJson(),ee=ie.roomitemtypes.furnitype,te=ie.wallitemtypes.furnitype;for(const se of ee){const ne=[];if(se.partcolors)for(const de of se.partcolors.color){let _e=de;_e.charAt(0)==="#"&&(_e=_e.replace("#","")),ne.push(parseInt(_e,16))}const le=se.classname.split("*"),ue=le[0],ce=le.length>1?parseInt(le[1]):0,he=le.length>1;floorFurnitureInfo[se.classname]=new FurnitureData(FurnitureType.FLOOR,se.id,se.classname,ue,se.category,se.name,se.description,se.revision,se.xdim,se.ydim,0,ne,he,ce,se.adurl,se.offerid,se.buyout,se.rentofferid,se.rentbuyout,se.bc,se.customparams,se.specialtype,se.canstandon,se.cansiton,se.canlayon,se.excludeddynamic,se.furniline,se.environment,se.rare)}for(const se of te)wallFurnitureInfo[se.classname]=new FurnitureData(FurnitureType.WALL,se.id,se.classname,se.classname,se.category,se.name,se.description,se.revision,0,0,0,null,!1,0,se.adurl,se.offerid,se.buyout,se.rentofferid,se.rentbuyout,se.bc,null,se.specialtype,!1,!1,!1,se.excludeddynamic,se.furniline,se.environment,se.rare);window.furnisInfo={floor:floorFurnitureInfo,wall:wallFurnitureInfo}}function getFurniInfoByClassname(ie){let ee=ie;/_\d+$/.test(ie)&&(ee=ie.replace(/_(\d+)$/,"*$1"));for(const te of[floorFurnitureInfo,wallFurnitureInfo]){if(te[ie])return te[ie];if(te[ee])return te[ee]}return null}window.getFurniInfoByClassname=getFurniInfoByClassname;function getFurniInfoBySpriteId(ie){for(const ee of[floorFurnitureInfo,wallFurnitureInfo])for(const te of Object.values(ee))if(te.id===ie)return te;return null}function getFurniInfoByPurchaseOfferId(ie){for(const ee of[floorFurnitureInfo,wallFurnitureInfo])for(const te of Object.values(ee))if(te.purchaseOfferId===ie)return te;return null}function composeFurniIconUrl(ie){return`https://images.habblet.city/library/hof_furni/icons/${ie}_icon.png`}window.getFurniInfoBySpriteId=getFurniInfoBySpriteId;class FurniInfo{static searchByName(ee){ee=(ee||"").trim().toLowerCase();const te=[];for(const se of[floorFurnitureInfo,wallFurnitureInfo])for(const ne of Object.values(se)){const{name:le,fullName:ue}=ne;(le.toLowerCase().includes(ee)||ue.toLowerCase().includes(ee))&&te.push(ne)}return te}static searchByDescription(ee){ee=(ee||"").trim().toLowerCase();const te=[];for(const se of[floorFurnitureInfo,wallFurnitureInfo])for(const ne of Object.values(se)){const{description:le}=ne;le.toLowerCase().includes(ee)&&te.push(ne)}return te}static searchByCategory(ee){ee=(ee||"").trim().toLowerCase();const te=[];for(const se of[floorFurnitureInfo,wallFurnitureInfo])for(const ne of Object.values(se)){const{category:le}=ne;le.toLowerCase().includes(ee)&&te.push(ne)}return te}static searchByClassName(ee){ee=(ee||"").trim().toLowerCase();const te=[];for(const se of[floorFurnitureInfo,wallFurnitureInfo])for(const ne of Object.values(se)){const{className:le}=ne;le.toLowerCase().includes(ee)&&te.push(ne)}return te}static getByClassName(ee){return floorFurnitureInfo[ee]||wallFurnitureInfo[ee]||null}static getBySpriteId(ee){for(const te of[floorFurnitureInfo,wallFurnitureInfo])for(const se of Object.values(te))if(se.id===ee)return se;return null}static getByPurchaseOfferId(ee){for(const te of[floorFurnitureInfo,wallFurnitureInfo])for(const se of Object.values(te))if(se.purchaseOfferId===ee)return se;return null}}window.FurniInfo=FurniInfo;class Inventory{constructor(){dE(this,"selectedFurni");dE(this,"interfaceIsOpen",!1);dE(this,"items");dE(this,"pendingRefresh",!1)}async fetchInventory(){const ee=Message.waitFor("USER_FURNITURE");Packet.send("USER_FURNITURE",[]);const te=await ee;if(te)return this.items=te.fragment,this.items}getFurnitureById(ee){return this.items.get(ee)}hasFurnitureById(ee){return this.items.has(ee)}furniInfoFromItem(ee){let te;typeof ee=="number"?te=ee:te=ee.itemId;const se=this.getFurnitureById(te);if(se)return getFurniInfoBySpriteId(se.spriteId)}getAllItemsOfSpriteId(ee){const te=[];for(const se of this.items.values())se.spriteId===ee&&te.push(se);return te}getSingleItemOfSpriteId(ee,te){te||(te=[]);for(const se of this.items.values())if(se.spriteId===ee&&!te.includes(se.itemId))return se;return null}}const inventory=new Inventory;window.inventory=inventory;function downloadText(ie,ee){const te=document.createElement("a");te.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(ee)),te.setAttribute("download",ie),te.style.display="none",document.body.appendChild(te),te.click(),document.body.removeChild(te)}class Catalog{constructor(){dE(this,"selectedOfferFurniInfo");dE(this,"interfaceIsOpen",!1);dE(this,"locallyFetchedPagesCount",0);dE(this,"_pages",{})}get pages(){return this._pages}async fetchIndex(ee="NORMAL"){const te=Message.waitFor("CATALOG_PAGE_LIST");return Packet.send("GET_CATALOG_INDEX",[ee]),await te}async fetchPageById(ee,te=-1,se="NORMAL"){if(ee===-1)return null;const ne=Message.waitFor("CATALOG_PAGE");return Packet.send("GET_CATALOG_PAGE",[ee,te,se]),await ne}async fetchCatalog(){const ee=await this.fetchCatalogFromCache();if(ee)return this._pages=ee.pages,ee;this._pages={},this.locallyFetchedPagesCount=0;const te=await this.fetchIndex();if(!te)return null;const se=this.countPagesRecursively(te.root);console.info(`Loading ${se} pages...`);const ne=new Date().getTime(),le=setInterval(()=>{const ue=this.countSavedPagesRecursively(this._pages),ce=ue/se*100,he=Math.round(ce),fe=(new Date().getTime()-ne)/1e3,ye=ue/fe,Pe=(se-ue)/ye,Ne=Pe/60,we=Math.round(Ne),De=Math.round(Pe);console.info(`[${he}%] ETA: ${we} minutes (${De} seconds)`),console.info(`[${he}%] Loaded ${ue} of ${se} pages...`)},1e3);for(const ue of te.root.children){const ce=Object.keys(this._pages).length;this._pages[ce]=await this.processPagesRecursively(ue)}return clearInterval(le),await this.saveCatalogToCache(),localStorage.removeItem("hibisco-catalog-cache-invalidate"),{pages:this._pages}}countPagesRecursively(ee){let te=0;if(ee.children)for(const se of ee.children)te+=this.countPagesRecursively(se);return ee.pageId&&te++,te}countSavedPagesRecursively(ee){return this.locallyFetchedPagesCount}async processPagesRecursively(ee){const te={};if(ee.children)for(const ne of ee.children)te[ne.pageId]=await this.processPagesRecursively(ne);const se=ne=>new Promise(le=>setTimeout(le,ne));if(ee.pageId){const ne=ee.pageId;await se(20);const le=await this.fetchPageById(ne);return le?(le.childrenPages=te,le._type="page",this.locallyFetchedPagesCount++,le):(ee.childrenPages=te,ee._type="node",this.locallyFetchedPagesCount++,ee)}}async fetchCatalogFromCache(){return localStorage.getItem("hibisco-catalog-cache-invalidate")?null:window.isHabblet?await(await fetch("https://raw.githubusercontent.com/HibiscusHotel/packet-logger-releases/refs/heads/main/habblet-catalog-cache-03-02-25.json")).json():null}async saveCatalogToCache(){downloadText("catalog.json",JSON.stringify({pages:this._pages}))}async invalidateCache(){localStorage.setItem("hibisco-catalog-cache-invalidate","true")}page(ee){return this._pages[ee]}getOfferById(ee){return this.findOfferRecursively(this._pages,te=>te._offerId===ee)}getOfferByLocalizationId(ee){return this.findOfferRecursively(this._pages,te=>te._localizationId===ee)}getOfferByProductId(ee){return this.findOfferRecursively(this._pages,te=>{const se=te._products;return se&&se.some(ne=>ne._furniClassId===ee)})}findOfferRecursively(ee,te){for(const se in ee){const ne=ee[se],le=ne._offers;if(le&&le.length){for(const ue of le)if(te(ue))return{pageId:se,offer:ue}}if(ne.childrenPages){const ue=this.findOfferRecursively(ne.childrenPages,te);if(ue)return ue}}return null}async buyOffer(ee,te=1,se=""){let ne=te,le;typeof ee=="number"?le=ee:le=ee._offerId;const ue=-1;for(;ne>0;){const ce=Math.min(ne,100);ne-=ce;const he=Message.waitFor("CATALOG_PURCHASE_OK",!1,de=>de.offer.offerId===le);Packet.send("CATALOG_PURCHASE",[ue,le,se,ce]),await he}return!0}async fetchPurchaseOfferIdAndBuy(ee,te=1,se=""){const ne=await this.fetchOfferByPurchaseOfferId(ee);return ne?this.buyOffer(ne,te,se):!1}searchOffers(ee){const te=[];for(const se in this._pages){const le=this._pages[se]._offers;if(!(le==null||!le.length))for(const ue of le)ue._localizationId&&ue._localizationId.toLowerCase().includes(ee.toLowerCase())&&te.push({pageId:se,offer:ue})}return te}searchPages(ee){const te=[];for(const se in this._pages){const ne=this._pages[se],le=ne._localization;if(!le||!le._texts)continue;le._texts.join(" ").toLowerCase().includes(ee.toLowerCase())&&te.push({pageId:se,page:ne})}return te}furniInfoFromOffer(ee){let te;typeof ee=="number"?te=ee:te=ee._offerId;const{offer:se}=this.getOfferById(te);if(!se)return null;const ne=se._localizationId;return getFurniInfoByClassname(ne)}async fetchOfferByPurchaseOfferId(ee){const te=Message.waitFor("PRODUCT_OFFER");return Packet.send("GET_PRODUCT_OFFER",[ee]),(await te).offer}}const catalog=new Catalog;window.catalog=catalog;class Hotel{constructor(){dE(this,"images",{roomWithPaint:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAG0ElEQVR42u3dP28cVRAAcFe0VJEjPgCfAkXwAaiioCAFBQkIUoQQTaBITYcoIrsjDQIhpaABxSniKOkwst2kgJJIthvbgsZNmuPmJbOaHc+bN+/vrvd2pdHlbnfj3G8n82bX+2dtbaTT298+XqTE2jyVR53xR4C78ugxKG/c+P79mFh58BqoJfEnD1wLNxV9csitgWPALzzw0Lix6BcOeazAFvA5i1cxu6cAPPrsniLy6LCHAl7+aPjCi6HAJ4+MwDi1BB8EuzUyB6bTy9s7zcCbYrdE9gEfHR0t/rv1zCHTaAHeBLsVsg/48PDQBUJjtAavit0COQTsgx4CvBp2TWRLBlugW4MXh66VzRZgjIODgw48BN0KvGhW10COAcagmW2FbgFeDLsksqUGS9krgcdA1wbPhi6VzdYazDHp+/uf/b74YRkp0GdnZ73gUy54VlaXQLYAQ/ZSbMxmGoCM0PCaC10DPBk7Bzkmg3lXIdVkDg1RAro0eDR0ajbHDHK8LmuD330CXAMaI7eGR2d1LHJKFyHVZV9GS9g1oEsMmlWgrXty0o6HlN2hTsOVj09/U6EpWCp0DrgZ2lI2cvrg0GehdbWM9oGlQqeAm8uHhmwFpp2DlsmhnRJfOZGgNbBUaP6ZFTwIrWVzqERgmyaVBb4rLS0jtXXShoDlcqFDn2tlyAceldWhbMZWKFRTORpf5ub2CxcfP3kh/j03t//pzeN7ikNC87YQ/j3RWZ0Lbam5AMiDrs/nSf9LWpYObcMkQYcGQQ4d6hp8gx/g0YzG93xDYFb7uo+W0NqOjgW6h23pNKSMDtVUqWxI2BQV5/vq+UWA9mZ1LLRWkyVsugzPZorPS5GU9SsFrfXLljaOAtKspti+mr2SGS21ZvAeM1XbGLQeSzWbbxCMCwtt3Rv0lQ5ph4PWXa0z4RkrtX68roegtU5hKGiHbTm2oWW05VU7qC8h8w3FN0hq1raEPpfVKdC+31Br0Fr/je0cLRFYVqRBdGWgLccpfD20b0fE143Q1g8/++WLpx0I/HnS0NrxY/5n3sbRGuzD5l0JtnYITYODTTKj6QElqTzAfF87J20kaYCEV/x11q337riQoHPKyWihuz23R+tJxziwrQtlNcaVu/dc3H7+0gUFLwEd2600Lx1dhgP4MnyDng8QM5sf58Byw4Ehfv3qjy4Q3FI6Sg2czUtHbxebQPvqNq/T0rEPDViCxsDlS0GOpr3zdRnSniIvIzxrtRIRG63Am5YOy6+qPvnrhgvtGAYF/vLfz11ce7Cz+ODBn2ZgXB6nzc1NF6VgYw78V9th8bV7Dvnvjzrs85l9HpgH4GngHBjXqwU+SOno4nV9xg4El3HICP36FcvJ5jdvuljsviUGxYb3+z9fWuz9dKkDBlxApqh8I9GpNHgWdMrRu8Ot9T40GxB70MsIAXNs/hlgIzBH1aBjwUMdSvRBpdwD/xT44OG62FcD8LvfvdMDBjAIKzRdHj6//vSqC47qQ97f31/s7e2ZwK0nSbb9DctDls1b6706HcpgHziCffjsam8+z1oE902AS4H5dO/KHRfjhKY7J57SgcC+QY4HgNIM5e9DwUF5BkvXKNLg4CVLR1FoeIWIqcFS4KBnGSTPlQlpfQMyB7fU8Gxo03kdW6QWP5KBLTVYKyHq+lKJWC4LyHT97r0Be+fajy6sg2bS6QY5J9Ck1mBrBsN8CsjhupKh/XylhHBga5fS5Ewl+AEbX8eViKiM9azvwLVBTsn+2BoeAi8CLZ3kiH85/DBADuIkdgGhKXf9WGAfuA/adOquBfr09HRxsn05epBTMzoBaHd3132WCpy6wTY2NlxYoJNORMfzgQH69MllFxZwPkipNVooA6FBLQSWO58DY0jnR0ddx2I94x+hfeChQU5cHr+wVsMrZaxveQtwk2tYKDhE7CDHEd0X1tavXIMRPAY4G9pyZRb+A44fvwJH9BRgWnPFDaZMULNzuoqUDM6+qDPnOkPM8JOTExeWDNIGtRBY7vxc4KxrwnMuUe4y/Pj41cAJXYoAHgIOLT9EDR7l9eAUHKARfeg+OqcGV7uVRMm7G9DsBvxcYG9JCNT0UsBF70RT8sYo+IWwdiN8iRrem++BLg08+rvQWMHHVIOb3cCq5j2VsJxgSRlbDW5286rat2OjGY7olpJSq02b/L3vpAy39OEtgSd1N8fYQbMV8GTvTyqB0wxvCbwSd9zlJQVeWwKv3D2kKXgr4MGRh7z1/FDA833+V+lRIfPjQebsntYDb+ZHOM0PJZvuQ8ms2PNj9gYAnx8cORD6/CjUgcDnh/teEPS1eSqPP9bv8z8oNW5toXI0cQAAAABJRU5ErkJggg==",likeThumbUp:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAABHNCSVQICAgIfAhkiAAAAF96VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAAImeNKT81LLcpMVigoyk/LzEnlUgADYxMuE0sTS6NEAwMDCwMIMDQwMDYEkkZAtjlUKNEABZiYm6UBoblZspkpiM8FAE+6FWgbLdiMAAABLUlEQVQ4jbWV3U3DMBSFP1dZgBFKXKkdoCtAkCivZQU6QgdghO7QV3hoYQWerSI1gRG6QCXzENu6SUns8nOkSH7wPT73800CabLuiUqlmNmPp3rz5V20ZpBy6jlKMjweKt7ftjw/3kCk9STDstwDoPNhdG+aYfUZ1rv1AnpSesDRG3TthpST+UrWNwztbr1gPC2iSY+HCoDtyysAs+XmxHTQ3tyn7CIHoLi+QudD2X6Y0wwkIwdfj6LmWo/CZVlbE1NKWUWLn2d1e/8QTV2WeybzlTSsE7roScliaoyNbwHSmHYayjmTpj/R/zKE33M8efV8y3/GUJqmyhiDMQaoB1vNlpvA0TMcT4velF2HZn5xDkdv1u4MBMP26HSlk2bu49CQ/FIk/YS+qW/UfQEL85Mjwrkh2AAAAABJRU5ErkJggg==",empty36TilesRoom:"https://images.habblet.city/images/navigator/models/model_c.png",hibiscoIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsEAAA7BAbiRa+0AAA1dSURBVFhH7Zd5dFRVnsc/r/ZUJamskBBJh5CEyCIgsq+CARr1aLvhAq1M06CC7XHp0067HMDD2C0uM5y2GbqlHRt1tFUUUGRTCIghLCH7QvZ9rVRVat/em1uVQMsyraf7jPNPf8+5dd+77917v3Xv7/v93cc/8Q9CGqp/GMxKjMEoq9CL8rndOtT6N/FDElSG6gv4XnOrhur/ayhd27bZNo2dy6qVD1P//JORtsiT78DVCIY7XlqmoBX134sIkRNdA4o/J5PM5j52Hvgy8uD74HKCyvix03f8adk8XkudyuNjlw22niXAfAyiaAYbvjeUropjz+178XFrcfGpuIVqCbPdz/BbHhh6/N24YgXb2roeXLFkKg+9/kseHmbnT3m3hJsV8vGIEohch8tS9OEH34WGtr6Vn5xtjV85bZJUV1XJwPxezjYdH3r63bhAMDJp/r0/DryVMVZT8XYVUWf2kRZvIrXEzfKRM3lq22LGzsqipPQc2ptiYD/ewa5DhC8tYShN1Wdfcp48lP3ItFkUfnSYwNx4mntUFJ21D73y3bi4gksX3f7oZ8d82lcbW7mzpoHVO8/xQYGbjxYkkXnfDAZ0/ejNWmSVxEx53lAvFPebvyPwzaFI8f56HeH7cPuT2bPJyJ3yrzGjWlVH9nxNda2FLbtrmZfm471tj6FdGCOH37usXAH1UL2xrrH6dPT0CX2bs7XGzb9/nrTyAn7RbcE8y8viJ9QcrJtK+b5euurqsdjtNBcc5plrs9COHUPw0D6UqgrULgvf7KgkMSmZ12pPRAY+f8bApLRkAvPbuX5CMimzn2T+0uXIjX4pN3dqT0Jy6numRNPrN996S1VZcUlYPRvCfCKdBS4QDGNjfUPNy7pgTujaj0+oOhq1lKtlHJkyKROTKaqKo6ewkcaSc3x14GO0bifqrEykr74gmD4CyZyAurOBUeP06Co17A0G2PrH1+k7384UYz22YYlinLWsXLkiMlne0rv5/MutpgfWzJsy/t62OzyKc57BPRldQjp9HbUXSX6bYBgbz1jrNzpCqTQTxB70c1I7inzlVnrrnKjOVzPJKbN02mjMHTUI/kihALpz36BqrsXS7UerDaE0yrzvs4r40bDuprn82+E6blv7DPffv5yl65/iuVdWs3p9Hic6nuejXbtoqXGSkXodq59cQaNLQ9mXhyNcwj9X80Hsi7P8f9b0clxlQ7H0IRcWQEkJAYdMUjCWjj+8hy51JN4vP0U6+RWyEoSAj7YaGXu7B5tOjUMkiqfWPIRl61506Sn09g5Exi6oq+OT/hpeKd7N8f1+3trSSVORiqZGCzvP76Ck/FKFX5luboo3c9hq27jpZUrLKqmqaxQCWoRJpUbtFquj82LPL2JacoCbZ03D2HQSpycKxeWnuSWKeIOXrRY3sQ/ezhhXgJId+QSnJmKOi0bWSJxt7aNNkekR93adgTm551n182tp7pzAniOFFL9djaPiVJhJhNuVBGcQxUncx07k88WOD5gRq2HqtBuInzAeQ1IS/mMH+fi/9lB8upm4RC2PxKlp7Y0iJEsM+HXs8vdy3YuPMamomXV/eZtfDkvnuqkZJN25VKQjP2Uii9jP11FbG+SFnDSyV81CYwzQctbFgmCId7b8ZojIILfLY1A4tQg+oaRAUDOwdtVd+plLbsLgseEoOIYqcyya4amMqigiVhnguboeZLuejICRFidY/RLv+HtYPyWJdW+8w2Oma7j97iR8Wjede+swtbSQkaJn9Jh0rnUOoC5ysbe8lp5TnTi+OYuzuR1Lb1uYxcWFu3IFhR8tWnzXG3/Y9pt16R4rgc42tDMXojicON79DyhrwdfYTGJKNO/n9/OhO8CDUhIuMdJuuZ+17/yWwG/f5/7So+yXM2hLUpOV6Cd7tBqDrEH2+rF3RuHt8Yoth1c7bOwcl4h0263IfTZiRSJoO747zCPC7ZJMEi5vHl1e3N7Rtm6E4kNdUQYmM76tL6F+aytxniDmZTficydTdVJhuj6KYXIMO+Ve9oYsLH5pHdflf8qmqpNsUkZRp9MzxRBHTpawnuGJyMNEBhJ/LGGiH4dWWJjXxHRdDLKkMPl6H28/52X7zlzuXL3gAqcIQeUvrfcQLnZfJ9IIzST6upE2PUWg6BhSbxfaCRNRWhsZOFJC0Quf0Nw0QEquigJLFCpxzikRabpWbONwvYrjlRK9viBBHbQLdR/r93JECPPExzZO7rVRut+D26aQeaOOUChIjBCf4vNTVJnE2v8cwdfNA9zxbDwT546NkAzH4IZmx3Usn/Frjvb8in8/lkngSA0PGA1EuW1oGutRDVhwBSRCZhPxIyWsnX1UNAgVaiW6JD+FipVVY6K56VQlz5YVc14K0RcKERKnl0UxKiZeb2X4aIXkXANpE/WYoiUhliAenwqH2MhPQv2ofAozp9hFfLrZf8ZIc6EHe2tLRCQb0q6fwP4TX0Omhl5VBj2lTgzVIXJVMkahYtktvK28m/5KK1WVKo4Ju6kVimwIukTtpkOcG1QWE6X9Ws7IHlwqhTlSvIiiILUBmRPNOgobVXTWqIjp8wvPFBvn1ONWdBSHxCHJKHQ5fzaN5kkcO6onrSZE0e73wysohQlubC8q3yAKA4FpuBJHYGu3UVZfQbRfT4pXmG69l6BYjZBBxUc2F+qfLkSr70Pdb8EvrEWSVGKbByiXnHjF6o1SoogVphKUAmKr1QxfkE3sHXPpEn/qREUXmi4z8aLPWZEOdyg9uIWF6Z0uQm2tLDbC59tejpAL/wzaTN7wV2hwPWspO7fBZBqNN8aEIyaautY2FJueaE8M53sldlq8JKxexhOTc8isamBZgo6RPhGHXgNxklYoWcYly/xElcx8KYEbDbEsy9ExOz6FpStvxjRcj7VSmLEgc0pkngOBfur1Qowj0gn1djNN5Wffu9vDjC66y8WLyLE+fHIWgZmYtxyP1YZcU0mKYiBHHYUzJHHHM6tYcY2BhLRMWre8QYLfQWWzyCAOLYoqxEF/iLKQldtUw5g2TKysXUtqloakmADGlAQMmYmom6rJL3Px0/p2rCGZeHM0na0VgxwG8VdOAn/NxWFyg98ekuXQB7jPHAAhgvasDPKzrmFmapCHfjybhDlzkOqLSMjQ4F2xBoNez9wJKpI0WpGETNzLMJHDXcy4QRKR6SZFEDQIEqo4hYGDInKtEgt/pGGkLBQ8Nw9p5DgWLblrkMMQuaj5UddE7gQuPSyESd5sFtE9+OKWvbk8sFzNcpEm1j/5ArE5WahjE3C2N6P/2RNE7/uUEUliyXUS/oCWeDHcHekhujUOir4WQpkXh7NJTeyYZKKyU5FFf0tjkJAQ0dOGTPzny9EsWUrp1LmM+tnT4Skj3ufJ90TSSRiXEgzDqYtssyfkIm/806iFnw0Ta5H039tRP3oPga0bMT36K3pf2QzZcSS8+DgBD4wZ42V0RtjXNBF/SyJEjHlADCTj7FGwvV/HcHUpTkkv4lRHhjGakMuJLs7DtkePct/DnSTd85Mwg0tO1lcSzO919Hs6Q+813sebFR9yMLSA7eOu4Y/FA7jbfGjGT0b11QGSDX40thaUP28XbqKg06hQC6EU9phIJIZoowrJ7ydap+D1u8SJx01IGHJY8aUnYuhyCx7CKwPOIOXdSdwwwsKGTWqm3j0zzOIiySsJCmg1enVXsRi8vYbJXbvQ9vfQHB/DFw1BerZ9iPO9j4Vyg4iww97iQw5pSEzV4BuQ2Cp2525TMu12ndh2kVV6gijNbXi9Co5eDUGfiB6djhfsNehSUkgu3MWuL1Jo7IvD4Tbj8sYOsRjE5QQVh5B+U+8pqg6M5pPfO6lpiGHehoV8tiiTfxEr8Wqlj5OnFOzCfDsLB+jvkXDZ1TRVaSmw+mnNTGNTsBNZCEQlTNov67G5zHT3CyM/l0h/n5oC4ZedJh0Jax5h3WYjurNHObhHCM3owRx14WNxEJcftzaMebAan6aMCZNmUFDTTkpCH7fk+WgK5dBR2sFpaxtmv0KaJw6bRYvbpaNKnGj22Ox488ZTO3cW/a0d2Prs+MTJLdYWi8shvo9lF0eEBZWGHHykstMtB4idv5Clk4pIz46h8qSHpFgfXU1uGs61hrlc9ZtkQ1zqKIbnwO+O6+j1RpNzbYAK+2jOO9JwnakgakQmjf0i7QnfK1PcFCvhiW30TUvn3d076Tu6j5zlP6ew+jRl1gB2cWAoFYI7KPLt/jQz5RNy8Iwfi7+zC+PsOXjFd02DZyS1nh8xMbmVws+d9LS0h7lECF5iikNQZrz5AsUftJE61ozphlTqD3Wh1DUQNToLkYyxio/6/wUXxosEedyIycRFG8m7cTq52SP5RpjzVyXVKHoDWQndjFkzl3SDleqBFI6/XsJj6328/pIIidO7wt0jY12VYOqcO/G2NKFEGQmZorhrwQzeem3T0OMIrtbvaogQjR63hNxcN2s3j4w0NnSbI/WhreXk/WL8xevqaiPOCpEgvjX+pRPdkmrks063uLrEi4bwfUldDReJ/i1cTi6Mf2TSvwdX++Pfxg/N55/4/wb8D16m7gz+GNRaAAAADmVYSWZNTQAqAAAACAAAAAAAAADSU5MAAAAASUVORK5CYII=",friendAll:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAhCAYAAAC4JqlRAAACT0lEQVR42sWWv05CMRTGeQIXJv8kxgHiZIwxLLI5mbjhIDgYFxcHFiFiYpydHBwIA0Yn3dTF+AJiYngFV1+jegpfOff0tJcbEG/ypS097ffraXsvudzfP4Zp5o852lo0zyfrtvwPCHNVKVpzKmcJ4NK+uTznlAXARJQaRykn8dVTOQ6EDXitb9gBWskmsBPDCKtEG6bYf8TGzoIzCpkLCDshmcKAr5SvHIDut7IP4QaSAYKlAKGlHWOQCdRViD3/QHoTwoxDoa+37Qt9EgJtypaL0TJwc7CWkJyQ6relgTQA9GEMB8EVNJ9tK+1Am8ZOwYPgIDDQIGQf3xJp3r9vmU6r5gPsl5ZUCA2guepLA8BYmGL1LAvJLUApYQAAM20LOAiMecplPQqg1fkqtUPLs8MNJQBlIwggVy23gcu8Xybk9TMADpIKELsR0lSTBtBp7ibaBJF6C+gcaAD97vFgJb+l1tYAmKG6eu8cSCCZAZkN2Ze2DUEALf2xLYidBWGW1Hnd34JK+TA4ABAwsXvKTHnbjnm5UzPgzN8eEpmwlYvatYMIZUBCUNszB8AQwls5mYcAOIRU53Q+ehu8OAIgQwjGaQAcBDBfjwXz/VS0k3MQCUiiOIq3v0vTLAAk+h0TUgnBjIv3Iz4KMQlAmlIBRrdgBEDpnhlA1gygHFd83NQA5D6HhEM6NQB+yrMAOAWM+Tch8bKRALjjWQHcu0EYd88WwgDoBMhUAIZq1vLmo71iGtW8/qfUfgGrgyAK5m+9SQBoTlJvaE5l9Gs4Q9nnB0r6pIsoYGlJAAAAAElFTkSuQmCC",clothing:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAeCAYAAADdGWXmAAABIWlDQ1BTTVBURS1DAAAoz2NgYNJwdHFyZRJgYMjNKykKcndSiIiMUmC/wMDBwM0gzGDGYJKYXFzgGBDgwwAEefl5qQyogJGB4ds1EMnAcFkXZBYDaYAruaCoBEj/AWKjlNTiZKCRBkB2UnlJAVCccQqQLZKUDWavALGLQoKcgew9QDZfOoR9BsROgrDvgNhFQE8A2W9A6tPBbCYGsDkQtgiIXZJaAbKXwTm/oLIoMz2jRMHIwMBAwTElPylVIbiyuCQ1t1jBMy85v6ggvyixJDUFqBbiPjDgCPYNCHHVdWagNgCFP4T1ORAcroxiZxBiCJBcWlQGiwMmY8J8hBlZkxgYLA4wMDDXIcRSVjIwbOFiYBBPRIipz2ZgEDZjYNjhBwB5eE3pNYf0kAAAAAlwSFlzAAALEwAACxMBAJqcGAAABe1pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKE1hY2ludG9zaCkiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTAxLTI2VDA3OjIzOjU5LTA1OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTAxLTI2VDA3OjIzOjU5LTA1OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wMS0yNlQwNzoyMzo1OS0wNTowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2ZTMyODY5My1jMjQyLTRjOWUtODU1NC02NTgyNjJjZjZlYzEiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyMmIxZWNhYS00MjQ4LTljNGQtYjVmNC1hOTIzMWRhYzU3OTQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMGIyNmMzOS03MmIyLTQzZTctYTMzMC00YTliZjYyMDEzMjYiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iU01QVEUtQyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDBiMjZjMzktNzJiMi00M2U3LWEzMzAtNGE5YmY2MjAxMzI2IiBzdEV2dDp3aGVuPSIyMDIxLTAxLTI2VDA3OjIzOjU5LTA1OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NmUzMjg2OTMtYzI0Mi00YzllLTg1NTQtNjU4MjYyY2Y2ZWMxIiBzdEV2dDp3aGVuPSIyMDIxLTAxLTI2VDA3OjIzOjU5LTA1OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4uRVJwAAABW0lEQVRIx93XO27CQBAG4D0JZW6QhipKZVHT0FC4TMkJLFLRpuMC3ACJjkPkIDnChjEe599hZnfWeUgE6RcGe/fzvswSYoyhlMsrYjxl1Hq82Md51+f4+jIZ9F8ILduv5pPA+rv7K0y2LJdvdyONVwK9HWI4vX9lsYxhs71GQaswmiDZFjFIoeMBdWNYGc/Epmli27ZJEowQeqeWA1hGhoupwq7r+hAmM3arxAC0IS4E0FipFoQYo3cGNawI8ZjkIG4JH2uYCxqA58dZCmGXlbDxJBe8fNa6jpD104MOyTECeJwgyQnAsrEgxMRau8XkTMJFS+HvLUhMdzFM4XZwGbSCs6waY4DvXMI40J64MQv0QpMx7N4fx2SB/4tZ5+4H09bOr7YMF6z1MPUg8OBV9yBqpTWYvKa04VEftqXZqCC5LZ7946l1q/VUcW7L/ZjWssq9v+uPRM1GNJdPo0rr3Ta0UNIAAAAASUVORK5CYII=",frankHandRisen:"data:image/gif;base64,R0lGODlhLwBVAMQAAPX19e3t/+/v76Wl1P/OnP/LmPjDjL29vbCvr/8A///MZsyiebGWbJqIduORHJx7WodjOtY4OKMiIpYfH3t7e2ZmZkZDQHsaGmUVFV8UFFgSEksQEDMzMwAAAAAAAAAAACH5BAkIAAkALAAAAAAvAFUAAAX+YCKO5NidaNqVbOu65zXNdI2+OB5fcu3zl1NuaALyfD/jiqjbGHvI2XOzZLI6G6cxSptSrdfskys1ZqvgBFa8JXu/aXVWq1TtzOe4fA48Kf6Af3dzcCQpTXwdgnaKCh0XhGgiHQaUQjCRjh0VnJ2cfmt5JZaVlZhnjp6qnYqhkmqlli9YHQ4dHJ4IugieHLW0V5QMsbO/HMcVuim6Fce+tq+kBsOvJrbOyh0F2wUnus6/V5XDBqYtv7sIJ9zs3R3p4YbU5eaGKBYp7fruJ/jR9OWiNWjQj+C+fR0a+DtHblo0fN0M8tPGLV9EbdU6DGNwY1SHBQkxQgAAAALFDiP+S2IkCPIcigAwMyqkCOAEAHY1O9zsZoEgDJhAAwjsALFAzp3bjm4jGjIao1EzZxq1iZMqUYI9oznggaGrpBQEKR5kdyKsChMKgHiFIZXs0nZXGwGyNWnrha4YqqlhWrFp2Ir+FDgQLDhFWq55dRhMOLDxwJUnbDmYLLmWYMSJi620wLnz4hNUoKGwZQTD3cwuN9vJ2m1O5F+O1J7W+/LexwW4cTNF4bryI9PA13oUJFQhvgXsQHImaAtVK7zQUU+SSzwFcm4gUWTPkrd79LxfA00mLjS7dd2/ojOKNncwNFsxc8sHKdQW3ktDFI1/XzlmBwIABthBfb/pdY4thf3+AtovQJ0gYEykGXjgaL9EAl+DJzQYIRi/VOYIG6EN2KAEGf4SBIeO+MZHHxd2oEEEEmjw2okcthIKGywO6KIEEehoSwYSnvMhISvmKJSMEALDoQNEEqkEfB1EIKOJhTChSJORPHlCj9DwUCURtXjZpI5PetjBBJAEecVhYw4wgFB1BPELml/mZ9cZZ7jpHw+tBBGEFHXmoAgQVJyRAmlBRNgKnWqOYpeXtFDWJZ98zplmGoOaYQcbfT5yJqOYbvAooaDRkaini17KISSXTXEHpXLaAiqmkGzQKp9w9hGbp4A2eoWYl4mY66lyOjJrHDucgeEjsL42Q6BWxiDiCQ/+FPCAp7tSQQO0YBoqVLXu8NlcLVk86+s5kSzFrBZY8OfauaNEkiwdojIbGWXwGuJkrWYg2kdHetxIyBSklUGXHpNgaSok0NRwgSMIJ6wwIRFCccHBCN8o6caPTNCxFBBnnAW+6/XwMZoYI1uvHwsfMcPJD+dryLgYMNmGDRanvOQaHWCgAB1RwBwysq7UDDQSMOvMoWs+H+2D0DKbwLTNLj+dc9QSn9A0EEFDgV/GK/RMNRQ4e9yBAAJ8nfHWVdtwggAHwA031iYYzfXTZ8sd9wF8060GeHe/jAIFFPBtuOF+d1A4s4Kj3Tfhh/OddsRqQJ6C43A/XrjkaSdO+OY1h2eOOOFoqx3wAZ9DHvnhZ5secQd8p7563J1TDgPsqKvOueu22xN74aX7XaPkvPeuQ/F6hAAAOw==",alert:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAfCAYAAABplKSyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOOSURBVHgB7VZLTBNRFD3TgkyxxdL6AfyNlsbGGFOVEjUoFf8xhopx4S+YqAtX6kpjNGqiW3WjGxdo3Bhj/ETdaYqflfFD4gIItBYCBQO0BYq2nek83wCpwMB8qiQmepKXvrx3353bc8+79wH/8ReBQRZwOp1HJq6JohgLBAJPkAVy9BhzHGfNyclxe8oW1k3cY9ncEMMwsdbW1nrohK4gpADoj//unf2yvc7Ofm7LtoAfWbKrCVIKDuyvInzyNklEV8hHbP3wXmlpqTS8enwbtRg5HI4bO7a7zpw/t5w1z3hOV5KTWNE1oRE1+w7j46cOnyDkNkej0SYt/jWlw2AwWNm8b9aSuUaQ9MCUdoQMoHj2e+SbElbpDDRClQkpDTV7VlZvqjQVLVkYhCrEHjBGBxIpFvE4k9TChkHNgBBSu2Z1gXuzV/Mfg6+6CHNmEx9lo1qLvWI6XC4Xxy22wsw2gAj8uL1wmGTmFos0fl0KknoNS74RNlu+VbrWoVAopvQdxXQUFhZ+vn6t2l2xjgzTPBZ7D6Vw67aAe/fT6OsDqrzjXW2o3AqbfbHLXx9YG4lE7ip9R1WYYvI5FaNq1mQg/GuIqbQm20m9SxTSu+6/emUn53LNoh6T0A16ptwzD5cu7XBTX4+hNwiWZSUVej2rIrDMTCFbzC9KgVvQbaXl3K1kJ0uHxEI6nfaWexbBbGrMjoVRENJDBdqPDRVLpVvmFQShYTKRypiQ+kNJSUHdnbpdsBTk4XfhWjYLFy6s5ejUP8qwDJMLUxyA+KMOfwKE3iox8VDRZlzHowI6Rak7eZFGXmR7pHiwK7IXjMEyPDebgjDnvVH4SgG6ozU4euxBqL09uqelpaVh7PZEJqyJRBdXbH9LcwhF3Lz5DuGuESPPqjhOHFeyTqLY9hI8H+WoNmQpyQRBO6WPdsrKjRV5NIBmqOH9h/ZM1SyZJxWq3KmNqbgJ6UDtoTI8e9FRKy2NffxkgqB13udYSry+3YUQeahiS5UTg/ER4ZZRJmiCVM8cPmjDK3/7ETpto6NeFsRwwEKABtAGLTh7ppzmekQTSAdpdVQPQqQ9hYjyuqPreTfOoYri9UB/U5gGZFqf3W4PDX2HKRgk7or10xPb+cs8Wr8yp4eGjPd7e3szlTOTjpG767wR6UvHBuPkJKYBn7/gVDjMPG1qagqNXZc9z6WHDO0dFzEN4Hn+tNoD59/GTzw3WhYOeAPpAAAAAElFTkSuQmCC",hashtag:"https://images.habblet.city/c_images/notifications/hashtag.png",move16x16:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAA20lEQVRIDe2S0Q3DMAhEvWOX62jdowO4AuVZhFAHJ+0flixswnHHOa3VKgfKgR840Ftr0T5rHWEkl1q9vx9jbwJSQKm9io2AGcU66WXS17N1Nk2M5X7qHRk4iSsuUayRJgF5SGbE0ceLDO9SbFdIjghEGTKPtffl85gMImOhF7rcfAbQnywgnWFuffvrpN6qQSbvaKeUM297902VhCY0hYw8kTx15E1M2TvU28kmTVSkJxfshsmR0oCYBB+sT+JU1A68ApRahEpcwVLs45lNvp77Ga6+lwPlwHcHPn04YM8HmnN/AAAADmVYSWZNTQAqAAAACAAAAAAAAADSU5MAAAAASUVORK5CYII=",hibiscoArticle:"https://files.catbox.moe/7rexrw.png",clothesHanger:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoBAMAAAB+0KVeAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAeUExURf///wAAAP/hAP/3yP/iAPS7AOKYAOOZAOKZAPO7AD8ZUx0AAAABdFJOUwBA5thmAAAAAWJLR0QB/wIt3gAAAAd0SU1FB+kBCAAwNPu5I/MAAADRSURBVCjPzZFBEoIgFIbhBr43YGvBOgBYrR0bZ1qaXSAXuG5Tbb1E500kZ0A8gG8BzMfPz/+AkE0UBYghCpFEQqmLLBIqkPlSyjKCRQSbFUgTgvvopvGqJs7EjyvCtlzpSK5AzOvoOEjVPhaU3hSgfoaM6YbQ7hw8FK/K8ShUJ88AKpcxlUPiG7oF6mFmqOcGafffJmwynJM5W1r5TaeuMTz4QSgqK2GPMPL0f7wGv/jVwt1dCKG1tqNQ+eVrITVvY0zfm08/Ti/j3CCs+P23UD/vcR7nyMfWZQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyNS0wMS0wOFQwMDo0ODo1MiswMDowMJ+Voh4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjUtMDEtMDhUMDA6NDg6NTIrMDA6MDDuyBqiAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDI1LTAxLTA4VDAwOjQ4OjUyKzAwOjAwud07fQAAAABJRU5ErkJggg==",guardianTools:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAABCCAYAAADpCK66AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQtSURBVHgB7Zs/SBtRHMe/SWoaW2KioRStBduhhRin0iK4OHSqIIXSIYNrF4d2E5zqorhIOwldHTJ09M/QyYC1UCkosR202BNjCtqYS6Mhnp72vTMX0njh3eldfJfkA49L3r0cfO/77ne/++UdUKc6cZTbkUwm35CNH/ZDDAQC77R2lBW7t7f3i2w6YD+ElpaWe1o7rpV2FDlqR1cpfqLhLTQcPuesjR0t5ZzDBWfzZ4Pyn6ORSASZTAa84/V6EQ6Hi7tUh0EcVrYFZ4mjp1oH6e/vRyKRAO+0trZienpacx9xWNF5rdyP5+fnFUe7u7uV75tp4PAYSItpyPIxeMHlAnxkLjY4nYpY6nBvb6/m2LJiJyYmFEej0Sja29sRWQUyh8Da2hpX09rtBrq6iAm7uxgZHFQcNixWZVMEso3Azh8BWUkiru6Q3ix4QZZdJN74sS+yxzLFLsbJNCGO/hS+QJL4C1Sy7IYg+JFLs8cyxYriJo6dWXLQw3yPjzQX+CJJGttaptj41iI8f31FPbdJ84IfJNJipLGtZYo9Dz/X6xmS7pEXEBuHXdEtNrm1BSnLm6tntD58qGucbrGfJieRSSbBG95AAOHRUV1jDU/jUCgEn8+HqyadTmN1ddXQbwyLHRsbQ09PD66ahYUFJW83wgUClD4SqRRmVlZglJ4HD9DZ1gYrMF3sN0FQtikSzDZIvmqU5ps3kSNpaWNDA4J37sBMTBf7cWkJl4GeLNqoaLPFOlFDmOLswvo6PpNHPzNJHRxgfHZW+UxdflXmsc0Ipoil11jKgoSjcEyHA2ZgWTRWuX/rltJYJEQRPywu/1RE7NPOTuY4GpSsFltTAaoutlqpi61WLI/GennU0aE0K6m4WJoZXQSaRV2Wiosdn5uDUajQoWfPcFnqAapaqUdjKxnq69Ps/769jZnlZVhJxcU237ih2U/LMFZTv2arFcunMX1G1VPFSFXgrxXLxdIKBG08YIrYtubmQl6r1o0vi4cErM58KdVjUvAyRWyQVPCD+Sq+WWIb3W68fPwYZmL6NFaLa7mjowtNX3prormwGYl/KaaLVeu7Gzs7+BCNwii0OGfVo55lAYo68zQYhFHa/NatD7VWrI4SaiUxLHZ4eBhNTU24auif0UYxLDYWi8GuMMVuLcbR0JjCk+cvIMv6l+FUCpfLDWFewFFunzmWvcJtU4TTmUMoHMJ173XwhpSREIvEcHKSY45lir17F6AJzO+v8bP1rrwhy6B3KnJbB+syZoqldwKPh+S4MRESf7NYWYLb0UWSGLax5VeSq4urp6amyIFyoMnQMT9rqgvQyUZSc2KIBwMDA5qLq9WV5LW5bP709HSEbh0Ox2sUvRRBXzKwywsRJYhE0/vijtp81UUlfzb8pQ7bCNXRc49ctf16morqMOwHHzWgOhXkH5gQgBXIFFiBAAAAAElFTkSuQmCC",bichoHabbo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAohJREFUaEPtmltyhCAQRXVNZE24JllTWJOpRttcW96KwdT4M+UUWH24/UIZB3HpeV7kfz3em2ka0a7DDUHMWvdo98mmyZgBYXYQhDB26hpGq9nZhzAO5E0QvMISZnwjhA9mB+ndnUK+TsqQi31AeskGH0V6UQIDPjtGONXFIGSyyJlDz7uaZIpciwaP46EJODEty+KMYoDUeH4AzbsCVAWi57WiHi6tVkPGr4GMYgCV2epYY9x8XohS1y0CcdV/UyUIYyz1PgMCKLVC+i5r7eFvAqqBKQZBGLSAwYIQm2InGLOCIFANTBUIw9AvuZAP4qCCVoOdzMDuwzCkmpo1RfplmGoQ6WaoRA6EXr6P4lyEuQWELOKYOMVDQI0uQYIQq2yr24BrnSBcuvsN+pp4qVaEs1cUAkCS6fRpECx0SQha6Cm+y9zVeQpEVmqXcSL1gQG4YocUcVmPAv8JEGxNvIUQrMwFQDBM4bU1JRkjMhZchvIokQOAfZdUCmGaBLsPhFcTC1zKhaRrMRTPaw6Cha/UWF9ckMH4HL5/BET2V7VAEiIUJ01c69AYbi/EpFvEakQsLnjeI8HuM7Jk05RST0I0y1qx1UaglMGhePGl8+auFVIn5vshABd3vp3mNoG76dy9SbKOpHokTs85inC8pIqq6yG3XebjICngkAJksA/sz0ByVtkH2yVIqtP1qdIdCBmZGyeoXncgORChAihhcP//eLCXgBCQLITolvhO7HUgmAheUxB9inxAthW4rbLnFMTaMTnvgm8BqTWwZF7q+8llkBJjWo79vyCu8+z86EZoO+G+IW590H6Y5i0wpyMcTPmmoxwSwtUnlOtfHHNCZVpmmbueLQ+e/QDpjr0mMcFNFwAAAABJRU5ErkJggg==",roomAdmin:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAiCAYAAADRcLDBAAAAAXNSR0IArs4c6QAAA/hJREFUWEetl01IFVEUx89ImyD7WPSBSX48yU0+okUlkdWiIAIjSUMpVwXVpo1t4lVijza5qE0Ftaow0uhDiKAWfRHqpkRtYfj8iIy0TaZQi3Dif2bO5d6ZO/PG6m7ezJ177/nd//mfO/McSt7cPEOd5EuZI5NM5ODz9wrJqV5Nbs8Ur4BrbgVLiObnyFk3IisnWdOgyDfB1YP35RbT1sNL1QIGEGAAV9y/YJg4CNf9VME77b31hbakfpq7l1Dzc6wOK+ODuG9zVHBolpmSpChqkAdARL13fkQDRIH4YElBbBAqBQBAQwrUbjUfiB/QFUrNAkCCEG7PxVUq74/aRmj/7kKrERWAb0xRTfeM9FWfmY71iQ7BAPrOHz+fZQipClUREYmGGlHmRb8GY/glBCEGlFTgXkrSSIkFRCBkTqiU/TlB4woEq4DJshOkYk2516e09M8JmzICgLGqkvxqUQto50lZaQl3j41POAoC5wEAZBFJBfp0kKAAeP51dJqB2Q8xgTFXgguA5EV5IUoJG0hscPME5dMW5arvXt8MlOCSlCYBg0pIvx6cZd+W8qYGAv9+1k6L9rTwo9EnVVS+b5AhIH9QzVgI8UQkgO8R/1CigZYampyaor4J7/2SyWT4V2AWBIGJkmehxj2anBu41oPLOEAoVSNggse5oYQYUw8MNQRIDGoLboNICqMgggCihr77uOBxEHlguERVdeiG0Xcvpx1ynq/p6cDYvbeH1ZSnRyr5Gp6BX+AV+IQhHh4lrvNgGiC/7L61ZjnVbU4bDOn21xTs1yEA0JVJ0cFTx8lZeZoiIdJVG9yBwSESEF0BAUC5ZbNZAwIAaPkg3G+X6EJ9ls69nFEbwBxDCR0Co6QsAYCjHC+dpBBDMx7Yil+e7FBCIHDfdHIHVTR0M3gkBB+9zUX8iQZl0A7cpLwQ6yu/89jGE7X8e/daNzXdIAbIvXhDqV3blQpISwhCTkx+cfkA8krHzCRKnL9sGtbZ1K0A3g98oPpszjCn1Zj8IdNcRHjF4rjWm00JyM47feftXG82gI5j3ghJkw0Cz/mz3v28Mbxocb9KR1B2GYzA0iQFooAOijShfRwOeCIQ1foHB8bs7GpRObftXPrgARuAPgcwDfXeC07OCYOjrLTEABkbnyB38oFnuNY6/hUD4hoqjHTWUsfVV/zsbFeGzwRbqkSJxlZvPWdtnR0ilA+vw0uXBUZPRdvOZVYIW3CsJ98Xif6c+BNcqBIHAz/cv3KdqwFK5AuOtfTPuwgBwt1Ilw0G1SJNqkGXXd+5BJfxiZUI4kTBsGe0nMcF/2cIWcAGA8MlCf7fIGwwti/quHz/dTqiFpUSt33QRs35A7r+1lZRFlXjAAAAAElFTkSuQmCC"})}async searchUsername(ee){const te=Message.waitFor("MESSENGER_SEARCH",!0,null,!1);return Packet.send("HABBO_SEARCH",[ee]),await te}async getProfile(ee,te=!1){return new Promise(se=>{AsyncProfileQueue.enqueue(ee,()=>processGetProfile({userId:ee,promiseResolve:se,allowPassToClient:te}))})}async getProfileLogic(ee,te=!1){const se=Message.waitFor("USER_PROFILE",!te,ne=>ne.id===ee,te);return Packet.send("USER_PROFILE",[ee]),await se}composeSomeoneAvatarImagePng(ee=null,te="s",se="sit,wav",ne="std",le=2,ue=2,ce=0){const he="https://www.habblet.city/habblet-imaging/avatarimage",de=new URLSearchParams;return de.set("figure",ee),de.set("size",te),de.set("action",se),de.set("gesture",ne),de.set("direction",le.toString()),de.set("head_direction",ue.toString()),de.set("img_format","png"),de.set("headonly",ce.toString()),he+"?"+de.toString()}composeMyAvatarImagePng(ee="s",te="sit,wav",se="std",ne=2,le=2,ue=0){var ce;return this.composeSomeoneAvatarImagePng((ce=window.userInfo)==null?void 0:ce.figure,ee,te,se,ne,le,ue)}}const hotel=new Hotel;window.hotel=hotel;const defaultHibiscoState={isZhang:!1,hasRights:!1,isOwner:!1},hibiscoStore=Dt(defaultHibiscoState);class Me{constructor(){dE(this,"userInfo");dE(this,"roomData")}say(ee,te=0){Packet.send("UNIT_CHAT",{message:ee,styleId:te})}shout(ee,te=0){Packet.send("UNIT_CHAT_SHOUT",{message:ee,styleId:te})}whisper(ee,te,se=0){Packet.send("UNIT_CHAT_WHISPER",{message:ee+" "+te,styleId:se})}action(ee){Packet.send("UNIT_ACTION",{actionType:ee})}stopAction(){this.action(0)}wave(){this.action(1)}blowKiss(){this.action(2)}laugh(){this.action(3)}cry(){this.action(4)}idle(){this.action(5)}jump(){this.action(6)}thumbUp(){this.action(7)}dance(ee){Packet.send("UNIT_DANCE",{danceType:ee})}sign(ee){Packet.send("UNIT_SIGN",[ee])}sit(){Packet.send("UNIT_POSTURE",[1])}stand(){Packet.send("UNIT_POSTURE",[0])}setMotto(ee){Packet.send("USER_MOTTO",{motto:ee})}notificate(ee){Message.simulate("UNIT_CHAT_WHISPER",{roomIndex:this.roomData.roomIndex,message:ee,gesture:0,bubble:34,totalUrls:[],messageLength:1})}walkTo(ee,te){Packet.send("UNIT_WALK",{x:ee,y:te})}lookTo(ee,te){Packet.send("UNIT_LOOK",{x:ee,y:te})}stopTyping(){Packet.send("UNIT_TYPING_STOP",[])}alert(ee){if(!(window.isHubbe||window.isHabbok)){const se=new Map;se.set("title","Alerta do Hibisco"),se.set("message",ee),Message.simulate("NOTIFICATION_LIST",{type:"",parameters:se})}}bubbleNotificate(ee,te=null,se=null,ne=""){te||(te=hotel.composeMyAvatarImagePng());const le=new Map;le.set("display","BUBBLE"),le.set("message",ee),se&&le.set("linkUrl",se),le.set("image",te),Message.simulate("NOTIFICATION_LIST",{type:ne,parameters:le})}async placeItemFromInventory(ee,te,se,ne){let le;typeof ee=="number"?le=ee:le=ee.itemId;const ue=Message.waitFor("FURNITURE_FLOOR_ADD",!1,ce=>ce.item.itemId===le);return Packet.send("FURNITURE_PLACE",[`${le} ${te} ${se} ${ne}`]),await ue}async placeItem(ee,te,se,ne){let le;typeof ee=="number"?le=ee:le=ee.itemId;const ue=roomStore.furnis.has(le),ce=inventory.hasFurnitureById(le);if(ue){const he=Message.waitFor("FURNITURE_FLOOR_UPDATE",!1,de=>de.item.itemId===le);return Packet.send("FURNITURE_FLOOR_UPDATE",[le,te,se,ne]),await he}else if(ce){const he=Message.waitFor("FURNITURE_FLOOR_ADD",!1,_e=>_e.item.itemId===le);Packet.send("FURNITURE_PLACE",[`${le} ${te} ${se} ${ne}`]);const de=await he;return inventory.items.delete(le),de}this.notificate(`The item is not in the inventory or in the room: ${le}`)}pickItem(ee){let te;typeof ee=="number"?te=ee:te=ee.itemId,Packet.send("FURNITURE_PICKUP",[10,te])}buyItemId(ee,te=1){const se=inventory.getFurnitureById(ee);if(!se){this.notificate(`Item not found in the inventory: ${ee}`);return}return this.buyBySpriteId(se.spriteId,te)}buyByClassName(ee,te=1){const se=getFurniInfoByClassname(ee);if(!se){this.notificate(`Item not found in the catalog: ${ee}`);return}return this.buyBySpriteId(se.purchaseOfferId,te)}buyBySpriteId(ee,te=1){const se=catalog.getOfferByProductId(ee);if(!se){this.notificate(`Offer not found in the catalog: ${ee}`);return}const{offer:ne}=se;return catalog.buyOffer(ne,te)}async sendConsoleMessage(ee,te){Packet.send("MESSENGER_CHAT",[ee,te])}requestFriend(ee){Packet.send("REQUEST_FRIEND",[ee])}removeFriends(ee){Packet.send("REMOVE_FRIEND",[ee])}acceptFriendRequests(ee){Packet.send("ACCEPT_FRIEND",[ee])}declineFriendRequests(ee){Packet.send("DECLINE_FRIEND",[!1,ee])}declineAllFriendRequests(){Packet.send("DECLINE_FRIEND",[!0,[]])}async likeCurrentRoom(){const ee=Message.waitFor("ROOM_SCORE");return Packet.send("ROOM_LIKE",[1]),await ee}setFigure(ee,te){const se=Message.waitFor("USER_FIGURE",!1);return Packet.send("USER_FIGURE",[ee,te]),se}async copyUnitByUsername(ee){const se=jt(roomStore).units.findByName(ee),ne=/(\w{2}(-\d+)+\.)+(\w{2}(-\d+)+)$/,le=ne.source;if(ne.test(ee)){if(!new RegExp(`^[MF]=${le}`).test(ee)){myself.bubbleNotificate('Código figure não formatado para o hibisco. Está faltando o gênero no início ("M=" ou "F=")',hotel.images.alert);return}const[ce,he]=ee.split("=");this.bubbleNotificate("Copiando código figure...",hotel.images.clothing),this.setFigure(ce,he)}else if(ee.toLowerCase()===this.userInfo.username.toLowerCase()){this.bubbleNotificate("Retornando ao visual do seu último login...",hotel.images.clothing);const ue=localStorage.getItem("lastLoginFigure"),ce=localStorage.getItem("lastLoginGender");this.setFigure(ce,ue)}else if(se){const ue=getUnitByUsername(ee);if([RoomObjectType.BOT,RoomObjectType.RENTABLE_BOT].includes(ue.userType)){if(!hibiscoStore.hasRights)return this.bubbleNotificate("Você só pode copiar visuais de bots em quartos onde você tiver direitos...",hotel.images.frankHandRisen)}else return this.say(`:copy ${ee}`);this.bubbleNotificate(`Copiando o visual do bot ${ue.name}...`,hotel.images.clothing),this.setFigure(ue.sex,ue.figure)}else if(hibiscoStore.isZhang){const{friends:ue,others:ce}=await hotel.searchUsername(ee);if(!ue.length&&!ce.length){this.bubbleNotificate(`[STAFF] A pesquisa não retornou resultados: ${ee}`);return}const he=ue.find(be=>be.avatarName.toLowerCase()===ee.toLowerCase()),de=ce.find(be=>be.avatarName.toLowerCase()===ee.toLowerCase()),_e=he||de;if(!_e){this.bubbleNotificate(`[STAFF] Usuário não encontrado nos resultados da: ${ee}`);return}const fe=await hotel.getProfile(_e.avatarId),ye=_e.avatarGender===0?"M":"F";this.bubbleNotificate(`[STAFF] Copiando o visual de ${fe.username}...`,hotel.images.clothing),this.setFigure(ye,fe.figure)}else this.say(`:copy ${ee}`)}findRoomMyFriendIsOn(ee){return new Promise(te=>{if(Packet.block("GET_GUEST_ROOM"),Packet.block("FOLLOW_FRIEND"),!roomStore.friends.has(ee))return te(null);const ne=Message.once("MESSENGER_FOLLOW_FAILED",(ue,ce)=>(ce.preventDefault(),le(),Packet.unblock("GET_GUEST_ROOM"),Packet.unblock("FOLLOW_FRIEND"),te(null)),!1),le=Message.once("ROOM_FORWARD",async(ue,ce)=>{ce.preventDefault(),window.isFetchingFriendRoom=!0,Message.waitFor("ROOM_INFO",!0,de=>de.data.roomId===ue.roomId,!0).then(de=>{te(de),window.isFetchingFriendRoom=!1,ne(),Packet.unblock("GET_GUEST_ROOM"),Packet.unblock("FOLLOW_FRIEND")}).catch(()=>{Packet.unblock("GET_GUEST_ROOM"),Packet.unblock("FOLLOW_FRIEND")}),Packet.send("GET_GUEST_ROOM",[ue.roomId])},!0);Packet.send("FOLLOW_FRIEND",[ee])})}}const me=new Me,myself=me;window.myself=me;let createNanoEvents=()=>({emit(ie,...ee){for(let te=this.events[ie]||[],se=0,ne=te.length;se<ne;se++)te[se](...ee)},events:{},on(ie,ee){var te;return((te=this.events)[ie]||(te[ie]=[])).push(ee),()=>{var se;this.events[ie]=(se=this.events[ie])==null?void 0:se.filter(ne=>ee!==ne)}}});class HibiscoEvents{static on(ee,te){return this._emitter.on(ee,te)}static once(ee,te){const se=this._emitter.on(ee,(...ne)=>{se(),te(...ne)})}static waitFor(ee){return new Promise(te=>{this.once(ee,(...se)=>te(se))})}static emit(ee,...te){console.debug("HibiscoEvent",ee,...te),this._emitter.emit(ee,...te)}}dE(HibiscoEvents,"_emitter",createNanoEvents()),window.HibiscoEvents=HibiscoEvents;const defaultState={units:new Map,furnis:new Map,room:null,floorHeightMap:null,friends:new Map,showOnlyFurnis:null,showOnlyUnits:null,originalFigures:{},inventory:new Map,catalog:null,wiredMovements:[],roomDoor:null,roomThickness:null,roomFriendsSave:{forceFetch:!1,isFetching:!1,data:new Map,cacheTimestamp:0},onlineFriends:[],inventoryBySpriteId:new Map,isRoomLoading:!1,isUpdatingInventory:!1,whenInventoryItemExistsCallbacks:new Map,wardrobeLooks:new Map,executeWhenChangeRoom:[],unseenItems:[],hiddenWired:new Map,subscribeInterval:null,roomUnitToFollowCheckTimeout:null};function convertHexHslToNormal(ie,ee,te){const se=ie*360/255,ne=ee*100/255,le=te*100/255;return[se,ne,le]}const getRoomTonerHsl=()=>{const ie=roomStore.furnis.find(le=>(le.spriteId===4533||le.spriteId==50340)&&le.state===1);if(!ie)return[0,0,0];const[ee,te,se,ne]=ie.data._data;return convertHexHslToNormal(te,se,ne)},roomStore=Dt(defaultState);BC(roomStore,"friends",()=>{roomStore.onlineFriends=roomStore.friends.filter(ie=>ie.online)});async function processGetProfile(ie){const{userId:ee,promiseResolve:te,allowPassToClient:se}=ie,ne=await hotel.getProfileLogic(ee,se);te(ne)}const OC=class OC{static async enqueue(ee,te){return new Promise((se,ne)=>{OC.queues.has(ee)||OC.queues.set(ee,{queue:[],processing:!1});const le=OC.queues.get(ee),ue=setTimeout(()=>{le.queue=le.queue.filter(ce=>ce.reject!==ne),ne(new Error(`Request timed out after 5 seconds (userId: ${ee})`))},5e3);le.queue.push({task:te,resolve:se,reject:ne,timeout:ue}),OC.process(ee)})}static async process(ee){const te=OC.queues.get(ee);if(!te||te.processing||te.queue.length===0)return;te.processing=!0;const{task:se,resolve:ne,reject:le,timeout:ue}=te.queue.shift();try{const ce=await se();clearTimeout(ue),ne(ce)}catch(ce){clearTimeout(ue),le(ce)}finally{te.processing=!1,te.queue.length===0?OC.queues.delete(ee):OC.process(ee)}}};dE(OC,"queues",new Map);let AsyncProfileQueue=OC;async function processUserFurniture(ie){console.log("Inside function -> Processing user furniture",ie),roomStore.isUpdatingInventory=!0;const{fragment:ee,fragmentNumber:te,totalFragments:se}=ie;console.debug({fragment:ee,fragmentNumber:te,totalFragments:se});const ne=(le,ue)=>{for(const ce of roomStore.unseenItems){if(ce in ue)continue;const he=ee.get(ce);if(he&&he.spriteId===le){const de=roomStore.unseenItems.indexOf(ce);return roomStore.unseenItems.splice(de,1),he}}for(const ce of ee.values())if(!(ce.itemId in ue)&&ce.spriteId===le)return ce;return null};if(roomStore.whenInventoryItemExistsCallbacks.size)for(const[le,ue]of roomStore.whenInventoryItemExistsCallbacks){if(!ue.length)continue;const ce=[];for(const he of ue){const de=ne(le,ce);if(de===null)break;ce.push(de.itemId),roomStore.inventory.set(de.itemId,de),inventory.items=roomStore.inventory,console.debug("1 set inventory.items"),he(de);const _e=ue.indexOf(he);ue.splice(_e,1),ue.length?roomStore.whenInventoryItemExistsCallbacks.set(le,ue):roomStore.whenInventoryItemExistsCallbacks.delete(le)}}te===0?(inventory.items=ee,console.debug("2 set inventory.items"),roomStore.inventory=ee):(inventory.items=new Map([...roomStore.inventory,...ee]),console.debug("3 set inventory.items"),roomStore.inventory=inventory.items),te===se-1&&(HibiscoEvents.emit("INVENTORY_REFRESHED",inventory.items),roomStore.isUpdatingInventory=!1,roomStore.unseenItems=[])}const _I=class _I{constructor(){_I.queue=[],_I.processing=!1}static async enqueue(ee){return new Promise((te,se)=>{_I.queue.push({task:ee,resolve:te,reject:se}),_I.process()})}static async process(){if(_I.processing||_I.queue.length===0)return;_I.processing=!0;const{task:ee,resolve:te,reject:se}=_I.queue.shift();try{const ne=await ee();te(ne)}catch(ne){se(ne)}finally{_I.processing=!1,_I.process()}}};dE(_I,"queue",[]),dE(_I,"processing",!1);let AsyncFurnitureQueue=_I;const subscribeToRoomStore=()=>{catalog.fetchCatalog().then(()=>{}),inventory.fetchInventory().then(()=>{}),roomStore.subscribeInterval&&clearInterval(roomStore.subscribeInterval)},getUnitByUsername=ie=>roomStore.units.findByName(ie);window.getUnitByUsername=getUnitByUsername;const getUnitByRoomIndex=ie=>roomStore.units.get(ie);window.getUnitByRoomIndex=getUnitByRoomIndex;const getFromInventoryByItemId=ie=>roomStore.inventory.get(ie);window.getFromInventoryByItemId=getFromInventoryByItemId;const getFromInventoryBySpriteId=ie=>Array.from(roomStore.inventory.entries()).find(([ee,te])=>te.spriteId===ie);window.getFromInventoryBySpriteId=getFromInventoryBySpriteId;const buyFromSpriteId=(ie,ee,te=null)=>{const ne=getFurniInfoBySpriteId(ie).purchaseOfferId;let le=ee;for(;le>0;){const ue=Math.min(le,100);le-=ue,Packet.send("CATALOG_PURCHASE",[0,ne,te,ue])}};window.buyFromSpriteId=buyFromSpriteId;const placeFurni=(ie,ee,te,se)=>{Packet.send("FURNITURE_PLACE",[`${ie} ${ee} ${te} ${se}`])};window.placeFurni=placeFurni;const buyFromClassName=(ie,ee,te=null)=>{const ne=getFurniInfoByClassname(ie).id;buyFromSpriteId(ne,ee,te)};window.buyFromClassName=buyFromClassName;const moveFurni=(ie,ee,te,se)=>{Packet.send("FURNITURE_FLOOR_UPDATE",[ie,ee,te,se])};window.moveFurni=moveFurni;const isSameUser=(ie,ee)=>typeof ee=="object"?ie.roomIndex===ee.roomIndex:typeof ee=="string"?ie.name.toLowerCase()===ee.toLowerCase():ie.roomIndex===ee;window.snapRoomStore=()=>jt(roomStore);const getFriendByUsername=ie=>roomStore.friends.findByName(ie);window.getFriendByUsername=getFriendByUsername;const followFriend=ie=>{const ee=getFriendByUsername(ie);ee&&Packet.send("FOLLOW_FRIEND",[ee.id])};window.followFriend=followFriend;const followFriendById=ie=>{Packet.send("FOLLOW_FRIEND",[ie])};window.followFriendById=followFriendById;const followUser=ie=>{if(getFriendByUsername(ie))return followFriend(ie);myself.say(`:follow ${ie}`)};window.followUser=followUser;function getFurniInfoByItemId(ie){const ee=roomStore.furnis.get(ie);return ee?getFurniInfoBySpriteId(ee.spriteId):null}window.getFurniInfoByItemId=getFurniInfoByItemId;var client={},hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var ie=requireReactDom();return client.createRoot=ie.createRoot,client.hydrateRoot=ie.hydrateRoot,client}var clientExports=requireClient();function makeDraggable(ie,ee){if(!ie)return;let te=0,se=0;function ne(_e){!_e.target||!(_e.target instanceof HTMLElement)||!_e.target.matches(ee)&&!_e.target.matches(`${ee} *`)||(te=_e.clientX-ie.offsetLeft,se=_e.clientY-ie.offsetTop,document.addEventListener("mousemove",le),document.addEventListener("mouseup",ue))}function le(_e){const fe=_e.clientX-te,ye=_e.clientY-se;ie.style.left=`${fe}px`,ie.style.top=`${ye}px`}function ue(){document.removeEventListener("mousemove",le),document.removeEventListener("mouseup",ue)}function ce(_e){!_e.target||!(_e.target instanceof HTMLElement)||!_e.target.matches(ee)&&!_e.target.matches(`${ee} *`)||(te=_e.touches[0].clientX-ie.offsetLeft,se=_e.touches[0].clientY-ie.offsetTop,document.addEventListener("touchmove",he),document.addEventListener("touchend",de))}function he(_e){const fe=_e.touches[0].clientX-te,ye=_e.touches[0].clientY-se;ie.style.left=`${fe}px`,ie.style.top=`${ye}px`}function de(){document.removeEventListener("touchmove",he),document.removeEventListener("touchend",de)}ie.removeEventListener("mousedown",ne),ie.removeEventListener("touchstart",ce),ie.addEventListener("mousedown",ne),ie.addEventListener("touchstart",ce),ie.style.position="absolute"}const actionsOnInterval=new Map;function addIntervalAction(ie,ee){actionsOnInterval.has(ie)||(actionsOnInterval.set(ie,[]),setInterval(async()=>{actionsOnInterval.get(ie).forEach(ne=>ne())},ie));const te=actionsOnInterval.get(ie);return te.push(ee),actionsOnInterval.set(ie,te),()=>{const se=actionsOnInterval.get(ie),ne=se.indexOf(ee);ne>-1&&se.splice(ne,1),actionsOnInterval.set(ie,se)}}const actionsOnSelectorExistence=new Map;window.actionsOnSelectorExistence=actionsOnSelectorExistence;const registeredActionsCache=new Map;window.registeredActionsCache=registeredActionsCache;function setupObserverForSelectors(){const ie=document;new MutationObserver(te=>{let se=!1;for(const ne of te)if(ne.addedNodes.length>0){se=!0;break}se&&Array.from(actionsOnSelectorExistence.entries()).forEach(([ne,le],ue)=>{document.querySelectorAll(ne).forEach(he=>{const de=$(he).data("processed-actions")||"[]",_e=JSON.parse(de);_e.includes(ue)||(_e.push(ue),$(he).data("processed-actions",JSON.stringify(_e)),le.forEach(fe=>fe(he)))})})}).observe(ie,{childList:!0,subtree:!0})}setupObserverForSelectors();async function callCallbackForEachElementAsJquery({elements:ie,callback:ee}){const te=window.jQuery;for(const se of ie)ee(te(se)),await new Promise(ne=>setTimeout(ne,1))}function snapshotKeys(ie,...ee){return ee.map(te=>[ie,te])}function doActionWhenSelectorExists({selector:ie,callback:ee,rerun_on_messages:te,rerun_on_packets:se,rerun_on_hibisco_events:ne,rerun_on_snapshot_update:le}){const ue=async _e=>{try{ee(_e)}catch(fe){console.error(fe)}},ce=()=>{$(ie).toArray().forEach(fe=>{ue($(fe))})},he=registeredActionsCache.has(window.observerIdBeingRegistered);for(const _e of le||[])Array.isArray(_e)?_e.forEach(([fe,ye])=>{he&&fe===A$2||BC(fe,ye,ce)}):Gr(_e,ce);if(he)return;registeredActionsCache.set(window.observerIdBeingRegistered,ce),window.observerIdBeingRegistered++,actionsOnSelectorExistence.has(ie)||actionsOnSelectorExistence.set(ie,[]),actionsOnSelectorExistence.get(ie).push(_e=>{$(_e).toArray().forEach(ye=>{ue($(ye))})});for(const _e of te||[])window.Message.on(_e,ce);for(const _e of se||[])window.Packet.on(_e,ce);for(const _e of ne||[])HibiscoEvents.on(_e,ce)}function doActionWhenEventFires({messages:ie,packets:ee,hibisco_events:te,snapshot_update:se,callback:ne}){const le=async()=>{try{ne()}catch(ue){console.error(ue)}};for(const ue of se||[])Gr(ue,le);if(!registeredActionsCache.has(window.observerIdBeingRegistered)){registeredActionsCache.set(window.observerIdBeingRegistered,le),window.observerIdBeingRegistered++;for(const ue of ie||[])window.Message.on(ue,le);for(const ue of ee||[])window.Packet.on(ue,le);for(const ue of te||[])HibiscoEvents.on(ue,le)}}function keepExecutingActionOnInterval({interval:ie,callback:ee,executeImmediately:te}){const se=async()=>{try{ee()}catch(ne){console.error(ne)}};te&&se(),addIntervalAction(ie,se)}async function keepExecutingActionOnSelector({selector:ie,callback:ee,interval:te=500,executeImmediately:se=!0}){if(se){const ne=document.querySelectorAll(ie);try{await callCallbackForEachElementAsJquery({elements:ne,callback:ee})}catch(le){console.error(le)}}addIntervalAction(te,async()=>{const ne=document.querySelectorAll(ie);try{await callCallbackForEachElementAsJquery({elements:ne,callback:ee})}catch(le){console.error(le)}})}function createAndClickLink(ie){const ee=document.createElement("a");ee.href=ie,ee.style.display="none",document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)}window.createAndClickLink=createAndClickLink;function openWiredCategory(ie){createAndClickLink("event:catalog/open/offerId/"+{ativadores:886610521,efeitos:886612047,condicoes:886612296,seletores:886609294,addons:10002993,extras:886607618,esferas:1356482232,portas:886621800,lajotaAndavel:886608295,pisoWired:886610890}[ie])}function openInventoryAndSearch(ie){A$2.reworkUi.inventory.forceSearchValue=ie,createAndClickLink("event:inventory/show")}const setNativeValue=(ie,ee)=>{const te=Object.getOwnPropertyDescriptor(ie,"value").set,se=Object.getPrototypeOf(ie),ne=Object.getOwnPropertyDescriptor(se,"value").set;te&&te!==ne?ne.call(ie,ee):te.call(ie,ee)},changeInputValue=(ie,ee)=>{const te=new Event("input",{bubbles:!0});setNativeValue(ie,ee),ie.dispatchEvent(te)};function createNodeAndRenderReact(ie,ee=null,te=null){const se=document.createElement("div");if(ee&&(se.id=ee),te)for(const le in te)se.style[le]=te[le];const ne=clientExports.createRoot(se);return ne.render(ie),[se,ne]}function cssImportant(ie,ee,te){const se=$("<div>");se.css(ee,te);const ne=se.attr("style");try{se.remove()}catch(ue){console.error(ue)}const le=$(ie);if(ne){le.css(ee,te);const ue=le.attr("style");le.attr("style",ue.replace(ne,ne.replace(";","!important;")))}return le}const isTargetNodeInRemovedNodes=(ie,ee)=>{const te=ee.indexOf(ie)>-1,se=ee.some(ne=>ne.contains(ie));return!!(te||se)},waitForElementToBeRemoved=ie=>new Promise(ee=>{const te={childList:!0,subtree:!0,characterData:!0};new MutationObserver(function(ne,le){ne.forEach(function(ue){const ce=Array.from(ue.removedNodes);isTargetNodeInRemovedNodes(ie,ce)&&(ee(ie),le.takeRecords(),le.disconnect())})}).observe(document,te)});function fireMouseEvents(ie,ee){if(ie&&ee&&ee.length)for(const te in ee){const se=ee[te];if(ie.fireEvent)ie.fireEvent("on"+se);else{const ne=document.createEvent("MouseEvents");ne.initEvent(se,!0,!1),ie.dispatchEvent(ne)}}}function yields(){return new Promise(ie=>{setTimeout(ie,1)})}function askToConfirm(ie){const{title:ee="Tem certeza?",buttonText:te="Apagar",message:se,onConfirm:ne,danger:le}=ie,ue=()=>{const ce=reactExports.useRef(null),he=()=>{!ce.current||!ce.current.parentElement||ce.current.parentElement.remove()};return jsxRuntimeExports.jsxs("div",{ref:ce,className:"d-flex overflow-hidden position-relative flex-column nitro-card theme-primary-slim nitro-alert nitro-alert-alert",children:[jsxRuntimeExports.jsx("div",{className:"d-flex position-relative flex-column gap-2 align-items-center justify-content-center drag-handler container-fluid nitro-card-header",children:jsxRuntimeExports.jsxs("div",{className:"d-flex w-100 align-items-center justify-content-center",children:[jsxRuntimeExports.jsx("span",{className:"nitro-card-header-text",children:ee||"Tem certeza?"}),jsxRuntimeExports.jsx("div",{className:"position-absolute end-0 nitro-card-header-close"})]})}),jsxRuntimeExports.jsxs("div",{className:"d-flex flex-grow-1 overflow-hidden flex-column justify-content-between container-fluid content-area text-black",children:[jsxRuntimeExports.jsx("div",{className:"d-flex flex-grow-1 align-items-center justify-content-center",children:jsxRuntimeExports.jsx("div",{className:"d-inline text-black",children:se})}),jsxRuntimeExports.jsxs("div",{className:"d-flex gap-1",style:{marginTop:"5px"},children:[jsxRuntimeExports.jsx("div",{className:"d-flex w-100 align-items-center justify-content-center btn btn-gainsboro btn-sm",onClick:he,children:"Cancelar"}),jsxRuntimeExports.jsx("div",{className:"d-flex w-100 align-items-center justify-content-center btn btn-sm "+(le?"btn-danger":"btn-primary"),onClick:()=>{he(),ne()},children:te})]})]})]})};putNewDraggableWindow(jsxRuntimeExports.jsx(ue,{}))}window.askToConfirm=askToConfirm;const putNewDraggableWindow=(ie,ee)=>{ee||(ee=window.crypto.randomUUID());const te=$('<div data-theme="dark" class="absolute draggable-window" style="z-index: 408; position: absolute; top: calc(50vh - 125px); left: calc(50vw - 75px); visibility: visible; pointer-events: all;"></div>')[0];te.id=ee,document.querySelector("#draggable-windows-container").appendChild(te),clientExports.createRoot(te).render(ie),makeDraggable(document.getElementById(ee),".drag-handler")};async function cutPieceOfImage(ie,ee,te,se,ne,le=""){const ue=document.createElement("canvas"),ce=ue.getContext("2d");return le&&(ce.filter=le),ue.width=se,ue.height=ne,ce.drawImage(ie,ee,te,se,ne,0,0,se,ne),le&&(ce.filter=le),ue}function cutPieceFromImageUrl(ie,ee,te,se,ne,le=""){return new Promise(ue=>{const ce=new Image;ce.onload=async function(){const he=await cutPieceOfImage(ce,ee,te,se,ne,le);ue(he.toDataURL())},ce.src=ie})}function simulateAddUnit(ie){const ee={webId:ie.webID,name:ie.name,custom:ie.custom,figure:ie.figure,roomIndex:ie.roomIndex,x:ie.x,y:ie.y,z:String(ie.z),dir:ie.dir,userType:ie.userType},te={sex:ie.sex,groupID:ie.groupID,groupStatus:ie.groupStatus,groupName:ie.groupName,swimFigure:"",activityPoints:ie.activityPoints,isModerator:ie.isModerator},se={subType:Number(ie.subType),ownerId:ie.ownerId,ownerName:ie.ownerName,rarityLevel:ie.rarityLevel,hasSaddle:ie.hasSaddle,isRiding:ie.isRiding,canBreed:ie.canBreed,canHarvest:ie.canHarvest,canRevive:ie.canRevive,hasBreedingPermission:ie.hasBreedingPermission,petLevel:ie.petLevel,petPosture:ie.petPosture},ne={sex:ie.sex,ownerId:ie.ownerId,ownerName:ie.ownerName,botSkills:ie.botSkills},le={quantityOfUnits:1,...ee,...ie.userType===1?te:{},...ie.userType===2?se:{},...ie.userType===4?ne:{}};Message.simulate("UNIT",le)}function simulateRemoveUnit(ie){Message.simulate("UNIT_REMOVE",{unitId:ie})}function simulateUnitEffect(ie,ee,te=0){Message.simulate("UNIT_EFFECT",{unitId:ie,effect:ee,delay:te})}function simulateUnitDance(ie,ee){Message.simulate("UNIT_DANCE",{unitId:ie,dance:ee})}function simulateUnitExpression(ie,ee){Message.simulate("UNIT_EXPRESSION",{unitId:ie,expression:ee})}function extractDataValues(ie,ee){switch(ee){case ObjectDataKey.CRACKABLE_KEY:return[ie._state,ie._hits,ie._target];case ObjectDataKey.EMPTY_KEY:return[];case ObjectDataKey.HIGHSCORE_KEY:{const te=ie._entries.length,se=[];for(const ne of ie._entries){se.push(ne._score);const le=ne._users;se.push(le.length),se.push(...le)}return[ie._state,ie._scoreType,ie._clearType,te,...se]}case ObjectDataKey.LEGACY_KEY:return[ie._data];case ObjectDataKey.MAP_KEY:{const te=ie._data,se=Object.keys(te).length,ne=[];for(const[le,ue]of Object.entries(te))ne.push(String(le)),ne.push(String(ue));return[se,...ne]}case ObjectDataKey.NUMBER_KEY:case ObjectDataKey.STRING_KEY:{const te=ie._data.length,se=ie._data;return[te,...se]}case ObjectDataKey.VOTE_KEY:return[ie._state,ie._result]}}function createFurnitureComposer(ie){const ee=ie.direction/45+8,te={itemId:ie.itemId,spriteId:ie.spriteId,x:ie.x,y:ie.y,direction:ee,z:String(ie.z),stackHeight:String(ie.stackHeight),extra:ie.extra,flags:ie.data.flags|ie.data.constructor.FORMAT_KEY,dataInternalData:ie.data,uniqueNumber:ie.data.isUnique?ie.data.uniqueNumber:void 0,uniqueSeries:ie.data.isUnique?ie.data.uniqueSeries:void 0,expires:ie.expires,usagePolicy:ie.usagePolicy,userId:ie.userId,spriteName:ie.spriteId<0?ie.spriteName:void 0},se=[];let ne=[];for(const[ue,ce]of Object.entries(te))if(ce!==void 0){if(ue=="dataInternalData"){const he=ie.data.constructor.FORMAT_KEY;ne=extractDataValues(ie.data,he),se.push(...ne);continue}else if(Array.isArray(ce)){se.push(ce.length),se.push(...ce);continue}else if(ce.constructor==Object){se.push(Object.keys(ce).length);for(const[he,de]of Object.entries(ce))se.push(String(he)),se.push(String(de));continue}se.push(ce)}const le=parseInt(localStorage.getItem("monitorSprite")||"50340");return ie.spriteId===le&&(window.composed=te,window.composedArray=se,window.furniture=ie,window.convertedValues=ne),se}window.createFurnitureComposer=createFurnitureComposer;async function recreateFurnitureFloorComposer(ie){const ee=[];ee.push(ie.owners.size);for(const[se,ne]of ie.owners)ee.push(se),ee.push(ne);const te=[];te.push(ie.items.length);for(let se=ie.items.length;se--;){se%100===0&&await yields();const ne=ie.items[se],le=createFurnitureComposer(ne);te.push(...le)}return[...ee,...te]}window.recreateFurnitureFloorComposer=recreateFurnitureFloorComposer;function simulateFakeFurnitureBySpriteId(ie,ee,te,se,ne){const le={itemId:"-1",spriteId:ie,x:ee,y:te,direction:ne,z:String(se),stackHeight:"0",extra:"",data:"0",state:"0",expires:-1,usagePolicy:0,userId:-1,spriteName:"",username:""};Message.simulate("FURNITURE_FLOOR_ADD",le)}window.simulateFakeFurnitureBySpriteId=simulateFakeFurnitureBySpriteId;function showAllHiddenUsers(){const ie=roomStore.showOnlyUnits;if(ie===null)return;const ee=ie.map(se=>se.roomIndex);roomStore.units.filter(se=>!ee.includes(se.roomIndex)).forEach(se=>{simulateAddUnit(se)}),roomStore.showOnlyUnits=null}function hideAllButSomeUnits(ie){showAllHiddenUsers(),roomStore.showOnlyUnits=ie;const ee=ie.map(te=>te.roomIndex);for(const te of roomStore.units.values())ee.includes(te.roomIndex)||simulateRemoveUnit(String(te.roomIndex))}function makeAllUnitDance(ie){for(const ee of roomStore.units.values())simulateUnitDance(ee.roomIndex,ie)}function makeAllUnitEffect(ie,ee=0){for(const te of roomStore.units.values())simulateUnitEffect(te.roomIndex,ie,ee)}function makeAllUnitDoExpression(ie){for(const ee of roomStore.units.values())simulateUnitExpression(ee.roomIndex,ie)}function*iterPerChunks(ie,ee){for(let te=0;te<ie.length;te+=ee)yield ie.slice(te,te+ee)}async function showAllMobis(ie=[]){const ee=roomStore.room.data.roomId;for(const te of iterPerChunks([...roomStore.furnis.values()],1e3)){const se=[],ne=new Map;let le=0;for(const ue of te)++le%100===0&&await yields(),!(ie.length>0&&!ie.includes(ue.spriteId))&&(se.push(ue),ne.set(ue.userId,ue.username||""));if(ee!=roomStore.room.data.roomId)break;if(se.length>0){const ue=await recreateFurnitureFloorComposer({owners:ne,items:se});Message.simulate("FURNITURE_FLOOR",ue)}}}async function hideAllMobis(ie=[]){const ee=roomStore.room.data.roomId;for(const te of iterPerChunks([...roomStore.furnis.values()],1e3)){const se=[];let ne=0;for(const le of te)++ne%100===0&&await yields(),!(ie.length>0&&!ie.includes(le.spriteId))&&se.push(le.itemId);if(ee!=roomStore.room.data.roomId)break;se.length>0&&Message.simulate("FURNITURE_FLOOR_REMOVE_MULTIPLE",[se.length,...se,-1])}}function hideAllBubblesExceptFromSomeUsernames(ie){const ee=window.$;ee(".bubble-container").each((se,ne)=>{let le="";const ue=ee(ne).find(".username").text().replace(/\[GROUP \d+\]/,"").trim().split(" ");ue.length>1?le=ue[1]:le=ue[0],le=le.slice(0,-1),ie.includes(le)||(ee(ne).css({visibility:"hidden",position:"absolute",height:0}),ee(ne).removeClass("visible"))})}function showAllBubbles(){const ie=window.$;ie(".bubble-container").each((te,se)=>{ie(se).css({visibility:"",position:"",height:""}),ie(se).addClass("visible")})}function getCoordsInBack(ie,ee,te){switch(te){case 0:return{y:ee+1,x:ie};case 1:case 45:return{y:ee+1,x:ie-1};case 2:case 2*45:return{y:ee,x:ie-1};case 3:case 3*45:return{y:ee-1,x:ie-1};case 4:case 4*45:return{y:ee-1,x:ie};case 5:case 5*45:return{y:ee-1,x:ie+1};case 6:case 6*45:return{y:ee,x:ie+1};case 7:case 7*45:return{y:ee+1,x:ie+1};default:return console.error("Invalid direction",te),{y:ee+1,x:ie}}}const walkUpToUser=(ie,ee=-1,te=-1)=>{const se=ee===-1?ie.x:ee,ne=te===-1?ie.y:te,le=ie.dir,ue=getCoordsInBack(se,ne,le),{x:ce,y:he}=ue;myself.walkTo(ce,he)};window.walkUpToUser=walkUpToUser;class WiredGlobalConfiguration{constructor(){dE(this,"currentDefinitionId");dE(this,"trigger");dE(this,"condition");dE(this,"action");dE(this,"addon");dE(this,"selector");dE(this,"copiedTrigger");dE(this,"copiedCondition");dE(this,"copiedAction");dE(this,"copiedAddon");dE(this,"copiedSelector");dE(this,"furniSelectionTypes");dE(this,"userSelectionTypes");dE(this,"currentSourceType","furni");dE(this,"tileHeightMap");dE(this,"referenceTile")}isNeighbourhood(){return[6,12].includes(this.getTriggerable().code)}setDefinition(ee){this.currentDefinitionId=ee.id,this.resetDefinition();const te=se=>Object.hasOwn(ee,"className")&&ee.className===se;te("WiredActionDefinition")?this.action=ee:te("TriggerDefinition")?this.trigger=ee:te("ConditionDefinition")?this.condition=ee:te("AddonDefinition")?this.addon=ee:te("SelectorDefinition")?this.selector=ee:(console.error("Unknown triggerable type",ee),window.lastDef=ee),this.isNeighbourhood()&&(this.setTileHeightMap(ee.stringData),this.setReferenceTile({x:ee.intData[1],y:ee.intData[2]})),this.setFurniSelectionTypes(ee.furniSourceTypes),this.setUserSelectionTypes(ee.userSourceTypes),HibiscoEvents.emit("WIRED_DEFINITION_SET")}setFurniSelectionTypes(ee){this.furniSelectionTypes=ee}setUserSelectionTypes(ee){this.userSelectionTypes=ee}copyDefinition(){this.action&&(this.copiedAction=this.action,this.showNotification("copied","action")),this.trigger&&(this.copiedTrigger=this.trigger,this.showNotification("copied","trigger")),this.condition&&(this.copiedCondition=this.condition,this.showNotification("copied","condition")),this.addon&&(this.copiedAddon=this.addon,this.showNotification("copied","addon")),this.selector&&(this.copiedSelector=this.selector,this.showNotification("copied","selector"))}getTriggerable(){if(this.action)return this.action;if(this.trigger)return this.trigger;if(this.condition)return this.condition;if(this.addon)return this.addon;if(this.selector)return this.selector}getTriggerableType(){if(this.action)return"action";if(this.trigger)return"trigger";if(this.condition)return"condition";if(this.addon)return"addon";if(this.selector)return"selector"}showNotification(ee,te){let se,ne;switch(te){case"action":se=this.copiedAction,ne="Efeito";break;case"trigger":se=this.copiedTrigger,ne="Ativador";break;case"condition":se=this.copiedCondition,ne="Condição";break;case"addon":se=this.copiedAddon,ne="Addon";break;case"selector":se=this.copiedSelector,ne="Seletor";break}const le=se.spriteId,ue=getFurniInfoBySpriteId(le),ce=ue?ue.name:`${ne} #${le}`;myself.bubbleNotificate(`Você ${ee==="copied"?"copiou":"colou"} a configuração de ${ce}!`,composeFurniIconUrl(ue.className))}isPasteAvailable(){return!!(this.action&&this.copiedAction||this.trigger&&this.copiedTrigger||this.condition&&this.copiedCondition||this.addon&&this.copiedAddon||this.selector&&this.copiedSelector)}pasteDefinition(){const ee=this.getTriggerable().id;if(this.action&&this.copiedAction&&(this.action=this.copiedAction,this.showNotification("pasted","action")),this.trigger&&this.copiedTrigger&&(this.trigger=this.copiedTrigger,this.showNotification("pasted","trigger")),this.condition&&this.copiedCondition&&(this.condition=this.copiedCondition,this.showNotification("pasted","condition")),this.addon&&this.copiedAddon&&(this.addon=this.copiedAddon,this.showNotification("pasted","addon")),this.selector&&this.copiedSelector&&(this.selector=this.copiedSelector,this.showNotification("pasted","selector")),this.getTriggerable()._id=ee,this.currentDefinitionId=ee,this.isNeighbourhood()){const te=this.getTriggerable();this.setTileHeightMap(te.stringData),this.setReferenceTile({x:te.intData[1],y:te.intData[2]})}this.setFurniSelectionTypes(this.getTriggerable().furniSourceTypes),this.setUserSelectionTypes(this.getTriggerable().userSourceTypes),this.updateWiredData(),HibiscoEvents.emit("WIRED_DEFINITION_SET")}resetDefinition(){this.action=null,this.trigger=null,this.condition=null,this.addon=null,this.selector=null}resetCopiedDefinition(){this.copiedAction=null,this.copiedTrigger=null,this.copiedCondition=null,this.copiedAddon=null,this.copiedSelector=null}updateWiredData(){if(this.action)return this.updateActionData();if(this.trigger)return this.updateTriggerData();if(this.condition)return this.updateConditionData();if(this.addon)return this.updateAddonData();if(this.selector)return this.updateSelectorData()}composeTriggerableObject(){const ee=this.trigger||this.action||this.condition||this.addon||this.selector;return[ee.stuffTypeSelectionEnabled,ee.maximumItemSelectionCount,ee.selectedItems.length,...ee.selectedItems,ee.spriteId,this.currentDefinitionId,ee.stringData,ee.intData.length,...ee.intData,this.furniSelectionTypes.length,...this.furniSelectionTypes,this.userSelectionTypes.length,...this.userSelectionTypes,ee.stuffTypeSelectionCode,...this.composeInputConfigSourcesObject(ee.inputSourcesConf)]}composeInputConfigSourcesObject(ee){const te=ne=>{const le=[];le.push(ne.length);for(const ue of ne)le.push(ue.length),le.push(...ue);return le};return[...te(ee._furniSelections),...te(ee._userSelections),ee._defaultFurniSources.length,...ee._defaultFurniSources,ee._defaultUserSources.length,...ee._defaultUserSources]}updateActionData(){const ee=[...this.composeTriggerableObject(),this.action.type,this.action.delayInPulses,this.action.conflictingTriggers.length,...this.action.conflictingTriggers];Message.simulate("WIRED_ACTION",ee)}updateTriggerData(){const ee=[...this.composeTriggerableObject(),this.trigger.code,this.trigger.conflictingActions.length,...this.trigger.conflictingActions];Message.simulate("WIRED_TRIGGER",ee)}updateConditionData(){const ee=[...this.composeTriggerableObject(),this.condition.type,this.condition.quantifierType,this.condition.quantifierCode,this.condition.isInvert];Message.simulate("WIRED_CONDITION",ee)}updateAddonData(){const ee=[...this.composeTriggerableObject(),this.addon.type];Message.simulate("WIRED_ADDON",ee)}updateSelectorData(){const ee=[...this.composeTriggerableObject(),this.selector.type,this.selector.isFilter,this.selector.isInvert];Message.simulate("WIRED_SELECTOR",ee)}saveWired(ee){const te=ee||this.currentDefinitionId;if(this.action){const se=this.action;this.saveAction(te,se.intData,se.stringData,se.selectedItems,se.delayInPulses,se.stuffTypeSelectionCode,this.furniSelectionTypes,this.userSelectionTypes)}this.trigger&&this.saveTrigger(te,this.trigger.intData,this.trigger.stringData,this.trigger.selectedItems,this.trigger.stuffTypeSelectionCode,this.furniSelectionTypes,this.userSelectionTypes),this.condition&&this.saveCondition(te,this.condition.intData,this.condition.stringData,this.condition.selectedItems,this.condition.stuffTypeSelectionCode,this.condition.quantifierType,this.furniSelectionTypes,this.userSelectionTypes),this.addon&&this.saveAddon(te,this.addon.intData,this.addon.stringData,this.addon.selectedItems,this.addon.stuffTypeSelectionCode,this.furniSelectionTypes,this.userSelectionTypes),this.selector&&this.saveSelector(te,this.selector.intData,this.selector.stringData,this.selector.selectedItems,this.selector.stuffTypeSelectionCode,this.selector.isFilter,this.selector.isInvert,this.furniSelectionTypes,this.userSelectionTypes)}isMerged(){const ee=this.getTriggerableType(),te=this.getTriggerable().code,se=ee==="condition",ne=ee==="selector";return se&&te==38||ne&&[12,6].includes(te)}getMergedSource(){if(this.isMerged())return this.getTriggerable().intData[0]}setMergedSource(ee){this.isMerged()&&(this.getTriggerable().intData[0]=ee)}saveAction(ee,te,se,ne,le,ue,ce,he){const de=[ee,te.length,...te,se,ne.length,...ne,le,ue,ce.length,...ce,he.length,...he];Packet.send("WIRED_ACTION_SAVE",de)}saveTrigger(ee,te,se,ne,le,ue,ce){const he=[ee,te.length,...te,se,ne.length,...ne,le,ue.length,...ue,ce.length,...ce];Packet.send("WIRED_TRIGGER_SAVE",he)}saveCondition(ee,te,se,ne,le,ue,ce,he){const de=[ee,te.length,...te,se,ne.length,...ne,le,ue,ce.length,...ce,he.length,...he];Packet.send("WIRED_CONDITION_SAVE",de)}saveSelector(ee,te,se,ne,le,ue,ce,he,de){const _e=[ee,te.length,...te,se,ne.length,...ne,le,ue,ce,he.length,...he,de.length,...de];Packet.send("WIRED_SELECTOR_SAVE",_e)}saveAddon(ee,te,se,ne,le,ue,ce){const he=[ee,te.length,...te,se,ne.length,...ne,le,ue.length,...ue,ce.length,...ce];Packet.send("WIRED_ADDON_SAVE",he)}setTileHeightMap(ee){this.tileHeightMap=ee}setReferenceTile({x:ee,y:te}){this.referenceTile={x:ee,y:te}}}const wiredGlobalConfiguration=new WiredGlobalConfiguration;window.wiredGlobalConfiguration=wiredGlobalConfiguration;const Buy="_Buy_g59tb_1",BuyContainer$1="_BuyContainer_g59tb_1",styles$h={Buy,BuyContainer:BuyContainer$1},V$1=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M220,78.53V72a44.05,44.05,0,0,0-44-44H80A44.05,44.05,0,0,0,36,72v6.53a52,52,0,0,0,0,99V200a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V177.51a52,52,0,0,0,0-99ZM80,52h96a20,20,0,0,1,20,20v4.62A52.09,52.09,0,0,0,152.17,124H103.83A52.09,52.09,0,0,0,60,76.62V72A20,20,0,0,1,80,52ZM206.81,155.86A12,12,0,0,0,196,167.8V196H60V167.8a12,12,0,0,0-10.81-11.94A28,28,0,1,1,80,128v36a12,12,0,0,0,24,0V148h48v16a12,12,0,0,0,24,0V128a28,28,0,1,1,30.81,27.86Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M240,128a32,32,0,0,1-32,32v40a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V160a32,32,0,0,1,0-64V72A32,32,0,0,1,80,40h96a32,32,0,0,1,32,32V96A32,32,0,0,1,240,128Z",opacity:"0.2"}),React.createElement("path",{d:"M216,88.8V72a40,40,0,0,0-40-40H80A40,40,0,0,0,40,72V88.8a40,40,0,0,0,0,78.4V200a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V167.2a40,40,0,0,0,0-78.4ZM80,48h96a24,24,0,0,1,24,24V88.8A40.07,40.07,0,0,0,168,128H88A40.07,40.07,0,0,0,56,88.8V72A24,24,0,0,1,80,48ZM208.39,152H208a8,8,0,0,0-8,8v40H56V160a8,8,0,0,0-8-8h-.39A24,24,0,1,1,72,128v40a8,8,0,0,0,16,0V144h80v24a8,8,0,0,0,16,0V128a24,24,0,1,1,24.39,24Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M240,132a28,28,0,0,1-24,27.71V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V159.71A28,28,0,1,1,72,132v36a8,8,0,0,0,16,0V144h80v24a8,8,0,0,0,16,0V132a28,28,0,0,1,56,0ZM44,88a44.06,44.06,0,0,1,43.81,40h80.38A44.06,44.06,0,0,1,212,88a4,4,0,0,0,4-4V72a40,40,0,0,0-40-40H80A40,40,0,0,0,40,72V84A4,4,0,0,0,44,88Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M214,90.48V72a38,38,0,0,0-38-38H80A38,38,0,0,0,42,72V90.48a38,38,0,0,0,0,75.05V200a14,14,0,0,0,14,14H200a14,14,0,0,0,14-14V165.53a38,38,0,0,0,0-75ZM80,46h96a26,26,0,0,1,26,26V90.48A38.05,38.05,0,0,0,170,128v2H86v-2A38.05,38.05,0,0,0,54,90.48V72A26,26,0,0,1,80,46ZM208.35,154H208a6,6,0,0,0-6,6v40a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V160h0a6,6,0,0,0-6-6h-.35A26,26,0,1,1,74,128v40a6,6,0,0,0,12,0V142h84v26a6,6,0,0,0,12,0V128a26,26,0,1,1,26.35,26Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,88.8V72a40,40,0,0,0-40-40H80A40,40,0,0,0,40,72V88.8a40,40,0,0,0,0,78.4V200a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V167.2a40,40,0,0,0,0-78.4ZM80,48h96a24,24,0,0,1,24,24V88.8A40.07,40.07,0,0,0,168,128H88A40.07,40.07,0,0,0,56,88.8V72A24,24,0,0,1,80,48ZM208.39,152H208a8,8,0,0,0-8,8v40H56V160a8,8,0,0,0-8-8h-.39A24,24,0,1,1,72,128v40a8,8,0,0,0,16,0V144h80v24a8,8,0,0,0,16,0V128a24,24,0,1,1,24.39,24Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M212,92.23V72a36,36,0,0,0-36-36H80A36,36,0,0,0,44,72V92.23a36,36,0,0,0,0,71.55V200a12,12,0,0,0,12,12H200a12,12,0,0,0,12-12V163.78a36,36,0,0,0,0-71.55ZM80,44h96a28,28,0,0,1,28,28V92.23A36,36,0,0,0,172,128v4H84v-4A36,36,0,0,0,52,92.23V72A28,28,0,0,1,80,44ZM208.3,156H208a4,4,0,0,0-4,4v40a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V160h0a4,4,0,0,0-4-4h-.3A28,28,0,1,1,76,128v40a4,4,0,0,0,8,0V140h88v28a4,4,0,0,0,8,0V128a28,28,0,1,1,28.3,28Z"}))]]),t$k=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M240.49,119.51l-96-96A12,12,0,0,0,124,32V68H80A12,12,0,0,0,68,80v96a12,12,0,0,0,12,12h44v36a12,12,0,0,0,20.49,8.49l96-96A12,12,0,0,0,240.49,119.51ZM148,195V176a12,12,0,0,0-12-12H92V92h44a12,12,0,0,0,12-12V61l67,67ZM52,80v96a12,12,0,0,1-24,0V80a12,12,0,0,1,24,0Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M136,224V176H72V80h64V32l96,96Z",opacity:"0.2"}),React.createElement("path",{d:"M237.66,122.34l-96-96A8,8,0,0,0,128,32V72H72a8,8,0,0,0-8,8v96a8,8,0,0,0,8,8h56v40a8,8,0,0,0,13.66,5.66l96-96A8,8,0,0,0,237.66,122.34ZM144,204.69V176a8,8,0,0,0-8-8H80V88h56a8,8,0,0,0,8-8V51.31L220.69,128ZM48,80v96a8,8,0,0,1-16,0V80a8,8,0,0,1,16,0Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M48,80v96a8,8,0,0,1-16,0V80a8,8,0,0,1,16,0Zm189.66,42.34-96-96A8,8,0,0,0,128,32V72H72a8,8,0,0,0-8,8v96a8,8,0,0,0,8,8h56v40a8,8,0,0,0,13.66,5.66l96-96A8,8,0,0,0,237.66,122.34Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M236.24,123.76l-96-96A6,6,0,0,0,130,32V74H72a6,6,0,0,0-6,6v96a6,6,0,0,0,6,6h58v42a6,6,0,0,0,10.24,4.24l96-96A6,6,0,0,0,236.24,123.76ZM142,209.51V176a6,6,0,0,0-6-6H78V86h58a6,6,0,0,0,6-6V46.49L223.51,128ZM46,80v96a6,6,0,0,1-12,0V80a6,6,0,0,1,12,0Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M237.66,122.34l-96-96A8,8,0,0,0,128,32V72H72a8,8,0,0,0-8,8v96a8,8,0,0,0,8,8h56v40a8,8,0,0,0,13.66,5.66l96-96A8,8,0,0,0,237.66,122.34ZM144,204.69V176a8,8,0,0,0-8-8H80V88h56a8,8,0,0,0,8-8V51.31L220.69,128ZM48,80v96a8,8,0,0,1-16,0V80a8,8,0,0,1,16,0Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M234.83,125.17l-96-96A4,4,0,0,0,132,32V76H72a4,4,0,0,0-4,4v96a4,4,0,0,0,4,4h60v44a4,4,0,0,0,2.47,3.7,4,4,0,0,0,4.36-.87l96-96A4,4,0,0,0,234.83,125.17ZM140,214.34V176a4,4,0,0,0-4-4H76V84h60a4,4,0,0,0,4-4V41.66L226.34,128ZM44,80v96a4,4,0,0,1-8,0V80a4,4,0,0,1,8,0Z"}))]]),l$6=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M208,96l-80,80L48,96Z",opacity:"0.2"}),React.createElement("path",{d:"M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z"}))]]),a$m=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M160,48V208L80,128Z",opacity:"0.2"}),React.createElement("path",{d:"M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"}))]]),l$5=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M176,128,96,208V48Z",opacity:"0.2"}),React.createElement("path",{d:"M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"}))]]),a$l=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216.49,168.49a12,12,0,0,1-17,0L128,97,56.49,168.49a12,12,0,0,1-17-17l80-80a12,12,0,0,1,17,0l80,80A12,12,0,0,1,216.49,168.49Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M208,160H48l80-80Z",opacity:"0.2"}),React.createElement("path",{d:"M213.66,154.34l-80-80a8,8,0,0,0-11.32,0l-80,80A8,8,0,0,0,48,168H208a8,8,0,0,0,5.66-13.66ZM67.31,152,128,91.31,188.69,152Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M215.39,163.06A8,8,0,0,1,208,168H48a8,8,0,0,1-5.66-13.66l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,215.39,163.06Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M212.24,164.24a6,6,0,0,1-8.48,0L128,88.49,52.24,164.24a6,6,0,0,1-8.48-8.48l80-80a6,6,0,0,1,8.48,0l80,80A6,6,0,0,1,212.24,164.24Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M213.66,165.66a8,8,0,0,1-11.32,0L128,91.31,53.66,165.66a8,8,0,0,1-11.32-11.32l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,213.66,165.66Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M210.83,162.83a4,4,0,0,1-5.66,0L128,85.66,50.83,162.83a4,4,0,0,1-5.66-5.66l80-80a4,4,0,0,1,5.66,0l80,80A4,4,0,0,1,210.83,162.83Z"}))]]),t$j=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M79.51,144.49a12,12,0,1,1,17-17L112,143l47.51-47.52a12,12,0,0,1,17,17l-56,56a12,12,0,0,1-17,0ZM228,48V208a20,20,0,0,1-20,20H48a20,20,0,0,1-20-20V48A20,20,0,0,1,48,28H208A20,20,0,0,1,228,48Zm-24,4H52V204H204Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,48V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8H208A8,8,0,0,1,216,48Z",opacity:"0.2"}),React.createElement("path",{d:"M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM224,48V208a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48ZM208,208V48H48V208H208Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32Zm-34.34,77.66-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M172.24,99.76a6,6,0,0,1,0,8.48l-56,56a6,6,0,0,1-8.48,0l-24-24a6,6,0,0,1,8.48-8.48L112,151.51l51.76-51.75A6,6,0,0,1,172.24,99.76ZM222,48V208a14,14,0,0,1-14,14H48a14,14,0,0,1-14-14V48A14,14,0,0,1,48,34H208A14,14,0,0,1,222,48Zm-12,0a2,2,0,0,0-2-2H48a2,2,0,0,0-2,2V208a2,2,0,0,0,2,2H208a2,2,0,0,0,2-2Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM224,48V208a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V48A16,16,0,0,1,48,32H208A16,16,0,0,1,224,48ZM208,208V48H48V208H208Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M170.83,101.17a4,4,0,0,1,0,5.66l-56,56a4,4,0,0,1-5.66,0l-24-24a4,4,0,0,1,5.66-5.66L112,154.34l53.17-53.17A4,4,0,0,1,170.83,101.17ZM220,48V208a12,12,0,0,1-12,12H48a12,12,0,0,1-12-12V48A12,12,0,0,1,48,36H208A12,12,0,0,1,220,48Zm-8,0a4,4,0,0,0-4-4H48a4,4,0,0,0-4,4V208a4,4,0,0,0,4,4H208a4,4,0,0,0,4-4Z"}))]]),H$1=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M172,164a12,12,0,0,1-12,12H96a12,12,0,0,1,0-24h64A12,12,0,0,1,172,164Zm-12-52H96a12,12,0,0,0,0,24h64a12,12,0,0,0,0-24Zm60-64V216a20,20,0,0,1-20,20H56a20,20,0,0,1-20-20V48A20,20,0,0,1,56,28H90.53a51.88,51.88,0,0,1,74.94,0H200A20,20,0,0,1,220,48ZM100.29,60h55.42a28,28,0,0,0-55.42,0ZM196,52H178.59A52.13,52.13,0,0,1,180,64v8a12,12,0,0,1-12,12H88A12,12,0,0,1,76,72V64a52.13,52.13,0,0,1,1.41-12H60V212H196Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M208,48V216a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V48a8,8,0,0,1,8-8H96a39.83,39.83,0,0,0-8,24v8h80V64a39.83,39.83,0,0,0-8-24h40A8,8,0,0,1,208,48Z",opacity:"0.2"}),React.createElement("path",{d:"M168,152a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,152Zm-8-40H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Zm56-64V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V48A16,16,0,0,1,56,32H92.26a47.92,47.92,0,0,1,71.48,0H200A16,16,0,0,1,216,48ZM96,64h64a32,32,0,0,0-64,0ZM200,48H173.25A47.93,47.93,0,0,1,176,64v8a8,8,0,0,1-8,8H88a8,8,0,0,1-8-8V64a47.93,47.93,0,0,1,2.75-16H56V216H200Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M200,32H163.74a47.92,47.92,0,0,0-71.48,0H56A16,16,0,0,0,40,48V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V48A16,16,0,0,0,200,32Zm-72,0a32,32,0,0,1,32,32H96A32,32,0,0,1,128,32Zm32,128H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Zm0-32H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M166,152a6,6,0,0,1-6,6H96a6,6,0,0,1,0-12h64A6,6,0,0,1,166,152Zm-6-38H96a6,6,0,0,0,0,12h64a6,6,0,0,0,0-12Zm54-66V216a14,14,0,0,1-14,14H56a14,14,0,0,1-14-14V48A14,14,0,0,1,56,34H93.17a45.91,45.91,0,0,1,69.66,0H200A14,14,0,0,1,214,48ZM94,64v2h68V64a34,34,0,0,0-68,0ZM202,48a2,2,0,0,0-2-2H170.33A45.77,45.77,0,0,1,174,64v8a6,6,0,0,1-6,6H88a6,6,0,0,1-6-6V64a45.77,45.77,0,0,1,3.67-18H56a2,2,0,0,0-2,2V216a2,2,0,0,0,2,2H200a2,2,0,0,0,2-2Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M168,152a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,152Zm-8-40H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Zm56-64V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V48A16,16,0,0,1,56,32H92.26a47.92,47.92,0,0,1,71.48,0H200A16,16,0,0,1,216,48ZM96,64h64a32,32,0,0,0-64,0ZM200,48H173.25A47.93,47.93,0,0,1,176,64v8a8,8,0,0,1-8,8H88a8,8,0,0,1-8-8V64a47.93,47.93,0,0,1,2.75-16H56V216H200Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M164,152a4,4,0,0,1-4,4H96a4,4,0,0,1,0-8h64A4,4,0,0,1,164,152Zm-4-36H96a4,4,0,0,0,0,8h64a4,4,0,0,0,0-8Zm52-68V216a12,12,0,0,1-12,12H56a12,12,0,0,1-12-12V48A12,12,0,0,1,56,36H94.08a44,44,0,0,1,67.84,0H200A12,12,0,0,1,212,48ZM92,64v4h72V64a36,36,0,0,0-72,0ZM204,48a4,4,0,0,0-4-4H167.17A43.71,43.71,0,0,1,172,64v8a4,4,0,0,1-4,4H88a4,4,0,0,1-4-4V64a43.71,43.71,0,0,1,4.83-20H56a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H200a4,4,0,0,0,4-4Z"}))]]),t$i=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,40V168H168V88H88V40Z",opacity:"0.2"}),React.createElement("path",{d:"M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32Zm-8,128H176V88a8,8,0,0,0-8-8H96V48H208Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,34H88a6,6,0,0,0-6,6V82H40a6,6,0,0,0-6,6V216a6,6,0,0,0,6,6H168a6,6,0,0,0,6-6V174h42a6,6,0,0,0,6-6V40A6,6,0,0,0,216,34ZM162,210H46V94H162Zm48-48H174V88a6,6,0,0,0-6-6H94V46H210Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,36H88a4,4,0,0,0-4,4V84H40a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H168a4,4,0,0,0,4-4V172h44a4,4,0,0,0,4-4V40A4,4,0,0,0,216,36ZM164,212H44V92H164Zm48-48H172V88a4,4,0,0,0-4-4H92V44H212Z"}))]]),e$4=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M224.15,179.17l-46.82-46.82,37.92-13.51c.26-.09.51-.19.76-.3a20,20,0,0,0-1.76-37.27L54.16,29A20,20,0,0,0,29,54.16L81.27,214.24A20,20,0,0,0,118.54,216c.11-.25.21-.5.3-.76l13.51-37.92,46.83,46.82a20,20,0,0,0,28.28,0l16.69-16.68A20,20,0,0,0,224.15,179.17Zm-30.83,25.17-48.48-48.48A20,20,0,0,0,130.7,150a20.47,20.47,0,0,0-3.73.35A20,20,0,0,0,112.35,162c-.11.25-.2.5-.3.76L100.4,195.5,54.29,54.29,195.5,100.4l-32.71,11.65c-.25.09-.51.19-.76.3a20,20,0,0,0-6.16,32.48h0l48.48,48.48ZM84,16V12a12,12,0,0,1,24,0v4a12,12,0,0,1-24,0ZM12,108a12,12,0,0,1,0-24h4a12,12,0,0,1,0,24ZM120.62,24.21l4-12a12,12,0,0,1,22.77,7.58l-4,12a12,12,0,0,1-22.77-7.58Zm-81.23,104a12,12,0,0,1-7.59,15.17l-12,4a12,12,0,1,1-7.59-22.76l12-4A12,12,0,0,1,39.39,128.21Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M213.66,201,201,213.66a8,8,0,0,1-11.31,0l-51.31-51.31a8,8,0,0,0-13,2.46l-17.82,46.41a8,8,0,0,1-14.85-.71L40.41,50.44a8,8,0,0,1,10-10L210.51,92.68a8,8,0,0,1,.71,14.85l-46.41,17.82a8,8,0,0,0-2.46,13l51.31,51.31A8,8,0,0,1,213.66,201Z",opacity:"0.2"}),React.createElement("path",{d:"M88,24V16a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0ZM16,104h8a8,8,0,0,0,0-16H16a8,8,0,0,0,0,16ZM124.42,39.16a8,8,0,0,0,10.74-3.58l8-16a8,8,0,0,0-14.31-7.16l-8,16A8,8,0,0,0,124.42,39.16Zm-96,81.69-16,8a8,8,0,0,0,7.16,14.31l16-8a8,8,0,1,0-7.16-14.31ZM219.31,184a16,16,0,0,1,0,22.63l-12.68,12.68a16,16,0,0,1-22.63,0L132.7,168,115,214.09c0,.1-.08.21-.13.32a15.83,15.83,0,0,1-14.6,9.59l-.79,0a15.83,15.83,0,0,1-14.41-11L32.8,52.92A16,16,0,0,1,52.92,32.8L213,85.07a16,16,0,0,1,1.41,29.8l-.32.13L168,132.69ZM208,195.31,156.69,144h0a16,16,0,0,1,4.93-26l.32-.14,45.95-17.64L48,48l52.2,159.86,17.65-46c0-.11.08-.22.13-.33a16,16,0,0,1,11.69-9.34,16.72,16.72,0,0,1,3-.28,16,16,0,0,1,11.3,4.69L195.31,208Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M220.49,190.83a12,12,0,0,1,0,17L207.8,220.49a12,12,0,0,1-17,0l-56.56-56.57L115,214.09c0,.1-.08.21-.13.32a15.83,15.83,0,0,1-14.6,9.59l-.79,0a15.83,15.83,0,0,1-14.41-11L32.8,52.92A16,16,0,0,1,52.92,32.8L213,85.07a16,16,0,0,1,1.41,29.8l-.32.13-50.17,19.27ZM96,32a8,8,0,0,0,8-8V16a8,8,0,0,0-16,0v8A8,8,0,0,0,96,32ZM16,104h8a8,8,0,0,0,0-16H16a8,8,0,0,0,0,16ZM124.42,39.16a8,8,0,0,0,10.74-3.58l8-16a8,8,0,0,0-14.31-7.16l-8,16A8,8,0,0,0,124.42,39.16Zm-96,81.69-16,8a8,8,0,0,0,7.16,14.31l16-8a8,8,0,1,0-7.16-14.31Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M90,24V16a6,6,0,0,1,12,0v8a6,6,0,0,1-12,0ZM16,102h8a6,6,0,0,0,0-12H16a6,6,0,0,0,0,12ZM125.32,37.37a6,6,0,0,0,8.05-2.69l8-16a6,6,0,0,0-10.74-5.37l-8,16A6,6,0,0,0,125.32,37.37Zm-96,85.26-16,8a6,6,0,0,0,5.36,10.74l16-8a6,6,0,1,0-5.36-10.74ZM217.9,185.41a14,14,0,0,1,0,19.8L205.21,217.9a14,14,0,0,1-19.8,0L134.1,166.59a2,2,0,0,0-3.21.54l-17.75,46.24a2.44,2.44,0,0,0-.1.24A13.85,13.85,0,0,1,100.26,222c-.23,0-.45,0-.68,0A13.85,13.85,0,0,1,87,212.38L34.7,52.3A14,14,0,0,1,52.3,34.7L212.38,87A14,14,0,0,1,213.61,113l-.24.09-46.25,17.76a2,2,0,0,0-.53,3.21Zm-8.49,8.49L158.1,142.59h0a14,14,0,0,1,4.32-22.74l.24-.1L208.91,102a2,2,0,0,0-.26-3.61L48.58,46.11a2.33,2.33,0,0,0-.65-.11,2,2,0,0,0-1.82,2.58L98.38,208.65a1.84,1.84,0,0,0,1.77,1.35,1.81,1.81,0,0,0,1.84-1.09l17.76-46.25.1-.24a14,14,0,0,1,22.74-4.32l51.31,51.31a2,2,0,0,0,2.83,0l12.68-12.68A2,2,0,0,0,209.41,193.9Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M88,24V16a8,8,0,0,1,16,0v8a8,8,0,0,1-16,0ZM16,104h8a8,8,0,0,0,0-16H16a8,8,0,0,0,0,16ZM124.42,39.16a8,8,0,0,0,10.74-3.58l8-16a8,8,0,0,0-14.31-7.16l-8,16A8,8,0,0,0,124.42,39.16Zm-96,81.69-16,8a8,8,0,0,0,7.16,14.31l16-8a8,8,0,1,0-7.16-14.31ZM219.31,184a16,16,0,0,1,0,22.63l-12.68,12.68a16,16,0,0,1-22.63,0L132.7,168,115,214.09c0,.1-.08.21-.13.32a15.83,15.83,0,0,1-14.6,9.59l-.79,0a15.83,15.83,0,0,1-14.41-11L32.8,52.92A16,16,0,0,1,52.92,32.8L213,85.07a16,16,0,0,1,1.41,29.8l-.32.13L168,132.69ZM208,195.31,156.69,144h0a16,16,0,0,1,4.93-26l.32-.14,45.95-17.64L48,48l52.2,159.86,17.65-46c0-.11.08-.22.13-.33a16,16,0,0,1,11.69-9.34,16.72,16.72,0,0,1,3-.28,16,16,0,0,1,11.3,4.69L195.31,208Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M92,24V16a4,4,0,0,1,8,0v8a4,4,0,0,1-8,0ZM16,100h8a4,4,0,0,0,0-8H16a4,4,0,0,0,0,8ZM126.21,35.58a4,4,0,0,0,5.37-1.79l8-16a4,4,0,0,0-7.16-3.58l-8,16A4,4,0,0,0,126.21,35.58Zm-96,88.84-16,8a4,4,0,0,0,3.58,7.16l16-8a4,4,0,1,0-3.58-7.16Zm186.28,62.41a12,12,0,0,1,0,17L203.8,216.49a12,12,0,0,1-17,0l-51.31-51.31a3.93,3.93,0,0,0-3.58-1.11,4,4,0,0,0-2.89,2.27l-17.78,46.31a.77.77,0,0,1-.07.16A11.85,11.85,0,0,1,100.26,220h-.59a11.88,11.88,0,0,1-10.8-8.23L36.6,51.68A12,12,0,0,1,51.68,36.6L211.76,88.87a12,12,0,0,1,1.05,22.33l-.16.07-46.31,17.78a4,4,0,0,0-1.17,6.47Zm-5.66,5.66-51.31-51.32a12,12,0,0,1,3.7-19.49l.16-.06,46.31-17.79a3.95,3.95,0,0,0-.42-7.35L49.2,44.21a4,4,0,0,0-5,5L96.48,209.27a4,4,0,0,0,7.36.42l17.78-46.31a1.11,1.11,0,0,1,.07-.16,12,12,0,0,1,8.76-7,12.21,12.21,0,0,1,2.24-.21,12,12,0,0,1,8.49,3.52l51.31,51.31a4,4,0,0,0,5.65,0l12.69-12.69A4,4,0,0,0,210.83,192.49Z"}))]]),e$3=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M219.71,117.38a12,12,0,0,0-7.25-8.52L161.28,88.39l10.59-70.61a12,12,0,0,0-20.64-10l-112,120a12,12,0,0,0,4.31,19.33l51.18,20.47L84.13,238.22a12,12,0,0,0,20.64,10l112-120A12,12,0,0,0,219.71,117.38ZM113.6,203.55l6.27-41.77a12,12,0,0,0-7.41-12.92L68.74,131.37,142.4,52.45l-6.27,41.77a12,12,0,0,0,7.41,12.92l43.72,17.49Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M96,240l16-80L48,136,160,16,144,96l64,24Z",opacity:"0.2"}),React.createElement("path",{d:"M215.79,118.17a8,8,0,0,0-5-5.66L153.18,90.9l14.66-73.33a8,8,0,0,0-13.69-7l-112,120a8,8,0,0,0,3,13l57.63,21.61L88.16,238.43a8,8,0,0,0,13.69,7l112-120A8,8,0,0,0,215.79,118.17ZM109.37,214l10.47-52.38a8,8,0,0,0-5-9.06L62,132.71l84.62-90.66L136.16,94.43a8,8,0,0,0,5,9.06l52.8,19.8Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M213.84,118.63a6,6,0,0,0-3.73-4.25L150.88,92.17l15-75a6,6,0,0,0-10.27-5.27l-112,120a6,6,0,0,0,2.28,9.71l59.23,22.21-15,75a6,6,0,0,0,3.14,6.52A6.07,6.07,0,0,0,96,246a6,6,0,0,0,4.39-1.91l112-120A6,6,0,0,0,213.84,118.63ZM106,220.46l11.85-59.28a6,6,0,0,0-3.77-6.8l-55.6-20.85,91.46-98L138.12,94.82a6,6,0,0,0,3.77,6.8l55.6,20.85Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M215.79,118.17a8,8,0,0,0-5-5.66L153.18,90.9l14.66-73.33a8,8,0,0,0-13.69-7l-112,120a8,8,0,0,0,3,13l57.63,21.61L88.16,238.43a8,8,0,0,0,13.69,7l112-120A8,8,0,0,0,215.79,118.17ZM109.37,214l10.47-52.38a8,8,0,0,0-5-9.06L62,132.71l84.62-90.66L136.16,94.43a8,8,0,0,0,5,9.06l52.8,19.8Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M211.89,119.09a4,4,0,0,0-2.49-2.84l-60.81-22.8,15.33-76.67a4,4,0,0,0-6.84-3.51l-112,120a4,4,0,0,0-1,3.64,4,4,0,0,0,2.49,2.84l60.81,22.8L92.08,239.22a4,4,0,0,0,6.84,3.51l112-120A4,4,0,0,0,211.89,119.09ZM102.68,227l13.24-66.2a4,4,0,0,0-2.52-4.53L55,134.36,153.32,29l-13.24,66.2a4,4,0,0,0,2.52,4.53L201,121.64Z"}))]]),t$h=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M228,128a12,12,0,0,1-12,12H40a12,12,0,0,1,0-24H216A12,12,0,0,1,228,128ZM40,76H216a12,12,0,0,0,0-24H40a12,12,0,0,0,0,24ZM216,180H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,64V192H40V64Z",opacity:"0.2"}),React.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM192,184H64a8,8,0,0,1,0-16H192a8,8,0,0,1,0,16Zm0-48H64a8,8,0,0,1,0-16H192a8,8,0,0,1,0,16Zm0-48H64a8,8,0,0,1,0-16H192a8,8,0,0,1,0,16Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M222,128a6,6,0,0,1-6,6H40a6,6,0,0,1,0-12H216A6,6,0,0,1,222,128ZM40,70H216a6,6,0,0,0,0-12H40a6,6,0,0,0,0,12ZM216,186H40a6,6,0,0,0,0,12H216a6,6,0,0,0,0-12Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16ZM216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M220,128a4,4,0,0,1-4,4H40a4,4,0,0,1,0-8H216A4,4,0,0,1,220,128ZM40,68H216a4,4,0,0,0,0-8H40a4,4,0,0,0,0,8ZM216,188H40a4,4,0,0,0,0,8H216a4,4,0,0,0,0-8Z"}))]]),e$2=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M225.6,62.64l-88-48.17a19.91,19.91,0,0,0-19.2,0l-88,48.17A20,20,0,0,0,20,80.19v95.62a20,20,0,0,0,10.4,17.55l88,48.17a19.89,19.89,0,0,0,19.2,0l88-48.17A20,20,0,0,0,236,175.81V80.19A20,20,0,0,0,225.6,62.64ZM128,36.57,200,76,178.57,87.73l-72-39.42Zm0,78.83L56,76,81.56,62l72,39.41ZM44,96.79l72,39.4v76.67L44,173.44Zm96,116.07V136.19l24-13.13V152a12,12,0,0,0,24,0V109.92l24-13.13v76.65Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M128,129.09V232a8,8,0,0,1-3.84-1l-88-48.18a8,8,0,0,1-4.16-7V80.18a8,8,0,0,1,.7-3.25Z",opacity:"0.2"}),React.createElement("path",{d:"M223.68,66.15,135.68,18a15.88,15.88,0,0,0-15.36,0l-88,48.17a16,16,0,0,0-8.32,14v95.64a16,16,0,0,0,8.32,14l88,48.17a15.88,15.88,0,0,0,15.36,0l88-48.17a16,16,0,0,0,8.32-14V80.18A16,16,0,0,0,223.68,66.15ZM128,32l80.34,44-29.77,16.3-80.35-44ZM128,120,47.66,76l33.9-18.56,80.34,44ZM40,90l80,43.78v85.79L40,175.82Zm176,85.78h0l-80,43.79V133.82l32-17.51V152a8,8,0,0,0,16,0V107.55L216,90v85.77Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M223.68,66.15,135.68,18a15.88,15.88,0,0,0-15.36,0l-88,48.17a16,16,0,0,0-8.32,14v95.64a16,16,0,0,0,8.32,14l88,48.17a15.88,15.88,0,0,0,15.36,0l88-48.17a16,16,0,0,0,8.32-14V80.18A16,16,0,0,0,223.68,66.15ZM128,32l80.35,44L178.57,92.29l-80.35-44Zm0,88L47.65,76,81.56,57.43l80.35,44Zm88,55.85h0l-80,43.79V133.83l32-17.51V152a8,8,0,0,0,16,0V107.56l32-17.51v85.76Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M222.72,67.91l-88-48.18a13.9,13.9,0,0,0-13.44,0l-88,48.18A14,14,0,0,0,26,80.18v95.64a14,14,0,0,0,7.28,12.27l88,48.18a13.92,13.92,0,0,0,13.44,0l88-48.18A14,14,0,0,0,230,175.82V80.18A14,14,0,0,0,222.72,67.91ZM127,30.25a2,2,0,0,1,1.92,0L212.51,76,178.57,94.57,94.05,48.31ZM122,223,39,177.57a2,2,0,0,1-1-1.75V86.66l84,46ZM43.49,76,81.56,55.15l84.51,46.26L128,122.24ZM218,175.82a2,2,0,0,1-1,1.75h0L134,223V132.64l36-19.71V152a6,6,0,0,0,12,0V106.37l36-19.71Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M223.68,66.15,135.68,18a15.88,15.88,0,0,0-15.36,0l-88,48.17a16,16,0,0,0-8.32,14v95.64a16,16,0,0,0,8.32,14l88,48.17a15.88,15.88,0,0,0,15.36,0l88-48.17a16,16,0,0,0,8.32-14V80.18A16,16,0,0,0,223.68,66.15ZM128,32l80.34,44-29.77,16.3-80.35-44ZM128,120,47.66,76l33.9-18.56,80.34,44ZM40,90l80,43.78v85.79L40,175.82Zm176,85.78h0l-80,43.79V133.82l32-17.51V152a8,8,0,0,0,16,0V107.55L216,90v85.77Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M221.76,69.66l-88-48.18a12,12,0,0,0-11.52,0l-88,48.18A12,12,0,0,0,28,80.18v95.64a12,12,0,0,0,6.24,10.52l88,48.18a11.95,11.95,0,0,0,11.52,0l88-48.18A12,12,0,0,0,228,175.82V80.18A12,12,0,0,0,221.76,69.66ZM126.08,28.5a3.94,3.94,0,0,1,3.84,0L216.67,76,178.5,96.89a4,4,0,0,0-.58-.4l-88-48.18Zm1.92,96L39.33,76,81.56,52.87l88.67,48.54Zm-89.92,54.8a4,4,0,0,1-2.08-3.5V83.29l88,48.16v94.91Zm179.84,0h0l-85.92,47V131.45l40-21.89V152a4,4,0,0,0,8,0V105.18l40-21.89v92.53A4,4,0,0,1,217.92,179.32Z"}))]]),t$g=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M233.21,56.31A12,12,0,0,0,224,52H66L60.53,21.85A12,12,0,0,0,48.73,12H24a12,12,0,0,0,0,24H38.71L63.62,173a28,28,0,0,0,4.07,10.21A32,32,0,1,0,123,196h34a32,32,0,1,0,31-24H91.17a4,4,0,0,1-3.93-3.28L84.92,156H196.1a28,28,0,0,0,27.55-23l12.16-66.86A12,12,0,0,0,233.21,56.31ZM100,204a8,8,0,1,1-8-8A8,8,0,0,1,100,204Zm88,8a8,8,0,1,1,8-8A8,8,0,0,1,188,212Zm12-83.28A4,4,0,0,1,196.1,132H80.56L70.38,76H209.62Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M224,64l-12.16,66.86A16,16,0,0,1,196.1,144H70.55L56,64Z",opacity:"0.2"}),React.createElement("path",{d:"M230.14,58.87A8,8,0,0,0,224,56H62.68L56.6,22.57A8,8,0,0,0,48.73,16H24a8,8,0,0,0,0,16h18L67.56,172.29a24,24,0,0,0,5.33,11.27,28,28,0,1,0,44.4,8.44h45.42A27.75,27.75,0,0,0,160,204a28,28,0,1,0,28-28H91.17a8,8,0,0,1-7.87-6.57L80.13,152h116a24,24,0,0,0,23.61-19.71l12.16-66.86A8,8,0,0,0,230.14,58.87ZM104,204a12,12,0,1,1-12-12A12,12,0,0,1,104,204Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,200,204Zm4-74.57A8,8,0,0,1,196.1,136H77.22L65.59,72H214.41Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M230.14,58.87A8,8,0,0,0,224,56H62.68L56.6,22.57A8,8,0,0,0,48.73,16H24a8,8,0,0,0,0,16h18L67.56,172.29a24,24,0,0,0,5.33,11.27,28,28,0,1,0,44.4,8.44h45.42A27.75,27.75,0,0,0,160,204a28,28,0,1,0,28-28H91.17a8,8,0,0,1-7.87-6.57L80.13,152h116a24,24,0,0,0,23.61-19.71l12.16-66.86A8,8,0,0,0,230.14,58.87ZM104,204a12,12,0,1,1-12-12A12,12,0,0,1,104,204Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,200,204Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M228.61,60.16A6,6,0,0,0,224,58H61L54.63,22.93A6,6,0,0,0,48.73,18H24a6,6,0,0,0,0,12H43.72L69.53,171.94a21.93,21.93,0,0,0,6.24,11.77A26,26,0,1,0,113.89,190h52.22A26,26,0,1,0,188,178H91.17a10,10,0,0,1-9.84-8.21L77.73,150H196.1a22,22,0,0,0,21.65-18.06L229.9,65.07A6,6,0,0,0,228.61,60.16ZM106,204a14,14,0,1,1-14-14A14,14,0,0,1,106,204Zm96,0a14,14,0,1,1-14-14A14,14,0,0,1,202,204Zm3.94-74.21A10,10,0,0,1,196.1,138H75.55L63.19,70H216.81Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M230.14,58.87A8,8,0,0,0,224,56H62.68L56.6,22.57A8,8,0,0,0,48.73,16H24a8,8,0,0,0,0,16h18L67.56,172.29a24,24,0,0,0,5.33,11.27,28,28,0,1,0,44.4,8.44h45.42A27.75,27.75,0,0,0,160,204a28,28,0,1,0,28-28H91.17a8,8,0,0,1-7.87-6.57L80.13,152h116a24,24,0,0,0,23.61-19.71l12.16-66.86A8,8,0,0,0,230.14,58.87ZM104,204a12,12,0,1,1-12-12A12,12,0,0,1,104,204Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,200,204Zm4-74.57A8,8,0,0,1,196.1,136H77.22L65.59,72H214.41Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M227.07,61.44A4,4,0,0,0,224,60H59.34L52.66,23.28A4,4,0,0,0,48.73,20H24a4,4,0,0,0,0,8H45.39l6.69,36.8h0L71.49,171.58A20,20,0,0,0,79,183.85,24,24,0,1,0,109.87,188h60.26A24,24,0,1,0,188,180H91.17a12,12,0,0,1-11.8-9.85l-4-22.15H196.1a20,20,0,0,0,19.68-16.42l12.16-66.86A4,4,0,0,0,227.07,61.44ZM108,204a16,16,0,1,1-16-16A16,16,0,0,1,108,204Zm96,0a16,16,0,1,1-16-16A16,16,0,0,1,204,204Zm3.91-73.85A12,12,0,0,1,196.1,140H73.88L60.79,68H219.21Z"}))]]),m$l=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M100,36H56A20,20,0,0,0,36,56v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,100,36ZM96,96H60V60H96ZM200,36H156a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36Zm-4,60H160V60h36Zm-96,40H56a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V156A20,20,0,0,0,100,136Zm-4,60H60V160H96Zm104-60H156a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V156A20,20,0,0,0,200,136Zm-4,60H160V160h36Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M112,56v48a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8h48A8,8,0,0,1,112,56Zm88-8H152a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V56A8,8,0,0,0,200,48Zm-96,96H56a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V152A8,8,0,0,0,104,144Zm96,0H152a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V152A8,8,0,0,0,200,144Z",opacity:"0.2"}),React.createElement("path",{d:"M200,136H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,200,136Zm0,64H152V152h48v48ZM104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm96-64H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-96,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M120,56v48a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40h48A16,16,0,0,1,120,56Zm80-16H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm-96,96H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm96,0H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,200,136Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M104,42H56A14,14,0,0,0,42,56v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,104,42Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm94-62H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,200,42Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-98,34H56a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,104,138Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm94-62H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,200,138Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm96-64H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-96,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48Zm96-64H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,200,136Zm0,64H152V152h48v48Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M104,44H56A12,12,0,0,0,44,56v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,104,44Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm92-60H152a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,200,44Zm4,60a4,4,0,0,1-4,4H152a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4ZM104,140H56a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V152A12,12,0,0,0,104,140Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V152a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm92-60H152a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V152A12,12,0,0,0,200,140Zm4,60a4,4,0,0,1-4,4H152a4,4,0,0,1-4-4V152a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Z"}))]]),t$f=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M228,160V96a12,12,0,0,0-12-12H172V40a12,12,0,0,0-12-12H40A12,12,0,0,0,28,40V96h0v64a12,12,0,0,0,12,12H84v44a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V160Zm-63,44L52,91V69L187,204ZM69,52H91L204,165V187Zm135,79-23-23h23ZM148,75,125,52h23ZM52,125l23,23H52Zm56,56,23,23H108Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,96V216H96V160H40V40H160V96Z",opacity:"0.2"}),React.createElement("path",{d:"M216,88H168V40a8,8,0,0,0-8-8H40a8,8,0,0,0-8,8V160a8,8,0,0,0,8,8H88v48a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V96A8,8,0,0,0,216,88Zm-8,120H104V160a8,8,0,0,0-8-8H48V48H152V96a8,8,0,0,0,8,8h48Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M224,96V216a8,8,0,0,1-8,8H96a8,8,0,0,1-8-8V168H40a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8H160a8,8,0,0,1,8,8V88h48A8,8,0,0,1,224,96Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,90H166V40a6,6,0,0,0-6-6H40a6,6,0,0,0-6,6V160a6,6,0,0,0,6,6H90v50a6,6,0,0,0,6,6H216a6,6,0,0,0,6-6V96A6,6,0,0,0,216,90ZM154.48,210,46,101.52v-47L201.52,210ZM54.48,46h47L210,154.48v47ZM210,137.52,174.48,102H210Zm-56-56L118.48,46H154Zm-108,37L81.52,154H46Zm56,56L137.52,210H102Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M224,152V96a8,8,0,0,0-8-8H168V40a8,8,0,0,0-8-8H40a8,8,0,0,0-8,8v64h0v56a8,8,0,0,0,8,8H88v48a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V152Zm-68.69,56L48,100.69V59.31L196.69,208Zm-96-160h41.38L208,155.31v41.38ZM208,132.69,179.31,104H208Zm-56-56L123.31,48H152ZM48,123.31,76.69,152H48Zm56,56L132.69,208H104Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M216,92H164V40a4,4,0,0,0-4-4H40a4,4,0,0,0-4,4V160a4,4,0,0,0,4,4H92v52a4,4,0,0,0,4,4H216a4,4,0,0,0,4-4V96A4,4,0,0,0,216,92ZM153.66,212,44,102.34V49.66L206.34,212ZM49.66,44h52.68L212,153.66v52.68ZM212,142.34,169.66,100H212Zm-56-56L113.66,44H156ZM44,113.66,86.34,156H44Zm56,56L142.34,212H100Z"}))]]),t$e=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M192,96a64,64,0,1,1-64-64A64,64,0,0,1,192,96Z",opacity:"0.2"}),React.createElement("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M229.19,213c-15.81-27.32-40.63-46.49-69.47-54.62a70,70,0,1,0-63.44,0C67.44,166.5,42.62,185.67,26.81,213a6,6,0,1,0,10.38,6C56.4,185.81,90.34,166,128,166s71.6,19.81,90.81,53a6,6,0,1,0,10.38-6ZM70,96a58,58,0,1,1,58,58A58.07,58.07,0,0,1,70,96Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M227.46,214c-16.52-28.56-43-48.06-73.68-55.09a68,68,0,1,0-51.56,0c-30.64,7-57.16,26.53-73.68,55.09a4,4,0,0,0,6.92,4C55,184.19,89.62,164,128,164s73,20.19,92.54,54a4,4,0,0,0,3.46,2,3.93,3.93,0,0,0,2-.54A4,4,0,0,0,227.46,214ZM68,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,68,96Z"}))]]),t$d=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M164.38,181.1a52,52,0,1,0-72.76,0,75.89,75.89,0,0,0-30,28.89,12,12,0,0,0,20.78,12,53,53,0,0,1,91.22,0,12,12,0,1,0,20.78-12A75.89,75.89,0,0,0,164.38,181.1ZM100,144a28,28,0,1,1,28,28A28,28,0,0,1,100,144Zm147.21,9.59a12,12,0,0,1-16.81-2.39c-8.33-11.09-19.85-19.59-29.33-21.64a12,12,0,0,1-1.82-22.91,20,20,0,1,0-24.78-28.3,12,12,0,1,1-21-11.6,44,44,0,1,1,73.28,48.35,92.18,92.18,0,0,1,22.85,21.69A12,12,0,0,1,247.21,153.59Zm-192.28-24c-9.48,2.05-21,10.55-29.33,21.65A12,12,0,0,1,6.41,136.79,92.37,92.37,0,0,1,29.26,115.1a44,44,0,1,1,73.28-48.35,12,12,0,1,1-21,11.6,20,20,0,1,0-24.78,28.3,12,12,0,0,1-1.82,22.91Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M168,144a40,40,0,1,1-40-40A40,40,0,0,1,168,144ZM64,56A32,32,0,1,0,96,88,32,32,0,0,0,64,56Zm128,0a32,32,0,1,0,32,32A32,32,0,0,0,192,56Z",opacity:"0.2"}),React.createElement("path",{d:"M244.8,150.4a8,8,0,0,1-11.2-1.6A51.6,51.6,0,0,0,192,128a8,8,0,0,1,0-16,24,24,0,1,0-23.24-30,8,8,0,1,1-15.5-4A40,40,0,1,1,219,117.51a67.94,67.94,0,0,1,27.43,21.68A8,8,0,0,1,244.8,150.4ZM190.92,212a8,8,0,1,1-13.85,8,57,57,0,0,0-98.15,0,8,8,0,1,1-13.84-8,72.06,72.06,0,0,1,33.74-29.92,48,48,0,1,1,58.36,0A72.06,72.06,0,0,1,190.92,212ZM128,176a32,32,0,1,0-32-32A32,32,0,0,0,128,176ZM72,120a8,8,0,0,0-8-8A24,24,0,1,1,87.24,82a8,8,0,1,0,15.5-4A40,40,0,1,0,37,117.51,67.94,67.94,0,0,0,9.6,139.19a8,8,0,1,0,12.8,9.61A51.6,51.6,0,0,1,64,128,8,8,0,0,0,72,120Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M64.12,147.8a4,4,0,0,1-4,4.2H16a8,8,0,0,1-7.8-6.17,8.35,8.35,0,0,1,1.62-6.93A67.79,67.79,0,0,1,37,117.51a40,40,0,1,1,66.46-35.8,3.94,3.94,0,0,1-2.27,4.18A64.08,64.08,0,0,0,64,144C64,145.28,64,146.54,64.12,147.8Zm182-8.91A67.76,67.76,0,0,0,219,117.51a40,40,0,1,0-66.46-35.8,3.94,3.94,0,0,0,2.27,4.18A64.08,64.08,0,0,1,192,144c0,1.28,0,2.54-.12,3.8a4,4,0,0,0,4,4.2H240a8,8,0,0,0,7.8-6.17A8.33,8.33,0,0,0,246.17,138.89Zm-89,43.18a48,48,0,1,0-58.37,0A72.13,72.13,0,0,0,65.07,212,8,8,0,0,0,72,224H184a8,8,0,0,0,6.93-12A72.15,72.15,0,0,0,157.19,182.07Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M243.6,148.8a6,6,0,0,1-8.4-1.2A53.58,53.58,0,0,0,192,126a6,6,0,0,1,0-12,26,26,0,1,0-25.18-32.5,6,6,0,0,1-11.62-3,38,38,0,1,1,59.91,39.63A65.69,65.69,0,0,1,244.8,140.4,6,6,0,0,1,243.6,148.8ZM189.19,213a6,6,0,0,1-2.19,8.2,5.9,5.9,0,0,1-3,.81,6,6,0,0,1-5.2-3,59,59,0,0,0-101.62,0,6,6,0,1,1-10.38-6A70.1,70.1,0,0,1,103,182.55a46,46,0,1,1,50.1,0A70.1,70.1,0,0,1,189.19,213ZM128,178a34,34,0,1,0-34-34A34,34,0,0,0,128,178ZM70,120a6,6,0,0,0-6-6A26,26,0,1,1,89.18,81.49a6,6,0,1,0,11.62-3,38,38,0,1,0-59.91,39.63A65.69,65.69,0,0,0,11.2,140.4a6,6,0,1,0,9.6,7.2A53.58,53.58,0,0,1,64,126,6,6,0,0,0,70,120Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M244.8,150.4a8,8,0,0,1-11.2-1.6A51.6,51.6,0,0,0,192,128a8,8,0,0,1-7.37-4.89,8,8,0,0,1,0-6.22A8,8,0,0,1,192,112a24,24,0,1,0-23.24-30,8,8,0,1,1-15.5-4A40,40,0,1,1,219,117.51a67.94,67.94,0,0,1,27.43,21.68A8,8,0,0,1,244.8,150.4ZM190.92,212a8,8,0,1,1-13.84,8,57,57,0,0,0-98.16,0,8,8,0,1,1-13.84-8,72.06,72.06,0,0,1,33.74-29.92,48,48,0,1,1,58.36,0A72.06,72.06,0,0,1,190.92,212ZM128,176a32,32,0,1,0-32-32A32,32,0,0,0,128,176ZM72,120a8,8,0,0,0-8-8A24,24,0,1,1,87.24,82a8,8,0,1,0,15.5-4A40,40,0,1,0,37,117.51,67.94,67.94,0,0,0,9.6,139.19a8,8,0,1,0,12.8,9.61A51.6,51.6,0,0,1,64,128,8,8,0,0,0,72,120Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M237,147.44a4,4,0,0,1-5.48-1.4c-8.33-14-20.93-22-34.56-22a4,4,0,0,1-1.2-.2,36.76,36.76,0,0,1-3.8.2,4,4,0,0,1,0-8,28,28,0,1,0-27.12-35,4,4,0,0,1-7.75-2,36,36,0,1,1,54,39.48c10.81,3.85,20.51,12,27.31,23.48A4,4,0,0,1,237,147.44ZM187.46,214a4,4,0,0,1-1.46,5.46,3.93,3.93,0,0,1-2,.54,4,4,0,0,1-3.46-2,61,61,0,0,0-105.08,0,4,4,0,0,1-6.92-4,68.35,68.35,0,0,1,39.19-31,44,44,0,1,1,40.54,0A68.35,68.35,0,0,1,187.46,214ZM128,180a36,36,0,1,0-36-36A36,36,0,0,0,128,180ZM64,116A28,28,0,1,1,91.12,81a4,4,0,0,0,7.75-2A36,36,0,1,0,45.3,118.75,63.55,63.55,0,0,0,12.8,141.6a4,4,0,0,0,6.4,4.8A55.55,55.55,0,0,1,64,124a4,4,0,0,0,0-8Z"}))]]),t$c=new Map([["bold",React.createElement(React.Fragment,null,React.createElement("path",{d:"M144,204a16,16,0,1,1-16-16A16,16,0,0,1,144,204ZM239.61,83.91a176,176,0,0,0-223.22,0,12,12,0,1,0,15.23,18.55,152,152,0,0,1,192.76,0,12,12,0,1,0,15.23-18.55Zm-32.16,35.73a128,128,0,0,0-158.9,0,12,12,0,0,0,14.9,18.81,104,104,0,0,1,129.1,0,12,12,0,0,0,14.9-18.81ZM175.07,155.3a80.05,80.05,0,0,0-94.14,0,12,12,0,0,0,14.14,19.4,56,56,0,0,1,65.86,0,12,12,0,1,0,14.14-19.4Z"}))],["duotone",React.createElement(React.Fragment,null,React.createElement("path",{d:"M238.2,87.69l-104,125.43a8,8,0,0,1-12.3,0L17.8,87.69a7.79,7.79,0,0,1,1.31-11.21,180.75,180.75,0,0,1,217.78,0A7.79,7.79,0,0,1,238.2,87.69Z",opacity:"0.2"}),React.createElement("path",{d:"M247.89,80.91a15.93,15.93,0,0,0-6.17-10.81A186.67,186.67,0,0,0,128,32,186.67,186.67,0,0,0,14.28,70.1,15.93,15.93,0,0,0,8.11,80.91,15.65,15.65,0,0,0,11.65,92.8l104,125.43A15.93,15.93,0,0,0,128,224h0a15.93,15.93,0,0,0,12.31-5.77l104-125.43A15.65,15.65,0,0,0,247.89,80.91ZM128,208,24.09,82.74A170.76,170.76,0,0,1,128,48,170.76,170.76,0,0,1,231.91,82.74Z"}))],["fill",React.createElement(React.Fragment,null,React.createElement("path",{d:"M244.35,92.8l-104,125.43A15.93,15.93,0,0,1,128,224h0a15.93,15.93,0,0,1-12.31-5.77L11.65,92.8A15.65,15.65,0,0,1,8.11,80.91,15.93,15.93,0,0,1,14.28,70.1,186.67,186.67,0,0,1,128,32,186.67,186.67,0,0,1,241.72,70.1a15.93,15.93,0,0,1,6.17,10.81A15.65,15.65,0,0,1,244.35,92.8Z"}))],["light",React.createElement(React.Fragment,null,React.createElement("path",{d:"M138,204a10,10,0,1,1-10-10A10,10,0,0,1,138,204ZM235.81,88.55a170,170,0,0,0-215.62,0,6,6,0,1,0,7.62,9.27,158,158,0,0,1,200.38,0,6,6,0,1,0,7.62-9.27Zm-32.08,35.79a122,122,0,0,0-151.46,0,6,6,0,0,0,7.46,9.41,110,110,0,0,1,136.54,0A6,6,0,0,0,200,135a6,6,0,0,0,3.73-10.7Zm-32.2,35.81a74,74,0,0,0-87.06,0,6,6,0,0,0,7.06,9.7,62,62,0,0,1,72.94,0,6,6,0,0,0,8.38-1.32A6,6,0,0,0,171.53,160.15Z"}))],["regular",React.createElement(React.Fragment,null,React.createElement("path",{d:"M140,204a12,12,0,1,1-12-12A12,12,0,0,1,140,204ZM237.08,87A172,172,0,0,0,18.92,87,8,8,0,0,0,29.08,99.37a156,156,0,0,1,197.84,0A8,8,0,0,0,237.08,87ZM205,122.77a124,124,0,0,0-153.94,0A8,8,0,0,0,61,135.31a108,108,0,0,1,134.06,0,8,8,0,0,0,11.24-1.3A8,8,0,0,0,205,122.77Zm-32.26,35.76a76.05,76.05,0,0,0-89.42,0,8,8,0,0,0,9.42,12.94,60,60,0,0,1,70.58,0,8,8,0,1,0,9.42-12.94Z"}))],["thin",React.createElement(React.Fragment,null,React.createElement("path",{d:"M136,204a8,8,0,1,1-8-8A8,8,0,0,1,136,204ZM234.54,90.1a168,168,0,0,0-213.08,0,4,4,0,1,0,5.08,6.18,160,160,0,0,1,202.92,0,4,4,0,0,0,5.08-6.18Zm-32.06,35.81a120,120,0,0,0-149,0,4,4,0,0,0,5,6.27,112,112,0,0,1,139,0,4,4,0,0,0,5-6.27Zm-32.13,35.86a72,72,0,0,0-84.7,0,4,4,0,1,0,4.7,6.46,64.07,64.07,0,0,1,75.3,0,4,4,0,0,0,5.58-.87A4,4,0,0,0,170.35,161.77Z"}))]]),o$8=reactExports.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1});var y$1=Object.defineProperty,c$j=Object.getOwnPropertySymbols,f$k=Object.prototype.hasOwnProperty,g$4=Object.prototype.propertyIsEnumerable,d$4=(ie,ee,te)=>ee in ie?y$1(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,l$4=(ie,ee)=>{for(var te in ee||(ee={}))f$k.call(ee,te)&&d$4(ie,te,ee[te]);if(c$j)for(var te of c$j(ee))g$4.call(ee,te)&&d$4(ie,te,ee[te]);return ie},a$k=(ie,ee)=>{var te={};for(var se in ie)f$k.call(ie,se)&&ee.indexOf(se)<0&&(te[se]=ie[se]);if(ie!=null&&c$j)for(var se of c$j(ie))ee.indexOf(se)<0&&g$4.call(ie,se)&&(te[se]=ie[se]);return te};const h$4=reactExports.forwardRef((ie,ee)=>{const te=ie,{alt:se,color:ne,size:le,weight:ue,mirrored:ce,children:he,weights:de}=te,_e=a$k(te,["alt","color","size","weight","mirrored","children","weights"]),fe=reactExports.useContext(o$8),{color:ye="currentColor",size:be,weight:Pe="regular",mirrored:Ne=!1}=fe,we=a$k(fe,["color","size","weight","mirrored"]);return React.createElement("svg",l$4(l$4({ref:ee,xmlns:"http://www.w3.org/2000/svg",width:le??be,height:le??be,fill:ne??ye,viewBox:"0 0 256 256",transform:ce||Ne?"scale(-1, 1)":void 0},we),_e),!!se&&React.createElement("title",null,se),he,de.get(ue??Pe))});h$4.displayName="IconBase";const b$1=h$4;var c$i=Object.defineProperty,f$j=Object.defineProperties,p$j=Object.getOwnPropertyDescriptors,o$7=Object.getOwnPropertySymbols,s$j=Object.prototype.hasOwnProperty,h$3=Object.prototype.propertyIsEnumerable,a$j=(ie,ee,te)=>ee in ie?c$i(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,t$b=(ie,ee)=>{for(var te in ee||(ee={}))s$j.call(ee,te)&&a$j(ie,te,ee[te]);if(o$7)for(var te of o$7(ee))h$3.call(ee,te)&&a$j(ie,te,ee[te]);return ie},i$i=(ie,ee)=>f$j(ie,p$j(ee));const A$1=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,i$i(t$b({ref:ee},ie),{weights:V$1})));A$1.displayName="Armchair";var f$i=Object.defineProperty,n$a=Object.defineProperties,p$i=Object.getOwnPropertyDescriptors,o$6=Object.getOwnPropertySymbols,s$i=Object.prototype.hasOwnProperty,c$h=Object.prototype.propertyIsEnumerable,a$i=(ie,ee,te)=>ee in ie?f$i(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,i$h=(ie,ee)=>{for(var te in ee||(ee={}))s$i.call(ee,te)&&a$i(ie,te,ee[te]);if(o$6)for(var te of o$6(ee))c$h.call(ee,te)&&a$i(ie,te,ee[te]);return ie},m$k=(ie,ee)=>n$a(ie,p$i(ee));const d$3=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,m$k(i$h({ref:ee},ie),{weights:t$k})));d$3.displayName="ArrowFatLineRight";var i$g=Object.defineProperty,n$9=Object.defineProperties,p$h=Object.getOwnPropertyDescriptors,t$a=Object.getOwnPropertySymbols,s$h=Object.prototype.hasOwnProperty,c$g=Object.prototype.propertyIsEnumerable,a$h=(ie,ee,te)=>ee in ie?i$g(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,m$j=(ie,ee)=>{for(var te in ee||(ee={}))s$h.call(ee,te)&&a$h(ie,te,ee[te]);if(t$a)for(var te of t$a(ee))c$g.call(ee,te)&&a$h(ie,te,ee[te]);return ie},f$h=(ie,ee)=>n$9(ie,p$h(ee));const D$1=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,f$h(m$j({ref:ee},ie),{weights:l$6})));D$1.displayName="CaretDown";var i$f=Object.defineProperty,p$g=Object.defineProperties,s$g=Object.getOwnPropertyDescriptors,o$5=Object.getOwnPropertySymbols,c$f=Object.prototype.hasOwnProperty,n$8=Object.prototype.propertyIsEnumerable,a$g=(ie,ee,te)=>ee in ie?i$f(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,m$i=(ie,ee)=>{for(var te in ee||(ee={}))c$f.call(ee,te)&&a$g(ie,te,ee[te]);if(o$5)for(var te of o$5(ee))n$8.call(ee,te)&&a$g(ie,te,ee[te]);return ie},f$g=(ie,ee)=>p$g(ie,s$g(ee));const I$3=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,f$g(m$i({ref:ee},ie),{weights:a$m})));I$3.displayName="CaretLeft";var f$f=Object.defineProperty,p$f=Object.defineProperties,s$f=Object.getOwnPropertyDescriptors,o$4=Object.getOwnPropertySymbols,c$e=Object.prototype.hasOwnProperty,R$2=Object.prototype.propertyIsEnumerable,a$f=(ie,ee,te)=>ee in ie?f$f(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,m$h=(ie,ee)=>{for(var te in ee||(ee={}))c$e.call(ee,te)&&a$f(ie,te,ee[te]);if(o$4)for(var te of o$4(ee))R$2.call(ee,te)&&a$f(ie,te,ee[te]);return ie},i$e=(ie,ee)=>p$f(ie,s$f(ee));const l$3=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,i$e(m$h({ref:ee},ie),{weights:l$5})));l$3.displayName="CaretRight";var f$e=Object.defineProperty,i$d=Object.defineProperties,s$e=Object.getOwnPropertyDescriptors,o$3=Object.getOwnPropertySymbols,c$d=Object.prototype.hasOwnProperty,n$7=Object.prototype.propertyIsEnumerable,a$e=(ie,ee,te)=>ee in ie?f$e(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,m$g=(ie,ee)=>{for(var te in ee||(ee={}))c$d.call(ee,te)&&a$e(ie,te,ee[te]);if(o$3)for(var te of o$3(ee))n$7.call(ee,te)&&a$e(ie,te,ee[te]);return ie},p$e=(ie,ee)=>i$d(ie,s$e(ee));const I$2=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,p$e(m$g({ref:ee},ie),{weights:a$l})));I$2.displayName="CaretUp";var f$d=Object.defineProperty,i$c=Object.defineProperties,p$d=Object.getOwnPropertyDescriptors,a$d=Object.getOwnPropertySymbols,s$d=Object.prototype.hasOwnProperty,h$2=Object.prototype.propertyIsEnumerable,t$9=(ie,ee,te)=>ee in ie?f$d(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,m$f=(ie,ee)=>{for(var te in ee||(ee={}))s$d.call(ee,te)&&t$9(ie,te,ee[te]);if(a$d)for(var te of a$d(ee))h$2.call(ee,te)&&t$9(ie,te,ee[te]);return ie},c$c=(ie,ee)=>i$c(ie,p$d(ee));const q$1=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,c$c(m$f({ref:ee},ie),{weights:t$j})));q$1.displayName="CheckSquare";var p$c=Object.defineProperty,f$c=Object.defineProperties,s$c=Object.getOwnPropertyDescriptors,t$8=Object.getOwnPropertySymbols,c$b=Object.prototype.hasOwnProperty,d$2=Object.prototype.propertyIsEnumerable,a$c=(ie,ee,te)=>ee in ie?p$c(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,m$e=(ie,ee)=>{for(var te in ee||(ee={}))c$b.call(ee,te)&&a$c(ie,te,ee[te]);if(t$8)for(var te of t$8(ee))d$2.call(ee,te)&&a$c(ie,te,ee[te]);return ie},i$b=(ie,ee)=>f$c(ie,s$c(ee));const w$7=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,i$b(m$e({ref:ee},ie),{weights:H$1})));w$7.displayName="ClipboardText";var f$b=Object.defineProperty,i$a=Object.defineProperties,s$b=Object.getOwnPropertyDescriptors,t$7=Object.getOwnPropertySymbols,c$a=Object.prototype.hasOwnProperty,n$6=Object.prototype.propertyIsEnumerable,m$d=(ie,ee,te)=>ee in ie?f$b(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,a$b=(ie,ee)=>{for(var te in ee||(ee={}))c$a.call(ee,te)&&m$d(ie,te,ee[te]);if(t$7)for(var te of t$7(ee))n$6.call(ee,te)&&m$d(ie,te,ee[te]);return ie},p$b=(ie,ee)=>i$a(ie,s$b(ee));const C$1=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,p$b(a$b({ref:ee},ie),{weights:t$i})));C$1.displayName="Copy";var s$a=Object.defineProperty,c$9=Object.defineProperties,f$a=Object.getOwnPropertyDescriptors,t$6=Object.getOwnPropertySymbols,p$a=Object.prototype.hasOwnProperty,l$2=Object.prototype.propertyIsEnumerable,m$c=(ie,ee,te)=>ee in ie?s$a(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,a$a=(ie,ee)=>{for(var te in ee||(ee={}))p$a.call(ee,te)&&m$c(ie,te,ee[te]);if(t$6)for(var te of t$6(ee))l$2.call(ee,te)&&m$c(ie,te,ee[te]);return ie},i$9=(ie,ee)=>c$9(ie,f$a(ee));const u$4=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,i$9(a$a({ref:ee},ie),{weights:e$4})));u$4.displayName="CursorClick";var n$5=Object.defineProperty,f$9=Object.defineProperties,g$3=Object.getOwnPropertyDescriptors,r$5=Object.getOwnPropertySymbols,p$9=Object.prototype.hasOwnProperty,s$9=Object.prototype.propertyIsEnumerable,i$8=(ie,ee,te)=>ee in ie?n$5(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,m$b=(ie,ee)=>{for(var te in ee||(ee={}))p$9.call(ee,te)&&i$8(ie,te,ee[te]);if(r$5)for(var te of r$5(ee))s$9.call(ee,te)&&i$8(ie,te,ee[te]);return ie},a$9=(ie,ee)=>f$9(ie,g$3(ee));const w$6=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,a$9(m$b({ref:ee},ie),{weights:e$3})));w$6.displayName="Lightning";var s$8=Object.defineProperty,f$8=Object.defineProperties,p$8=Object.getOwnPropertyDescriptors,r$4=Object.getOwnPropertySymbols,c$8=Object.prototype.hasOwnProperty,n$4=Object.prototype.propertyIsEnumerable,m$a=(ie,ee,te)=>ee in ie?s$8(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,a$8=(ie,ee)=>{for(var te in ee||(ee={}))c$8.call(ee,te)&&m$a(ie,te,ee[te]);if(r$4)for(var te of r$4(ee))n$4.call(ee,te)&&m$a(ie,te,ee[te]);return ie},i$7=(ie,ee)=>f$8(ie,p$8(ee));const L$1=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,i$7(a$8({ref:ee},ie),{weights:t$h})));L$1.displayName="List";var f$7=Object.defineProperty,i$6=Object.defineProperties,p$7=Object.getOwnPropertyDescriptors,r$3=Object.getOwnPropertySymbols,s$7=Object.prototype.hasOwnProperty,g$2=Object.prototype.propertyIsEnumerable,t$5=(ie,ee,te)=>ee in ie?f$7(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,m$9=(ie,ee)=>{for(var te in ee||(ee={}))s$7.call(ee,te)&&t$5(ie,te,ee[te]);if(r$3)for(var te of r$3(ee))g$2.call(ee,te)&&t$5(ie,te,ee[te]);return ie},c$7=(ie,ee)=>i$6(ie,p$7(ee));const w$5=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,c$7(m$9({ref:ee},ie),{weights:e$2})));w$5.displayName="Package";var i$5=Object.defineProperty,f$6=Object.defineProperties,n$3=Object.getOwnPropertyDescriptors,e$1=Object.getOwnPropertySymbols,s$6=Object.prototype.hasOwnProperty,c$6=Object.prototype.propertyIsEnumerable,a$7=(ie,ee,te)=>ee in ie?i$5(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,p$6=(ie,ee)=>{for(var te in ee||(ee={}))s$6.call(ee,te)&&a$7(ie,te,ee[te]);if(e$1)for(var te of e$1(ee))c$6.call(ee,te)&&a$7(ie,te,ee[te]);return ie},m$8=(ie,ee)=>f$6(ie,n$3(ee));const w$4=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,m$8(p$6({ref:ee},ie),{weights:t$g})));w$4.displayName="ShoppingCart";var f$5=Object.defineProperty,i$4=Object.defineProperties,p$5=Object.getOwnPropertyDescriptors,a$6=Object.getOwnPropertySymbols,c$5=Object.prototype.hasOwnProperty,u$3=Object.prototype.propertyIsEnumerable,t$4=(ie,ee,te)=>ee in ie?f$5(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,m$7=(ie,ee)=>{for(var te in ee||(ee={}))c$5.call(ee,te)&&t$4(ie,te,ee[te]);if(a$6)for(var te of a$6(ee))u$3.call(ee,te)&&t$4(ie,te,ee[te]);return ie},s$5=(ie,ee)=>i$4(ie,p$5(ee));const w$3=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,s$5(m$7({ref:ee},ie),{weights:m$l})));w$3.displayName="SquaresFour";var f$4=Object.defineProperty,n$2=Object.defineProperties,p$4=Object.getOwnPropertyDescriptors,o$2=Object.getOwnPropertySymbols,s$4=Object.prototype.hasOwnProperty,c$4=Object.prototype.propertyIsEnumerable,a$5=(ie,ee,te)=>ee in ie?f$4(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,m$6=(ie,ee)=>{for(var te in ee||(ee={}))s$4.call(ee,te)&&a$5(ie,te,ee[te]);if(o$2)for(var te of o$2(ee))c$4.call(ee,te)&&a$5(ie,te,ee[te]);return ie},i$3=(ie,ee)=>n$2(ie,p$4(ee));const w$2=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,i$3(m$6({ref:ee},ie),{weights:t$f})));w$2.displayName="UniteSquare";var f$3=Object.defineProperty,i$2=Object.defineProperties,p$3=Object.getOwnPropertyDescriptors,t$3=Object.getOwnPropertySymbols,c$3=Object.prototype.hasOwnProperty,n$1=Object.prototype.propertyIsEnumerable,m$5=(ie,ee,te)=>ee in ie?f$3(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,a$4=(ie,ee)=>{for(var te in ee||(ee={}))c$3.call(ee,te)&&m$5(ie,te,ee[te]);if(t$3)for(var te of t$3(ee))n$1.call(ee,te)&&m$5(ie,te,ee[te]);return ie},s$3=(ie,ee)=>i$2(ie,p$3(ee));const R$1=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,s$3(a$4({ref:ee},ie),{weights:t$e})));R$1.displayName="User";var f$2=Object.defineProperty,i$1=Object.defineProperties,p$2=Object.getOwnPropertyDescriptors,s$2=Object.getOwnPropertySymbols,c$2=Object.prototype.hasOwnProperty,h$1=Object.prototype.propertyIsEnumerable,t$2=(ie,ee,te)=>ee in ie?f$2(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,m$4=(ie,ee)=>{for(var te in ee||(ee={}))c$2.call(ee,te)&&t$2(ie,te,ee[te]);if(s$2)for(var te of s$2(ee))h$1.call(ee,te)&&t$2(ie,te,ee[te]);return ie},a$3=(ie,ee)=>i$1(ie,p$2(ee));const I$1=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,a$3(m$4({ref:ee},ie),{weights:t$d})));I$1.displayName="UsersThree";var f$1=Object.defineProperty,p$1=Object.defineProperties,s$1=Object.getOwnPropertyDescriptors,r$2=Object.getOwnPropertySymbols,c$1=Object.prototype.hasOwnProperty,g$1=Object.prototype.propertyIsEnumerable,t$1=(ie,ee,te)=>ee in ie?f$1(ie,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):ie[ee]=te,m$3=(ie,ee)=>{for(var te in ee||(ee={}))c$1.call(ee,te)&&t$1(ie,te,ee[te]);if(r$2)for(var te of r$2(ee))g$1.call(ee,te)&&t$1(ie,te,ee[te]);return ie},a$2=(ie,ee)=>p$1(ie,s$1(ee));const w$1=reactExports.forwardRef((ie,ee)=>React.createElement(b$1,a$2(m$3({ref:ee},ie),{weights:t$c})));w$1.displayName="WifiHigh";function keys(ie){return Object.keys(ie)}function isObject(ie){return ie&&typeof ie=="object"&&!Array.isArray(ie)}function deepMerge(ie,ee){const te={...ie},se=ee;return isObject(ie)&&isObject(ee)&&Object.keys(ee).forEach(ne=>{isObject(se[ne])&&ne in ie?te[ne]=deepMerge(te[ne],se[ne]):te[ne]=se[ne]}),te}function camelToKebabCase(ie){return ie.replace(/[A-Z]/g,ee=>`-${ee.toLowerCase()}`)}function getTransformedScaledValue(ie){var ee;return typeof ie!="string"||!ie.includes("var(--mantine-scale)")?ie:(ee=ie.match(/^calc\((.*?)\)$/))==null?void 0:ee[1].split("*")[0].trim()}function px(ie){const ee=getTransformedScaledValue(ie);return typeof ee=="number"?ee:typeof ee=="string"?ee.includes("calc")||ee.includes("var")?ee:ee.includes("px")?Number(ee.replace("px","")):ee.includes("rem")?Number(ee.replace("rem",""))*16:ee.includes("em")?Number(ee.replace("em",""))*16:Number(ee):NaN}function scaleRem(ie){return ie==="0rem"?"0rem":`calc(${ie} * var(--mantine-scale))`}function createConverter(ie,{shouldScale:ee=!1}={}){function te(se){if(se===0||se==="0")return`0${ie}`;if(typeof se=="number"){const ne=`${se/16}${ie}`;return ee?scaleRem(ne):ne}if(typeof se=="string"){if(se===""||se.startsWith("calc(")||se.startsWith("clamp(")||se.includes("rgba("))return se;if(se.includes(","))return se.split(",").map(le=>te(le)).join(",");if(se.includes(" "))return se.split(" ").map(le=>te(le)).join(" ");if(se.includes(ie))return ee?scaleRem(se):se;const ne=se.replace("px","");if(!Number.isNaN(Number(ne))){const le=`${Number(ne)/16}${ie}`;return ee?scaleRem(le):le}}return se}return te}const rem=createConverter("rem",{shouldScale:!0}),em=createConverter("em");function filterProps(ie){return Object.keys(ie).reduce((ee,te)=>(ie[te]!==void 0&&(ee[te]=ie[te]),ee),{})}function isNumberLike(ie){if(typeof ie=="number")return!0;if(typeof ie=="string"){if(ie.startsWith("calc(")||ie.startsWith("var(")||ie.includes(" ")&&ie.trim()!=="")return!0;const ee=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return ie.trim().split(/\s+/).every(se=>ee.test(se))}return!1}function isElement$1(ie){return Array.isArray(ie)||ie===null?!1:typeof ie=="object"?ie.type!==reactExports.Fragment:!1}function createSafeContext(ie){const ee=reactExports.createContext(null);return[({children:ne,value:le})=>jsxRuntimeExports.jsx(ee.Provider,{value:le,children:ne}),()=>{const ne=reactExports.useContext(ee);if(ne===null)throw new Error(ie);return ne}]}function createOptionalContext(ie=null){const ee=reactExports.createContext(ie);return[({children:ne,value:le})=>jsxRuntimeExports.jsx(ee.Provider,{value:le,children:ne}),()=>reactExports.useContext(ee)]}function getSafeId(ie,ee){return te=>{if(typeof te!="string"||te.trim().length===0)throw new Error(ee);return`${ie}-${te}`}}function findElementAncestor(ie,ee){let te=ie;for(;(te=te.parentElement)&&!te.matches(ee););return te}function getPreviousIndex$1(ie,ee,te){for(let se=ie-1;se>=0;se-=1)if(!ee[se].disabled)return se;if(te){for(let se=ee.length-1;se>-1;se-=1)if(!ee[se].disabled)return se}return ie}function getNextIndex$1(ie,ee,te){for(let se=ie+1;se<ee.length;se+=1)if(!ee[se].disabled)return se;if(te){for(let se=0;se<ee.length;se+=1)if(!ee[se].disabled)return se}return ie}function onSameLevel(ie,ee,te){return findElementAncestor(ie,te)===findElementAncestor(ee,te)}function createScopedKeydownHandler({parentSelector:ie,siblingSelector:ee,onKeyDown:te,loop:se=!0,activateOnFocus:ne=!1,dir:le="rtl",orientation:ue}){return ce=>{var Pe;te==null||te(ce);const he=Array.from(((Pe=findElementAncestor(ce.currentTarget,ie))==null?void 0:Pe.querySelectorAll(ee))||[]).filter(Ne=>onSameLevel(ce.currentTarget,Ne,ie)),de=he.findIndex(Ne=>ce.currentTarget===Ne),_e=getNextIndex$1(de,he,se),fe=getPreviousIndex$1(de,he,se),ye=le==="rtl"?fe:_e,be=le==="rtl"?_e:fe;switch(ce.key){case"ArrowRight":{ue==="horizontal"&&(ce.stopPropagation(),ce.preventDefault(),he[ye].focus(),ne&&he[ye].click());break}case"ArrowLeft":{ue==="horizontal"&&(ce.stopPropagation(),ce.preventDefault(),he[be].focus(),ne&&he[be].click());break}case"ArrowUp":{ue==="vertical"&&(ce.stopPropagation(),ce.preventDefault(),he[fe].focus(),ne&&he[fe].click());break}case"ArrowDown":{ue==="vertical"&&(ce.stopPropagation(),ce.preventDefault(),he[_e].focus(),ne&&he[_e].click());break}case"Home":{ce.stopPropagation(),ce.preventDefault(),!he[0].disabled&&he[0].focus();break}case"End":{ce.stopPropagation(),ce.preventDefault();const Ne=he.length-1;!he[Ne].disabled&&he[Ne].focus();break}}}}const elevations={app:100,modal:200,popover:300,overlay:400,max:9999};function getDefaultZIndex(ie){return elevations[ie]}const noop$2=()=>{};function closeOnEscape(ie,ee={active:!0}){return typeof ie!="function"||!ee.active?ee.onKeyDown||noop$2:te=>{var se;te.key==="Escape"&&(ie(te),(se=ee.onTrigger)==null||se.call(ee))}}function getSize(ie,ee="size",te=!0){if(ie!==void 0)return isNumberLike(ie)?te?rem(ie):ie:`var(--${ee}-${ie})`}function getSpacing(ie){return getSize(ie,"mantine-spacing")}function getRadius(ie){return ie===void 0?"var(--mantine-radius-default)":getSize(ie,"mantine-radius")}function getFontSize(ie){return getSize(ie,"mantine-font-size")}function getLineHeight(ie){return getSize(ie,"mantine-line-height",!1)}function getShadow(ie){if(ie)return getSize(ie,"mantine-shadow",!1)}function clamp$3(ie,ee,te){return ee===void 0&&te===void 0?ie:ee!==void 0&&te===void 0?Math.max(ie,ee):Math.min(ee===void 0&&te!==void 0?ie:Math.max(ie,ee),te)}function randomId(ie="mantine-"){return`${ie}${Math.random().toString(36).slice(2,11)}`}function useCallbackRef(ie){const ee=reactExports.useRef(ie);return reactExports.useEffect(()=>{ee.current=ie}),reactExports.useMemo(()=>(...te)=>{var se;return(se=ee.current)==null?void 0:se.call(ee,...te)},[])}const noop$1=()=>{};function useDebouncedCallback(ie,ee){const te=typeof ee=="number"?ee:ee.delay,se=typeof ee=="number"?!1:ee.flushOnUnmount,ne=useCallbackRef(ie),le=reactExports.useRef(0),ue=Object.assign(reactExports.useCallback((...ce)=>{window.clearTimeout(le.current);const he=()=>{le.current!==0&&(le.current=0,ne(...ce))};ue.flush=he,le.current=window.setTimeout(he,te)},[ne,te]),{flush:noop$1});return reactExports.useEffect(()=>()=>{window.clearTimeout(le.current),se&&ue.flush()},[ue,se]),ue}const DEFAULT_EVENTS=["mousedown","touchstart"];function useClickOutside(ie,ee,te){const se=reactExports.useRef(null);return reactExports.useEffect(()=>{const ne=le=>{const{target:ue}=le??{};if(Array.isArray(te)){const ce=(ue==null?void 0:ue.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(ue)&&ue.tagName!=="HTML";te.every(de=>!!de&&!le.composedPath().includes(de))&&!ce&&ie()}else se.current&&!se.current.contains(ue)&&ie()};return(ee||DEFAULT_EVENTS).forEach(le=>document.addEventListener(le,ne)),()=>{(ee||DEFAULT_EVENTS).forEach(le=>document.removeEventListener(le,ne))}},[se,ie,te]),se}function useClipboard({timeout:ie=2e3}={}){const[ee,te]=reactExports.useState(null),[se,ne]=reactExports.useState(!1),[le,ue]=reactExports.useState(null),ce=_e=>{window.clearTimeout(le),ue(window.setTimeout(()=>ne(!1),ie)),ne(_e)};return{copy:_e=>{"clipboard"in navigator?navigator.clipboard.writeText(_e).then(()=>ce(!0)).catch(fe=>te(fe)):te(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{ne(!1),te(null),window.clearTimeout(le)},error:ee,copied:se}}function attachMediaListener(ie,ee){try{return ie.addEventListener("change",ee),()=>ie.removeEventListener("change",ee)}catch{return ie.addListener(ee),()=>ie.removeListener(ee)}}function getInitialValue(ie,ee){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(ie).matches:!1}function useMediaQuery(ie,ee,{getInitialValueInEffect:te}={getInitialValueInEffect:!0}){const[se,ne]=reactExports.useState(te?ee:getInitialValue(ie)),le=reactExports.useRef(null);return reactExports.useEffect(()=>{if("matchMedia"in window)return le.current=window.matchMedia(ie),ne(le.current.matches),attachMediaListener(le.current,ue=>ne(ue.matches))},[ie]),se}const useIsomorphicEffect=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useDidUpdate(ie,ee){const te=reactExports.useRef(!1);reactExports.useEffect(()=>()=>{te.current=!1},[]),reactExports.useEffect(()=>{if(te.current)return ie();te.current=!0},ee)}function useFocusReturn({opened:ie,shouldReturnFocus:ee=!0}){const te=reactExports.useRef(null),se=()=>{var ne;te.current&&"focus"in te.current&&typeof te.current.focus=="function"&&((ne=te.current)==null||ne.focus({preventScroll:!0}))};return useDidUpdate(()=>{let ne=-1;const le=ue=>{ue.key==="Tab"&&window.clearTimeout(ne)};return document.addEventListener("keydown",le),ie?te.current=document.activeElement:ee&&(ne=window.setTimeout(se,10)),()=>{window.clearTimeout(ne),document.removeEventListener("keydown",le)}},[ie,ee]),se}const TABBABLE_NODES=/input|select|textarea|button|object/,FOCUS_SELECTOR="a, input, select, textarea, button, object, [tabindex]";function hidden$1(ie){return ie.style.display==="none"}function visible(ie){if(ie.getAttribute("aria-hidden")||ie.getAttribute("hidden")||ie.getAttribute("type")==="hidden")return!1;let te=ie;for(;te&&!(te===document.body||te.nodeType===11);){if(hidden$1(te))return!1;te=te.parentNode}return!0}function getElementTabIndex(ie){let ee=ie.getAttribute("tabindex");return ee===null&&(ee=void 0),parseInt(ee,10)}function focusable(ie){const ee=ie.nodeName.toLowerCase(),te=!Number.isNaN(getElementTabIndex(ie));return(TABBABLE_NODES.test(ee)&&!ie.disabled||ie instanceof HTMLAnchorElement&&ie.href||te)&&visible(ie)}function tabbable(ie){const ee=getElementTabIndex(ie);return(Number.isNaN(ee)||ee>=0)&&focusable(ie)}function findTabbableDescendants(ie){return Array.from(ie.querySelectorAll(FOCUS_SELECTOR)).filter(tabbable)}function scopeTab(ie,ee){const te=findTabbableDescendants(ie);if(!te.length){ee.preventDefault();return}const se=te[ee.shiftKey?0:te.length-1],ne=ie.getRootNode();let le=se===ne.activeElement||ie===ne.activeElement;const ue=ne.activeElement;if(ue.tagName==="INPUT"&&ue.getAttribute("type")==="radio"&&(le=te.filter(_e=>_e.getAttribute("type")==="radio"&&_e.getAttribute("name")===ue.getAttribute("name")).includes(se)),!le)return;ee.preventDefault();const he=te[ee.shiftKey?te.length-1:0];he&&he.focus()}function useFocusTrap(ie=!0){const ee=reactExports.useRef(null),te=ne=>{let le=ne.querySelector("[data-autofocus]");if(!le){const ue=Array.from(ne.querySelectorAll(FOCUS_SELECTOR));le=ue.find(tabbable)||ue.find(focusable)||null,!le&&focusable(ne)&&(le=ne)}le&&le.focus({preventScroll:!0})},se=reactExports.useCallback(ne=>{ie&&ne!==null&&ee.current!==ne&&(ne?(setTimeout(()=>{ne.getRootNode()&&te(ne)}),ee.current=ne):ee.current=null)},[ie]);return reactExports.useEffect(()=>{if(!ie)return;ee.current&&setTimeout(()=>te(ee.current));const ne=le=>{le.key==="Tab"&&ee.current&&scopeTab(ee.current,le)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[ie]),se}const __useId=React.useId||(()=>{});function useReactId$1(){const ie=__useId();return ie?`mantine-${ie.replace(/:/g,"")}`:""}function useId$1(ie){const ee=useReactId$1(),[te,se]=reactExports.useState(ee);return useIsomorphicEffect(()=>{se(randomId())},[]),typeof ie=="string"?ie:typeof window>"u"?ee:te}function assignRef(ie,ee){if(typeof ie=="function")return ie(ee);typeof ie=="object"&&ie!==null&&"current"in ie&&(ie.current=ee)}function mergeRefs(...ie){const ee=new Map;return te=>{if(ie.forEach(se=>{const ne=assignRef(se,te);ne&&ee.set(se,ne)}),ee.size>0)return()=>{ie.forEach(se=>{const ne=ee.get(se);ne?ne():assignRef(se,null)}),ee.clear()}}}function useMergedRef(...ie){return reactExports.useCallback(mergeRefs(...ie),ie)}function clampUseMovePosition(ie){return{x:clamp$3(ie.x,0,1),y:clamp$3(ie.y,0,1)}}function useMove(ie,ee,te="ltr"){const se=reactExports.useRef(null),ne=reactExports.useRef(!1),le=reactExports.useRef(!1),ue=reactExports.useRef(0),[ce,he]=reactExports.useState(!1);return reactExports.useEffect(()=>{ne.current=!0},[]),reactExports.useEffect(()=>{var $e,Ge;const de=({x:Be,y:ze})=>{cancelAnimationFrame(ue.current),ue.current=requestAnimationFrame(()=>{if(ne.current&&se.current){se.current.style.userSelect="none";const $t=se.current.getBoundingClientRect();if($t.width&&$t.height){const ut=clamp$3((Be-$t.left)/$t.width,0,1);ie({x:te==="ltr"?ut:1-ut,y:clamp$3((ze-$t.top)/$t.height,0,1)})}}})},_e=()=>{document.addEventListener("mousemove",Ne),document.addEventListener("mouseup",be),document.addEventListener("touchmove",De),document.addEventListener("touchend",be)},fe=()=>{document.removeEventListener("mousemove",Ne),document.removeEventListener("mouseup",be),document.removeEventListener("touchmove",De),document.removeEventListener("touchend",be)},ye=()=>{!le.current&&ne.current&&(le.current=!0,typeof(ee==null?void 0:ee.onScrubStart)=="function"&&ee.onScrubStart(),he(!0),_e())},be=()=>{le.current&&ne.current&&(le.current=!1,he(!1),fe(),setTimeout(()=>{typeof(ee==null?void 0:ee.onScrubEnd)=="function"&&ee.onScrubEnd()},0))},Pe=Be=>{ye(),Be.preventDefault(),Ne(Be)},Ne=Be=>de({x:Be.clientX,y:Be.clientY}),we=Be=>{Be.cancelable&&Be.preventDefault(),ye(),De(Be)},De=Be=>{Be.cancelable&&Be.preventDefault(),de({x:Be.changedTouches[0].clientX,y:Be.changedTouches[0].clientY})};return($e=se.current)==null||$e.addEventListener("mousedown",Pe),(Ge=se.current)==null||Ge.addEventListener("touchstart",we,{passive:!1}),()=>{se.current&&(se.current.removeEventListener("mousedown",Pe),se.current.removeEventListener("touchstart",we))}},[te,ie]),{ref:se,active:ce}}function useUncontrolled({value:ie,defaultValue:ee,finalValue:te,onChange:se=()=>{}}){const[ne,le]=reactExports.useState(ee!==void 0?ee:te),ue=(ce,...he)=>{le(ce),se==null||se(ce,...he)};return ie!==void 0?[ie,se,!0]:[ne,ue,!1]}function useReducedMotion(ie,ee){return useMediaQuery("(prefers-reduced-motion: reduce)",ie,ee)}function isOpera(){return navigator.userAgent.includes("OPR")}function useEyeDropper(){const[ie,ee]=reactExports.useState(!1);useIsomorphicEffect(()=>{ee(typeof window<"u"&&!isOpera()&&"EyeDropper"in window)},[]);const te=reactExports.useCallback((se={})=>ie?new window.EyeDropper().open(se):Promise.resolve(void 0),[ie]);return{supported:ie,open:te}}function getRefProp(ie){var te;const ee=React.version;return typeof React.version!="string"||ee.startsWith("18.")?ie==null?void 0:ie.ref:(te=ie==null?void 0:ie.props)==null?void 0:te.ref}function createVarsResolver(ie){return ie}const EMPTY_CLASS_NAMES={};function mergeClassNames(ie){const ee={};return ie.forEach(te=>{Object.entries(te).forEach(([se,ne])=>{ee[se]?ee[se]=clsx(ee[se],ne):ee[se]=ne})}),ee}function resolveClassNames({theme:ie,classNames:ee,props:te,stylesCtx:se}){const le=(Array.isArray(ee)?ee:[ee]).map(ue=>typeof ue=="function"?ue(ie,te,se):ue||EMPTY_CLASS_NAMES);return mergeClassNames(le)}function resolveStyles({theme:ie,styles:ee,props:te,stylesCtx:se}){return(Array.isArray(ee)?ee:[ee]).reduce((le,ue)=>typeof ue=="function"?{...le,...ue(ie,te,se)}:{...le,...ue},{})}const MantineContext=reactExports.createContext(null);function useMantineContext(){const ie=reactExports.useContext(MantineContext);if(!ie)throw new Error("[@mantine/core] MantineProvider was not found in tree");return ie}function useMantineCssVariablesResolver(){return useMantineContext().cssVariablesResolver}function useMantineClassNamesPrefix(){return useMantineContext().classNamesPrefix}function useMantineStyleNonce(){return useMantineContext().getStyleNonce}function useMantineWithStaticClasses(){return useMantineContext().withStaticClasses}function useMantineIsHeadless(){return useMantineContext().headless}function useMantineSxTransform(){var ie;return(ie=useMantineContext().stylesTransform)==null?void 0:ie.sx}function useMantineStylesTransform(){var ie;return(ie=useMantineContext().stylesTransform)==null?void 0:ie.styles}function isHexColor(ie){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(ie)}function hexToRgba(ie){let ee=ie.replace("#","");if(ee.length===3){const ue=ee.split("");ee=[ue[0],ue[0],ue[1],ue[1],ue[2],ue[2]].join("")}if(ee.length===8){const ue=parseInt(ee.slice(6,8),16)/255;return{r:parseInt(ee.slice(0,2),16),g:parseInt(ee.slice(2,4),16),b:parseInt(ee.slice(4,6),16),a:ue}}const te=parseInt(ee,16),se=te>>16&255,ne=te>>8&255,le=te&255;return{r:se,g:ne,b:le,a:1}}function rgbStringToRgba(ie){const[ee,te,se,ne]=ie.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:ee,g:te,b:se,a:ne||1}}function hslStringToRgba(ie){const ee=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,te=ie.match(ee);if(!te)return{r:0,g:0,b:0,a:1};const se=parseInt(te[1],10),ne=parseInt(te[2],10)/100,le=parseInt(te[3],10)/100,ue=te[5]?parseFloat(te[5]):void 0,ce=(1-Math.abs(2*le-1))*ne,he=se/60,de=ce*(1-Math.abs(he%2-1)),_e=le-ce/2;let fe,ye,be;return he>=0&&he<1?(fe=ce,ye=de,be=0):he>=1&&he<2?(fe=de,ye=ce,be=0):he>=2&&he<3?(fe=0,ye=ce,be=de):he>=3&&he<4?(fe=0,ye=de,be=ce):he>=4&&he<5?(fe=de,ye=0,be=ce):(fe=ce,ye=0,be=de),{r:Math.round((fe+_e)*255),g:Math.round((ye+_e)*255),b:Math.round((be+_e)*255),a:ue||1}}function toRgba(ie){return isHexColor(ie)?hexToRgba(ie):ie.startsWith("rgb")?rgbStringToRgba(ie):ie.startsWith("hsl")?hslStringToRgba(ie):{r:0,g:0,b:0,a:1}}function darken(ie,ee){if(ie.startsWith("var("))return`color-mix(in srgb, ${ie}, black ${ee*100}%)`;const{r:te,g:se,b:ne,a:le}=toRgba(ie),ue=1-ee,ce=he=>Math.round(he*ue);return`rgba(${ce(te)}, ${ce(se)}, ${ce(ne)}, ${le})`}function getPrimaryShade(ie,ee){return typeof ie.primaryShade=="number"?ie.primaryShade:ee==="dark"?ie.primaryShade.dark:ie.primaryShade.light}function gammaCorrect(ie){return ie<=.03928?ie/12.92:((ie+.055)/1.055)**2.4}function getLightnessFromOklch(ie){const ee=ie.match(/oklch\((.*?)%\s/);return ee?parseFloat(ee[1]):null}function luminance(ie){if(ie.startsWith("oklch("))return(getLightnessFromOklch(ie)||0)/100;const{r:ee,g:te,b:se}=toRgba(ie),ne=ee/255,le=te/255,ue=se/255,ce=gammaCorrect(ne),he=gammaCorrect(le),de=gammaCorrect(ue);return .2126*ce+.7152*he+.0722*de}function isLightColor(ie,ee=.179){return ie.startsWith("var(")?!1:luminance(ie)>ee}function parseThemeColor({color:ie,theme:ee,colorScheme:te}){if(typeof ie!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof ie}`);if(ie==="bright")return{color:ie,value:te==="dark"?ee.white:ee.black,shade:void 0,isThemeColor:!1,isLight:isLightColor(te==="dark"?ee.white:ee.black,ee.luminanceThreshold),variable:"--mantine-color-bright"};if(ie==="dimmed")return{color:ie,value:te==="dark"?ee.colors.dark[2]:ee.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:isLightColor(te==="dark"?ee.colors.dark[2]:ee.colors.gray[6],ee.luminanceThreshold),variable:"--mantine-color-dimmed"};if(ie==="white"||ie==="black")return{color:ie,value:ie==="white"?ee.white:ee.black,shade:void 0,isThemeColor:!1,isLight:isLightColor(ie==="white"?ee.white:ee.black,ee.luminanceThreshold),variable:`--mantine-color-${ie}`};const[se,ne]=ie.split("."),le=ne?Number(ne):void 0,ue=se in ee.colors;if(ue){const ce=le!==void 0?ee.colors[se][le]:ee.colors[se][getPrimaryShade(ee,te||"light")];return{color:se,value:ce,shade:le,isThemeColor:ue,isLight:isLightColor(ce,ee.luminanceThreshold),variable:ne?`--mantine-color-${se}-${le}`:`--mantine-color-${se}-filled`}}return{color:ie,value:ie,isThemeColor:ue,isLight:isLightColor(ie,ee.luminanceThreshold),shade:le,variable:void 0}}function getThemeColor(ie,ee){const te=parseThemeColor({color:ie||ee.primaryColor,theme:ee});return te.variable?`var(${te.variable})`:ie}function getGradient(ie,ee){const te={from:(ie==null?void 0:ie.from)||ee.defaultGradient.from,to:(ie==null?void 0:ie.to)||ee.defaultGradient.to,deg:(ie==null?void 0:ie.deg)||ee.defaultGradient.deg||0},se=getThemeColor(te.from,ee),ne=getThemeColor(te.to,ee);return`linear-gradient(${te.deg}deg, ${se} 0%, ${ne} 100%)`}function rgba(ie,ee){if(typeof ie!="string"||ee>1||ee<0)return"rgba(0, 0, 0, 1)";if(ie.startsWith("var(")){const le=(1-ee)*100;return`color-mix(in srgb, ${ie}, transparent ${le}%)`}if(ie.startsWith("oklch"))return ie.includes("/")?ie.replace(/\/\s*[\d.]+\s*\)/,`/ ${ee})`):ie.replace(")",` / ${ee})`);const{r:te,g:se,b:ne}=toRgba(ie);return`rgba(${te}, ${se}, ${ne}, ${ee})`}const alpha=rgba,defaultVariantColorsResolver=({color:ie,theme:ee,variant:te,gradient:se,autoContrast:ne})=>{const le=parseThemeColor({color:ie,theme:ee}),ue=typeof ne=="boolean"?ne:ee.autoContrast;if(te==="filled"){const ce=ue&&le.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return le.isThemeColor?le.shade===void 0?{background:`var(--mantine-color-${ie}-filled)`,hover:`var(--mantine-color-${ie}-filled-hover)`,color:ce,border:`${rem(1)} solid transparent`}:{background:`var(--mantine-color-${le.color}-${le.shade})`,hover:`var(--mantine-color-${le.color}-${le.shade===9?8:le.shade+1})`,color:ce,border:`${rem(1)} solid transparent`}:{background:ie,hover:darken(ie,.1),color:ce,border:`${rem(1)} solid transparent`}}if(te==="light"){if(le.isThemeColor){if(le.shade===void 0)return{background:`var(--mantine-color-${ie}-light)`,hover:`var(--mantine-color-${ie}-light-hover)`,color:`var(--mantine-color-${ie}-light-color)`,border:`${rem(1)} solid transparent`};const ce=ee.colors[le.color][le.shade];return{background:rgba(ce,.1),hover:rgba(ce,.12),color:`var(--mantine-color-${le.color}-${Math.min(le.shade,6)})`,border:`${rem(1)} solid transparent`}}return{background:rgba(ie,.1),hover:rgba(ie,.12),color:ie,border:`${rem(1)} solid transparent`}}if(te==="outline")return le.isThemeColor?le.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${ie}-outline-hover)`,color:`var(--mantine-color-${ie}-outline)`,border:`${rem(1)} solid var(--mantine-color-${ie}-outline)`}:{background:"transparent",hover:rgba(ee.colors[le.color][le.shade],.05),color:`var(--mantine-color-${le.color}-${le.shade})`,border:`${rem(1)} solid var(--mantine-color-${le.color}-${le.shade})`}:{background:"transparent",hover:rgba(ie,.05),color:ie,border:`${rem(1)} solid ${ie}`};if(te==="subtle"){if(le.isThemeColor){if(le.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${ie}-light-hover)`,color:`var(--mantine-color-${ie}-light-color)`,border:`${rem(1)} solid transparent`};const ce=ee.colors[le.color][le.shade];return{background:"transparent",hover:rgba(ce,.12),color:`var(--mantine-color-${le.color}-${Math.min(le.shade,6)})`,border:`${rem(1)} solid transparent`}}return{background:"transparent",hover:rgba(ie,.12),color:ie,border:`${rem(1)} solid transparent`}}return te==="transparent"?le.isThemeColor?le.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${ie}-light-color)`,border:`${rem(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${le.color}-${Math.min(le.shade,6)})`,border:`${rem(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:ie,border:`${rem(1)} solid transparent`}:te==="white"?le.isThemeColor?le.shade===void 0?{background:"var(--mantine-color-white)",hover:darken(ee.white,.01),color:`var(--mantine-color-${ie}-filled)`,border:`${rem(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:darken(ee.white,.01),color:`var(--mantine-color-${le.color}-${le.shade})`,border:`${rem(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:darken(ee.white,.01),color:ie,border:`${rem(1)} solid transparent`}:te==="gradient"?{background:getGradient(se,ee),hover:getGradient(se,ee),color:"var(--mantine-color-white)",border:"none"}:te==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${rem(1)} solid var(--mantine-color-default-border)`}:{}},DEFAULT_COLORS={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},DEFAULT_FONT_FAMILY="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",DEFAULT_THEME={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:DEFAULT_COLORS,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:defaultVariantColorsResolver,autoContrast:!1,luminanceThreshold:.3,fontFamily:DEFAULT_FONT_FAMILY,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:DEFAULT_FONT_FAMILY,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:rem(34),lineHeight:"1.3"},h2:{fontSize:rem(26),lineHeight:"1.35"},h3:{fontSize:rem(22),lineHeight:"1.4"},h4:{fontSize:rem(18),lineHeight:"1.45"},h5:{fontSize:rem(16),lineHeight:"1.5"},h6:{fontSize:rem(14),lineHeight:"1.5"}}},fontSizes:{xs:rem(12),sm:rem(14),md:rem(16),lg:rem(18),xl:rem(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:rem(2),sm:rem(4),md:rem(8),lg:rem(16),xl:rem(32)},spacing:{xs:rem(10),sm:rem(12),md:rem(16),lg:rem(20),xl:rem(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), 0 ${rem(1)} ${rem(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${rem(10)} ${rem(15)} ${rem(-5)}, rgba(0, 0, 0, 0.04) 0 ${rem(7)} ${rem(7)} ${rem(-5)}`,md:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${rem(20)} ${rem(25)} ${rem(-5)}, rgba(0, 0, 0, 0.04) 0 ${rem(10)} ${rem(10)} ${rem(-5)}`,lg:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${rem(28)} ${rem(23)} ${rem(-7)}, rgba(0, 0, 0, 0.04) 0 ${rem(12)} ${rem(12)} ${rem(-7)}`,xl:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${rem(36)} ${rem(28)} ${rem(-7)}, rgba(0, 0, 0, 0.04) 0 ${rem(17)} ${rem(17)} ${rem(-7)}`},other:{},components:{}};function isMantineColorScheme(ie){return ie==="auto"||ie==="dark"||ie==="light"}function localStorageColorSchemeManager({key:ie="mantine-color-scheme-value"}={}){let ee;return{get:te=>{if(typeof window>"u")return te;try{const se=window.localStorage.getItem(ie);return isMantineColorScheme(se)?se:te}catch{return te}},set:te=>{try{window.localStorage.setItem(ie,te)}catch(se){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",se)}},subscribe:te=>{ee=se=>{se.storageArea===window.localStorage&&se.key===ie&&isMantineColorScheme(se.newValue)&&te(se.newValue)},window.addEventListener("storage",ee)},unsubscribe:()=>{window.removeEventListener("storage",ee)},clear:()=>{window.localStorage.removeItem(ie)}}}const INVALID_PRIMARY_COLOR_ERROR="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",INVALID_PRIMARY_SHADE_ERROR="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function isValidPrimaryShade(ie){return ie<0||ie>9?!1:parseInt(ie.toString(),10)===ie}function validateMantineTheme(ie){if(!(ie.primaryColor in ie.colors))throw new Error(INVALID_PRIMARY_COLOR_ERROR);if(typeof ie.primaryShade=="object"&&(!isValidPrimaryShade(ie.primaryShade.dark)||!isValidPrimaryShade(ie.primaryShade.light)))throw new Error(INVALID_PRIMARY_SHADE_ERROR);if(typeof ie.primaryShade=="number"&&!isValidPrimaryShade(ie.primaryShade))throw new Error(INVALID_PRIMARY_SHADE_ERROR)}function mergeMantineTheme(ie,ee){var se;if(!ee)return validateMantineTheme(ie),ie;const te=deepMerge(ie,ee);return ee.fontFamily&&!((se=ee.headings)!=null&&se.fontFamily)&&(te.headings.fontFamily=ee.fontFamily),validateMantineTheme(te),te}const MantineThemeContext=reactExports.createContext(null),useSafeMantineTheme=()=>reactExports.useContext(MantineThemeContext)||DEFAULT_THEME;function useMantineTheme(){const ie=reactExports.useContext(MantineThemeContext);if(!ie)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return ie}function MantineThemeProvider({theme:ie,children:ee,inherit:te=!0}){const se=useSafeMantineTheme(),ne=reactExports.useMemo(()=>mergeMantineTheme(te?se:DEFAULT_THEME,ie),[ie,se,te]);return jsxRuntimeExports.jsx(MantineThemeContext.Provider,{value:ne,children:ee})}MantineThemeProvider.displayName="@mantine/core/MantineThemeProvider";function MantineClasses(){const ie=useMantineTheme(),ee=useMantineStyleNonce(),te=keys(ie.breakpoints).reduce((se,ne)=>{const le=ie.breakpoints[ne].includes("px"),ue=px(ie.breakpoints[ne]),ce=le?`${ue-.1}px`:em(ue-.1),he=le?`${ue}px`:em(ue);return`${se}@media (max-width: ${ce}) {.mantine-visible-from-${ne} {display: none !important;}}@media (min-width: ${he}) {.mantine-hidden-from-${ne} {display: none !important;}}`},"");return jsxRuntimeExports.jsx("style",{"data-mantine-styles":"classes",nonce:ee==null?void 0:ee(),dangerouslySetInnerHTML:{__html:te}})}function cssVariablesObjectToString(ie){return Object.entries(ie).map(([ee,te])=>`${ee}: ${te};`).join("")}function wrapWithSelector(ie,ee){return(Array.isArray(ie)?ie:[ie]).reduce((se,ne)=>`${ne}{${se}}`,ee)}function convertCssVariables(ie,ee){const te=cssVariablesObjectToString(ie.variables),se=te?wrapWithSelector(ee,te):"",ne=cssVariablesObjectToString(ie.dark),le=cssVariablesObjectToString(ie.light),ue=ne?wrapWithSelector(ee===":host"?`${ee}([data-mantine-color-scheme="dark"])`:`${ee}[data-mantine-color-scheme="dark"]`,ne):"",ce=le?wrapWithSelector(ee===":host"?`${ee}([data-mantine-color-scheme="light"])`:`${ee}[data-mantine-color-scheme="light"]`,le):"";return`${se}${ue}${ce}`}function getContrastColor({color:ie,theme:ee,autoContrast:te}){return(typeof te=="boolean"?te:ee.autoContrast)&&parseThemeColor({color:ie||ee.primaryColor,theme:ee}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function getPrimaryContrastColor(ie,ee){return getContrastColor({color:ie.colors[ie.primaryColor][getPrimaryShade(ie,ee)],theme:ie,autoContrast:null})}function getCSSColorVariables({theme:ie,color:ee,colorScheme:te,name:se=ee,withColorValues:ne=!0}){if(!ie.colors[ee])return{};if(te==="light"){const ce=getPrimaryShade(ie,"light"),he={[`--mantine-color-${se}-text`]:`var(--mantine-color-${se}-filled)`,[`--mantine-color-${se}-filled`]:`var(--mantine-color-${se}-${ce})`,[`--mantine-color-${se}-filled-hover`]:`var(--mantine-color-${se}-${ce===9?8:ce+1})`,[`--mantine-color-${se}-light`]:alpha(ie.colors[ee][ce],.1),[`--mantine-color-${se}-light-hover`]:alpha(ie.colors[ee][ce],.12),[`--mantine-color-${se}-light-color`]:`var(--mantine-color-${se}-${ce})`,[`--mantine-color-${se}-outline`]:`var(--mantine-color-${se}-${ce})`,[`--mantine-color-${se}-outline-hover`]:alpha(ie.colors[ee][ce],.05)};return ne?{[`--mantine-color-${se}-0`]:ie.colors[ee][0],[`--mantine-color-${se}-1`]:ie.colors[ee][1],[`--mantine-color-${se}-2`]:ie.colors[ee][2],[`--mantine-color-${se}-3`]:ie.colors[ee][3],[`--mantine-color-${se}-4`]:ie.colors[ee][4],[`--mantine-color-${se}-5`]:ie.colors[ee][5],[`--mantine-color-${se}-6`]:ie.colors[ee][6],[`--mantine-color-${se}-7`]:ie.colors[ee][7],[`--mantine-color-${se}-8`]:ie.colors[ee][8],[`--mantine-color-${se}-9`]:ie.colors[ee][9],...he}:he}const le=getPrimaryShade(ie,"dark"),ue={[`--mantine-color-${se}-text`]:`var(--mantine-color-${se}-4)`,[`--mantine-color-${se}-filled`]:`var(--mantine-color-${se}-${le})`,[`--mantine-color-${se}-filled-hover`]:`var(--mantine-color-${se}-${le===9?8:le+1})`,[`--mantine-color-${se}-light`]:alpha(ie.colors[ee][Math.max(0,le-2)],.15),[`--mantine-color-${se}-light-hover`]:alpha(ie.colors[ee][Math.max(0,le-2)],.2),[`--mantine-color-${se}-light-color`]:`var(--mantine-color-${se}-${Math.max(le-5,0)})`,[`--mantine-color-${se}-outline`]:`var(--mantine-color-${se}-${Math.max(le-4,0)})`,[`--mantine-color-${se}-outline-hover`]:alpha(ie.colors[ee][Math.max(le-4,0)],.05)};return ne?{[`--mantine-color-${se}-0`]:ie.colors[ee][0],[`--mantine-color-${se}-1`]:ie.colors[ee][1],[`--mantine-color-${se}-2`]:ie.colors[ee][2],[`--mantine-color-${se}-3`]:ie.colors[ee][3],[`--mantine-color-${se}-4`]:ie.colors[ee][4],[`--mantine-color-${se}-5`]:ie.colors[ee][5],[`--mantine-color-${se}-6`]:ie.colors[ee][6],[`--mantine-color-${se}-7`]:ie.colors[ee][7],[`--mantine-color-${se}-8`]:ie.colors[ee][8],[`--mantine-color-${se}-9`]:ie.colors[ee][9],...ue}:ue}function isVirtualColor(ie){return!!ie&&typeof ie=="object"&&"mantine-virtual-color"in ie}function assignSizeVariables(ie,ee,te){keys(ee).forEach(se=>Object.assign(ie,{[`--mantine-${te}-${se}`]:ee[se]}))}const defaultCssVariablesResolver=ie=>{const ee=getPrimaryShade(ie,"light"),te=ie.defaultRadius in ie.radius?ie.radius[ie.defaultRadius]:rem(ie.defaultRadius),se={variables:{"--mantine-scale":ie.scale.toString(),"--mantine-cursor-type":ie.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":ie.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":ie.fontSmoothing?"grayscale":"unset","--mantine-color-white":ie.white,"--mantine-color-black":ie.black,"--mantine-line-height":ie.lineHeights.md,"--mantine-font-family":ie.fontFamily,"--mantine-font-family-monospace":ie.fontFamilyMonospace,"--mantine-font-family-headings":ie.headings.fontFamily,"--mantine-heading-font-weight":ie.headings.fontWeight,"--mantine-heading-text-wrap":ie.headings.textWrap,"--mantine-radius-default":te,"--mantine-primary-color-filled":`var(--mantine-color-${ie.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${ie.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${ie.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${ie.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${ie.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":getPrimaryContrastColor(ie,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":ie.black,"--mantine-color-body":ie.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${ie.primaryColor}-${ee})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":getPrimaryContrastColor(ie,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${ie.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};assignSizeVariables(se.variables,ie.breakpoints,"breakpoint"),assignSizeVariables(se.variables,ie.spacing,"spacing"),assignSizeVariables(se.variables,ie.fontSizes,"font-size"),assignSizeVariables(se.variables,ie.lineHeights,"line-height"),assignSizeVariables(se.variables,ie.shadows,"shadow"),assignSizeVariables(se.variables,ie.radius,"radius"),ie.colors[ie.primaryColor].forEach((le,ue)=>{se.variables[`--mantine-primary-color-${ue}`]=`var(--mantine-color-${ie.primaryColor}-${ue})`}),keys(ie.colors).forEach(le=>{const ue=ie.colors[le];if(isVirtualColor(ue)){Object.assign(se.light,getCSSColorVariables({theme:ie,name:ue.name,color:ue.light,colorScheme:"light",withColorValues:!0})),Object.assign(se.dark,getCSSColorVariables({theme:ie,name:ue.name,color:ue.dark,colorScheme:"dark",withColorValues:!0}));return}ue.forEach((ce,he)=>{se.variables[`--mantine-color-${le}-${he}`]=ce}),Object.assign(se.light,getCSSColorVariables({theme:ie,color:le,colorScheme:"light",withColorValues:!1})),Object.assign(se.dark,getCSSColorVariables({theme:ie,color:le,colorScheme:"dark",withColorValues:!1}))});const ne=ie.headings.sizes;return keys(ne).forEach(le=>{se.variables[`--mantine-${le}-font-size`]=ne[le].fontSize,se.variables[`--mantine-${le}-line-height`]=ne[le].lineHeight,se.variables[`--mantine-${le}-font-weight`]=ne[le].fontWeight||ie.headings.fontWeight}),se};function getMergedVariables({theme:ie,generator:ee}){const te=defaultCssVariablesResolver(ie),se=ee==null?void 0:ee(ie);return se?deepMerge(te,se):te}const defaultCssVariables=defaultCssVariablesResolver(DEFAULT_THEME);function removeDefaultVariables(ie){const ee={variables:{},light:{},dark:{}};return keys(ie.variables).forEach(te=>{defaultCssVariables.variables[te]!==ie.variables[te]&&(ee.variables[te]=ie.variables[te])}),keys(ie.light).forEach(te=>{defaultCssVariables.light[te]!==ie.light[te]&&(ee.light[te]=ie.light[te])}),keys(ie.dark).forEach(te=>{defaultCssVariables.dark[te]!==ie.dark[te]&&(ee.dark[te]=ie.dark[te])}),ee}function getColorSchemeCssVariables(ie){return`
  ${ie}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${ie}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function MantineCssVariables({cssVariablesSelector:ie,deduplicateCssVariables:ee}){const te=useMantineTheme(),se=useMantineStyleNonce(),ne=useMantineCssVariablesResolver(),le=getMergedVariables({theme:te,generator:ne}),ue=ie===":root"&&ee,ce=ue?removeDefaultVariables(le):le,he=convertCssVariables(ce,ie);return he?jsxRuntimeExports.jsx("style",{"data-mantine-styles":!0,nonce:se==null?void 0:se(),dangerouslySetInnerHTML:{__html:`${he}${ue?"":getColorSchemeCssVariables(ie)}`}}):null}MantineCssVariables.displayName="@mantine/CssVariables";function suppressNextjsWarning(){const ie=console.error;console.error=(...ee)=>{ee.length>1&&typeof ee[0]=="string"&&ee[0].toLowerCase().includes("extra attributes from the server")&&typeof ee[1]=="string"&&ee[1].toLowerCase().includes("data-mantine-color-scheme")||ie(...ee)}}function setColorSchemeAttribute(ie,ee){var ne;const te=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)").matches,se=ie!=="auto"?ie:te?"dark":"light";(ne=ee())==null||ne.setAttribute("data-mantine-color-scheme",se)}function useProviderColorScheme({manager:ie,defaultColorScheme:ee,getRootElement:te,forceColorScheme:se}){const ne=reactExports.useRef(null),[le,ue]=reactExports.useState(()=>ie.get(ee)),ce=se||le,he=reactExports.useCallback(_e=>{se||(setColorSchemeAttribute(_e,te),ue(_e),ie.set(_e))},[ie.set,ce,se]),de=reactExports.useCallback(()=>{ue(ee),setColorSchemeAttribute(ee,te),ie.clear()},[ie.clear,ee]);return reactExports.useEffect(()=>(ie.subscribe(he),ie.unsubscribe),[ie.subscribe,ie.unsubscribe]),useIsomorphicEffect(()=>{setColorSchemeAttribute(ie.get(ee),te)},[]),reactExports.useEffect(()=>{var fe;if(se)return setColorSchemeAttribute(se,te),()=>{};se===void 0&&setColorSchemeAttribute(le,te),typeof window<"u"&&"matchMedia"in window&&(ne.current=window.matchMedia("(prefers-color-scheme: dark)"));const _e=ye=>{le==="auto"&&setColorSchemeAttribute(ye.matches?"dark":"light",te)};return(fe=ne.current)==null||fe.addEventListener("change",_e),()=>{var ye;return(ye=ne.current)==null?void 0:ye.removeEventListener("change",_e)}},[le,se]),{colorScheme:ce,setColorScheme:he,clearColorScheme:de}}function useRespectReduceMotion({respectReducedMotion:ie,getRootElement:ee}){useIsomorphicEffect(()=>{var te;ie&&((te=ee())==null||te.setAttribute("data-respect-reduced-motion","true"))},[ie])}suppressNextjsWarning();function MantineProvider({theme:ie,children:ee,getStyleNonce:te,withStaticClasses:se=!0,withGlobalClasses:ne=!0,deduplicateCssVariables:le=!0,withCssVariables:ue=!0,cssVariablesSelector:ce=":root",classNamesPrefix:he="mantine",colorSchemeManager:de=localStorageColorSchemeManager(),defaultColorScheme:_e="light",getRootElement:fe=()=>document.documentElement,cssVariablesResolver:ye,forceColorScheme:be,stylesTransform:Pe}){const{colorScheme:Ne,setColorScheme:we,clearColorScheme:De}=useProviderColorScheme({defaultColorScheme:_e,forceColorScheme:be,manager:de,getRootElement:fe});return useRespectReduceMotion({respectReducedMotion:(ie==null?void 0:ie.respectReducedMotion)||!1,getRootElement:fe}),jsxRuntimeExports.jsx(MantineContext.Provider,{value:{colorScheme:Ne,setColorScheme:we,clearColorScheme:De,getRootElement:fe,classNamesPrefix:he,getStyleNonce:te,cssVariablesResolver:ye,cssVariablesSelector:ce,withStaticClasses:se,stylesTransform:Pe},children:jsxRuntimeExports.jsxs(MantineThemeProvider,{theme:ie,children:[ue&&jsxRuntimeExports.jsx(MantineCssVariables,{cssVariablesSelector:ce,deduplicateCssVariables:le}),ne&&jsxRuntimeExports.jsx(MantineClasses,{}),ee]})})}MantineProvider.displayName="@mantine/core/MantineProvider";function useResolvedStylesApi({classNames:ie,styles:ee,props:te,stylesCtx:se}){const ne=useMantineTheme();return{resolvedClassNames:resolveClassNames({theme:ne,classNames:ie,props:te,stylesCtx:se||void 0}),resolvedStyles:resolveStyles({theme:ne,styles:ee,props:te,stylesCtx:se||void 0})}}const FOCUS_CLASS_NAMES={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function getGlobalClassNames({theme:ie,options:ee,unstyled:te}){return clsx((ee==null?void 0:ee.focusable)&&!te&&(ie.focusClassName||FOCUS_CLASS_NAMES[ie.focusRing]),(ee==null?void 0:ee.active)&&!te&&ie.activeClassName)}function getOptionsClassNames({selector:ie,stylesCtx:ee,options:te,props:se,theme:ne}){return resolveClassNames({theme:ne,classNames:te==null?void 0:te.classNames,props:(te==null?void 0:te.props)||se,stylesCtx:ee})[ie]}function getResolvedClassNames({selector:ie,stylesCtx:ee,theme:te,classNames:se,props:ne}){return resolveClassNames({theme:te,classNames:se,props:ne,stylesCtx:ee})[ie]}function getRootClassName({rootSelector:ie,selector:ee,className:te}){return ie===ee?te:void 0}function getSelectorClassName({selector:ie,classes:ee,unstyled:te}){return te?void 0:ee[ie]}function getStaticClassNames({themeName:ie,classNamesPrefix:ee,selector:te,withStaticClass:se}){return se===!1?[]:ie.map(ne=>`${ee}-${ne}-${te}`)}function getThemeClassNames({themeName:ie,theme:ee,selector:te,props:se,stylesCtx:ne}){return ie.map(le=>{var ue,ce;return(ce=resolveClassNames({theme:ee,classNames:(ue=ee.components[le])==null?void 0:ue.classNames,props:se,stylesCtx:ne}))==null?void 0:ce[te]})}function getVariantClassName({options:ie,classes:ee,selector:te,unstyled:se}){return ie!=null&&ie.variant&&!se?ee[`${te}--${ie.variant}`]:void 0}function getClassName({theme:ie,options:ee,themeName:te,selector:se,classNamesPrefix:ne,classNames:le,classes:ue,unstyled:ce,className:he,rootSelector:de,props:_e,stylesCtx:fe,withStaticClasses:ye,headless:be,transformedStyles:Pe}){return clsx(getGlobalClassNames({theme:ie,options:ee,unstyled:ce||be}),getThemeClassNames({theme:ie,themeName:te,selector:se,props:_e,stylesCtx:fe}),getVariantClassName({options:ee,classes:ue,selector:se,unstyled:ce}),getResolvedClassNames({selector:se,stylesCtx:fe,theme:ie,classNames:le,props:_e}),getResolvedClassNames({selector:se,stylesCtx:fe,theme:ie,classNames:Pe,props:_e}),getOptionsClassNames({selector:se,stylesCtx:fe,options:ee,props:_e,theme:ie}),getRootClassName({rootSelector:de,selector:se,className:he}),getSelectorClassName({selector:se,classes:ue,unstyled:ce||be}),ye&&!be&&getStaticClassNames({themeName:te,classNamesPrefix:ne,selector:se,withStaticClass:ee==null?void 0:ee.withStaticClass}),ee==null?void 0:ee.className)}function getThemeStyles({theme:ie,themeName:ee,props:te,stylesCtx:se,selector:ne}){return ee.map(le=>{var ue;return resolveStyles({theme:ie,styles:(ue=ie.components[le])==null?void 0:ue.styles,props:te,stylesCtx:se})[ne]}).reduce((le,ue)=>({...le,...ue}),{})}function resolveStyle({style:ie,theme:ee}){return Array.isArray(ie)?[...ie].reduce((te,se)=>({...te,...resolveStyle({style:se,theme:ee})}),{}):typeof ie=="function"?ie(ee):ie??{}}function mergeVars(ie){return ie.reduce((ee,te)=>(te&&Object.keys(te).forEach(se=>{ee[se]={...ee[se],...filterProps(te[se])}}),ee),{})}function resolveVars({vars:ie,varsResolver:ee,theme:te,props:se,stylesCtx:ne,selector:le,themeName:ue,headless:ce}){var he;return(he=mergeVars([ce?{}:ee==null?void 0:ee(te,se,ne),...ue.map(de=>{var _e,fe,ye;return(ye=(fe=(_e=te.components)==null?void 0:_e[de])==null?void 0:fe.vars)==null?void 0:ye.call(fe,te,se,ne)}),ie==null?void 0:ie(te,se,ne)]))==null?void 0:he[le]}function getStyle({theme:ie,themeName:ee,selector:te,options:se,props:ne,stylesCtx:le,rootSelector:ue,styles:ce,style:he,vars:de,varsResolver:_e,headless:fe,withStylesTransform:ye}){return{...!ye&&getThemeStyles({theme:ie,themeName:ee,props:ne,stylesCtx:le,selector:te}),...!ye&&resolveStyles({theme:ie,styles:ce,props:ne,stylesCtx:le})[te],...!ye&&resolveStyles({theme:ie,styles:se==null?void 0:se.styles,props:(se==null?void 0:se.props)||ne,stylesCtx:le})[te],...resolveVars({theme:ie,props:ne,stylesCtx:le,vars:de,varsResolver:_e,selector:te,themeName:ee,headless:fe}),...ue===te?resolveStyle({style:he,theme:ie}):null,...resolveStyle({style:se==null?void 0:se.style,theme:ie})}}function useStylesTransform({props:ie,stylesCtx:ee,themeName:te}){var ue;const se=useMantineTheme(),ne=(ue=useMantineStylesTransform())==null?void 0:ue();return{getTransformedStyles:ce=>ne?[...ce.map(de=>ne(de,{props:ie,theme:se,ctx:ee})),...te.map(de=>{var _e;return ne((_e=se.components[de])==null?void 0:_e.styles,{props:ie,theme:se,ctx:ee})})].filter(Boolean):[],withStylesTransform:!!ne}}function useStyles({name:ie,classes:ee,props:te,stylesCtx:se,className:ne,style:le,rootSelector:ue="root",unstyled:ce,classNames:he,styles:de,vars:_e,varsResolver:fe}){const ye=useMantineTheme(),be=useMantineClassNamesPrefix(),Pe=useMantineWithStaticClasses(),Ne=useMantineIsHeadless(),we=(Array.isArray(ie)?ie:[ie]).filter(Ge=>Ge),{withStylesTransform:De,getTransformedStyles:$e}=useStylesTransform({props:te,stylesCtx:se,themeName:we});return(Ge,Be)=>({className:getClassName({theme:ye,options:Be,themeName:we,selector:Ge,classNamesPrefix:be,classNames:he,classes:ee,unstyled:ce,className:ne,rootSelector:ue,props:te,stylesCtx:se,withStaticClasses:Pe,headless:Ne,transformedStyles:$e([Be==null?void 0:Be.styles,de])}),style:getStyle({theme:ye,themeName:we,selector:Ge,options:Be,props:te,stylesCtx:se,rootSelector:ue,styles:de,style:le,vars:_e,varsResolver:fe,headless:Ne,withStylesTransform:De})})}function getAutoContrastValue(ie,ee){return typeof ie=="boolean"?ie:ee.autoContrast}function useProps(ie,ee,te){var ue;const se=useMantineTheme(),ne=(ue=se.components[ie])==null?void 0:ue.defaultProps,le=typeof ne=="function"?ne(se):ne;return{...ee,...le,...filterProps(te)}}function createTheme(ie){return ie}function cssObjectToString(ie){return keys(ie).reduce((ee,te)=>ie[te]!==void 0?`${ee}${camelToKebabCase(te)}:${ie[te]};`:ee,"").trim()}function stylesToString({selector:ie,styles:ee,media:te,container:se}){const ne=ee?cssObjectToString(ee):"",le=Array.isArray(te)?te.map(ce=>`@media${ce.query}{${ie}{${cssObjectToString(ce.styles)}}}`):[],ue=Array.isArray(se)?se.map(ce=>`@container ${ce.query}{${ie}{${cssObjectToString(ce.styles)}}}`):[];return`${ne?`${ie}{${ne}}`:""}${le.join("")}${ue.join("")}`.trim()}function InlineStyles(ie){const ee=useMantineStyleNonce();return jsxRuntimeExports.jsx("style",{"data-mantine-styles":"inline",nonce:ee==null?void 0:ee(),dangerouslySetInnerHTML:{__html:stylesToString(ie)}})}function extractStyleProps(ie){const{m:ee,mx:te,my:se,mt:ne,mb:le,ml:ue,mr:ce,me:he,ms:de,p:_e,px:fe,py:ye,pt:be,pb:Pe,pl:Ne,pr:we,pe:De,ps:$e,bd:Ge,bg:Be,c:ze,opacity:$t,ff:ut,fz:Ti,fw:Hi,lts:bn,ta:gd,lh:Pm,fs:oE,tt:aE,td:nE,w:On,miw:nh,maw:Hn,h:Xp,mih:Jp,mah:md,bgsz:eE,bgp:hE,bgr:mE,bga:fE,pos:yE,top:AE,left:bE,bottom:ME,right:SE,inset:jE,display:$E,flex:zE,hiddenFrom:YE,visibleFrom:HE,lightHidden:VE,darkHidden:TE,sx:xE,...BE}=ie;return{styleProps:filterProps({m:ee,mx:te,my:se,mt:ne,mb:le,ml:ue,mr:ce,me:he,ms:de,p:_e,px:fe,py:ye,pt:be,pb:Pe,pl:Ne,pr:we,pe:De,ps:$e,bd:Ge,bg:Be,c:ze,opacity:$t,ff:ut,fz:Ti,fw:Hi,lts:bn,ta:gd,lh:Pm,fs:oE,tt:aE,td:nE,w:On,miw:nh,maw:Hn,h:Xp,mih:Jp,mah:md,bgsz:eE,bgp:hE,bgr:mE,bga:fE,pos:yE,top:AE,left:bE,bottom:ME,right:SE,inset:jE,display:$E,flex:zE,hiddenFrom:YE,visibleFrom:HE,lightHidden:VE,darkHidden:TE,sx:xE}),rest:BE}}const STYlE_PROPS_DATA={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function colorResolver(ie,ee){const te=parseThemeColor({color:ie,theme:ee});return te.color==="dimmed"?"var(--mantine-color-dimmed)":te.color==="bright"?"var(--mantine-color-bright)":te.variable?`var(${te.variable})`:te.color}function textColorResolver(ie,ee){const te=parseThemeColor({color:ie,theme:ee});return te.isThemeColor&&te.shade===void 0?`var(--mantine-color-${te.color}-text)`:colorResolver(ie,ee)}function borderResolver(ie,ee){if(typeof ie=="number")return rem(ie);if(typeof ie=="string"){const[te,se,...ne]=ie.split(" ").filter(ue=>ue.trim()!=="");let le=`${rem(te)}`;return se&&(le+=` ${se}`),ne.length>0&&(le+=` ${colorResolver(ne.join(" "),ee)}`),le.trim()}return ie}const values={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function fontFamilyResolver(ie){return typeof ie=="string"&&ie in values?values[ie]:ie}const headings$1=["h1","h2","h3","h4","h5","h6"];function fontSizeResolver(ie,ee){return typeof ie=="string"&&ie in ee.fontSizes?`var(--mantine-font-size-${ie})`:typeof ie=="string"&&headings$1.includes(ie)?`var(--mantine-${ie}-font-size)`:typeof ie=="number"||typeof ie=="string"?rem(ie):ie}function identityResolver(ie){return ie}const headings=["h1","h2","h3","h4","h5","h6"];function lineHeightResolver(ie,ee){return typeof ie=="string"&&ie in ee.lineHeights?`var(--mantine-line-height-${ie})`:typeof ie=="string"&&headings.includes(ie)?`var(--mantine-${ie}-line-height)`:ie}function sizeResolver(ie){return typeof ie=="number"?rem(ie):ie}function spacingResolver(ie,ee){if(typeof ie=="number")return rem(ie);if(typeof ie=="string"){const te=ie.replace("-","");if(!(te in ee.spacing))return rem(ie);const se=`--mantine-spacing-${te}`;return ie.startsWith("-")?`calc(var(${se}) * -1)`:`var(${se})`}return ie}const resolvers={color:colorResolver,textColor:textColorResolver,fontSize:fontSizeResolver,spacing:spacingResolver,identity:identityResolver,size:sizeResolver,lineHeight:lineHeightResolver,fontFamily:fontFamilyResolver,border:borderResolver};function replaceMediaQuery(ie){return ie.replace("(min-width: ","").replace("em)","")}function sortMediaQueries({media:ie,...ee}){const se=Object.keys(ie).sort((ne,le)=>Number(replaceMediaQuery(ne))-Number(replaceMediaQuery(le))).map(ne=>({query:ne,styles:ie[ne]}));return{...ee,media:se}}function hasResponsiveStyles(ie){if(typeof ie!="object"||ie===null)return!1;const ee=Object.keys(ie);return!(ee.length===1&&ee[0]==="base")}function getBaseValue(ie){return typeof ie=="object"&&ie!==null?"base"in ie?ie.base:void 0:ie}function getBreakpointKeys(ie){return typeof ie=="object"&&ie!==null?keys(ie).filter(ee=>ee!=="base"):[]}function getBreakpointValue(ie,ee){return typeof ie=="object"&&ie!==null&&ee in ie?ie[ee]:ie}function parseStyleProps({styleProps:ie,data:ee,theme:te}){return sortMediaQueries(keys(ie).reduce((se,ne)=>{if(ne==="hiddenFrom"||ne==="visibleFrom"||ne==="sx")return se;const le=ee[ne],ue=Array.isArray(le.property)?le.property:[le.property],ce=getBaseValue(ie[ne]);if(!hasResponsiveStyles(ie[ne]))return ue.forEach(de=>{se.inlineStyles[de]=resolvers[le.type](ce,te)}),se;se.hasResponsiveStyles=!0;const he=getBreakpointKeys(ie[ne]);return ue.forEach(de=>{ce&&(se.styles[de]=resolvers[le.type](ce,te)),he.forEach(_e=>{const fe=`(min-width: ${te.breakpoints[_e]})`;se.media[fe]={...se.media[fe],[de]:resolvers[le.type](getBreakpointValue(ie[ne],_e),te)}})}),se},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function useRandomClassName(){return`__m__-${reactExports.useId().replace(/:/g,"")}`}function createPolymorphicComponent(ie){return ie}function transformModKey(ie){return ie.startsWith("data-")?ie:`data-${ie}`}function getMod(ie){return Object.keys(ie).reduce((ee,te)=>{const se=ie[te];return se===void 0||se===""||se===!1||se===null||(ee[transformModKey(te)]=ie[te]),ee},{})}function getBoxMod(ie){return ie?typeof ie=="string"?{[transformModKey(ie)]:!0}:Array.isArray(ie)?[...ie].reduce((ee,te)=>({...ee,...getBoxMod(te)}),{}):getMod(ie):null}function mergeStyles(ie,ee){return Array.isArray(ie)?[...ie].reduce((te,se)=>({...te,...mergeStyles(se,ee)}),{}):typeof ie=="function"?ie(ee):ie??{}}function getBoxStyle({theme:ie,style:ee,vars:te,styleProps:se}){const ne=mergeStyles(ee,ie),le=mergeStyles(te,ie);return{...ne,...le,...se}}const _Box=reactExports.forwardRef(({component:ie,style:ee,__vars:te,className:se,variant:ne,mod:le,size:ue,hiddenFrom:ce,visibleFrom:he,lightHidden:de,darkHidden:_e,renderRoot:fe,__size:ye,...be},Pe)=>{var Ti;const Ne=useMantineTheme(),we=ie||"div",{styleProps:De,rest:$e}=extractStyleProps(be),Ge=useMantineSxTransform(),Be=(Ti=Ge==null?void 0:Ge())==null?void 0:Ti(De.sx),ze=useRandomClassName(),$t=parseStyleProps({styleProps:De,theme:Ne,data:STYlE_PROPS_DATA}),ut={ref:Pe,style:getBoxStyle({theme:Ne,style:ee,vars:te,styleProps:$t.inlineStyles}),className:clsx(se,Be,{[ze]:$t.hasResponsiveStyles,"mantine-light-hidden":de,"mantine-dark-hidden":_e,[`mantine-hidden-from-${ce}`]:ce,[`mantine-visible-from-${he}`]:he}),"data-variant":ne,"data-size":isNumberLike(ue)?void 0:ue||void 0,size:ye,...getBoxMod(le),...$e};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$t.hasResponsiveStyles&&jsxRuntimeExports.jsx(InlineStyles,{selector:`.${ze}`,styles:$t.styles,media:$t.media}),typeof fe=="function"?fe(ut):jsxRuntimeExports.jsx(we,{...ut})]})});_Box.displayName="@mantine/core/Box";const Box=_Box;function identity(ie){return ie}function factory(ie){const ee=reactExports.forwardRef(ie);return ee.extend=identity,ee.withProps=te=>{const se=reactExports.forwardRef((ne,le)=>jsxRuntimeExports.jsx(ee,{...te,...ne,ref:le}));return se.extend=ee.extend,se.displayName=`WithProps(${ee.displayName})`,se},ee}function polymorphicFactory(ie){const ee=reactExports.forwardRef(ie);return ee.withProps=te=>{const se=reactExports.forwardRef((ne,le)=>jsxRuntimeExports.jsx(ee,{...te,...ne,ref:le}));return se.extend=ee.extend,se.displayName=`WithProps(${ee.displayName})`,se},ee.extend=identity,ee}const DirectionContext=reactExports.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function useDirection(){return reactExports.useContext(DirectionContext)}const[ScrollAreaProvider,useScrollAreaContext]=createSafeContext("ScrollArea.Root component was not found in tree");function useResizeObserver(ie,ee){const te=useCallbackRef(ee);useIsomorphicEffect(()=>{let se=0;if(ie){const ne=new ResizeObserver(()=>{cancelAnimationFrame(se),se=window.requestAnimationFrame(te)});return ne.observe(ie),()=>{window.cancelAnimationFrame(se),ne.unobserve(ie)}}},[ie,te])}const Corner=reactExports.forwardRef((ie,ee)=>{const{style:te,...se}=ie,ne=useScrollAreaContext(),[le,ue]=reactExports.useState(0),[ce,he]=reactExports.useState(0),de=!!(le&&ce);return useResizeObserver(ne.scrollbarX,()=>{var fe;const _e=((fe=ne.scrollbarX)==null?void 0:fe.offsetHeight)||0;ne.onCornerHeightChange(_e),he(_e)}),useResizeObserver(ne.scrollbarY,()=>{var fe;const _e=((fe=ne.scrollbarY)==null?void 0:fe.offsetWidth)||0;ne.onCornerWidthChange(_e),ue(_e)}),de?jsxRuntimeExports.jsx("div",{...se,ref:ee,style:{...te,width:le,height:ce}}):null}),ScrollAreaCorner=reactExports.forwardRef((ie,ee)=>{const te=useScrollAreaContext(),se=!!(te.scrollbarX&&te.scrollbarY);return te.type!=="scroll"&&se?jsxRuntimeExports.jsx(Corner,{...ie,ref:ee}):null}),defaultProps$O={scrollHideDelay:1e3,type:"hover"},ScrollAreaRoot=reactExports.forwardRef((ie,ee)=>{const te=useProps("ScrollAreaRoot",defaultProps$O,ie),{type:se,scrollHideDelay:ne,scrollbars:le,...ue}=te,[ce,he]=reactExports.useState(null),[de,_e]=reactExports.useState(null),[fe,ye]=reactExports.useState(null),[be,Pe]=reactExports.useState(null),[Ne,we]=reactExports.useState(null),[De,$e]=reactExports.useState(0),[Ge,Be]=reactExports.useState(0),[ze,$t]=reactExports.useState(!1),[ut,Ti]=reactExports.useState(!1),Hi=useMergedRef(ee,bn=>he(bn));return jsxRuntimeExports.jsx(ScrollAreaProvider,{value:{type:se,scrollHideDelay:ne,scrollArea:ce,viewport:de,onViewportChange:_e,content:fe,onContentChange:ye,scrollbarX:be,onScrollbarXChange:Pe,scrollbarXEnabled:ze,onScrollbarXEnabledChange:$t,scrollbarY:Ne,onScrollbarYChange:we,scrollbarYEnabled:ut,onScrollbarYEnabledChange:Ti,onCornerWidthChange:$e,onCornerHeightChange:Be},children:jsxRuntimeExports.jsx(Box,{...ue,ref:Hi,__vars:{"--sa-corner-width":le!=="xy"?"0px":`${De}px`,"--sa-corner-height":le!=="xy"?"0px":`${Ge}px`}})})});ScrollAreaRoot.displayName="@mantine/core/ScrollAreaRoot";function getThumbRatio(ie,ee){const te=ie/ee;return Number.isNaN(te)?0:te}function getThumbSize(ie){const ee=getThumbRatio(ie.viewport,ie.content),te=ie.scrollbar.paddingStart+ie.scrollbar.paddingEnd,se=(ie.scrollbar.size-te)*ee;return Math.max(se,18)}function linearScale(ie,ee){return te=>{if(ie[0]===ie[1]||ee[0]===ee[1])return ee[0];const se=(ee[1]-ee[0])/(ie[1]-ie[0]);return ee[0]+se*(te-ie[0])}}function clamp$2(ie,[ee,te]){return Math.min(te,Math.max(ee,ie))}function getThumbOffsetFromScroll(ie,ee,te="ltr"){const se=getThumbSize(ee),ne=ee.scrollbar.paddingStart+ee.scrollbar.paddingEnd,le=ee.scrollbar.size-ne,ue=ee.content-ee.viewport,ce=le-se,he=te==="ltr"?[0,ue]:[ue*-1,0],de=clamp$2(ie,he);return linearScale([0,ue],[0,ce])(de)}function getScrollPositionFromPointer(ie,ee,te,se="ltr"){const ne=getThumbSize(te),le=ne/2,ue=ee||le,ce=ne-ue,he=te.scrollbar.paddingStart+ue,de=te.scrollbar.size-te.scrollbar.paddingEnd-ce,_e=te.content-te.viewport,fe=se==="ltr"?[0,_e]:[_e*-1,0];return linearScale([he,de],fe)(ie)}function isScrollingWithinScrollbarBounds(ie,ee){return ie>0&&ie<ee}function toInt(ie){return ie?parseInt(ie,10):0}function composeEventHandlers(ie,ee,{checkForDefaultPrevented:te=!0}={}){return se=>{ie==null||ie(se),(te===!1||!se.defaultPrevented)&&(ee==null||ee(se))}}const[ScrollbarProvider,useScrollbarContext]=createSafeContext("ScrollAreaScrollbar was not found in tree"),Scrollbar=reactExports.forwardRef((ie,ee)=>{const{sizes:te,hasThumb:se,onThumbChange:ne,onThumbPointerUp:le,onThumbPointerDown:ue,onThumbPositionChange:ce,onDragScroll:he,onWheelScroll:de,onResize:_e,...fe}=ie,ye=useScrollAreaContext(),[be,Pe]=reactExports.useState(null),Ne=useMergedRef(ee,Ti=>Pe(Ti)),we=reactExports.useRef(null),De=reactExports.useRef(""),{viewport:$e}=ye,Ge=te.content-te.viewport,Be=useCallbackRef(de),ze=useCallbackRef(ce),$t=useDebouncedCallback(_e,10),ut=Ti=>{if(we.current){const Hi=Ti.clientX-we.current.left,bn=Ti.clientY-we.current.top;he({x:Hi,y:bn})}};return reactExports.useEffect(()=>{const Ti=Hi=>{const bn=Hi.target;(be==null?void 0:be.contains(bn))&&Be(Hi,Ge)};return document.addEventListener("wheel",Ti,{passive:!1}),()=>document.removeEventListener("wheel",Ti,{passive:!1})},[$e,be,Ge,Be]),reactExports.useEffect(ze,[te,ze]),useResizeObserver(be,$t),useResizeObserver(ye.content,$t),jsxRuntimeExports.jsx(ScrollbarProvider,{value:{scrollbar:be,hasThumb:se,onThumbChange:useCallbackRef(ne),onThumbPointerUp:useCallbackRef(le),onThumbPositionChange:ze,onThumbPointerDown:useCallbackRef(ue)},children:jsxRuntimeExports.jsx("div",{...fe,ref:Ne,"data-mantine-scrollbar":!0,style:{position:"absolute",...fe.style},onPointerDown:composeEventHandlers(ie.onPointerDown,Ti=>{Ti.preventDefault(),Ti.button===0&&(Ti.target.setPointerCapture(Ti.pointerId),we.current=be.getBoundingClientRect(),De.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",ut(Ti))}),onPointerMove:composeEventHandlers(ie.onPointerMove,ut),onPointerUp:composeEventHandlers(ie.onPointerUp,Ti=>{Ti.preventDefault();const Hi=Ti.target;Hi.hasPointerCapture(Ti.pointerId)&&Hi.releasePointerCapture(Ti.pointerId),document.body.style.webkitUserSelect=De.current,we.current=null})})})}),ScrollAreaScrollbarX=reactExports.forwardRef((ie,ee)=>{const{sizes:te,onSizesChange:se,style:ne,...le}=ie,ue=useScrollAreaContext(),[ce,he]=reactExports.useState(),de=reactExports.useRef(null),_e=useMergedRef(ee,de,ue.onScrollbarXChange);return reactExports.useEffect(()=>{de.current&&he(getComputedStyle(de.current))},[de]),jsxRuntimeExports.jsx(Scrollbar,{"data-orientation":"horizontal",...le,ref:_e,sizes:te,style:{...ne,"--sa-thumb-width":`${getThumbSize(te)}px`},onThumbPointerDown:fe=>ie.onThumbPointerDown(fe.x),onDragScroll:fe=>ie.onDragScroll(fe.x),onWheelScroll:(fe,ye)=>{if(ue.viewport){const be=ue.viewport.scrollLeft+fe.deltaX;ie.onWheelScroll(be),isScrollingWithinScrollbarBounds(be,ye)&&fe.preventDefault()}},onResize:()=>{de.current&&ue.viewport&&ce&&se({content:ue.viewport.scrollWidth,viewport:ue.viewport.offsetWidth,scrollbar:{size:de.current.clientWidth,paddingStart:toInt(ce.paddingLeft),paddingEnd:toInt(ce.paddingRight)}})}})});ScrollAreaScrollbarX.displayName="@mantine/core/ScrollAreaScrollbarX";const ScrollAreaScrollbarY=reactExports.forwardRef((ie,ee)=>{const{sizes:te,onSizesChange:se,style:ne,...le}=ie,ue=useScrollAreaContext(),[ce,he]=reactExports.useState(),de=reactExports.useRef(null),_e=useMergedRef(ee,de,ue.onScrollbarYChange);return reactExports.useEffect(()=>{de.current&&he(window.getComputedStyle(de.current))},[]),jsxRuntimeExports.jsx(Scrollbar,{...le,"data-orientation":"vertical",ref:_e,sizes:te,style:{"--sa-thumb-height":`${getThumbSize(te)}px`,...ne},onThumbPointerDown:fe=>ie.onThumbPointerDown(fe.y),onDragScroll:fe=>ie.onDragScroll(fe.y),onWheelScroll:(fe,ye)=>{if(ue.viewport){const be=ue.viewport.scrollTop+fe.deltaY;ie.onWheelScroll(be),isScrollingWithinScrollbarBounds(be,ye)&&fe.preventDefault()}},onResize:()=>{de.current&&ue.viewport&&ce&&se({content:ue.viewport.scrollHeight,viewport:ue.viewport.offsetHeight,scrollbar:{size:de.current.clientHeight,paddingStart:toInt(ce.paddingTop),paddingEnd:toInt(ce.paddingBottom)}})}})});ScrollAreaScrollbarY.displayName="@mantine/core/ScrollAreaScrollbarY";const ScrollAreaScrollbarVisible=reactExports.forwardRef((ie,ee)=>{const{orientation:te="vertical",...se}=ie,{dir:ne}=useDirection(),le=useScrollAreaContext(),ue=reactExports.useRef(null),ce=reactExports.useRef(0),[he,de]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),_e=getThumbRatio(he.viewport,he.content),fe={...se,sizes:he,onSizesChange:de,hasThumb:_e>0&&_e<1,onThumbChange:be=>{ue.current=be},onThumbPointerUp:()=>{ce.current=0},onThumbPointerDown:be=>{ce.current=be}},ye=(be,Pe)=>getScrollPositionFromPointer(be,ce.current,he,Pe);return te==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...fe,ref:ee,onThumbPositionChange:()=>{if(le.viewport&&ue.current){const be=le.viewport.scrollLeft,Pe=getThumbOffsetFromScroll(be,he,ne);ue.current.style.transform=`translate3d(${Pe}px, 0, 0)`}},onWheelScroll:be=>{le.viewport&&(le.viewport.scrollLeft=be)},onDragScroll:be=>{le.viewport&&(le.viewport.scrollLeft=ye(be,ne))}}):te==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...fe,ref:ee,onThumbPositionChange:()=>{if(le.viewport&&ue.current){const be=le.viewport.scrollTop,Pe=getThumbOffsetFromScroll(be,he);he.scrollbar.size===0?ue.current.style.setProperty("--thumb-opacity","0"):ue.current.style.setProperty("--thumb-opacity","1"),ue.current.style.transform=`translate3d(0, ${Pe}px, 0)`}},onWheelScroll:be=>{le.viewport&&(le.viewport.scrollTop=be)},onDragScroll:be=>{le.viewport&&(le.viewport.scrollTop=ye(be))}}):null});ScrollAreaScrollbarVisible.displayName="@mantine/core/ScrollAreaScrollbarVisible";const ScrollAreaScrollbarAuto=reactExports.forwardRef((ie,ee)=>{const te=useScrollAreaContext(),{forceMount:se,...ne}=ie,[le,ue]=reactExports.useState(!1),ce=ie.orientation==="horizontal",he=useDebouncedCallback(()=>{if(te.viewport){const de=te.viewport.offsetWidth<te.viewport.scrollWidth,_e=te.viewport.offsetHeight<te.viewport.scrollHeight;ue(ce?de:_e)}},10);return useResizeObserver(te.viewport,he),useResizeObserver(te.content,he),se||le?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":le?"visible":"hidden",...ne,ref:ee}):null});ScrollAreaScrollbarAuto.displayName="@mantine/core/ScrollAreaScrollbarAuto";const ScrollAreaScrollbarHover=reactExports.forwardRef((ie,ee)=>{const{forceMount:te,...se}=ie,ne=useScrollAreaContext(),[le,ue]=reactExports.useState(!1);return reactExports.useEffect(()=>{const{scrollArea:ce}=ne;let he=0;if(ce){const de=()=>{window.clearTimeout(he),ue(!0)},_e=()=>{he=window.setTimeout(()=>ue(!1),ne.scrollHideDelay)};return ce.addEventListener("pointerenter",de),ce.addEventListener("pointerleave",_e),()=>{window.clearTimeout(he),ce.removeEventListener("pointerenter",de),ce.removeEventListener("pointerleave",_e)}}},[ne.scrollArea,ne.scrollHideDelay]),te||le?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":le?"visible":"hidden",...se,ref:ee}):null});ScrollAreaScrollbarHover.displayName="@mantine/core/ScrollAreaScrollbarHover";const ScrollAreaScrollbarScroll=reactExports.forwardRef((ie,ee)=>{const{forceMount:te,...se}=ie,ne=useScrollAreaContext(),le=ie.orientation==="horizontal",[ue,ce]=reactExports.useState("hidden"),he=useDebouncedCallback(()=>ce("idle"),100);return reactExports.useEffect(()=>{if(ue==="idle"){const de=window.setTimeout(()=>ce("hidden"),ne.scrollHideDelay);return()=>window.clearTimeout(de)}},[ue,ne.scrollHideDelay]),reactExports.useEffect(()=>{const{viewport:de}=ne,_e=le?"scrollLeft":"scrollTop";if(de){let fe=de[_e];const ye=()=>{const be=de[_e];fe!==be&&(ce("scrolling"),he()),fe=be};return de.addEventListener("scroll",ye),()=>de.removeEventListener("scroll",ye)}},[ne.viewport,le,he]),te||ue!=="hidden"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":ue==="hidden"?"hidden":"visible",...se,ref:ee,onPointerEnter:composeEventHandlers(ie.onPointerEnter,()=>ce("interacting")),onPointerLeave:composeEventHandlers(ie.onPointerLeave,()=>ce("idle"))}):null}),ScrollAreaScrollbar=reactExports.forwardRef((ie,ee)=>{const{forceMount:te,...se}=ie,ne=useScrollAreaContext(),{onScrollbarXEnabledChange:le,onScrollbarYEnabledChange:ue}=ne,ce=ie.orientation==="horizontal";return reactExports.useEffect(()=>(ce?le(!0):ue(!0),()=>{ce?le(!1):ue(!1)}),[ce,le,ue]),ne.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...se,ref:ee,forceMount:te}):ne.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...se,ref:ee,forceMount:te}):ne.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...se,ref:ee,forceMount:te}):ne.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...se,ref:ee}):null});ScrollAreaScrollbar.displayName="@mantine/core/ScrollAreaScrollbar";function addUnlinkedScrollListener(ie,ee=()=>{}){let te={left:ie.scrollLeft,top:ie.scrollTop},se=0;return function ne(){const le={left:ie.scrollLeft,top:ie.scrollTop},ue=te.left!==le.left,ce=te.top!==le.top;(ue||ce)&&ee(),te=le,se=window.requestAnimationFrame(ne)}(),()=>window.cancelAnimationFrame(se)}const Thumb$1=reactExports.forwardRef((ie,ee)=>{const{style:te,...se}=ie,ne=useScrollAreaContext(),le=useScrollbarContext(),{onThumbPositionChange:ue}=le,ce=useMergedRef(ee,_e=>le.onThumbChange(_e)),he=reactExports.useRef(void 0),de=useDebouncedCallback(()=>{he.current&&(he.current(),he.current=void 0)},100);return reactExports.useEffect(()=>{const{viewport:_e}=ne;if(_e){const fe=()=>{if(de(),!he.current){const ye=addUnlinkedScrollListener(_e,ue);he.current=ye,ue()}};return ue(),_e.addEventListener("scroll",fe),()=>_e.removeEventListener("scroll",fe)}},[ne.viewport,de,ue]),jsxRuntimeExports.jsx("div",{"data-state":le.hasThumb?"visible":"hidden",...se,ref:ce,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...te},onPointerDownCapture:composeEventHandlers(ie.onPointerDownCapture,_e=>{const ye=_e.target.getBoundingClientRect(),be=_e.clientX-ye.left,Pe=_e.clientY-ye.top;le.onThumbPointerDown({x:be,y:Pe})}),onPointerUp:composeEventHandlers(ie.onPointerUp,le.onThumbPointerUp)})});Thumb$1.displayName="@mantine/core/ScrollAreaThumb";const ScrollAreaThumb=reactExports.forwardRef((ie,ee)=>{const{forceMount:te,...se}=ie,ne=useScrollbarContext();return te||ne.hasThumb?jsxRuntimeExports.jsx(Thumb$1,{ref:ee,...se}):null});ScrollAreaThumb.displayName="@mantine/core/ScrollAreaThumb";const ScrollAreaViewport=reactExports.forwardRef(({children:ie,style:ee,...te},se)=>{const ne=useScrollAreaContext(),le=useMergedRef(se,ne.onViewportChange);return jsxRuntimeExports.jsx(Box,{...te,ref:le,style:{overflowX:ne.scrollbarXEnabled?"scroll":"hidden",overflowY:ne.scrollbarYEnabled?"scroll":"hidden",...ee},children:jsxRuntimeExports.jsx("div",{style:{minWidth:"100%",display:"table"},ref:ne.onContentChange,children:ie})})});ScrollAreaViewport.displayName="@mantine/core/ScrollAreaViewport";var classes$i={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const defaultProps$N={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},varsResolver$l=(ie,{scrollbarSize:ee})=>({root:{"--scrollarea-scrollbar-size":rem(ee)}}),ScrollArea=factory((ie,ee)=>{const te=useProps("ScrollArea",defaultProps$N,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,scrollbarSize:he,vars:de,type:_e,scrollHideDelay:fe,viewportProps:ye,viewportRef:be,onScrollPositionChange:Pe,children:Ne,offsetScrollbars:we,scrollbars:De,onBottomReached:$e,onTopReached:Ge,...Be}=te,[ze,$t]=reactExports.useState(!1),ut=useStyles({name:"ScrollArea",props:te,classes:classes$i,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:de,varsResolver:varsResolver$l});return jsxRuntimeExports.jsxs(ScrollAreaRoot,{type:_e==="never"?"always":_e,scrollHideDelay:fe,ref:ee,scrollbars:De,...ut("root"),...Be,children:[jsxRuntimeExports.jsx(ScrollAreaViewport,{...ye,...ut("viewport",{style:ye==null?void 0:ye.style}),ref:be,"data-offset-scrollbars":we===!0?"xy":we||void 0,"data-scrollbars":De||void 0,onScroll:Ti=>{var Pm;(Pm=ye==null?void 0:ye.onScroll)==null||Pm.call(ye,Ti),Pe==null||Pe({x:Ti.currentTarget.scrollLeft,y:Ti.currentTarget.scrollTop});const{scrollTop:Hi,scrollHeight:bn,clientHeight:gd}=Ti.currentTarget;Hi-(bn-gd)>=0&&($e==null||$e()),Hi===0&&(Ge==null||Ge())},children:Ne}),(De==="xy"||De==="x")&&jsxRuntimeExports.jsx(ScrollAreaScrollbar,{...ut("scrollbar"),orientation:"horizontal","data-hidden":_e==="never"||void 0,forceMount:!0,onMouseEnter:()=>$t(!0),onMouseLeave:()=>$t(!1),children:jsxRuntimeExports.jsx(ScrollAreaThumb,{...ut("thumb")})}),(De==="xy"||De==="y")&&jsxRuntimeExports.jsx(ScrollAreaScrollbar,{...ut("scrollbar"),orientation:"vertical","data-hidden":_e==="never"||void 0,forceMount:!0,onMouseEnter:()=>$t(!0),onMouseLeave:()=>$t(!1),children:jsxRuntimeExports.jsx(ScrollAreaThumb,{...ut("thumb")})}),jsxRuntimeExports.jsx(ScrollAreaCorner,{...ut("corner"),"data-hovered":ze||void 0,"data-hidden":_e==="never"||void 0})]})});ScrollArea.displayName="@mantine/core/ScrollArea";const ScrollAreaAutosize=factory((ie,ee)=>{const{children:te,classNames:se,styles:ne,scrollbarSize:le,scrollHideDelay:ue,type:ce,dir:he,offsetScrollbars:de,viewportRef:_e,onScrollPositionChange:fe,unstyled:ye,variant:be,viewportProps:Pe,scrollbars:Ne,style:we,vars:De,onBottomReached:$e,onTopReached:Ge,...Be}=useProps("ScrollAreaAutosize",defaultProps$N,ie);return jsxRuntimeExports.jsx(Box,{...Be,ref:ee,style:[{display:"flex",overflow:"auto"},we],children:jsxRuntimeExports.jsx(Box,{style:{display:"flex",flexDirection:"column",flex:1},children:jsxRuntimeExports.jsx(ScrollArea,{classNames:se,styles:ne,scrollHideDelay:ue,scrollbarSize:le,type:ce,dir:he,offsetScrollbars:de,viewportRef:_e,onScrollPositionChange:fe,unstyled:ye,variant:be,viewportProps:Pe,vars:De,scrollbars:Ne,onBottomReached:$e,onTopReached:Ge,children:te})})})});ScrollArea.classes=classes$i,ScrollAreaAutosize.displayName="@mantine/core/ScrollAreaAutosize",ScrollAreaAutosize.classes=classes$i,ScrollArea.Autosize=ScrollAreaAutosize;var classes$h={root:"m_87cf2631"};const defaultProps$M={__staticSelector:"UnstyledButton"},UnstyledButton=polymorphicFactory((ie,ee)=>{const te=useProps("UnstyledButton",defaultProps$M,ie),{className:se,component:ne="button",__staticSelector:le,unstyled:ue,classNames:ce,styles:he,style:de,..._e}=te,fe=useStyles({name:le,props:te,classes:classes$h,className:se,style:de,classNames:ce,styles:he,unstyled:ue});return jsxRuntimeExports.jsx(Box,{...fe("root",{focusable:!0}),component:ne,ref:ee,type:ne==="button"?"button":void 0,..._e})});UnstyledButton.classes=classes$h,UnstyledButton.displayName="@mantine/core/UnstyledButton";var classes$g={root:"m_515a97f8"};const defaultProps$L={},VisuallyHidden=factory((ie,ee)=>{const te=useProps("VisuallyHidden",defaultProps$L,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,...de}=te,_e=useStyles({name:"VisuallyHidden",classes:classes$g,props:te,className:ne,style:le,classNames:se,styles:ue,unstyled:ce});return jsxRuntimeExports.jsx(Box,{component:"span",ref:ee,..._e("root"),...de})});VisuallyHidden.classes=classes$g,VisuallyHidden.displayName="@mantine/core/VisuallyHidden";function hasWindow(){return typeof window<"u"}function getNodeName(ie){return isNode(ie)?(ie.nodeName||"").toLowerCase():"#document"}function getWindow(ie){var ee;return(ie==null||(ee=ie.ownerDocument)==null?void 0:ee.defaultView)||window}function getDocumentElement(ie){var ee;return(ee=(isNode(ie)?ie.ownerDocument:ie.document)||window.document)==null?void 0:ee.documentElement}function isNode(ie){return hasWindow()?ie instanceof Node||ie instanceof getWindow(ie).Node:!1}function isElement(ie){return hasWindow()?ie instanceof Element||ie instanceof getWindow(ie).Element:!1}function isHTMLElement(ie){return hasWindow()?ie instanceof HTMLElement||ie instanceof getWindow(ie).HTMLElement:!1}function isShadowRoot(ie){return!hasWindow()||typeof ShadowRoot>"u"?!1:ie instanceof ShadowRoot||ie instanceof getWindow(ie).ShadowRoot}function isOverflowElement(ie){const{overflow:ee,overflowX:te,overflowY:se,display:ne}=getComputedStyle$1(ie);return/auto|scroll|overlay|hidden|clip/.test(ee+se+te)&&!["inline","contents"].includes(ne)}function isTableElement(ie){return["table","td","th"].includes(getNodeName(ie))}function isTopLayer(ie){return[":popover-open",":modal"].some(ee=>{try{return ie.matches(ee)}catch{return!1}})}function isContainingBlock(ie){const ee=isWebKit(),te=isElement(ie)?getComputedStyle$1(ie):ie;return["transform","translate","scale","rotate","perspective"].some(se=>te[se]?te[se]!=="none":!1)||(te.containerType?te.containerType!=="normal":!1)||!ee&&(te.backdropFilter?te.backdropFilter!=="none":!1)||!ee&&(te.filter?te.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(se=>(te.willChange||"").includes(se))||["paint","layout","strict","content"].some(se=>(te.contain||"").includes(se))}function getContainingBlock(ie){let ee=getParentNode(ie);for(;isHTMLElement(ee)&&!isLastTraversableNode(ee);){if(isContainingBlock(ee))return ee;if(isTopLayer(ee))return null;ee=getParentNode(ee)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(ie){return["html","body","#document"].includes(getNodeName(ie))}function getComputedStyle$1(ie){return getWindow(ie).getComputedStyle(ie)}function getNodeScroll(ie){return isElement(ie)?{scrollLeft:ie.scrollLeft,scrollTop:ie.scrollTop}:{scrollLeft:ie.scrollX,scrollTop:ie.scrollY}}function getParentNode(ie){if(getNodeName(ie)==="html")return ie;const ee=ie.assignedSlot||ie.parentNode||isShadowRoot(ie)&&ie.host||getDocumentElement(ie);return isShadowRoot(ee)?ee.host:ee}function getNearestOverflowAncestor(ie){const ee=getParentNode(ie);return isLastTraversableNode(ee)?ie.ownerDocument?ie.ownerDocument.body:ie.body:isHTMLElement(ee)&&isOverflowElement(ee)?ee:getNearestOverflowAncestor(ee)}function getOverflowAncestors(ie,ee,te){var se;ee===void 0&&(ee=[]),te===void 0&&(te=!0);const ne=getNearestOverflowAncestor(ie),le=ne===((se=ie.ownerDocument)==null?void 0:se.body),ue=getWindow(ne);if(le){const ce=getFrameElement(ue);return ee.concat(ue,ue.visualViewport||[],isOverflowElement(ne)?ne:[],ce&&te?getOverflowAncestors(ce):[])}return ee.concat(ne,getOverflowAncestors(ne,[],te))}function getFrameElement(ie){return ie.parent&&Object.getPrototypeOf(ie.parent)?ie.frameElement:null}const min=Math.min,max=Math.max,round$2=Math.round,floor=Math.floor,createCoords=ie=>({x:ie,y:ie}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(ie,ee,te){return max(ie,min(ee,te))}function evaluate(ie,ee){return typeof ie=="function"?ie(ee):ie}function getSide(ie){return ie.split("-")[0]}function getAlignment(ie){return ie.split("-")[1]}function getOppositeAxis(ie){return ie==="x"?"y":"x"}function getAxisLength(ie){return ie==="y"?"height":"width"}function getSideAxis(ie){return["top","bottom"].includes(getSide(ie))?"y":"x"}function getAlignmentAxis(ie){return getOppositeAxis(getSideAxis(ie))}function getAlignmentSides(ie,ee,te){te===void 0&&(te=!1);const se=getAlignment(ie),ne=getAlignmentAxis(ie),le=getAxisLength(ne);let ue=ne==="x"?se===(te?"end":"start")?"right":"left":se==="start"?"bottom":"top";return ee.reference[le]>ee.floating[le]&&(ue=getOppositePlacement(ue)),[ue,getOppositePlacement(ue)]}function getExpandedPlacements(ie){const ee=getOppositePlacement(ie);return[getOppositeAlignmentPlacement(ie),ee,getOppositeAlignmentPlacement(ee)]}function getOppositeAlignmentPlacement(ie){return ie.replace(/start|end/g,ee=>oppositeAlignmentMap[ee])}function getSideList(ie,ee,te){const se=["left","right"],ne=["right","left"],le=["top","bottom"],ue=["bottom","top"];switch(ie){case"top":case"bottom":return te?ee?ne:se:ee?se:ne;case"left":case"right":return ee?le:ue;default:return[]}}function getOppositeAxisPlacements(ie,ee,te,se){const ne=getAlignment(ie);let le=getSideList(getSide(ie),te==="start",se);return ne&&(le=le.map(ue=>ue+"-"+ne),ee&&(le=le.concat(le.map(getOppositeAlignmentPlacement)))),le}function getOppositePlacement(ie){return ie.replace(/left|right|bottom|top/g,ee=>oppositeSideMap[ee])}function expandPaddingObject(ie){return{top:0,right:0,bottom:0,left:0,...ie}}function getPaddingObject(ie){return typeof ie!="number"?expandPaddingObject(ie):{top:ie,right:ie,bottom:ie,left:ie}}function rectToClientRect(ie){const{x:ee,y:te,width:se,height:ne}=ie;return{width:se,height:ne,top:te,left:ee,right:ee+se,bottom:te+ne,x:ee,y:te}}function computeCoordsFromPlacement(ie,ee,te){let{reference:se,floating:ne}=ie;const le=getSideAxis(ee),ue=getAlignmentAxis(ee),ce=getAxisLength(ue),he=getSide(ee),de=le==="y",_e=se.x+se.width/2-ne.width/2,fe=se.y+se.height/2-ne.height/2,ye=se[ce]/2-ne[ce]/2;let be;switch(he){case"top":be={x:_e,y:se.y-ne.height};break;case"bottom":be={x:_e,y:se.y+se.height};break;case"right":be={x:se.x+se.width,y:fe};break;case"left":be={x:se.x-ne.width,y:fe};break;default:be={x:se.x,y:se.y}}switch(getAlignment(ee)){case"start":be[ue]-=ye*(te&&de?-1:1);break;case"end":be[ue]+=ye*(te&&de?-1:1);break}return be}const computePosition$1=async(ie,ee,te)=>{const{placement:se="bottom",strategy:ne="absolute",middleware:le=[],platform:ue}=te,ce=le.filter(Boolean),he=await(ue.isRTL==null?void 0:ue.isRTL(ee));let de=await ue.getElementRects({reference:ie,floating:ee,strategy:ne}),{x:_e,y:fe}=computeCoordsFromPlacement(de,se,he),ye=se,be={},Pe=0;for(let Ne=0;Ne<ce.length;Ne++){const{name:we,fn:De}=ce[Ne],{x:$e,y:Ge,data:Be,reset:ze}=await De({x:_e,y:fe,initialPlacement:se,placement:ye,strategy:ne,middlewareData:be,rects:de,platform:ue,elements:{reference:ie,floating:ee}});_e=$e??_e,fe=Ge??fe,be={...be,[we]:{...be[we],...Be}},ze&&Pe<=50&&(Pe++,typeof ze=="object"&&(ze.placement&&(ye=ze.placement),ze.rects&&(de=ze.rects===!0?await ue.getElementRects({reference:ie,floating:ee,strategy:ne}):ze.rects),{x:_e,y:fe}=computeCoordsFromPlacement(de,ye,he)),Ne=-1)}return{x:_e,y:fe,placement:ye,strategy:ne,middlewareData:be}};async function detectOverflow(ie,ee){var te;ee===void 0&&(ee={});const{x:se,y:ne,platform:le,rects:ue,elements:ce,strategy:he}=ie,{boundary:de="clippingAncestors",rootBoundary:_e="viewport",elementContext:fe="floating",altBoundary:ye=!1,padding:be=0}=evaluate(ee,ie),Pe=getPaddingObject(be),we=ce[ye?fe==="floating"?"reference":"floating":fe],De=rectToClientRect(await le.getClippingRect({element:(te=await(le.isElement==null?void 0:le.isElement(we)))==null||te?we:we.contextElement||await(le.getDocumentElement==null?void 0:le.getDocumentElement(ce.floating)),boundary:de,rootBoundary:_e,strategy:he})),$e=fe==="floating"?{x:se,y:ne,width:ue.floating.width,height:ue.floating.height}:ue.reference,Ge=await(le.getOffsetParent==null?void 0:le.getOffsetParent(ce.floating)),Be=await(le.isElement==null?void 0:le.isElement(Ge))?await(le.getScale==null?void 0:le.getScale(Ge))||{x:1,y:1}:{x:1,y:1},ze=rectToClientRect(le.convertOffsetParentRelativeRectToViewportRelativeRect?await le.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ce,rect:$e,offsetParent:Ge,strategy:he}):$e);return{top:(De.top-ze.top+Pe.top)/Be.y,bottom:(ze.bottom-De.bottom+Pe.bottom)/Be.y,left:(De.left-ze.left+Pe.left)/Be.x,right:(ze.right-De.right+Pe.right)/Be.x}}const arrow$3=ie=>({name:"arrow",options:ie,async fn(ee){const{x:te,y:se,placement:ne,rects:le,platform:ue,elements:ce,middlewareData:he}=ee,{element:de,padding:_e=0}=evaluate(ie,ee)||{};if(de==null)return{};const fe=getPaddingObject(_e),ye={x:te,y:se},be=getAlignmentAxis(ne),Pe=getAxisLength(be),Ne=await ue.getDimensions(de),we=be==="y",De=we?"top":"left",$e=we?"bottom":"right",Ge=we?"clientHeight":"clientWidth",Be=le.reference[Pe]+le.reference[be]-ye[be]-le.floating[Pe],ze=ye[be]-le.reference[be],$t=await(ue.getOffsetParent==null?void 0:ue.getOffsetParent(de));let ut=$t?$t[Ge]:0;(!ut||!await(ue.isElement==null?void 0:ue.isElement($t)))&&(ut=ce.floating[Ge]||le.floating[Pe]);const Ti=Be/2-ze/2,Hi=ut/2-Ne[Pe]/2-1,bn=min(fe[De],Hi),gd=min(fe[$e],Hi),Pm=bn,oE=ut-Ne[Pe]-gd,aE=ut/2-Ne[Pe]/2+Ti,nE=clamp$1(Pm,aE,oE),On=!he.arrow&&getAlignment(ne)!=null&&aE!==nE&&le.reference[Pe]/2-(aE<Pm?bn:gd)-Ne[Pe]/2<0,nh=On?aE<Pm?aE-Pm:aE-oE:0;return{[be]:ye[be]+nh,data:{[be]:nE,centerOffset:aE-nE-nh,...On&&{alignmentOffset:nh}},reset:On}}}),flip$2=function(ie){return ie===void 0&&(ie={}),{name:"flip",options:ie,async fn(ee){var te,se;const{placement:ne,middlewareData:le,rects:ue,initialPlacement:ce,platform:he,elements:de}=ee,{mainAxis:_e=!0,crossAxis:fe=!0,fallbackPlacements:ye,fallbackStrategy:be="bestFit",fallbackAxisSideDirection:Pe="none",flipAlignment:Ne=!0,...we}=evaluate(ie,ee);if((te=le.arrow)!=null&&te.alignmentOffset)return{};const De=getSide(ne),$e=getSideAxis(ce),Ge=getSide(ce)===ce,Be=await(he.isRTL==null?void 0:he.isRTL(de.floating)),ze=ye||(Ge||!Ne?[getOppositePlacement(ce)]:getExpandedPlacements(ce)),$t=Pe!=="none";!ye&&$t&&ze.push(...getOppositeAxisPlacements(ce,Ne,Pe,Be));const ut=[ce,...ze],Ti=await detectOverflow(ee,we),Hi=[];let bn=((se=le.flip)==null?void 0:se.overflows)||[];if(_e&&Hi.push(Ti[De]),fe){const aE=getAlignmentSides(ne,ue,Be);Hi.push(Ti[aE[0]],Ti[aE[1]])}if(bn=[...bn,{placement:ne,overflows:Hi}],!Hi.every(aE=>aE<=0)){var gd,Pm;const aE=(((gd=le.flip)==null?void 0:gd.index)||0)+1,nE=ut[aE];if(nE)return{data:{index:aE,overflows:bn},reset:{placement:nE}};let On=(Pm=bn.filter(nh=>nh.overflows[0]<=0).sort((nh,Hn)=>nh.overflows[1]-Hn.overflows[1])[0])==null?void 0:Pm.placement;if(!On)switch(be){case"bestFit":{var oE;const nh=(oE=bn.filter(Hn=>{if($t){const Xp=getSideAxis(Hn.placement);return Xp===$e||Xp==="y"}return!0}).map(Hn=>[Hn.placement,Hn.overflows.filter(Xp=>Xp>0).reduce((Xp,Jp)=>Xp+Jp,0)]).sort((Hn,Xp)=>Hn[1]-Xp[1])[0])==null?void 0:oE[0];nh&&(On=nh);break}case"initialPlacement":On=ce;break}if(ne!==On)return{reset:{placement:On}}}return{}}}};function getBoundingRect(ie){const ee=min(...ie.map(le=>le.left)),te=min(...ie.map(le=>le.top)),se=max(...ie.map(le=>le.right)),ne=max(...ie.map(le=>le.bottom));return{x:ee,y:te,width:se-ee,height:ne-te}}function getRectsByLine(ie){const ee=ie.slice().sort((ne,le)=>ne.y-le.y),te=[];let se=null;for(let ne=0;ne<ee.length;ne++){const le=ee[ne];!se||le.y-se.y>se.height/2?te.push([le]):te[te.length-1].push(le),se=le}return te.map(ne=>rectToClientRect(getBoundingRect(ne)))}const inline$2=function(ie){return ie===void 0&&(ie={}),{name:"inline",options:ie,async fn(ee){const{placement:te,elements:se,rects:ne,platform:le,strategy:ue}=ee,{padding:ce=2,x:he,y:de}=evaluate(ie,ee),_e=Array.from(await(le.getClientRects==null?void 0:le.getClientRects(se.reference))||[]),fe=getRectsByLine(_e),ye=rectToClientRect(getBoundingRect(_e)),be=getPaddingObject(ce);function Pe(){if(fe.length===2&&fe[0].left>fe[1].right&&he!=null&&de!=null)return fe.find(we=>he>we.left-be.left&&he<we.right+be.right&&de>we.top-be.top&&de<we.bottom+be.bottom)||ye;if(fe.length>=2){if(getSideAxis(te)==="y"){const bn=fe[0],gd=fe[fe.length-1],Pm=getSide(te)==="top",oE=bn.top,aE=gd.bottom,nE=Pm?bn.left:gd.left,On=Pm?bn.right:gd.right,nh=On-nE,Hn=aE-oE;return{top:oE,bottom:aE,left:nE,right:On,width:nh,height:Hn,x:nE,y:oE}}const we=getSide(te)==="left",De=max(...fe.map(bn=>bn.right)),$e=min(...fe.map(bn=>bn.left)),Ge=fe.filter(bn=>we?bn.left===$e:bn.right===De),Be=Ge[0].top,ze=Ge[Ge.length-1].bottom,$t=$e,ut=De,Ti=ut-$t,Hi=ze-Be;return{top:Be,bottom:ze,left:$t,right:ut,width:Ti,height:Hi,x:$t,y:Be}}return ye}const Ne=await le.getElementRects({reference:{getBoundingClientRect:Pe},floating:se.floating,strategy:ue});return ne.reference.x!==Ne.reference.x||ne.reference.y!==Ne.reference.y||ne.reference.width!==Ne.reference.width||ne.reference.height!==Ne.reference.height?{reset:{rects:Ne}}:{}}}};async function convertValueToCoords(ie,ee){const{placement:te,platform:se,elements:ne}=ie,le=await(se.isRTL==null?void 0:se.isRTL(ne.floating)),ue=getSide(te),ce=getAlignment(te),he=getSideAxis(te)==="y",de=["left","top"].includes(ue)?-1:1,_e=le&&he?-1:1,fe=evaluate(ee,ie);let{mainAxis:ye,crossAxis:be,alignmentAxis:Pe}=typeof fe=="number"?{mainAxis:fe,crossAxis:0,alignmentAxis:null}:{mainAxis:fe.mainAxis||0,crossAxis:fe.crossAxis||0,alignmentAxis:fe.alignmentAxis};return ce&&typeof Pe=="number"&&(be=ce==="end"?Pe*-1:Pe),he?{x:be*_e,y:ye*de}:{x:ye*de,y:be*_e}}const offset$2=function(ie){return ie===void 0&&(ie=0),{name:"offset",options:ie,async fn(ee){var te,se;const{x:ne,y:le,placement:ue,middlewareData:ce}=ee,he=await convertValueToCoords(ee,ie);return ue===((te=ce.offset)==null?void 0:te.placement)&&(se=ce.arrow)!=null&&se.alignmentOffset?{}:{x:ne+he.x,y:le+he.y,data:{...he,placement:ue}}}}},shift$2=function(ie){return ie===void 0&&(ie={}),{name:"shift",options:ie,async fn(ee){const{x:te,y:se,placement:ne}=ee,{mainAxis:le=!0,crossAxis:ue=!1,limiter:ce={fn:we=>{let{x:De,y:$e}=we;return{x:De,y:$e}}},...he}=evaluate(ie,ee),de={x:te,y:se},_e=await detectOverflow(ee,he),fe=getSideAxis(getSide(ne)),ye=getOppositeAxis(fe);let be=de[ye],Pe=de[fe];if(le){const we=ye==="y"?"top":"left",De=ye==="y"?"bottom":"right",$e=be+_e[we],Ge=be-_e[De];be=clamp$1($e,be,Ge)}if(ue){const we=fe==="y"?"top":"left",De=fe==="y"?"bottom":"right",$e=Pe+_e[we],Ge=Pe-_e[De];Pe=clamp$1($e,Pe,Ge)}const Ne=ce.fn({...ee,[ye]:be,[fe]:Pe});return{...Ne,data:{x:Ne.x-te,y:Ne.y-se,enabled:{[ye]:le,[fe]:ue}}}}}},limitShift$2=function(ie){return ie===void 0&&(ie={}),{options:ie,fn(ee){const{x:te,y:se,placement:ne,rects:le,middlewareData:ue}=ee,{offset:ce=0,mainAxis:he=!0,crossAxis:de=!0}=evaluate(ie,ee),_e={x:te,y:se},fe=getSideAxis(ne),ye=getOppositeAxis(fe);let be=_e[ye],Pe=_e[fe];const Ne=evaluate(ce,ee),we=typeof Ne=="number"?{mainAxis:Ne,crossAxis:0}:{mainAxis:0,crossAxis:0,...Ne};if(he){const Ge=ye==="y"?"height":"width",Be=le.reference[ye]-le.floating[Ge]+we.mainAxis,ze=le.reference[ye]+le.reference[Ge]-we.mainAxis;be<Be?be=Be:be>ze&&(be=ze)}if(de){var De,$e;const Ge=ye==="y"?"width":"height",Be=["top","left"].includes(getSide(ne)),ze=le.reference[fe]-le.floating[Ge]+(Be&&((De=ue.offset)==null?void 0:De[fe])||0)+(Be?0:we.crossAxis),$t=le.reference[fe]+le.reference[Ge]+(Be?0:(($e=ue.offset)==null?void 0:$e[fe])||0)-(Be?we.crossAxis:0);Pe<ze?Pe=ze:Pe>$t&&(Pe=$t)}return{[ye]:be,[fe]:Pe}}}},size$2=function(ie){return ie===void 0&&(ie={}),{name:"size",options:ie,async fn(ee){var te,se;const{placement:ne,rects:le,platform:ue,elements:ce}=ee,{apply:he=()=>{},...de}=evaluate(ie,ee),_e=await detectOverflow(ee,de),fe=getSide(ne),ye=getAlignment(ne),be=getSideAxis(ne)==="y",{width:Pe,height:Ne}=le.floating;let we,De;fe==="top"||fe==="bottom"?(we=fe,De=ye===(await(ue.isRTL==null?void 0:ue.isRTL(ce.floating))?"start":"end")?"left":"right"):(De=fe,we=ye==="end"?"top":"bottom");const $e=Ne-_e.top-_e.bottom,Ge=Pe-_e.left-_e.right,Be=min(Ne-_e[we],$e),ze=min(Pe-_e[De],Ge),$t=!ee.middlewareData.shift;let ut=Be,Ti=ze;if((te=ee.middlewareData.shift)!=null&&te.enabled.x&&(Ti=Ge),(se=ee.middlewareData.shift)!=null&&se.enabled.y&&(ut=$e),$t&&!ye){const bn=max(_e.left,0),gd=max(_e.right,0),Pm=max(_e.top,0),oE=max(_e.bottom,0);be?Ti=Pe-2*(bn!==0||gd!==0?bn+gd:max(_e.left,_e.right)):ut=Ne-2*(Pm!==0||oE!==0?Pm+oE:max(_e.top,_e.bottom))}await he({...ee,availableWidth:Ti,availableHeight:ut});const Hi=await ue.getDimensions(ce.floating);return Pe!==Hi.width||Ne!==Hi.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(ie){const ee=getComputedStyle$1(ie);let te=parseFloat(ee.width)||0,se=parseFloat(ee.height)||0;const ne=isHTMLElement(ie),le=ne?ie.offsetWidth:te,ue=ne?ie.offsetHeight:se,ce=round$2(te)!==le||round$2(se)!==ue;return ce&&(te=le,se=ue),{width:te,height:se,$:ce}}function unwrapElement(ie){return isElement(ie)?ie:ie.contextElement}function getScale(ie){const ee=unwrapElement(ie);if(!isHTMLElement(ee))return createCoords(1);const te=ee.getBoundingClientRect(),{width:se,height:ne,$:le}=getCssDimensions(ee);let ue=(le?round$2(te.width):te.width)/se,ce=(le?round$2(te.height):te.height)/ne;return(!ue||!Number.isFinite(ue))&&(ue=1),(!ce||!Number.isFinite(ce))&&(ce=1),{x:ue,y:ce}}const noOffsets=createCoords(0);function getVisualOffsets(ie){const ee=getWindow(ie);return!isWebKit()||!ee.visualViewport?noOffsets:{x:ee.visualViewport.offsetLeft,y:ee.visualViewport.offsetTop}}function shouldAddVisualOffsets(ie,ee,te){return ee===void 0&&(ee=!1),!te||ee&&te!==getWindow(ie)?!1:ee}function getBoundingClientRect(ie,ee,te,se){ee===void 0&&(ee=!1),te===void 0&&(te=!1);const ne=ie.getBoundingClientRect(),le=unwrapElement(ie);let ue=createCoords(1);ee&&(se?isElement(se)&&(ue=getScale(se)):ue=getScale(ie));const ce=shouldAddVisualOffsets(le,te,se)?getVisualOffsets(le):createCoords(0);let he=(ne.left+ce.x)/ue.x,de=(ne.top+ce.y)/ue.y,_e=ne.width/ue.x,fe=ne.height/ue.y;if(le){const ye=getWindow(le),be=se&&isElement(se)?getWindow(se):se;let Pe=ye,Ne=getFrameElement(Pe);for(;Ne&&se&&be!==Pe;){const we=getScale(Ne),De=Ne.getBoundingClientRect(),$e=getComputedStyle$1(Ne),Ge=De.left+(Ne.clientLeft+parseFloat($e.paddingLeft))*we.x,Be=De.top+(Ne.clientTop+parseFloat($e.paddingTop))*we.y;he*=we.x,de*=we.y,_e*=we.x,fe*=we.y,he+=Ge,de+=Be,Pe=getWindow(Ne),Ne=getFrameElement(Pe)}}return rectToClientRect({width:_e,height:fe,x:he,y:de})}function getWindowScrollBarX(ie,ee){const te=getNodeScroll(ie).scrollLeft;return ee?ee.left+te:getBoundingClientRect(getDocumentElement(ie)).left+te}function getHTMLOffset(ie,ee,te){te===void 0&&(te=!1);const se=ie.getBoundingClientRect(),ne=se.left+ee.scrollLeft-(te?0:getWindowScrollBarX(ie,se)),le=se.top+ee.scrollTop;return{x:ne,y:le}}function convertOffsetParentRelativeRectToViewportRelativeRect(ie){let{elements:ee,rect:te,offsetParent:se,strategy:ne}=ie;const le=ne==="fixed",ue=getDocumentElement(se),ce=ee?isTopLayer(ee.floating):!1;if(se===ue||ce&&le)return te;let he={scrollLeft:0,scrollTop:0},de=createCoords(1);const _e=createCoords(0),fe=isHTMLElement(se);if((fe||!fe&&!le)&&((getNodeName(se)!=="body"||isOverflowElement(ue))&&(he=getNodeScroll(se)),isHTMLElement(se))){const be=getBoundingClientRect(se);de=getScale(se),_e.x=be.x+se.clientLeft,_e.y=be.y+se.clientTop}const ye=ue&&!fe&&!le?getHTMLOffset(ue,he,!0):createCoords(0);return{width:te.width*de.x,height:te.height*de.y,x:te.x*de.x-he.scrollLeft*de.x+_e.x+ye.x,y:te.y*de.y-he.scrollTop*de.y+_e.y+ye.y}}function getClientRects(ie){return Array.from(ie.getClientRects())}function getDocumentRect(ie){const ee=getDocumentElement(ie),te=getNodeScroll(ie),se=ie.ownerDocument.body,ne=max(ee.scrollWidth,ee.clientWidth,se.scrollWidth,se.clientWidth),le=max(ee.scrollHeight,ee.clientHeight,se.scrollHeight,se.clientHeight);let ue=-te.scrollLeft+getWindowScrollBarX(ie);const ce=-te.scrollTop;return getComputedStyle$1(se).direction==="rtl"&&(ue+=max(ee.clientWidth,se.clientWidth)-ne),{width:ne,height:le,x:ue,y:ce}}function getViewportRect(ie,ee){const te=getWindow(ie),se=getDocumentElement(ie),ne=te.visualViewport;let le=se.clientWidth,ue=se.clientHeight,ce=0,he=0;if(ne){le=ne.width,ue=ne.height;const de=isWebKit();(!de||de&&ee==="fixed")&&(ce=ne.offsetLeft,he=ne.offsetTop)}return{width:le,height:ue,x:ce,y:he}}function getInnerBoundingClientRect(ie,ee){const te=getBoundingClientRect(ie,!0,ee==="fixed"),se=te.top+ie.clientTop,ne=te.left+ie.clientLeft,le=isHTMLElement(ie)?getScale(ie):createCoords(1),ue=ie.clientWidth*le.x,ce=ie.clientHeight*le.y,he=ne*le.x,de=se*le.y;return{width:ue,height:ce,x:he,y:de}}function getClientRectFromClippingAncestor(ie,ee,te){let se;if(ee==="viewport")se=getViewportRect(ie,te);else if(ee==="document")se=getDocumentRect(getDocumentElement(ie));else if(isElement(ee))se=getInnerBoundingClientRect(ee,te);else{const ne=getVisualOffsets(ie);se={x:ee.x-ne.x,y:ee.y-ne.y,width:ee.width,height:ee.height}}return rectToClientRect(se)}function hasFixedPositionAncestor(ie,ee){const te=getParentNode(ie);return te===ee||!isElement(te)||isLastTraversableNode(te)?!1:getComputedStyle$1(te).position==="fixed"||hasFixedPositionAncestor(te,ee)}function getClippingElementAncestors(ie,ee){const te=ee.get(ie);if(te)return te;let se=getOverflowAncestors(ie,[],!1).filter(ce=>isElement(ce)&&getNodeName(ce)!=="body"),ne=null;const le=getComputedStyle$1(ie).position==="fixed";let ue=le?getParentNode(ie):ie;for(;isElement(ue)&&!isLastTraversableNode(ue);){const ce=getComputedStyle$1(ue),he=isContainingBlock(ue);!he&&ce.position==="fixed"&&(ne=null),(le?!he&&!ne:!he&&ce.position==="static"&&!!ne&&["absolute","fixed"].includes(ne.position)||isOverflowElement(ue)&&!he&&hasFixedPositionAncestor(ie,ue))?se=se.filter(_e=>_e!==ue):ne=ce,ue=getParentNode(ue)}return ee.set(ie,se),se}function getClippingRect(ie){let{element:ee,boundary:te,rootBoundary:se,strategy:ne}=ie;const ue=[...te==="clippingAncestors"?isTopLayer(ee)?[]:getClippingElementAncestors(ee,this._c):[].concat(te),se],ce=ue[0],he=ue.reduce((de,_e)=>{const fe=getClientRectFromClippingAncestor(ee,_e,ne);return de.top=max(fe.top,de.top),de.right=min(fe.right,de.right),de.bottom=min(fe.bottom,de.bottom),de.left=max(fe.left,de.left),de},getClientRectFromClippingAncestor(ee,ce,ne));return{width:he.right-he.left,height:he.bottom-he.top,x:he.left,y:he.top}}function getDimensions(ie){const{width:ee,height:te}=getCssDimensions(ie);return{width:ee,height:te}}function getRectRelativeToOffsetParent(ie,ee,te){const se=isHTMLElement(ee),ne=getDocumentElement(ee),le=te==="fixed",ue=getBoundingClientRect(ie,!0,le,ee);let ce={scrollLeft:0,scrollTop:0};const he=createCoords(0);if(se||!se&&!le)if((getNodeName(ee)!=="body"||isOverflowElement(ne))&&(ce=getNodeScroll(ee)),se){const ye=getBoundingClientRect(ee,!0,le,ee);he.x=ye.x+ee.clientLeft,he.y=ye.y+ee.clientTop}else ne&&(he.x=getWindowScrollBarX(ne));const de=ne&&!se&&!le?getHTMLOffset(ne,ce):createCoords(0),_e=ue.left+ce.scrollLeft-he.x-de.x,fe=ue.top+ce.scrollTop-he.y-de.y;return{x:_e,y:fe,width:ue.width,height:ue.height}}function isStaticPositioned(ie){return getComputedStyle$1(ie).position==="static"}function getTrueOffsetParent(ie,ee){if(!isHTMLElement(ie)||getComputedStyle$1(ie).position==="fixed")return null;if(ee)return ee(ie);let te=ie.offsetParent;return getDocumentElement(ie)===te&&(te=te.ownerDocument.body),te}function getOffsetParent(ie,ee){const te=getWindow(ie);if(isTopLayer(ie))return te;if(!isHTMLElement(ie)){let ne=getParentNode(ie);for(;ne&&!isLastTraversableNode(ne);){if(isElement(ne)&&!isStaticPositioned(ne))return ne;ne=getParentNode(ne)}return te}let se=getTrueOffsetParent(ie,ee);for(;se&&isTableElement(se)&&isStaticPositioned(se);)se=getTrueOffsetParent(se,ee);return se&&isLastTraversableNode(se)&&isStaticPositioned(se)&&!isContainingBlock(se)?te:se||getContainingBlock(ie)||te}const getElementRects=async function(ie){const ee=this.getOffsetParent||getOffsetParent,te=this.getDimensions,se=await te(ie.floating);return{reference:getRectRelativeToOffsetParent(ie.reference,await ee(ie.floating),ie.strategy),floating:{x:0,y:0,width:se.width,height:se.height}}};function isRTL(ie){return getComputedStyle$1(ie).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(ie,ee){return ie.x===ee.x&&ie.y===ee.y&&ie.width===ee.width&&ie.height===ee.height}function observeMove(ie,ee){let te=null,se;const ne=getDocumentElement(ie);function le(){var ce;clearTimeout(se),(ce=te)==null||ce.disconnect(),te=null}function ue(ce,he){ce===void 0&&(ce=!1),he===void 0&&(he=1),le();const de=ie.getBoundingClientRect(),{left:_e,top:fe,width:ye,height:be}=de;if(ce||ee(),!ye||!be)return;const Pe=floor(fe),Ne=floor(ne.clientWidth-(_e+ye)),we=floor(ne.clientHeight-(fe+be)),De=floor(_e),Ge={rootMargin:-Pe+"px "+-Ne+"px "+-we+"px "+-De+"px",threshold:max(0,min(1,he))||1};let Be=!0;function ze($t){const ut=$t[0].intersectionRatio;if(ut!==he){if(!Be)return ue();ut?ue(!1,ut):se=setTimeout(()=>{ue(!1,1e-7)},1e3)}ut===1&&!rectsAreEqual(de,ie.getBoundingClientRect())&&ue(),Be=!1}try{te=new IntersectionObserver(ze,{...Ge,root:ne.ownerDocument})}catch{te=new IntersectionObserver(ze,Ge)}te.observe(ie)}return ue(!0),le}function autoUpdate(ie,ee,te,se){se===void 0&&(se={});const{ancestorScroll:ne=!0,ancestorResize:le=!0,elementResize:ue=typeof ResizeObserver=="function",layoutShift:ce=typeof IntersectionObserver=="function",animationFrame:he=!1}=se,de=unwrapElement(ie),_e=ne||le?[...de?getOverflowAncestors(de):[],...getOverflowAncestors(ee)]:[];_e.forEach(De=>{ne&&De.addEventListener("scroll",te,{passive:!0}),le&&De.addEventListener("resize",te)});const fe=de&&ce?observeMove(de,te):null;let ye=-1,be=null;ue&&(be=new ResizeObserver(De=>{let[$e]=De;$e&&$e.target===de&&be&&(be.unobserve(ee),cancelAnimationFrame(ye),ye=requestAnimationFrame(()=>{var Ge;(Ge=be)==null||Ge.observe(ee)})),te()}),de&&!he&&be.observe(de),be.observe(ee));let Pe,Ne=he?getBoundingClientRect(ie):null;he&&we();function we(){const De=getBoundingClientRect(ie);Ne&&!rectsAreEqual(Ne,De)&&te(),Ne=De,Pe=requestAnimationFrame(we)}return te(),()=>{var De;_e.forEach($e=>{ne&&$e.removeEventListener("scroll",te),le&&$e.removeEventListener("resize",te)}),fe==null||fe(),(De=be)==null||De.disconnect(),be=null,he&&cancelAnimationFrame(Pe)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,arrow$2=arrow$3,inline$1=inline$2,limitShift$1=limitShift$2,computePosition=(ie,ee,te)=>{const se=new Map,ne={platform,...te},le={...ne.platform,_c:se};return computePosition$1(ie,ee,{...ne,platform:le})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual$1(ie,ee){if(ie===ee)return!0;if(typeof ie!=typeof ee)return!1;if(typeof ie=="function"&&ie.toString()===ee.toString())return!0;let te,se,ne;if(ie&&ee&&typeof ie=="object"){if(Array.isArray(ie)){if(te=ie.length,te!==ee.length)return!1;for(se=te;se--!==0;)if(!deepEqual$1(ie[se],ee[se]))return!1;return!0}if(ne=Object.keys(ie),te=ne.length,te!==Object.keys(ee).length)return!1;for(se=te;se--!==0;)if(!{}.hasOwnProperty.call(ee,ne[se]))return!1;for(se=te;se--!==0;){const le=ne[se];if(!(le==="_owner"&&ie.$$typeof)&&!deepEqual$1(ie[le],ee[le]))return!1}return!0}return ie!==ie&&ee!==ee}function getDPR(ie){return typeof window>"u"?1:(ie.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(ie,ee){const te=getDPR(ie);return Math.round(ee*te)/te}function useLatestRef(ie){const ee=reactExports.useRef(ie);return index$1(()=>{ee.current=ie}),ee}function useFloating$1(ie){ie===void 0&&(ie={});const{placement:ee="bottom",strategy:te="absolute",middleware:se=[],platform:ne,elements:{reference:le,floating:ue}={},transform:ce=!0,whileElementsMounted:he,open:de}=ie,[_e,fe]=reactExports.useState({x:0,y:0,strategy:te,placement:ee,middlewareData:{},isPositioned:!1}),[ye,be]=reactExports.useState(se);deepEqual$1(ye,se)||be(se);const[Pe,Ne]=reactExports.useState(null),[we,De]=reactExports.useState(null),$e=reactExports.useCallback(Hn=>{Hn!==$t.current&&($t.current=Hn,Ne(Hn))},[]),Ge=reactExports.useCallback(Hn=>{Hn!==ut.current&&(ut.current=Hn,De(Hn))},[]),Be=le||Pe,ze=ue||we,$t=reactExports.useRef(null),ut=reactExports.useRef(null),Ti=reactExports.useRef(_e),Hi=he!=null,bn=useLatestRef(he),gd=useLatestRef(ne),Pm=useLatestRef(de),oE=reactExports.useCallback(()=>{if(!$t.current||!ut.current)return;const Hn={placement:ee,strategy:te,middleware:ye};gd.current&&(Hn.platform=gd.current),computePosition($t.current,ut.current,Hn).then(Xp=>{const Jp={...Xp,isPositioned:Pm.current!==!1};aE.current&&!deepEqual$1(Ti.current,Jp)&&(Ti.current=Jp,reactDomExports.flushSync(()=>{fe(Jp)}))})},[ye,ee,te,gd,Pm]);index$1(()=>{de===!1&&Ti.current.isPositioned&&(Ti.current.isPositioned=!1,fe(Hn=>({...Hn,isPositioned:!1})))},[de]);const aE=reactExports.useRef(!1);index$1(()=>(aE.current=!0,()=>{aE.current=!1}),[]),index$1(()=>{if(Be&&($t.current=Be),ze&&(ut.current=ze),Be&&ze){if(bn.current)return bn.current(Be,ze,oE);oE()}},[Be,ze,oE,bn,Hi]);const nE=reactExports.useMemo(()=>({reference:$t,floating:ut,setReference:$e,setFloating:Ge}),[$e,Ge]),On=reactExports.useMemo(()=>({reference:Be,floating:ze}),[Be,ze]),nh=reactExports.useMemo(()=>{const Hn={position:te,left:0,top:0};if(!On.floating)return Hn;const Xp=roundByDPR(On.floating,_e.x),Jp=roundByDPR(On.floating,_e.y);return ce?{...Hn,transform:"translate("+Xp+"px, "+Jp+"px)",...getDPR(On.floating)>=1.5&&{willChange:"transform"}}:{position:te,left:Xp,top:Jp}},[te,ce,On.floating,_e.x,_e.y]);return reactExports.useMemo(()=>({..._e,update:oE,refs:nE,elements:On,floatingStyles:nh}),[_e,oE,nE,On,nh])}const arrow$1=ie=>{function ee(te){return{}.hasOwnProperty.call(te,"current")}return{name:"arrow",options:ie,fn(te){const{element:se,padding:ne}=typeof ie=="function"?ie(te):ie;return se&&ee(se)?se.current!=null?arrow$2({element:se.current,padding:ne}).fn(te):{}:se?arrow$2({element:se,padding:ne}).fn(te):{}}}},offset=(ie,ee)=>({...offset$1(ie),options:[ie,ee]}),shift=(ie,ee)=>({...shift$1(ie),options:[ie,ee]}),limitShift=(ie,ee)=>({...limitShift$1(ie),options:[ie,ee]}),flip=(ie,ee)=>({...flip$1(ie),options:[ie,ee]}),size=(ie,ee)=>({...size$1(ie),options:[ie,ee]}),inline=(ie,ee)=>({...inline$1(ie),options:[ie,ee]}),arrow=(ie,ee)=>({...arrow$1(ie),options:[ie,ee]}),SafeReact={...React$1},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(ie=>ie());function useEffectEvent(ie){const ee=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{ee.current=ie}),reactExports.useCallback(function(){for(var te=arguments.length,se=new Array(te),ne=0;ne<te;ne++)se[ne]=arguments[ne];return ee.current==null?void 0:ee.current(...se)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count$1=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count$1++;function useFloatingId(){const[ie,ee]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{ie==null&&ee(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),ie}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const ie=new Map;return{emit(ee,te){var se;(se=ie.get(ee))==null||se.forEach(ne=>ne(te))},on(ee,te){ie.set(ee,[...ie.get(ee)||[],te])},off(ee,te){var se;ie.set(ee,((se=ie.get(ee))==null?void 0:se.filter(ne=>ne!==te))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var ie;return((ie=reactExports.useContext(FloatingNodeContext))==null?void 0:ie.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(ie){const{open:ee=!1,onOpenChange:te,elements:se}=ie,ne=useId(),le=reactExports.useRef({}),[ue]=reactExports.useState(()=>createPubSub()),ce=useFloatingParentNodeId()!=null,[he,de]=reactExports.useState(se.reference),_e=useEffectEvent((be,Pe,Ne)=>{le.current.openEvent=be?Pe:void 0,ue.emit("openchange",{open:be,event:Pe,reason:Ne,nested:ce}),te==null||te(be,Pe,Ne)}),fe=reactExports.useMemo(()=>({setPositionReference:de}),[]),ye=reactExports.useMemo(()=>({reference:he||se.reference||null,floating:se.floating||null,domReference:se.reference}),[he,se.reference,se.floating]);return reactExports.useMemo(()=>({dataRef:le,open:ee,onOpenChange:_e,elements:ye,events:ue,floatingId:ne,refs:fe}),[ee,_e,ye,ue,ne,fe])}function useFloating(ie){ie===void 0&&(ie={});const{nodeId:ee}=ie,te=useFloatingRootContext({...ie,elements:{reference:null,floating:null,...ie.elements}}),se=ie.rootContext||te,ne=se.elements,[le,ue]=reactExports.useState(null),[ce,he]=reactExports.useState(null),_e=(ne==null?void 0:ne.domReference)||le,fe=reactExports.useRef(null),ye=useFloatingTree();index(()=>{_e&&(fe.current=_e)},[_e]);const be=useFloating$1({...ie,elements:{...ne,...ce&&{reference:ce}}}),Pe=reactExports.useCallback(Ge=>{const Be=isElement(Ge)?{getBoundingClientRect:()=>Ge.getBoundingClientRect(),contextElement:Ge}:Ge;he(Be),be.refs.setReference(Be)},[be.refs]),Ne=reactExports.useCallback(Ge=>{(isElement(Ge)||Ge===null)&&(fe.current=Ge,ue(Ge)),(isElement(be.refs.reference.current)||be.refs.reference.current===null||Ge!==null&&!isElement(Ge))&&be.refs.setReference(Ge)},[be.refs]),we=reactExports.useMemo(()=>({...be.refs,setReference:Ne,setPositionReference:Pe,domReference:fe}),[be.refs,Ne,Pe]),De=reactExports.useMemo(()=>({...be.elements,domReference:_e}),[be.elements,_e]),$e=reactExports.useMemo(()=>({...be,...se,refs:we,elements:De,nodeId:ee}),[be,we,De,ee,se]);return index(()=>{se.dataRef.current.floatingContext=$e;const Ge=ye==null?void 0:ye.nodesRef.current.find(Be=>Be.id===ee);Ge&&(Ge.context=$e)}),reactExports.useMemo(()=>({...be,context:$e,refs:we,elements:De}),[be,we,De,$e])}function getFloatingPosition(ie,ee){if(ie==="rtl"&&(ee.includes("right")||ee.includes("left"))){const[te,se]=ee.split("-"),ne=te==="right"?"left":"right";return se===void 0?ne:`${ne}-${se}`}return ee}function horizontalSide(ie,ee,te,se){return ie==="center"||se==="center"?{top:ee}:ie==="end"?{bottom:te}:ie==="start"?{top:te}:{}}function verticalSide(ie,ee,te,se,ne){return ie==="center"||se==="center"?{left:ee}:ie==="end"?{[ne==="ltr"?"right":"left"]:te}:ie==="start"?{[ne==="ltr"?"left":"right"]:te}:{}}const radiusByFloatingSide={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function getArrowPositionStyles({position:ie,arrowSize:ee,arrowOffset:te,arrowRadius:se,arrowPosition:ne,arrowX:le,arrowY:ue,dir:ce}){const[he,de="center"]=ie.split("-"),_e={width:ee,height:ee,transform:"rotate(45deg)",position:"absolute",[radiusByFloatingSide[he]]:se},fe=-ee/2;return he==="left"?{..._e,...horizontalSide(de,ue,te,ne),right:fe,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:he==="right"?{..._e,...horizontalSide(de,ue,te,ne),left:fe,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:he==="top"?{..._e,...verticalSide(de,le,te,ne,ce),bottom:fe,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:he==="bottom"?{..._e,...verticalSide(de,le,te,ne,ce),top:fe,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const FloatingArrow=reactExports.forwardRef(({position:ie,arrowSize:ee,arrowOffset:te,arrowRadius:se,arrowPosition:ne,visible:le,arrowX:ue,arrowY:ce,style:he,...de},_e)=>{const{dir:fe}=useDirection();return le?jsxRuntimeExports.jsx("div",{...de,ref:_e,style:{...he,...getArrowPositionStyles({position:ie,arrowSize:ee,arrowOffset:te,arrowRadius:se,arrowPosition:ne,dir:fe,arrowX:ue,arrowY:ce})}}):null});FloatingArrow.displayName="@mantine/core/FloatingArrow";var classes$f={root:"m_9814e45f"};const defaultProps$K={zIndex:getDefaultZIndex("modal")},varsResolver$k=(ie,{gradient:ee,color:te,backgroundOpacity:se,blur:ne,radius:le,zIndex:ue})=>({root:{"--overlay-bg":ee||(te!==void 0||se!==void 0)&&rgba(te||"#000",se??.6)||void 0,"--overlay-filter":ne?`blur(${rem(ne)})`:void 0,"--overlay-radius":le===void 0?void 0:getRadius(le),"--overlay-z-index":ue==null?void 0:ue.toString()}}),Overlay=polymorphicFactory((ie,ee)=>{const te=useProps("Overlay",defaultProps$K,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,fixed:de,center:_e,children:fe,radius:ye,zIndex:be,gradient:Pe,blur:Ne,color:we,backgroundOpacity:De,mod:$e,...Ge}=te,Be=useStyles({name:"Overlay",props:te,classes:classes$f,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he,varsResolver:varsResolver$k});return jsxRuntimeExports.jsx(Box,{ref:ee,...Be("root"),mod:[{center:_e,fixed:de},$e],...Ge,children:fe})});Overlay.classes=classes$f,Overlay.displayName="@mantine/core/Overlay";function createPortalNode(ie){const ee=document.createElement("div");return ee.setAttribute("data-portal","true"),typeof ie.className=="string"&&ee.classList.add(...ie.className.split(" ").filter(Boolean)),typeof ie.style=="object"&&Object.assign(ee.style,ie.style),typeof ie.id=="string"&&ee.setAttribute("id",ie.id),ee}const defaultProps$J={},Portal=reactExports.forwardRef((ie,ee)=>{const{children:te,target:se,...ne}=useProps("Portal",defaultProps$J,ie),[le,ue]=reactExports.useState(!1),ce=reactExports.useRef(null);return useIsomorphicEffect(()=>(ue(!0),ce.current=se?typeof se=="string"?document.querySelector(se):se:createPortalNode(ne),assignRef(ee,ce.current),!se&&ce.current&&document.body.appendChild(ce.current),()=>{!se&&ce.current&&document.body.removeChild(ce.current)}),[se]),!le||!ce.current?null:reactDomExports.createPortal(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:te}),ce.current)});Portal.displayName="@mantine/core/Portal";function OptionalPortal({withinPortal:ie=!0,children:ee,...te}){return ie?jsxRuntimeExports.jsx(Portal,{...te,children:ee}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ee})}OptionalPortal.displayName="@mantine/core/OptionalPortal";const popIn=ie=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${ie==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),transitions={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...popIn("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...popIn("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...popIn("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...popIn("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...popIn("top"),common:{transformOrigin:"top right"}}},transitionStatuses={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function getTransitionStyles({transition:ie,state:ee,duration:te,timingFunction:se}){const ne={transitionDuration:`${te}ms`,transitionTimingFunction:se};return typeof ie=="string"?ie in transitions?{transitionProperty:transitions[ie].transitionProperty,...ne,...transitions[ie].common,...transitions[ie][transitionStatuses[ee]]}:{}:{transitionProperty:ie.transitionProperty,...ne,...ie.common,...ie[transitionStatuses[ee]]}}function useTransition({duration:ie,exitDuration:ee,timingFunction:te,mounted:se,onEnter:ne,onExit:le,onEntered:ue,onExited:ce,enterDelay:he,exitDelay:de}){const _e=useMantineTheme(),fe=useReducedMotion(),ye=_e.respectReducedMotion?fe:!1,[be,Pe]=reactExports.useState(ye?0:ie),[Ne,we]=reactExports.useState(se?"entered":"exited"),De=reactExports.useRef(-1),$e=reactExports.useRef(-1),Ge=reactExports.useRef(-1),Be=$t=>{const ut=$t?ne:le,Ti=$t?ue:ce;window.clearTimeout(De.current);const Hi=ye?0:$t?ie:ee;Pe(Hi),Hi===0?(typeof ut=="function"&&ut(),typeof Ti=="function"&&Ti(),we($t?"entered":"exited")):Ge.current=requestAnimationFrame(()=>{ReactDOM.flushSync(()=>{we($t?"pre-entering":"pre-exiting")}),Ge.current=requestAnimationFrame(()=>{typeof ut=="function"&&ut(),we($t?"entering":"exiting"),De.current=window.setTimeout(()=>{typeof Ti=="function"&&Ti(),we($t?"entered":"exited")},Hi)})})},ze=$t=>{if(window.clearTimeout($e.current),typeof($t?he:de)!="number"){Be($t);return}$e.current=window.setTimeout(()=>{Be($t)},$t?he:de)};return useDidUpdate(()=>{ze(se)},[se]),reactExports.useEffect(()=>()=>{window.clearTimeout(De.current),cancelAnimationFrame(Ge.current)},[]),{transitionDuration:be,transitionStatus:Ne,transitionTimingFunction:te||"ease"}}function Transition({keepMounted:ie,transition:ee="fade",duration:te=250,exitDuration:se=te,mounted:ne,children:le,timingFunction:ue="ease",onExit:ce,onEntered:he,onEnter:de,onExited:_e,enterDelay:fe,exitDelay:ye}){const{transitionDuration:be,transitionStatus:Pe,transitionTimingFunction:Ne}=useTransition({mounted:ne,exitDuration:se,duration:te,timingFunction:ue,onExit:ce,onEntered:he,onEnter:de,onExited:_e,enterDelay:fe,exitDelay:ye});return be===0?ne?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:le({})}):ie?le({display:"none"}):null:Pe==="exited"?ie?le({display:"none"}):null:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:le(getTransitionStyles({transition:ee,duration:be,state:Pe,timingFunction:Ne}))})}Transition.displayName="@mantine/core/Transition";const[PopoverContextProvider,usePopoverContext]=createSafeContext("Popover component was not found in the tree");function FocusTrap({children:ie,active:ee=!0,refProp:te="ref",innerRef:se}){const ne=useFocusTrap(ee),le=useMergedRef(ne,se);return isElement$1(ie)?reactExports.cloneElement(ie,{[te]:le}):ie}function FocusTrapInitialFocus(ie){return jsxRuntimeExports.jsx(VisuallyHidden,{tabIndex:-1,"data-autofocus":!0,...ie})}FocusTrap.displayName="@mantine/core/FocusTrap",FocusTrapInitialFocus.displayName="@mantine/core/FocusTrapInitialFocus",FocusTrap.InitialFocus=FocusTrapInitialFocus;var classes$e={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const defaultProps$I={},PopoverDropdown=factory((ie,ee)=>{var we,De,$e,Ge;const te=useProps("PopoverDropdown",defaultProps$I,ie),{className:se,style:ne,vars:le,children:ue,onKeyDownCapture:ce,variant:he,classNames:de,styles:_e,...fe}=te,ye=usePopoverContext(),be=useFocusReturn({opened:ye.opened,shouldReturnFocus:ye.returnFocus}),Pe=ye.withRoles?{"aria-labelledby":ye.getTargetId(),id:ye.getDropdownId(),role:"dialog",tabIndex:-1}:{},Ne=useMergedRef(ee,ye.floating);return ye.disabled?null:jsxRuntimeExports.jsx(OptionalPortal,{...ye.portalProps,withinPortal:ye.withinPortal,children:jsxRuntimeExports.jsx(Transition,{mounted:ye.opened,...ye.transitionProps,transition:((we=ye.transitionProps)==null?void 0:we.transition)||"fade",duration:((De=ye.transitionProps)==null?void 0:De.duration)??150,keepMounted:ye.keepMounted,exitDuration:typeof(($e=ye.transitionProps)==null?void 0:$e.exitDuration)=="number"?ye.transitionProps.exitDuration:(Ge=ye.transitionProps)==null?void 0:Ge.duration,children:Be=>jsxRuntimeExports.jsx(FocusTrap,{active:ye.trapFocus&&ye.opened,innerRef:Ne,children:jsxRuntimeExports.jsxs(Box,{...Pe,...fe,variant:he,onKeyDownCapture:closeOnEscape(ye.onClose,{active:ye.closeOnEscape,onTrigger:be,onKeyDown:ce}),"data-position":ye.placement,"data-fixed":ye.floatingStrategy==="fixed"||void 0,...ye.getStyles("dropdown",{className:se,props:te,classNames:de,styles:_e,style:[{...Be,zIndex:ye.zIndex,top:ye.y??0,left:ye.x??0,width:ye.width==="target"?void 0:rem(ye.width)},ye.resolvedStyles.dropdown,_e==null?void 0:_e.dropdown,ne]}),children:[ue,jsxRuntimeExports.jsx(FloatingArrow,{ref:ye.arrowRef,arrowX:ye.arrowX,arrowY:ye.arrowY,visible:ye.withArrow,position:ye.placement,arrowSize:ye.arrowSize,arrowRadius:ye.arrowRadius,arrowOffset:ye.arrowOffset,arrowPosition:ye.arrowPosition,...ye.getStyles("arrow",{props:te,classNames:de,styles:_e})})]})})})})});PopoverDropdown.classes=classes$e,PopoverDropdown.displayName="@mantine/core/PopoverDropdown";const defaultProps$H={refProp:"ref",popupType:"dialog"},PopoverTarget=factory((ie,ee)=>{const{children:te,refProp:se,popupType:ne,...le}=useProps("PopoverTarget",defaultProps$H,ie);if(!isElement$1(te))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const ue=le,ce=usePopoverContext(),he=useMergedRef(ce.reference,getRefProp(te),ee),de=ce.withRoles?{"aria-haspopup":ne,"aria-expanded":ce.opened,"aria-controls":ce.getDropdownId(),id:ce.getTargetId()}:{};return reactExports.cloneElement(te,{...ue,...de,...ce.targetProps,className:clsx(ce.targetProps.className,ue.className,te.props.className),[se]:he,...ce.controlled?null:{onClick:ce.onToggle}})});PopoverTarget.displayName="@mantine/core/PopoverTarget";function useFloatingAutoUpdate({opened:ie,floating:ee,position:te,positionDependencies:se}){const[ne,le]=reactExports.useState(0);reactExports.useEffect(()=>{if(ee.refs.reference.current&&ee.refs.floating.current&&ie)return autoUpdate(ee.refs.reference.current,ee.refs.floating.current,ee.update)},[ee.refs.reference.current,ee.refs.floating.current,ie,ne,te]),useDidUpdate(()=>{ee.update()},se),useDidUpdate(()=>{le(ue=>ue+1)},[ie])}function getDefaultMiddlewares(ie){if(ie===void 0)return{shift:!0,flip:!0};const ee={...ie};return ie.shift===void 0&&(ee.shift=!0),ie.flip===void 0&&(ee.flip=!0),ee}function getPopoverMiddlewares(ie,ee){const te=getDefaultMiddlewares(ie.middlewares),se=[offset(ie.offset)];return te.shift&&se.push(shift(typeof te.shift=="boolean"?{limiter:limitShift(),padding:5}:{limiter:limitShift(),padding:5,...te.shift})),te.flip&&se.push(typeof te.flip=="boolean"?flip():flip(te.flip)),te.inline&&se.push(typeof te.inline=="boolean"?inline():inline(te.inline)),se.push(arrow({element:ie.arrowRef,padding:ie.arrowOffset})),(te.size||ie.width==="target")&&se.push(size({...typeof te.size=="boolean"?{}:te.size,apply({rects:ne,availableWidth:le,availableHeight:ue,...ce}){var _e;const de=((_e=ee().refs.floating.current)==null?void 0:_e.style)??{};te.size&&(typeof te.size=="object"&&te.size.apply?te.size.apply({rects:ne,availableWidth:le,availableHeight:ue,...ce}):Object.assign(de,{maxWidth:`${le}px`,maxHeight:`${ue}px`})),ie.width==="target"&&Object.assign(de,{width:`${ne.reference.width}px`})}})),se}function usePopover(ie){const[ee,te]=useUncontrolled({value:ie.opened,defaultValue:ie.defaultOpened,finalValue:!1,onChange:ie.onChange}),se=reactExports.useRef(ee),ne=()=>{ee&&te(!1)},le=()=>te(!ee),ue=useFloating({strategy:ie.strategy,placement:ie.position,middleware:getPopoverMiddlewares(ie,()=>ue)});return useFloatingAutoUpdate({opened:ee,position:ie.position,positionDependencies:ie.positionDependencies||[],floating:ue}),useDidUpdate(()=>{var ce;(ce=ie.onPositionChange)==null||ce.call(ie,ue.placement)},[ue.placement]),useDidUpdate(()=>{var ce,he;ee!==se.current&&(ee?(he=ie.onOpen)==null||he.call(ie):(ce=ie.onClose)==null||ce.call(ie)),se.current=ee},[ee,ie.onClose,ie.onOpen]),{floating:ue,controlled:typeof ie.opened=="boolean",opened:ee,onClose:ne,onToggle:le}}const defaultProps$G={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:getDefaultZIndex("popover"),__staticSelector:"Popover",width:"max-content"},varsResolver$j=(ie,{radius:ee,shadow:te})=>({dropdown:{"--popover-radius":ee===void 0?void 0:getRadius(ee),"--popover-shadow":getShadow(te)}});function Popover(ie){var XE,pR,CR,MR,yR,VR;const ee=useProps("Popover",defaultProps$G,ie),{children:te,position:se,offset:ne,onPositionChange:le,positionDependencies:ue,opened:ce,transitionProps:he,onExitTransitionEnd:de,onEnterTransitionEnd:_e,width:fe,middlewares:ye,withArrow:be,arrowSize:Pe,arrowOffset:Ne,arrowRadius:we,arrowPosition:De,unstyled:$e,classNames:Ge,styles:Be,closeOnClickOutside:ze,withinPortal:$t,portalProps:ut,closeOnEscape:Ti,clickOutsideEvents:Hi,trapFocus:bn,onClose:gd,onOpen:Pm,onChange:oE,zIndex:aE,radius:nE,shadow:On,id:nh,defaultOpened:Hn,__staticSelector:Xp,withRoles:Jp,disabled:md,returnFocus:eE,variant:hE,keepMounted:mE,vars:fE,floatingStrategy:yE,withOverlay:AE,overlayProps:bE,...ME}=ee,SE=useStyles({name:Xp,props:ee,classes:classes$e,classNames:Ge,styles:Be,unstyled:$e,rootSelector:"dropdown",vars:fE,varsResolver:varsResolver$j}),{resolvedStyles:jE}=useResolvedStylesApi({classNames:Ge,styles:Be,props:ee}),$E=reactExports.useRef(null),[zE,YE]=reactExports.useState(null),[HE,VE]=reactExports.useState(null),{dir:TE}=useDirection(),xE=useId$1(nh),BE=usePopover({middlewares:ye,width:fe,position:getFloatingPosition(TE,se),offset:typeof ne=="number"?ne+(be?Pe/2:0):ne,arrowRef:$E,arrowOffset:Ne,onPositionChange:le,positionDependencies:ue,opened:ce,defaultOpened:Hn,onChange:oE,onOpen:Pm,onClose:gd,strategy:yE});useClickOutside(()=>ze&&BE.onClose(),Hi,[zE,HE]);const eR=reactExports.useCallback(jR=>{YE(jR),BE.floating.refs.setReference(jR)},[BE.floating.refs.setReference]),sR=reactExports.useCallback(jR=>{VE(jR),BE.floating.refs.setFloating(jR)},[BE.floating.refs.setFloating]),ZE=reactExports.useCallback(()=>{var jR;(jR=he==null?void 0:he.onExited)==null||jR.call(he),de==null||de()},[he==null?void 0:he.onExited,de]),vE=reactExports.useCallback(()=>{var jR;(jR=he==null?void 0:he.onEntered)==null||jR.call(he),_e==null||_e()},[he==null?void 0:he.onEntered,_e]);return jsxRuntimeExports.jsxs(PopoverContextProvider,{value:{returnFocus:eE,disabled:md,controlled:BE.controlled,reference:eR,floating:sR,x:BE.floating.x,y:BE.floating.y,arrowX:(CR=(pR=(XE=BE.floating)==null?void 0:XE.middlewareData)==null?void 0:pR.arrow)==null?void 0:CR.x,arrowY:(VR=(yR=(MR=BE.floating)==null?void 0:MR.middlewareData)==null?void 0:yR.arrow)==null?void 0:VR.y,opened:BE.opened,arrowRef:$E,transitionProps:{...he,onExited:ZE,onEntered:vE},width:fe,withArrow:be,arrowSize:Pe,arrowOffset:Ne,arrowRadius:we,arrowPosition:De,placement:BE.floating.placement,trapFocus:bn,withinPortal:$t,portalProps:ut,zIndex:aE,radius:nE,shadow:On,closeOnEscape:Ti,onClose:BE.onClose,onToggle:BE.onToggle,getTargetId:()=>`${xE}-target`,getDropdownId:()=>`${xE}-dropdown`,withRoles:Jp,targetProps:ME,__staticSelector:Xp,classNames:Ge,styles:Be,unstyled:$e,variant:hE,keepMounted:mE,getStyles:SE,resolvedStyles:jE,floatingStrategy:yE},children:[te,AE&&jsxRuntimeExports.jsx(Transition,{transition:"fade",mounted:BE.opened,duration:(he==null?void 0:he.duration)||250,exitDuration:(he==null?void 0:he.exitDuration)||250,children:jR=>jsxRuntimeExports.jsx(OptionalPortal,{withinPortal:$t,children:jsxRuntimeExports.jsx(Overlay,{...bE,...SE("overlay",{className:bE==null?void 0:bE.className,style:[jR,bE==null?void 0:bE.style]})})})})]})}Popover.Target=PopoverTarget,Popover.Dropdown=PopoverDropdown,Popover.displayName="@mantine/core/Popover",Popover.extend=ie=>ie;var classes$d={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const Bars=reactExports.forwardRef(({className:ie,...ee},te)=>jsxRuntimeExports.jsxs(Box,{component:"span",className:clsx(classes$d.barsLoader,ie),...ee,ref:te,children:[jsxRuntimeExports.jsx("span",{className:classes$d.bar}),jsxRuntimeExports.jsx("span",{className:classes$d.bar}),jsxRuntimeExports.jsx("span",{className:classes$d.bar})]}));Bars.displayName="@mantine/core/Bars";const Dots=reactExports.forwardRef(({className:ie,...ee},te)=>jsxRuntimeExports.jsxs(Box,{component:"span",className:clsx(classes$d.dotsLoader,ie),...ee,ref:te,children:[jsxRuntimeExports.jsx("span",{className:classes$d.dot}),jsxRuntimeExports.jsx("span",{className:classes$d.dot}),jsxRuntimeExports.jsx("span",{className:classes$d.dot})]}));Dots.displayName="@mantine/core/Dots";const Oval=reactExports.forwardRef(({className:ie,...ee},te)=>jsxRuntimeExports.jsx(Box,{component:"span",className:clsx(classes$d.ovalLoader,ie),...ee,ref:te}));Oval.displayName="@mantine/core/Oval";const defaultLoaders={bars:Bars,oval:Oval,dots:Dots},defaultProps$F={loaders:defaultLoaders,type:"oval"},varsResolver$i=(ie,{size:ee,color:te})=>({root:{"--loader-size":getSize(ee,"loader-size"),"--loader-color":te?getThemeColor(te,ie):void 0}}),Loader=factory((ie,ee)=>{const te=useProps("Loader",defaultProps$F,ie),{size:se,color:ne,type:le,vars:ue,className:ce,style:he,classNames:de,styles:_e,unstyled:fe,loaders:ye,variant:be,children:Pe,...Ne}=te,we=useStyles({name:"Loader",props:te,classes:classes$d,className:ce,style:he,classNames:de,styles:_e,unstyled:fe,vars:ue,varsResolver:varsResolver$i});return Pe?jsxRuntimeExports.jsx(Box,{...we("root"),ref:ee,...Ne,children:Pe}):jsxRuntimeExports.jsx(Box,{...we("root"),ref:ee,component:ye[le],variant:be,size:se,...Ne})});Loader.defaultLoaders=defaultLoaders,Loader.classes=classes$d,Loader.displayName="@mantine/core/Loader";var classes$c={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const defaultProps$E={orientation:"horizontal"},varsResolver$h=(ie,{borderWidth:ee})=>({group:{"--ai-border-width":rem(ee)}}),ActionIconGroup=factory((ie,ee)=>{const te=useProps("ActionIconGroup",defaultProps$E,ie),{className:se,style:ne,classNames:le,styles:ue,unstyled:ce,orientation:he,vars:de,borderWidth:_e,variant:fe,mod:ye,...be}=useProps("ActionIconGroup",defaultProps$E,ie),Pe=useStyles({name:"ActionIconGroup",props:te,classes:classes$c,className:se,style:ne,classNames:le,styles:ue,unstyled:ce,vars:de,varsResolver:varsResolver$h,rootSelector:"group"});return jsxRuntimeExports.jsx(Box,{...Pe("group"),ref:ee,variant:fe,mod:[{"data-orientation":he},ye],role:"group",...be})});ActionIconGroup.classes=classes$c,ActionIconGroup.displayName="@mantine/core/ActionIconGroup";const defaultProps$D={},varsResolver$g=(ie,{radius:ee,color:te,gradient:se,variant:ne,autoContrast:le,size:ue})=>{const ce=ie.variantColorResolver({color:te||ie.primaryColor,theme:ie,gradient:se,variant:ne||"filled",autoContrast:le});return{groupSection:{"--section-height":getSize(ue,"section-height"),"--section-padding-x":getSize(ue,"section-padding-x"),"--section-fz":getFontSize(ue),"--section-radius":ee===void 0?void 0:getRadius(ee),"--section-bg":te||ne?ce.background:void 0,"--section-color":ce.color,"--section-bd":te||ne?ce.border:void 0}}},ActionIconGroupSection=factory((ie,ee)=>{const te=useProps("ActionIconGroupSection",defaultProps$D,ie),{className:se,style:ne,classNames:le,styles:ue,unstyled:ce,vars:he,variant:de,gradient:_e,radius:fe,autoContrast:ye,...be}=useProps("ActionIconGroupSection",defaultProps$D,ie),Pe=useStyles({name:"ActionIconGroupSection",props:te,classes:classes$c,className:se,style:ne,classNames:le,styles:ue,unstyled:ce,vars:he,varsResolver:varsResolver$g,rootSelector:"groupSection"});return jsxRuntimeExports.jsx(Box,{...Pe("groupSection"),ref:ee,variant:de,...be})});ActionIconGroupSection.classes=classes$c,ActionIconGroupSection.displayName="@mantine/core/ActionIconGroupSection";const defaultProps$C={},varsResolver$f=(ie,{size:ee,radius:te,variant:se,gradient:ne,color:le,autoContrast:ue})=>{const ce=ie.variantColorResolver({color:le||ie.primaryColor,theme:ie,gradient:ne,variant:se||"filled",autoContrast:ue});return{root:{"--ai-size":getSize(ee,"ai-size"),"--ai-radius":te===void 0?void 0:getRadius(te),"--ai-bg":le||se?ce.background:void 0,"--ai-hover":le||se?ce.hover:void 0,"--ai-hover-color":le||se?ce.hoverColor:void 0,"--ai-color":ce.color,"--ai-bd":le||se?ce.border:void 0}}},ActionIcon=polymorphicFactory((ie,ee)=>{const te=useProps("ActionIcon",defaultProps$C,ie),{className:se,unstyled:ne,variant:le,classNames:ue,styles:ce,style:he,loading:de,loaderProps:_e,size:fe,color:ye,radius:be,__staticSelector:Pe,gradient:Ne,vars:we,children:De,disabled:$e,"data-disabled":Ge,autoContrast:Be,mod:ze,...$t}=te,ut=useStyles({name:["ActionIcon",Pe],props:te,className:se,style:he,classes:classes$c,classNames:ue,styles:ce,unstyled:ne,vars:we,varsResolver:varsResolver$f});return jsxRuntimeExports.jsxs(UnstyledButton,{...ut("root",{active:!$e&&!de&&!Ge}),...$t,unstyled:ne,variant:le,size:fe,disabled:$e||de,ref:ee,mod:[{loading:de,disabled:$e||Ge},ze],children:[jsxRuntimeExports.jsx(Transition,{mounted:!!de,transition:"slide-down",duration:150,children:Ti=>jsxRuntimeExports.jsx(Box,{component:"span",...ut("loader",{style:Ti}),"aria-hidden":!0,children:jsxRuntimeExports.jsx(Loader,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",..._e})})}),jsxRuntimeExports.jsx(Box,{component:"span",mod:{loading:de},...ut("icon"),children:De})]})});ActionIcon.classes=classes$c,ActionIcon.displayName="@mantine/core/ActionIcon",ActionIcon.Group=ActionIconGroup,ActionIcon.GroupSection=ActionIconGroupSection;const CloseIcon=reactExports.forwardRef(({size:ie="var(--cb-icon-size, 70%)",style:ee,...te},se)=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...ee,width:ie,height:ie},ref:se,...te,children:jsxRuntimeExports.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));CloseIcon.displayName="@mantine/core/CloseIcon";var classes$b={root:"m_86a44da5","root--subtle":"m_220c80f2"};const defaultProps$B={variant:"subtle"},varsResolver$e=(ie,{size:ee,radius:te,iconSize:se})=>({root:{"--cb-size":getSize(ee,"cb-size"),"--cb-radius":te===void 0?void 0:getRadius(te),"--cb-icon-size":rem(se)}}),CloseButton=polymorphicFactory((ie,ee)=>{const te=useProps("CloseButton",defaultProps$B,ie),{iconSize:se,children:ne,vars:le,radius:ue,className:ce,classNames:he,style:de,styles:_e,unstyled:fe,"data-disabled":ye,disabled:be,variant:Pe,icon:Ne,mod:we,__staticSelector:De,...$e}=te,Ge=useStyles({name:De||"CloseButton",props:te,className:ce,style:de,classes:classes$b,classNames:he,styles:_e,unstyled:fe,vars:le,varsResolver:varsResolver$e});return jsxRuntimeExports.jsxs(UnstyledButton,{ref:ee,...$e,unstyled:fe,variant:Pe,disabled:be,mod:[{disabled:be||ye},we],...Ge("root",{variant:Pe,active:!be&&!ye}),children:[Ne||jsxRuntimeExports.jsx(CloseIcon,{}),ne]})});CloseButton.classes=classes$b,CloseButton.displayName="@mantine/core/CloseButton";const[InputContext,useInputContext]=createOptionalContext({size:"sm"}),defaultProps$A={},InputClearButton=factory((ie,ee)=>{const te=useProps("InputClearButton",defaultProps$A,ie),{size:se,variant:ne,vars:le,classNames:ue,styles:ce,...he}=te,de=useInputContext(),{resolvedClassNames:_e,resolvedStyles:fe}=useResolvedStylesApi({classNames:ue,styles:ce,props:te});return jsxRuntimeExports.jsx(CloseButton,{variant:ne||"transparent",ref:ee,size:se||(de==null?void 0:de.size)||"sm",classNames:_e,styles:fe,__staticSelector:"InputClearButton",...he})});InputClearButton.displayName="@mantine/core/InputClearButton";const[InputWrapperProvider,useInputWrapperContext]=createOptionalContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var classes$a={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const defaultProps$z={},varsResolver$d=(ie,{size:ee})=>({description:{"--input-description-size":ee===void 0?void 0:`calc(${getFontSize(ee)} - ${rem(2)})`}}),InputDescription=factory((ie,ee)=>{const te=useProps("InputDescription",defaultProps$z,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,size:de,__staticSelector:_e,__inheritStyles:fe=!0,variant:ye,...be}=useProps("InputDescription",defaultProps$z,te),Pe=useInputWrapperContext(),Ne=useStyles({name:["InputWrapper",_e],props:te,classes:classes$a,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,rootSelector:"description",vars:he,varsResolver:varsResolver$d}),we=fe&&(Pe==null?void 0:Pe.getStyles)||Ne;return jsxRuntimeExports.jsx(Box,{component:"p",ref:ee,variant:ye,size:de,...we("description",Pe!=null&&Pe.getStyles?{className:ne,style:le}:void 0),...be})});InputDescription.classes=classes$a,InputDescription.displayName="@mantine/core/InputDescription";const defaultProps$y={},varsResolver$c=(ie,{size:ee})=>({error:{"--input-error-size":ee===void 0?void 0:`calc(${getFontSize(ee)} - ${rem(2)})`}}),InputError=factory((ie,ee)=>{const te=useProps("InputError",defaultProps$y,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,size:de,__staticSelector:_e,__inheritStyles:fe=!0,variant:ye,...be}=te,Pe=useStyles({name:["InputWrapper",_e],props:te,classes:classes$a,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,rootSelector:"error",vars:he,varsResolver:varsResolver$c}),Ne=useInputWrapperContext(),we=fe&&(Ne==null?void 0:Ne.getStyles)||Pe;return jsxRuntimeExports.jsx(Box,{component:"p",ref:ee,variant:ye,size:de,...we("error",Ne!=null&&Ne.getStyles?{className:ne,style:le}:void 0),...be})});InputError.classes=classes$a,InputError.displayName="@mantine/core/InputError";const defaultProps$x={labelElement:"label"},varsResolver$b=(ie,{size:ee})=>({label:{"--input-label-size":getFontSize(ee),"--input-asterisk-color":void 0}}),InputLabel=factory((ie,ee)=>{const te=useProps("InputLabel",defaultProps$x,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,labelElement:de,size:_e,required:fe,htmlFor:ye,onMouseDown:be,children:Pe,__staticSelector:Ne,variant:we,mod:De,...$e}=useProps("InputLabel",defaultProps$x,te),Ge=useStyles({name:["InputWrapper",Ne],props:te,classes:classes$a,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,rootSelector:"label",vars:he,varsResolver:varsResolver$b}),Be=useInputWrapperContext(),ze=(Be==null?void 0:Be.getStyles)||Ge;return jsxRuntimeExports.jsxs(Box,{...ze("label",Be!=null&&Be.getStyles?{className:ne,style:le}:void 0),component:de,variant:we,size:_e,ref:ee,htmlFor:de==="label"?ye:void 0,mod:[{required:fe},De],onMouseDown:$t=>{be==null||be($t),!$t.defaultPrevented&&$t.detail>1&&$t.preventDefault()},...$e,children:[Pe,fe&&jsxRuntimeExports.jsx("span",{...ze("required"),"aria-hidden":!0,children:" *"})]})});InputLabel.classes=classes$a,InputLabel.displayName="@mantine/core/InputLabel";const defaultProps$w={},InputPlaceholder=factory((ie,ee)=>{const te=useProps("InputPlaceholder",defaultProps$w,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,__staticSelector:de,variant:_e,error:fe,mod:ye,...be}=useProps("InputPlaceholder",defaultProps$w,te),Pe=useStyles({name:["InputPlaceholder",de],props:te,classes:classes$a,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,rootSelector:"placeholder"});return jsxRuntimeExports.jsx(Box,{...Pe("placeholder"),mod:[{error:!!fe},ye],component:"span",variant:_e,ref:ee,...be})});InputPlaceholder.classes=classes$a,InputPlaceholder.displayName="@mantine/core/InputPlaceholder";function getInputOffsets(ie,{hasDescription:ee,hasError:te}){const se=ie.findIndex(he=>he==="input"),ne=ie.slice(0,se),le=ie.slice(se+1),ue=ee&&ne.includes("description")||te&&ne.includes("error");return{offsetBottom:ee&&le.includes("description")||te&&le.includes("error"),offsetTop:ue}}const defaultProps$v={labelElement:"label",inputContainer:ie=>ie,inputWrapperOrder:["label","description","input","error"]},varsResolver$a=(ie,{size:ee})=>({label:{"--input-label-size":getFontSize(ee),"--input-asterisk-color":void 0},error:{"--input-error-size":ee===void 0?void 0:`calc(${getFontSize(ee)} - ${rem(2)})`},description:{"--input-description-size":ee===void 0?void 0:`calc(${getFontSize(ee)} - ${rem(2)})`}}),InputWrapper=factory((ie,ee)=>{const te=useProps("InputWrapper",defaultProps$v,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,size:de,variant:_e,__staticSelector:fe,inputContainer:ye,inputWrapperOrder:be,label:Pe,error:Ne,description:we,labelProps:De,descriptionProps:$e,errorProps:Ge,labelElement:Be,children:ze,withAsterisk:$t,id:ut,required:Ti,__stylesApiProps:Hi,mod:bn,...gd}=te,Pm=useStyles({name:["InputWrapper",fe],props:Hi||te,classes:classes$a,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he,varsResolver:varsResolver$a}),oE={size:de,variant:_e,__staticSelector:fe},aE=useId$1(ut),nE=typeof $t=="boolean"?$t:Ti,On=(Ge==null?void 0:Ge.id)||`${aE}-error`,nh=($e==null?void 0:$e.id)||`${aE}-description`,Hn=aE,Xp=!!Ne&&typeof Ne!="boolean",Jp=!!we,md=`${Xp?On:""} ${Jp?nh:""}`,eE=md.trim().length>0?md.trim():void 0,hE=(De==null?void 0:De.id)||`${aE}-label`,mE=Pe&&jsxRuntimeExports.jsx(InputLabel,{labelElement:Be,id:hE,htmlFor:Hn,required:nE,...oE,...De,children:Pe},"label"),fE=Jp&&jsxRuntimeExports.jsx(InputDescription,{...$e,...oE,size:($e==null?void 0:$e.size)||oE.size,id:($e==null?void 0:$e.id)||nh,children:we},"description"),yE=jsxRuntimeExports.jsx(reactExports.Fragment,{children:ye(ze)},"input"),AE=Xp&&reactExports.createElement(InputError,{...Ge,...oE,size:(Ge==null?void 0:Ge.size)||oE.size,key:"error",id:(Ge==null?void 0:Ge.id)||On},Ne),bE=be.map(ME=>{switch(ME){case"label":return mE;case"input":return yE;case"description":return fE;case"error":return AE;default:return null}});return jsxRuntimeExports.jsx(InputWrapperProvider,{value:{getStyles:Pm,describedBy:eE,inputId:Hn,labelId:hE,...getInputOffsets(be,{hasDescription:Jp,hasError:Xp})},children:jsxRuntimeExports.jsx(Box,{ref:ee,variant:_e,size:de,mod:[{error:!!Ne},bn],...Pm("root"),...gd,children:bE})})});InputWrapper.classes=classes$a,InputWrapper.displayName="@mantine/core/InputWrapper";const defaultProps$u={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},varsResolver$9=(ie,ee,te)=>({wrapper:{"--input-margin-top":te.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":te.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":getSize(ee.size,"input-height"),"--input-fz":getFontSize(ee.size),"--input-radius":ee.radius===void 0?void 0:getRadius(ee.radius),"--input-left-section-width":ee.leftSectionWidth!==void 0?rem(ee.leftSectionWidth):void 0,"--input-right-section-width":ee.rightSectionWidth!==void 0?rem(ee.rightSectionWidth):void 0,"--input-padding-y":ee.multiline?getSize(ee.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":ee.leftSectionPointerEvents,"--input-right-section-pointer-events":ee.rightSectionPointerEvents}}),Input=polymorphicFactory((ie,ee)=>{const te=useProps("Input",defaultProps$u,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,required:he,__staticSelector:de,__stylesApiProps:_e,size:fe,wrapperProps:ye,error:be,disabled:Pe,leftSection:Ne,leftSectionProps:we,leftSectionWidth:De,rightSection:$e,rightSectionProps:Ge,rightSectionWidth:Be,rightSectionPointerEvents:ze,leftSectionPointerEvents:$t,variant:ut,vars:Ti,pointer:Hi,multiline:bn,radius:gd,id:Pm,withAria:oE,withErrorStyles:aE,mod:nE,inputSize:On,__clearSection:nh,__clearable:Hn,__defaultRightSection:Xp,...Jp}=te,{styleProps:md,rest:eE}=extractStyleProps(Jp),hE=useInputWrapperContext(),mE={offsetBottom:hE==null?void 0:hE.offsetBottom,offsetTop:hE==null?void 0:hE.offsetTop},fE=useStyles({name:["Input",de],props:_e||te,classes:classes$a,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,stylesCtx:mE,rootSelector:"wrapper",vars:Ti,varsResolver:varsResolver$9}),yE=oE?{required:he,disabled:Pe,"aria-invalid":!!be,"aria-describedby":hE==null?void 0:hE.describedBy,id:(hE==null?void 0:hE.inputId)||Pm}:{},AE=$e||Hn&&nh||Xp;return jsxRuntimeExports.jsx(InputContext,{value:{size:fe||"sm"},children:jsxRuntimeExports.jsxs(Box,{...fE("wrapper"),...md,...ye,mod:[{error:!!be&&aE,pointer:Hi,disabled:Pe,multiline:bn,"data-with-right-section":!!$e,"data-with-left-section":!!Ne},nE],variant:ut,size:fe,children:[Ne&&jsxRuntimeExports.jsx("div",{...we,"data-position":"left",...fE("section",{className:we==null?void 0:we.className,style:we==null?void 0:we.style}),children:Ne}),jsxRuntimeExports.jsx(Box,{component:"input",...eE,...yE,ref:ee,required:he,mod:{disabled:Pe,error:!!be&&aE},variant:ut,__size:On,...fE("input")}),AE&&jsxRuntimeExports.jsx("div",{...Ge,"data-position":"right",...fE("section",{className:Ge==null?void 0:Ge.className,style:Ge==null?void 0:Ge.style}),children:AE})]})})});Input.classes=classes$a,Input.Wrapper=InputWrapper,Input.Label=InputLabel,Input.Error=InputError,Input.Description=InputDescription,Input.Placeholder=InputPlaceholder,Input.ClearButton=InputClearButton,Input.displayName="@mantine/core/Input";function useInputProps(ie,ee,te){const se=useProps(ie,ee,te),{label:ne,description:le,error:ue,required:ce,classNames:he,styles:de,className:_e,unstyled:fe,__staticSelector:ye,__stylesApiProps:be,errorProps:Pe,labelProps:Ne,descriptionProps:we,wrapperProps:De,id:$e,size:Ge,style:Be,inputContainer:ze,inputWrapperOrder:$t,withAsterisk:ut,variant:Ti,vars:Hi,mod:bn,...gd}=se,{styleProps:Pm,rest:oE}=extractStyleProps(gd),aE={label:ne,description:le,error:ue,required:ce,classNames:he,className:_e,__staticSelector:ye,__stylesApiProps:be||se,errorProps:Pe,labelProps:Ne,descriptionProps:we,unstyled:fe,styles:de,size:Ge,style:Be,inputContainer:ze,inputWrapperOrder:$t,withAsterisk:ut,variant:Ti,id:$e,mod:bn,...De};return{...oE,classNames:he,styles:de,unstyled:fe,wrapperProps:{...aE,...Pm},inputProps:{required:ce,classNames:he,styles:de,unstyled:fe,size:Ge,__staticSelector:ye,__stylesApiProps:be||se,error:ue,variant:Ti,id:$e}}}const defaultProps$t={__staticSelector:"InputBase",withAria:!0},InputBase=polymorphicFactory((ie,ee)=>{const{inputProps:te,wrapperProps:se,...ne}=useInputProps("InputBase",defaultProps$t,ie);return jsxRuntimeExports.jsx(Input.Wrapper,{...se,children:jsxRuntimeExports.jsx(Input,{...te,...ne,ref:ee})})});InputBase.classes={...Input.classes,...Input.Wrapper.classes},InputBase.displayName="@mantine/core/InputBase";const FLEX_STYLE_PROPS_DATA={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var classes$9={root:"m_8bffd616"};const defaultProps$s={},Flex=polymorphicFactory((ie,ee)=>{const te=useProps("Flex",defaultProps$s,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,gap:de,rowGap:_e,columnGap:fe,align:ye,justify:be,wrap:Pe,direction:Ne,...we}=te,De=useStyles({name:"Flex",classes:classes$9,props:te,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he}),$e=useMantineTheme(),Ge=useRandomClassName(),Be=parseStyleProps({styleProps:{gap:de,rowGap:_e,columnGap:fe,align:ye,justify:be,wrap:Pe,direction:Ne},theme:$e,data:FLEX_STYLE_PROPS_DATA});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Be.hasResponsiveStyles&&jsxRuntimeExports.jsx(InlineStyles,{selector:`.${Ge}`,styles:Be.styles,media:Be.media}),jsxRuntimeExports.jsx(Box,{ref:ee,...De("root",{className:Ge,style:filterProps(Be.inlineStyles)}),...we})]})});Flex.classes=classes$9,Flex.displayName="@mantine/core/Flex";var classes$8={root:"m_b6d8b162"};function getTextTruncate(ie){if(ie==="start")return"start";if(ie==="end"||ie)return"end"}const defaultProps$r={inherit:!1},varsResolver$8=(ie,{variant:ee,lineClamp:te,gradient:se,size:ne,color:le})=>({root:{"--text-fz":getFontSize(ne),"--text-lh":getLineHeight(ne),"--text-gradient":ee==="gradient"?getGradient(se,ie):void 0,"--text-line-clamp":typeof te=="number"?te.toString():void 0,"--text-color":le?getThemeColor(le,ie):void 0}}),Text$1=polymorphicFactory((ie,ee)=>{const te=useProps("Text",defaultProps$r,ie),{lineClamp:se,truncate:ne,inline:le,inherit:ue,gradient:ce,span:he,__staticSelector:de,vars:_e,className:fe,style:ye,classNames:be,styles:Pe,unstyled:Ne,variant:we,mod:De,size:$e,...Ge}=te,Be=useStyles({name:["Text",de],props:te,classes:classes$8,className:fe,style:ye,classNames:be,styles:Pe,unstyled:Ne,vars:_e,varsResolver:varsResolver$8});return jsxRuntimeExports.jsx(Box,{...Be("root",{focusable:!0}),ref:ee,component:he?"span":"p",variant:we,mod:[{"data-truncate":getTextTruncate(ne),"data-line-clamp":typeof se=="number","data-inline":le,"data-inherit":ue},De],size:$e,...Ge})});Text$1.classes=classes$8,Text$1.displayName="@mantine/core/Text";var classes$7={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const defaultProps$q={error:null},varsResolver$7=(ie,{size:ee})=>({chevron:{"--combobox-chevron-size":getSize(ee,"combobox-chevron-size")}}),ComboboxChevron=factory((ie,ee)=>{const te=useProps("ComboboxChevron",defaultProps$q,ie),{size:se,error:ne,style:le,className:ue,classNames:ce,styles:he,unstyled:de,vars:_e,mod:fe,...ye}=te,be=useStyles({name:"ComboboxChevron",classes:classes$7,props:te,style:le,className:ue,classNames:ce,styles:he,unstyled:de,vars:_e,varsResolver:varsResolver$7,rootSelector:"chevron"});return jsxRuntimeExports.jsx(Box,{component:"svg",...ye,...be("chevron"),size:se,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:ne},fe],ref:ee,children:jsxRuntimeExports.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});ComboboxChevron.classes=classes$7,ComboboxChevron.displayName="@mantine/core/ComboboxChevron";const[ComboboxProvider,useComboboxContext]=createSafeContext("Combobox component was not found in tree"),ComboboxClearButton=reactExports.forwardRef(({size:ie,onMouseDown:ee,onClick:te,onClear:se,...ne},le)=>jsxRuntimeExports.jsx(Input.ClearButton,{ref:le,tabIndex:-1,"aria-hidden":!0,...ne,onMouseDown:ue=>{ue.preventDefault(),ee==null||ee(ue)},onClick:ue=>{se(),te==null||te(ue)}}));ComboboxClearButton.displayName="@mantine/core/ComboboxClearButton";const defaultProps$p={},ComboboxDropdown=factory((ie,ee)=>{const{classNames:te,styles:se,className:ne,style:le,hidden:ue,...ce}=useProps("ComboboxDropdown",defaultProps$p,ie),he=useComboboxContext();return jsxRuntimeExports.jsx(Popover.Dropdown,{...ce,ref:ee,role:"presentation","data-hidden":ue||void 0,...he.getStyles("dropdown",{className:ne,style:le,classNames:te,styles:se})})});ComboboxDropdown.classes=classes$7,ComboboxDropdown.displayName="@mantine/core/ComboboxDropdown";const defaultProps$o={refProp:"ref"},ComboboxDropdownTarget=factory((ie,ee)=>{const{children:te,refProp:se}=useProps("ComboboxDropdownTarget",defaultProps$o,ie);if(useComboboxContext(),!isElement$1(te))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return jsxRuntimeExports.jsx(Popover.Target,{ref:ee,refProp:se,children:te})});ComboboxDropdownTarget.displayName="@mantine/core/ComboboxDropdownTarget";const defaultProps$n={},ComboboxEmpty=factory((ie,ee)=>{const{classNames:te,className:se,style:ne,styles:le,vars:ue,...ce}=useProps("ComboboxEmpty",defaultProps$n,ie),he=useComboboxContext();return jsxRuntimeExports.jsx(Box,{ref:ee,...he.getStyles("empty",{className:se,classNames:te,styles:le,style:ne}),...ce})});ComboboxEmpty.classes=classes$7,ComboboxEmpty.displayName="@mantine/core/ComboboxEmpty";function useComboboxTargetProps({onKeyDown:ie,withKeyboardNavigation:ee,withAriaAttributes:te,withExpandedAttribute:se,targetType:ne,autoComplete:le}){const ue=useComboboxContext(),[ce,he]=reactExports.useState(null),de=fe=>{if(ie==null||ie(fe),!ue.readOnly&&ee){if(fe.nativeEvent.isComposing)return;if(fe.nativeEvent.code==="ArrowDown"&&(fe.preventDefault(),ue.store.dropdownOpened?he(ue.store.selectNextOption()):(ue.store.openDropdown("keyboard"),he(ue.store.selectActiveOption()),ue.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),fe.nativeEvent.code==="ArrowUp"&&(fe.preventDefault(),ue.store.dropdownOpened?he(ue.store.selectPreviousOption()):(ue.store.openDropdown("keyboard"),he(ue.store.selectActiveOption()),ue.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),fe.nativeEvent.code==="Enter"||fe.nativeEvent.code==="NumpadEnter"){if(fe.nativeEvent.keyCode===229)return;const ye=ue.store.getSelectedOptionIndex();ue.store.dropdownOpened&&ye!==-1?(fe.preventDefault(),ue.store.clickSelectedOption()):ne==="button"&&(fe.preventDefault(),ue.store.openDropdown("keyboard"))}fe.nativeEvent.code==="Escape"&&ue.store.closeDropdown("keyboard"),fe.nativeEvent.code==="Space"&&ne==="button"&&(fe.preventDefault(),ue.store.toggleDropdown("keyboard"))}};return{...te?{"aria-haspopup":"listbox","aria-expanded":se&&!!(ue.store.listId&&ue.store.dropdownOpened)||void 0,"aria-controls":ue.store.dropdownOpened?ue.store.listId:void 0,"aria-activedescendant":ue.store.dropdownOpened&&ce||void 0,autoComplete:le,"data-expanded":ue.store.dropdownOpened||void 0,"data-mantine-stop-propagation":ue.store.dropdownOpened||void 0}:{},onKeyDown:de}}const defaultProps$m={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ComboboxEventsTarget=factory((ie,ee)=>{const{children:te,refProp:se,withKeyboardNavigation:ne,withAriaAttributes:le,withExpandedAttribute:ue,targetType:ce,autoComplete:he,...de}=useProps("ComboboxEventsTarget",defaultProps$m,ie);if(!isElement$1(te))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const _e=useComboboxContext(),fe=useComboboxTargetProps({targetType:ce,withAriaAttributes:le,withKeyboardNavigation:ne,withExpandedAttribute:ue,onKeyDown:te.props.onKeyDown,autoComplete:he});return reactExports.cloneElement(te,{...fe,...de,[se]:useMergedRef(ee,_e.store.targetRef,getRefProp(te))})});ComboboxEventsTarget.displayName="@mantine/core/ComboboxEventsTarget";const defaultProps$l={},ComboboxFooter=factory((ie,ee)=>{const{classNames:te,className:se,style:ne,styles:le,vars:ue,...ce}=useProps("ComboboxFooter",defaultProps$l,ie),he=useComboboxContext();return jsxRuntimeExports.jsx(Box,{ref:ee,...he.getStyles("footer",{className:se,classNames:te,style:ne,styles:le}),...ce,onMouseDown:de=>{de.preventDefault()}})});ComboboxFooter.classes=classes$7,ComboboxFooter.displayName="@mantine/core/ComboboxFooter";const defaultProps$k={},ComboboxGroup=factory((ie,ee)=>{const{classNames:te,className:se,style:ne,styles:le,vars:ue,children:ce,label:he,...de}=useProps("ComboboxGroup",defaultProps$k,ie),_e=useComboboxContext();return jsxRuntimeExports.jsxs(Box,{ref:ee,..._e.getStyles("group",{className:se,classNames:te,style:ne,styles:le}),...de,children:[he&&jsxRuntimeExports.jsx("div",{..._e.getStyles("groupLabel",{classNames:te,styles:le}),children:he}),ce]})});ComboboxGroup.classes=classes$7,ComboboxGroup.displayName="@mantine/core/ComboboxGroup";const defaultProps$j={},ComboboxHeader=factory((ie,ee)=>{const{classNames:te,className:se,style:ne,styles:le,vars:ue,...ce}=useProps("ComboboxHeader",defaultProps$j,ie),he=useComboboxContext();return jsxRuntimeExports.jsx(Box,{ref:ee,...he.getStyles("header",{className:se,classNames:te,style:ne,styles:le}),...ce,onMouseDown:de=>{de.preventDefault()}})});ComboboxHeader.classes=classes$7,ComboboxHeader.displayName="@mantine/core/ComboboxHeader";function ComboboxHiddenInput({value:ie,valuesDivider:ee=",",...te}){return jsxRuntimeExports.jsx("input",{type:"hidden",value:Array.isArray(ie)?ie.join(ee):ie||"",...te})}ComboboxHiddenInput.displayName="@mantine/core/ComboboxHiddenInput";const defaultProps$i={},ComboboxOption=factory((ie,ee)=>{const te=useProps("ComboboxOption",defaultProps$i,ie),{classNames:se,className:ne,style:le,styles:ue,vars:ce,onClick:he,id:de,active:_e,onMouseDown:fe,onMouseOver:ye,disabled:be,selected:Pe,mod:Ne,...we}=te,De=useComboboxContext(),$e=reactExports.useId(),Ge=de||$e;return jsxRuntimeExports.jsx(Box,{...De.getStyles("option",{className:ne,classNames:se,styles:ue,style:le}),...we,ref:ee,id:Ge,mod:["combobox-option",{"combobox-active":_e,"combobox-disabled":be,"combobox-selected":Pe},Ne],role:"option",onClick:Be=>{var ze;be?Be.preventDefault():((ze=De.onOptionSubmit)==null||ze.call(De,te.value,te),he==null||he(Be))},onMouseDown:Be=>{Be.preventDefault(),fe==null||fe(Be)},onMouseOver:Be=>{De.resetSelectionOnOptionHover&&De.store.resetSelectedOption(),ye==null||ye(Be)}})});ComboboxOption.classes=classes$7,ComboboxOption.displayName="@mantine/core/ComboboxOption";const defaultProps$h={},ComboboxOptions=factory((ie,ee)=>{const te=useProps("ComboboxOptions",defaultProps$h,ie),{classNames:se,className:ne,style:le,styles:ue,id:ce,onMouseDown:he,labelledBy:de,..._e}=te,fe=useComboboxContext(),ye=useId$1(ce);return reactExports.useEffect(()=>{fe.store.setListId(ye)},[ye]),jsxRuntimeExports.jsx(Box,{ref:ee,...fe.getStyles("options",{className:ne,style:le,classNames:se,styles:ue}),..._e,id:ye,role:"listbox","aria-labelledby":de,onMouseDown:be=>{be.preventDefault(),he==null||he(be)}})});ComboboxOptions.classes=classes$7,ComboboxOptions.displayName="@mantine/core/ComboboxOptions";const defaultProps$g={withAriaAttributes:!0,withKeyboardNavigation:!0},ComboboxSearch=factory((ie,ee)=>{const te=useProps("ComboboxSearch",defaultProps$g,ie),{classNames:se,styles:ne,unstyled:le,vars:ue,withAriaAttributes:ce,onKeyDown:he,withKeyboardNavigation:de,size:_e,...fe}=te,ye=useComboboxContext(),be=ye.getStyles("search"),Pe=useComboboxTargetProps({targetType:"input",withAriaAttributes:ce,withKeyboardNavigation:de,withExpandedAttribute:!1,onKeyDown:he,autoComplete:"off"});return jsxRuntimeExports.jsx(Input,{ref:useMergedRef(ee,ye.store.searchRef),classNames:[{input:be.className},se],styles:[{input:be.style},ne],size:_e||ye.size,...Pe,...fe,__staticSelector:"Combobox"})});ComboboxSearch.classes=classes$7,ComboboxSearch.displayName="@mantine/core/ComboboxSearch";const defaultProps$f={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ComboboxTarget=factory((ie,ee)=>{const{children:te,refProp:se,withKeyboardNavigation:ne,withAriaAttributes:le,withExpandedAttribute:ue,targetType:ce,autoComplete:he,...de}=useProps("ComboboxTarget",defaultProps$f,ie);if(!isElement$1(te))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const _e=useComboboxContext(),fe=useComboboxTargetProps({targetType:ce,withAriaAttributes:le,withKeyboardNavigation:ne,withExpandedAttribute:ue,onKeyDown:te.props.onKeyDown,autoComplete:he}),ye=reactExports.cloneElement(te,{...fe,...de});return jsxRuntimeExports.jsx(Popover.Target,{ref:useMergedRef(ee,_e.store.targetRef),children:ye})});ComboboxTarget.displayName="@mantine/core/ComboboxTarget";function getPreviousIndex(ie,ee,te){for(let se=ie-1;se>=0;se-=1)if(!ee[se].hasAttribute("data-combobox-disabled"))return se;if(te){for(let se=ee.length-1;se>-1;se-=1)if(!ee[se].hasAttribute("data-combobox-disabled"))return se}return ie}function getNextIndex(ie,ee,te){for(let se=ie+1;se<ee.length;se+=1)if(!ee[se].hasAttribute("data-combobox-disabled"))return se;if(te){for(let se=0;se<ee.length;se+=1)if(!ee[se].hasAttribute("data-combobox-disabled"))return se}return ie}function getFirstIndex(ie){for(let ee=0;ee<ie.length;ee+=1)if(!ie[ee].hasAttribute("data-combobox-disabled"))return ee;return-1}function useCombobox({defaultOpened:ie,opened:ee,onOpenedChange:te,onDropdownClose:se,onDropdownOpen:ne,loop:le=!0,scrollBehavior:ue="instant"}={}){const[ce,he]=useUncontrolled({value:ee,defaultValue:ie,finalValue:!1,onChange:te}),de=reactExports.useRef(null),_e=reactExports.useRef(-1),fe=reactExports.useRef(null),ye=reactExports.useRef(null),be=reactExports.useRef(-1),Pe=reactExports.useRef(-1),Ne=reactExports.useRef(-1),we=reactExports.useCallback((On="unknown")=>{ce||(he(!0),ne==null||ne(On))},[he,ne,ce]),De=reactExports.useCallback((On="unknown")=>{ce&&(he(!1),se==null||se(On))},[he,se,ce]),$e=reactExports.useCallback((On="unknown")=>{ce?De(On):we(On)},[De,we,ce]),Ge=reactExports.useCallback(()=>{const On=document.querySelector(`#${de.current} [data-combobox-selected]`);On==null||On.removeAttribute("data-combobox-selected"),On==null||On.removeAttribute("aria-selected")},[]),Be=reactExports.useCallback(On=>{const nh=document.getElementById(de.current),Hn=nh==null?void 0:nh.querySelectorAll("[data-combobox-option]");if(!Hn)return null;const Xp=On>=Hn.length?0:On<0?Hn.length-1:On;return _e.current=Xp,Hn!=null&&Hn[Xp]&&!Hn[Xp].hasAttribute("data-combobox-disabled")?(Ge(),Hn[Xp].setAttribute("data-combobox-selected","true"),Hn[Xp].setAttribute("aria-selected","true"),Hn[Xp].scrollIntoView({block:"nearest",behavior:ue}),Hn[Xp].id):null},[ue,Ge]),ze=reactExports.useCallback(()=>{const On=document.querySelector(`#${de.current} [data-combobox-active]`);if(On){const nh=document.querySelectorAll(`#${de.current} [data-combobox-option]`),Hn=Array.from(nh).findIndex(Xp=>Xp===On);return Be(Hn)}return Be(0)},[Be]),$t=reactExports.useCallback(()=>Be(getNextIndex(_e.current,document.querySelectorAll(`#${de.current} [data-combobox-option]`),le)),[Be,le]),ut=reactExports.useCallback(()=>Be(getPreviousIndex(_e.current,document.querySelectorAll(`#${de.current} [data-combobox-option]`),le)),[Be,le]),Ti=reactExports.useCallback(()=>Be(getFirstIndex(document.querySelectorAll(`#${de.current} [data-combobox-option]`))),[Be]),Hi=reactExports.useCallback((On="selected",nh)=>{Ne.current=window.setTimeout(()=>{var Jp;const Hn=document.querySelectorAll(`#${de.current} [data-combobox-option]`),Xp=Array.from(Hn).findIndex(md=>md.hasAttribute(`data-combobox-${On}`));_e.current=Xp,nh!=null&&nh.scrollIntoView&&((Jp=Hn[Xp])==null||Jp.scrollIntoView({block:"nearest",behavior:ue}))},0)},[]),bn=reactExports.useCallback(()=>{_e.current=-1,Ge()},[Ge]),gd=reactExports.useCallback(()=>{const On=document.querySelectorAll(`#${de.current} [data-combobox-option]`),nh=On==null?void 0:On[_e.current];nh==null||nh.click()},[]),Pm=reactExports.useCallback(On=>{de.current=On},[]),oE=reactExports.useCallback(()=>{be.current=window.setTimeout(()=>fe.current.focus(),0)},[]),aE=reactExports.useCallback(()=>{Pe.current=window.setTimeout(()=>ye.current.focus(),0)},[]),nE=reactExports.useCallback(()=>_e.current,[]);return reactExports.useEffect(()=>()=>{window.clearTimeout(be.current),window.clearTimeout(Pe.current),window.clearTimeout(Ne.current)},[]),{dropdownOpened:ce,openDropdown:we,closeDropdown:De,toggleDropdown:$e,selectedOptionIndex:_e.current,getSelectedOptionIndex:nE,selectOption:Be,selectFirstOption:Ti,selectActiveOption:ze,selectNextOption:$t,selectPreviousOption:ut,resetSelectedOption:bn,updateSelectedOptionIndex:Hi,listId:de.current,setListId:Pm,clickSelectedOption:gd,searchRef:fe,focusSearchInput:oE,targetRef:ye,focusTarget:aE}}const defaultProps$e={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},varsResolver$6=(ie,{size:ee,dropdownPadding:te})=>({options:{"--combobox-option-fz":getFontSize(ee),"--combobox-option-padding":getSize(ee,"combobox-option-padding")},dropdown:{"--combobox-padding":te===void 0?void 0:rem(te),"--combobox-option-fz":getFontSize(ee),"--combobox-option-padding":getSize(ee,"combobox-option-padding")}});function Combobox(ie){const ee=useProps("Combobox",defaultProps$e,ie),{classNames:te,styles:se,unstyled:ne,children:le,store:ue,vars:ce,onOptionSubmit:he,onClose:de,size:_e,dropdownPadding:fe,resetSelectionOnOptionHover:ye,__staticSelector:be,readOnly:Pe,...Ne}=ee,we=useCombobox(),De=ue||we,$e=useStyles({name:be||"Combobox",classes:classes$7,props:ee,classNames:te,styles:se,unstyled:ne,vars:ce,varsResolver:varsResolver$6}),Ge=()=>{de==null||de(),De.closeDropdown()};return jsxRuntimeExports.jsx(ComboboxProvider,{value:{getStyles:$e,store:De,onOptionSubmit:he,size:_e,resetSelectionOnOptionHover:ye,readOnly:Pe},children:jsxRuntimeExports.jsx(Popover,{opened:De.dropdownOpened,...Ne,onChange:Be=>!Be&&Ge(),withRoles:!1,unstyled:ne,children:le})})}const extendCombobox=ie=>ie;Combobox.extend=extendCombobox,Combobox.classes=classes$7,Combobox.displayName="@mantine/core/Combobox",Combobox.Target=ComboboxTarget,Combobox.Dropdown=ComboboxDropdown,Combobox.Options=ComboboxOptions,Combobox.Option=ComboboxOption,Combobox.Search=ComboboxSearch,Combobox.Empty=ComboboxEmpty,Combobox.Chevron=ComboboxChevron,Combobox.Footer=ComboboxFooter,Combobox.Header=ComboboxHeader,Combobox.EventsTarget=ComboboxEventsTarget,Combobox.DropdownTarget=ComboboxDropdownTarget,Combobox.Group=ComboboxGroup,Combobox.ClearButton=ComboboxClearButton,Combobox.HiddenInput=ComboboxHiddenInput;var classes$6={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const InlineInputClasses=classes$6,InlineInput=reactExports.forwardRef(({__staticSelector:ie,__stylesApiProps:ee,className:te,classNames:se,styles:ne,unstyled:le,children:ue,label:ce,description:he,id:de,disabled:_e,error:fe,size:ye,labelPosition:be="left",bodyElement:Pe="div",labelElement:Ne="label",variant:we,style:De,vars:$e,mod:Ge,...Be},ze)=>{const $t=useStyles({name:ie,props:ee,className:te,style:De,classes:classes$6,classNames:se,styles:ne,unstyled:le});return jsxRuntimeExports.jsx(Box,{...$t("root"),ref:ze,__vars:{"--label-fz":getFontSize(ye),"--label-lh":getSize(ye,"label-lh")},mod:[{"label-position":be},Ge],variant:we,size:ye,...Be,children:jsxRuntimeExports.jsxs(Box,{component:Pe,htmlFor:Pe==="label"?de:void 0,...$t("body"),children:[ue,jsxRuntimeExports.jsxs("div",{...$t("labelWrapper"),"data-disabled":_e||void 0,children:[ce&&jsxRuntimeExports.jsx(Box,{component:Ne,htmlFor:Ne==="label"?de:void 0,...$t("label"),"data-disabled":_e||void 0,children:ce}),he&&jsxRuntimeExports.jsx(Input.Description,{size:ye,__inheritStyles:!1,...$t("description"),children:he}),fe&&typeof fe!="boolean"&&jsxRuntimeExports.jsx(Input.Error,{size:ye,__inheritStyles:!1,...$t("error"),children:fe})]})]})})});InlineInput.displayName="@mantine/core/InlineInput";function InputsGroupFieldset({children:ie,role:ee}){const te=useInputWrapperContext();return te?jsxRuntimeExports.jsx("div",{role:ee,"aria-labelledby":te.labelId,"aria-describedby":te.describedBy,children:ie}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ie})}var classes$5={root:"m_de3d2490",colorOverlay:"m_862f3d1b",shadowOverlay:"m_98ae7f22",alphaOverlay:"m_95709ac0",childrenOverlay:"m_93e74e3"};const defaultProps$d={withShadow:!0},varsResolver$5=(ie,{radius:ee,size:te})=>({root:{"--cs-radius":ee===void 0?void 0:getRadius(ee),"--cs-size":rem(te)}}),ColorSwatch=polymorphicFactory((ie,ee)=>{const te=useProps("ColorSwatch",defaultProps$d,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,color:de,size:_e,radius:fe,withShadow:ye,children:be,variant:Pe,...Ne}=useProps("ColorSwatch",defaultProps$d,te),we=useStyles({name:"ColorSwatch",props:te,classes:classes$5,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he,varsResolver:varsResolver$5});return jsxRuntimeExports.jsxs(Box,{ref:ee,variant:Pe,size:_e,...we("root",{focusable:!0}),...Ne,children:[jsxRuntimeExports.jsx("span",{...we("alphaOverlay")}),ye&&jsxRuntimeExports.jsx("span",{...we("shadowOverlay")}),jsxRuntimeExports.jsx("span",{...we("colorOverlay",{style:{backgroundColor:de}})}),jsxRuntimeExports.jsx("span",{...we("childrenOverlay"),children:be})]})});ColorSwatch.classes=classes$5,ColorSwatch.displayName="@mantine/core/ColorSwatch";const[ColorPickerProvider,useColorPickerContext]=createOptionalContext(null),Thumb=reactExports.forwardRef(({position:ie,...ee},te)=>jsxRuntimeExports.jsx(Box,{ref:te,__vars:{"--thumb-y-offset":`${ie.y*100}%`,"--thumb-x-offset":`${ie.x*100}%`},...ee}));Thumb.displayName="@mantine/core/ColorPickerThumb";var classes$4={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const defaultProps$c={},ColorSlider=factory((ie,ee)=>{var Hn;const te=useProps("ColorSlider",defaultProps$c,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,onChange:de,onChangeEnd:_e,maxValue:fe,round:ye,size:be="md",focusable:Pe=!0,value:Ne,overlays:we,thumbColor:De="transparent",onScrubStart:$e,onScrubEnd:Ge,__staticSelector:Be="ColorPicker",...ze}=te,$t=useStyles({name:Be,classes:classes$4,props:te,className:ne,style:le,classNames:se,styles:ue,unstyled:ce}),Ti=((Hn=useColorPickerContext())==null?void 0:Hn.getStyles)||$t,Hi=useMantineTheme(),[bn,gd]=reactExports.useState({y:0,x:Ne/fe}),Pm=reactExports.useRef(bn),oE=Xp=>ye?Math.round(Xp*fe):Xp*fe,{ref:aE}=useMove(({x:Xp,y:Jp})=>{Pm.current={x:Xp,y:Jp},de==null||de(oE(Xp))},{onScrubEnd:()=>{const{x:Xp}=Pm.current;_e==null||_e(oE(Xp)),Ge==null||Ge()},onScrubStart:$e});useDidUpdate(()=>{gd({y:0,x:Ne/fe})},[Ne]);const nE=(Xp,Jp)=>{Xp.preventDefault();const md=clampUseMovePosition(Jp);de==null||de(oE(md.x)),_e==null||_e(oE(md.x))},On=Xp=>{switch(Xp.key){case"ArrowRight":{nE(Xp,{x:bn.x+.05,y:bn.y});break}case"ArrowLeft":{nE(Xp,{x:bn.x-.05,y:bn.y});break}}},nh=we.map((Xp,Jp)=>reactExports.createElement("div",{...Ti("sliderOverlay"),style:Xp,key:Jp}));return jsxRuntimeExports.jsxs(Box,{...ze,ref:useMergedRef(aE,ee),...Ti("slider"),role:"slider","aria-valuenow":Ne,"aria-valuemax":fe,"aria-valuemin":0,tabIndex:Pe?0:-1,onKeyDown:On,"data-focus-ring":Hi.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${be})`},children:[nh,jsxRuntimeExports.jsx(Thumb,{position:bn,...Ti("thumb",{style:{top:rem(1),background:De}})})]})});ColorSlider.displayName="@mantine/core/ColorSlider";function round$1(ie,ee=0,te=10**ee){return Math.round(te*ie)/te}function hslaToHsva({h:ie,s:ee,l:te,a:se}){const ne=ee*((te<50?te:100-te)/100);return{h:ie,s:ne>0?2*ne/(te+ne)*100:0,v:te+ne,a:se}}const angleUnits={grad:360/400,turn:360,rad:360/(Math.PI*2)};function parseHue(ie,ee="deg"){return Number(ie)*(angleUnits[ee]||1)}const HSL_REGEXP=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function parseHsla(ie){const ee=HSL_REGEXP.exec(ie);return ee?hslaToHsva({h:parseHue(ee[1],ee[2]),s:Number(ee[3]),l:Number(ee[4]),a:ee[5]===void 0?1:Number(ee[5])/(ee[6]?100:1)}):{h:0,s:0,v:0,a:1}}function rgbaToHsva({r:ie,g:ee,b:te,a:se}){const ne=Math.max(ie,ee,te),le=ne-Math.min(ie,ee,te),ue=le?ne===ie?(ee-te)/le:ne===ee?2+(te-ie)/le:4+(ie-ee)/le:0;return{h:round$1(60*(ue<0?ue+6:ue),3),s:round$1(ne?le/ne*100:0,3),v:round$1(ne/255*100,3),a:se}}function parseHex(ie){const ee=ie[0]==="#"?ie.slice(1):ie;return ee.length===3?rgbaToHsva({r:parseInt(ee[0]+ee[0],16),g:parseInt(ee[1]+ee[1],16),b:parseInt(ee[2]+ee[2],16),a:1}):rgbaToHsva({r:parseInt(ee.slice(0,2),16),g:parseInt(ee.slice(2,4),16),b:parseInt(ee.slice(4,6),16),a:1})}function parseHexa(ie){const ee=ie[0]==="#"?ie.slice(1):ie,te=ue=>round$1(parseInt(ue,16)/255,3);if(ee.length===4){const ue=ee.slice(0,3),ce=te(ee[3]+ee[3]);return{...parseHex(ue),a:ce}}const se=ee.slice(0,6),ne=te(ee.slice(6,8));return{...parseHex(se),a:ne}}const RGB_REGEXP=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function parseRgba(ie){const ee=RGB_REGEXP.exec(ie);return ee?rgbaToHsva({r:Number(ee[1])/(ee[2]?100/255:1),g:Number(ee[3])/(ee[4]?100/255:1),b:Number(ee[5])/(ee[6]?100/255:1),a:ee[7]===void 0?1:Number(ee[7])/(ee[8]?100:1)}):{h:0,s:0,v:0,a:1}}const VALIDATION_REGEXP={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},CONVERTERS$1={hex:parseHex,hexa:parseHexa,rgb:parseRgba,rgba:parseRgba,hsl:parseHsla,hsla:parseHsla};function isColorValid(ie){for(const[,ee]of Object.entries(VALIDATION_REGEXP))if(ee.test(ie))return!0;return!1}function parseColor(ie){if(typeof ie!="string")return{h:0,s:0,v:0,a:1};if(ie==="transparent")return{h:0,s:0,v:0,a:0};const ee=ie.trim();for(const[te,se]of Object.entries(VALIDATION_REGEXP))if(se.test(ee))return CONVERTERS$1[te](ee);return{h:0,s:0,v:0,a:1}}const defaultProps$b={},AlphaSlider=reactExports.forwardRef((ie,ee)=>{const{value:te,onChange:se,onChangeEnd:ne,color:le,...ue}=useProps("AlphaSlider",defaultProps$b,ie);return jsxRuntimeExports.jsx(ColorSlider,{...ue,ref:ee,value:te,onChange:ce=>se==null?void 0:se(round$1(ce,2)),onChangeEnd:ce=>ne==null?void 0:ne(round$1(ce,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${rem(8)} ${rem(8)}`,backgroundPosition:`0 0, 0 ${rem(4)}, ${rem(4)} ${rem(-4)}, ${rem(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${le})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${rem(1)} inset, rgb(0, 0, 0, .15) 0 0 ${rem(4)} inset`}]})});AlphaSlider.displayName="@mantine/core/AlphaSlider";function hsvaToRgbaObject({h:ie,s:ee,v:te,a:se}){const ne=ie/360*6,le=ee/100,ue=te/100,ce=Math.floor(ne),he=ue*(1-le),de=ue*(1-(ne-ce)*le),_e=ue*(1-(1-ne+ce)*le),fe=ce%6;return{r:round$1([ue,de,he,he,_e,ue][fe]*255),g:round$1([_e,ue,ue,de,he,he][fe]*255),b:round$1([he,he,_e,ue,ue,de][fe]*255),a:round$1(se,2)}}function hsvaToRgba(ie,ee){const{r:te,g:se,b:ne,a:le}=hsvaToRgbaObject(ie);return ee?`rgba(${te}, ${se}, ${ne}, ${round$1(le,2)})`:`rgb(${te}, ${se}, ${ne})`}function hsvaToHsl({h:ie,s:ee,v:te,a:se},ne){const le=(200-ee)*te/100,ue={h:Math.round(ie),s:Math.round(le>0&&le<200?ee*te/100/(le<=100?le:200-le)*100:0),l:Math.round(le/2)};return ne?`hsla(${ue.h}, ${ue.s}%, ${ue.l}%, ${round$1(se,2)})`:`hsl(${ue.h}, ${ue.s}%, ${ue.l}%)`}function formatHexPart(ie){const ee=ie.toString(16);return ee.length<2?`0${ee}`:ee}function hsvaToHex(ie){const{r:ee,g:te,b:se}=hsvaToRgbaObject(ie);return`#${formatHexPart(ee)}${formatHexPart(te)}${formatHexPart(se)}`}function hsvaToHexa(ie){const ee=Math.round(ie.a*255);return`${hsvaToHex(ie)}${formatHexPart(ee)}`}const CONVERTERS={hex:hsvaToHex,hexa:ie=>hsvaToHexa(ie),rgb:ie=>hsvaToRgba(ie,!1),rgba:ie=>hsvaToRgba(ie,!0),hsl:ie=>hsvaToHsl(ie,!1),hsla:ie=>hsvaToHsl(ie,!0)};function convertHsvaTo(ie,ee){return ee?ie in CONVERTERS?CONVERTERS[ie](ee):CONVERTERS.hex(ee):"#000000"}const HueSlider=reactExports.forwardRef((ie,ee)=>{const{value:te,onChange:se,onChangeEnd:ne,color:le,...ue}=useProps("HueSlider",{},ie);return jsxRuntimeExports.jsx(ColorSlider,{...ue,ref:ee,value:te,onChange:se,onChangeEnd:ne,maxValue:360,thumbColor:`hsl(${te}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${rem(1)} inset, rgb(0, 0, 0, .15) 0 0 ${rem(4)} inset`}]})});HueSlider.displayName="@mantine/core/HueSlider";function Saturation({className:ie,onChange:ee,onChangeEnd:te,value:se,saturationLabel:ne,focusable:le=!0,size:ue,color:ce,onScrubStart:he,onScrubEnd:de,..._e}){const{getStyles:fe}=useColorPickerContext(),[ye,be]=reactExports.useState({x:se.s/100,y:1-se.v/100}),Pe=reactExports.useRef(ye),{ref:Ne}=useMove(({x:$e,y:Ge})=>{Pe.current={x:$e,y:Ge},ee({s:Math.round($e*100),v:Math.round((1-Ge)*100)})},{onScrubEnd:()=>{const{x:$e,y:Ge}=Pe.current;te({s:Math.round($e*100),v:Math.round((1-Ge)*100)}),de==null||de()},onScrubStart:he});reactExports.useEffect(()=>{be({x:se.s/100,y:1-se.v/100})},[se.s,se.v]);const we=($e,Ge)=>{$e.preventDefault();const Be=clampUseMovePosition(Ge);ee({s:Math.round(Be.x*100),v:Math.round((1-Be.y)*100)}),te({s:Math.round(Be.x*100),v:Math.round((1-Be.y)*100)})},De=$e=>{switch($e.key){case"ArrowUp":{we($e,{y:ye.y-.05,x:ye.x});break}case"ArrowDown":{we($e,{y:ye.y+.05,x:ye.x});break}case"ArrowRight":{we($e,{x:ye.x+.05,y:ye.y});break}case"ArrowLeft":{we($e,{x:ye.x-.05,y:ye.y});break}}};return jsxRuntimeExports.jsxs(Box,{...fe("saturation"),ref:Ne,..._e,role:"slider","aria-label":ne,"aria-valuenow":ye.x,"aria-valuetext":convertHsvaTo("rgba",se),tabIndex:le?0:-1,onKeyDown:De,children:[jsxRuntimeExports.jsx("div",{...fe("saturationOverlay",{style:{backgroundColor:`hsl(${se.h}, 100%, 50%)`}})}),jsxRuntimeExports.jsx("div",{...fe("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),jsxRuntimeExports.jsx("div",{...fe("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),jsxRuntimeExports.jsx(Thumb,{position:ye,...fe("thumb",{style:{backgroundColor:ce}})})]})}Saturation.displayName="@mantine/core/Saturation";const Swatches=reactExports.forwardRef(({className:ie,datatype:ee,setValue:te,onChangeEnd:se,size:ne,focusable:le,data:ue,swatchesPerRow:ce,...he},de)=>{const _e=useColorPickerContext(),fe=ue.map((ye,be)=>reactExports.createElement(ColorSwatch,{..._e.getStyles("swatch"),unstyled:_e.unstyled,component:"button",type:"button",color:ye,key:be,radius:"sm",onClick:()=>{te(ye),se==null||se(ye)},"aria-label":ye,tabIndex:le?0:-1,"data-swatch":!0}));return jsxRuntimeExports.jsx(Box,{..._e.getStyles("swatches"),ref:de,...he,children:fe})});Swatches.displayName="@mantine/core/Swatches";const defaultProps$a={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},varsResolver$4=(ie,{size:ee,swatchesPerRow:te})=>({wrapper:{"--cp-preview-size":getSize(ee,"cp-preview-size"),"--cp-width":getSize(ee,"cp-width"),"--cp-body-spacing":getSpacing(ee),"--cp-swatch-size":`${100/te}%`,"--cp-thumb-size":getSize(ee,"cp-thumb-size"),"--cp-saturation-height":getSize(ee,"cp-saturation-height")}}),ColorPicker$1=factory((ie,ee)=>{const te=useProps("ColorPicker",defaultProps$a,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,format:de,value:_e,defaultValue:fe,onChange:ye,onChangeEnd:be,withPicker:Pe,size:Ne,saturationLabel:we,hueLabel:De,alphaLabel:$e,focusable:Ge,swatches:Be,swatchesPerRow:ze,fullWidth:$t,onColorSwatchClick:ut,__staticSelector:Ti,mod:Hi,...bn}=te,gd=useStyles({name:Ti,props:te,classes:classes$4,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,rootSelector:"wrapper",vars:he,varsResolver:varsResolver$4}),Pm=reactExports.useRef(de),oE=reactExports.useRef(""),aE=reactExports.useRef(-1),nE=reactExports.useRef(!1),On=de==="hexa"||de==="rgba"||de==="hsla",[nh,Hn,Xp]=useUncontrolled({value:_e,defaultValue:fe,finalValue:"#FFFFFF",onChange:ye}),[Jp,md]=reactExports.useState(parseColor(nh)),eE=()=>{window.clearTimeout(aE.current),nE.current=!0},hE=()=>{window.clearTimeout(aE.current),aE.current=window.setTimeout(()=>{nE.current=!1},200)},mE=fE=>{md(yE=>{const AE={...yE,...fE};return oE.current=convertHsvaTo(Pm.current,AE),AE}),Hn(oE.current)};return useDidUpdate(()=>{isColorValid(_e)&&!nE.current&&md(parseColor(_e))},[_e]),useDidUpdate(()=>{Pm.current=de,Hn(convertHsvaTo(de,Jp))},[de]),jsxRuntimeExports.jsx(ColorPickerProvider,{value:{getStyles:gd,unstyled:ce},children:jsxRuntimeExports.jsxs(Box,{ref:ee,...gd("wrapper"),size:Ne,mod:[{"full-width":$t},Hi],...bn,children:[Pe&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Saturation,{value:Jp,onChange:mE,onChangeEnd:({s:fE,v:yE})=>be==null?void 0:be(convertHsvaTo(Pm.current,{...Jp,s:fE,v:yE})),color:nh,size:Ne,focusable:Ge,saturationLabel:we,onScrubStart:eE,onScrubEnd:hE}),jsxRuntimeExports.jsxs("div",{...gd("body"),children:[jsxRuntimeExports.jsxs("div",{...gd("sliders"),children:[jsxRuntimeExports.jsx(HueSlider,{value:Jp.h,onChange:fE=>mE({h:fE}),onChangeEnd:fE=>be==null?void 0:be(convertHsvaTo(Pm.current,{...Jp,h:fE})),size:Ne,focusable:Ge,"aria-label":De,onScrubStart:eE,onScrubEnd:hE}),On&&jsxRuntimeExports.jsx(AlphaSlider,{value:Jp.a,onChange:fE=>mE({a:fE}),onChangeEnd:fE=>{be==null||be(convertHsvaTo(Pm.current,{...Jp,a:fE}))},size:Ne,color:convertHsvaTo("hex",Jp),focusable:Ge,"aria-label":$e,onScrubStart:eE,onScrubEnd:hE})]}),On&&jsxRuntimeExports.jsx(ColorSwatch,{color:nh,radius:"sm",size:"var(--cp-preview-size)",...gd("preview")})]})]}),Array.isArray(Be)&&jsxRuntimeExports.jsx(Swatches,{data:Be,swatchesPerRow:ze,focusable:Ge,setValue:Hn,onChangeEnd:fE=>{const yE=convertHsvaTo(de,parseColor(fE));ut==null||ut(yE),be==null||be(yE),Xp||md(parseColor(fE))}})]})})});ColorPicker$1.classes=classes$4,ColorPicker$1.displayName="@mantine/core/ColorPicker";function EyeDropperIcon({style:ie,...ee}){return jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--ci-eye-dropper-icon-size)",height:"var(--ci-eye-dropper-icon-size)",...ie},viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",...ee,children:[jsxRuntimeExports.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M11 7l6 6"}),jsxRuntimeExports.jsx("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]})}var classes$3={eyeDropperIcon:"m_b077c2bc",colorPreview:"m_c5ccdcab",dropdown:"m_5ece2cd7"};const defaultProps$9={format:"hex",fixOnBlur:!0,withPreview:!0,swatchesPerRow:7,withPicker:!0,popoverProps:{transitionProps:{transition:"fade",duration:0}},withEyeDropper:!0},varsResolver$3=(ie,{size:ee})=>({eyeDropperIcon:{"--ci-eye-dropper-icon-size":getSize(ee,"ci-eye-dropper-icon-size")},colorPreview:{"--ci-preview-size":getSize(ee,"ci-preview-size")}}),ColorInput=factory((ie,ee)=>{const te=useProps("ColorInput",defaultProps$9,ie),{classNames:se,styles:ne,unstyled:le,disallowInput:ue,fixOnBlur:ce,popoverProps:he,withPreview:de,withEyeDropper:_e,eyeDropperIcon:fe,closeOnColorSwatchClick:ye,eyeDropperButtonProps:be,value:Pe,defaultValue:Ne,onChange:we,onChangeEnd:De,onClick:$e,onFocus:Ge,onBlur:Be,inputProps:ze,format:$t,wrapperProps:ut,readOnly:Ti,withPicker:Hi,swatches:bn,disabled:gd,leftSection:Pm,rightSection:oE,swatchesPerRow:aE,...nE}=useInputProps("ColorInput",defaultProps$9,ie),On=useStyles({name:"ColorInput",props:te,classes:classes$3,classNames:se,styles:ne,unstyled:le,rootSelector:"wrapper",vars:te.vars,varsResolver:varsResolver$3}),{resolvedClassNames:nh,resolvedStyles:Hn}=useResolvedStylesApi({classNames:se,styles:ne,props:te}),[Xp,Jp]=reactExports.useState(!1),[md,eE]=reactExports.useState(""),[hE,mE]=useUncontrolled({value:Pe,defaultValue:Ne,finalValue:"",onChange:we}),{supported:fE,open:yE}=useEyeDropper(),AE=jsxRuntimeExports.jsx(ActionIcon,{...be,...On("eyeDropperButton",{className:be==null?void 0:be.className,style:be==null?void 0:be.style}),variant:"subtle",color:"gray",size:ze.size,unstyled:le,onClick:()=>yE().then(jE=>{if(jE!=null&&jE.sRGBHex){const $E=convertHsvaTo($t,parseColor(jE.sRGBHex));mE($E),De==null||De($E)}}).catch(()=>{}),children:fe||jsxRuntimeExports.jsx(EyeDropperIcon,{...On("eyeDropperIcon")})}),bE=jE=>{Ge==null||Ge(jE),Jp(!0)},ME=jE=>{ce&&mE(md),Be==null||Be(jE),Jp(!1)},SE=jE=>{$e==null||$e(jE),Jp(!0)};return reactExports.useEffect(()=>{(isColorValid(hE)||hE.trim()==="")&&eE(hE)},[hE]),useDidUpdate(()=>{isColorValid(hE)&&mE(convertHsvaTo($t,parseColor(hE)))},[$t]),jsxRuntimeExports.jsx(Input.Wrapper,{...ut,classNames:nh,styles:Hn,__staticSelector:"ColorInput",children:jsxRuntimeExports.jsxs(Popover,{__staticSelector:"ColorInput",position:"bottom-start",offset:5,opened:Xp,...he,classNames:nh,styles:Hn,unstyled:le,withRoles:!1,disabled:Ti||Hi===!1&&(!Array.isArray(bn)||bn.length===0),children:[jsxRuntimeExports.jsx(Popover.Target,{children:jsxRuntimeExports.jsx(Input,{autoComplete:"off",...nE,...ze,classNames:nh,styles:Hn,disabled:gd,ref:ee,__staticSelector:"ColorInput",onFocus:bE,onBlur:ME,onClick:SE,spellCheck:!1,value:hE,onChange:jE=>{const $E=jE.currentTarget.value;mE($E),isColorValid($E)&&(De==null||De(convertHsvaTo($t,parseColor($E))))},leftSection:Pm||(de?jsxRuntimeExports.jsx(ColorSwatch,{color:isColorValid(hE)?hE:"#fff",size:"var(--ci-preview-size)",...On("colorPreview")}):null),readOnly:ue||Ti,pointer:ue,unstyled:le,rightSection:oE||(_e&&!gd&&!Ti&&fE?AE:null)})}),jsxRuntimeExports.jsx(Popover.Dropdown,{onMouseDown:jE=>jE.preventDefault(),className:classes$3.dropdown,children:jsxRuntimeExports.jsx(ColorPicker$1,{__staticSelector:"ColorInput",value:hE,onChange:mE,onChangeEnd:De,format:$t,swatches:bn,swatchesPerRow:aE,withPicker:Hi,size:ze.size,focusable:!1,unstyled:le,styles:Hn,classNames:nh,onColorSwatchClick:()=>ye&&Jp(!1)})})]})})});ColorInput.classes=InputBase.classes,ColorInput.displayName="@mantine/core/ColorInput";const defaultProps$8={timeout:1e3};function CopyButton(ie){const{children:ee,timeout:te,value:se,...ne}=useProps("CopyButton",defaultProps$8,ie),le=useClipboard({timeout:te}),ue=()=>le.copy(se);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ee({copy:ue,copied:le.copied,...ne})})}CopyButton.displayName="@mantine/core/CopyButton";function __rest(ie,ee){var te={};for(var se in ie)Object.prototype.hasOwnProperty.call(ie,se)&&ee.indexOf(se)<0&&(te[se]=ie[se]);if(ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ne=0,se=Object.getOwnPropertySymbols(ie);ne<se.length;ne++)ee.indexOf(se[ne])<0&&Object.prototype.propertyIsEnumerable.call(ie,se[ne])&&(te[se[ne]]=ie[se[ne]]);return te}var SourceType;(function(ie){ie.event="event",ie.props="prop"})(SourceType||(SourceType={}));function noop(){}function memoizeOnce(ie){var ee,te=void 0;return function(){for(var se=[],ne=arguments.length;ne--;)se[ne]=arguments[ne];return ee&&se.length===ee.length&&se.every(function(le,ue){return le===ee[ue]})||(ee=se,te=ie.apply(void 0,se)),te}}function charIsNumber(ie){return!!(ie||"").match(/\d/)}function isNil(ie){return ie==null}function isNanValue(ie){return typeof ie=="number"&&isNaN(ie)}function isNotValidValue(ie){return isNil(ie)||isNanValue(ie)||typeof ie=="number"&&!isFinite(ie)}function escapeRegExp$1(ie){return ie.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function getThousandsGroupRegex(ie){switch(ie){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function applyThousandSeparator(ie,ee,te){var se=getThousandsGroupRegex(te),ne=ie.search(/[1-9]/);return ne=ne===-1?ie.length:ne,ie.substring(0,ne)+ie.substring(ne,ie.length).replace(se,"$1"+ee)}function usePersistentCallback(ie){var ee=reactExports.useRef(ie);ee.current=ie;var te=reactExports.useRef(function(){for(var se=[],ne=arguments.length;ne--;)se[ne]=arguments[ne];return ee.current.apply(ee,se)});return te.current}function splitDecimal(ie,ee){ee===void 0&&(ee=!0);var te=ie[0]==="-",se=te&&ee;ie=ie.replace("-","");var ne=ie.split("."),le=ne[0],ue=ne[1]||"";return{beforeDecimal:le,afterDecimal:ue,hasNegation:te,addNegation:se}}function fixLeadingZero(ie){if(!ie)return ie;var ee=ie[0]==="-";ee&&(ie=ie.substring(1,ie.length));var te=ie.split("."),se=te[0].replace(/^0+/,"")||"0",ne=te[1]||"";return(ee?"-":"")+se+(ne?"."+ne:"")}function limitToScale(ie,ee,te){for(var se="",ne=te?"0":"",le=0;le<=ee-1;le++)se+=ie[le]||ne;return se}function repeat(ie,ee){return Array(ee+1).join(ie)}function toNumericString(ie){var ee=ie+"",te=ee[0]==="-"?"-":"";te&&(ee=ee.substring(1));var se=ee.split(/[eE]/g),ne=se[0],le=se[1];if(le=Number(le),!le)return te+ne;ne=ne.replace(".","");var ue=1+le,ce=ne.length;return ue<0?ne="0."+repeat("0",Math.abs(ue))+ne:ue>=ce?ne=ne+repeat("0",ue-ce):ne=(ne.substring(0,ue)||"0")+"."+ne.substring(ue),te+ne}function roundToPrecision(ie,ee,te){if(["","-"].indexOf(ie)!==-1)return ie;var se=(ie.indexOf(".")!==-1||te)&&ee,ne=splitDecimal(ie),le=ne.beforeDecimal,ue=ne.afterDecimal,ce=ne.hasNegation,he=parseFloat("0."+(ue||"0")),de=ue.length<=ee?"0."+ue:he.toFixed(ee),_e=de.split("."),fe=le;le&&Number(_e[0])&&(fe=le.split("").reverse().reduce(function(Ne,we,De){return Ne.length>De?(Number(Ne[0])+Number(we)).toString()+Ne.substring(1,Ne.length):we+Ne},_e[0]));var ye=limitToScale(_e[1]||"",ee,te),be=ce?"-":"",Pe=se?".":"";return""+be+fe+Pe+ye}function setCaretPosition(ie,ee){if(ie.value=ie.value,ie!==null){if(ie.createTextRange){var te=ie.createTextRange();return te.move("character",ee),te.select(),!0}return ie.selectionStart||ie.selectionStart===0?(ie.focus(),ie.setSelectionRange(ee,ee),!0):(ie.focus(),!1)}}var findChangeRange=memoizeOnce(function(ie,ee){for(var te=0,se=0,ne=ie.length,le=ee.length;ie[te]===ee[te]&&te<ne;)te++;for(;ie[ne-1-se]===ee[le-1-se]&&le-se>te&&ne-se>te;)se++;return{from:{start:te,end:ne-se},to:{start:te,end:le-se}}}),findChangedRangeFromCaretPositions=function(ie,ee){var te=Math.min(ie.selectionStart,ee);return{from:{start:te,end:ie.selectionEnd},to:{start:te,end:ee}}};function clamp(ie,ee,te){return Math.min(Math.max(ie,ee),te)}function geInputCaretPosition(ie){return Math.max(ie.selectionStart,ie.selectionEnd)}function addInputMode(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function getDefaultChangeMeta(ie){return{from:{start:0,end:0},to:{start:0,end:ie.length},lastValue:""}}function defaultIsCharacterSame(ie){var ee=ie.currentValue,te=ie.formattedValue,se=ie.currentValueIndex,ne=ie.formattedValueIndex;return ee[se]===te[ne]}function getCaretPosition(ie,ee,te,se,ne,le,ue){ue===void 0&&(ue=defaultIsCharacterSame);var ce=ne.findIndex(function(Be){return Be}),he=ie.slice(0,ce);!ee&&!te.startsWith(he)&&(ee=he,te=he+te,se=se+he.length);for(var de=te.length,_e=ie.length,fe={},ye=new Array(de),be=0;be<de;be++){ye[be]=-1;for(var Pe=0,Ne=_e;Pe<Ne;Pe++){var we=ue({currentValue:te,lastValue:ee,formattedValue:ie,currentValueIndex:be,formattedValueIndex:Pe});if(we&&fe[Pe]!==!0){ye[be]=Pe,fe[Pe]=!0;break}}}for(var De=se;De<de&&(ye[De]===-1||!le(te[De]));)De++;var $e=De===de||ye[De]===-1?_e:ye[De];for(De=se-1;De>0&&ye[De]===-1;)De--;var Ge=De===-1||ye[De]===-1?0:ye[De]+1;return Ge>$e?$e:se-Ge<$e-se?Ge:$e}function getCaretPosInBoundary(ie,ee,te,se){var ne=ie.length;if(ee=clamp(ee,0,ne),se==="left"){for(;ee>=0&&!te[ee];)ee--;ee===-1&&(ee=te.indexOf(!0))}else{for(;ee<=ne&&!te[ee];)ee++;ee>ne&&(ee=te.lastIndexOf(!0))}return ee===-1&&(ee=ne),ee}function caretUnknownFormatBoundary(ie){for(var ee=Array.from({length:ie.length+1}).map(function(){return!0}),te=0,se=ee.length;te<se;te++)ee[te]=!!(charIsNumber(ie[te])||charIsNumber(ie[te-1]));return ee}function useInternalValues(ie,ee,te,se,ne,le){le===void 0&&(le=noop);var ue=usePersistentCallback(function(Pe,Ne){var we,De;return isNotValidValue(Pe)?(De="",we=""):typeof Pe=="number"||Ne?(De=typeof Pe=="number"?toNumericString(Pe):Pe,we=se(De)):(De=ne(Pe,void 0),we=se(De)),{formattedValue:we,numAsString:De}}),ce=reactExports.useState(function(){return ue(isNil(ie)?ee:ie,te)}),he=ce[0],de=ce[1],_e=function(Pe,Ne){Pe.formattedValue!==he.formattedValue&&de({formattedValue:Pe.formattedValue,numAsString:Pe.value}),le(Pe,Ne)},fe=ie,ye=te;isNil(ie)&&(fe=he.numAsString,ye=!0);var be=ue(fe,ye);return reactExports.useMemo(function(){de(be)},[be.formattedValue]),[he,_e]}function defaultRemoveFormatting(ie){return ie.replace(/[^0-9]/g,"")}function defaultFormat(ie){return ie}function NumberFormatBase(ie){var ee=ie.type;ee===void 0&&(ee="text");var te=ie.displayType;te===void 0&&(te="input");var se=ie.customInput,ne=ie.renderText,le=ie.getInputRef,ue=ie.format;ue===void 0&&(ue=defaultFormat);var ce=ie.removeFormatting;ce===void 0&&(ce=defaultRemoveFormatting);var he=ie.defaultValue,de=ie.valueIsNumericString,_e=ie.onValueChange,fe=ie.isAllowed,ye=ie.onChange;ye===void 0&&(ye=noop);var be=ie.onKeyDown;be===void 0&&(be=noop);var Pe=ie.onMouseUp;Pe===void 0&&(Pe=noop);var Ne=ie.onFocus;Ne===void 0&&(Ne=noop);var we=ie.onBlur;we===void 0&&(we=noop);var De=ie.value,$e=ie.getCaretBoundary;$e===void 0&&($e=caretUnknownFormatBoundary);var Ge=ie.isValidInputCharacter;Ge===void 0&&(Ge=charIsNumber);var Be=ie.isCharacterSame,ze=__rest(ie,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),$t=useInternalValues(De,he,!!de,ue,ce,_e),ut=$t[0],Ti=ut.formattedValue,Hi=ut.numAsString,bn=$t[1],gd=reactExports.useRef(),Pm=reactExports.useRef({formattedValue:Ti,numAsString:Hi}),oE=function(TE,xE){Pm.current={formattedValue:TE.formattedValue,numAsString:TE.value},bn(TE,xE)},aE=reactExports.useState(!1),nE=aE[0],On=aE[1],nh=reactExports.useRef(null),Hn=reactExports.useRef({setCaretTimeout:null,focusTimeout:null});reactExports.useEffect(function(){return On(!0),function(){clearTimeout(Hn.current.setCaretTimeout),clearTimeout(Hn.current.focusTimeout)}},[]);var Xp=ue,Jp=function(TE,xE){var BE=parseFloat(xE);return{formattedValue:TE,value:xE,floatValue:isNaN(BE)?void 0:BE}},md=function(TE,xE,BE){TE.selectionStart===0&&TE.selectionEnd===TE.value.length||(setCaretPosition(TE,xE),Hn.current.setCaretTimeout=setTimeout(function(){TE.value===BE&&TE.selectionStart!==xE&&setCaretPosition(TE,xE)},0))},eE=function(TE,xE,BE){return getCaretPosInBoundary(TE,xE,$e(TE),BE)},hE=function(TE,xE,BE){var eR=$e(xE),sR=getCaretPosition(xE,Ti,TE,BE,eR,Ge,Be);return sR=getCaretPosInBoundary(xE,sR,eR),sR},mE=function(TE){var xE=TE.formattedValue;xE===void 0&&(xE="");var BE=TE.input,eR=TE.source,sR=TE.event,ZE=TE.numAsString,vE;if(BE){var XE=TE.inputValue||BE.value,pR=geInputCaretPosition(BE);BE.value=xE,vE=hE(XE,xE,pR),vE!==void 0&&md(BE,vE,xE)}xE!==Ti&&oE(Jp(xE,ZE),{event:sR,source:eR})};reactExports.useEffect(function(){var TE=Pm.current,xE=TE.formattedValue,BE=TE.numAsString;(Ti!==xE||Hi!==BE)&&oE(Jp(Ti,Hi),{event:void 0,source:SourceType.props})},[Ti,Hi]);var fE=nh.current?geInputCaretPosition(nh.current):void 0,yE=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;yE(function(){var TE=nh.current;if(Ti!==Pm.current.formattedValue&&TE){var xE=hE(Pm.current.formattedValue,Ti,fE);TE.value=Ti,md(TE,xE,Ti)}},[Ti]);var AE=function(TE,xE,BE){var eR=xE.target,sR=gd.current?findChangedRangeFromCaretPositions(gd.current,eR.selectionEnd):findChangeRange(Ti,TE),ZE=Object.assign(Object.assign({},sR),{lastValue:Ti}),vE=ce(TE,ZE),XE=Xp(vE);if(vE=ce(XE,void 0),fe&&!fe(Jp(XE,vE))){var pR=xE.target,CR=geInputCaretPosition(pR),MR=hE(TE,Ti,CR);return pR.value=Ti,md(pR,MR,Ti),!1}return mE({formattedValue:XE,numAsString:vE,inputValue:TE,event:xE,source:BE,input:xE.target}),!0},bE=function(TE,xE){xE===void 0&&(xE=0);var BE=TE.selectionStart,eR=TE.selectionEnd;gd.current={selectionStart:BE,selectionEnd:eR+xE}},ME=function(TE){var xE=TE.target,BE=xE.value,eR=AE(BE,TE,SourceType.event);eR&&ye(TE),gd.current=void 0},SE=function(TE){var xE=TE.target,BE=TE.key,eR=xE.selectionStart,sR=xE.selectionEnd,ZE=xE.value;ZE===void 0&&(ZE="");var vE;BE==="ArrowLeft"||BE==="Backspace"?vE=Math.max(eR-1,0):BE==="ArrowRight"?vE=Math.min(eR+1,ZE.length):BE==="Delete"&&(vE=eR);var XE=0;BE==="Delete"&&eR===sR&&(XE=1);var pR=BE==="ArrowLeft"||BE==="ArrowRight";if(vE===void 0||eR!==sR&&!pR){be(TE),bE(xE,XE);return}var CR=vE;if(pR){var MR=BE==="ArrowLeft"?"left":"right";CR=eE(ZE,vE,MR),CR!==vE&&TE.preventDefault()}else BE==="Delete"&&!Ge(ZE[vE])?CR=eE(ZE,vE,"right"):BE==="Backspace"&&!Ge(ZE[vE])&&(CR=eE(ZE,vE,"left"));CR!==vE&&md(xE,CR,ZE),be(TE),bE(xE,XE)},jE=function(TE){var xE=TE.target,BE=function(){var eR=xE.selectionStart,sR=xE.selectionEnd,ZE=xE.value;if(ZE===void 0&&(ZE=""),eR===sR){var vE=eE(ZE,eR);vE!==eR&&md(xE,vE,ZE)}};BE(),requestAnimationFrame(function(){BE()}),Pe(TE),bE(xE)},$E=function(TE){TE.persist&&TE.persist();var xE=TE.target,BE=TE.currentTarget;nh.current=xE,Hn.current.focusTimeout=setTimeout(function(){var eR=xE.selectionStart,sR=xE.selectionEnd,ZE=xE.value;ZE===void 0&&(ZE="");var vE=eE(ZE,eR);vE!==eR&&!(eR===0&&sR===ZE.length)&&md(xE,vE,ZE),Ne(Object.assign(Object.assign({},TE),{currentTarget:BE}))},0)},zE=function(TE){nh.current=null,clearTimeout(Hn.current.focusTimeout),clearTimeout(Hn.current.setCaretTimeout),we(TE)},YE=nE&&addInputMode()?"numeric":void 0,HE=Object.assign({inputMode:YE},ze,{type:ee,value:Ti,onChange:ME,onKeyDown:SE,onMouseUp:jE,onFocus:$E,onBlur:zE});if(te==="text")return ne?React.createElement(React.Fragment,null,ne(Ti,ze)||null):React.createElement("span",Object.assign({},ze,{ref:le}),Ti);if(se){var VE=se;return React.createElement(VE,Object.assign({},HE,{ref:le}))}return React.createElement("input",Object.assign({},HE,{ref:le}))}function format(ie,ee){var te=ee.decimalScale,se=ee.fixedDecimalScale,ne=ee.prefix;ne===void 0&&(ne="");var le=ee.suffix;le===void 0&&(le="");var ue=ee.allowNegative,ce=ee.thousandsGroupStyle;if(ce===void 0&&(ce="thousand"),ie===""||ie==="-")return ie;var he=getSeparators(ee),de=he.thousandSeparator,_e=he.decimalSeparator,fe=te!==0&&ie.indexOf(".")!==-1||te&&se,ye=splitDecimal(ie,ue),be=ye.beforeDecimal,Pe=ye.afterDecimal,Ne=ye.addNegation;return te!==void 0&&(Pe=limitToScale(Pe,te,!!se)),de&&(be=applyThousandSeparator(be,de,ce)),ne&&(be=ne+be),le&&(Pe=Pe+le),Ne&&(be="-"+be),ie=be+(fe&&_e||"")+Pe,ie}function getSeparators(ie){var ee=ie.decimalSeparator;ee===void 0&&(ee=".");var te=ie.thousandSeparator,se=ie.allowedDecimalSeparators;return te===!0&&(te=","),se||(se=[ee,"."]),{decimalSeparator:ee,thousandSeparator:te,allowedDecimalSeparators:se}}function handleNegation(ie,ee){ie===void 0&&(ie="");var te=new RegExp("(-)"),se=new RegExp("(-)(.)*(-)"),ne=te.test(ie),le=se.test(ie);return ie=ie.replace(/-/g,""),ne&&!le&&ee&&(ie="-"+ie),ie}function getNumberRegex(ie,ee){return new RegExp("(^-)|[0-9]|"+escapeRegExp$1(ie),"g")}function isNumericString(ie,ee,te){return ie===""?!0:!(ee!=null&&ee.match(/\d/))&&!(te!=null&&te.match(/\d/))&&typeof ie=="string"&&!isNaN(Number(ie))}function removeFormatting(ie,ee,te){var se;ee===void 0&&(ee=getDefaultChangeMeta(ie));var ne=te.allowNegative,le=te.prefix;le===void 0&&(le="");var ue=te.suffix;ue===void 0&&(ue="");var ce=te.decimalScale,he=ee.from,de=ee.to,_e=de.start,fe=de.end,ye=getSeparators(te),be=ye.allowedDecimalSeparators,Pe=ye.decimalSeparator,Ne=ie[fe]===Pe;if(charIsNumber(ie)&&(ie===le||ie===ue)&&ee.lastValue==="")return ie;if(fe-_e===1&&be.indexOf(ie[_e])!==-1){var we=ce===0?"":Pe;ie=ie.substring(0,_e)+we+ie.substring(_e+1,ie.length)}var De=function(nh,Hn,Xp){var Jp=!1,md=!1;le.startsWith("-")?Jp=!1:nh.startsWith("--")?(Jp=!1,md=!0):ue.startsWith("-")&&nh.length===ue.length?Jp=!1:nh[0]==="-"&&(Jp=!0);var eE=Jp?1:0;return md&&(eE=2),eE&&(nh=nh.substring(eE),Hn-=eE,Xp-=eE),{value:nh,start:Hn,end:Xp,hasNegation:Jp}},$e=De(ie,_e,fe),Ge=$e.hasNegation;se=$e,ie=se.value,_e=se.start,fe=se.end;var Be=De(ee.lastValue,he.start,he.end),ze=Be.start,$t=Be.end,ut=Be.value,Ti=ie.substring(_e,fe);ie.length&&ut.length&&(ze>ut.length-ue.length||$t<le.length)&&!(Ti&&ue.startsWith(Ti))&&(ie=ut);var Hi=0;ie.startsWith(le)?Hi+=le.length:_e<le.length&&(Hi=_e),ie=ie.substring(Hi),fe-=Hi;var bn=ie.length,gd=ie.length-ue.length;ie.endsWith(ue)?bn=gd:(fe>gd||fe>ie.length-ue.length)&&(bn=fe),ie=ie.substring(0,bn),ie=handleNegation(Ge?"-"+ie:ie,ne),ie=(ie.match(getNumberRegex(Pe))||[]).join("");var Pm=ie.indexOf(Pe);ie=ie.replace(new RegExp(escapeRegExp$1(Pe),"g"),function(nh,Hn){return Hn===Pm?".":""});var oE=splitDecimal(ie,ne),aE=oE.beforeDecimal,nE=oE.afterDecimal,On=oE.addNegation;return de.end-de.start<he.end-he.start&&aE===""&&Ne&&!parseFloat(nE)&&(ie=On?"-":""),ie}function getCaretBoundary(ie,ee){var te=ee.prefix;te===void 0&&(te="");var se=ee.suffix;se===void 0&&(se="");var ne=Array.from({length:ie.length+1}).map(function(){return!0}),le=ie[0]==="-";ne.fill(!1,0,te.length+(le?1:0));var ue=ie.length;return ne.fill(!1,ue-se.length+1,ue+1),ne}function validateAndUpdateProps(ie){var ee=getSeparators(ie),te=ee.thousandSeparator,se=ee.decimalSeparator,ne=ie.prefix;ne===void 0&&(ne="");var le=ie.allowNegative;if(le===void 0&&(le=!0),te===se)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+te+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+se+` (default value for decimalSeparator is .)
     `);return ne.startsWith("-")&&le&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+ne+`
      allowNegative: `+le+`
    `),le=!1),Object.assign(Object.assign({},ie),{allowNegative:le})}function useNumericFormat(ie){ie=validateAndUpdateProps(ie),ie.decimalSeparator,ie.allowedDecimalSeparators,ie.thousandsGroupStyle;var ee=ie.suffix,te=ie.allowNegative,se=ie.allowLeadingZeros,ne=ie.onKeyDown;ne===void 0&&(ne=noop);var le=ie.onBlur;le===void 0&&(le=noop);var ue=ie.thousandSeparator,ce=ie.decimalScale,he=ie.fixedDecimalScale,de=ie.prefix;de===void 0&&(de="");var _e=ie.defaultValue,fe=ie.value,ye=ie.valueIsNumericString,be=ie.onValueChange,Pe=__rest(ie,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),Ne=getSeparators(ie),we=Ne.decimalSeparator,De=Ne.allowedDecimalSeparators,$e=function(On){return format(On,ie)},Ge=function(On,nh){return removeFormatting(On,nh,ie)},Be=isNil(fe)?_e:fe,ze=ye??isNumericString(Be,de,ee);isNil(fe)?isNil(_e)||(ze=ze||typeof _e=="number"):ze=ze||typeof fe=="number";var $t=function(On){return isNotValidValue(On)?On:(typeof On=="number"&&(On=toNumericString(On)),ze&&typeof ce=="number"?roundToPrecision(On,ce,!!he):On)},ut=useInternalValues($t(fe),$t(_e),!!ze,$e,Ge,be),Ti=ut[0],Hi=Ti.numAsString,bn=Ti.formattedValue,gd=ut[1],Pm=function(On){var nh=On.target,Hn=On.key,Xp=nh.selectionStart,Jp=nh.selectionEnd,md=nh.value;if(md===void 0&&(md=""),(Hn==="Backspace"||Hn==="Delete")&&Jp<de.length){On.preventDefault();return}if(Xp!==Jp){ne(On);return}Hn==="Backspace"&&md[0]==="-"&&Xp===de.length+1&&te&&setCaretPosition(nh,1),ce&&he&&(Hn==="Backspace"&&md[Xp-1]===we?(setCaretPosition(nh,Xp-1),On.preventDefault()):Hn==="Delete"&&md[Xp]===we&&On.preventDefault()),De!=null&&De.includes(Hn)&&md[Xp]===we&&setCaretPosition(nh,Xp+1);var eE=ue===!0?",":ue;Hn==="Backspace"&&md[Xp-1]===eE&&setCaretPosition(nh,Xp-1),Hn==="Delete"&&md[Xp]===eE&&setCaretPosition(nh,Xp+1),ne(On)},oE=function(On){var nh=Hi;if(nh.match(/\d/g)||(nh=""),se||(nh=fixLeadingZero(nh)),he&&ce&&(nh=roundToPrecision(nh,ce,he)),nh!==Hi){var Hn=format(nh,ie);gd({formattedValue:Hn,value:nh,floatValue:parseFloat(nh)},{event:On,source:SourceType.event})}le(On)},aE=function(On){return On===we?!0:charIsNumber(On)},nE=function(On){var nh=On.currentValue,Hn=On.lastValue,Xp=On.formattedValue,Jp=On.currentValueIndex,md=On.formattedValueIndex,eE=nh[Jp],hE=Xp[md],mE=findChangeRange(Hn,nh),fE=mE.to,yE=function(AE){return Ge(AE).indexOf(".")+de.length};return fe===0&&he&&ce&&nh[fE.start]===we&&yE(nh)<Jp&&yE(Xp)>md?!1:Jp>=fE.start&&Jp<fE.end&&De&&De.includes(eE)&&hE===we?!0:eE===hE};return Object.assign(Object.assign({},Pe),{value:bn,valueIsNumericString:!1,isValidInputCharacter:aE,isCharacterSame:nE,onValueChange:gd,format:$e,removeFormatting:Ge,getCaretBoundary:function(On){return getCaretBoundary(On,ie)},onKeyDown:Pm,onBlur:oE})}function NumericFormat(ie){var ee=useNumericFormat(ie);return React.createElement(NumberFormatBase,Object.assign({},ee))}function NumberInputChevron({direction:ie,style:ee,...te}){return jsxRuntimeExports.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:ie==="up"?"rotate(180deg)":void 0,...ee},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...te,children:jsxRuntimeExports.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var classes$2={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const leadingDecimalZeroPattern=/^(0\.0*|-0(\.0*)?)$/,leadingZerosPattern=/^-?0\d+(\.\d+)?\.?$/;function isNumberString(ie){return typeof ie=="string"&&ie!==""&&!Number.isNaN(Number(ie))}function canIncrement(ie){return typeof ie=="number"?ie<Number.MAX_SAFE_INTEGER:ie===""||isNumberString(ie)&&Number(ie)<Number.MAX_SAFE_INTEGER}function getDecimalPlaces(ie){return ie.toString().replace(".","").length}function isValidNumber(ie,ee){return(typeof ie=="number"?ie<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(ie)))&&!Number.isNaN(ie)&&getDecimalPlaces(ee)<14&&ee!==""}function isInRange(ie,ee,te){if(ie===void 0)return!0;const se=ee===void 0||ie>=ee,ne=te===void 0||ie<=te;return se&&ne}const defaultProps$7={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},varsResolver$2=(ie,{size:ee})=>({controls:{"--ni-chevron-size":getSize(ee,"ni-chevron-size")}}),NumberInput$1=factory((ie,ee)=>{const te=useProps("NumberInput",defaultProps$7,ie),{className:se,classNames:ne,styles:le,unstyled:ue,vars:ce,onChange:he,onValueChange:de,value:_e,defaultValue:fe,max:ye,min:be,step:Pe,hideControls:Ne,rightSection:we,isAllowed:De,clampBehavior:$e,onBlur:Ge,allowDecimal:Be,decimalScale:ze,onKeyDown:$t,onKeyDownCapture:ut,handlersRef:Ti,startValue:Hi,disabled:bn,rightSectionPointerEvents:gd,allowNegative:Pm,readOnly:oE,size:aE,rightSectionWidth:nE,stepHoldInterval:On,stepHoldDelay:nh,allowLeadingZeros:Hn,withKeyboardEvents:Xp,trimLeadingZeroesOnBlur:Jp,...md}=te,eE=useStyles({name:"NumberInput",classes:classes$2,props:te,classNames:ne,styles:le,unstyled:ue,vars:ce,varsResolver:varsResolver$2}),{resolvedClassNames:hE,resolvedStyles:mE}=useResolvedStylesApi({classNames:ne,styles:le,props:te}),[fE,yE]=useUncontrolled({value:_e,defaultValue:fe,finalValue:"",onChange:he}),AE=nh!==void 0&&On!==void 0,bE=reactExports.useRef(null),ME=reactExports.useRef(null),SE=reactExports.useRef(0),jE=(vE,XE)=>{XE.source==="event"&&yE(isValidNumber(vE.floatValue,vE.value)&&!leadingDecimalZeroPattern.test(vE.value)&&!(Hn&&leadingZerosPattern.test(vE.value))?vE.floatValue:vE.value),de==null||de(vE,XE)},$E=vE=>{const XE=String(vE).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return XE?Math.max(0,(XE[1]?XE[1].length:0)-(XE[2]?+XE[2]:0)):0},zE=vE=>{bE.current&&typeof vE<"u"&&bE.current.setSelectionRange(vE,vE)},YE=reactExports.useRef(noop$2);YE.current=()=>{if(!canIncrement(fE))return;let vE;const XE=$E(fE),pR=$E(Pe),CR=Math.max(XE,pR),MR=10**CR;if(!isNumberString(fE)&&(typeof fE!="number"||Number.isNaN(fE)))vE=clamp$3(Hi,be,ye);else if(ye!==void 0){const VR=(Math.round(Number(fE)*MR)+Math.round(Pe*MR))/MR;vE=VR<=ye?VR:ye}else vE=(Math.round(Number(fE)*MR)+Math.round(Pe*MR))/MR;const yR=vE.toFixed(CR);yE(parseFloat(yR)),de==null||de({floatValue:parseFloat(yR),formattedValue:yR,value:yR},{source:"increment"}),setTimeout(()=>{var VR;return zE((VR=bE.current)==null?void 0:VR.value.length)},0)};const HE=reactExports.useRef(noop$2);HE.current=()=>{if(!canIncrement(fE))return;let vE;const XE=be!==void 0?be:Pm?Number.MIN_SAFE_INTEGER:0,pR=$E(fE),CR=$E(Pe),MR=Math.max(pR,CR),yR=10**MR;if(!isNumberString(fE)&&typeof fE!="number"||Number.isNaN(fE))vE=clamp$3(Hi,XE,ye);else{const jR=(Math.round(Number(fE)*yR)-Math.round(Pe*yR))/yR;vE=XE!==void 0&&jR<XE?XE:jR}const VR=vE.toFixed(MR);yE(parseFloat(VR)),de==null||de({floatValue:parseFloat(VR),formattedValue:VR,value:VR},{source:"decrement"}),setTimeout(()=>{var jR;return zE((jR=bE.current)==null?void 0:jR.value.length)},0)};const VE=vE=>{$t==null||$t(vE),!(oE||!Xp)&&(vE.key==="ArrowUp"&&(vE.preventDefault(),YE.current()),vE.key==="ArrowDown"&&(vE.preventDefault(),HE.current()))},TE=vE=>{if(ut==null||ut(vE),vE.key==="Backspace"){const XE=bE.current;XE.selectionStart===0&&XE.selectionStart===XE.selectionEnd&&(vE.preventDefault(),window.setTimeout(()=>zE(0),0))}};assignRef(Ti,{increment:YE.current,decrement:HE.current});const xE=vE=>{vE?YE.current():HE.current(),SE.current+=1},BE=vE=>{if(xE(vE),AE){const XE=typeof On=="number"?On:On(SE.current);ME.current=window.setTimeout(()=>BE(vE),XE)}},eR=(vE,XE)=>{var pR;vE.preventDefault(),(pR=bE.current)==null||pR.focus(),xE(XE),AE&&(ME.current=window.setTimeout(()=>BE(XE),nh))},sR=()=>{ME.current&&window.clearTimeout(ME.current),ME.current=null,SE.current=0},ZE=jsxRuntimeExports.jsxs("div",{...eE("controls"),children:[jsxRuntimeExports.jsx(UnstyledButton,{...eE("control"),tabIndex:-1,"aria-hidden":!0,disabled:bn||typeof fE=="number"&&ye!==void 0&&fE>=ye,mod:{direction:"up"},onMouseDown:vE=>vE.preventDefault(),onPointerDown:vE=>{eR(vE,!0)},onPointerUp:sR,onPointerLeave:sR,children:jsxRuntimeExports.jsx(NumberInputChevron,{direction:"up"})}),jsxRuntimeExports.jsx(UnstyledButton,{...eE("control"),tabIndex:-1,"aria-hidden":!0,disabled:bn||typeof fE=="number"&&be!==void 0&&fE<=be,mod:{direction:"down"},onMouseDown:vE=>vE.preventDefault(),onPointerDown:vE=>{eR(vE,!1)},onPointerUp:sR,onPointerLeave:sR,children:jsxRuntimeExports.jsx(NumberInputChevron,{direction:"down"})})]});return jsxRuntimeExports.jsx(InputBase,{component:NumericFormat,allowNegative:Pm,className:clsx(classes$2.root,se),size:aE,...md,readOnly:oE,disabled:bn,value:fE,getInputRef:useMergedRef(ee,bE),onValueChange:jE,rightSection:Ne||oE||!canIncrement(fE)?we:we||ZE,classNames:hE,styles:mE,unstyled:ue,__staticSelector:"NumberInput",decimalScale:Be?ze:0,onKeyDown:VE,onKeyDownCapture:TE,rightSectionPointerEvents:gd??(bn?"none":void 0),rightSectionWidth:nE??`var(--ni-right-section-width-${aE||"sm"})`,allowLeadingZeros:Hn,onBlur:vE=>{if(Ge==null||Ge(vE),$e==="blur"&&typeof fE=="number"&&clamp$3(fE,be,ye)!==fE&&yE(clamp$3(fE,be,ye)),Jp&&typeof fE=="string"&&$E(fE)<15){const XE=fE.replace(/^0+/,""),pR=parseFloat(XE);yE(Number.isNaN(pR)||pR>Number.MAX_SAFE_INTEGER?XE:clamp$3(pR,be,ye))}},isAllowed:vE=>$e==="strict"?De?De(vE)&&isInRange(vE.floatValue,be,ye):isInRange(vE.floatValue,be,ye):De?De(vE):!0})});NumberInput$1.classes={...InputBase.classes,...classes$2},NumberInput$1.displayName="@mantine/core/NumberInput";const SwitchGroupContext=reactExports.createContext(null),SwitchGroupProvider=SwitchGroupContext.Provider,useSwitchGroupContext=()=>reactExports.useContext(SwitchGroupContext),defaultProps$6={},SwitchGroup=factory((ie,ee)=>{const{value:te,defaultValue:se,onChange:ne,size:le,wrapperProps:ue,children:ce,readOnly:he,...de}=useProps("SwitchGroup",defaultProps$6,ie),[_e,fe]=useUncontrolled({value:te,defaultValue:se,finalValue:[],onChange:ne}),ye=be=>{const Pe=be.currentTarget.value;!he&&fe(_e.includes(Pe)?_e.filter(Ne=>Ne!==Pe):[..._e,Pe])};return jsxRuntimeExports.jsx(SwitchGroupProvider,{value:{value:_e,onChange:ye,size:le},children:jsxRuntimeExports.jsx(Input.Wrapper,{size:le,ref:ee,...ue,...de,labelElement:"div",__staticSelector:"SwitchGroup",children:jsxRuntimeExports.jsx(InputsGroupFieldset,{role:"group",children:ce})})})});SwitchGroup.classes=Input.Wrapper.classes,SwitchGroup.displayName="@mantine/core/SwitchGroup";var classes$1={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const defaultProps$5={labelPosition:"right"},varsResolver$1=(ie,{radius:ee,color:te,size:se})=>({root:{"--switch-radius":ee===void 0?void 0:getRadius(ee),"--switch-height":getSize(se,"switch-height"),"--switch-width":getSize(se,"switch-width"),"--switch-thumb-size":getSize(se,"switch-thumb-size"),"--switch-label-font-size":getSize(se,"switch-label-font-size"),"--switch-track-label-padding":getSize(se,"switch-track-label-padding"),"--switch-color":te?getThemeColor(te,ie):void 0}}),Switch$2=factory((ie,ee)=>{const te=useProps("Switch",defaultProps$5,ie),{classNames:se,className:ne,style:le,styles:ue,unstyled:ce,vars:he,color:de,label:_e,offLabel:fe,onLabel:ye,id:be,size:Pe,radius:Ne,wrapperProps:we,thumbIcon:De,checked:$e,defaultChecked:Ge,onChange:Be,labelPosition:ze,description:$t,error:ut,disabled:Ti,variant:Hi,rootRef:bn,mod:gd,...Pm}=te,oE=useSwitchGroupContext(),aE=Pe||(oE==null?void 0:oE.size),nE=useStyles({name:"Switch",props:te,classes:classes$1,className:ne,style:le,classNames:se,styles:ue,unstyled:ce,vars:he,varsResolver:varsResolver$1}),{styleProps:On,rest:nh}=extractStyleProps(Pm),Hn=useId$1(be),Xp=oE?{checked:oE.value.includes(nh.value),onChange:oE.onChange}:{},[Jp,md]=useUncontrolled({value:Xp.checked??$e,defaultValue:Ge,finalValue:!1});return jsxRuntimeExports.jsxs(InlineInput,{...nE("root"),__staticSelector:"Switch",__stylesApiProps:te,id:Hn,size:aE,labelPosition:ze,label:_e,description:$t,error:ut,disabled:Ti,bodyElement:"label",labelElement:"span",classNames:se,styles:ue,unstyled:ce,"data-checked":Xp.checked||$e||void 0,variant:Hi,ref:bn,mod:gd,...On,...we,children:[jsxRuntimeExports.jsx("input",{...nh,disabled:Ti,checked:Jp,"data-checked":Xp.checked||$e||void 0,onChange:eE=>{var hE;oE?(hE=Xp.onChange)==null||hE.call(Xp,eE):Be==null||Be(eE),md(eE.currentTarget.checked)},id:Hn,ref:ee,type:"checkbox",role:"switch",...nE("input")}),jsxRuntimeExports.jsxs(Box,{"aria-hidden":"true",mod:{error:ut,"label-position":ze,"without-labels":!ye&&!fe},...nE("track"),children:[jsxRuntimeExports.jsx(Box,{component:"span",mod:"reduce-motion",...nE("thumb"),children:De}),jsxRuntimeExports.jsx("span",{...nE("trackLabel"),children:Jp?ye:fe})]})]})});Switch$2.classes={...classes$1,...InlineInputClasses},Switch$2.displayName="@mantine/core/Switch",Switch$2.Group=SwitchGroup;const[TabsProvider,useTabsContext]=createSafeContext("Tabs component was not found in the tree");var classes={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const defaultProps$4={},TabsList=factory((ie,ee)=>{const te=useProps("TabsList",defaultProps$4,ie),{children:se,className:ne,grow:le,justify:ue,classNames:ce,styles:he,style:de,mod:_e,...fe}=te,ye=useTabsContext();return jsxRuntimeExports.jsx(Box,{...fe,...ye.getStyles("list",{className:ne,style:de,classNames:ce,styles:he,props:te,variant:ye.variant}),ref:ee,role:"tablist",variant:ye.variant,mod:[{grow:le,orientation:ye.orientation,placement:ye.orientation==="vertical"&&ye.placement,inverted:ye.inverted},_e],"aria-orientation":ye.orientation,__vars:{"--tabs-justify":ue},children:se})});TabsList.classes=classes,TabsList.displayName="@mantine/core/TabsList";const defaultProps$3={},TabsPanel=factory((ie,ee)=>{const te=useProps("TabsPanel",defaultProps$3,ie),{children:se,className:ne,value:le,classNames:ue,styles:ce,style:he,mod:de,keepMounted:_e,...fe}=te,ye=useTabsContext(),be=ye.value===le,Pe=ye.keepMounted||_e||be?se:null;return jsxRuntimeExports.jsx(Box,{...fe,...ye.getStyles("panel",{className:ne,classNames:ue,styles:ce,style:[he,be?void 0:{display:"none"}],props:te}),ref:ee,mod:[{orientation:ye.orientation},de],role:"tabpanel",id:ye.getPanelId(le),"aria-labelledby":ye.getTabId(le),children:Pe})});TabsPanel.classes=classes,TabsPanel.displayName="@mantine/core/TabsPanel";const defaultProps$2={},TabsTab=factory((ie,ee)=>{const te=useProps("TabsTab",defaultProps$2,ie),{className:se,children:ne,rightSection:le,leftSection:ue,value:ce,onClick:he,onKeyDown:de,disabled:_e,color:fe,style:ye,classNames:be,styles:Pe,vars:Ne,mod:we,tabIndex:De,...$e}=te,Ge=useMantineTheme(),{dir:Be}=useDirection(),ze=useTabsContext(),$t=ce===ze.value,ut=Hi=>{ze.onChange(ze.allowTabDeactivation&&ce===ze.value?null:ce),he==null||he(Hi)},Ti={classNames:be,styles:Pe,props:te};return jsxRuntimeExports.jsxs(UnstyledButton,{...$e,...ze.getStyles("tab",{className:se,style:ye,variant:ze.variant,...Ti}),disabled:_e,unstyled:ze.unstyled,variant:ze.variant,mod:[{active:$t,disabled:_e,orientation:ze.orientation,inverted:ze.inverted,placement:ze.orientation==="vertical"&&ze.placement},we],ref:ee,role:"tab",id:ze.getTabId(ce),"aria-selected":$t,tabIndex:De||$t||ze.value===null?0:-1,"aria-controls":ze.getPanelId(ce),onClick:ut,__vars:{"--tabs-color":fe?getThemeColor(fe,Ge):void 0},onKeyDown:createScopedKeydownHandler({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:ze.activateTabWithKeyboard,loop:ze.loop,orientation:ze.orientation||"horizontal",dir:Be,onKeyDown:de}),children:[ue&&jsxRuntimeExports.jsx("span",{...ze.getStyles("tabSection",Ti),"data-position":"left",children:ue}),ne&&jsxRuntimeExports.jsx("span",{...ze.getStyles("tabLabel",Ti),children:ne}),le&&jsxRuntimeExports.jsx("span",{...ze.getStyles("tabSection",Ti),"data-position":"right",children:le})]})});TabsTab.classes=classes,TabsTab.displayName="@mantine/core/TabsTab";const VALUE_ERROR="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",defaultProps$1={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},varsResolver=(ie,{radius:ee,color:te,autoContrast:se})=>({root:{"--tabs-radius":getRadius(ee),"--tabs-color":getThemeColor(te,ie),"--tabs-text-color":getAutoContrastValue(se,ie)?getContrastColor({color:te,theme:ie,autoContrast:se}):void 0}}),Tabs=factory((ie,ee)=>{const te=useProps("Tabs",defaultProps$1,ie),{defaultValue:se,value:ne,onChange:le,orientation:ue,children:ce,loop:he,id:de,activateTabWithKeyboard:_e,allowTabDeactivation:fe,variant:ye,color:be,radius:Pe,inverted:Ne,placement:we,keepMounted:De,classNames:$e,styles:Ge,unstyled:Be,className:ze,style:$t,vars:ut,autoContrast:Ti,mod:Hi,...bn}=te,gd=useId$1(de),[Pm,oE]=useUncontrolled({value:ne,defaultValue:se,finalValue:null,onChange:le}),aE=useStyles({name:"Tabs",props:te,classes,className:ze,style:$t,classNames:$e,styles:Ge,unstyled:Be,vars:ut,varsResolver});return jsxRuntimeExports.jsx(TabsProvider,{value:{placement:we,value:Pm,orientation:ue,id:gd,loop:he,activateTabWithKeyboard:_e,getTabId:getSafeId(`${gd}-tab`,VALUE_ERROR),getPanelId:getSafeId(`${gd}-panel`,VALUE_ERROR),onChange:oE,allowTabDeactivation:fe,variant:ye,color:be,radius:Pe,inverted:Ne,keepMounted:De,unstyled:Be,getStyles:aE},children:jsxRuntimeExports.jsx(Box,{ref:ee,id:gd,variant:ye,mod:[{orientation:ue,inverted:ue==="horizontal"&&Ne,placement:ue==="vertical"&&we},Hi],...aE("root"),...bn,children:ce})})});Tabs.classes=classes,Tabs.displayName="@mantine/core/Tabs",Tabs.Tab=TabsTab,Tabs.Panel=TabsPanel,Tabs.List=TabsList;const defaultProps={},TextInput$1=factory((ie,ee)=>{const te=useProps("TextInput",defaultProps,ie);return jsxRuntimeExports.jsx(InputBase,{component:"input",ref:ee,...te,__staticSelector:"TextInput"})});TextInput$1.classes=InputBase.classes,TextInput$1.displayName="@mantine/core/TextInput";const SettingCommon="_SettingCommon_svxh6_1",CaretIcon$2="_CaretIcon_svxh6_19",CaretIconRotated$2="_CaretIconRotated_svxh6_23",InputNumber="_InputNumber_svxh6_27",InputText="_InputText_svxh6_31",SubSetting="_SubSetting_svxh6_35",SwitchTrackOff="_SwitchTrackOff_svxh6_39",Switch$1="_Switch_svxh6_39",TextInput="_TextInput_svxh6_66",NumberInput="_NumberInput_svxh6_76",styles$g={SettingCommon,CaretIcon:CaretIcon$2,CaretIconRotated:CaretIconRotated$2,InputNumber,InputText,SubSetting,SwitchTrackOff,Switch:Switch$1,TextInput,NumberInput},MantineCustomTheme={components:{Switch:Switch$2.extend({defaultProps:{radius:"sm",size:"xs",className:styles$g.Switch}}),Flex:Flex.extend({defaultProps:{align:"center",justify:"center",direction:"row",w:"100%"}}),TextInput:TextInput$1.extend({defaultProps:{radius:"md",size:"xs",w:"100px",styles:{input:{backgroundColor:"rgba(0, 0, 0, 0.15)"}}}}),NumberInput:NumberInput$1.extend({defaultProps:{radius:"md",size:"xs",w:"100px",styles:{input:{backgroundColor:"rgba(0, 0, 0, 0.15)"}}}})},defaultRadius:"xs",primaryColor:"hibisco-red",primaryShade:3,colors:{"hibisco-red":["#ffe9eb","#fed4d5","#f3a9ab","#fb8fb3","#e35257","#de383e","#dd2a31","#c41c24","#b0141f","#9b0618"],"hibisco-green":["#ecfaea","#dff1db","#bfe0b9","#9ece95","#82bf76","#70b562","#66b057","#549a46","#488a3c","#3a772f"],base:["#4b4b4b","#3c3c3c","#2d2d2d","#e6e6e6","#dcdcdc","#d3d3d3","#c9c9c9","#bfbfbf","#b5b5b5","#acacac"]}},BuyContainer=()=>{const ie=oe(A$2),ee=async se=>{se.preventDefault(),se.stopPropagation();const ne=fe=>new Promise(ye=>setTimeout(ye,fe));$(".nitro-catalog div").filter(function(){return $(this).text().trim()==="Comprar"});const le=document.querySelector(".nitro-catalog .quantity-input");document.querySelector(".hubbe-container.buy-habblet .quantity");const ue=$(le),ce=ie.reworkUi.store.defaultQuantity.value;changeInputValue(ue[0],ce);const he=$(".nitro-catalog div").filter(function(){return $(this).text().trim()==="Comprar"});$(he).trigger("click"),await ne(50),$(".nitro-catalog div").filter(function(){return $(this).text().trim()==="Confirmar"}).trigger("click")},te=se=>{A$2.reworkUi.store.defaultQuantity.value=se};return jsxRuntimeExports.jsx(MantineProvider,{theme:MantineCustomTheme,forceColorScheme:"light",children:jsxRuntimeExports.jsxs("div",{className:clsx("hibisco-root","catalog-buy-container",styles$h.BuyContainer),children:[jsxRuntimeExports.jsx(NumberInput$1,{size:"sm",min:1,max:100,style:{width:"50px"},value:ie.reworkUi.store.defaultQuantity.value,onChange:te}),jsxRuntimeExports.jsx("div",{className:styles$h.Buy,onClick:ee,children:jsxRuntimeExports.jsx(w$4,{size:20,weight:"bold"})})]})})},Horizontal="_Horizontal_4og4d_1",Vertical="_Vertical_4og4d_1",isClosed="_isClosed_4og4d_20",Rounded="_Rounded_4og4d_20",Right="_Right_4og4d_23",Bottom="_Bottom_4og4d_33",styles$f={Horizontal,Vertical,isClosed,Rounded,Right,Bottom},CollapseSelectorHandler=({element:ie,openWidth:ee,openHeight:te,mode:se,closeDirection:ne,name:le,resetOnUnmount:ue,rounded:ce,openStyle:he,closedStyle:de,..._e})=>{const[fe,ye]=reactExports.useState(!1),be=`collapse-selector-${le}-state`,Pe=localStorage.getItem(be);let Ne=!0;Pe===null?Ne=!0:Ne=Pe==="true";const[we,De]=reactExports.useState(Ne);reactExports.useEffect(()=>{localStorage.setItem(be,we?"true":"false")},[we,be]);const $e=se==="horizontal",Ge=se==="vertical",Be=()=>{const ut=$(ie);!ut||!ie.isConnected||($e?ut.css({width:`${ee}px`,paddingLeft:"",paddingRight:""}):ut.css({height:typeof te=="number"?`${te}px`:te,paddingTop:"",paddingBottom:""}))},ze=()=>{const ut=$(ie);if(!ut||!ie.isConnected){console.error("Element not found on closeSelector");return}$e?(cssImportant(ut,"width","0px"),cssImportant(ut,"padding-left","0px"),cssImportant(ut,"padding-right","0px"),cssImportant(ut,"transition","width 0.2s ease-out, padding 0.2s ease-out"),cssImportant(ut,"overflow","hidden")):(cssImportant(ut,"height","0px"),cssImportant(ut,"padding-top","0px"),cssImportant(ut,"padding-bottom","0px"),cssImportant(ut,"transition","height 0.2s ease-out, padding 0.2s ease-out"),cssImportant(ut,"overflow","hidden"))};reactExports.useEffect(()=>{const ut=setInterval(()=>{if(!ie.isConnected)return clearInterval(ut);const Ti=$(ie),Hi=Ti.attr("data-initial-width-set"),bn=Ti.attr("data-initial-height-set");we!==fe&&(we&&Be(),we||ze()),$e&&!Hi&&(Ti.attr("data-initial-width-set","true"),cssImportant(Ti,"width",`${ee}px`),cssImportant(Ti,"transition","width 0.2s ease-out, padding 0.2s ease-out"),cssImportant(Ti,"overflow","hidden")),Ge&&!bn&&(Ti.attr("data-initial-height-set","true"),cssImportant(Ti,"height",typeof te=="number"?`${te}px`:te),cssImportant(Ti,"transition","height 0.2s ease-out, padding 0.2s ease-out"),cssImportant(Ti,"overflow","hidden"));const{width:gd,height:Pm}=ie.getBoundingClientRect();$e?gd>0?fe||ye(!0):fe&&ye(!1):Pm>0?fe||ye(!0):fe&&ye(!1)},100);return()=>{clearInterval(ut)}},[ie,$e,fe,ye,Ge,ee,te,ue,ze,we,Be]);let $t;return $e?ne==="left"?$t=fe?I$3:l$3:$t=fe?l$3:I$3:ne==="up"?$t=fe?I$2:D$1:$t=fe?D$1:I$2,jsxRuntimeExports.jsx("div",{className:clsx(!fe&&styles$f.isClosed,$e&&styles$f.Horizontal,Ge&&styles$f.Vertical,ce&&styles$f.Rounded,ne==="right"&&styles$f.Right,ne==="down"&&styles$f.Bottom,"cursor-pointer"),onClick:()=>{fe?(ze(),De(!1)):(Be(),De(!0))},style:fe?he:de,..._e,children:jsxRuntimeExports.jsx($t,{size:14,color:"#9C9792",weight:"bold"})})};var colorString={exports:{}},colorName,hasRequiredColorName;function requireColorName(){return hasRequiredColorName||(hasRequiredColorName=1,colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),colorName}var simpleSwizzle={exports:{}},isArrayish,hasRequiredIsArrayish;function requireIsArrayish(){return hasRequiredIsArrayish||(hasRequiredIsArrayish=1,isArrayish=function(ee){return!ee||typeof ee=="string"?!1:ee instanceof Array||Array.isArray(ee)||ee.length>=0&&(ee.splice instanceof Function||Object.getOwnPropertyDescriptor(ee,ee.length-1)&&ee.constructor.name!=="String")}),isArrayish}var hasRequiredSimpleSwizzle;function requireSimpleSwizzle(){if(hasRequiredSimpleSwizzle)return simpleSwizzle.exports;hasRequiredSimpleSwizzle=1;var ie=requireIsArrayish(),ee=Array.prototype.concat,te=Array.prototype.slice,se=simpleSwizzle.exports=function(le){for(var ue=[],ce=0,he=le.length;ce<he;ce++){var de=le[ce];ie(de)?ue=ee.call(ue,te.call(de)):ue.push(de)}return ue};return se.wrap=function(ne){return function(){return ne(se(arguments))}},simpleSwizzle.exports}var hasRequiredColorString;function requireColorString(){if(hasRequiredColorString)return colorString.exports;hasRequiredColorString=1;var ie=requireColorName(),ee=requireSimpleSwizzle(),te=Object.hasOwnProperty,se=Object.create(null);for(var ne in ie)te.call(ie,ne)&&(se[ie[ne]]=ne);var le=colorString.exports={to:{},get:{}};le.get=function(he){var de=he.substring(0,3).toLowerCase(),_e,fe;switch(de){case"hsl":_e=le.get.hsl(he),fe="hsl";break;case"hwb":_e=le.get.hwb(he),fe="hwb";break;default:_e=le.get.rgb(he),fe="rgb";break}return _e?{model:fe,value:_e}:null},le.get.rgb=function(he){if(!he)return null;var de=/^#([a-f0-9]{3,4})$/i,_e=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,fe=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,ye=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,be=/^(\w+)$/,Pe=[0,0,0,1],Ne,we,De;if(Ne=he.match(_e)){for(De=Ne[2],Ne=Ne[1],we=0;we<3;we++){var $e=we*2;Pe[we]=parseInt(Ne.slice($e,$e+2),16)}De&&(Pe[3]=parseInt(De,16)/255)}else if(Ne=he.match(de)){for(Ne=Ne[1],De=Ne[3],we=0;we<3;we++)Pe[we]=parseInt(Ne[we]+Ne[we],16);De&&(Pe[3]=parseInt(De+De,16)/255)}else if(Ne=he.match(fe)){for(we=0;we<3;we++)Pe[we]=parseInt(Ne[we+1],0);Ne[4]&&(Ne[5]?Pe[3]=parseFloat(Ne[4])*.01:Pe[3]=parseFloat(Ne[4]))}else if(Ne=he.match(ye)){for(we=0;we<3;we++)Pe[we]=Math.round(parseFloat(Ne[we+1])*2.55);Ne[4]&&(Ne[5]?Pe[3]=parseFloat(Ne[4])*.01:Pe[3]=parseFloat(Ne[4]))}else return(Ne=he.match(be))?Ne[1]==="transparent"?[0,0,0,0]:te.call(ie,Ne[1])?(Pe=ie[Ne[1]],Pe[3]=1,Pe):null:null;for(we=0;we<3;we++)Pe[we]=ue(Pe[we],0,255);return Pe[3]=ue(Pe[3],0,1),Pe},le.get.hsl=function(he){if(!he)return null;var de=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,_e=he.match(de);if(_e){var fe=parseFloat(_e[4]),ye=(parseFloat(_e[1])%360+360)%360,be=ue(parseFloat(_e[2]),0,100),Pe=ue(parseFloat(_e[3]),0,100),Ne=ue(isNaN(fe)?1:fe,0,1);return[ye,be,Pe,Ne]}return null},le.get.hwb=function(he){if(!he)return null;var de=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,_e=he.match(de);if(_e){var fe=parseFloat(_e[4]),ye=(parseFloat(_e[1])%360+360)%360,be=ue(parseFloat(_e[2]),0,100),Pe=ue(parseFloat(_e[3]),0,100),Ne=ue(isNaN(fe)?1:fe,0,1);return[ye,be,Pe,Ne]}return null},le.to.hex=function(){var he=ee(arguments);return"#"+ce(he[0])+ce(he[1])+ce(he[2])+(he[3]<1?ce(Math.round(he[3]*255)):"")},le.to.rgb=function(){var he=ee(arguments);return he.length<4||he[3]===1?"rgb("+Math.round(he[0])+", "+Math.round(he[1])+", "+Math.round(he[2])+")":"rgba("+Math.round(he[0])+", "+Math.round(he[1])+", "+Math.round(he[2])+", "+he[3]+")"},le.to.rgb.percent=function(){var he=ee(arguments),de=Math.round(he[0]/255*100),_e=Math.round(he[1]/255*100),fe=Math.round(he[2]/255*100);return he.length<4||he[3]===1?"rgb("+de+"%, "+_e+"%, "+fe+"%)":"rgba("+de+"%, "+_e+"%, "+fe+"%, "+he[3]+")"},le.to.hsl=function(){var he=ee(arguments);return he.length<4||he[3]===1?"hsl("+he[0]+", "+he[1]+"%, "+he[2]+"%)":"hsla("+he[0]+", "+he[1]+"%, "+he[2]+"%, "+he[3]+")"},le.to.hwb=function(){var he=ee(arguments),de="";return he.length>=4&&he[3]!==1&&(de=", "+he[3]),"hwb("+he[0]+", "+he[1]+"%, "+he[2]+"%"+de+")"},le.to.keyword=function(he){return se[he.slice(0,3)]};function ue(he,de,_e){return Math.min(Math.max(de,he),_e)}function ce(he){var de=Math.round(he).toString(16).toUpperCase();return de.length<2?"0"+de:de}return colorString.exports}var conversions,hasRequiredConversions;function requireConversions(){if(hasRequiredConversions)return conversions;hasRequiredConversions=1;const ie=requireColorName(),ee={};for(const ne of Object.keys(ie))ee[ie[ne]]=ne;const te={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};conversions=te;for(const ne of Object.keys(te)){if(!("channels"in te[ne]))throw new Error("missing channels property: "+ne);if(!("labels"in te[ne]))throw new Error("missing channel labels property: "+ne);if(te[ne].labels.length!==te[ne].channels)throw new Error("channel and label counts mismatch: "+ne);const{channels:le,labels:ue}=te[ne];delete te[ne].channels,delete te[ne].labels,Object.defineProperty(te[ne],"channels",{value:le}),Object.defineProperty(te[ne],"labels",{value:ue})}te.rgb.hsl=function(ne){const le=ne[0]/255,ue=ne[1]/255,ce=ne[2]/255,he=Math.min(le,ue,ce),de=Math.max(le,ue,ce),_e=de-he;let fe,ye;de===he?fe=0:le===de?fe=(ue-ce)/_e:ue===de?fe=2+(ce-le)/_e:ce===de&&(fe=4+(le-ue)/_e),fe=Math.min(fe*60,360),fe<0&&(fe+=360);const be=(he+de)/2;return de===he?ye=0:be<=.5?ye=_e/(de+he):ye=_e/(2-de-he),[fe,ye*100,be*100]},te.rgb.hsv=function(ne){let le,ue,ce,he,de;const _e=ne[0]/255,fe=ne[1]/255,ye=ne[2]/255,be=Math.max(_e,fe,ye),Pe=be-Math.min(_e,fe,ye),Ne=function(we){return(be-we)/6/Pe+1/2};return Pe===0?(he=0,de=0):(de=Pe/be,le=Ne(_e),ue=Ne(fe),ce=Ne(ye),_e===be?he=ce-ue:fe===be?he=1/3+le-ce:ye===be&&(he=2/3+ue-le),he<0?he+=1:he>1&&(he-=1)),[he*360,de*100,be*100]},te.rgb.hwb=function(ne){const le=ne[0],ue=ne[1];let ce=ne[2];const he=te.rgb.hsl(ne)[0],de=1/255*Math.min(le,Math.min(ue,ce));return ce=1-1/255*Math.max(le,Math.max(ue,ce)),[he,de*100,ce*100]},te.rgb.cmyk=function(ne){const le=ne[0]/255,ue=ne[1]/255,ce=ne[2]/255,he=Math.min(1-le,1-ue,1-ce),de=(1-le-he)/(1-he)||0,_e=(1-ue-he)/(1-he)||0,fe=(1-ce-he)/(1-he)||0;return[de*100,_e*100,fe*100,he*100]};function se(ne,le){return(ne[0]-le[0])**2+(ne[1]-le[1])**2+(ne[2]-le[2])**2}return te.rgb.keyword=function(ne){const le=ee[ne];if(le)return le;let ue=1/0,ce;for(const he of Object.keys(ie)){const de=ie[he],_e=se(ne,de);_e<ue&&(ue=_e,ce=he)}return ce},te.keyword.rgb=function(ne){return ie[ne]},te.rgb.xyz=function(ne){let le=ne[0]/255,ue=ne[1]/255,ce=ne[2]/255;le=le>.04045?((le+.055)/1.055)**2.4:le/12.92,ue=ue>.04045?((ue+.055)/1.055)**2.4:ue/12.92,ce=ce>.04045?((ce+.055)/1.055)**2.4:ce/12.92;const he=le*.4124+ue*.3576+ce*.1805,de=le*.2126+ue*.7152+ce*.0722,_e=le*.0193+ue*.1192+ce*.9505;return[he*100,de*100,_e*100]},te.rgb.lab=function(ne){const le=te.rgb.xyz(ne);let ue=le[0],ce=le[1],he=le[2];ue/=95.047,ce/=100,he/=108.883,ue=ue>.008856?ue**(1/3):7.787*ue+16/116,ce=ce>.008856?ce**(1/3):7.787*ce+16/116,he=he>.008856?he**(1/3):7.787*he+16/116;const de=116*ce-16,_e=500*(ue-ce),fe=200*(ce-he);return[de,_e,fe]},te.hsl.rgb=function(ne){const le=ne[0]/360,ue=ne[1]/100,ce=ne[2]/100;let he,de,_e;if(ue===0)return _e=ce*255,[_e,_e,_e];ce<.5?he=ce*(1+ue):he=ce+ue-ce*ue;const fe=2*ce-he,ye=[0,0,0];for(let be=0;be<3;be++)de=le+1/3*-(be-1),de<0&&de++,de>1&&de--,6*de<1?_e=fe+(he-fe)*6*de:2*de<1?_e=he:3*de<2?_e=fe+(he-fe)*(2/3-de)*6:_e=fe,ye[be]=_e*255;return ye},te.hsl.hsv=function(ne){const le=ne[0];let ue=ne[1]/100,ce=ne[2]/100,he=ue;const de=Math.max(ce,.01);ce*=2,ue*=ce<=1?ce:2-ce,he*=de<=1?de:2-de;const _e=(ce+ue)/2,fe=ce===0?2*he/(de+he):2*ue/(ce+ue);return[le,fe*100,_e*100]},te.hsv.rgb=function(ne){const le=ne[0]/60,ue=ne[1]/100;let ce=ne[2]/100;const he=Math.floor(le)%6,de=le-Math.floor(le),_e=255*ce*(1-ue),fe=255*ce*(1-ue*de),ye=255*ce*(1-ue*(1-de));switch(ce*=255,he){case 0:return[ce,ye,_e];case 1:return[fe,ce,_e];case 2:return[_e,ce,ye];case 3:return[_e,fe,ce];case 4:return[ye,_e,ce];case 5:return[ce,_e,fe]}},te.hsv.hsl=function(ne){const le=ne[0],ue=ne[1]/100,ce=ne[2]/100,he=Math.max(ce,.01);let de,_e;_e=(2-ue)*ce;const fe=(2-ue)*he;return de=ue*he,de/=fe<=1?fe:2-fe,de=de||0,_e/=2,[le,de*100,_e*100]},te.hwb.rgb=function(ne){const le=ne[0]/360;let ue=ne[1]/100,ce=ne[2]/100;const he=ue+ce;let de;he>1&&(ue/=he,ce/=he);const _e=Math.floor(6*le),fe=1-ce;de=6*le-_e,_e&1&&(de=1-de);const ye=ue+de*(fe-ue);let be,Pe,Ne;switch(_e){default:case 6:case 0:be=fe,Pe=ye,Ne=ue;break;case 1:be=ye,Pe=fe,Ne=ue;break;case 2:be=ue,Pe=fe,Ne=ye;break;case 3:be=ue,Pe=ye,Ne=fe;break;case 4:be=ye,Pe=ue,Ne=fe;break;case 5:be=fe,Pe=ue,Ne=ye;break}return[be*255,Pe*255,Ne*255]},te.cmyk.rgb=function(ne){const le=ne[0]/100,ue=ne[1]/100,ce=ne[2]/100,he=ne[3]/100,de=1-Math.min(1,le*(1-he)+he),_e=1-Math.min(1,ue*(1-he)+he),fe=1-Math.min(1,ce*(1-he)+he);return[de*255,_e*255,fe*255]},te.xyz.rgb=function(ne){const le=ne[0]/100,ue=ne[1]/100,ce=ne[2]/100;let he,de,_e;return he=le*3.2406+ue*-1.5372+ce*-.4986,de=le*-.9689+ue*1.8758+ce*.0415,_e=le*.0557+ue*-.204+ce*1.057,he=he>.0031308?1.055*he**(1/2.4)-.055:he*12.92,de=de>.0031308?1.055*de**(1/2.4)-.055:de*12.92,_e=_e>.0031308?1.055*_e**(1/2.4)-.055:_e*12.92,he=Math.min(Math.max(0,he),1),de=Math.min(Math.max(0,de),1),_e=Math.min(Math.max(0,_e),1),[he*255,de*255,_e*255]},te.xyz.lab=function(ne){let le=ne[0],ue=ne[1],ce=ne[2];le/=95.047,ue/=100,ce/=108.883,le=le>.008856?le**(1/3):7.787*le+16/116,ue=ue>.008856?ue**(1/3):7.787*ue+16/116,ce=ce>.008856?ce**(1/3):7.787*ce+16/116;const he=116*ue-16,de=500*(le-ue),_e=200*(ue-ce);return[he,de,_e]},te.lab.xyz=function(ne){const le=ne[0],ue=ne[1],ce=ne[2];let he,de,_e;de=(le+16)/116,he=ue/500+de,_e=de-ce/200;const fe=de**3,ye=he**3,be=_e**3;return de=fe>.008856?fe:(de-16/116)/7.787,he=ye>.008856?ye:(he-16/116)/7.787,_e=be>.008856?be:(_e-16/116)/7.787,he*=95.047,de*=100,_e*=108.883,[he,de,_e]},te.lab.lch=function(ne){const le=ne[0],ue=ne[1],ce=ne[2];let he;he=Math.atan2(ce,ue)*360/2/Math.PI,he<0&&(he+=360);const _e=Math.sqrt(ue*ue+ce*ce);return[le,_e,he]},te.lch.lab=function(ne){const le=ne[0],ue=ne[1],he=ne[2]/360*2*Math.PI,de=ue*Math.cos(he),_e=ue*Math.sin(he);return[le,de,_e]},te.rgb.ansi16=function(ne,le=null){const[ue,ce,he]=ne;let de=le===null?te.rgb.hsv(ne)[2]:le;if(de=Math.round(de/50),de===0)return 30;let _e=30+(Math.round(he/255)<<2|Math.round(ce/255)<<1|Math.round(ue/255));return de===2&&(_e+=60),_e},te.hsv.ansi16=function(ne){return te.rgb.ansi16(te.hsv.rgb(ne),ne[2])},te.rgb.ansi256=function(ne){const le=ne[0],ue=ne[1],ce=ne[2];return le===ue&&ue===ce?le<8?16:le>248?231:Math.round((le-8)/247*24)+232:16+36*Math.round(le/255*5)+6*Math.round(ue/255*5)+Math.round(ce/255*5)},te.ansi16.rgb=function(ne){let le=ne%10;if(le===0||le===7)return ne>50&&(le+=3.5),le=le/10.5*255,[le,le,le];const ue=(~~(ne>50)+1)*.5,ce=(le&1)*ue*255,he=(le>>1&1)*ue*255,de=(le>>2&1)*ue*255;return[ce,he,de]},te.ansi256.rgb=function(ne){if(ne>=232){const de=(ne-232)*10+8;return[de,de,de]}ne-=16;let le;const ue=Math.floor(ne/36)/5*255,ce=Math.floor((le=ne%36)/6)/5*255,he=le%6/5*255;return[ue,ce,he]},te.rgb.hex=function(ne){const ue=(((Math.round(ne[0])&255)<<16)+((Math.round(ne[1])&255)<<8)+(Math.round(ne[2])&255)).toString(16).toUpperCase();return"000000".substring(ue.length)+ue},te.hex.rgb=function(ne){const le=ne.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!le)return[0,0,0];let ue=le[0];le[0].length===3&&(ue=ue.split("").map(fe=>fe+fe).join(""));const ce=parseInt(ue,16),he=ce>>16&255,de=ce>>8&255,_e=ce&255;return[he,de,_e]},te.rgb.hcg=function(ne){const le=ne[0]/255,ue=ne[1]/255,ce=ne[2]/255,he=Math.max(Math.max(le,ue),ce),de=Math.min(Math.min(le,ue),ce),_e=he-de;let fe,ye;return _e<1?fe=de/(1-_e):fe=0,_e<=0?ye=0:he===le?ye=(ue-ce)/_e%6:he===ue?ye=2+(ce-le)/_e:ye=4+(le-ue)/_e,ye/=6,ye%=1,[ye*360,_e*100,fe*100]},te.hsl.hcg=function(ne){const le=ne[1]/100,ue=ne[2]/100,ce=ue<.5?2*le*ue:2*le*(1-ue);let he=0;return ce<1&&(he=(ue-.5*ce)/(1-ce)),[ne[0],ce*100,he*100]},te.hsv.hcg=function(ne){const le=ne[1]/100,ue=ne[2]/100,ce=le*ue;let he=0;return ce<1&&(he=(ue-ce)/(1-ce)),[ne[0],ce*100,he*100]},te.hcg.rgb=function(ne){const le=ne[0]/360,ue=ne[1]/100,ce=ne[2]/100;if(ue===0)return[ce*255,ce*255,ce*255];const he=[0,0,0],de=le%1*6,_e=de%1,fe=1-_e;let ye=0;switch(Math.floor(de)){case 0:he[0]=1,he[1]=_e,he[2]=0;break;case 1:he[0]=fe,he[1]=1,he[2]=0;break;case 2:he[0]=0,he[1]=1,he[2]=_e;break;case 3:he[0]=0,he[1]=fe,he[2]=1;break;case 4:he[0]=_e,he[1]=0,he[2]=1;break;default:he[0]=1,he[1]=0,he[2]=fe}return ye=(1-ue)*ce,[(ue*he[0]+ye)*255,(ue*he[1]+ye)*255,(ue*he[2]+ye)*255]},te.hcg.hsv=function(ne){const le=ne[1]/100,ue=ne[2]/100,ce=le+ue*(1-le);let he=0;return ce>0&&(he=le/ce),[ne[0],he*100,ce*100]},te.hcg.hsl=function(ne){const le=ne[1]/100,ce=ne[2]/100*(1-le)+.5*le;let he=0;return ce>0&&ce<.5?he=le/(2*ce):ce>=.5&&ce<1&&(he=le/(2*(1-ce))),[ne[0],he*100,ce*100]},te.hcg.hwb=function(ne){const le=ne[1]/100,ue=ne[2]/100,ce=le+ue*(1-le);return[ne[0],(ce-le)*100,(1-ce)*100]},te.hwb.hcg=function(ne){const le=ne[1]/100,ce=1-ne[2]/100,he=ce-le;let de=0;return he<1&&(de=(ce-he)/(1-he)),[ne[0],he*100,de*100]},te.apple.rgb=function(ne){return[ne[0]/65535*255,ne[1]/65535*255,ne[2]/65535*255]},te.rgb.apple=function(ne){return[ne[0]/255*65535,ne[1]/255*65535,ne[2]/255*65535]},te.gray.rgb=function(ne){return[ne[0]/100*255,ne[0]/100*255,ne[0]/100*255]},te.gray.hsl=function(ne){return[0,0,ne[0]]},te.gray.hsv=te.gray.hsl,te.gray.hwb=function(ne){return[0,100,ne[0]]},te.gray.cmyk=function(ne){return[0,0,0,ne[0]]},te.gray.lab=function(ne){return[ne[0],0,0]},te.gray.hex=function(ne){const le=Math.round(ne[0]/100*255)&255,ce=((le<<16)+(le<<8)+le).toString(16).toUpperCase();return"000000".substring(ce.length)+ce},te.rgb.gray=function(ne){return[(ne[0]+ne[1]+ne[2])/3/255*100]},conversions}var route,hasRequiredRoute;function requireRoute(){if(hasRequiredRoute)return route;hasRequiredRoute=1;const ie=requireConversions();function ee(){const le={},ue=Object.keys(ie);for(let ce=ue.length,he=0;he<ce;he++)le[ue[he]]={distance:-1,parent:null};return le}function te(le){const ue=ee(),ce=[le];for(ue[le].distance=0;ce.length;){const he=ce.pop(),de=Object.keys(ie[he]);for(let _e=de.length,fe=0;fe<_e;fe++){const ye=de[fe],be=ue[ye];be.distance===-1&&(be.distance=ue[he].distance+1,be.parent=he,ce.unshift(ye))}}return ue}function se(le,ue){return function(ce){return ue(le(ce))}}function ne(le,ue){const ce=[ue[le].parent,le];let he=ie[ue[le].parent][le],de=ue[le].parent;for(;ue[de].parent;)ce.unshift(ue[de].parent),he=se(ie[ue[de].parent][de],he),de=ue[de].parent;return he.conversion=ce,he}return route=function(le){const ue=te(le),ce={},he=Object.keys(ue);for(let de=he.length,_e=0;_e<de;_e++){const fe=he[_e];ue[fe].parent!==null&&(ce[fe]=ne(fe,ue))}return ce},route}var colorConvert,hasRequiredColorConvert;function requireColorConvert(){if(hasRequiredColorConvert)return colorConvert;hasRequiredColorConvert=1;const ie=requireConversions(),ee=requireRoute(),te={},se=Object.keys(ie);function ne(ue){const ce=function(...he){const de=he[0];return de==null?de:(de.length>1&&(he=de),ue(he))};return"conversion"in ue&&(ce.conversion=ue.conversion),ce}function le(ue){const ce=function(...he){const de=he[0];if(de==null)return de;de.length>1&&(he=de);const _e=ue(he);if(typeof _e=="object")for(let fe=_e.length,ye=0;ye<fe;ye++)_e[ye]=Math.round(_e[ye]);return _e};return"conversion"in ue&&(ce.conversion=ue.conversion),ce}return se.forEach(ue=>{te[ue]={},Object.defineProperty(te[ue],"channels",{value:ie[ue].channels}),Object.defineProperty(te[ue],"labels",{value:ie[ue].labels});const ce=ee(ue);Object.keys(ce).forEach(de=>{const _e=ce[de];te[ue][de]=le(_e),te[ue][de].raw=ne(_e)})}),colorConvert=te,colorConvert}var color$1,hasRequiredColor;function requireColor(){if(hasRequiredColor)return color$1;hasRequiredColor=1;const ie=requireColorString(),ee=requireColorConvert(),te=["keyword","gray","hex"],se={};for(const ye of Object.keys(ee))se[[...ee[ye].labels].sort().join("")]=ye;const ne={};function le(ye,be){if(!(this instanceof le))return new le(ye,be);if(be&&be in te&&(be=null),be&&!(be in ee))throw new Error("Unknown model: "+be);let Pe,Ne;if(ye==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(ye instanceof le)this.model=ye.model,this.color=[...ye.color],this.valpha=ye.valpha;else if(typeof ye=="string"){const we=ie.get(ye);if(we===null)throw new Error("Unable to parse color from string: "+ye);this.model=we.model,Ne=ee[this.model].channels,this.color=we.value.slice(0,Ne),this.valpha=typeof we.value[Ne]=="number"?we.value[Ne]:1}else if(ye.length>0){this.model=be||"rgb",Ne=ee[this.model].channels;const we=Array.prototype.slice.call(ye,0,Ne);this.color=fe(we,Ne),this.valpha=typeof ye[Ne]=="number"?ye[Ne]:1}else if(typeof ye=="number")this.model="rgb",this.color=[ye>>16&255,ye>>8&255,ye&255],this.valpha=1;else{this.valpha=1;const we=Object.keys(ye);"alpha"in ye&&(we.splice(we.indexOf("alpha"),1),this.valpha=typeof ye.alpha=="number"?ye.alpha:0);const De=we.sort().join("");if(!(De in se))throw new Error("Unable to parse color from object: "+JSON.stringify(ye));this.model=se[De];const{labels:$e}=ee[this.model],Ge=[];for(Pe=0;Pe<$e.length;Pe++)Ge.push(ye[$e[Pe]]);this.color=fe(Ge)}if(ne[this.model])for(Ne=ee[this.model].channels,Pe=0;Pe<Ne;Pe++){const we=ne[this.model][Pe];we&&(this.color[Pe]=we(this.color[Pe]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}le.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(ye){let be=this.model in ie.to?this:this.rgb();be=be.round(typeof ye=="number"?ye:1);const Pe=be.valpha===1?be.color:[...be.color,this.valpha];return ie.to[be.model](Pe)},percentString(ye){const be=this.rgb().round(typeof ye=="number"?ye:1),Pe=be.valpha===1?be.color:[...be.color,this.valpha];return ie.to.rgb.percent(Pe)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const ye={},{channels:be}=ee[this.model],{labels:Pe}=ee[this.model];for(let Ne=0;Ne<be;Ne++)ye[Pe[Ne]]=this.color[Ne];return this.valpha!==1&&(ye.alpha=this.valpha),ye},unitArray(){const ye=this.rgb().color;return ye[0]/=255,ye[1]/=255,ye[2]/=255,this.valpha!==1&&ye.push(this.valpha),ye},unitObject(){const ye=this.rgb().object();return ye.r/=255,ye.g/=255,ye.b/=255,this.valpha!==1&&(ye.alpha=this.valpha),ye},round(ye){return ye=Math.max(ye||0,0),new le([...this.color.map(ce(ye)),this.valpha],this.model)},alpha(ye){return ye!==void 0?new le([...this.color,Math.max(0,Math.min(1,ye))],this.model):this.valpha},red:he("rgb",0,de(255)),green:he("rgb",1,de(255)),blue:he("rgb",2,de(255)),hue:he(["hsl","hsv","hsl","hwb","hcg"],0,ye=>(ye%360+360)%360),saturationl:he("hsl",1,de(100)),lightness:he("hsl",2,de(100)),saturationv:he("hsv",1,de(100)),value:he("hsv",2,de(100)),chroma:he("hcg",1,de(100)),gray:he("hcg",2,de(100)),white:he("hwb",1,de(100)),wblack:he("hwb",2,de(100)),cyan:he("cmyk",0,de(100)),magenta:he("cmyk",1,de(100)),yellow:he("cmyk",2,de(100)),black:he("cmyk",3,de(100)),x:he("xyz",0,de(95.047)),y:he("xyz",1,de(100)),z:he("xyz",2,de(108.833)),l:he("lab",0,de(100)),a:he("lab",1),b:he("lab",2),keyword(ye){return ye!==void 0?new le(ye):ee[this.model].keyword(this.color)},hex(ye){return ye!==void 0?new le(ye):ie.to.hex(this.rgb().round().color)},hexa(ye){if(ye!==void 0)return new le(ye);const be=this.rgb().round().color;let Pe=Math.round(this.valpha*255).toString(16).toUpperCase();return Pe.length===1&&(Pe="0"+Pe),ie.to.hex(be)+Pe},rgbNumber(){const ye=this.rgb().color;return(ye[0]&255)<<16|(ye[1]&255)<<8|ye[2]&255},luminosity(){const ye=this.rgb().color,be=[];for(const[Pe,Ne]of ye.entries()){const we=Ne/255;be[Pe]=we<=.04045?we/12.92:((we+.055)/1.055)**2.4}return .2126*be[0]+.7152*be[1]+.0722*be[2]},contrast(ye){const be=this.luminosity(),Pe=ye.luminosity();return be>Pe?(be+.05)/(Pe+.05):(Pe+.05)/(be+.05)},level(ye){const be=this.contrast(ye);return be>=7?"AAA":be>=4.5?"AA":""},isDark(){const ye=this.rgb().color;return(ye[0]*2126+ye[1]*7152+ye[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const ye=this.rgb();for(let be=0;be<3;be++)ye.color[be]=255-ye.color[be];return ye},lighten(ye){const be=this.hsl();return be.color[2]+=be.color[2]*ye,be},darken(ye){const be=this.hsl();return be.color[2]-=be.color[2]*ye,be},saturate(ye){const be=this.hsl();return be.color[1]+=be.color[1]*ye,be},desaturate(ye){const be=this.hsl();return be.color[1]-=be.color[1]*ye,be},whiten(ye){const be=this.hwb();return be.color[1]+=be.color[1]*ye,be},blacken(ye){const be=this.hwb();return be.color[2]+=be.color[2]*ye,be},grayscale(){const ye=this.rgb().color,be=ye[0]*.3+ye[1]*.59+ye[2]*.11;return le.rgb(be,be,be)},fade(ye){return this.alpha(this.valpha-this.valpha*ye)},opaquer(ye){return this.alpha(this.valpha+this.valpha*ye)},rotate(ye){const be=this.hsl();let Pe=be.color[0];return Pe=(Pe+ye)%360,Pe=Pe<0?360+Pe:Pe,be.color[0]=Pe,be},mix(ye,be){if(!ye||!ye.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof ye);const Pe=ye.rgb(),Ne=this.rgb(),we=be===void 0?.5:be,De=2*we-1,$e=Pe.alpha()-Ne.alpha(),Ge=((De*$e===-1?De:(De+$e)/(1+De*$e))+1)/2,Be=1-Ge;return le.rgb(Ge*Pe.red()+Be*Ne.red(),Ge*Pe.green()+Be*Ne.green(),Ge*Pe.blue()+Be*Ne.blue(),Pe.alpha()*we+Ne.alpha()*(1-we))}};for(const ye of Object.keys(ee)){if(te.includes(ye))continue;const{channels:be}=ee[ye];le.prototype[ye]=function(...Pe){return this.model===ye?new le(this):Pe.length>0?new le(Pe,ye):new le([..._e(ee[this.model][ye].raw(this.color)),this.valpha],ye)},le[ye]=function(...Pe){let Ne=Pe[0];return typeof Ne=="number"&&(Ne=fe(Pe,be)),new le(Ne,ye)}}function ue(ye,be){return Number(ye.toFixed(be))}function ce(ye){return function(be){return ue(be,ye)}}function he(ye,be,Pe){ye=Array.isArray(ye)?ye:[ye];for(const Ne of ye)(ne[Ne]||(ne[Ne]=[]))[be]=Pe;return ye=ye[0],function(Ne){let we;return Ne!==void 0?(Pe&&(Ne=Pe(Ne)),we=this[ye](),we.color[be]=Ne,we):(we=this[ye]().color[be],Pe&&(we=Pe(we)),we)}}function de(ye){return function(be){return Math.max(0,Math.min(ye,be))}}function _e(ye){return Array.isArray(ye)?ye:[ye]}function fe(ye,be){for(let Pe=0;Pe<be;Pe++)typeof ye[Pe]!="number"&&(ye[Pe]=0);return ye}return color$1=le,color$1}var colorExports=requireColor();const Color$1=getDefaultExportFromCjs(colorExports),ColorPicker="_ColorPicker_lp19u_1",styles$e={ColorPicker},ColorPickerHibisco=({input:ie})=>{const[ee,te]=reactExports.useState(ie.value),se=ne=>{try{const le=Color$1(ne).hex();changeInputValue(ie,le)}catch(le){console.error(le)}finally{te(ne)}};return jsxRuntimeExports.jsx("div",{className:clsx("_ColorPicker hibisco-root",styles$e.ColorPicker),children:jsxRuntimeExports.jsxs(MantineProvider,{theme:MantineCustomTheme,forceColorScheme:"light",children:[jsxRuntimeExports.jsx(ColorPicker$1,{format:"hex",value:ee,onChange:se,fullWidth:!0,className:"h-full"}),jsxRuntimeExports.jsx(ColorInput,{withPicker:!1,onChange:se,value:ee,className:"w-full"})]})})},CopyPasteWiredComponent$1="_CopyPasteWiredComponent_csqt7_1",Icon$1="_Icon_csqt7_14",styles$d={CopyPasteWiredComponent:CopyPasteWiredComponent$1,Icon:Icon$1},CopyComponent=()=>{const[ie,ee]=reactExports.useState(!1),te=()=>{wiredGlobalConfiguration.copyDefinition(),ee(!0),setTimeout(()=>{ee(!1)},1e3)};return jsxRuntimeExports.jsx("div",{className:styles$d.Icon,children:ie?jsxRuntimeExports.jsx(q$1,{size:18,color:"#a4f9d4",weight:"fill"}):jsxRuntimeExports.jsx(C$1,{size:18,weight:"fill",onClick:te})})},PasteComponent=()=>{const[ie,ee]=reactExports.useState(!1),te=()=>{wiredGlobalConfiguration.pasteDefinition(),ee(!0),setTimeout(()=>{ee(!1)},1e3)};return jsxRuntimeExports.jsx("div",{className:styles$d.Icon,children:ie?jsxRuntimeExports.jsx(q$1,{size:18,color:"#a4f9d4",weight:"fill"}):jsxRuntimeExports.jsx(w$7,{size:18,weight:"fill",onClick:te})})},CopyPasteWiredComponent=()=>{const[ie,ee]=reactExports.useState(wiredGlobalConfiguration.isPasteAvailable());return reactExports.useEffect(()=>{if(ie)return;const te=setInterval(()=>{ee(wiredGlobalConfiguration.isPasteAvailable())},500);return()=>clearInterval(te)},[]),jsxRuntimeExports.jsxs("div",{className:clsx("_CopyPasteWiredComponent",styles$d.CopyPasteWiredComponent),children:[jsxRuntimeExports.jsx(CopyComponent,{}),ie&&jsxRuntimeExports.jsx(PasteComponent,{})]})},IconSourceSelect$1="_IconSourceSelect_1ortx_1",Row="_Row_1ortx_1",SwitchContainer="_SwitchContainer_1ortx_1",Icon="_Icon_1ortx_1",Active$1="_Active_1ortx_37",Text="_Text_1ortx_42",Switch="_Switch_1ortx_1",SwitchButton="_SwitchButton_1ortx_61",styles$c={IconSourceSelect:IconSourceSelect$1,Row,SwitchContainer,Icon,Active:Active$1,Text,Switch,SwitchButton},IconSource=({sourceFor:ie,sourceCode:ee,onClick:te,active:se})=>{const le={0:w$6,100:u$4,200:w$5,201:w$1,900:ie==="furni"?A$1:I$1}[ee];return jsxRuntimeExports.jsx("div",{className:clsx("_Icon",styles$c.Icon,se&&styles$c.Active),onClick:()=>te(ie,ee),children:jsxRuntimeExports.jsx(le,{size:20,weight:ee==201?"bold":"fill"})})},texts={users:{0:"Usar usuário acionador",100:"Usar bot especificado pelo nome",200:"Usar usuários do seletor",201:"Usar usuários do sinal",900:"Todos os usuários no quarto"},furnis:{0:"Usar mobi de ativação",100:"Usar mobis escolhidos",200:"Usar mobis do seletor",201:"Usar mobis do sinal",900:"Todos os mobis do quarto"}},IconSourceSelect=({isMerged:ie,sourceFor:ee,nthSelectorForThisSource:te})=>{ie&&(te=0);const[se,ne]=reactExports.useState(wiredGlobalConfiguration.furniSelectionTypes),[le,ue]=reactExports.useState(wiredGlobalConfiguration.userSelectionTypes),ce=wiredGlobalConfiguration.getTriggerable().inputSourcesConf.getAllowedFurniSources(te),he=wiredGlobalConfiguration.getTriggerable().inputSourcesConf.getAllowedUserSources(te),de=se[te],_e=le[te];ie&&(ee=["furni","user"][wiredGlobalConfiguration.getTriggerable().intData[0]]),wiredGlobalConfiguration.currentSourceType=ee;let fe;const[ye,be]=reactExports.useState(ee),[Pe,Ne]=reactExports.useState(ee);reactExports.useEffect(()=>{if(ie){const Hi=Pe==="furni"?0:1;wiredGlobalConfiguration.setMergedSource(Hi)}},[ie,Pe]);const[we,De]=reactExports.useState(de),[$e,Ge]=reactExports.useState(_e),Be=(Hi,bn)=>{Hi==="furni"?(Ne("furni"),De(bn),wiredGlobalConfiguration.furniSelectionTypes[te]=bn,wiredGlobalConfiguration.currentSourceType="furni",ie&&(wiredGlobalConfiguration.userSelectionTypes[te]=0)):(Ne("user"),Ge(bn),wiredGlobalConfiguration.userSelectionTypes[te]=bn,wiredGlobalConfiguration.currentSourceType="user",ie&&(wiredGlobalConfiguration.furniSelectionTypes[te]=0))};reactExports.useEffect(()=>{const Hi=HibiscoEvents.on("WIRED_DEFINITION_SET",()=>{console.debug("WIRED_DEFINITION_SET -> Setting wiredId inside selecion icons"),ne(wiredGlobalConfiguration.furniSelectionTypes),ue(wiredGlobalConfiguration.userSelectionTypes),ie&&(ee=["furni","user"][wiredGlobalConfiguration.getTriggerable().intData[0]]),be(ee),Ne(ee),ee==="furni"?De(wiredGlobalConfiguration.furniSelectionTypes[te]):Ge(wiredGlobalConfiguration.userSelectionTypes[te])});return()=>{Hi()}},[]);let ze,$t,ut;if(ye==="furni"?(ze=ce,fe=texts.furnis,$t=Hi=>Pe=="furni"&&we===Hi,ut=()=>Pe=="furni"?fe[we]:" "):(ze=he,fe=texts.users,$t=Hi=>Pe=="user"&&$e===Hi,ut=()=>Pe=="user"?fe[$e]:" "),!ze)return null;const Ti=()=>{const Hi=bn=>{be(bn),bn==="furni"?wiredGlobalConfiguration.furniSelectionTypes[te]:wiredGlobalConfiguration.userSelectionTypes[te]};return jsxRuntimeExports.jsx("div",{className:styles$c.SwitchContainer,children:jsxRuntimeExports.jsxs("div",{className:styles$c.Switch,children:[jsxRuntimeExports.jsx("div",{className:clsx(styles$c.SwitchButton,ye==="furni"&&styles$c.Active),onClick:()=>Hi("furni"),children:jsxRuntimeExports.jsx(A$1,{size:12,weight:"fill"})}),jsxRuntimeExports.jsx("div",{className:clsx(styles$c.SwitchButton,ye==="user"&&styles$c.Active),onClick:()=>Hi("user"),children:jsxRuntimeExports.jsx(R$1,{size:12,weight:"fill"})})]})})};return jsxRuntimeExports.jsxs("div",{className:clsx("_IconSourceSelect",styles$c.IconSourceSelect),children:[ie&&jsxRuntimeExports.jsx(Ti,{}),jsxRuntimeExports.jsx("div",{className:styles$c.Row,children:ze.map(Hi=>jsxRuntimeExports.jsx(IconSource,{isMerged:ie,sourceFor:ye,sourceCode:Hi,active:$t(Hi),onClick:Be},Hi))}),jsxRuntimeExports.jsx("div",{className:styles$c.Text,children:ut()})]})},ListToGridSwitch$1="_ListToGridSwitch_g6hrx_1",Grid="_Grid_g6hrx_14",List="_List_g6hrx_1",Active="_Active_g6hrx_18",styles$b={ListToGridSwitch:ListToGridSwitch$1,Grid,List,Active},ListToGridSwitch=()=>{const ee=oe(A$2).reworkUi.store.showAsList,te=()=>{A$2.reworkUi.store.showAsList=!0},se=()=>{A$2.reworkUi.store.showAsList=!1};return jsxRuntimeExports.jsxs("div",{className:clsx("_ListToGridSwitch","catalog-list-to-grid-switch",styles$b.ListToGridSwitch),children:[jsxRuntimeExports.jsx("div",{className:clsx(styles$b.List,ee&&styles$b.Active),onClick:te,children:jsxRuntimeExports.jsx(L$1,{size:14,weight:"bold"})}),jsxRuntimeExports.jsx("div",{className:clsx(styles$b.Grid,!ee&&styles$b.Active),onClick:se,children:jsxRuntimeExports.jsx(w$3,{size:14,weight:"fill"})})]})},NeighbourhoodCoreDuoCanvas$1="_NeighbourhoodCoreDuoCanvas_dhb5a_1",styles$a={NeighbourhoodCoreDuoCanvas:NeighbourhoodCoreDuoCanvas$1},scriptRel="modulepreload",assetsURL=function(ie){return"/"+ie},seen={},__vitePreload=function(ee,te,se){let ne=Promise.resolve();function le(ue){const ce=new Event("vite:preloadError",{cancelable:!0});if(ce.payload=ue,window.dispatchEvent(ce),!ce.defaultPrevented)throw ue}return ne.then(ue=>{for(const ce of ue||[])ce.status==="rejected"&&le(ce.reason);return ee().catch(le)})};var ExtensionType=(ie=>(ie.Application="application",ie.WebGLPipes="webgl-pipes",ie.WebGLPipesAdaptor="webgl-pipes-adaptor",ie.WebGLSystem="webgl-system",ie.WebGPUPipes="webgpu-pipes",ie.WebGPUPipesAdaptor="webgpu-pipes-adaptor",ie.WebGPUSystem="webgpu-system",ie.CanvasSystem="canvas-system",ie.CanvasPipesAdaptor="canvas-pipes-adaptor",ie.CanvasPipes="canvas-pipes",ie.Asset="asset",ie.LoadParser="load-parser",ie.ResolveParser="resolve-parser",ie.CacheParser="cache-parser",ie.DetectionParser="detection-parser",ie.MaskEffect="mask-effect",ie.BlendMode="blend-mode",ie.TextureSource="texture-source",ie.Environment="environment",ie))(ExtensionType||{});const normalizeExtension=ie=>{if(typeof ie=="function"||typeof ie=="object"&&ie.extension){if(!ie.extension)throw new Error("Extension class must have an extension object");ie={...typeof ie.extension!="object"?{type:ie.extension}:ie.extension,ref:ie}}if(typeof ie=="object")ie={...ie};else throw new Error("Invalid extension type");return typeof ie.type=="string"&&(ie.type=[ie.type]),ie},normalizeExtensionPriority=(ie,ee)=>normalizeExtension(ie).priority??ee,extensions={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...ie){return ie.map(normalizeExtension).forEach(ee=>{ee.type.forEach(te=>{var se,ne;return(ne=(se=this._removeHandlers)[te])==null?void 0:ne.call(se,ee)})}),this},add(...ie){return ie.map(normalizeExtension).forEach(ee=>{ee.type.forEach(te=>{var le,ue;const se=this._addHandlers,ne=this._queue;se[te]?(ue=se[te])==null||ue.call(se,ee):(ne[te]=ne[te]||[],(le=ne[te])==null||le.push(ee))})}),this},handle(ie,ee,te){var ue;const se=this._addHandlers,ne=this._removeHandlers;if(se[ie]||ne[ie])throw new Error(`Extension type ${ie} already has a handler`);se[ie]=ee,ne[ie]=te;const le=this._queue;return le[ie]&&((ue=le[ie])==null||ue.forEach(ce=>ee(ce)),delete le[ie]),this},handleByMap(ie,ee){return this.handle(ie,te=>{te.name&&(ee[te.name]=te.ref)},te=>{te.name&&delete ee[te.name]})},handleByNamedList(ie,ee,te=-1){return this.handle(ie,se=>{ee.findIndex(le=>le.name===se.name)>=0||(ee.push({name:se.name,value:se.ref}),ee.sort((le,ue)=>normalizeExtensionPriority(ue.value,te)-normalizeExtensionPriority(le.value,te)))},se=>{const ne=ee.findIndex(le=>le.name===se.name);ne!==-1&&ee.splice(ne,1)})},handleByList(ie,ee,te=-1){return this.handle(ie,se=>{ee.includes(se.ref)||(ee.push(se.ref),ee.sort((ne,le)=>normalizeExtensionPriority(le,te)-normalizeExtensionPriority(ne,te)))},se=>{const ne=ee.indexOf(se.ref);ne!==-1&&ee.splice(ne,1)})}},browserExt={extension:{type:ExtensionType.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await __vitePreload(()=>Promise.resolve().then(()=>browserAll),void 0)}},webworkerExt={extension:{type:ExtensionType.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await __vitePreload(()=>Promise.resolve().then(()=>webworkerAll),void 0)}};class ObservablePoint{constructor(ee,te,se){this._x=te||0,this._y=se||0,this._observer=ee}clone(ee){return new ObservablePoint(ee??this._observer,this._x,this._y)}set(ee=0,te=ee){return(this._x!==ee||this._y!==te)&&(this._x=ee,this._y=te,this._observer._onUpdate(this)),this}copyFrom(ee){return(this._x!==ee.x||this._y!==ee.y)&&(this._x=ee.x,this._y=ee.y,this._observer._onUpdate(this)),this}copyTo(ee){return ee.set(this._x,this._y),ee}equals(ee){return ee.x===this._x&&ee.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(ee){this._x!==ee&&(this._x=ee,this._observer._onUpdate(this))}get y(){return this._y}set y(ee){this._y!==ee&&(this._y=ee,this._observer._onUpdate(this))}}var eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(ie){var ee=Object.prototype.hasOwnProperty,te="~";function se(){}Object.create&&(se.prototype=Object.create(null),new se().__proto__||(te=!1));function ne(he,de,_e){this.fn=he,this.context=de,this.once=_e||!1}function le(he,de,_e,fe,ye){if(typeof _e!="function")throw new TypeError("The listener must be a function");var be=new ne(_e,fe||he,ye),Pe=te?te+de:de;return he._events[Pe]?he._events[Pe].fn?he._events[Pe]=[he._events[Pe],be]:he._events[Pe].push(be):(he._events[Pe]=be,he._eventsCount++),he}function ue(he,de){--he._eventsCount===0?he._events=new se:delete he._events[de]}function ce(){this._events=new se,this._eventsCount=0}ce.prototype.eventNames=function(){var de=[],_e,fe;if(this._eventsCount===0)return de;for(fe in _e=this._events)ee.call(_e,fe)&&de.push(te?fe.slice(1):fe);return Object.getOwnPropertySymbols?de.concat(Object.getOwnPropertySymbols(_e)):de},ce.prototype.listeners=function(de){var _e=te?te+de:de,fe=this._events[_e];if(!fe)return[];if(fe.fn)return[fe.fn];for(var ye=0,be=fe.length,Pe=new Array(be);ye<be;ye++)Pe[ye]=fe[ye].fn;return Pe},ce.prototype.listenerCount=function(de){var _e=te?te+de:de,fe=this._events[_e];return fe?fe.fn?1:fe.length:0},ce.prototype.emit=function(de,_e,fe,ye,be,Pe){var Ne=te?te+de:de;if(!this._events[Ne])return!1;var we=this._events[Ne],De=arguments.length,$e,Ge;if(we.fn){switch(we.once&&this.removeListener(de,we.fn,void 0,!0),De){case 1:return we.fn.call(we.context),!0;case 2:return we.fn.call(we.context,_e),!0;case 3:return we.fn.call(we.context,_e,fe),!0;case 4:return we.fn.call(we.context,_e,fe,ye),!0;case 5:return we.fn.call(we.context,_e,fe,ye,be),!0;case 6:return we.fn.call(we.context,_e,fe,ye,be,Pe),!0}for(Ge=1,$e=new Array(De-1);Ge<De;Ge++)$e[Ge-1]=arguments[Ge];we.fn.apply(we.context,$e)}else{var Be=we.length,ze;for(Ge=0;Ge<Be;Ge++)switch(we[Ge].once&&this.removeListener(de,we[Ge].fn,void 0,!0),De){case 1:we[Ge].fn.call(we[Ge].context);break;case 2:we[Ge].fn.call(we[Ge].context,_e);break;case 3:we[Ge].fn.call(we[Ge].context,_e,fe);break;case 4:we[Ge].fn.call(we[Ge].context,_e,fe,ye);break;default:if(!$e)for(ze=1,$e=new Array(De-1);ze<De;ze++)$e[ze-1]=arguments[ze];we[Ge].fn.apply(we[Ge].context,$e)}}return!0},ce.prototype.on=function(de,_e,fe){return le(this,de,_e,fe,!1)},ce.prototype.once=function(de,_e,fe){return le(this,de,_e,fe,!0)},ce.prototype.removeListener=function(de,_e,fe,ye){var be=te?te+de:de;if(!this._events[be])return this;if(!_e)return ue(this,be),this;var Pe=this._events[be];if(Pe.fn)Pe.fn===_e&&(!ye||Pe.once)&&(!fe||Pe.context===fe)&&ue(this,be);else{for(var Ne=0,we=[],De=Pe.length;Ne<De;Ne++)(Pe[Ne].fn!==_e||ye&&!Pe[Ne].once||fe&&Pe[Ne].context!==fe)&&we.push(Pe[Ne]);we.length?this._events[be]=we.length===1?we[0]:we:ue(this,be)}return this},ce.prototype.removeAllListeners=function(de){var _e;return de?(_e=te?te+de:de,this._events[_e]&&ue(this,_e)):(this._events=new se,this._eventsCount=0),this},ce.prototype.off=ce.prototype.removeListener,ce.prototype.addListener=ce.prototype.on,ce.prefixed=te,ce.EventEmitter=ce,ie.exports=ce}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports),PI_2=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180;class Point{constructor(ee=0,te=0){this.x=0,this.y=0,this.x=ee,this.y=te}clone(){return new Point(this.x,this.y)}copyFrom(ee){return this.set(ee.x,ee.y),this}copyTo(ee){return ee.set(this.x,this.y),ee}equals(ee){return ee.x===this.x&&ee.y===this.y}set(ee=0,te=ee){return this.x=ee,this.y=te,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return tempPoint.x=0,tempPoint.y=0,tempPoint}}const tempPoint=new Point;class Matrix{constructor(ee=1,te=0,se=0,ne=1,le=0,ue=0){this.array=null,this.a=ee,this.b=te,this.c=se,this.d=ne,this.tx=le,this.ty=ue}fromArray(ee){this.a=ee[0],this.b=ee[1],this.c=ee[3],this.d=ee[4],this.tx=ee[2],this.ty=ee[5]}set(ee,te,se,ne,le,ue){return this.a=ee,this.b=te,this.c=se,this.d=ne,this.tx=le,this.ty=ue,this}toArray(ee,te){this.array||(this.array=new Float32Array(9));const se=te||this.array;return ee?(se[0]=this.a,se[1]=this.b,se[2]=0,se[3]=this.c,se[4]=this.d,se[5]=0,se[6]=this.tx,se[7]=this.ty,se[8]=1):(se[0]=this.a,se[1]=this.c,se[2]=this.tx,se[3]=this.b,se[4]=this.d,se[5]=this.ty,se[6]=0,se[7]=0,se[8]=1),se}apply(ee,te){te=te||new Point;const se=ee.x,ne=ee.y;return te.x=this.a*se+this.c*ne+this.tx,te.y=this.b*se+this.d*ne+this.ty,te}applyInverse(ee,te){te=te||new Point;const se=this.a,ne=this.b,le=this.c,ue=this.d,ce=this.tx,he=this.ty,de=1/(se*ue+le*-ne),_e=ee.x,fe=ee.y;return te.x=ue*de*_e+-le*de*fe+(he*le-ce*ue)*de,te.y=se*de*fe+-ne*de*_e+(-he*se+ce*ne)*de,te}translate(ee,te){return this.tx+=ee,this.ty+=te,this}scale(ee,te){return this.a*=ee,this.d*=te,this.c*=ee,this.b*=te,this.tx*=ee,this.ty*=te,this}rotate(ee){const te=Math.cos(ee),se=Math.sin(ee),ne=this.a,le=this.c,ue=this.tx;return this.a=ne*te-this.b*se,this.b=ne*se+this.b*te,this.c=le*te-this.d*se,this.d=le*se+this.d*te,this.tx=ue*te-this.ty*se,this.ty=ue*se+this.ty*te,this}append(ee){const te=this.a,se=this.b,ne=this.c,le=this.d;return this.a=ee.a*te+ee.b*ne,this.b=ee.a*se+ee.b*le,this.c=ee.c*te+ee.d*ne,this.d=ee.c*se+ee.d*le,this.tx=ee.tx*te+ee.ty*ne+this.tx,this.ty=ee.tx*se+ee.ty*le+this.ty,this}appendFrom(ee,te){const se=ee.a,ne=ee.b,le=ee.c,ue=ee.d,ce=ee.tx,he=ee.ty,de=te.a,_e=te.b,fe=te.c,ye=te.d;return this.a=se*de+ne*fe,this.b=se*_e+ne*ye,this.c=le*de+ue*fe,this.d=le*_e+ue*ye,this.tx=ce*de+he*fe+te.tx,this.ty=ce*_e+he*ye+te.ty,this}setTransform(ee,te,se,ne,le,ue,ce,he,de){return this.a=Math.cos(ce+de)*le,this.b=Math.sin(ce+de)*le,this.c=-Math.sin(ce-he)*ue,this.d=Math.cos(ce-he)*ue,this.tx=ee-(se*this.a+ne*this.c),this.ty=te-(se*this.b+ne*this.d),this}prepend(ee){const te=this.tx;if(ee.a!==1||ee.b!==0||ee.c!==0||ee.d!==1){const se=this.a,ne=this.c;this.a=se*ee.a+this.b*ee.c,this.b=se*ee.b+this.b*ee.d,this.c=ne*ee.a+this.d*ee.c,this.d=ne*ee.b+this.d*ee.d}return this.tx=te*ee.a+this.ty*ee.c+ee.tx,this.ty=te*ee.b+this.ty*ee.d+ee.ty,this}decompose(ee){const te=this.a,se=this.b,ne=this.c,le=this.d,ue=ee.pivot,ce=-Math.atan2(-ne,le),he=Math.atan2(se,te),de=Math.abs(ce+he);return de<1e-5||Math.abs(PI_2-de)<1e-5?(ee.rotation=he,ee.skew.x=ee.skew.y=0):(ee.rotation=0,ee.skew.x=ce,ee.skew.y=he),ee.scale.x=Math.sqrt(te*te+se*se),ee.scale.y=Math.sqrt(ne*ne+le*le),ee.position.x=this.tx+(ue.x*te+ue.y*ne),ee.position.y=this.ty+(ue.x*se+ue.y*le),ee}invert(){const ee=this.a,te=this.b,se=this.c,ne=this.d,le=this.tx,ue=ee*ne-te*se;return this.a=ne/ue,this.b=-te/ue,this.c=-se/ue,this.d=ee/ue,this.tx=(se*this.ty-ne*le)/ue,this.ty=-(ee*this.ty-te*le)/ue,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const ee=new Matrix;return ee.a=this.a,ee.b=this.b,ee.c=this.c,ee.d=this.d,ee.tx=this.tx,ee.ty=this.ty,ee}copyTo(ee){return ee.a=this.a,ee.b=this.b,ee.c=this.c,ee.d=this.d,ee.tx=this.tx,ee.ty=this.ty,ee}copyFrom(ee){return this.a=ee.a,this.b=ee.b,this.c=ee.c,this.d=ee.d,this.tx=ee.tx,this.ty=ee.ty,this}equals(ee){return ee.a===this.a&&ee.b===this.b&&ee.c===this.c&&ee.d===this.d&&ee.tx===this.tx&&ee.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return identityMatrix.identity()}static get shared(){return tempMatrix$4.identity()}}const tempMatrix$4=new Matrix,identityMatrix=new Matrix,ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init(){for(let ie=0;ie<16;ie++){const ee=[];rotationCayley.push(ee);for(let te=0;te<16;te++){const se=signum(ux[ie]*ux[te]+vx[ie]*uy[te]),ne=signum(uy[ie]*ux[te]+vy[ie]*uy[te]),le=signum(ux[ie]*vx[te]+vx[ie]*vy[te]),ue=signum(uy[ie]*vx[te]+vy[ie]*vy[te]);for(let ce=0;ce<16;ce++)if(ux[ce]===se&&uy[ce]===ne&&vx[ce]===le&&vy[ce]===ue){ee.push(ce);break}}}for(let ie=0;ie<16;ie++){const ee=new Matrix;ee.set(ux[ie],uy[ie],vx[ie],vy[ie],0,0),rotationMatrices.push(ee)}}init();const groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:ie=>ux[ie],uY:ie=>uy[ie],vX:ie=>vx[ie],vY:ie=>vy[ie],inv:ie=>ie&8?ie&15:-ie&7,add:(ie,ee)=>rotationCayley[ie][ee],sub:(ie,ee)=>rotationCayley[ie][groupD8.inv(ee)],rotate180:ie=>ie^4,isVertical:ie=>(ie&3)===2,byDirection:(ie,ee)=>Math.abs(ie)*2<=Math.abs(ee)?ee>=0?groupD8.S:groupD8.N:Math.abs(ee)*2<=Math.abs(ie)?ie>0?groupD8.E:groupD8.W:ee>0?ie>0?groupD8.SE:groupD8.SW:ie>0?groupD8.NE:groupD8.NW,matrixAppendRotationInv:(ie,ee,te=0,se=0)=>{const ne=rotationMatrices[groupD8.inv(ee)];ne.tx=te,ne.ty=se,ie.append(ne)}},tempPoints=[new Point,new Point,new Point,new Point];class Rectangle{constructor(ee=0,te=0,se=0,ne=0){this.type="rectangle",this.x=Number(ee),this.y=Number(te),this.width=Number(se),this.height=Number(ne)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new Rectangle(0,0,0,0)}clone(){return new Rectangle(this.x,this.y,this.width,this.height)}copyFromBounds(ee){return this.x=ee.minX,this.y=ee.minY,this.width=ee.maxX-ee.minX,this.height=ee.maxY-ee.minY,this}copyFrom(ee){return this.x=ee.x,this.y=ee.y,this.width=ee.width,this.height=ee.height,this}copyTo(ee){return ee.copyFrom(this),ee}contains(ee,te){return this.width<=0||this.height<=0?!1:ee>=this.x&&ee<this.x+this.width&&te>=this.y&&te<this.y+this.height}strokeContains(ee,te,se){const{width:ne,height:le}=this;if(ne<=0||le<=0)return!1;const ue=this.x,ce=this.y,he=ue-se/2,de=ue+ne+se/2,_e=ce-se/2,fe=ce+le+se/2,ye=ue+se/2,be=ue+ne-se/2,Pe=ce+se/2,Ne=ce+le-se/2;return ee>=he&&ee<=de&&te>=_e&&te<=fe&&!(ee>ye&&ee<be&&te>Pe&&te<Ne)}intersects(ee,te){if(!te){const Ti=this.x<ee.x?ee.x:this.x;if((this.right>ee.right?ee.right:this.right)<=Ti)return!1;const bn=this.y<ee.y?ee.y:this.y;return(this.bottom>ee.bottom?ee.bottom:this.bottom)>bn}const se=this.left,ne=this.right,le=this.top,ue=this.bottom;if(ne<=se||ue<=le)return!1;const ce=tempPoints[0].set(ee.left,ee.top),he=tempPoints[1].set(ee.left,ee.bottom),de=tempPoints[2].set(ee.right,ee.top),_e=tempPoints[3].set(ee.right,ee.bottom);if(de.x<=ce.x||he.y<=ce.y)return!1;const fe=Math.sign(te.a*te.d-te.b*te.c);if(fe===0||(te.apply(ce,ce),te.apply(he,he),te.apply(de,de),te.apply(_e,_e),Math.max(ce.x,he.x,de.x,_e.x)<=se||Math.min(ce.x,he.x,de.x,_e.x)>=ne||Math.max(ce.y,he.y,de.y,_e.y)<=le||Math.min(ce.y,he.y,de.y,_e.y)>=ue))return!1;const ye=fe*(he.y-ce.y),be=fe*(ce.x-he.x),Pe=ye*se+be*le,Ne=ye*ne+be*le,we=ye*se+be*ue,De=ye*ne+be*ue;if(Math.max(Pe,Ne,we,De)<=ye*ce.x+be*ce.y||Math.min(Pe,Ne,we,De)>=ye*_e.x+be*_e.y)return!1;const $e=fe*(ce.y-de.y),Ge=fe*(de.x-ce.x),Be=$e*se+Ge*le,ze=$e*ne+Ge*le,$t=$e*se+Ge*ue,ut=$e*ne+Ge*ue;return!(Math.max(Be,ze,$t,ut)<=$e*ce.x+Ge*ce.y||Math.min(Be,ze,$t,ut)>=$e*_e.x+Ge*_e.y)}pad(ee=0,te=ee){return this.x-=ee,this.y-=te,this.width+=ee*2,this.height+=te*2,this}fit(ee){const te=Math.max(this.x,ee.x),se=Math.min(this.x+this.width,ee.x+ee.width),ne=Math.max(this.y,ee.y),le=Math.min(this.y+this.height,ee.y+ee.height);return this.x=te,this.width=Math.max(se-te,0),this.y=ne,this.height=Math.max(le-ne,0),this}ceil(ee=1,te=.001){const se=Math.ceil((this.x+this.width-te)*ee)/ee,ne=Math.ceil((this.y+this.height-te)*ee)/ee;return this.x=Math.floor((this.x+te)*ee)/ee,this.y=Math.floor((this.y+te)*ee)/ee,this.width=se-this.x,this.height=ne-this.y,this}enlarge(ee){const te=Math.min(this.x,ee.x),se=Math.max(this.x+this.width,ee.x+ee.width),ne=Math.min(this.y,ee.y),le=Math.max(this.y+this.height,ee.y+ee.height);return this.x=te,this.width=se-te,this.y=ne,this.height=le-ne,this}getBounds(ee){return ee=ee||new Rectangle,ee.copyFrom(this),ee}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const uidCache={default:-1};function uid(ie="default"){return uidCache[ie]===void 0&&(uidCache[ie]=-1),++uidCache[ie]}const warnings={},v8_0_0="8.0.0";function deprecation(ie,ee,te=3){if(warnings[ee])return;let se=new Error().stack;typeof se>"u"?console.warn("PixiJS Deprecation Warning: ",`${ee}
Deprecated since v${ie}`):(se=se.split(`
`).splice(te).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${ee}
Deprecated since v${ie}`),console.warn(se),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${ee}
Deprecated since v${ie}`),console.warn(se))),warnings[ee]=!0}const NOOP=()=>{};function nextPow2(ie){return ie+=ie===0?1:0,--ie,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie+1}function isPow2(ie){return!(ie&ie-1)&&!!ie}function definedProps(ie){const ee={};for(const te in ie)ie[te]!==void 0&&(ee[te]=ie[te]);return ee}const idHash$1=Object.create(null);function createResourceIdFromString(ie){const ee=idHash$1[ie];return ee===void 0&&(idHash$1[ie]=uid("resource")),ee}const _TextureStyle=class Sk extends EventEmitter{constructor(ee={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,ee={...Sk.defaultOptions,...ee},this.addressMode=ee.addressMode,this.addressModeU=ee.addressModeU??this.addressModeU,this.addressModeV=ee.addressModeV??this.addressModeV,this.addressModeW=ee.addressModeW??this.addressModeW,this.scaleMode=ee.scaleMode,this.magFilter=ee.magFilter??this.magFilter,this.minFilter=ee.minFilter??this.minFilter,this.mipmapFilter=ee.mipmapFilter??this.mipmapFilter,this.lodMinClamp=ee.lodMinClamp,this.lodMaxClamp=ee.lodMaxClamp,this.compare=ee.compare,this.maxAnisotropy=ee.maxAnisotropy??1}set addressMode(ee){this.addressModeU=ee,this.addressModeV=ee,this.addressModeW=ee}get addressMode(){return this.addressModeU}set wrapMode(ee){deprecation(v8_0_0,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=ee}get wrapMode(){return this.addressMode}set scaleMode(ee){this.magFilter=ee,this.minFilter=ee,this.mipmapFilter=ee}get scaleMode(){return this.magFilter}set maxAnisotropy(ee){this._maxAnisotropy=Math.min(ee,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const ee=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=createResourceIdFromString(ee),this._resourceId}destroy(){this.emit("destroy",this),this.removeAllListeners()}};_TextureStyle.defaultOptions={addressMode:"repeat",scaleMode:"linear"};let TextureStyle=_TextureStyle;const _TextureSource=class bk extends EventEmitter{constructor(ee={}){super(),this.options=ee,this.uid=uid("textureSource"),this._resourceType="textureSource",this._resourceId=uid("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,ee={...bk.defaultOptions,...ee},this.label=ee.label??"",this.resource=ee.resource,this.autoGarbageCollect=ee.autoGarbageCollect,this._resolution=ee.resolution,ee.width?this.pixelWidth=ee.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,ee.height?this.pixelHeight=ee.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=ee.format,this.dimension=ee.dimensions,this.mipLevelCount=ee.mipLevelCount,this.autoGenerateMipmaps=ee.autoGenerateMipmaps,this.sampleCount=ee.sampleCount,this.antialias=ee.antialias,this.alphaMode=ee.alphaMode,this.style=new TextureStyle(definedProps(ee)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(ee){var te,se;this.style!==ee&&((te=this._style)==null||te.off("change",this._onStyleChange,this),this._style=ee,(se=this._style)==null||se.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(ee){this._style.addressMode=ee}get repeatMode(){return this._style.addressMode}set repeatMode(ee){this._style.addressMode=ee}get magFilter(){return this._style.magFilter}set magFilter(ee){this._style.magFilter=ee}get minFilter(){return this._style.minFilter}set minFilter(ee){this._style.minFilter=ee}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(ee){this._style.mipmapFilter=ee}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(ee){this._style.lodMinClamp=ee}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(ee){this._style.lodMaxClamp=ee}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const ee=this._resolution;if(this.resize(this.resourceWidth/ee,this.resourceHeight/ee))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=uid("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:ee}=this;return ee.naturalWidth||ee.videoWidth||ee.displayWidth||ee.width}get resourceHeight(){const{resource:ee}=this;return ee.naturalHeight||ee.videoHeight||ee.displayHeight||ee.height}get resolution(){return this._resolution}set resolution(ee){this._resolution!==ee&&(this._resolution=ee,this.width=this.pixelWidth/ee,this.height=this.pixelHeight/ee)}resize(ee,te,se){se=se||this._resolution,ee=ee||this.width,te=te||this.height;const ne=Math.round(ee*se),le=Math.round(te*se);return this.width=ne/se,this.height=le/se,this._resolution=se,this.pixelWidth===ne&&this.pixelHeight===le?!1:(this._refreshPOT(),this.pixelWidth=ne,this.pixelHeight=le,this.emit("resize",this),this._resourceId=uid("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(ee){this._style.wrapMode=ee}get wrapMode(){return this._style.wrapMode}set scaleMode(ee){this._style.scaleMode=ee}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=isPow2(this.pixelWidth)&&isPow2(this.pixelHeight)}static test(ee){throw new Error("Unimplemented")}};_TextureSource.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let TextureSource=_TextureSource;class BufferImageSource extends TextureSource{constructor(ee){const te=ee.resource||new Float32Array(ee.width*ee.height*4);let se=ee.format;se||(te instanceof Float32Array?se="rgba32float":te instanceof Int32Array||te instanceof Uint32Array?se="rgba32uint":te instanceof Int16Array||te instanceof Uint16Array?se="rgba16uint":(te instanceof Int8Array,se="bgra8unorm")),super({...ee,resource:te,format:se}),this.uploadMethodId="buffer"}static test(ee){return ee instanceof Int8Array||ee instanceof Uint8Array||ee instanceof Uint8ClampedArray||ee instanceof Int16Array||ee instanceof Uint16Array||ee instanceof Int32Array||ee instanceof Uint32Array||ee instanceof Float32Array}}BufferImageSource.extension=ExtensionType.TextureSource;const tempMat=new Matrix;class TextureMatrix{constructor(ee,te){this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof te>"u"?this.clampMargin=ee.width<10?0:.5:this.clampMargin=te,this.isSimple=!1,this.texture=ee}get texture(){return this._texture}set texture(ee){var te;this.texture!==ee&&((te=this._texture)==null||te.removeListener("update",this.update,this),this._texture=ee,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(ee,te){te===void 0&&(te=ee);const se=this.mapCoord;for(let ne=0;ne<ee.length;ne+=2){const le=ee[ne],ue=ee[ne+1];te[ne]=le*se.a+ue*se.c+se.tx,te[ne+1]=le*se.b+ue*se.d+se.ty}return te}update(){const ee=this._texture;this._updateID++;const te=ee.uvs;this.mapCoord.set(te.x1-te.x0,te.y1-te.y0,te.x3-te.x0,te.y3-te.y0,te.x0,te.y0);const se=ee.orig,ne=ee.trim;ne&&(tempMat.set(se.width/ne.width,0,0,se.height/ne.height,-ne.x/ne.width,-ne.y/ne.height),this.mapCoord.append(tempMat));const le=ee.source,ue=this.uClampFrame,ce=this.clampMargin/le._resolution,he=this.clampOffset;return ue[0]=(ee.frame.x+ce+he)/le.width,ue[1]=(ee.frame.y+ce+he)/le.height,ue[2]=(ee.frame.x+ee.frame.width-ce+he)/le.width,ue[3]=(ee.frame.y+ee.frame.height-ce+he)/le.height,this.uClampOffset[0]=he/le.pixelWidth,this.uClampOffset[1]=he/le.pixelHeight,this.isSimple=ee.frame.width===le.width&&ee.frame.height===le.height&&ee.rotate===0,!0}}class Texture extends EventEmitter{constructor({source:ee,label:te,frame:se,orig:ne,trim:le,defaultAnchor:ue,defaultBorders:ce,rotate:he}={}){if(super(),this.uid=uid("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new Rectangle,this.noFrame=!1,this.isTexture=!0,this.label=te,this.source=(ee==null?void 0:ee.source)??new TextureSource,this.noFrame=!se,se)this.frame.copyFrom(se);else{const{width:de,height:_e}=this._source;this.frame.width=de,this.frame.height=_e}this.orig=ne||this.frame,this.trim=le,this.rotate=he??0,this.defaultAnchor=ue,this.defaultBorders=ce,this.destroyed=!1,this.updateUvs()}set source(ee){this._source&&this._source.off("resize",this.update,this),this._source=ee,ee.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new TextureMatrix(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:ee,frame:te}=this,{width:se,height:ne}=this._source,le=te.x/se,ue=te.y/ne,ce=te.width/se,he=te.height/ne;let de=this.rotate;if(de){const _e=ce/2,fe=he/2,ye=le+_e,be=ue+fe;de=groupD8.add(de,groupD8.NW),ee.x0=ye+_e*groupD8.uX(de),ee.y0=be+fe*groupD8.uY(de),de=groupD8.add(de,2),ee.x1=ye+_e*groupD8.uX(de),ee.y1=be+fe*groupD8.uY(de),de=groupD8.add(de,2),ee.x2=ye+_e*groupD8.uX(de),ee.y2=be+fe*groupD8.uY(de),de=groupD8.add(de,2),ee.x3=ye+_e*groupD8.uX(de),ee.y3=be+fe*groupD8.uY(de)}else ee.x0=le,ee.y0=ue,ee.x1=le+ce,ee.y1=ue,ee.x2=le+ce,ee.y2=ue+he,ee.x3=le,ee.y3=ue+he}destroy(ee=!1){this._source&&ee&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return deprecation(v8_0_0,"Texture.baseTexture is now Texture.source"),this._source}}Texture.EMPTY=new Texture({label:"EMPTY",source:new TextureSource({label:"EMPTY"})}),Texture.EMPTY.destroy=NOOP,Texture.WHITE=new Texture({source:new BufferImageSource({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"}),Texture.WHITE.destroy=NOOP;function updateQuadBounds(ie,ee,te,se){const{width:ne,height:le}=te.orig,ue=te.trim;if(ue){const ce=ue.width,he=ue.height;ie.minX=ue.x-ee._x*ne-se,ie.maxX=ie.minX+ce,ie.minY=ue.y-ee._y*le-se,ie.maxY=ie.minY+he}else ie.minX=-ee._x*ne-se,ie.maxX=ie.minX+ne,ie.minY=-ee._y*le-se,ie.maxY=ie.minY+le}var r$1={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(ie){return typeof ie=="string"?ie.length>0:typeof ie=="number"},n=function(ie,ee,te){return ee===void 0&&(ee=0),te===void 0&&(te=Math.pow(10,ee)),Math.round(te*ie)/te+0},e=function(ie,ee,te){return ee===void 0&&(ee=0),te===void 0&&(te=1),ie>te?te:ie>ee?ie:ee},u$2=function(ie){return(ie=isFinite(ie)?ie%360:0)>0?ie:ie+360},a$1=function(ie){return{r:e(ie.r,0,255),g:e(ie.g,0,255),b:e(ie.b,0,255),a:e(ie.a)}},o$1=function(ie){return{r:n(ie.r),g:n(ie.g),b:n(ie.b),a:n(ie.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(ie){var ee=ie.toString(16);return ee.length<2?"0"+ee:ee},h=function(ie){var ee=ie.r,te=ie.g,se=ie.b,ne=ie.a,le=Math.max(ee,te,se),ue=le-Math.min(ee,te,se),ce=ue?le===ee?(te-se)/ue:le===te?2+(se-ee)/ue:4+(ee-te)/ue:0;return{h:60*(ce<0?ce+6:ce),s:le?ue/le*100:0,v:le/255*100,a:ne}},b=function(ie){var ee=ie.h,te=ie.s,se=ie.v,ne=ie.a;ee=ee/360*6,te/=100,se/=100;var le=Math.floor(ee),ue=se*(1-te),ce=se*(1-(ee-le)*te),he=se*(1-(1-ee+le)*te),de=le%6;return{r:255*[se,ce,ue,ue,he,se][de],g:255*[he,se,se,ce,ue,ue][de],b:255*[ue,ue,he,se,se,ce][de],a:ne}},g=function(ie){return{h:u$2(ie.h),s:e(ie.s,0,100),l:e(ie.l,0,100),a:e(ie.a)}},d$1=function(ie){return{h:n(ie.h),s:n(ie.s),l:n(ie.l),a:n(ie.a,3)}},f=function(ie){return b((te=(ee=ie).s,{h:ee.h,s:(te*=((se=ee.l)<50?se:100-se)/100)>0?2*te/(se+te)*100:0,v:se+te,a:ee.a}));var ee,te,se},c=function(ie){return{h:(ee=h(ie)).h,s:(ne=(200-(te=ee.s))*(se=ee.v)/100)>0&&ne<200?te*se/100/(ne<=100?ne:200-ne)*100:0,l:ne/2,a:ee.a};var ee,te,se,ne},l$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y={string:[[function(ie){var ee=i.exec(ie);return ee?(ie=ee[1]).length<=4?{r:parseInt(ie[0]+ie[0],16),g:parseInt(ie[1]+ie[1],16),b:parseInt(ie[2]+ie[2],16),a:ie.length===4?n(parseInt(ie[3]+ie[3],16)/255,2):1}:ie.length===6||ie.length===8?{r:parseInt(ie.substr(0,2),16),g:parseInt(ie.substr(2,2),16),b:parseInt(ie.substr(4,2),16),a:ie.length===8?n(parseInt(ie.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(ie){var ee=v$1.exec(ie)||m$2.exec(ie);return ee?ee[2]!==ee[4]||ee[4]!==ee[6]?null:a$1({r:Number(ee[1])/(ee[2]?100/255:1),g:Number(ee[3])/(ee[4]?100/255:1),b:Number(ee[5])/(ee[6]?100/255:1),a:ee[7]===void 0?1:Number(ee[7])/(ee[8]?100:1)}):null},"rgb"],[function(ie){var ee=l$1.exec(ie)||p.exec(ie);if(!ee)return null;var te,se,ne=g({h:(te=ee[1],se=ee[2],se===void 0&&(se="deg"),Number(te)*(r$1[se]||1)),s:Number(ee[3]),l:Number(ee[4]),a:ee[5]===void 0?1:Number(ee[5])/(ee[6]?100:1)});return f(ne)},"hsl"]],object:[[function(ie){var ee=ie.r,te=ie.g,se=ie.b,ne=ie.a,le=ne===void 0?1:ne;return t(ee)&&t(te)&&t(se)?a$1({r:Number(ee),g:Number(te),b:Number(se),a:Number(le)}):null},"rgb"],[function(ie){var ee=ie.h,te=ie.s,se=ie.l,ne=ie.a,le=ne===void 0?1:ne;if(!t(ee)||!t(te)||!t(se))return null;var ue=g({h:Number(ee),s:Number(te),l:Number(se),a:Number(le)});return f(ue)},"hsl"],[function(ie){var ee=ie.h,te=ie.s,se=ie.v,ne=ie.a,le=ne===void 0?1:ne;if(!t(ee)||!t(te)||!t(se))return null;var ue=function(ce){return{h:u$2(ce.h),s:e(ce.s,0,100),v:e(ce.v,0,100),a:e(ce.a)}}({h:Number(ee),s:Number(te),v:Number(se),a:Number(le)});return b(ue)},"hsv"]]},N$1=function(ie,ee){for(var te=0;te<ee.length;te++){var se=ee[te][0](ie);if(se)return[se,ee[te][1]]}return[null,void 0]},x$1=function(ie){return typeof ie=="string"?N$1(ie.trim(),y.string):typeof ie=="object"&&ie!==null?N$1(ie,y.object):[null,void 0]},M$1=function(ie,ee){var te=c(ie);return{h:te.h,s:e(te.s+100*ee,0,100),l:te.l,a:te.a}},H=function(ie){return(299*ie.r+587*ie.g+114*ie.b)/1e3/255},$$2=function(ie,ee){var te=c(ie);return{h:te.h,s:te.s,l:e(te.l+100*ee,0,100),a:te.a}},j$1=function(){function ie(ee){this.parsed=x$1(ee)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return ie.prototype.isValid=function(){return this.parsed!==null},ie.prototype.brightness=function(){return n(H(this.rgba),2)},ie.prototype.isDark=function(){return H(this.rgba)<.5},ie.prototype.isLight=function(){return H(this.rgba)>=.5},ie.prototype.toHex=function(){return ee=o$1(this.rgba),te=ee.r,se=ee.g,ne=ee.b,ue=(le=ee.a)<1?s(n(255*le)):"","#"+s(te)+s(se)+s(ne)+ue;var ee,te,se,ne,le,ue},ie.prototype.toRgb=function(){return o$1(this.rgba)},ie.prototype.toRgbString=function(){return ee=o$1(this.rgba),te=ee.r,se=ee.g,ne=ee.b,(le=ee.a)<1?"rgba("+te+", "+se+", "+ne+", "+le+")":"rgb("+te+", "+se+", "+ne+")";var ee,te,se,ne,le},ie.prototype.toHsl=function(){return d$1(c(this.rgba))},ie.prototype.toHslString=function(){return ee=d$1(c(this.rgba)),te=ee.h,se=ee.s,ne=ee.l,(le=ee.a)<1?"hsla("+te+", "+se+"%, "+ne+"%, "+le+")":"hsl("+te+", "+se+"%, "+ne+"%)";var ee,te,se,ne,le},ie.prototype.toHsv=function(){return ee=h(this.rgba),{h:n(ee.h),s:n(ee.s),v:n(ee.v),a:n(ee.a,3)};var ee},ie.prototype.invert=function(){return w({r:255-(ee=this.rgba).r,g:255-ee.g,b:255-ee.b,a:ee.a});var ee},ie.prototype.saturate=function(ee){return ee===void 0&&(ee=.1),w(M$1(this.rgba,ee))},ie.prototype.desaturate=function(ee){return ee===void 0&&(ee=.1),w(M$1(this.rgba,-ee))},ie.prototype.grayscale=function(){return w(M$1(this.rgba,-1))},ie.prototype.lighten=function(ee){return ee===void 0&&(ee=.1),w($$2(this.rgba,ee))},ie.prototype.darken=function(ee){return ee===void 0&&(ee=.1),w($$2(this.rgba,-ee))},ie.prototype.rotate=function(ee){return ee===void 0&&(ee=15),this.hue(this.hue()+ee)},ie.prototype.alpha=function(ee){return typeof ee=="number"?w({r:(te=this.rgba).r,g:te.g,b:te.b,a:ee}):n(this.rgba.a,3);var te},ie.prototype.hue=function(ee){var te=c(this.rgba);return typeof ee=="number"?w({h:ee,s:te.s,l:te.l,a:te.a}):n(te.h)},ie.prototype.isEqual=function(ee){return this.toHex()===w(ee).toHex()},ie}(),w=function(ie){return ie instanceof j$1?ie:new j$1(ie)},S$1=[],k$1=function(ie){ie.forEach(function(ee){S$1.indexOf(ee)<0&&(ee(j$1,y),S$1.push(ee))})};function namesPlugin(ie,ee){var te={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},se={};for(var ne in te)se[te[ne]]=ne;var le={};ie.prototype.toName=function(ue){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var ce,he,de=se[this.toHex()];if(de)return de;if(ue!=null&&ue.closest){var _e=this.toRgb(),fe=1/0,ye="black";if(!le.length)for(var be in te)le[be]=new ie(te[be]).toRgb();for(var Pe in te){var Ne=(ce=_e,he=le[Pe],Math.pow(ce.r-he.r,2)+Math.pow(ce.g-he.g,2)+Math.pow(ce.b-he.b,2));Ne<fe&&(fe=Ne,ye=Pe)}return ye}},ee.string.push([function(ue){var ce=ue.toLowerCase(),he=ce==="transparent"?"#0000":te[ce];return he?new ie(he).toRgb():null},"name"])}k$1([namesPlugin]);const _Color=class OL{constructor(ee=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=ee}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(ee){return this.value=ee,this}set value(ee){if(ee instanceof OL)this._value=this._cloneSource(ee._value),this._int=ee._int,this._components.set(ee._components);else{if(ee===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,ee))&&(this._normalize(ee),this._value=this._cloneSource(ee))}}get value(){return this._value}_cloneSource(ee){return typeof ee=="string"||typeof ee=="number"||ee instanceof Number||ee===null?ee:Array.isArray(ee)||ArrayBuffer.isView(ee)?ee.slice(0):typeof ee=="object"&&ee!==null?{...ee}:ee}_isSourceEqual(ee,te){const se=typeof ee;if(se!==typeof te)return!1;if(se==="number"||se==="string"||ee instanceof Number)return ee===te;if(Array.isArray(ee)&&Array.isArray(te)||ArrayBuffer.isView(ee)&&ArrayBuffer.isView(te))return ee.length!==te.length?!1:ee.every((le,ue)=>le===te[ue]);if(ee!==null&&te!==null){const le=Object.keys(ee),ue=Object.keys(te);return le.length!==ue.length?!1:le.every(ce=>ee[ce]===te[ce])}return ee===te}toRgba(){const[ee,te,se,ne]=this._components;return{r:ee,g:te,b:se,a:ne}}toRgb(){const[ee,te,se]=this._components;return{r:ee,g:te,b:se}}toRgbaString(){const[ee,te,se]=this.toUint8RgbArray();return`rgba(${ee},${te},${se},${this.alpha})`}toUint8RgbArray(ee){const[te,se,ne]=this._components;return this._arrayRgb||(this._arrayRgb=[]),ee=ee||this._arrayRgb,ee[0]=Math.round(te*255),ee[1]=Math.round(se*255),ee[2]=Math.round(ne*255),ee}toArray(ee){this._arrayRgba||(this._arrayRgba=[]),ee=ee||this._arrayRgba;const[te,se,ne,le]=this._components;return ee[0]=te,ee[1]=se,ee[2]=ne,ee[3]=le,ee}toRgbArray(ee){this._arrayRgb||(this._arrayRgb=[]),ee=ee||this._arrayRgb;const[te,se,ne]=this._components;return ee[0]=te,ee[1]=se,ee[2]=ne,ee}toNumber(){return this._int}toBgrNumber(){const[ee,te,se]=this.toUint8RgbArray();return(se<<16)+(te<<8)+ee}toLittleEndianNumber(){const ee=this._int;return(ee>>16)+(ee&65280)+((ee&255)<<16)}multiply(ee){const[te,se,ne,le]=OL._temp.setValue(ee)._components;return this._components[0]*=te,this._components[1]*=se,this._components[2]*=ne,this._components[3]*=le,this._refreshInt(),this._value=null,this}premultiply(ee,te=!0){return te&&(this._components[0]*=ee,this._components[1]*=ee,this._components[2]*=ee),this._components[3]=ee,this._refreshInt(),this._value=null,this}toPremultiplied(ee,te=!0){if(ee===1)return(255<<24)+this._int;if(ee===0)return te?0:this._int;let se=this._int>>16&255,ne=this._int>>8&255,le=this._int&255;return te&&(se=se*ee+.5|0,ne=ne*ee+.5|0,le=le*ee+.5|0),(ee*255<<24)+(se<<16)+(ne<<8)+le}toHex(){const ee=this._int.toString(16);return`#${"000000".substring(0,6-ee.length)+ee}`}toHexa(){const te=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-te.length)+te}setAlpha(ee){return this._components[3]=this._clamp(ee),this}_normalize(ee){let te,se,ne,le;if((typeof ee=="number"||ee instanceof Number)&&ee>=0&&ee<=16777215){const ue=ee;te=(ue>>16&255)/255,se=(ue>>8&255)/255,ne=(ue&255)/255,le=1}else if((Array.isArray(ee)||ee instanceof Float32Array)&&ee.length>=3&&ee.length<=4)ee=this._clamp(ee),[te,se,ne,le=1]=ee;else if((ee instanceof Uint8Array||ee instanceof Uint8ClampedArray)&&ee.length>=3&&ee.length<=4)ee=this._clamp(ee,0,255),[te,se,ne,le=255]=ee,te/=255,se/=255,ne/=255,le/=255;else if(typeof ee=="string"||typeof ee=="object"){if(typeof ee=="string"){const ce=OL.HEX_PATTERN.exec(ee);ce&&(ee=`#${ce[2]}`)}const ue=w(ee);ue.isValid()&&({r:te,g:se,b:ne,a:le}=ue.rgba,te/=255,se/=255,ne/=255)}if(te!==void 0)this._components[0]=te,this._components[1]=se,this._components[2]=ne,this._components[3]=le,this._refreshInt();else throw new Error(`Unable to convert color ${ee}`)}_refreshInt(){this._clamp(this._components);const[ee,te,se]=this._components;this._int=(ee*255<<16)+(te*255<<8)+(se*255|0)}_clamp(ee,te=0,se=1){return typeof ee=="number"?Math.min(Math.max(ee,te),se):(ee.forEach((ne,le)=>{ee[le]=Math.min(Math.max(ne,te),se)}),ee)}static isColorLike(ee){return typeof ee=="number"||typeof ee=="string"||ee instanceof Number||ee instanceof OL||Array.isArray(ee)||ee instanceof Uint8Array||ee instanceof Uint8ClampedArray||ee instanceof Float32Array||ee.r!==void 0&&ee.g!==void 0&&ee.b!==void 0||ee.r!==void 0&&ee.g!==void 0&&ee.b!==void 0&&ee.a!==void 0||ee.h!==void 0&&ee.s!==void 0&&ee.l!==void 0||ee.h!==void 0&&ee.s!==void 0&&ee.l!==void 0&&ee.a!==void 0||ee.h!==void 0&&ee.s!==void 0&&ee.v!==void 0||ee.h!==void 0&&ee.s!==void 0&&ee.v!==void 0&&ee.a!==void 0}};_Color.shared=new _Color,_Color._temp=new _Color,_Color.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Color=_Color;const cullingMixin={cullArea:null,cullable:!1,cullableChildren:!0};function removeItems(ie,ee,te){const se=ie.length;let ne;if(ee>=se||te===0)return;te=ee+te>se?se-ee:te;const le=se-te;for(ne=ee;ne<le;++ne)ie[ne]=ie[ne+te];ie.length=le}const childrenHelperMixin={allowChildren:!0,removeChildren(ie=0,ee){const te=ee??this.children.length,se=te-ie,ne=[];if(se>0&&se<=te){for(let le=te-1;le>=ie;le--){const ue=this.children[le];ue&&(this.renderGroup&&this.renderGroup.removeChild(ue),ne.push(ue),ue.parent=null)}removeItems(this.children,ie,te);for(let le=0;le<ne.length;++le)this.emit("childRemoved",ne[le],this,le),ne[le].emit("removed",this);return ne}else if(se===0&&this.children.length===0)return ne;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(ie){const ee=this.getChildAt(ie);return this.removeChild(ee)},getChildAt(ie){if(ie<0||ie>=this.children.length)throw new Error(`getChildAt: Index (${ie}) does not exist.`);return this.children[ie]},setChildIndex(ie,ee){if(ee<0||ee>=this.children.length)throw new Error(`The index ${ee} supplied is out of bounds ${this.children.length}`);this.getChildIndex(ie),this.addChildAt(ie,ee)},getChildIndex(ie){const ee=this.children.indexOf(ie);if(ee===-1)throw new Error("The supplied Container must be a child of the caller");return ee},addChildAt(ie,ee){this.allowChildren||deprecation(v8_0_0,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:te}=this;if(ee<0||ee>te.length)throw new Error(`${ie}addChildAt: The index ${ee} supplied is out of bounds ${te.length}`);if(ie.parent){const se=ie.parent.children.indexOf(ie);if(ie.parent===this&&se===ee)return ie;se!==-1&&ie.parent.children.splice(se,1)}return ee===te.length?te.push(ie):te.splice(ee,0,ie),ie.parent=this,ie.didChange=!0,ie.didViewUpdate=!1,ie._updateFlags=15,this.renderGroup&&this.renderGroup.addChild(ie),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",ie,this,ee),ie.emit("added",this),ie},swapChildren(ie,ee){if(ie===ee)return;const te=this.getChildIndex(ie),se=this.getChildIndex(ee);this.children[te]=ee,this.children[se]=ie},removeFromParent(){var ie;(ie=this.parent)==null||ie.removeChild(this)}};class FilterEffect{constructor(ee){this.pipe="filter",this.priority=1,this.filters=ee==null?void 0:ee.filters,this.filterArea=ee==null?void 0:ee.filterArea}destroy(){for(let ee=0;ee<this.filters.length;ee++)this.filters[ee].destroy();this.filters=null,this.filterArea=null}}class Pool{constructor(ee,te){this._pool=[],this._count=0,this._index=0,this._classType=ee,te&&this.prepopulate(te)}prepopulate(ee){for(let te=0;te<ee;te++)this._pool[this._index++]=new this._classType;this._count+=ee}get(ee){var se;let te;return this._index>0?te=this._pool[--this._index]:te=new this._classType,(se=te.init)==null||se.call(te,ee),te}return(ee){var te;(te=ee.reset)==null||te.call(ee),this._pool[this._index++]=ee}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}}class PoolGroupClass{constructor(){this._poolsByClass=new Map}prepopulate(ee,te){this.getPool(ee).prepopulate(te)}get(ee,te){return this.getPool(ee).get(te)}return(ee){this.getPool(ee.constructor).return(ee)}getPool(ee){return this._poolsByClass.has(ee)||this._poolsByClass.set(ee,new Pool(ee)),this._poolsByClass.get(ee)}stats(){const ee={};return this._poolsByClass.forEach(te=>{const se=ee[te._classType.name]?te._classType.name+te._classType.ID:te._classType.name;ee[se]={free:te.totalFree,used:te.totalUsed,size:te.totalSize}}),ee}}const BigPool=new PoolGroupClass;class MaskEffectManagerClass{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(ee=>{this.add({test:ee.test,maskClass:ee})}))}add(ee){this._tests.push(ee)}getMaskEffect(ee){this._initialized||this.init();for(let te=0;te<this._tests.length;te++){const se=this._tests[te];if(se.test(ee))return BigPool.get(se.maskClass,ee)}return ee}returnMaskEffect(ee){BigPool.return(ee)}}const MaskEffectManager=new MaskEffectManagerClass;extensions.handleByList(ExtensionType.MaskEffect,MaskEffectManager._effectClasses);const effectsMixin={_mask:null,_filters:null,effects:[],addEffect(ie){this.effects.indexOf(ie)===-1&&(this.effects.push(ie),this.effects.sort((te,se)=>te.priority-se.priority),this.renderGroup&&(this.renderGroup.structureDidChange=!0),this._updateIsSimple())},removeEffect(ie){const ee=this.effects.indexOf(ie);ee!==-1&&(this.effects.splice(ee,1),!this.isRenderGroupRoot&&this.renderGroup&&(this.renderGroup.structureDidChange=!0),this._updateIsSimple())},set mask(ie){if(this._mask||(this._mask={mask:null,effect:null}),this._mask.mask===ie||(this._mask.effect&&(this.removeEffect(this._mask.effect),MaskEffectManager.returnMaskEffect(this._mask.effect),this._mask.effect=null),this._mask.mask=ie,ie==null))return;const ee=MaskEffectManager.getMaskEffect(ie);this._mask.effect=ee,this.addEffect(ee)},get mask(){var ie;return(ie=this._mask)==null?void 0:ie.mask},set filters(ie){!Array.isArray(ie)&&ie&&(ie=[ie]),ie=ie,this._filters||(this._filters={filters:null,effect:null,filterArea:null});const ee=(ie==null?void 0:ie.length)>0,te=this._filters.effect&&!ee||!this._filters.effect&&ee;if(ie=Array.isArray(ie)?ie.slice(0):ie,this._filters.filters=Object.freeze(ie),te)if(ee){const se=BigPool.get(FilterEffect);this._filters.effect=se,this.addEffect(se)}else{const se=this._filters.effect;this.removeEffect(se),se.filterArea=null,se.filters=null,this._filters.effect=null,BigPool.return(se)}ee&&(this._filters.effect.filters=ie,this._filters.effect.filterArea=this.filterArea)},get filters(){var ie;return(ie=this._filters)==null?void 0:ie.filters},set filterArea(ie){this._filters||(this._filters={filters:null,effect:null,filterArea:null}),this._filters.filterArea=ie},get filterArea(){var ie;return(ie=this._filters)==null?void 0:ie.filterArea}},findMixin={label:null,get name(){return deprecation(v8_0_0,"Container.name property has been removed, use Container.label instead"),this.label},set name(ie){deprecation(v8_0_0,"Container.name property has been removed, use Container.label instead"),this.label=ie},getChildByName(ie,ee=!1){return this.getChildByLabel(ie,ee)},getChildByLabel(ie,ee=!1){const te=this.children;for(let se=0;se<te.length;se++){const ne=te[se];if(ne.label===ie||ie instanceof RegExp&&ie.test(ne.label))return ne}if(ee)for(let se=0;se<te.length;se++){const le=te[se].getChildByLabel(ie,!0);if(le)return le}return null},getChildrenByLabel(ie,ee=!1,te=[]){const se=this.children;for(let ne=0;ne<se.length;ne++){const le=se[ne];(le.label===ie||ie instanceof RegExp&&ie.test(le.label))&&te.push(le)}if(ee)for(let ne=0;ne<se.length;ne++)se[ne].getChildrenByLabel(ie,!0,te);return te}},defaultMatrix=new Matrix;class Bounds{constructor(ee=1/0,te=1/0,se=-1/0,ne=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=defaultMatrix,this.minX=ee,this.minY=te,this.maxX=se,this.maxY=ne}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new Rectangle);const ee=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(ee.x=0,ee.y=0,ee.width=0,ee.height=0):ee.copyFromBounds(this),ee}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=defaultMatrix,this}set(ee,te,se,ne){this.minX=ee,this.minY=te,this.maxX=se,this.maxY=ne}addFrame(ee,te,se,ne,le){le||(le=this.matrix);const ue=le.a,ce=le.b,he=le.c,de=le.d,_e=le.tx,fe=le.ty;let ye=this.minX,be=this.minY,Pe=this.maxX,Ne=this.maxY,we=ue*ee+he*te+_e,De=ce*ee+de*te+fe;we<ye&&(ye=we),De<be&&(be=De),we>Pe&&(Pe=we),De>Ne&&(Ne=De),we=ue*se+he*te+_e,De=ce*se+de*te+fe,we<ye&&(ye=we),De<be&&(be=De),we>Pe&&(Pe=we),De>Ne&&(Ne=De),we=ue*ee+he*ne+_e,De=ce*ee+de*ne+fe,we<ye&&(ye=we),De<be&&(be=De),we>Pe&&(Pe=we),De>Ne&&(Ne=De),we=ue*se+he*ne+_e,De=ce*se+de*ne+fe,we<ye&&(ye=we),De<be&&(be=De),we>Pe&&(Pe=we),De>Ne&&(Ne=De),this.minX=ye,this.minY=be,this.maxX=Pe,this.maxY=Ne}addRect(ee,te){this.addFrame(ee.x,ee.y,ee.x+ee.width,ee.y+ee.height,te)}addBounds(ee,te){this.addFrame(ee.minX,ee.minY,ee.maxX,ee.maxY,te)}addBoundsMask(ee){this.minX=this.minX>ee.minX?this.minX:ee.minX,this.minY=this.minY>ee.minY?this.minY:ee.minY,this.maxX=this.maxX<ee.maxX?this.maxX:ee.maxX,this.maxY=this.maxY<ee.maxY?this.maxY:ee.maxY}applyMatrix(ee){const te=this.minX,se=this.minY,ne=this.maxX,le=this.maxY,{a:ue,b:ce,c:he,d:de,tx:_e,ty:fe}=ee;let ye=ue*te+he*se+_e,be=ce*te+de*se+fe;this.minX=ye,this.minY=be,this.maxX=ye,this.maxY=be,ye=ue*ne+he*se+_e,be=ce*ne+de*se+fe,this.minX=ye<this.minX?ye:this.minX,this.minY=be<this.minY?be:this.minY,this.maxX=ye>this.maxX?ye:this.maxX,this.maxY=be>this.maxY?be:this.maxY,ye=ue*te+he*le+_e,be=ce*te+de*le+fe,this.minX=ye<this.minX?ye:this.minX,this.minY=be<this.minY?be:this.minY,this.maxX=ye>this.maxX?ye:this.maxX,this.maxY=be>this.maxY?be:this.maxY,ye=ue*ne+he*le+_e,be=ce*ne+de*le+fe,this.minX=ye<this.minX?ye:this.minX,this.minY=be<this.minY?be:this.minY,this.maxX=ye>this.maxX?ye:this.maxX,this.maxY=be>this.maxY?be:this.maxY}fit(ee){return this.minX<ee.left&&(this.minX=ee.left),this.maxX>ee.right&&(this.maxX=ee.right),this.minY<ee.top&&(this.minY=ee.top),this.maxY>ee.bottom&&(this.maxY=ee.bottom),this}pad(ee,te=ee){return this.minX-=ee,this.maxX+=ee,this.minY-=te,this.maxY+=te,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Bounds(this.minX,this.minY,this.maxX,this.maxY)}scale(ee,te=ee){return this.minX*=ee,this.minY*=te,this.maxX*=ee,this.maxY*=te,this}get x(){return this.minX}set x(ee){const te=this.maxX-this.minX;this.minX=ee,this.maxX=ee+te}get y(){return this.minY}set y(ee){const te=this.maxY-this.minY;this.minY=ee,this.maxY=ee+te}get width(){return this.maxX-this.minX}set width(ee){this.maxX=this.minX+ee}get height(){return this.maxY-this.minY}set height(ee){this.maxY=this.minY+ee}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(ee,te,se,ne){let le=this.minX,ue=this.minY,ce=this.maxX,he=this.maxY;ne||(ne=this.matrix);const de=ne.a,_e=ne.b,fe=ne.c,ye=ne.d,be=ne.tx,Pe=ne.ty;for(let Ne=te;Ne<se;Ne+=2){const we=ee[Ne],De=ee[Ne+1],$e=de*we+fe*De+be,Ge=_e*we+ye*De+Pe;le=$e<le?$e:le,ue=Ge<ue?Ge:ue,ce=$e>ce?$e:ce,he=Ge>he?Ge:he}this.minX=le,this.minY=ue,this.maxX=ce,this.maxY=he}containsPoint(ee,te){return this.minX<=ee&&this.minY<=te&&this.maxX>=ee&&this.maxY>=te}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}}const matrixPool=new Pool(Matrix),boundsPool=new Pool(Bounds);function getGlobalBounds(ie,ee,te){te.clear();let se,ne;return ie.parent?ee?se=ie.parent.worldTransform:(ne=matrixPool.get().identity(),se=updateTransformBackwards(ie,ne)):se=Matrix.IDENTITY,_getGlobalBounds(ie,te,se,ee),ne&&matrixPool.return(ne),te.isValid||te.set(0,0,0,0),te}function _getGlobalBounds(ie,ee,te,se){var ce,he;if(!ie.visible||!ie.measurable)return;let ne;se?ne=ie.worldTransform:(ie.updateLocalTransform(),ne=matrixPool.get(),ne.appendFrom(ie.localTransform,te));const le=ee,ue=!!ie.effects.length;if(ue&&(ee=boundsPool.get().clear()),ie.boundsArea)ee.addRect(ie.boundsArea,ne);else{ie.addBounds&&(ee.matrix=ne,ie.addBounds(ee));for(let de=0;de<ie.children.length;de++)_getGlobalBounds(ie.children[de],ee,ne,se)}if(ue){for(let de=0;de<ie.effects.length;de++)(he=(ce=ie.effects[de]).addBounds)==null||he.call(ce,ee);le.addBounds(ee,Matrix.IDENTITY),boundsPool.return(ee)}se||matrixPool.return(ne)}function updateTransformBackwards(ie,ee){const te=ie.parent;return te&&(updateTransformBackwards(te,ee),te.updateLocalTransform(),ee.append(te.localTransform)),ee}let warnCount=0;const maxWarnings=500;function warn(...ie){warnCount!==maxWarnings&&(warnCount++,warnCount===maxWarnings?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...ie))}function getLocalBounds(ie,ee,te){return ee.clear(),te||(te=Matrix.IDENTITY),_getLocalBounds(ie,ee,te,ie,!0),ee.isValid||ee.set(0,0,0,0),ee}function _getLocalBounds(ie,ee,te,se,ne){var he,de;let le;if(ne)le=matrixPool.get(),le=te.copyTo(le);else{if(!ie.visible||!ie.measurable)return;ie.updateLocalTransform();const _e=ie.localTransform;le=matrixPool.get(),le.appendFrom(_e,te)}const ue=ee,ce=!!ie.effects.length;if(ce&&(ee=boundsPool.get().clear()),ie.boundsArea)ee.addRect(ie.boundsArea,le);else{ie.renderPipeId&&(ee.matrix=le,ie.addBounds(ee));const _e=ie.children;for(let fe=0;fe<_e.length;fe++)_getLocalBounds(_e[fe],ee,le,se,!1)}if(ce){for(let _e=0;_e<ie.effects.length;_e++)(de=(he=ie.effects[_e]).addLocalBounds)==null||de.call(he,ee,se);ue.addBounds(ee,Matrix.IDENTITY),boundsPool.return(ee)}matrixPool.return(le)}function checkChildrenDidChange(ie,ee){const te=ie.children;for(let se=0;se<te.length;se++){const ne=te[se],le=(ne.uid&255)<<24|ne._didChangeId&16777215;ee.data[ee.index]!==le&&(ee.data[ee.index]=le,ee.didChange=!0),ee.index++,ne.children.length&&checkChildrenDidChange(ne,ee)}return ee.didChange}const tempMatrix$3=new Matrix,measureMixin={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(ie,ee){const te=Math.sign(this.scale.x)||1;ee!==0?this.scale.x=ie/ee*te:this.scale.x=te},_setHeight(ie,ee){const te=Math.sign(this.scale.y)||1;ee!==0?this.scale.y=ie/ee*te:this.scale.y=te},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Bounds});const ie=this._localBoundsCacheData;return ie.index=1,ie.didChange=!1,ie.data[0]!==this._didChangeId>>12&&(ie.didChange=!0,ie.data[0]=this._didChangeId>>12),checkChildrenDidChange(this,ie),ie.didChange&&getLocalBounds(this,ie.localBounds,tempMatrix$3),ie.localBounds},getBounds(ie,ee){return getGlobalBounds(this,ie,ee||new Bounds)}},onRenderMixin={_onRender:null,set onRender(ie){const ee=this.renderGroup;if(!ie){this._onRender&&(ee==null||ee.removeOnRender(this)),this._onRender=null;return}this._onRender||ee==null||ee.addOnRender(this),this._onRender=ie},get onRender(){return this._onRender}},sortMixin={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(ie){this._zIndex!==ie&&(this._zIndex=ie,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(sortChildren))}};function sortChildren(ie,ee){return ie._zIndex-ee._zIndex}const toLocalGlobalMixin={getGlobalPosition(ie=new Point,ee=!1){return this.parent?this.parent.toGlobal(this._position,ie,ee):(ie.x=this._position.x,ie.y=this._position.y),ie},toGlobal(ie,ee,te=!1){if(!te){this.updateLocalTransform();const se=updateTransformBackwards(this,new Matrix);return se.append(this.localTransform),se.apply(ie,ee)}return this.worldTransform.apply(ie,ee)},toLocal(ie,ee,te,se){if(ee&&(ie=ee.toGlobal(ie,te,se)),!se){this.updateLocalTransform();const ne=updateTransformBackwards(this,new Matrix);return ne.append(this.localTransform),ne.applyInverse(ie,te)}return this.worldTransform.applyInverse(ie,te)}};class InstructionSet{constructor(){this.uid=uid("instructionSet"),this.instructions=[],this.instructionSize=0}reset(){this.instructionSize=0}add(ee){this.instructions[this.instructionSize++]=ee}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}class RenderGroup{constructor(ee){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this._children=[],this.worldTransform=new Matrix,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new InstructionSet,this._onRenderContainers=[],this.root=ee,this.addChild(ee)}get localTransform(){return this.root.localTransform}addRenderGroupChild(ee){ee.renderGroupParent&&ee.renderGroupParent._removeRenderGroupChild(ee),ee.renderGroupParent=this,this.onChildUpdate(ee.root),this.renderGroupChildren.push(ee)}_removeRenderGroupChild(ee){ee.root.didChange&&this._removeChildFromUpdate(ee.root);const te=this.renderGroupChildren.indexOf(ee);te>-1&&this.renderGroupChildren.splice(te,1),ee.renderGroupParent=null}addChild(ee){if(this.structureDidChange=!0,ee!==this.root&&(this._children.push(ee),ee.updateTick=-1,ee.parent===this.root?ee.relativeRenderGroupDepth=1:ee.relativeRenderGroupDepth=ee.parent.relativeRenderGroupDepth+1,ee._onRender&&this.addOnRender(ee)),ee.renderGroup){if(ee.renderGroup.root===ee){this.addRenderGroupChild(ee.renderGroup);return}}else ee.renderGroup=this,ee.didChange=!0;const te=ee.children;ee.isRenderGroupRoot||this.onChildUpdate(ee);for(let se=0;se<te.length;se++)this.addChild(te[se])}removeChild(ee){if(this.structureDidChange=!0,ee._onRender&&this.removeOnRender(ee),ee.renderGroup.root!==ee){const se=ee.children;for(let ne=0;ne<se.length;ne++)this.removeChild(se[ne]);ee.didChange&&ee.renderGroup._removeChildFromUpdate(ee),ee.renderGroup=null}else this._removeRenderGroupChild(ee.renderGroup);const te=this._children.indexOf(ee);te>-1&&this._children.splice(te,1)}onChildUpdate(ee){let te=this.childrenToUpdate[ee.relativeRenderGroupDepth];te||(te=this.childrenToUpdate[ee.relativeRenderGroupDepth]={index:0,list:[]}),te.list[te.index++]=ee}updateRenderable(ee){ee.globalDisplayStatus<7||(ee.didViewUpdate=!1,this.instructionSet.renderPipes[ee.renderPipeId].updateRenderable(ee))}onChildViewUpdate(ee){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=ee}_removeChildFromUpdate(ee){const te=this.childrenToUpdate[ee.relativeRenderGroupDepth];if(!te)return;const se=te.list.indexOf(ee);se>-1&&te.list.splice(se,1),te.index--}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(ee){this._onRenderContainers.push(ee)}removeOnRender(ee){this._onRenderContainers.splice(this._onRenderContainers.indexOf(ee),1)}runOnRender(){for(let ee=0;ee<this._onRenderContainers.length;ee++)this._onRenderContainers[ee]._onRender()}}function assignWithIgnore(ie,ee,te={}){for(const se in ee)!te[se]&&ee[se]!==void 0&&(ie[se]=ee[se])}const defaultSkew=new ObservablePoint(null),defaultPivot=new ObservablePoint(null),defaultScale=new ObservablePoint(null,1,1),UPDATE_COLOR=1,UPDATE_BLEND=2,UPDATE_VISIBLE=4;class Container extends EventEmitter{constructor(ee={}){var te,se;super(),this.uid=uid("renderable"),this._updateFlags=15,this.isRenderGroupRoot=!1,this.renderGroup=null,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Matrix,this.relativeGroupTransform=new Matrix,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new ObservablePoint(this,0,0),this._scale=defaultScale,this._pivot=defaultPivot,this._skew=defaultSkew,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didChangeId=0,this._didLocalTransformChangeId=-1,assignWithIgnore(this,ee,{children:!0,parent:!0,effects:!0}),(te=ee.children)==null||te.forEach(ne=>this.addChild(ne)),this.effects=[],(se=ee.parent)==null||se.addChild(this)}static mixin(ee){Object.defineProperties(Container.prototype,Object.getOwnPropertyDescriptors(ee))}addChild(...ee){if(this.allowChildren||deprecation(v8_0_0,"addChild: Only Containers will be allowed to add children in v8.0.0"),ee.length>1){for(let se=0;se<ee.length;se++)this.addChild(ee[se]);return ee[0]}const te=ee[0];return te.parent===this?(this.children.splice(this.children.indexOf(te),1),this.children.push(te),this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),te):(te.parent&&te.parent.removeChild(te),this.children.push(te),this.sortableChildren&&(this.sortDirty=!0),te.parent=this,te.didChange=!0,te.didViewUpdate=!1,te._updateFlags=15,this.renderGroup&&this.renderGroup.addChild(te),this.emit("childAdded",te,this,this.children.length-1),te.emit("added",this),te._zIndex!==0&&te.depthOfChildModified(),te)}removeChild(...ee){if(ee.length>1){for(let ne=0;ne<ee.length;ne++)this.removeChild(ee[ne]);return ee[0]}const te=ee[0],se=this.children.indexOf(te);return se>-1&&(this.children.splice(se,1),this.renderGroup&&this.renderGroup.removeChild(te),te.parent=null,this.emit("childRemoved",te,this,se),te.emit("removed",this)),te}_onUpdate(ee){if(ee&&ee===this._skew&&this._updateSkew(),this._didChangeId++,!this.didChange)if(this.didChange=!0,this.isRenderGroupRoot){const te=this.renderGroup.renderGroupParent;te&&te.onChildUpdate(this)}else this.renderGroup&&this.renderGroup.onChildUpdate(this)}set isRenderGroup(ee){if(this.isRenderGroupRoot&&ee===!1)throw new Error("[Pixi] cannot undo a render group just yet");ee&&this.enableRenderGroup()}get isRenderGroup(){return this.isRenderGroupRoot}enableRenderGroup(){if(this.renderGroup&&this.renderGroup.root===this)return;this.isRenderGroupRoot=!0;const ee=this.renderGroup;if(ee&&ee.removeChild(this),this.renderGroup=new RenderGroup(this),ee){for(let te=0;te<ee.renderGroupChildren.length;te++){const se=ee.renderGroupChildren[te];let ne=se.root;for(;ne;){if(ne===this){this.renderGroup.addRenderGroupChild(se);break}ne=ne.parent}}ee.addRenderGroupChild(this.renderGroup)}this._updateIsSimple(),this.groupTransform=Matrix.IDENTITY}_updateIsSimple(){this.isSimple=!this.isRenderGroupRoot&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Matrix),this.renderGroup&&(this.isRenderGroupRoot?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this._worldTransform.appendFrom(this.relativeGroupTransform,this.renderGroup.worldTransform)),this._worldTransform}get x(){return this._position.x}set x(ee){this._position.x=ee}get y(){return this._position.y}set y(ee){this._position.y=ee}get position(){return this._position}set position(ee){this._position.copyFrom(ee)}get rotation(){return this._rotation}set rotation(ee){this._rotation!==ee&&(this._rotation=ee,this._onUpdate(this._skew))}get angle(){return this.rotation*RAD_TO_DEG}set angle(ee){this.rotation=ee*DEG_TO_RAD}get pivot(){return this._pivot===defaultPivot&&(this._pivot=new ObservablePoint(this,0,0)),this._pivot}set pivot(ee){this._pivot===defaultPivot&&(this._pivot=new ObservablePoint(this,0,0)),typeof ee=="number"?this._pivot.set(ee):this._pivot.copyFrom(ee)}get skew(){return this._skew===defaultSkew&&(this._skew=new ObservablePoint(this,0,0)),this._skew}set skew(ee){this._skew===defaultSkew&&(this._skew=new ObservablePoint(this,0,0)),this._skew.copyFrom(ee)}get scale(){return this._scale===defaultScale&&(this._scale=new ObservablePoint(this,1,1)),this._scale}set scale(ee){this._scale===defaultScale&&(this._scale=new ObservablePoint(this,0,0)),typeof ee=="number"?this._scale.set(ee):this._scale.copyFrom(ee)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(ee){const te=this.getLocalBounds().width;this._setWidth(ee,te)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(ee){const te=this.getLocalBounds().height;this._setHeight(ee,te)}getSize(ee){ee||(ee={});const te=this.getLocalBounds();return ee.width=Math.abs(this.scale.x*te.width),ee.height=Math.abs(this.scale.y*te.height),ee}setSize(ee,te){const se=this.getLocalBounds();let ne,le;typeof ee!="object"?(ne=ee,le=te??ee):(ne=ee.width,le=ee.height??ee.width),ne!==void 0&&this._setWidth(ne,se.width),le!==void 0&&this._setHeight(le,se.height)}_updateSkew(){const ee=this._rotation,te=this._skew;this._cx=Math.cos(ee+te._y),this._sx=Math.sin(ee+te._y),this._cy=-Math.sin(ee-te._x),this._sy=Math.cos(ee-te._x)}updateTransform(ee){return this.position.set(typeof ee.x=="number"?ee.x:this.position.x,typeof ee.y=="number"?ee.y:this.position.y),this.scale.set(typeof ee.scaleX=="number"?ee.scaleX||1:this.scale.x,typeof ee.scaleY=="number"?ee.scaleY||1:this.scale.y),this.rotation=typeof ee.rotation=="number"?ee.rotation:this.rotation,this.skew.set(typeof ee.skewX=="number"?ee.skewX:this.skew.x,typeof ee.skewY=="number"?ee.skewY:this.skew.y),this.pivot.set(typeof ee.pivotX=="number"?ee.pivotX:this.pivot.x,typeof ee.pivotY=="number"?ee.pivotY:this.pivot.y),this}setFromMatrix(ee){ee.decompose(this)}updateLocalTransform(){if((this._didLocalTransformChangeId&15)===this._didChangeId)return;this._didLocalTransformChangeId=this._didChangeId;const ee=this.localTransform,te=this._scale,se=this._pivot,ne=this._position,le=te._x,ue=te._y,ce=se._x,he=se._y;ee.a=this._cx*le,ee.b=this._sx*le,ee.c=this._cy*ue,ee.d=this._sy*ue,ee.tx=ne._x-(ce*ee.a+he*ee.c),ee.ty=ne._y-(ce*ee.b+he*ee.d)}set alpha(ee){ee!==this.localAlpha&&(this.localAlpha=ee,this._updateFlags|=UPDATE_COLOR,this._onUpdate())}get alpha(){return this.localAlpha}set tint(ee){const se=Color.shared.setValue(ee??16777215).toBgrNumber();se!==this.localColor&&(this.localColor=se,this._updateFlags|=UPDATE_COLOR,this._onUpdate())}get tint(){const ee=this.localColor;return((ee&255)<<16)+(ee&65280)+(ee>>16&255)}set blendMode(ee){this.localBlendMode!==ee&&(this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_BLEND,this.localBlendMode=ee,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(ee){const te=ee?1:0;(this.localDisplayStatus&2)>>1!==te&&(this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(ee){const te=ee?1:0;(this.localDisplayStatus&4)>>2!==te&&(this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(ee){const te=ee?1:0;(this.localDisplayStatus&1)!==te&&(this._updateFlags|=UPDATE_VISIBLE,this.localDisplayStatus^=1,this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(ee=!1){if(this.destroyed)return;this.destroyed=!0,this.removeFromParent(),this.parent=null,this._mask=null,this._filters=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners();const te=typeof ee=="boolean"?ee:ee==null?void 0:ee.children,se=this.removeChildren(0,this.children.length);if(te)for(let ne=0;ne<se.length;++ne)se[ne].destroy(ee)}}Container.mixin(childrenHelperMixin),Container.mixin(toLocalGlobalMixin),Container.mixin(onRenderMixin),Container.mixin(measureMixin),Container.mixin(effectsMixin),Container.mixin(findMixin),Container.mixin(sortMixin),Container.mixin(cullingMixin);class Sprite extends Container{constructor(ee=Texture.EMPTY){ee instanceof Texture&&(ee={texture:ee});const{texture:te,anchor:se,roundPixels:ne,width:le,height:ue,...ce}=ee;super({label:"Sprite",...ce}),this.renderPipeId="sprite",this.batched=!0,this._didSpriteUpdate=!1,this._bounds={minX:0,maxX:1,minY:0,maxY:0},this._sourceBounds={minX:0,maxX:1,minY:0,maxY:0},this._boundsDirty=!0,this._sourceBoundsDirty=!0,this._roundPixels=0,this._anchor=new ObservablePoint({_onUpdate:()=>{this.onViewUpdate()}}),se&&(this.anchor=se),this.texture=te,this.allowChildren=!1,this.roundPixels=ne??!1,le&&(this.width=le),ue&&(this.height=ue)}static from(ee,te=!1){return ee instanceof Texture?new Sprite(ee):new Sprite(Texture.from(ee,te))}set texture(ee){ee||(ee=Texture.EMPTY),this._texture!==ee&&(this._texture=ee,this.onViewUpdate())}get texture(){return this._texture}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get sourceBounds(){return this._sourceBoundsDirty&&(this._updateSourceBounds(),this._sourceBoundsDirty=!1),this._sourceBounds}containsPoint(ee){const te=this.sourceBounds;return ee.x>=te.maxX&&ee.x<=te.minX&&ee.y>=te.maxY&&ee.y<=te.minY}addBounds(ee){const te=this._texture.trim?this.sourceBounds:this.bounds;ee.addFrame(te.minX,te.minY,te.maxX,te.maxY)}onViewUpdate(){this._didChangeId+=4096,this._didSpriteUpdate=!0,this._sourceBoundsDirty=this._boundsDirty=!0,!this.didViewUpdate&&(this.didViewUpdate=!0,this.renderGroup&&this.renderGroup.onChildViewUpdate(this))}_updateBounds(){updateQuadBounds(this._bounds,this._anchor,this._texture,0)}_updateSourceBounds(){const ee=this._anchor,te=this._texture,se=this._sourceBounds,{width:ne,height:le}=te.orig;se.maxX=-ee._x*ne,se.minX=se.maxX+ne,se.maxY=-ee._y*le,se.minY=se.maxY+le}destroy(ee=!1){if(super.destroy(ee),typeof ee=="boolean"?ee:ee==null?void 0:ee.texture){const se=typeof ee=="boolean"?ee:ee==null?void 0:ee.textureSource;this._texture.destroy(se)}this._texture=null,this._bounds=null,this._sourceBounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(ee){typeof ee=="number"?this._anchor.set(ee):this._anchor.copyFrom(ee)}get roundPixels(){return!!this._roundPixels}set roundPixels(ee){this._roundPixels=ee?1:0}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(ee){this._setWidth(ee,this._texture.orig.width)}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(ee){this._setHeight(ee,this._texture.orig.height)}getSize(ee){return ee||(ee={}),ee.width=Math.abs(this.scale.x)*this._texture.orig.width,ee.height=Math.abs(this.scale.y)*this._texture.orig.height,ee}setSize(ee,te){let se,ne;typeof ee!="object"?(se=ee,ne=te??ee):(se=ee.width,ne=ee.height??ee.width),se!==void 0&&this._setWidth(se,this._texture.orig.width),ne!==void 0&&this._setHeight(ne,this._texture.orig.height)}}const tempBounds$3=new Bounds;function addMaskBounds(ie,ee,te){const se=tempBounds$3;ie.measurable=!0,getGlobalBounds(ie,te,se),ee.addBoundsMask(se),ie.measurable=!1}function addMaskLocalBounds(ie,ee,te){const se=boundsPool.get();ie.measurable=!0;const ne=matrixPool.get().identity(),le=getMatrixRelativeToParent(ie,te,ne);getLocalBounds(ie,se,le),ie.measurable=!1,ee.addBoundsMask(se),matrixPool.return(ne),boundsPool.return(se)}function getMatrixRelativeToParent(ie,ee,te){return ie?(ie!==ee&&(getMatrixRelativeToParent(ie.parent,ee,te),ie.updateLocalTransform(),te.append(ie.localTransform)),te):(warn("Mask bounds, renderable is not inside the root container"),te)}class AlphaMask{constructor(ee){this.priority=0,this.pipe="alphaMask",ee!=null&&ee.mask&&this.init(ee.mask)}init(ee){this.mask=ee,this.renderMaskToTexture=!(ee instanceof Sprite),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(ee,te){addMaskBounds(this.mask,ee,te)}addLocalBounds(ee,te){addMaskLocalBounds(this.mask,ee,te)}containsPoint(ee,te){const se=this.mask;return te(se,ee)}destroy(){this.reset()}static test(ee){return ee instanceof Sprite}}AlphaMask.extension=ExtensionType.MaskEffect;class ColorMask{constructor(ee){this.priority=0,this.pipe="colorMask",ee!=null&&ee.mask&&this.init(ee.mask)}init(ee){this.mask=ee}destroy(){}static test(ee){return typeof ee=="number"}}ColorMask.extension=ExtensionType.MaskEffect;class StencilMask{constructor(ee){this.priority=0,this.pipe="stencilMask",ee!=null&&ee.mask&&this.init(ee.mask)}init(ee){this.mask=ee,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(ee,te){addMaskBounds(this.mask,ee,te)}addLocalBounds(ee,te){addMaskLocalBounds(this.mask,ee,te)}containsPoint(ee,te){const se=this.mask;return te(se,ee)}destroy(){this.reset()}static test(ee){return ee instanceof Container}}StencilMask.extension=ExtensionType.MaskEffect;const BrowserAdapter={createCanvas:(ie,ee)=>{const te=document.createElement("canvas");return te.width=ie,te.height=ee,te},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getWebGL2RenderingContext:()=>WebGL2RenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(ie,ee)=>fetch(ie,ee),parseXML:ie=>new DOMParser().parseFromString(ie,"text/xml")};let currentAdapter=BrowserAdapter;const DOMAdapter={get(){return currentAdapter},set(ie){currentAdapter=ie}};class CanvasSource extends TextureSource{constructor(ee){ee.resource||(ee.resource=DOMAdapter.get().createCanvas()),ee.width||(ee.width=ee.resource.width,ee.autoDensity||(ee.width/=ee.resolution)),ee.height||(ee.height=ee.resource.height,ee.autoDensity||(ee.height/=ee.resolution)),super(ee),this.uploadMethodId="image",this.autoDensity=ee.autoDensity;const te=ee.resource;(this.pixelWidth!==te.width||this.pixelWidth!==te.height)&&this.resizeCanvas(),this.transparent=!!ee.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(ee=this.width,te=this.height,se=this._resolution){const ne=super.resize(ee,te,se);return ne&&this.resizeCanvas(),ne}static test(ee){return globalThis.HTMLCanvasElement&&ee instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&ee instanceof OffscreenCanvas}}CanvasSource.extension=ExtensionType.TextureSource;class ImageSource extends TextureSource{constructor(ee){if(ee.resource&&globalThis.HTMLImageElement&&ee.resource instanceof HTMLImageElement){const te=DOMAdapter.get().createCanvas(ee.resource.width,ee.resource.height);te.getContext("2d").drawImage(ee.resource,0,0),ee.resource=te,warn("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(ee),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(ee){return globalThis.HTMLImageElement&&ee instanceof HTMLImageElement||typeof ImageBitmap<"u"&&ee instanceof ImageBitmap}}ImageSource.extension=ExtensionType.TextureSource;var UPDATE_PRIORITY=(ie=>(ie[ie.INTERACTION=50]="INTERACTION",ie[ie.HIGH=25]="HIGH",ie[ie.NORMAL=0]="NORMAL",ie[ie.LOW=-25]="LOW",ie[ie.UTILITY=-50]="UTILITY",ie))(UPDATE_PRIORITY||{});class TickerListener{constructor(ee,te=null,se=0,ne=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=ee,this._context=te,this.priority=se,this._once=ne}match(ee,te=null){return this._fn===ee&&this._context===te}emit(ee){this._fn&&(this._context?this._fn.call(this._context,ee):this._fn(ee));const te=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),te}connect(ee){this.previous=ee,ee.next&&(ee.next.previous=this),this.next=ee.next,ee.next=this}destroy(ee=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const te=this.next;return this.next=ee?null:te,this.previous=null,te}}const _Ticker=class ZI{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/ZI.targetFPMS,this.elapsedMS=1/ZI.targetFPMS,this._tick=ee=>{this._requestId=null,this.started&&(this.update(ee),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(ee,te,se=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(ee,te,se))}addOnce(ee,te,se=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(ee,te,se,!0))}_addListener(ee){let te=this._head.next,se=this._head;if(!te)ee.connect(se);else{for(;te;){if(ee.priority>te.priority){ee.connect(se);break}se=te,te=te.next}ee.previous||ee.connect(se)}return this._startIfPossible(),this}remove(ee,te){let se=this._head.next;for(;se;)se.match(ee,te)?se=se.destroy():se=se.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let ee=0,te=this._head;for(;te=te.next;)ee++;return ee}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let ee=this._head.next;for(;ee;)ee=ee.destroy(!0);this._head.destroy(),this._head=null}}update(ee=performance.now()){let te;if(ee>this.lastTime){if(te=this.elapsedMS=ee-this.lastTime,te>this._maxElapsedMS&&(te=this._maxElapsedMS),te*=this.speed,this._minElapsedMS){const le=ee-this._lastFrame|0;if(le<this._minElapsedMS)return;this._lastFrame=ee-le%this._minElapsedMS}this.deltaMS=te,this.deltaTime=this.deltaMS*ZI.targetFPMS;const se=this._head;let ne=se.next;for(;ne;)ne=ne.emit(this);se.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=ee}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(ee){const te=Math.min(this.maxFPS,ee),se=Math.min(Math.max(0,te)/1e3,ZI.targetFPMS);this._maxElapsedMS=1/se}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(ee){if(ee===0)this._minElapsedMS=0;else{const te=Math.max(this.minFPS,ee);this._minElapsedMS=1/(te/1e3)}}static get shared(){if(!ZI._shared){const ee=ZI._shared=new ZI;ee.autoStart=!0,ee._protected=!0}return ZI._shared}static get system(){if(!ZI._system){const ee=ZI._system=new ZI;ee.autoStart=!0,ee._protected=!0}return ZI._system}};_Ticker.targetFPMS=.06;let Ticker=_Ticker,promise;async function detectVideoAlphaMode(){return promise??(promise=(async()=>{var ue;const ee=document.createElement("canvas").getContext("webgl");if(!ee)return"premultiply-alpha-on-upload";const te=await new Promise(ce=>{const he=document.createElement("video");he.onloadeddata=()=>ce(he),he.onerror=()=>ce(null),he.autoplay=!1,he.crossOrigin="anonymous",he.preload="auto",he.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",he.load()});if(!te)return"premultiply-alpha-on-upload";const se=ee.createTexture();ee.bindTexture(ee.TEXTURE_2D,se);const ne=ee.createFramebuffer();ee.bindFramebuffer(ee.FRAMEBUFFER,ne),ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,se,0),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),ee.pixelStorei(ee.UNPACK_COLORSPACE_CONVERSION_WEBGL,ee.NONE),ee.texImage2D(ee.TEXTURE_2D,0,ee.RGBA,ee.RGBA,ee.UNSIGNED_BYTE,te);const le=new Uint8Array(4);return ee.readPixels(0,0,1,1,ee.RGBA,ee.UNSIGNED_BYTE,le),ee.deleteFramebuffer(ne),ee.deleteTexture(se),(ue=ee.getExtension("WEBGL_lose_context"))==null||ue.loseContext(),le[0]<=le[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),promise}const _VideoSource=class Ik extends TextureSource{constructor(ee){super(ee),this.isReady=!1,this.uploadMethodId="video",ee={...Ik.defaultOptions,...ee},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=ee.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=ee.autoPlay!==!1,this.alphaMode=ee.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),ee.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const ee=Ticker.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-ee)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const ee=this.resource,te=this.options;return(ee.readyState===ee.HAVE_ENOUGH_DATA||ee.readyState===ee.HAVE_FUTURE_DATA)&&ee.width&&ee.height&&(ee.complete=!0),ee.addEventListener("play",this._onPlayStart),ee.addEventListener("pause",this._onPlayStop),ee.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(te.preload||ee.addEventListener("canplay",this._onCanPlay),ee.addEventListener("canplaythrough",this._onCanPlayThrough),ee.addEventListener("error",this._onError,!0)),this.alphaMode=await detectVideoAlphaMode(),this._load=new Promise((se,ne)=>{this.isValid?se(this):(this._resolve=se,this._reject=ne,te.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${te.preloadTimeoutMs}ms`))})),ee.load())}),this._load}_onError(ee){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",ee),this._reject&&(this._reject(ee),this._reject=null,this._resolve=null)}_isSourcePlaying(){const ee=this.resource;return!ee.paused&&!ee.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const ee=this.resource;this.isValid&&(this.isReady=!0,this.resize(ee.videoWidth,ee.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const ee=this.resource;ee&&(ee.removeEventListener("play",this._onPlayStart),ee.removeEventListener("pause",this._onPlayStop),ee.removeEventListener("seeked",this._onSeeked),ee.removeEventListener("canplay",this._onCanPlay),ee.removeEventListener("canplaythrough",this._onCanPlayThrough),ee.removeEventListener("error",this._onError,!0),ee.pause(),ee.src="",ee.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(ee){ee!==this._autoUpdate&&(this._autoUpdate=ee,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(ee){ee!==this._updateFPS&&(this._updateFPS=ee,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ticker.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ticker.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(ee){return globalThis.HTMLVideoElement&&ee instanceof HTMLVideoElement||globalThis.VideoFrame&&ee instanceof VideoFrame}};_VideoSource.extension=ExtensionType.TextureSource,_VideoSource.defaultOptions={...TextureSource.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1},_VideoSource.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let VideoSource=_VideoSource;const convertToList=(ie,ee,te=!1)=>(Array.isArray(ie)||(ie=[ie]),ee?ie.map(se=>typeof se=="string"||te?ee(se):se):ie);class CacheClass{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(ee){return this._cache.has(ee)}get(ee){const te=this._cache.get(ee);return te||warn(`[Assets] Asset id ${ee} was not found in the Cache`),te}set(ee,te){const se=convertToList(ee);let ne;for(let he=0;he<this.parsers.length;he++){const de=this.parsers[he];if(de.test(te)){ne=de.getCacheableAssets(se,te);break}}const le=new Map(Object.entries(ne||{}));ne||se.forEach(he=>{le.set(he,te)});const ue=[...le.keys()],ce={cacheKeys:ue,keys:se};se.forEach(he=>{this._cacheMap.set(he,ce)}),ue.forEach(he=>{const de=ne?ne[he]:te;this._cache.has(he)&&this._cache.get(he)!==de&&warn("[Cache] already has key:",he),this._cache.set(he,le.get(he))})}remove(ee){if(!this._cacheMap.has(ee)){warn(`[Assets] Asset id ${ee} was not found in the Cache`);return}const te=this._cacheMap.get(ee);te.cacheKeys.forEach(ne=>{this._cache.delete(ne)}),te.keys.forEach(ne=>{this._cacheMap.delete(ne)})}get parsers(){return this._parsers}}const Cache=new CacheClass,sources=[];extensions.handleByList(ExtensionType.TextureSource,sources);function autoDetectSource(ie={}){const ee=ie&&ie.resource,te=ee?ie.resource:ie,se=ee?ie:{resource:ie};for(let ne=0;ne<sources.length;ne++){const le=sources[ne];if(le.test(te))return new le(se)}throw new Error(`Could not find a source type for resource: ${se.resource}`)}function resourceToTexture(ie={},ee=!1){const te=ie&&ie.resource,se=te?ie.resource:ie,ne=te?ie:{resource:ie};if(!ee&&Cache.has(se))return Cache.get(se);const le=new Texture({source:autoDetectSource(ne)});return le.on("destroy",()=>{Cache.has(se)&&Cache.remove(se)}),ee||Cache.set(se,le),le}function textureFrom(ie,ee=!1){return typeof ie=="string"?Cache.get(ie):ie instanceof TextureSource?new Texture({source:ie}):resourceToTexture(ie,ee)}Texture.from=textureFrom,extensions.add(AlphaMask,ColorMask,StencilMask,VideoSource,ImageSource,CanvasSource,BufferImageSource);var LoaderParserPriority=(ie=>(ie[ie.Low=0]="Low",ie[ie.Normal=1]="Normal",ie[ie.High=2]="High",ie))(LoaderParserPriority||{});function assertPath(ie){if(typeof ie!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(ie)}`)}function removeUrlParams(ie){return ie.split("?")[0].split("#")[0]}function escapeRegExp(ie){return ie.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function replaceAll(ie,ee,te){return ie.replace(new RegExp(escapeRegExp(ee),"g"),te)}function normalizeStringPosix(ie,ee){let te="",se=0,ne=-1,le=0,ue=-1;for(let ce=0;ce<=ie.length;++ce){if(ce<ie.length)ue=ie.charCodeAt(ce);else{if(ue===47)break;ue=47}if(ue===47){if(!(ne===ce-1||le===1))if(ne!==ce-1&&le===2){if(te.length<2||se!==2||te.charCodeAt(te.length-1)!==46||te.charCodeAt(te.length-2)!==46){if(te.length>2){const he=te.lastIndexOf("/");if(he!==te.length-1){he===-1?(te="",se=0):(te=te.slice(0,he),se=te.length-1-te.lastIndexOf("/")),ne=ce,le=0;continue}}else if(te.length===2||te.length===1){te="",se=0,ne=ce,le=0;continue}}}else te.length>0?te+=`/${ie.slice(ne+1,ce)}`:te=ie.slice(ne+1,ce),se=ce-ne-1;ne=ce,le=0}else ue===46&&le!==-1?++le:le=-1}return te}const path={toPosix(ie){return replaceAll(ie,"\\","/")},isUrl(ie){return/^https?:/.test(this.toPosix(ie))},isDataUrl(ie){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(ie)},isBlobUrl(ie){return ie.startsWith("blob:")},hasProtocol(ie){return/^[^/:]+:/.test(this.toPosix(ie))},getProtocol(ie){assertPath(ie),ie=this.toPosix(ie);const ee=/^file:\/\/\//.exec(ie);if(ee)return ee[0];const te=/^[^/:]+:\/{0,2}/.exec(ie);return te?te[0]:""},toAbsolute(ie,ee,te){if(assertPath(ie),this.isDataUrl(ie)||this.isBlobUrl(ie))return ie;const se=removeUrlParams(this.toPosix(ee??DOMAdapter.get().getBaseUrl())),ne=removeUrlParams(this.toPosix(te??this.rootname(se)));return ie=this.toPosix(ie),ie.startsWith("/")?path.join(ne,ie.slice(1)):this.isAbsolute(ie)?ie:this.join(se,ie)},normalize(ie){if(assertPath(ie),ie.length===0)return".";if(this.isDataUrl(ie)||this.isBlobUrl(ie))return ie;ie=this.toPosix(ie);let ee="";const te=ie.startsWith("/");this.hasProtocol(ie)&&(ee=this.rootname(ie),ie=ie.slice(ee.length));const se=ie.endsWith("/");return ie=normalizeStringPosix(ie),ie.length>0&&se&&(ie+="/"),te?`/${ie}`:ee+ie},isAbsolute(ie){return assertPath(ie),ie=this.toPosix(ie),this.hasProtocol(ie)?!0:ie.startsWith("/")},join(...ie){if(ie.length===0)return".";let ee;for(let te=0;te<ie.length;++te){const se=ie[te];if(assertPath(se),se.length>0)if(ee===void 0)ee=se;else{const ne=ie[te-1]??"";this.joinExtensions.includes(this.extname(ne).toLowerCase())?ee+=`/../${se}`:ee+=`/${se}`}}return ee===void 0?".":this.normalize(ee)},dirname(ie){if(assertPath(ie),ie.length===0)return".";ie=this.toPosix(ie);let ee=ie.charCodeAt(0);const te=ee===47;let se=-1,ne=!0;const le=this.getProtocol(ie),ue=ie;ie=ie.slice(le.length);for(let ce=ie.length-1;ce>=1;--ce)if(ee=ie.charCodeAt(ce),ee===47){if(!ne){se=ce;break}}else ne=!1;return se===-1?te?"/":this.isUrl(ue)?le+ie:le:te&&se===1?"//":le+ie.slice(0,se)},rootname(ie){assertPath(ie),ie=this.toPosix(ie);let ee="";if(ie.startsWith("/")?ee="/":ee=this.getProtocol(ie),this.isUrl(ie)){const te=ie.indexOf("/",ee.length);te!==-1?ee=ie.slice(0,te):ee=ie,ee.endsWith("/")||(ee+="/")}return ee},basename(ie,ee){assertPath(ie),ee&&assertPath(ee),ie=removeUrlParams(this.toPosix(ie));let te=0,se=-1,ne=!0,le;if(ee!==void 0&&ee.length>0&&ee.length<=ie.length){if(ee.length===ie.length&&ee===ie)return"";let ue=ee.length-1,ce=-1;for(le=ie.length-1;le>=0;--le){const he=ie.charCodeAt(le);if(he===47){if(!ne){te=le+1;break}}else ce===-1&&(ne=!1,ce=le+1),ue>=0&&(he===ee.charCodeAt(ue)?--ue===-1&&(se=le):(ue=-1,se=ce))}return te===se?se=ce:se===-1&&(se=ie.length),ie.slice(te,se)}for(le=ie.length-1;le>=0;--le)if(ie.charCodeAt(le)===47){if(!ne){te=le+1;break}}else se===-1&&(ne=!1,se=le+1);return se===-1?"":ie.slice(te,se)},extname(ie){assertPath(ie),ie=removeUrlParams(this.toPosix(ie));let ee=-1,te=0,se=-1,ne=!0,le=0;for(let ue=ie.length-1;ue>=0;--ue){const ce=ie.charCodeAt(ue);if(ce===47){if(!ne){te=ue+1;break}continue}se===-1&&(ne=!1,se=ue+1),ce===46?ee===-1?ee=ue:le!==1&&(le=1):ee!==-1&&(le=-1)}return ee===-1||se===-1||le===0||le===1&&ee===se-1&&ee===te+1?"":ie.slice(ee,se)},parse(ie){assertPath(ie);const ee={root:"",dir:"",base:"",ext:"",name:""};if(ie.length===0)return ee;ie=removeUrlParams(this.toPosix(ie));let te=ie.charCodeAt(0);const se=this.isAbsolute(ie);let ne;ee.root=this.rootname(ie),se||this.hasProtocol(ie)?ne=1:ne=0;let le=-1,ue=0,ce=-1,he=!0,de=ie.length-1,_e=0;for(;de>=ne;--de){if(te=ie.charCodeAt(de),te===47){if(!he){ue=de+1;break}continue}ce===-1&&(he=!1,ce=de+1),te===46?le===-1?le=de:_e!==1&&(_e=1):le!==-1&&(_e=-1)}return le===-1||ce===-1||_e===0||_e===1&&le===ce-1&&le===ue+1?ce!==-1&&(ue===0&&se?ee.base=ee.name=ie.slice(1,ce):ee.base=ee.name=ie.slice(ue,ce)):(ue===0&&se?(ee.name=ie.slice(1,le),ee.base=ie.slice(1,ce)):(ee.name=ie.slice(ue,le),ee.base=ie.slice(ue,ce)),ee.ext=ie.slice(le,ce)),ee.dir=this.dirname(ie),ee},sep:"/",delimiter:":",joinExtensions:[".html"]};function processX(ie,ee,te,se,ne){const le=ee[te];for(let ue=0;ue<le.length;ue++){const ce=le[ue];te<ee.length-1?processX(ie.replace(se[te],ce),ee,te+1,se,ne):ne.push(ie.replace(se[te],ce))}}function createStringVariations(ie){const ee=/\{(.*?)\}/g,te=ie.match(ee),se=[];if(te){const ne=[];te.forEach(le=>{const ue=le.substring(1,le.length-1).split(",");ne.push(ue)}),processX(ie,ne,0,te,se)}else se.push(ie);return se}const isSingleItem=ie=>!Array.isArray(ie);class Resolver{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(ee,te)=>`${ee}${this._bundleIdConnector}${te}`,extractAssetIdFromBundle:(ee,te)=>te.replace(`${ee}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(ee){if(this._bundleIdConnector=ee.connector??this._bundleIdConnector,this._createBundleAssetId=ee.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=ee.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...ee){ee.forEach(te=>{this._preferredOrder.push(te),te.priority||(te.priority=Object.keys(te.params))}),this._resolverHash={}}set basePath(ee){this._basePath=ee}get basePath(){return this._basePath}set rootPath(ee){this._rootPath=ee}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(ee){if(typeof ee=="string")this._defaultSearchParams=ee;else{const te=ee;this._defaultSearchParams=Object.keys(te).map(se=>`${encodeURIComponent(se)}=${encodeURIComponent(te[se])}`).join("&")}}getAlias(ee){const{alias:te,src:se}=ee;return convertToList(te||se,le=>typeof le=="string"?le:Array.isArray(le)?le.map(ue=>(ue==null?void 0:ue.src)??ue):le!=null&&le.src?le.src:le,!0)}addManifest(ee){this._manifest&&warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=ee,ee.bundles.forEach(te=>{this.addBundle(te.name,te.assets)})}addBundle(ee,te){const se=[];let ne=te;Array.isArray(te)||(ne=Object.entries(te).map(([le,ue])=>typeof ue=="string"||Array.isArray(ue)?{alias:le,src:ue}:{alias:le,...ue})),ne.forEach(le=>{const ue=le.src,ce=le.alias;let he;if(typeof ce=="string"){const de=this._createBundleAssetId(ee,ce);se.push(de),he=[ce,de]}else{const de=ce.map(_e=>this._createBundleAssetId(ee,_e));se.push(...de),he=[...ce,...de]}this.add({...le,alias:he,src:ue})}),this._bundles[ee]=se}add(ee){const te=[];Array.isArray(ee)?te.push(...ee):te.push(ee);let se;se=le=>{this.hasKey(le)&&warn(`[Resolver] already has key: ${le} overwriting`)},convertToList(te).forEach(le=>{const{src:ue}=le;let{data:ce,format:he,loadParser:de}=le;const _e=convertToList(ue).map(be=>typeof be=="string"?createStringVariations(be):Array.isArray(be)?be:[be]),fe=this.getAlias(le);Array.isArray(fe)?fe.forEach(se):se(fe);const ye=[];_e.forEach(be=>{be.forEach(Pe=>{let Ne={};if(typeof Pe!="object"){Ne.src=Pe;for(let we=0;we<this._parsers.length;we++){const De=this._parsers[we];if(De.test(Pe)){Ne=De.parse(Pe);break}}}else ce=Pe.data??ce,he=Pe.format??he,de=Pe.loadParser??de,Ne={...Ne,...Pe};if(!fe)throw new Error(`[Resolver] alias is undefined for this asset: ${Ne.src}`);Ne=this._buildResolvedAsset(Ne,{aliases:fe,data:ce,format:he,loadParser:de}),ye.push(Ne)})}),fe.forEach(be=>{this._assetMap[be]=ye})})}resolveBundle(ee){const te=isSingleItem(ee);ee=convertToList(ee);const se={};return ee.forEach(ne=>{const le=this._bundles[ne];if(le){const ue=this.resolve(le),ce={};for(const he in ue){const de=ue[he];ce[this._extractAssetIdFromBundle(ne,he)]=de}se[ne]=ce}}),te?se[ee[0]]:se}resolveUrl(ee){const te=this.resolve(ee);if(typeof ee!="string"){const se={};for(const ne in te)se[ne]=te[ne].src;return se}return te.src}resolve(ee){const te=isSingleItem(ee);ee=convertToList(ee);const se={};return ee.forEach(ne=>{if(!this._resolverHash[ne])if(this._assetMap[ne]){let le=this._assetMap[ne];const ue=this._getPreferredOrder(le);ue==null||ue.priority.forEach(ce=>{ue.params[ce].forEach(he=>{const de=le.filter(_e=>_e[ce]?_e[ce]===he:!1);de.length&&(le=de)})}),this._resolverHash[ne]=le[0]}else this._resolverHash[ne]=this._buildResolvedAsset({alias:[ne],src:ne},{});se[ne]=this._resolverHash[ne]}),te?se[ee[0]]:se}hasKey(ee){return!!this._assetMap[ee]}hasBundle(ee){return!!this._bundles[ee]}_getPreferredOrder(ee){for(let te=0;te<ee.length;te++){const se=ee[0],ne=this._preferredOrder.find(le=>le.params.format.includes(se.format));if(ne)return ne}return this._preferredOrder[0]}_appendDefaultSearchParams(ee){if(!this._defaultSearchParams)return ee;const te=/\?/.test(ee)?"&":"?";return`${ee}${te}${this._defaultSearchParams}`}_buildResolvedAsset(ee,te){const{aliases:se,data:ne,loadParser:le,format:ue}=te;return(this._basePath||this._rootPath)&&(ee.src=path.toAbsolute(ee.src,this._basePath,this._rootPath)),ee.alias=se??ee.alias??[ee.src],ee.src=this._appendDefaultSearchParams(ee.src),ee.data={...ne||{},...ee.data},ee.loadParser=le??ee.loadParser,ee.format=ue??ee.format??getUrlExtension(ee.src),ee}}Resolver.RETINA_PREFIX=/@([0-9\.]+)x/;function getUrlExtension(ie){return ie.split(".").pop().split("?").shift().split("#").shift()}const copySearchParams=(ie,ee)=>{const te=ee.split("?")[1];return te&&(ie+=`?${te}`),ie},_Spritesheet=class CL{constructor(ee,te){this.linkedSheets=[],this._texture=ee instanceof Texture?ee:null,this.textureSource=ee.source,this.textures={},this.animations={},this.data=te;const se=parseFloat(te.meta.scale);se?(this.resolution=se,ee.source.resolution=this.resolution):this.resolution=ee.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(ee=>{this._callback=ee,this._batchIndex=0,this._frameKeys.length<=CL.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(ee){let te=ee;const se=CL.BATCH_SIZE;for(;te-ee<se&&te<this._frameKeys.length;){const ne=this._frameKeys[te],le=this._frames[ne],ue=le.frame;if(ue){let ce=null,he=null;const de=le.trimmed!==!1&&le.sourceSize?le.sourceSize:le.frame,_e=new Rectangle(0,0,Math.floor(de.w)/this.resolution,Math.floor(de.h)/this.resolution);le.rotated?ce=new Rectangle(Math.floor(ue.x)/this.resolution,Math.floor(ue.y)/this.resolution,Math.floor(ue.h)/this.resolution,Math.floor(ue.w)/this.resolution):ce=new Rectangle(Math.floor(ue.x)/this.resolution,Math.floor(ue.y)/this.resolution,Math.floor(ue.w)/this.resolution,Math.floor(ue.h)/this.resolution),le.trimmed!==!1&&le.spriteSourceSize&&(he=new Rectangle(Math.floor(le.spriteSourceSize.x)/this.resolution,Math.floor(le.spriteSourceSize.y)/this.resolution,Math.floor(ue.w)/this.resolution,Math.floor(ue.h)/this.resolution)),this.textures[ne]=new Texture({source:this.textureSource,frame:ce,orig:_e,trim:he,rotate:le.rotated?2:0,defaultAnchor:le.anchor,defaultBorders:le.borders,label:ne.toString()})}te++}}_processAnimations(){const ee=this.data.animations||{};for(const te in ee){this.animations[te]=[];for(let se=0;se<ee[te].length;se++){const ne=ee[te][se];this.animations[te].push(this.textures[ne])}}}_parseComplete(){const ee=this._callback;this._callback=null,this._batchIndex=0,ee.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*CL.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*CL.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(ee=!1){var te;for(const se in this.textures)this.textures[se].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,ee&&((te=this._texture)==null||te.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};_Spritesheet.BATCH_SIZE=1e3;let Spritesheet=_Spritesheet;const validImages=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function getCacheableAssets(ie,ee,te){const se={};if(ie.forEach(ne=>{se[ne]=ee}),Object.keys(ee.textures).forEach(ne=>{se[ne]=ee.textures[ne]}),!te){const ne=path.dirname(ie[0]);ee.linkedSheets.forEach((le,ue)=>{const ce=getCacheableAssets([`${ne}/${ee.data.meta.related_multi_packs[ue]}`],le,!0);Object.assign(se,ce)})}return se}const spritesheetAsset={extension:ExtensionType.Asset,cache:{test:ie=>ie instanceof Spritesheet,getCacheableAssets:(ie,ee)=>getCacheableAssets(ie,ee,!1)},resolver:{test:ie=>{const te=ie.split("?")[0].split("."),se=te.pop(),ne=te.pop();return se==="json"&&validImages.includes(ne)},parse:ie=>{var te;const ee=ie.split(".");return{resolution:parseFloat(((te=Resolver.RETINA_PREFIX.exec(ie))==null?void 0:te[1])??"1"),format:ee[ee.length-2],src:ie}}},loader:{name:"spritesheetLoader",extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal},async testParse(ie,ee){return path.extname(ee.src).toLowerCase()===".json"&&!!ie.frames},async parse(ie,ee,te){var de,_e;const{texture:se,imageFilename:ne}=(ee==null?void 0:ee.data)??{};let le=path.dirname(ee.src);le&&le.lastIndexOf("/")!==le.length-1&&(le+="/");let ue;if(se instanceof Texture)ue=se;else{const fe=copySearchParams(le+(ne??ie.meta.image),ee.src);ue=(await te.load([fe]))[fe]}const ce=new Spritesheet(ue.source,ie);await ce.parse();const he=(de=ie==null?void 0:ie.meta)==null?void 0:de.related_multi_packs;if(Array.isArray(he)){const fe=[];for(const be of he){if(typeof be!="string")continue;let Pe=le+be;(_e=ee.data)!=null&&_e.ignoreMultiPack||(Pe=copySearchParams(Pe,ee.src),fe.push(te.load({src:Pe,data:{ignoreMultiPack:!0}})))}const ye=await Promise.all(fe);ce.linkedSheets=ye,ye.forEach(be=>{be.linkedSheets=[ce].concat(ce.linkedSheets.filter(Pe=>Pe!==be))})}return ce},async unload(ie,ee,te){await te.unload(ie.textureSource._sourceOrigin),ie.destroy(!1)}}};extensions.add(spritesheetAsset);class FederatedEvent{constructor(ee){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=FederatedEvent.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Point,this.page=new Point,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=ee}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(ee,te,se){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(ee,te,se,ne,le){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}var appleIphone=/iPhone/i,appleIpod=/iPod/i,appleTablet=/iPad/i,appleUniversal=/\biOS-universal(?:.+)Mac\b/i,androidPhone=/\bAndroid(?:.+)Mobile\b/i,androidTablet=/Android/i,amazonPhone=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet=/Silk/i,windowsPhone=/Windows Phone/i,windowsTablet=/\bWindows(?:.+)ARM\b/i,otherBlackBerry=/BlackBerry/i,otherBlackBerry10=/BB10/i,otherOpera=/Opera Mini/i,otherChrome=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13=function(ie){return typeof ie<"u"&&ie.platform==="MacIntel"&&typeof ie.maxTouchPoints=="number"&&ie.maxTouchPoints>1&&typeof MSStream>"u"};function createMatch(ie){return function(ee){return ee.test(ie)}}function isMobile$1(ie){var ee={userAgent:"",platform:"",maxTouchPoints:0};!ie&&typeof navigator<"u"?ee={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof ie=="string"?ee.userAgent=ie:ie&&ie.userAgent&&(ee={userAgent:ie.userAgent,platform:ie.platform,maxTouchPoints:ie.maxTouchPoints||0});var te=ee.userAgent,se=te.split("[FBAN");typeof se[1]<"u"&&(te=se[0]),se=te.split("Twitter"),typeof se[1]<"u"&&(te=se[0]);var ne=createMatch(te),le={apple:{phone:ne(appleIphone)&&!ne(windowsPhone),ipod:ne(appleIpod),tablet:!ne(appleIphone)&&(ne(appleTablet)||isAppleTabletOnIos13(ee))&&!ne(windowsPhone),universal:ne(appleUniversal),device:(ne(appleIphone)||ne(appleIpod)||ne(appleTablet)||ne(appleUniversal)||isAppleTabletOnIos13(ee))&&!ne(windowsPhone)},amazon:{phone:ne(amazonPhone),tablet:!ne(amazonPhone)&&ne(amazonTablet),device:ne(amazonPhone)||ne(amazonTablet)},android:{phone:!ne(windowsPhone)&&ne(amazonPhone)||!ne(windowsPhone)&&ne(androidPhone),tablet:!ne(windowsPhone)&&!ne(amazonPhone)&&!ne(androidPhone)&&(ne(amazonTablet)||ne(androidTablet)),device:!ne(windowsPhone)&&(ne(amazonPhone)||ne(amazonTablet)||ne(androidPhone)||ne(androidTablet))||ne(/\bokhttp\b/i)},windows:{phone:ne(windowsPhone),tablet:ne(windowsTablet),device:ne(windowsPhone)||ne(windowsTablet)},other:{blackberry:ne(otherBlackBerry),blackberry10:ne(otherBlackBerry10),opera:ne(otherOpera),firefox:ne(otherFirefox),chrome:ne(otherChrome),device:ne(otherBlackBerry)||ne(otherBlackBerry10)||ne(otherOpera)||ne(otherFirefox)||ne(otherChrome)},any:!1,phone:!1,tablet:!1};return le.any=le.apple.device||le.android.device||le.windows.device||le.other.device,le.phone=le.apple.phone||le.android.phone||le.windows.phone,le.tablet=le.apple.tablet||le.android.tablet||le.windows.tablet,le}const isMobileCall=isMobile$1.default??isMobile$1,isMobile=isMobileCall(globalThis.navigator),KEY_CODE_TAB=9,DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_X=0,DIV_TOUCH_POS_Y=0,DIV_TOUCH_ZINDEX=2,DIV_HOOK_SIZE=1,DIV_HOOK_POS_X=-1e3,DIV_HOOK_POS_Y=-1e3,DIV_HOOK_ZINDEX=2;class AccessibilitySystem{constructor(ee,te=isMobile){this._mobileInfo=te,this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this._pool=[],this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._hookDiv=null,(te.tablet||te.phone)&&this._createTouchHook();const se=document.createElement("div");se.style.width=`${DIV_TOUCH_SIZE}px`,se.style.height=`${DIV_TOUCH_SIZE}px`,se.style.position="absolute",se.style.top=`${DIV_TOUCH_POS_X}px`,se.style.left=`${DIV_TOUCH_POS_Y}px`,se.style.zIndex=DIV_TOUCH_ZINDEX.toString(),this._div=se,this._renderer=ee,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}_createTouchHook(){const ee=document.createElement("button");ee.style.width=`${DIV_HOOK_SIZE}px`,ee.style.height=`${DIV_HOOK_SIZE}px`,ee.style.position="absolute",ee.style.top=`${DIV_HOOK_POS_X}px`,ee.style.left=`${DIV_HOOK_POS_Y}px`,ee.style.zIndex=DIV_HOOK_ZINDEX.toString(),ee.style.backgroundColor="#FF0000",ee.title="select to enable accessibility for this content",ee.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(ee),this._hookDiv=ee}_destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}_activate(){var ee;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.add(this),(ee=this._renderer.view.canvas.parentNode)==null||ee.appendChild(this._div))}_deactivate(){var ee;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.remove(this),(ee=this._div.parentNode)==null||ee.removeChild(this._div))}_updateAccessibleObjects(ee){if(!ee.visible||!ee.accessibleChildren)return;ee.accessible&&ee.isInteractive()&&(ee._accessibleActive||this._addChild(ee),ee._renderId=this._renderId);const te=ee.children;if(te)for(let se=0;se<te.length;se++)this._updateAccessibleObjects(te[se])}init(ee){this.debug=(ee==null?void 0:ee.debug)??this.debug,this._renderer.runners.postrender.remove(this)}postrender(){const ee=performance.now();if(this._mobileInfo.android.device&&ee<this._androidUpdateCount||(this._androidUpdateCount=ee+this._androidUpdateFrequency,!this._renderer.renderingToScreen||!this._renderer.view.canvas))return;this._renderer.lastObjectRendered&&this._updateAccessibleObjects(this._renderer.lastObjectRendered);const{x:te,y:se,width:ne,height:le}=this._renderer.view.canvas.getBoundingClientRect(),{width:ue,height:ce,resolution:he}=this._renderer,de=ne/ue*he,_e=le/ce*he;let fe=this._div;fe.style.left=`${te}px`,fe.style.top=`${se}px`,fe.style.width=`${ue}px`,fe.style.height=`${ce}px`;for(let ye=0;ye<this._children.length;ye++){const be=this._children[ye];if(be._renderId!==this._renderId)be._accessibleActive=!1,removeItems(this._children,ye,1),this._div.removeChild(be._accessibleDiv),this._pool.push(be._accessibleDiv),be._accessibleDiv=null,ye--;else{fe=be._accessibleDiv;let Pe=be.hitArea;const Ne=be.worldTransform;be.hitArea?(fe.style.left=`${(Ne.tx+Pe.x*Ne.a)*de}px`,fe.style.top=`${(Ne.ty+Pe.y*Ne.d)*_e}px`,fe.style.width=`${Pe.width*Ne.a*de}px`,fe.style.height=`${Pe.height*Ne.d*_e}px`):(Pe=be.getBounds().rectangle,this._capHitArea(Pe),fe.style.left=`${Pe.x*de}px`,fe.style.top=`${Pe.y*_e}px`,fe.style.width=`${Pe.width*de}px`,fe.style.height=`${Pe.height*_e}px`,fe.title!==be.accessibleTitle&&be.accessibleTitle!==null&&(fe.title=be.accessibleTitle||""),fe.getAttribute("aria-label")!==be.accessibleHint&&be.accessibleHint!==null&&fe.setAttribute("aria-label",be.accessibleHint||"")),(be.accessibleTitle!==fe.title||be.tabIndex!==fe.tabIndex)&&(fe.title=be.accessibleTitle||"",fe.tabIndex=be.tabIndex,this.debug&&this._updateDebugHTML(fe))}}this._renderId++}_updateDebugHTML(ee){ee.innerHTML=`type: ${ee.type}</br> title : ${ee.title}</br> tabIndex: ${ee.tabIndex}`}_capHitArea(ee){ee.x<0&&(ee.width+=ee.x,ee.x=0),ee.y<0&&(ee.height+=ee.y,ee.y=0);const{width:te,height:se}=this._renderer;ee.x+ee.width>te&&(ee.width=te-ee.x),ee.y+ee.height>se&&(ee.height=se-ee.y)}_addChild(ee){let te=this._pool.pop();te||(te=document.createElement("button"),te.style.width=`${DIV_TOUCH_SIZE}px`,te.style.height=`${DIV_TOUCH_SIZE}px`,te.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",te.style.position="absolute",te.style.zIndex=DIV_TOUCH_ZINDEX.toString(),te.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?te.setAttribute("aria-live","off"):te.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?te.setAttribute("aria-relevant","additions"):te.setAttribute("aria-relevant","text"),te.addEventListener("click",this._onClick.bind(this)),te.addEventListener("focus",this._onFocus.bind(this)),te.addEventListener("focusout",this._onFocusOut.bind(this))),te.style.pointerEvents=ee.accessiblePointerEvents,te.type=ee.accessibleType,ee.accessibleTitle&&ee.accessibleTitle!==null?te.title=ee.accessibleTitle:(!ee.accessibleHint||ee.accessibleHint===null)&&(te.title=`container ${ee.tabIndex}`),ee.accessibleHint&&ee.accessibleHint!==null&&te.setAttribute("aria-label",ee.accessibleHint),this.debug&&this._updateDebugHTML(te),ee._accessibleActive=!0,ee._accessibleDiv=te,te.container=ee,this._children.push(ee),this._div.appendChild(ee._accessibleDiv),ee._accessibleDiv.tabIndex=ee.tabIndex}_dispatchEvent(ee,te){const{container:se}=ee.target,ne=this._renderer.events.rootBoundary,le=Object.assign(new FederatedEvent(ne),{target:se});ne.rootTarget=this._renderer.lastObjectRendered,te.forEach(ue=>ne.dispatchEvent(le,ue))}_onClick(ee){this._dispatchEvent(ee,["click","pointertap","tap"])}_onFocus(ee){ee.target.getAttribute("aria-live")||ee.target.setAttribute("aria-live","assertive"),this._dispatchEvent(ee,["mouseover"])}_onFocusOut(ee){ee.target.getAttribute("aria-live")||ee.target.setAttribute("aria-live","polite"),this._dispatchEvent(ee,["mouseout"])}_onKeyDown(ee){ee.keyCode===KEY_CODE_TAB&&this._activate()}_onMouseMove(ee){ee.movementX===0&&ee.movementY===0||this._deactivate()}destroy(){this._destroyTouchHook(),this._div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this._pool=null,this._children=null,this._renderer=null}}AccessibilitySystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem],name:"accessibility"};const accessibilityTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,_renderId:-1},idCounts=Object.create(null),idHash=Object.create(null);function createIdFromString(ie,ee){let te=idHash[ie];return te===void 0&&(idCounts[ee]===void 0&&(idCounts[ee]=1),idHash[ie]=te=idCounts[ee]++),te}let context;function getTestContext(){return(!context||context!=null&&context.isContextLost())&&(context=DOMAdapter.get().createCanvas().getContext("webgl",{})),context}let maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision="mediump";const ie=getTestContext();ie&&ie.getShaderPrecisionFormat&&(maxFragmentPrecision=ie.getShaderPrecisionFormat(ie.FRAGMENT_SHADER,ie.HIGH_FLOAT).precision?"highp":"mediump")}return maxFragmentPrecision}function addProgramDefines(ie,ee,te){return ee?ie:te?(ie=ie.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${ie}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${ie}
        `}function ensurePrecision(ie,ee,te){const se=te?ee.maxSupportedFragmentPrecision:ee.maxSupportedVertexPrecision;if(ie.substring(0,9)!=="precision"){let ne=te?ee.requestedFragmentPrecision:ee.requestedVertexPrecision;return ne==="highp"&&se!=="highp"&&(ne="mediump"),`precision ${ne} float;
${ie}`}else if(se!=="highp"&&ie.substring(0,15)==="precision highp")return ie.replace("precision highp","precision mediump");return ie}function insertVersion(ie,ee){return ee?`#version 300 es
${ie}`:ie}const fragmentNameCache={},VertexNameCache={};function setProgramName(ie,{name:ee="pixi-program"},te=!0){ee=ee.replace(/\s+/g,"-"),ee+=te?"-fragment":"-vertex";const se=te?fragmentNameCache:VertexNameCache;return se[ee]?(se[ee]++,ee+=`-${se[ee]}`):se[ee]=1,ie.indexOf("#define SHADER_NAME")!==-1?ie:`${`#define SHADER_NAME ${ee}`}
${ie}`}function stripVersion(ie,ee){return ee?ie.replace("#version 300 es",""):ie}const processes={stripVersion,ensurePrecision,addProgramDefines,setProgramName,insertVersion},programCache$1=Object.create(null),_GlProgram=class dj{constructor(ee){ee={...dj.defaultOptions,...ee};const te=ee.fragment.indexOf("#version 300 es")!==-1,se={stripVersion:te,ensurePrecision:{requestedFragmentPrecision:ee.preferredFragmentPrecision,requestedVertexPrecision:ee.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:getMaxFragmentPrecision()},setProgramName:{name:ee.name},addProgramDefines:te,insertVersion:te};let ne=ee.fragment,le=ee.vertex;Object.keys(processes).forEach(ue=>{const ce=se[ue];ne=processes[ue](ne,ce,!0),le=processes[ue](le,ce,!1)}),this.fragment=ne,this.vertex=le,this._key=createIdFromString(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(ee){const te=`${ee.vertex}:${ee.fragment}`;return programCache$1[te]||(programCache$1[te]=new dj(ee)),programCache$1[te]}};_GlProgram.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let GlProgram=_GlProgram;const attributeFormatData={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function getAttributeInfoFromFormat(ie){return attributeFormatData[ie]??attributeFormatData.float32}const WGSL_TO_VERTEX_TYPES={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function extractAttributesFromGpuProgram({source:ie,entryPoint:ee}){const te={},se=ie.indexOf(`fn ${ee}`);if(se!==-1){const ne=ie.indexOf("->",se);if(ne!==-1){const le=ie.substring(se,ne),ue=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let ce;for(;(ce=ue.exec(le))!==null;){const he=WGSL_TO_VERTEX_TYPES[ce[3]]??"float32";te[ce[2]]={location:parseInt(ce[1],10),format:he,stride:getAttributeInfoFromFormat(he).stride,offset:0,instance:!1,start:0}}}}return te}function extractStructAndGroups(ie){var fe,ye;const ee=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,te=/@group\((\d+)\)/,se=/@binding\((\d+)\)/,ne=/var(<[^>]+>)? (\w+)/,le=/:\s*(\w+)/,ue=/struct\s+(\w+)\s*{([^}]+)}/g,ce=/(\w+)\s*:\s*([\w\<\>]+)/g,he=/struct\s+(\w+)/,de=(fe=ie.match(ee))==null?void 0:fe.map(be=>({group:parseInt(be.match(te)[1],10),binding:parseInt(be.match(se)[1],10),name:be.match(ne)[2],isUniform:be.match(ne)[1]==="<uniform>",type:be.match(le)[1]}));if(!de)return{groups:[],structs:[]};const _e=((ye=ie.match(ue))==null?void 0:ye.map(be=>{const Pe=be.match(he)[1],Ne=be.match(ce).reduce((we,De)=>{const[$e,Ge]=De.split(":");return we[$e.trim()]=Ge.trim(),we},{});return Ne?{name:Pe,members:Ne}:null}).filter(({name:be})=>de.some(Pe=>Pe.type===be)))??[];return{groups:de,structs:_e}}var ShaderStage=(ie=>(ie[ie.VERTEX=1]="VERTEX",ie[ie.FRAGMENT=2]="FRAGMENT",ie[ie.COMPUTE=4]="COMPUTE",ie))(ShaderStage||{});function generateGpuLayoutGroups({groups:ie}){const ee=[];for(let te=0;te<ie.length;te++){const se=ie[te];ee[se.group]||(ee[se.group]=[]),se.isUniform?ee[se.group].push({binding:se.binding,visibility:ShaderStage.VERTEX|ShaderStage.FRAGMENT,buffer:{type:"uniform"}}):se.type==="sampler"?ee[se.group].push({binding:se.binding,visibility:ShaderStage.FRAGMENT,sampler:{type:"filtering"}}):se.type==="texture_2d"&&ee[se.group].push({binding:se.binding,visibility:ShaderStage.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return ee}function generateLayoutHash({groups:ie}){const ee=[];for(let te=0;te<ie.length;te++){const se=ie[te];ee[se.group]||(ee[se.group]={}),ee[se.group][se.name]=se.binding}return ee}function removeStructAndGroupDuplicates(ie,ee){const te=new Set,se=new Set,ne=[...ie.structs,...ee.structs].filter(ue=>te.has(ue.name)?!1:(te.add(ue.name),!0)),le=[...ie.groups,...ee.groups].filter(ue=>{const ce=`${ue.name}-${ue.binding}`;return se.has(ce)?!1:(se.add(ce),!0)});return{structs:ne,groups:le}}const programCache=Object.create(null);class GpuProgram{constructor(ee){var ce,he;this._layoutKey=0;const{fragment:te,vertex:se,layout:ne,gpuLayout:le,name:ue}=ee;if(this.name=ue,this.fragment=te,this.vertex=se,te.source===se.source){const de=extractStructAndGroups(te.source);this.structsAndGroups=de}else{const de=extractStructAndGroups(se.source),_e=extractStructAndGroups(te.source);this.structsAndGroups=removeStructAndGroupDuplicates(de,_e)}this.layout=ne??generateLayoutHash(this.structsAndGroups),this.gpuLayout=le??generateGpuLayoutGroups(this.structsAndGroups),this.autoAssignGlobalUniforms=((ce=this.layout[0])==null?void 0:ce.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((he=this.layout[1])==null?void 0:he.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:ee,fragment:te}=this,se=ee.source+te.source+ee.entryPoint+te.entryPoint;this._layoutKey=createIdFromString(se,"program")}get attributeData(){return this._attributeData??(this._attributeData=extractAttributesFromGpuProgram(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(ee){const te=`${ee.vertex.source}:${ee.fragment.source}:${ee.fragment.entryPoint}:${ee.vertex.entryPoint}`;return programCache[te]||(programCache[te]=new GpuProgram(ee)),programCache[te]}}function getDefaultUniformValue(ie,ee){switch(ie){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*ee);case"vec3<f32>":return new Float32Array(3*ee);case"vec4<f32>":return new Float32Array(4*ee);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const _UniformGroup=class Ak{constructor(ee,te){this._touched=0,this.uid=uid("uniform"),this._resourceType="uniformGroup",this._resourceId=uid("resource"),this.isUniformGroup=!0,this._dirtyId=0,te={...Ak.defaultOptions,...te},this.uniformStructures=ee;const se={};for(const ne in ee){const le=ee[ne];le.name=ne,le.size=le.size??1,le.value??(le.value=getDefaultUniformValue(le.type,le.size)),se[ne]=le.value}this.uniforms=se,this._dirtyId=1,this.ubo=te.ubo,this.isStatic=te.isStatic,this._signature=createIdFromString(Object.keys(se).map(ne=>`${ne}-${ee[ne].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};_UniformGroup.defaultOptions={ubo:!1,isStatic:!1};let UniformGroup=_UniformGroup;class BindGroup{constructor(ee){this.resources=Object.create(null),this._dirty=!0;let te=0;for(const se in ee){const ne=ee[se];this.setResource(ne,te++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const ee=[];let te=0;for(const se in this.resources)ee[te++]=this.resources[se]._resourceId;this._key=ee.join("|")}setResource(ee,te){var ne,le;const se=this.resources[te];ee!==se&&(se&&((ne=ee.off)==null||ne.call(ee,"change",this.onResourceChange,this)),(le=ee.on)==null||le.call(ee,"change",this.onResourceChange,this),this.resources[te]=ee,this._dirty=!0)}getResource(ee){return this.resources[ee]}_touch(ee){const te=this.resources;for(const se in te)te[se]._touched=ee}destroy(){var te;const ee=this.resources;for(const se in ee){const ne=ee[se];(te=ne.off)==null||te.call(ne,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(){this._dirty=!0,this._updateKey()}}var RendererType=(ie=>(ie[ie.WEBGL=1]="WEBGL",ie[ie.WEBGPU=2]="WEBGPU",ie[ie.BOTH=3]="BOTH",ie))(RendererType||{});class Shader extends EventEmitter{constructor(ee){super(),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:te,glProgram:se,groups:ne,resources:le,compatibleRenderers:ue,groupMap:ce}=ee;this.gpuProgram=te,this.glProgram=se,ue===void 0&&(ue=0,te&&(ue|=RendererType.WEBGPU),se&&(ue|=RendererType.WEBGL)),this.compatibleRenderers=ue;const he={};if(!le&&!ne&&(le={}),le&&ne)throw new Error("[Shader] Cannot have both resources and groups");if(!te&&ne&&!ce)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!te&&ne&&ce)for(const de in ce)for(const _e in ce[de]){const fe=ce[de][_e];he[fe]={group:de,binding:_e,name:fe}}else if(te&&ne&&!ce){const de=te.structsAndGroups.groups;ce={},de.forEach(_e=>{ce[_e.group]=ce[_e.group]||{},ce[_e.group][_e.binding]=_e.name,he[_e.name]=_e})}else if(le){if(te){const de=te.structsAndGroups.groups;ce={},de.forEach(_e=>{ce[_e.group]=ce[_e.group]||{},ce[_e.group][_e.binding]=_e.name,he[_e.name]=_e})}else{ce={},ne={99:new BindGroup},this._ownedBindGroups.push(ne[99]);let de=0;for(const _e in le)he[_e]={group:99,binding:de,name:_e},ce[99]=ce[99]||{},ce[99][de]=_e,de++}ne={};for(const de in le){const _e=de;let fe=le[de];!fe.source&&!fe._resourceType&&(fe=new UniformGroup(fe));const ye=he[_e];ye&&(ne[ye.group]||(ne[ye.group]=new BindGroup,this._ownedBindGroups.push(ne[ye.group])),ne[ye.group].setResource(fe,ye.binding))}}this.groups=ne,this._uniformBindMap=ce,this.resources=this._buildResourceAccessor(ne,he)}addResource(ee,te,se){var ne,le;(ne=this._uniformBindMap)[te]||(ne[te]={}),(le=this._uniformBindMap[te])[se]||(le[se]=ee),this.groups[te]||(this.groups[te]=new BindGroup,this._ownedBindGroups.push(this.groups[te]))}_buildResourceAccessor(ee,te){const se={};for(const ne in te){const le=te[ne];Object.defineProperty(se,le.name,{get(){return ee[le.group].getResource(le.binding)},set(ue){ee[le.group].setResource(ue,le.binding)}})}return se}destroy(ee=!1){var te,se;this.emit("destroy",this),ee&&((te=this.gpuProgram)==null||te.destroy(),(se=this.glProgram)==null||se.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(ne=>{ne.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(ee){const{gpu:te,gl:se,...ne}=ee;let le,ue;return te&&(le=GpuProgram.from(te)),se&&(ue=GlProgram.from(se)),new Shader({gpuProgram:le,glProgram:ue,...ne})}}const blendModeIds={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8},BLEND$1=0,OFFSET$1=1,CULLING$1=2,DEPTH_TEST$1=3,WINDING$1=4,DEPTH_MASK$1=5,_State=class xk{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<BLEND$1)}set blend(ee){!!(this.data&1<<BLEND$1)!==ee&&(this.data^=1<<BLEND$1)}get offsets(){return!!(this.data&1<<OFFSET$1)}set offsets(ee){!!(this.data&1<<OFFSET$1)!==ee&&(this.data^=1<<OFFSET$1)}set cullMode(ee){if(ee==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=ee==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<CULLING$1)}set culling(ee){!!(this.data&1<<CULLING$1)!==ee&&(this.data^=1<<CULLING$1)}get depthTest(){return!!(this.data&1<<DEPTH_TEST$1)}set depthTest(ee){!!(this.data&1<<DEPTH_TEST$1)!==ee&&(this.data^=1<<DEPTH_TEST$1)}get depthMask(){return!!(this.data&1<<DEPTH_MASK$1)}set depthMask(ee){!!(this.data&1<<DEPTH_MASK$1)!==ee&&(this.data^=1<<DEPTH_MASK$1)}get clockwiseFrontFace(){return!!(this.data&1<<WINDING$1)}set clockwiseFrontFace(ee){!!(this.data&1<<WINDING$1)!==ee&&(this.data^=1<<WINDING$1)}get blendMode(){return this._blendMode}set blendMode(ee){this.blend=ee!=="none",this._blendMode=ee,this._blendModeId=blendModeIds[ee]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(ee){this.offsets=!!ee,this._polygonOffset=ee}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const ee=new xk;return ee.depthTest=!1,ee.blend=!0,ee}};_State.default2d=_State.for2d();let State=_State;const _Filter=class fj extends Shader{constructor(ee){ee={...fj.defaultOptions,...ee},super(ee),this.enabled=!0,this._state=State.for2d(),this.padding=ee.padding,typeof ee.antialias=="boolean"?this.antialias=ee.antialias?"on":"off":this.antialias=ee.antialias,this.resolution=ee.resolution,this.blendRequired=ee.blendRequired,this.addResource("uTexture",0,1)}apply(ee,te,se,ne){ee.applyFilter(this,te,se,ne)}get blendMode(){return this._state.blendMode}set blendMode(ee){this._state.blendMode=ee}static from(ee){const{gpu:te,gl:se,...ne}=ee;let le,ue;return te&&(le=GpuProgram.from(te)),se&&(ue=GlProgram.from(se)),new fj({gpuProgram:le,glProgram:ue,...ne})}};_Filter.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1};let Filter=_Filter;const environments=[];extensions.handleByNamedList(ExtensionType.Environment,environments);async function autoDetectEnvironment(ie){if(ie)for(let ee=0;ee<environments.length;ee++){const te=environments[ee];if(te.value.test()){await te.value.load();return}}}let unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{unsafeEval=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{unsafeEval=!1}return unsafeEval}var CLEAR=(ie=>(ie[ie.NONE=0]="NONE",ie[ie.COLOR=16384]="COLOR",ie[ie.STENCIL=1024]="STENCIL",ie[ie.DEPTH=256]="DEPTH",ie[ie.COLOR_DEPTH=16640]="COLOR_DEPTH",ie[ie.COLOR_STENCIL=17408]="COLOR_STENCIL",ie[ie.DEPTH_STENCIL=1280]="DEPTH_STENCIL",ie[ie.ALL=17664]="ALL",ie))(CLEAR||{});class SystemRunner{constructor(ee){this.items=[],this._name=ee}emit(ee,te,se,ne,le,ue,ce,he){const{name:de,items:_e}=this;for(let fe=0,ye=_e.length;fe<ye;fe++)_e[fe][de](ee,te,se,ne,le,ue,ce,he);return this}add(ee){return ee[this._name]&&(this.remove(ee),this.items.push(ee)),this}remove(ee){const te=this.items.indexOf(ee);return te!==-1&&this.items.splice(te,1),this}contains(ee){return this.items.indexOf(ee)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const defaultRunners=["init","destroy","contextChange","resolutionChange","reset","renderEnd","renderStart","render","update","postrender","prerender"],_AbstractRenderer=class Ok extends EventEmitter{constructor(ee){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=ee.type,this.name=ee.name;const te=[...defaultRunners,...ee.runners??[]];this._addRunners(...te),this._addSystems(ee.systems),this._addPipes(ee.renderPipes,ee.renderPipeAdaptors),this._unsafeEvalCheck()}async init(ee={}){for(const te in this._systemsHash)ee={...this._systemsHash[te].constructor.defaultOptions,...ee};ee={...Ok.defaultOptions,...ee},this._roundPixels=ee.roundPixels?1:0;for(let te=0;te<this.runners.init.items.length;te++)await this.runners.init.items[te].init(ee);this._initOptions=ee}render(ee,te){let se=ee;if(se instanceof Container&&(se={container:se},te&&(deprecation(v8_0_0,"passing a second argument is deprecated, please use render options instead"),se.target=te.renderTexture)),se.target||(se.target=this.view.renderTarget),se.target===this.view.renderTarget&&(this._lastObjectRendered=se.container,se.clearColor=this.background.colorRgba),se.clearColor){const ne=Array.isArray(se.clearColor)&&se.clearColor.length===4;se.clearColor=ne?se.clearColor:Color.shared.setValue(se.clearColor).toArray()}se.transform||(se.container.updateLocalTransform(),se.transform=se.container.localTransform),this.runners.prerender.emit(se),this.runners.renderStart.emit(se),this.runners.render.emit(se),this.runners.renderEnd.emit(se),this.runners.postrender.emit(se)}resize(ee,te,se){this.view.resize(ee,te,se),this.emit("resize",this.view.screen.width,this.view.screen.height)}clear(ee={}){const te=this;ee.target||(ee.target=te.renderTarget.renderTarget),ee.clearColor||(ee.clearColor=this.background.colorRgba),ee.clear??(ee.clear=CLEAR.ALL);const{clear:se,clearColor:ne,target:le}=ee;Color.shared.setValue(ne??this.background.colorRgba),te.renderTarget.clear(le,se,Color.shared.toArray())}get resolution(){return this.view.resolution}set resolution(ee){this.view.resolution=ee,this.runners.resolutionChange.emit(ee)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...ee){ee.forEach(te=>{this.runners[te]=new SystemRunner(te)})}_addSystems(ee){let te;for(te in ee){const se=ee[te];this._addSystem(se.value,se.name)}}_addSystem(ee,te){const se=new ee(this);if(this[te])throw new Error(`Whoops! The name "${te}" is already in use`);this[te]=se,this._systemsHash[te]=se;for(const ne in this.runners)this.runners[ne].add(se);return this}_addPipes(ee,te){const se=te.reduce((ne,le)=>(ne[le.name]=le.value,ne),{});ee.forEach(ne=>{const le=ne.value,ue=ne.name,ce=se[ue];this.renderPipes[ue]=new le(this,ce?new ce:null)})}destroy(ee=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(ee),Object.values(this.runners).forEach(te=>{te.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(ee){return this.textureGenerator.generateTexture(ee)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}};_AbstractRenderer.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let AbstractRenderer=_AbstractRenderer,_isWebGLSupported;function isWebGLSupported(ie){return _isWebGLSupported!==void 0||(_isWebGLSupported=(()=>{var te;const ee={stencil:!0,failIfMajorPerformanceCaveat:ie??AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat};try{if(!DOMAdapter.get().getWebGLRenderingContext())return!1;let ne=DOMAdapter.get().createCanvas().getContext("webgl",ee);const le=!!((te=ne==null?void 0:ne.getContextAttributes())!=null&&te.stencil);if(ne){const ue=ne.getExtension("WEBGL_lose_context");ue&&ue.loseContext()}return ne=null,le}catch{return!1}})()),_isWebGLSupported}let _isWebGPUSupported;async function isWebGPUSupported(ie={}){return _isWebGPUSupported!==void 0||(_isWebGPUSupported=await(async()=>{if(!DOMAdapter.get().getNavigator().gpu)return!1;try{return await(await navigator.gpu.requestAdapter(ie)).requestDevice(),!0}catch{return!1}})()),_isWebGPUSupported}const renderPriority=["webgpu","webgl","canvas"];async function autoDetectRenderer(ie){let ee=[];ie.preference?(ee.push(ie.preference),renderPriority.forEach(le=>{le!==ie.preference&&ee.push(le)})):ee=renderPriority.slice();let te;await autoDetectEnvironment(ie.manageImports??!0);let se={};for(let le=0;le<ee.length;le++){const ue=ee[le];if(ue==="webgpu"&&await isWebGPUSupported()){const{WebGPURenderer:ce}=await __vitePreload(async()=>{const{WebGPURenderer:he}=await Promise.resolve().then(()=>WebGPURenderer$1);return{WebGPURenderer:he}},void 0);te=ce,se={...ie,...ie.webgpu};break}else if(ue==="webgl"&&isWebGLSupported(ie.failIfMajorPerformanceCaveat??AbstractRenderer.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:ce}=await __vitePreload(async()=>{const{WebGLRenderer:he}=await Promise.resolve().then(()=>WebGLRenderer$1);return{WebGLRenderer:he}},void 0);te=ce,se={...ie,...ie.webgl};break}else if(ue==="canvas"){se={...ie};break}}delete se.webgpu,delete se.webgl;const ne=new te;return await ne.init(se),ne}const _Application=class pj{constructor(...ee){this.stage=new Container,ee[0]!==void 0&&deprecation(v8_0_0,"Application constructor options are deprecated, please use Application.init() instead.")}async init(ee){ee={...ee},this.renderer=await autoDetectRenderer(ee),pj._plugins.forEach(te=>{te.init.call(this,ee)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return deprecation(v8_0_0,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(ee=!1,te=!1){const se=pj._plugins.slice(0);se.reverse(),se.forEach(ne=>{ne.destroy.call(this)}),this.stage.destroy(te),this.stage=null,this.renderer.destroy(ee),this.renderer=null}};_Application._plugins=[];let Application=_Application;extensions.handleByList(ExtensionType.Application,Application._plugins);class ResizePlugin{static init(ee){Object.defineProperty(this,"resizeTo",{set(te){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=te,te&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this._cancelResize();let te,se;if(this._resizeTo===globalThis.window)te=globalThis.innerWidth,se=globalThis.innerHeight;else{const{clientWidth:ne,clientHeight:le}=this._resizeTo;te=ne,se=le}this.renderer.resize(te,se),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=ee.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}ResizePlugin.extension=ExtensionType.Application;class TickerPlugin{static init(ee){ee=Object.assign({autoStart:!0,sharedTicker:!1},ee),Object.defineProperty(this,"ticker",{set(te){this._ticker&&this._ticker.remove(this.render,this),this._ticker=te,te&&te.add(this.render,this,UPDATE_PRIORITY.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=ee.sharedTicker?Ticker.shared:new Ticker,ee.autoStart&&this.start()}static destroy(){if(this._ticker){const ee=this._ticker;this.ticker=null,ee.destroy()}}}TickerPlugin.extension=ExtensionType.Application;var parseSvgPath,hasRequiredParseSvgPath;function requireParseSvgPath(){if(hasRequiredParseSvgPath)return parseSvgPath;hasRequiredParseSvgPath=1,parseSvgPath=te;var ie={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},ee=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function te(le){var ue=[];return le.replace(ee,function(ce,he,de){var _e=he.toLowerCase();for(de=ne(de),_e=="m"&&de.length>2&&(ue.push([he].concat(de.splice(0,2))),_e="l",he=he=="m"?"l":"L");;){if(de.length==ie[_e])return de.unshift(he),ue.push(de);if(de.length<ie[_e])throw new Error("malformed path data");ue.push([he].concat(de.splice(0,ie[_e])))}}),ue}var se=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function ne(le){var ue=le.match(se);return ue?ue.map(Number):[]}return parseSvgPath}var parseSvgPathExports=requireParseSvgPath();const parse=getDefaultExportFromCjs(parseSvgPathExports);function SVGToGraphicsPath(ie,ee){const te=parse(ie),se=[];let ne=null,le=0,ue=0;for(let ce=0;ce<te.length;ce++){const he=te[ce],de=he[0],_e=he;switch(de){case"M":le=_e[1],ue=_e[2],ee.moveTo(le,ue);break;case"m":le+=_e[1],ue+=_e[2],ee.moveTo(le,ue);break;case"H":le=_e[1],ee.lineTo(le,ue);break;case"h":le+=_e[1],ee.lineTo(le,ue);break;case"V":ue=_e[1],ee.lineTo(le,ue);break;case"v":ue+=_e[1],ee.lineTo(le,ue);break;case"L":le=_e[1],ue=_e[2],ee.lineTo(le,ue);break;case"l":le+=_e[1],ue+=_e[2],ee.lineTo(le,ue);break;case"C":le=_e[5],ue=_e[6],ee.bezierCurveTo(_e[1],_e[2],_e[3],_e[4],le,ue);break;case"c":ee.bezierCurveTo(le+_e[1],ue+_e[2],le+_e[3],ue+_e[4],le+_e[5],ue+_e[6]),le+=_e[5],ue+=_e[6];break;case"S":le=_e[3],ue=_e[4],ee.bezierCurveToShort(_e[1],_e[2],le,ue);break;case"s":ee.bezierCurveToShort(le+_e[1],ue+_e[2],le+_e[3],ue+_e[4]),le+=_e[3],ue+=_e[4];break;case"Q":le=_e[3],ue=_e[4],ee.quadraticCurveTo(_e[1],_e[2],le,ue);break;case"q":ee.quadraticCurveTo(le+_e[1],ue+_e[2],le+_e[3],ue+_e[4]),le+=_e[3],ue+=_e[4];break;case"T":le=_e[1],ue=_e[2],ee.quadraticCurveToShort(le,ue);break;case"t":le+=_e[1],ue+=_e[2],ee.quadraticCurveToShort(le,ue);break;case"A":le=_e[6],ue=_e[7],ee.arcToSvg(_e[1],_e[2],_e[3],_e[4],_e[5],le,ue);break;case"a":le+=_e[6],ue+=_e[7],ee.arcToSvg(_e[1],_e[2],_e[3],_e[4],_e[5],le,ue);break;case"Z":case"z":ee.closePath(),se.length>0&&(ne=se.pop(),ne?(le=ne.startX,ue=ne.startY):(le=0,ue=0)),ne=null;break;default:warn(`Unknown SVG path command: ${de}`)}de!=="Z"&&de!=="z"&&ne===null&&(ne={startX:le,startY:ue},se.push(ne))}return ee}class Circle{constructor(ee=0,te=0,se=0){this.type="circle",this.x=ee,this.y=te,this.radius=se}clone(){return new Circle(this.x,this.y,this.radius)}contains(ee,te){if(this.radius<=0)return!1;const se=this.radius*this.radius;let ne=this.x-ee,le=this.y-te;return ne*=ne,le*=le,ne+le<=se}strokeContains(ee,te,se){if(this.radius===0)return!1;const ne=this.x-ee,le=this.y-te,ue=this.radius,ce=se/2,he=Math.sqrt(ne*ne+le*le);return he<ue+ce&&he>ue-ce}getBounds(ee){return ee=ee||new Rectangle,ee.x=this.x-this.radius,ee.y=this.y-this.radius,ee.width=this.radius*2,ee.height=this.radius*2,ee}copyFrom(ee){return this.x=ee.x,this.y=ee.y,this.radius=ee.radius,this}copyTo(ee){return ee.copyFrom(this),ee}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Ellipse{constructor(ee=0,te=0,se=0,ne=0){this.type="ellipse",this.x=ee,this.y=te,this.halfWidth=se,this.halfHeight=ne}clone(){return new Ellipse(this.x,this.y,this.halfWidth,this.halfHeight)}contains(ee,te){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let se=(ee-this.x)/this.halfWidth,ne=(te-this.y)/this.halfHeight;return se*=se,ne*=ne,se+ne<=1}strokeContains(ee,te,se){const{halfWidth:ne,halfHeight:le}=this;if(ne<=0||le<=0)return!1;const ue=se/2,ce=ne-ue,he=le-ue,de=ne+ue,_e=le+ue,fe=ee-this.x,ye=te-this.y,be=fe*fe/(ce*ce)+ye*ye/(he*he),Pe=fe*fe/(de*de)+ye*ye/(_e*_e);return be>1&&Pe<=1}getBounds(){return new Rectangle(this.x-this.halfWidth,this.y-this.halfHeight,this.halfWidth*2,this.halfHeight*2)}copyFrom(ee){return this.x=ee.x,this.y=ee.y,this.halfWidth=ee.halfWidth,this.halfHeight=ee.halfHeight,this}copyTo(ee){return ee.copyFrom(this),ee}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function squaredDistanceToLineSegment(ie,ee,te,se,ne,le){const ue=ie-te,ce=ee-se,he=ne-te,de=le-se,_e=ue*he+ce*de,fe=he*he+de*de;let ye=-1;fe!==0&&(ye=_e/fe);let be,Pe;ye<0?(be=te,Pe=se):ye>1?(be=ne,Pe=le):(be=te+ye*he,Pe=se+ye*de);const Ne=ie-be,we=ee-Pe;return Ne*Ne+we*we}class Polygon{constructor(...ee){this.type="polygon";let te=Array.isArray(ee[0])?ee[0]:ee;if(typeof te[0]!="number"){const se=[];for(let ne=0,le=te.length;ne<le;ne++)se.push(te[ne].x,te[ne].y);te=se}this.points=te,this.closePath=!0}clone(){const ee=this.points.slice(),te=new Polygon(ee);return te.closePath=this.closePath,te}contains(ee,te){let se=!1;const ne=this.points.length/2;for(let le=0,ue=ne-1;le<ne;ue=le++){const ce=this.points[le*2],he=this.points[le*2+1],de=this.points[ue*2],_e=this.points[ue*2+1];he>te!=_e>te&&ee<(de-ce)*((te-he)/(_e-he))+ce&&(se=!se)}return se}strokeContains(ee,te,se){const ne=se/2,le=ne*ne,{points:ue}=this;for(let ce=0;ce<ue.length;ce+=2){const he=ue[ce],de=ue[ce+1],_e=ue[(ce+2)%ue.length],fe=ue[(ce+3)%ue.length];if(squaredDistanceToLineSegment(ee,te,he,de,_e,fe)<=le)return!0}return!1}getBounds(ee){ee=ee||new Rectangle;const te=this.points;let se=1/0,ne=-1/0,le=1/0,ue=-1/0;for(let ce=0,he=te.length;ce<he;ce+=2){const de=te[ce],_e=te[ce+1];se=de<se?de:se,ne=de>ne?de:ne,le=_e<le?_e:le,ue=_e>ue?_e:ue}return ee.x=se,ee.width=ne-se,ee.y=le,ee.height=ue-le,ee}copyFrom(ee){return this.points=ee.points.slice(),this.closePath=ee.closePath,this}copyTo(ee){return ee.copyFrom(this),ee}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((ee,te)=>`${ee}, ${te}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const isCornerWithinStroke=(ie,ee,te,se,ne,le)=>{const ue=ie-te,ce=ee-se,he=Math.sqrt(ue*ue+ce*ce);return he>=ne-le&&he<=ne+le};class RoundedRectangle{constructor(ee=0,te=0,se=0,ne=0,le=20){this.type="roundedRectangle",this.x=ee,this.y=te,this.width=se,this.height=ne,this.radius=le}getBounds(ee){return ee=ee||new Rectangle,ee.x=this.x,ee.y=this.y,ee.width=this.width,ee.height=this.height,ee}clone(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)}copyFrom(ee){return this.x=ee.x,this.y=ee.y,this.width=ee.width,this.height=ee.height,this}copyTo(ee){return ee.copyFrom(this),ee}contains(ee,te){if(this.width<=0||this.height<=0)return!1;if(ee>=this.x&&ee<=this.x+this.width&&te>=this.y&&te<=this.y+this.height){const se=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(te>=this.y+se&&te<=this.y+this.height-se||ee>=this.x+se&&ee<=this.x+this.width-se)return!0;let ne=ee-(this.x+se),le=te-(this.y+se);const ue=se*se;if(ne*ne+le*le<=ue||(ne=ee-(this.x+this.width-se),ne*ne+le*le<=ue)||(le=te-(this.y+this.height-se),ne*ne+le*le<=ue)||(ne=ee-(this.x+se),ne*ne+le*le<=ue))return!0}return!1}strokeContains(ee,te,se){const{x:ne,y:le,width:ue,height:ce,radius:he}=this,de=se/2,_e=ne+he,fe=le+he,ye=ue-he*2,be=ce-he*2,Pe=ne+ue,Ne=le+ce;return(ee>=ne-de&&ee<=ne+de||ee>=Pe-de&&ee<=Pe+de)&&te>=fe&&te<=fe+be||(te>=le-de&&te<=le+de||te>=Ne-de&&te<=Ne+de)&&ee>=_e&&ee<=_e+ye?!0:ee<_e&&te<fe&&isCornerWithinStroke(ee,te,_e,fe,he,de)||ee>Pe-he&&te<fe&&isCornerWithinStroke(ee,te,Pe-he,fe,he,de)||ee>Pe-he&&te>Ne-he&&isCornerWithinStroke(ee,te,Pe-he,Ne-he,he,de)||ee<_e&&te>Ne-he&&isCornerWithinStroke(ee,te,_e,Ne-he,he,de)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}var BufferUsage=(ie=>(ie[ie.MAP_READ=1]="MAP_READ",ie[ie.MAP_WRITE=2]="MAP_WRITE",ie[ie.COPY_SRC=4]="COPY_SRC",ie[ie.COPY_DST=8]="COPY_DST",ie[ie.INDEX=16]="INDEX",ie[ie.VERTEX=32]="VERTEX",ie[ie.UNIFORM=64]="UNIFORM",ie[ie.STORAGE=128]="STORAGE",ie[ie.INDIRECT=256]="INDIRECT",ie[ie.QUERY_RESOLVE=512]="QUERY_RESOLVE",ie[ie.STATIC=1024]="STATIC",ie))(BufferUsage||{});class Buffer extends EventEmitter{constructor(ee){let{data:te,size:se}=ee;const{usage:ne,label:le,shrinkToFit:ue}=ee;super(),this.uid=uid("buffer"),this._resourceType="buffer",this._resourceId=uid("resource"),this._touched=0,this._updateID=1,this.shrinkToFit=!0,te instanceof Array&&(te=new Float32Array(te)),this._data=te,se=se??(te==null?void 0:te.byteLength);const ce=!!te;this.descriptor={size:se,usage:ne,mappedAtCreation:ce,label:le},this.shrinkToFit=ue??!0}get data(){return this._data}set data(ee){this.setDataWithSize(ee,ee.length,!0)}get static(){return!!(this.descriptor.usage&BufferUsage.STATIC)}set static(ee){ee?this.descriptor.usage|=BufferUsage.STATIC:this.descriptor.usage&=~BufferUsage.STATIC}setDataWithSize(ee,te,se){if(this._updateID++,this._updateSize=te*ee.BYTES_PER_ELEMENT,this._data===ee){se&&this.emit("update",this);return}const ne=this._data;if(this._data=ee,ne.length!==ee.length){!this.shrinkToFit&&ee.byteLength<ne.byteLength?se&&this.emit("update",this):(this.descriptor.size=ee.byteLength,this._resourceId=uid("resource"),this.emit("change",this));return}se&&this.emit("update",this)}update(ee){this._updateSize=ee??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.emit("destroy",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function ensureIsBuffer(ie,ee){if(!(ie instanceof Buffer)){let te=ee?BufferUsage.INDEX:BufferUsage.VERTEX;ie instanceof Array&&(ee?(ie=new Uint32Array(ie),te=BufferUsage.INDEX|BufferUsage.COPY_DST):(ie=new Float32Array(ie),te=BufferUsage.VERTEX|BufferUsage.COPY_DST)),ie=new Buffer({data:ie,label:ee?"index-mesh-buffer":"vertex-mesh-buffer",usage:te})}return ie}function getGeometryBounds(ie,ee,te){const se=ie.getAttribute(ee);if(!se)return te.minX=0,te.minY=0,te.maxX=0,te.maxY=0,te;const ne=se.buffer.data;let le=1/0,ue=1/0,ce=-1/0,he=-1/0;const de=ne.BYTES_PER_ELEMENT,_e=(se.offset||0)/de,fe=(se.stride||2*4)/de;for(let ye=_e;ye<ne.length;ye+=fe){const be=ne[ye],Pe=ne[ye+1];be>ce&&(ce=be),Pe>he&&(he=Pe),be<le&&(le=be),Pe<ue&&(ue=Pe)}return te.minX=le,te.minY=ue,te.maxX=ce,te.maxY=he,te}function ensureIsAttribute(ie){return(ie instanceof Buffer||Array.isArray(ie)||ie.BYTES_PER_ELEMENT)&&(ie={buffer:ie}),ie.buffer=ensureIsBuffer(ie.buffer,!1),ie}class Geometry extends EventEmitter{constructor(ee){const{attributes:te,indexBuffer:se,topology:ne}=ee;super(),this.uid=uid("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Bounds,this._boundsDirty=!0,this.attributes=te,this.buffers=[],this.instanceCount=ee.instanceCount||1;for(const le in te){const ue=te[le]=ensureIsAttribute(te[le]);this.buffers.indexOf(ue.buffer)===-1&&(this.buffers.push(ue.buffer),ue.buffer.on("update",this.onBufferUpdate,this),ue.buffer.on("change",this.onBufferUpdate,this))}se&&(this.indexBuffer=ensureIsBuffer(se,!0),this.buffers.push(this.indexBuffer)),this.topology=ne||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(ee){return this.attributes[ee]}getIndex(){return this.indexBuffer}getBuffer(ee){return this.getAttribute(ee).buffer}getSize(){for(const ee in this.attributes){const te=this.attributes[ee];return te.buffer.data.length/(te.stride/4||te.size)}return 0}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,getGeometryBounds(this,"aPosition",this._bounds)):this._bounds}destroy(ee=!1){this.emit("destroy",this),this.removeAllListeners(),ee&&this.buffers.forEach(te=>te.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const placeHolderBufferData=new Float32Array(1),placeHolderIndexData=new Uint32Array(1);class BatchGeometry extends Geometry{constructor(){const te=new Buffer({data:placeHolderBufferData,label:"attribute-batch-buffer",usage:BufferUsage.VERTEX|BufferUsage.COPY_DST,shrinkToFit:!1}),se=new Buffer({data:placeHolderIndexData,label:"index-batch-buffer",usage:BufferUsage.INDEX|BufferUsage.COPY_DST,shrinkToFit:!1}),ne=6*4;super({attributes:{aPosition:{buffer:te,format:"float32x2",stride:ne,offset:0,location:1},aUV:{buffer:te,format:"float32x2",stride:ne,offset:2*4,location:3},aColor:{buffer:te,format:"unorm8x4",stride:ne,offset:4*4,location:0},aTextureIdAndRound:{buffer:te,format:"uint16x2",stride:ne,offset:5*4,location:2}},indexBuffer:se})}}const MAX_TEXTURES=16,cachedGroups={};function getTextureBatchBindGroup(ie,ee){let te=0;for(let se=0;se<ee;se++)te=te*31+ie[se].uid>>>0;return cachedGroups[te]||generateTextureBatchBindGroup(ie,te)}function generateTextureBatchBindGroup(ie,ee){const te={};let se=0;for(let le=0;le<MAX_TEXTURES;le++){const ue=le<ie.length?ie[le]:Texture.EMPTY.source;te[se++]=ue.source,te[se++]=ue.style}const ne=new BindGroup(te);return cachedGroups[ee]=ne,ne}class ViewableBuffer{constructor(ee){typeof ee=="number"?this.rawBinaryData=new ArrayBuffer(ee):ee instanceof Uint8Array?this.rawBinaryData=ee.buffer:this.rawBinaryData=ee,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(ee){return this[`${ee}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(ee){switch(ee){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${ee} isn't a valid view type`)}}}function fastCopy(ie,ee){const te=ie.byteLength/8|0,se=new Float64Array(ie,0,te);new Float64Array(ee,0,te).set(se);const le=ie.byteLength-te*8;if(le>0){const ue=new Uint8Array(ie,te*8,le);new Uint8Array(ee,te*8,le).set(ue)}}const BLEND_TO_NPM={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var STENCIL_MODES=(ie=>(ie[ie.DISABLED=0]="DISABLED",ie[ie.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",ie[ie.MASK_ACTIVE=2]="MASK_ACTIVE",ie[ie.RENDERING_MASK_REMOVE=3]="RENDERING_MASK_REMOVE",ie[ie.NONE=4]="NONE",ie))(STENCIL_MODES||{});function getAdjustedBlendModeBlend(ie,ee){return ee.alphaMode==="no-premultiply-alpha"&&BLEND_TO_NPM[ie]||ie}class BatchTextureArray{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let ee=0;ee<this.count;ee++){const te=this.textures[ee];this.textures[ee]=null,this.ids[te.uid]=null}this.count=0}}class Batch{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.blendMode="normal",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}let BATCH_TICK=0;const _Batcher=class Ck{constructor(ee={}){this.uid=uid("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._vertexSize=6,this._elements=[],this._batchPool=[],this._batchPoolIndex=0,this._textureBatchPool=[],this._textureBatchPoolIndex=0,ee={...Ck.defaultOptions,...ee};const{vertexSize:te,indexSize:se}=ee;this.attributeBuffer=new ViewableBuffer(te*this._vertexSize*4),this.indexBuffer=new Uint16Array(se)}begin(){this.batchIndex=0,this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0,this._batchPoolIndex=0,this._textureBatchPoolIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(ee){this._elements[this.elementSize++]=ee,ee.indexStart=this.indexSize,ee.location=this.attributeSize,ee.batcher=this,this.indexSize+=ee.indexSize,this.attributeSize+=ee.vertexSize*this._vertexSize}checkAndUpdateTexture(ee,te){const se=ee.batch.textures.ids[te._source.uid];return!se&&se!==0?!1:(ee.textureId=se,ee.texture=te,!0)}updateElement(ee){this.dirty=!0,ee.packAttributes(this.attributeBuffer.float32View,this.attributeBuffer.uint32View,ee.location,ee.textureId)}break(ee){const te=this._elements;let se=this._textureBatchPool[this._textureBatchPoolIndex++]||new BatchTextureArray;if(se.clear(),!te[this.elementStart])return;const ne=te[this.elementStart];let le=getAdjustedBlendModeBlend(ne.blendMode,ne.texture._source);this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const ue=this.attributeBuffer.float32View,ce=this.attributeBuffer.uint32View,he=this.indexBuffer;let de=this._batchIndexSize,_e=this._batchIndexStart,fe="startBatch",ye=this._batchPool[this._batchPoolIndex++]||new Batch;for(let be=this.elementStart;be<this.elementSize;++be){const Pe=te[be];te[be]=null;const we=Pe.texture._source,De=getAdjustedBlendModeBlend(Pe.blendMode,we),$e=le!==De;if(we._batchTick===BATCH_TICK&&!$e){Pe.textureId=we._textureBindLocation,de+=Pe.indexSize,Pe.packAttributes(ue,ce,Pe.location,Pe.textureId),Pe.packIndex(he,Pe.indexStart,Pe.location/this._vertexSize),Pe.batch=ye;continue}we._batchTick=BATCH_TICK,(se.count>=MAX_TEXTURES||$e)&&(this._finishBatch(ye,_e,de-_e,se,le,ee,fe),fe="renderBatch",_e=de,le=De,se=this._textureBatchPool[this._textureBatchPoolIndex++]||new BatchTextureArray,se.clear(),ye=this._batchPool[this._batchPoolIndex++]||new Batch,++BATCH_TICK),Pe.textureId=we._textureBindLocation=se.count,se.ids[we.uid]=se.count,se.textures[se.count++]=we,Pe.batch=ye,de+=Pe.indexSize,Pe.packAttributes(ue,ce,Pe.location,Pe.textureId),Pe.packIndex(he,Pe.indexStart,Pe.location/this._vertexSize)}se.count>0&&(this._finishBatch(ye,_e,de-_e,se,le,ee,fe),_e=de,++BATCH_TICK),this.elementStart=this.elementSize,this._batchIndexStart=_e,this._batchIndexSize=de}_finishBatch(ee,te,se,ne,le,ue,ce){ee.gpuBindGroup=null,ee.action=ce,ee.batcher=this,ee.textures=ne,ee.blendMode=le,ee.start=te,ee.size=se,++BATCH_TICK,ue.add(ee)}finish(ee){this.break(ee)}ensureAttributeBuffer(ee){ee*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(ee*4)}ensureIndexBuffer(ee){ee<=this.indexBuffer.length||this._resizeIndexBuffer(ee)}_resizeAttributeBuffer(ee){const te=Math.max(ee,this.attributeBuffer.size*2),se=new ViewableBuffer(te);fastCopy(this.attributeBuffer.rawBinaryData,se.rawBinaryData),this.attributeBuffer=se}_resizeIndexBuffer(ee){const te=this.indexBuffer;let se=Math.max(ee,te.length*1.5);se+=se%2;const ne=se>65535?new Uint32Array(se):new Uint16Array(se);if(ne.BYTES_PER_ELEMENT!==te.BYTES_PER_ELEMENT)for(let le=0;le<te.length;le++)ne[le]=te[le];else fastCopy(te.buffer,ne.buffer);this.indexBuffer=ne}destroy(){for(let ee=0;ee<this.batches.length;ee++)this.batches[ee].destroy();this.batches=null;for(let ee=0;ee<this._elements.length;ee++)this._elements[ee].batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};_Batcher.defaultOptions={vertexSize:4,indexSize:6};let Batcher=_Batcher;function buildUvs(ie,ee,te,se,ne,le,ue,ce=null){let he=0;te*=ee,ne*=le;const de=ce.a,_e=ce.b,fe=ce.c,ye=ce.d,be=ce.tx,Pe=ce.ty;for(;he<ue;){const Ne=ie[te],we=ie[te+1];se[ne]=de*Ne+fe*we+be,se[ne+1]=_e*Ne+ye*we+Pe,ne+=le,te+=ee,he++}}function buildSimpleUvs(ie,ee,te,se){let ne=0;for(ee*=te;ne<se;)ie[ee]=0,ie[ee+1]=0,ee+=te,ne++}function transformVertices(ie,ee,te,se,ne){const le=ee.a,ue=ee.b,ce=ee.c,he=ee.d,de=ee.tx,_e=ee.ty;te=te||0,se=se||2,ne=ne||ie.length/se-te;let fe=te*se;for(let ye=0;ye<ne;ye++){const be=ie[fe],Pe=ie[fe+1];ie[fe]=le*be+ce*Pe+de,ie[fe+1]=ue*be+he*Pe+_e,fe+=se}}function mixHexColors(ie,ee,te){const se=ie>>16&255,ne=ie>>8&255,le=ie&255,ue=ee>>16&255,ce=ee>>8&255,he=ee&255,de=se+(ue-se)*te,_e=ne+(ce-ne)*te,fe=le+(he-le)*te;return(de<<16)+(_e<<8)+fe}const WHITE_BGR=16777215;function mixColors(ie,ee){return ie===WHITE_BGR||ee===WHITE_BGR?ie+ee-WHITE_BGR:mixHexColors(ie,ee,.5)}class BatchableGraphics{constructor(){this.batcher=null,this.batch=null,this.applyTransform=!0,this.roundPixels=0}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}packIndex(ee,te,se){const ne=this.geometryData.indices;for(let le=0;le<this.indexSize;le++)ee[te++]=ne[le+this.indexOffset]+se-this.vertexOffset}packAttributes(ee,te,se,ne){const le=this.geometryData,ue=this.renderable,ce=le.vertices,he=le.uvs,de=this.vertexOffset*2,_e=(this.vertexOffset+this.vertexSize)*2,fe=this.color,ye=fe>>16|fe&65280|(fe&255)<<16;if(this.applyTransform){const be=mixColors(ye,ue.groupColor)+(this.alpha*ue.groupAlpha*255<<24),Pe=ue.groupTransform,Ne=ne<<16|this.roundPixels&65535,we=Pe.a,De=Pe.b,$e=Pe.c,Ge=Pe.d,Be=Pe.tx,ze=Pe.ty;for(let $t=de;$t<_e;$t+=2){const ut=ce[$t],Ti=ce[$t+1];ee[se]=we*ut+$e*Ti+Be,ee[se+1]=De*ut+Ge*Ti+ze,ee[se+2]=he[$t],ee[se+3]=he[$t+1],te[se+4]=be,te[se+5]=Ne,se+=6}}else{const be=ye+(this.alpha*255<<24);for(let Pe=de;Pe<_e;Pe+=2)ee[se]=ce[Pe],ee[se+1]=ce[Pe+1],ee[se+2]=he[Pe],ee[se+3]=he[Pe+1],te[se+4]=be,te[se+5]=ne<<16,se+=6}}get vertSize(){return this.vertexSize}copyTo(ee){ee.indexOffset=this.indexOffset,ee.indexSize=this.indexSize,ee.vertexOffset=this.vertexOffset,ee.vertexSize=this.vertexSize,ee.color=this.color,ee.alpha=this.alpha,ee.texture=this.texture,ee.geometryData=this.geometryData}reset(){this.applyTransform=!0}}const buildCircle={build(ie,ee){let te,se,ne,le,ue,ce;if(ie.type==="circle"){const Be=ie;te=Be.x,se=Be.y,ue=ce=Be.radius,ne=le=0}else if(ie.type==="ellipse"){const Be=ie;te=Be.x,se=Be.y,ue=Be.halfWidth,ce=Be.halfHeight,ne=le=0}else{const Be=ie,ze=Be.width/2,$t=Be.height/2;te=Be.x+ze,se=Be.y+$t,ue=ce=Math.max(0,Math.min(Be.radius,Math.min(ze,$t))),ne=ze-ue,le=$t-ce}if(!(ue>=0&&ce>=0&&ne>=0&&le>=0))return ee;const he=Math.ceil(2.3*Math.sqrt(ue+ce)),de=he*8+(ne?4:0)+(le?4:0);if(de===0)return ee;if(he===0)return ee[0]=ee[6]=te+ne,ee[1]=ee[3]=se+le,ee[2]=ee[4]=te-ne,ee[5]=ee[7]=se-le,ee;let _e=0,fe=he*4+(ne?2:0)+2,ye=fe,be=de,Pe=ne+ue,Ne=le,we=te+Pe,De=te-Pe,$e=se+Ne;if(ee[_e++]=we,ee[_e++]=$e,ee[--fe]=$e,ee[--fe]=De,le){const Be=se-Ne;ee[ye++]=De,ee[ye++]=Be,ee[--be]=Be,ee[--be]=we}for(let Be=1;Be<he;Be++){const ze=Math.PI/2*(Be/he),$t=ne+Math.cos(ze)*ue,ut=le+Math.sin(ze)*ce,Ti=te+$t,Hi=te-$t,bn=se+ut,gd=se-ut;ee[_e++]=Ti,ee[_e++]=bn,ee[--fe]=bn,ee[--fe]=Hi,ee[ye++]=Hi,ee[ye++]=gd,ee[--be]=gd,ee[--be]=Ti}Pe=ne,Ne=le+ce,we=te+Pe,De=te-Pe,$e=se+Ne;const Ge=se-Ne;return ee[_e++]=we,ee[_e++]=$e,ee[--be]=Ge,ee[--be]=we,ne&&(ee[_e++]=De,ee[_e++]=$e,ee[--be]=Ge,ee[--be]=De),ee},triangulate(ie,ee,te,se,ne,le){if(ie.length===0)return;let ue=0,ce=0;for(let _e=0;_e<ie.length;_e+=2)ue+=ie[_e],ce+=ie[_e+1];ue/=ie.length/2,ce/=ie.length/2;let he=se;ee[he*te]=ue,ee[he*te+1]=ce;const de=he++;for(let _e=0;_e<ie.length;_e+=2)ee[he*te]=ie[_e],ee[he*te+1]=ie[_e+1],_e>0&&(ne[le++]=he,ne[le++]=de,ne[le++]=he-1),he++;ne[le++]=de+1,ne[le++]=de,ne[le++]=he-1}},closePointEps=1e-4,curveEps=1e-4;function getOrientationOfPoints(ie){const ee=ie.length;if(ee<6)return 1;let te=0;for(let se=0,ne=ie[ee-2],le=ie[ee-1];se<ee;se+=2){const ue=ie[se],ce=ie[se+1];te+=(ue-ne)*(ce+le),ne=ue,le=ce}return te<0?-1:1}function square(ie,ee,te,se,ne,le,ue,ce){const he=ie-te*ne,de=ee-se*ne,_e=ie+te*le,fe=ee+se*le;let ye,be;ue?(ye=se,be=-te):(ye=-se,be=te);const Pe=he+ye,Ne=de+be,we=_e+ye,De=fe+be;return ce.push(Pe,Ne),ce.push(we,De),2}function round(ie,ee,te,se,ne,le,ue,ce){const he=te-ie,de=se-ee;let _e=Math.atan2(he,de),fe=Math.atan2(ne-ie,le-ee);ce&&_e<fe?_e+=Math.PI*2:!ce&&_e>fe&&(fe+=Math.PI*2);let ye=_e;const be=fe-_e,Pe=Math.abs(be),Ne=Math.sqrt(he*he+de*de),we=(15*Pe*Math.sqrt(Ne)/Math.PI>>0)+1,De=be/we;if(ye+=De,ce){ue.push(ie,ee),ue.push(te,se);for(let $e=1,Ge=ye;$e<we;$e++,Ge+=De)ue.push(ie,ee),ue.push(ie+Math.sin(Ge)*Ne,ee+Math.cos(Ge)*Ne);ue.push(ie,ee),ue.push(ne,le)}else{ue.push(te,se),ue.push(ie,ee);for(let $e=1,Ge=ye;$e<we;$e++,Ge+=De)ue.push(ie+Math.sin(Ge)*Ne,ee+Math.cos(Ge)*Ne),ue.push(ie,ee);ue.push(ne,le),ue.push(ie,ee)}return we*2}function buildLine(ie,ee,te,se,ne,le,ue,ce,he){const de=closePointEps;if(ie.length===0)return;const _e=ee;let fe=_e.alignment;if(ee.alignment!==.5){let eE=getOrientationOfPoints(ie);fe=(fe-.5)*eE+.5}const ye=new Point(ie[0],ie[1]),be=new Point(ie[ie.length-2],ie[ie.length-1]),Pe=se,Ne=Math.abs(ye.x-be.x)<de&&Math.abs(ye.y-be.y)<de;if(Pe){ie=ie.slice(),Ne&&(ie.pop(),ie.pop(),be.set(ie[ie.length-2],ie[ie.length-1]));const eE=(ye.x+be.x)*.5,hE=(be.y+ye.y)*.5;ie.unshift(eE,hE),ie.push(eE,hE)}const we=ne,De=ie.length/2;let $e=ie.length;const Ge=we.length/2,Be=_e.width/2,ze=Be*Be,$t=_e.miterLimit*_e.miterLimit;let ut=ie[0],Ti=ie[1],Hi=ie[2],bn=ie[3],gd=0,Pm=0,oE=-(Ti-bn),aE=ut-Hi,nE=0,On=0,nh=Math.sqrt(oE*oE+aE*aE);oE/=nh,aE/=nh,oE*=Be,aE*=Be;const Hn=fe,Xp=(1-Hn)*2,Jp=Hn*2;Pe||(_e.cap==="round"?$e+=round(ut-oE*(Xp-Jp)*.5,Ti-aE*(Xp-Jp)*.5,ut-oE*Xp,Ti-aE*Xp,ut+oE*Jp,Ti+aE*Jp,we,!0)+2:_e.cap==="square"&&($e+=square(ut,Ti,oE,aE,Xp,Jp,!0,we))),we.push(ut-oE*Xp,Ti-aE*Xp),we.push(ut+oE*Jp,Ti+aE*Jp);for(let eE=1;eE<De-1;++eE){ut=ie[(eE-1)*2],Ti=ie[(eE-1)*2+1],Hi=ie[eE*2],bn=ie[eE*2+1],gd=ie[(eE+1)*2],Pm=ie[(eE+1)*2+1],oE=-(Ti-bn),aE=ut-Hi,nh=Math.sqrt(oE*oE+aE*aE),oE/=nh,aE/=nh,oE*=Be,aE*=Be,nE=-(bn-Pm),On=Hi-gd,nh=Math.sqrt(nE*nE+On*On),nE/=nh,On/=nh,nE*=Be,On*=Be;const hE=Hi-ut,mE=Ti-bn,fE=Hi-gd,yE=Pm-bn,AE=hE*fE+mE*yE,bE=mE*fE-yE*hE,ME=bE<0;if(Math.abs(bE)<.001*Math.abs(AE)){we.push(Hi-oE*Xp,bn-aE*Xp),we.push(Hi+oE*Jp,bn+aE*Jp),AE>=0&&(_e.join==="round"?$e+=round(Hi,bn,Hi-oE*Xp,bn-aE*Xp,Hi-nE*Xp,bn-On*Xp,we,!1)+4:$e+=2,we.push(Hi-nE*Jp,bn-On*Jp),we.push(Hi+nE*Xp,bn+On*Xp));continue}const SE=(-oE+ut)*(-aE+bn)-(-oE+Hi)*(-aE+Ti),jE=(-nE+gd)*(-On+bn)-(-nE+Hi)*(-On+Pm),$E=(hE*jE-fE*SE)/bE,zE=(yE*SE-mE*jE)/bE,YE=($E-Hi)*($E-Hi)+(zE-bn)*(zE-bn),HE=Hi+($E-Hi)*Xp,VE=bn+(zE-bn)*Xp,TE=Hi-($E-Hi)*Jp,xE=bn-(zE-bn)*Jp,BE=Math.min(hE*hE+mE*mE,fE*fE+yE*yE),eR=ME?Xp:Jp,sR=BE+eR*eR*ze;YE<=sR?_e.join==="bevel"||YE/ze>$t?(ME?(we.push(HE,VE),we.push(Hi+oE*Jp,bn+aE*Jp),we.push(HE,VE),we.push(Hi+nE*Jp,bn+On*Jp)):(we.push(Hi-oE*Xp,bn-aE*Xp),we.push(TE,xE),we.push(Hi-nE*Xp,bn-On*Xp),we.push(TE,xE)),$e+=2):_e.join==="round"?ME?(we.push(HE,VE),we.push(Hi+oE*Jp,bn+aE*Jp),$e+=round(Hi,bn,Hi+oE*Jp,bn+aE*Jp,Hi+nE*Jp,bn+On*Jp,we,!0)+4,we.push(HE,VE),we.push(Hi+nE*Jp,bn+On*Jp)):(we.push(Hi-oE*Xp,bn-aE*Xp),we.push(TE,xE),$e+=round(Hi,bn,Hi-oE*Xp,bn-aE*Xp,Hi-nE*Xp,bn-On*Xp,we,!1)+4,we.push(Hi-nE*Xp,bn-On*Xp),we.push(TE,xE)):(we.push(HE,VE),we.push(TE,xE)):(we.push(Hi-oE*Xp,bn-aE*Xp),we.push(Hi+oE*Jp,bn+aE*Jp),_e.join==="round"?ME?$e+=round(Hi,bn,Hi+oE*Jp,bn+aE*Jp,Hi+nE*Jp,bn+On*Jp,we,!0)+2:$e+=round(Hi,bn,Hi-oE*Xp,bn-aE*Xp,Hi-nE*Xp,bn-On*Xp,we,!1)+2:_e.join==="miter"&&YE/ze<=$t&&(ME?(we.push(TE,xE),we.push(TE,xE)):(we.push(HE,VE),we.push(HE,VE)),$e+=2),we.push(Hi-nE*Xp,bn-On*Xp),we.push(Hi+nE*Jp,bn+On*Jp),$e+=2)}ut=ie[(De-2)*2],Ti=ie[(De-2)*2+1],Hi=ie[(De-1)*2],bn=ie[(De-1)*2+1],oE=-(Ti-bn),aE=ut-Hi,nh=Math.sqrt(oE*oE+aE*aE),oE/=nh,aE/=nh,oE*=Be,aE*=Be,we.push(Hi-oE*Xp,bn-aE*Xp),we.push(Hi+oE*Jp,bn+aE*Jp),Pe||(_e.cap==="round"?$e+=round(Hi-oE*(Xp-Jp)*.5,bn-aE*(Xp-Jp)*.5,Hi-oE*Xp,bn-aE*Xp,Hi+oE*Jp,bn+aE*Jp,we,!1)+2:_e.cap==="square"&&($e+=square(Hi,bn,oE,aE,Xp,Jp,!1,we)));const md=curveEps*curveEps;for(let eE=Ge;eE<$e+Ge-2;++eE)ut=we[eE*2],Ti=we[eE*2+1],Hi=we[(eE+1)*2],bn=we[(eE+1)*2+1],gd=we[(eE+2)*2],Pm=we[(eE+2)*2+1],!(Math.abs(ut*(bn-Pm)+Hi*(Pm-Ti)+gd*(Ti-bn))<md)&&ce.push(eE,eE+1,eE+2)}function triangulateWithHoles(ie,ee,te,se,ne,le,ue){const ce=earcut(ie,ee,2);if(!ce)return;for(let de=0;de<ce.length;de+=3)le[ue++]=ce[de]+ne,le[ue++]=ce[de+1]+ne,le[ue++]=ce[de+2]+ne;let he=ne*se;for(let de=0;de<ie.length;de+=2)te[he]=ie[de],te[he+1]=ie[de+1],he+=se}const emptyArray=[],buildPolygon={build(ie,ee){for(let te=0;te<ie.points.length;te++)ee[te]=ie.points[te];return ee},triangulate(ie,ee,te,se,ne,le){triangulateWithHoles(ie,emptyArray,ee,te,se,ne,le)}},buildRectangle={build(ie,ee){const te=ie,se=te.x,ne=te.y,le=te.width,ue=te.height;return le>=0&&ue>=0&&(ee[0]=se,ee[1]=ne,ee[2]=se+le,ee[3]=ne,ee[4]=se+le,ee[5]=ne+ue,ee[6]=se,ee[7]=ne+ue),ee},triangulate(ie,ee,te,se,ne,le){let ue=0;se*=te,ee[se+ue]=ie[0],ee[se+ue+1]=ie[1],ue+=te,ee[se+ue]=ie[2],ee[se+ue+1]=ie[3],ue+=te,ee[se+ue]=ie[6],ee[se+ue+1]=ie[7],ue+=te,ee[se+ue]=ie[4],ee[se+ue+1]=ie[5],ue+=te;const ce=se/te;ne[le++]=ce,ne[le++]=ce+1,ne[le++]=ce+2,ne[le++]=ce+1,ne[le++]=ce+3,ne[le++]=ce+2}},buildTriangle={build(ie,ee){return ee[0]=ie.x,ee[1]=ie.y,ee[2]=ie.x2,ee[3]=ie.y2,ee[4]=ie.x3,ee[5]=ie.y3,ee},triangulate(ie,ee,te,se,ne,le){let ue=0;se*=te,ee[se+ue]=ie[0],ee[se+ue+1]=ie[1],ue+=te,ee[se+ue]=ie[2],ee[se+ue+1]=ie[3],ue+=te,ee[se+ue]=ie[4],ee[se+ue+1]=ie[5];const ce=se/te;ne[le++]=ce,ne[le++]=ce+1,ne[le++]=ce+2}},buildMap={rectangle:buildRectangle,polygon:buildPolygon,triangle:buildTriangle,circle:buildCircle,ellipse:buildCircle,roundedRectangle:buildCircle},tempRect$1=new Rectangle;function buildContextBatches(ie,ee){const{geometryData:te,batches:se}=ee;se.length=0,te.indices.length=0,te.vertices.length=0,te.uvs.length=0;for(let ne=0;ne<ie.instructions.length;ne++){const le=ie.instructions[ne];if(le.action==="texture")addTextureToGeometryData(le.data,se,te);else if(le.action==="fill"||le.action==="stroke"){const ue=le.action==="stroke",ce=le.data.path.shapePath,he=le.data.style,de=le.data.hole;ue&&de&&addShapePathToGeometryData(de.shapePath,he,null,!0,se,te),addShapePathToGeometryData(ce,he,de,ue,se,te)}}}function addTextureToGeometryData(ie,ee,te){const{vertices:se,uvs:ne,indices:le}=te,ue=le.length,ce=se.length/2,he=[],de=buildMap.rectangle,_e=tempRect$1,fe=ie.image;_e.x=ie.dx,_e.y=ie.dy,_e.width=ie.dw,_e.height=ie.dh;const ye=ie.transform;de.build(_e,he),ye&&transformVertices(he,ye),de.triangulate(he,se,2,ce,le,ue);const be=fe.uvs;ne.push(be.x0,be.y0,be.x1,be.y1,be.x3,be.y3,be.x2,be.y2);const Pe=BigPool.get(BatchableGraphics);Pe.indexOffset=ue,Pe.indexSize=le.length-ue,Pe.vertexOffset=ce,Pe.vertexSize=se.length/2-ce,Pe.color=ie.style,Pe.alpha=ie.alpha,Pe.texture=fe,Pe.geometryData=te,ee.push(Pe)}function addShapePathToGeometryData(ie,ee,te,se,ne,le){const{vertices:ue,uvs:ce,indices:he}=le,de=ie.shapePrimitives.length-1;ie.shapePrimitives.forEach(({shape:_e,transform:fe},ye)=>{const be=he.length,Pe=ue.length/2,Ne=[],we=buildMap[_e.type];if(we.build(_e,Ne),fe&&transformVertices(Ne,fe),se){const Be=_e.closePath??!0;buildLine(Ne,ee,!1,Be,ue,2,Pe,he)}else if(te&&de===ye){de!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const Be=[],ze=Ne.slice();getHoleArrays(te.shapePath).forEach(ut=>{Be.push(ze.length/2),ze.push(...ut)}),triangulateWithHoles(ze,Be,ue,2,Pe,he,be)}else we.triangulate(Ne,ue,2,Pe,he,be);const De=ce.length/2,$e=ee.texture;if($e!==Texture.WHITE){const Be=ee.matrix;fe&&Be.append(fe.clone().invert()),buildUvs(ue,2,Pe,ce,De,2,ue.length/2-Pe,Be)}else buildSimpleUvs(ce,De,2,ue.length/2-Pe);const Ge=BigPool.get(BatchableGraphics);Ge.indexOffset=be,Ge.indexSize=he.length-be,Ge.vertexOffset=Pe,Ge.vertexSize=ue.length/2-Pe,Ge.color=ee.color,Ge.alpha=ee.alpha,Ge.texture=$e,Ge.geometryData=le,ne.push(Ge)})}function getHoleArrays(ie){if(!ie)return[];const ee=ie.shapePrimitives,te=[];for(let se=0;se<ee.length;se++){const ne=ee[se].shape,le=[];buildMap[ne.type].build(ne,le),te.push(le)}return te}class GpuGraphicsContext{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class GraphicsContextRenderData{constructor(){this.geometry=new BatchGeometry,this.instructions=new InstructionSet}init(){this.instructions.reset()}}const _GraphicsContextSystem=class _j{constructor(){this._activeBatchers=[],this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._needsContextNeedsRebuild=[]}init(ee){_j.defaultOptions.bezierSmoothness=(ee==null?void 0:ee.bezierSmoothness)??_j.defaultOptions.bezierSmoothness}prerender(){this._returnActiveBatchers()}getContextRenderData(ee){return this._graphicsDataContextHash[ee.uid]||this._initContextRenderData(ee)}updateGpuContext(ee){let te=this._gpuContextHash[ee.uid]||this._initContext(ee);if(ee.dirty){te?this._cleanGraphicsContextData(ee):te=this._initContext(ee),buildContextBatches(ee,te);const se=ee.batchMode;ee.customShader||se==="no-batch"?te.isBatchable=!1:se==="auto"&&(te.isBatchable=te.geometryData.vertices.length<400),ee.dirty=!1}return te}getGpuContext(ee){return this._gpuContextHash[ee.uid]||this._initContext(ee)}_returnActiveBatchers(){for(let ee=0;ee<this._activeBatchers.length;ee++)BigPool.return(this._activeBatchers[ee]);this._activeBatchers.length=0}_initContextRenderData(ee){const te=BigPool.get(GraphicsContextRenderData),{batches:se,geometryData:ne}=this._gpuContextHash[ee.uid],le=ne.vertices.length,ue=ne.indices.length;for(let _e=0;_e<se.length;_e++)se[_e].applyTransform=!1;const ce=BigPool.get(Batcher);this._activeBatchers.push(ce),ce.ensureAttributeBuffer(le),ce.ensureIndexBuffer(ue),ce.begin();for(let _e=0;_e<se.length;_e++){const fe=se[_e];ce.add(fe)}ce.finish(te.instructions);const he=te.geometry;he.indexBuffer.setDataWithSize(ce.indexBuffer,ce.indexSize,!0),he.buffers[0].setDataWithSize(ce.attributeBuffer.float32View,ce.attributeSize,!0);const de=ce.batches;for(let _e=0;_e<de.length;_e++){const fe=de[_e];fe.bindGroup=getTextureBatchBindGroup(fe.textures.textures,fe.textures.count)}return this._graphicsDataContextHash[ee.uid]=te,te}_initContext(ee){const te=new GpuGraphicsContext;return this._gpuContextHash[ee.uid]=te,ee.on("update",this.onGraphicsContextUpdate,this),ee.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[ee.uid]}onGraphicsContextUpdate(ee){this._needsContextNeedsRebuild.push(ee)}onGraphicsContextDestroy(ee){this._cleanGraphicsContextData(ee),ee.off("update",this.onGraphicsContextUpdate,this),ee.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[ee.uid]=null}_cleanGraphicsContextData(ee){const te=this._gpuContextHash[ee.uid];te.isBatchable||this._graphicsDataContextHash[ee.uid]&&(BigPool.return(this.getContextRenderData(ee)),this._graphicsDataContextHash[ee.uid]=null),te.batches&&te.batches.forEach(se=>{BigPool.return(se)})}destroy(){for(const ee of this._needsContextNeedsRebuild)this._gpuContextHash[ee.uid]&&this.onGraphicsContextDestroy(ee);this._needsContextNeedsRebuild.length=0}};_GraphicsContextSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"graphicsContext"},_GraphicsContextSystem.defaultOptions={bezierSmoothness:.5};let GraphicsContextSystem=_GraphicsContextSystem;const RECURSION_LIMIT$1=8,FLT_EPSILON$1=11920929e-14,PATH_DISTANCE_EPSILON$1=1;function buildAdaptiveBezier(ie,ee,te,se,ne,le,ue,ce,he,de){const fe=Math.min(.99,Math.max(0,de??GraphicsContextSystem.defaultOptions.bezierSmoothness));let ye=(PATH_DISTANCE_EPSILON$1-fe)/1;return ye*=ye,begin$1(ee,te,se,ne,le,ue,ce,he,ie,ye),ie}function begin$1(ie,ee,te,se,ne,le,ue,ce,he,de){recursive$1(ie,ee,te,se,ne,le,ue,ce,he,de,0),he.push(ue,ce)}function recursive$1(ie,ee,te,se,ne,le,ue,ce,he,de,_e){if(_e>RECURSION_LIMIT$1)return;const fe=(ie+te)/2,ye=(ee+se)/2,be=(te+ne)/2,Pe=(se+le)/2,Ne=(ne+ue)/2,we=(le+ce)/2,De=(fe+be)/2,$e=(ye+Pe)/2,Ge=(be+Ne)/2,Be=(Pe+we)/2,ze=(De+Ge)/2,$t=($e+Be)/2;if(_e>0){let ut=ue-ie,Ti=ce-ee;const Hi=Math.abs((te-ue)*Ti-(se-ce)*ut),bn=Math.abs((ne-ue)*Ti-(le-ce)*ut);if(Hi>FLT_EPSILON$1&&bn>FLT_EPSILON$1){if((Hi+bn)*(Hi+bn)<=de*(ut*ut+Ti*Ti)){he.push(ze,$t);return}}else if(Hi>FLT_EPSILON$1){if(Hi*Hi<=de*(ut*ut+Ti*Ti)){he.push(ze,$t);return}}else if(bn>FLT_EPSILON$1){if(bn*bn<=de*(ut*ut+Ti*Ti)){he.push(ze,$t);return}}else if(ut=ze-(ie+ue)/2,Ti=$t-(ee+ce)/2,ut*ut+Ti*Ti<=de){he.push(ze,$t);return}}recursive$1(ie,ee,fe,ye,De,$e,ze,$t,he,de,_e+1),recursive$1(ze,$t,Ge,Be,Ne,we,ue,ce,he,de,_e+1)}const RECURSION_LIMIT=8,FLT_EPSILON=11920929e-14,PATH_DISTANCE_EPSILON=1;function buildAdaptiveQuadratic(ie,ee,te,se,ne,le,ue,ce){const de=Math.min(.99,Math.max(0,ce??GraphicsContextSystem.defaultOptions.bezierSmoothness));let _e=(PATH_DISTANCE_EPSILON-de)/1;return _e*=_e,begin(ee,te,se,ne,le,ue,ie,_e),ie}function begin(ie,ee,te,se,ne,le,ue,ce){recursive(ue,ie,ee,te,se,ne,le,ce,0),ue.push(ne,le)}function recursive(ie,ee,te,se,ne,le,ue,ce,he){if(he>RECURSION_LIMIT)return;const de=(ee+se)/2,_e=(te+ne)/2,fe=(se+le)/2,ye=(ne+ue)/2,be=(de+fe)/2,Pe=(_e+ye)/2;let Ne=le-ee,we=ue-te;const De=Math.abs((se-le)*we-(ne-ue)*Ne);if(De>FLT_EPSILON){if(De*De<=ce*(Ne*Ne+we*we)){ie.push(be,Pe);return}}else if(Ne=be-(ee+le)/2,we=Pe-(te+ue)/2,Ne*Ne+we*we<=ce){ie.push(be,Pe);return}recursive(ie,ee,te,de,_e,be,Pe,ce,he+1),recursive(ie,be,Pe,fe,ye,le,ue,ce,he+1)}function buildArc(ie,ee,te,se,ne,le,ue,ce){let he=Math.abs(ne-le);(!ue&&ne>le||ue&&le>ne)&&(he=2*Math.PI-he),ce=ce||Math.max(6,Math.floor(6*Math.pow(se,1/3)*(he/Math.PI))),ce=Math.max(ce,3);let de=he/ce,_e=ne;de*=ue?-1:1;for(let fe=0;fe<ce+1;fe++){const ye=Math.cos(_e),be=Math.sin(_e),Pe=ee+ye*se,Ne=te+be*se;ie.push(Pe,Ne),_e+=de}}function buildArcTo(ie,ee,te,se,ne,le){const ue=ie[ie.length-2],he=ie[ie.length-1]-te,de=ue-ee,_e=ne-te,fe=se-ee,ye=Math.abs(he*fe-de*_e);if(ye<1e-8||le===0){(ie[ie.length-2]!==ee||ie[ie.length-1]!==te)&&ie.push(ee,te);return}const be=he*he+de*de,Pe=_e*_e+fe*fe,Ne=he*_e+de*fe,we=le*Math.sqrt(be)/ye,De=le*Math.sqrt(Pe)/ye,$e=we*Ne/be,Ge=De*Ne/Pe,Be=we*fe+De*de,ze=we*_e+De*he,$t=de*(De+$e),ut=he*(De+$e),Ti=fe*(we+Ge),Hi=_e*(we+Ge),bn=Math.atan2(ut-ze,$t-Be),gd=Math.atan2(Hi-ze,Ti-Be);buildArc(ie,Be+ee,ze+te,le,bn,gd,de*_e>fe*he)}const TAU=Math.PI*2,out={centerX:0,centerY:0,ang1:0,ang2:0},mapToEllipse=({x:ie,y:ee},te,se,ne,le,ue,ce,he)=>{ie*=te,ee*=se;const de=ne*ie-le*ee,_e=le*ie+ne*ee;return he.x=de+ue,he.y=_e+ce,he};function approxUnitArc(ie,ee){const te=ee===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(ee/4),se=ee===1.5707963267948966?.551915024494:te,ne=Math.cos(ie),le=Math.sin(ie),ue=Math.cos(ie+ee),ce=Math.sin(ie+ee);return[{x:ne-le*se,y:le+ne*se},{x:ue+ce*se,y:ce-ue*se},{x:ue,y:ce}]}const vectorAngle=(ie,ee,te,se)=>{const ne=ie*se-ee*te<0?-1:1;let le=ie*te+ee*se;return le>1&&(le=1),le<-1&&(le=-1),ne*Math.acos(le)},getArcCenter=(ie,ee,te,se,ne,le,ue,ce,he,de,_e,fe,ye)=>{const be=Math.pow(ne,2),Pe=Math.pow(le,2),Ne=Math.pow(_e,2),we=Math.pow(fe,2);let De=be*Pe-be*we-Pe*Ne;De<0&&(De=0),De/=be*we+Pe*Ne,De=Math.sqrt(De)*(ue===ce?-1:1);const $e=De*ne/le*fe,Ge=De*-le/ne*_e,Be=de*$e-he*Ge+(ie+te)/2,ze=he*$e+de*Ge+(ee+se)/2,$t=(_e-$e)/ne,ut=(fe-Ge)/le,Ti=(-_e-$e)/ne,Hi=(-fe-Ge)/le,bn=vectorAngle(1,0,$t,ut);let gd=vectorAngle($t,ut,Ti,Hi);ce===0&&gd>0&&(gd-=TAU),ce===1&&gd<0&&(gd+=TAU),ye.centerX=Be,ye.centerY=ze,ye.ang1=bn,ye.ang2=gd};function buildArcToSvg(ie,ee,te,se,ne,le,ue,ce=0,he=0,de=0){if(le===0||ue===0)return;const _e=Math.sin(ce*TAU/360),fe=Math.cos(ce*TAU/360),ye=fe*(ee-se)/2+_e*(te-ne)/2,be=-_e*(ee-se)/2+fe*(te-ne)/2;if(ye===0&&be===0)return;le=Math.abs(le),ue=Math.abs(ue);const Pe=Math.pow(ye,2)/Math.pow(le,2)+Math.pow(be,2)/Math.pow(ue,2);Pe>1&&(le*=Math.sqrt(Pe),ue*=Math.sqrt(Pe)),getArcCenter(ee,te,se,ne,le,ue,he,de,_e,fe,ye,be,out);let{ang1:Ne,ang2:we}=out;const{centerX:De,centerY:$e}=out;let Ge=Math.abs(we)/(TAU/4);Math.abs(1-Ge)<1e-7&&(Ge=1);const Be=Math.max(Math.ceil(Ge),1);we/=Be;let ze=ie[ie.length-2],$t=ie[ie.length-1];const ut={x:0,y:0};for(let Ti=0;Ti<Be;Ti++){const Hi=approxUnitArc(Ne,we),{x:bn,y:gd}=mapToEllipse(Hi[0],le,ue,fe,_e,De,$e,ut),{x:Pm,y:oE}=mapToEllipse(Hi[1],le,ue,fe,_e,De,$e,ut),{x:aE,y:nE}=mapToEllipse(Hi[2],le,ue,fe,_e,De,$e,ut);buildAdaptiveBezier(ie,ze,$t,bn,gd,Pm,oE,aE,nE),ze=aE,$t=nE,Ne+=we}}function roundedShapeArc(ie,ee,te){const se=(ue,ce)=>{const he=ce.x-ue.x,de=ce.y-ue.y,_e=Math.sqrt(he*he+de*de),fe=he/_e,ye=de/_e;return{len:_e,nx:fe,ny:ye}},ne=(ue,ce)=>{ue===0?ie.moveTo(ce.x,ce.y):ie.lineTo(ce.x,ce.y)};let le=ee[ee.length-1];for(let ue=0;ue<ee.length;ue++){const ce=ee[ue%ee.length],he=ce.radius??te;if(he<=0){ne(ue,ce),le=ce;continue}const de=ee[(ue+1)%ee.length],_e=se(ce,le),fe=se(ce,de);if(_e.len<1e-4||fe.len<1e-4){ne(ue,ce),le=ce;continue}let ye=Math.asin(_e.nx*fe.ny-_e.ny*fe.nx),be=1,Pe=!1;_e.nx*fe.nx-_e.ny*-fe.ny<0?ye<0?ye=Math.PI+ye:(ye=Math.PI-ye,be=-1,Pe=!0):ye>0&&(be=-1,Pe=!0);const Ne=ye/2;let we,De=Math.abs(Math.cos(Ne)*he/Math.sin(Ne));De>Math.min(_e.len/2,fe.len/2)?(De=Math.min(_e.len/2,fe.len/2),we=Math.abs(De*Math.sin(Ne)/Math.cos(Ne))):we=he;const $e=ce.x+fe.nx*De+-fe.ny*we*be,Ge=ce.y+fe.ny*De+fe.nx*we*be,Be=Math.atan2(_e.ny,_e.nx)+Math.PI/2*be,ze=Math.atan2(fe.ny,fe.nx)-Math.PI/2*be;ue===0&&ie.moveTo($e+Math.cos(Be)*we,Ge+Math.sin(Be)*we),ie.arc($e,Ge,we,Be,ze,Pe),le=ce}}function roundedShapeQuadraticCurve(ie,ee,te,se){const ne=(ce,he)=>Math.sqrt((ce.x-he.x)**2+(ce.y-he.y)**2),le=(ce,he,de)=>({x:ce.x+(he.x-ce.x)*de,y:ce.y+(he.y-ce.y)*de}),ue=ee.length;for(let ce=0;ce<ue;ce++){const he=ee[(ce+1)%ue],de=he.radius??te;if(de<=0){ce===0?ie.moveTo(he.x,he.y):ie.lineTo(he.x,he.y);continue}const _e=ee[ce],fe=ee[(ce+2)%ue],ye=ne(_e,he);let be;if(ye<1e-4)be=he;else{const we=Math.min(ye/2,de);be=le(he,_e,we/ye)}const Pe=ne(fe,he);let Ne;if(Pe<1e-4)Ne=he;else{const we=Math.min(Pe/2,de);Ne=le(he,fe,we/Pe)}ce===0?ie.moveTo(be.x,be.y):ie.lineTo(be.x,be.y),ie.quadraticCurveTo(he.x,he.y,Ne.x,Ne.y,se)}}const tempRectangle=new Rectangle;class ShapePath{constructor(ee){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Bounds,this._graphicsPath2D=ee}moveTo(ee,te){return this.startPoly(ee,te),this}lineTo(ee,te){this._ensurePoly();const se=this._currentPoly.points,ne=se[se.length-2],le=se[se.length-1];return(ne!==ee||le!==te)&&se.push(ee,te),this}arc(ee,te,se,ne,le,ue){this._ensurePoly(!1);const ce=this._currentPoly.points;return buildArc(ce,ee,te,se,ne,le,ue),this}arcTo(ee,te,se,ne,le){this._ensurePoly();const ue=this._currentPoly.points;return buildArcTo(ue,ee,te,se,ne,le),this}arcToSvg(ee,te,se,ne,le,ue,ce){const he=this._currentPoly.points;return buildArcToSvg(he,this._currentPoly.lastX,this._currentPoly.lastY,ue,ce,ee,te,se,ne,le),this}bezierCurveTo(ee,te,se,ne,le,ue,ce){this._ensurePoly();const he=this._currentPoly;return buildAdaptiveBezier(this._currentPoly.points,he.lastX,he.lastY,ee,te,se,ne,le,ue,ce),this}quadraticCurveTo(ee,te,se,ne,le){this._ensurePoly();const ue=this._currentPoly;return buildAdaptiveQuadratic(this._currentPoly.points,ue.lastX,ue.lastY,ee,te,se,ne,le),this}closePath(){return this.endPoly(!0),this}addPath(ee,te){this.endPoly(),te&&!te.isIdentity()&&(ee=ee.clone(!0),ee.transform(te));for(let se=0;se<ee.instructions.length;se++){const ne=ee.instructions[se];this[ne.action](...ne.data)}return this}finish(ee=!1){this.endPoly(ee)}rect(ee,te,se,ne,le){return this.drawShape(new Rectangle(ee,te,se,ne),le),this}circle(ee,te,se,ne){return this.drawShape(new Circle(ee,te,se),ne),this}poly(ee,te,se){const ne=new Polygon(ee);return ne.closePath=te,this.drawShape(ne,se),this}regularPoly(ee,te,se,ne,le=0,ue){ne=Math.max(ne|0,3);const ce=-1*Math.PI/2+le,he=Math.PI*2/ne,de=[];for(let _e=0;_e<ne;_e++){const fe=_e*he+ce;de.push(ee+se*Math.cos(fe),te+se*Math.sin(fe))}return this.poly(de,!0,ue),this}roundPoly(ee,te,se,ne,le,ue=0,ce){if(ne=Math.max(ne|0,3),le<=0)return this.regularPoly(ee,te,se,ne,ue);const he=se*Math.sin(Math.PI/ne)-.001;le=Math.min(le,he);const de=-1*Math.PI/2+ue,_e=Math.PI*2/ne,fe=(ne-2)*Math.PI/ne/2;for(let ye=0;ye<ne;ye++){const be=ye*_e+de,Pe=ee+se*Math.cos(be),Ne=te+se*Math.sin(be),we=be+Math.PI+fe,De=be-Math.PI-fe,$e=Pe+le*Math.cos(we),Ge=Ne+le*Math.sin(we),Be=Pe+le*Math.cos(De),ze=Ne+le*Math.sin(De);ye===0?this.moveTo($e,Ge):this.lineTo($e,Ge),this.quadraticCurveTo(Pe,Ne,Be,ze,ce)}return this.closePath()}roundShape(ee,te,se=!1,ne){return ee.length<3?this:(se?roundedShapeQuadraticCurve(this,ee,te,ne):roundedShapeArc(this,ee,te),this.closePath())}filletRect(ee,te,se,ne,le){if(le===0)return this.rect(ee,te,se,ne);const ue=Math.min(se,ne)/2,ce=Math.min(ue,Math.max(-ue,le)),he=ee+se,de=te+ne,_e=ce<0?-ce:0,fe=Math.abs(ce);return this.moveTo(ee,te+fe).arcTo(ee+_e,te+_e,ee+fe,te,fe).lineTo(he-fe,te).arcTo(he-_e,te+_e,he,te+fe,fe).lineTo(he,de-fe).arcTo(he-_e,de-_e,ee+se-fe,de,fe).lineTo(ee+fe,de).arcTo(ee+_e,de-_e,ee,de-fe,fe).closePath()}chamferRect(ee,te,se,ne,le,ue){if(le<=0)return this.rect(ee,te,se,ne);const ce=Math.min(le,Math.min(se,ne)/2),he=ee+se,de=te+ne,_e=[ee+ce,te,he-ce,te,he,te+ce,he,de-ce,he-ce,de,ee+ce,de,ee,de-ce,ee,te+ce];for(let fe=_e.length-1;fe>=2;fe-=2)_e[fe]===_e[fe-2]&&_e[fe-1]===_e[fe-3]&&_e.splice(fe-1,2);return this.poly(_e,!0,ue)}ellipse(ee,te,se,ne,le){return this.drawShape(new Ellipse(ee,te,se,ne),le),this}roundRect(ee,te,se,ne,le,ue){return this.drawShape(new RoundedRectangle(ee,te,se,ne,le),ue),this}drawShape(ee,te){return this.endPoly(),this.shapePrimitives.push({shape:ee,transform:te}),this}startPoly(ee,te){let se=this._currentPoly;return se&&this.endPoly(),se=new Polygon,se.points.push(ee,te),this._currentPoly=se,this}endPoly(ee=!1){const te=this._currentPoly;return te&&te.points.length>2&&(te.closePath=ee,this.shapePrimitives.push({shape:te})),this._currentPoly=null,this}_ensurePoly(ee=!0){if(!this._currentPoly&&(this._currentPoly=new Polygon,ee)){const te=this.shapePrimitives[this.shapePrimitives.length-1];if(te){let se=te.shape.x,ne=te.shape.y;if(!te.transform.isIdentity()){const le=te.transform,ue=se;se=le.a*se+le.c*ne+le.tx,ne=le.b*ue+le.d*ne+le.ty}this._currentPoly.points.push(se,ne)}else this._currentPoly.points.push(0,0)}}buildPath(){const ee=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let te=0;te<ee.instructions.length;te++){const se=ee.instructions[te];this[se.action](...se.data)}this.finish()}get bounds(){const ee=this._bounds;ee.clear();const te=this.shapePrimitives;for(let se=0;se<te.length;se++){const ne=te[se],le=ne.shape.getBounds(tempRectangle);ne.transform?ee.addRect(le,ne.transform):ee.addRect(le)}return ee}}class GraphicsPath{constructor(ee){this.instructions=[],this.uid=uid("graphicsPath"),this._dirty=!0,typeof ee=="string"?SVGToGraphicsPath(ee,this):this.instructions=(ee==null?void 0:ee.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new ShapePath(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(ee,te){return ee=ee.clone(),this.instructions.push({action:"addPath",data:[ee,te]}),this._dirty=!0,this}arc(...ee){return this.instructions.push({action:"arc",data:ee}),this._dirty=!0,this}arcTo(...ee){return this.instructions.push({action:"arcTo",data:ee}),this._dirty=!0,this}arcToSvg(...ee){return this.instructions.push({action:"arcToSvg",data:ee}),this._dirty=!0,this}bezierCurveTo(...ee){return this.instructions.push({action:"bezierCurveTo",data:ee}),this._dirty=!0,this}bezierCurveToShort(ee,te,se,ne,le){const ue=this.instructions[this.instructions.length-1],ce=this.getLastPoint(Point.shared);let he=0,de=0;if(!ue||ue.action!=="bezierCurveTo")he=ce.x,de=ce.y;else{he=ue.data[2],de=ue.data[3];const _e=ce.x,fe=ce.y;he=_e+(_e-he),de=fe+(fe-de)}return this.instructions.push({action:"bezierCurveTo",data:[he,de,ee,te,se,ne,le]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...ee){return this.instructions.push({action:"ellipse",data:ee}),this._dirty=!0,this}lineTo(...ee){return this.instructions.push({action:"lineTo",data:ee}),this._dirty=!0,this}moveTo(...ee){return this.instructions.push({action:"moveTo",data:ee}),this}quadraticCurveTo(...ee){return this.instructions.push({action:"quadraticCurveTo",data:ee}),this._dirty=!0,this}quadraticCurveToShort(ee,te,se){const ne=this.instructions[this.instructions.length-1],le=this.getLastPoint(Point.shared);let ue=0,ce=0;if(!ne||ne.action!=="quadraticCurveTo")ue=le.x,ce=le.y;else{ue=ne.data[0],ce=ne.data[1];const he=le.x,de=le.y;ue=he+(he-ue),ce=de+(de-ce)}return this.instructions.push({action:"quadraticCurveTo",data:[ue,ce,ee,te,se]}),this._dirty=!0,this}rect(ee,te,se,ne,le){return this.instructions.push({action:"rect",data:[ee,te,se,ne,le]}),this._dirty=!0,this}circle(ee,te,se,ne){return this.instructions.push({action:"circle",data:[ee,te,se,ne]}),this._dirty=!0,this}roundRect(...ee){return this.instructions.push({action:"roundRect",data:ee}),this._dirty=!0,this}poly(...ee){return this.instructions.push({action:"poly",data:ee}),this._dirty=!0,this}regularPoly(...ee){return this.instructions.push({action:"regularPoly",data:ee}),this._dirty=!0,this}roundPoly(...ee){return this.instructions.push({action:"roundPoly",data:ee}),this._dirty=!0,this}roundShape(...ee){return this.instructions.push({action:"roundShape",data:ee}),this._dirty=!0,this}filletRect(...ee){return this.instructions.push({action:"filletRect",data:ee}),this._dirty=!0,this}chamferRect(...ee){return this.instructions.push({action:"chamferRect",data:ee}),this._dirty=!0,this}star(ee,te,se,ne,le,ue,ce){le=le||ne/2;const he=-1*Math.PI/2+ue,de=se*2,_e=Math.PI*2/de,fe=[];for(let ye=0;ye<de;ye++){const be=ye%2?le:ne,Pe=ye*_e+he;fe.push(ee+be*Math.cos(Pe),te+be*Math.sin(Pe))}return this.poly(fe,!0,ce),this}clone(ee=!1){const te=new GraphicsPath;if(!ee)te.instructions=this.instructions.slice();else for(let se=0;se<this.instructions.length;se++){const ne=this.instructions[se];te.instructions.push({action:ne.action,data:ne.data.slice()})}return te}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(ee){if(ee.isIdentity())return this;const te=ee.a,se=ee.b,ne=ee.c,le=ee.d,ue=ee.tx,ce=ee.ty;let he=0,de=0,_e=0,fe=0,ye=0,be=0,Pe=0,Ne=0;for(let we=0;we<this.instructions.length;we++){const De=this.instructions[we],$e=De.data;switch(De.action){case"moveTo":case"lineTo":he=$e[0],de=$e[1],$e[0]=te*he+ne*de+ue,$e[1]=se*he+le*de+ce;break;case"bezierCurveTo":_e=$e[0],fe=$e[1],ye=$e[2],be=$e[3],he=$e[4],de=$e[5],$e[0]=te*_e+ne*fe+ue,$e[1]=se*_e+le*fe+ce,$e[2]=te*ye+ne*be+ue,$e[3]=se*ye+le*be+ce,$e[4]=te*he+ne*de+ue,$e[5]=se*he+le*de+ce;break;case"quadraticCurveTo":_e=$e[0],fe=$e[1],he=$e[2],de=$e[3],$e[0]=te*_e+ne*fe+ue,$e[1]=se*_e+le*fe+ce,$e[2]=te*he+ne*de+ue,$e[3]=se*he+le*de+ce;break;case"arcToSvg":he=$e[5],de=$e[6],Pe=$e[0],Ne=$e[1],$e[0]=te*Pe+ne*Ne,$e[1]=se*Pe+le*Ne,$e[5]=te*he+ne*de+ue,$e[6]=se*he+le*de+ce;break;case"circle":$e[4]=adjustTransform($e[3],ee);break;case"rect":$e[4]=adjustTransform($e[4],ee);break;case"ellipse":$e[8]=adjustTransform($e[8],ee);break;case"roundRect":$e[5]=adjustTransform($e[5],ee);break;case"addPath":$e[0].transform(ee);break;case"poly":$e[2]=adjustTransform($e[2],ee);break;default:warn("unknown transform action",De.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(ee){let te=this.instructions.length-1,se=this.instructions[te];if(!se)return ee.x=0,ee.y=0,ee;for(;se.action==="closePath";){if(te--,te<0)return ee.x=0,ee.y=0,ee;se=this.instructions[te]}switch(se.action){case"moveTo":case"lineTo":ee.x=se.data[0],ee.y=se.data[1];break;case"quadraticCurveTo":ee.x=se.data[2],ee.y=se.data[3];break;case"bezierCurveTo":ee.x=se.data[4],ee.y=se.data[5];break;case"arc":case"arcToSvg":ee.x=se.data[5],ee.y=se.data[6];break;case"addPath":se.data[0].getLastPoint(ee);break}return ee}}function adjustTransform(ie,ee){return ie?ie.prepend(ee):ee.clone()}function SVGParser(ie,ee){if(typeof ie=="string"){const se=document.createElement("div");se.innerHTML=ie.trim(),ie=se.querySelector("svg")}const te={context:ee,path:new GraphicsPath};return renderChildren(ie,te,null,null),ee}function renderChildren(ie,ee,te,se){const ne=ie.children,{fillStyle:le,strokeStyle:ue}=parseStyle(ie);le&&te?te={...te,...le}:le&&(te=le),ue&&se?se={...se,...ue}:ue&&(se=ue),ee.context.fillStyle=te,ee.context.strokeStyle=se;let ce,he,de,_e,fe,ye,be,Pe,Ne,we,De,$e,Ge,Be,ze,$t,ut;switch(ie.nodeName.toLowerCase()){case"path":Be=ie.getAttribute("d"),ze=new GraphicsPath(Be),ee.context.path(ze),te&&ee.context.fill(),se&&ee.context.stroke();break;case"circle":be=parseFloatAttribute(ie,"cx",0),Pe=parseFloatAttribute(ie,"cy",0),Ne=parseFloatAttribute(ie,"r",0),ee.context.ellipse(be,Pe,Ne,Ne),te&&ee.context.fill(),se&&ee.context.stroke();break;case"rect":ce=parseFloatAttribute(ie,"x",0),he=parseFloatAttribute(ie,"y",0),$t=parseFloatAttribute(ie,"width",0),ut=parseFloatAttribute(ie,"height",0),we=parseFloatAttribute(ie,"rx",0),De=parseFloatAttribute(ie,"ry",0),we||De?ee.context.roundRect(ce,he,$t,ut,we||De):ee.context.rect(ce,he,$t,ut),te&&ee.context.fill(),se&&ee.context.stroke();break;case"ellipse":be=parseFloatAttribute(ie,"cx",0),Pe=parseFloatAttribute(ie,"cy",0),we=parseFloatAttribute(ie,"rx",0),De=parseFloatAttribute(ie,"ry",0),ee.context.beginPath(),ee.context.ellipse(be,Pe,we,De),te&&ee.context.fill(),se&&ee.context.stroke();break;case"line":de=parseFloatAttribute(ie,"x1",0),_e=parseFloatAttribute(ie,"y1",0),fe=parseFloatAttribute(ie,"x2",0),ye=parseFloatAttribute(ie,"y2",0),ee.context.beginPath(),ee.context.moveTo(de,_e),ee.context.lineTo(fe,ye),se&&ee.context.stroke();break;case"polygon":Ge=ie.getAttribute("points"),$e=Ge.match(/\d+/g).map(Ti=>parseInt(Ti,10)),ee.context.poly($e,!0),te&&ee.context.fill(),se&&ee.context.stroke();break;case"polyline":Ge=ie.getAttribute("points"),$e=Ge.match(/\d+/g).map(Ti=>parseInt(Ti,10)),ee.context.poly($e,!1),se&&ee.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${ie.nodeName}> elements unsupported`);break}}for(let Ti=0;Ti<ne.length;Ti++)renderChildren(ne[Ti],ee,te,se)}function parseFloatAttribute(ie,ee,te){const se=ie.getAttribute(ee);return se?Number(se):te}function parseStyle(ie){const ee=ie.getAttribute("style"),te={},se={};let ne=!1,le=!1;if(ee){const ue=ee.split(";");for(let ce=0;ce<ue.length;ce++){const he=ue[ce],[de,_e]=he.split(":");switch(de){case"stroke":_e!=="none"&&(te.color=Color.shared.setValue(_e).toNumber(),le=!0);break;case"stroke-width":te.width=Number(_e);break;case"fill":_e!=="none"&&(ne=!0,se.color=Color.shared.setValue(_e).toNumber());break;case"fill-opacity":se.alpha=Number(_e);break;case"stroke-opacity":te.alpha=Number(_e);break;case"opacity":se.alpha=Number(_e),te.alpha=Number(_e);break}}}else{const ue=ie.getAttribute("stroke");ue&&ue!=="none"&&(le=!0,te.color=Color.shared.setValue(ue).toNumber(),te.width=parseFloatAttribute(ie,"stroke-width",1));const ce=ie.getAttribute("fill");ce&&ce!=="none"&&(ne=!0,se.color=Color.shared.setValue(ce).toNumber())}return{strokeStyle:le?te:null,fillStyle:ne?se:null}}const _FillGradient=class gj{constructor(ee,te,se,ne){this.uid=uid("fillGradient"),this.type="linear",this.gradientStops=[],this.x0=ee,this.y0=te,this.x1=se,this.y1=ne}addColorStop(ee,te){return this.gradientStops.push({offset:ee,color:Color.shared.setValue(te).toHex()}),this}buildLinearGradient(){const ee=gj.defaultTextureSize,{gradientStops:te}=this,se=DOMAdapter.get().createCanvas();se.width=ee,se.height=ee;const ne=se.getContext("2d"),le=ne.createLinearGradient(0,0,gj.defaultTextureSize,1);for(let Ne=0;Ne<te.length;Ne++){const we=te[Ne];le.addColorStop(we.offset,we.color)}ne.fillStyle=le,ne.fillRect(0,0,ee,ee),this.texture=new Texture({source:new ImageSource({resource:se,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:ue,y0:ce,x1:he,y1:de}=this,_e=new Matrix,fe=he-ue,ye=de-ce,be=Math.sqrt(fe*fe+ye*ye),Pe=Math.atan2(ye,fe);_e.translate(-ue,-ce),_e.scale(1/ee,1/ee),_e.rotate(-Pe),_e.scale(256/be,1),this.transform=_e}};_FillGradient.defaultTextureSize=256;let FillGradient=_FillGradient;const repetitionMap={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class FillPattern{constructor(ee,te){this.uid=uid("fillPattern"),this.transform=new Matrix,this.texture=ee,this.transform.scale(1/ee.frame.width,1/ee.frame.height),te&&(ee.source.style.addressModeU=repetitionMap[te].addressModeU,ee.source.style.addressModeV=repetitionMap[te].addressModeV)}setTransform(ee){const te=this.texture;this.transform.copyFrom(ee),this.transform.invert(),this.transform.scale(1/te.frame.width,1/te.frame.height)}}function convertFillInputToFillStyle(ie,ee){var ue;if(ie==null)return null;let te,se;if(ie!=null&&ie.fill?(se=ie.fill,te={...ee,...ie}):(se=ie,te=ee),Color.isColorLike(se)){const ce=Color.shared.setValue(se??0);return{...te,color:ce.toNumber(),alpha:ce.alpha===1?te.alpha:ce.alpha,texture:Texture.WHITE}}else if(se instanceof FillPattern){const ce=se;return{...te,color:16777215,texture:ce.texture,matrix:ce.transform,fill:te.fill??null}}else if(se instanceof FillGradient){const ce=se;return ce.buildLinearGradient(),{...te,color:16777215,texture:ce.texture,matrix:ce.transform}}const ne={...ee,...ie};if(ne.texture){if(ne.texture!==Texture.WHITE){const he=((ue=ne.matrix)==null?void 0:ue.invert())||new Matrix;he.scale(1/ne.texture.frame.width,1/ne.texture.frame.height),ne.matrix=he}const ce=ne.texture.source.style;ce.addressMode==="clamp-to-edge"&&(ce.addressMode="repeat")}const le=Color.shared.setValue(ne.color);return ne.alpha*=le.alpha,ne.color=le.toNumber(),ne.matrix=ne.matrix?ne.matrix.clone():null,ne}const tmpPoint=new Point,tempMatrix$2=new Matrix,_GraphicsContext=class JC extends EventEmitter{constructor(){super(...arguments),this.uid=uid("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new GraphicsPath,this._transform=new Matrix,this._fillStyle={...JC.defaultFillStyle},this._strokeStyle={...JC.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Bounds,this._boundsDirty=!0}clone(){const ee=new JC;return ee.batchMode=this.batchMode,ee.instructions=this.instructions.slice(),ee._activePath=this._activePath.clone(),ee._transform=this._transform.clone(),ee._fillStyle={...this._fillStyle},ee._strokeStyle={...this._strokeStyle},ee._stateStack=this._stateStack.slice(),ee._bounds=this._bounds.clone(),ee._boundsDirty=!0,ee}get fillStyle(){return this._fillStyle}set fillStyle(ee){this._fillStyle=convertFillInputToFillStyle(ee,JC.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(ee){this._strokeStyle=convertFillInputToFillStyle(ee,JC.defaultStrokeStyle)}setFillStyle(ee){return this._fillStyle=convertFillInputToFillStyle(ee,JC.defaultFillStyle),this}setStrokeStyle(ee){return this._strokeStyle=convertFillInputToFillStyle(ee,JC.defaultStrokeStyle),this}texture(ee,te,se,ne,le,ue){return this.instructions.push({action:"texture",data:{image:ee,dx:se||0,dy:ne||0,dw:le||ee.frame.width,dh:ue||ee.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:te?Color.shared.setValue(te).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new GraphicsPath,this}fill(ee,te){let se;const ne=this.instructions[this.instructions.length-1];return this._tick===0&&ne&&ne.action==="stroke"?se=ne.data.path:se=this._activePath.clone(),se?(ee!=null&&(te!==void 0&&typeof ee=="number"&&(deprecation(v8_0_0,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),ee={color:ee,alpha:te}),this._fillStyle=convertFillInputToFillStyle(ee,JC.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:se}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:ee,y:te}=this._activePath.getLastPoint(Point.shared);this._activePath.clear(),this._activePath.moveTo(ee,te)}stroke(ee){let te;const se=this.instructions[this.instructions.length-1];return this._tick===0&&se&&se.action==="fill"?te=se.data.path:te=this._activePath.clone(),te?(ee!=null&&(this._strokeStyle=convertFillInputToFillStyle(ee,JC.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:te}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let ee=0;ee<2;ee++){const te=this.instructions[this.instructions.length-1-ee],se=this._activePath.clone();if(te&&(te.action==="stroke"||te.action==="fill"))if(te.data.hole)te.data.hole.addPath(se);else{te.data.hole=se;break}}return this._initNextPathLocation(),this}arc(ee,te,se,ne,le,ue){this._tick++;const ce=this._transform;return this._activePath.arc(ce.a*ee+ce.c*te+ce.tx,ce.b*ee+ce.d*te+ce.ty,se,ne,le,ue),this}arcTo(ee,te,se,ne,le){this._tick++;const ue=this._transform;return this._activePath.arcTo(ue.a*ee+ue.c*te+ue.tx,ue.b*ee+ue.d*te+ue.ty,ue.a*se+ue.c*ne+ue.tx,ue.b*se+ue.d*ne+ue.ty,le),this}arcToSvg(ee,te,se,ne,le,ue,ce){this._tick++;const he=this._transform;return this._activePath.arcToSvg(ee,te,se,ne,le,he.a*ue+he.c*ce+he.tx,he.b*ue+he.d*ce+he.ty),this}bezierCurveTo(ee,te,se,ne,le,ue,ce){this._tick++;const he=this._transform;return this._activePath.bezierCurveTo(he.a*ee+he.c*te+he.tx,he.b*ee+he.d*te+he.ty,he.a*se+he.c*ne+he.tx,he.b*se+he.d*ne+he.ty,he.a*le+he.c*ue+he.tx,he.b*le+he.d*ue+he.ty,ce),this}closePath(){var ee;return this._tick++,(ee=this._activePath)==null||ee.closePath(),this}ellipse(ee,te,se,ne){return this._tick++,this._activePath.ellipse(ee,te,se,ne,this._transform.clone()),this}circle(ee,te,se){return this._tick++,this._activePath.circle(ee,te,se,this._transform.clone()),this}path(ee){return this._tick++,this._activePath.addPath(ee,this._transform.clone()),this}lineTo(ee,te){this._tick++;const se=this._transform;return this._activePath.lineTo(se.a*ee+se.c*te+se.tx,se.b*ee+se.d*te+se.ty),this}moveTo(ee,te){this._tick++;const se=this._transform,ne=this._activePath.instructions,le=se.a*ee+se.c*te+se.tx,ue=se.b*ee+se.d*te+se.ty;return ne.length===1&&ne[0].action==="moveTo"?(ne[0].data[0]=le,ne[0].data[1]=ue,this):(this._activePath.moveTo(le,ue),this)}quadraticCurveTo(ee,te,se,ne,le){this._tick++;const ue=this._transform;return this._activePath.quadraticCurveTo(ue.a*ee+ue.c*te+ue.tx,ue.b*ee+ue.d*te+ue.ty,ue.a*se+ue.c*ne+ue.tx,ue.b*se+ue.d*ne+ue.ty,le),this}rect(ee,te,se,ne){return this._tick++,this._activePath.rect(ee,te,se,ne,this._transform.clone()),this}roundRect(ee,te,se,ne,le){return this._tick++,this._activePath.roundRect(ee,te,se,ne,le,this._transform.clone()),this}poly(ee,te){return this._tick++,this._activePath.poly(ee,te,this._transform.clone()),this}regularPoly(ee,te,se,ne,le=0,ue){return this._tick++,this._activePath.regularPoly(ee,te,se,ne,le,ue),this}roundPoly(ee,te,se,ne,le,ue){return this._tick++,this._activePath.roundPoly(ee,te,se,ne,le,ue),this}roundShape(ee,te,se,ne){return this._tick++,this._activePath.roundShape(ee,te,se,ne),this}filletRect(ee,te,se,ne,le){return this._tick++,this._activePath.filletRect(ee,te,se,ne,le),this}chamferRect(ee,te,se,ne,le,ue){return this._tick++,this._activePath.chamferRect(ee,te,se,ne,le,ue),this}star(ee,te,se,ne,le=0,ue=0){return this._tick++,this._activePath.star(ee,te,se,ne,le,ue,this._transform.clone()),this}svg(ee){return this._tick++,SVGParser(ee,this),this}restore(){const ee=this._stateStack.pop();return ee&&(this._transform=ee.transform,this._fillStyle=ee.fillStyle,this._strokeStyle=ee.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(ee){return this._transform.rotate(ee),this}scale(ee,te=ee){return this._transform.scale(ee,te),this}setTransform(ee,te,se,ne,le,ue){return ee instanceof Matrix?(this._transform.set(ee.a,ee.b,ee.c,ee.d,ee.tx,ee.ty),this):(this._transform.set(ee,te,se,ne,le,ue),this)}transform(ee,te,se,ne,le,ue){return ee instanceof Matrix?(this._transform.append(ee),this):(tempMatrix$2.set(ee,te,se,ne,le,ue),this._transform.append(tempMatrix$2),this)}translate(ee,te=ee){return this._transform.translate(ee,te),this}clear(){return this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const ee=this._bounds;ee.clear();for(let te=0;te<this.instructions.length;te++){const se=this.instructions[te],ne=se.action;if(ne==="fill"){const le=se.data;ee.addBounds(le.path.bounds)}else if(ne==="texture"){const le=se.data;ee.addFrame(le.dx,le.dy,le.dx+le.dw,le.dy+le.dh,le.transform)}if(ne==="stroke"){const le=se.data,ue=le.style.width/2,ce=le.path.bounds;ee.addFrame(ce.minX-ue,ce.minY-ue,ce.maxX+ue,ce.maxY+ue)}}return ee}containsPoint(ee){var ne;if(!this.bounds.containsPoint(ee.x,ee.y))return!1;const te=this.instructions;let se=!1;for(let le=0;le<te.length;le++){const ue=te[le],ce=ue.data,he=ce.path;if(!ue.action||!he)continue;const de=ce.style,_e=he.shapePath.shapePrimitives;for(let fe=0;fe<_e.length;fe++){const ye=_e[fe].shape;if(!de||!ye)continue;const be=_e[fe].transform,Pe=be?be.applyInverse(ee,tmpPoint):ee;ue.action==="fill"?se=ye.contains(Pe.x,Pe.y):se=ye.strokeContains(Pe.x,Pe.y,de.width);const Ne=ce.hole;if(Ne){const we=(ne=Ne.shapePath)==null?void 0:ne.shapePrimitives;if(we)for(let De=0;De<we.length;De++)we[De].shape.contains(Pe.x,Pe.y)&&(se=!1)}if(se)return!0}}return se}destroy(ee=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof ee=="boolean"?ee:ee==null?void 0:ee.texture){const se=typeof ee=="boolean"?ee:ee==null?void 0:ee.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(se),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(se)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};_GraphicsContext.defaultFillStyle={color:16777215,alpha:1,texture:Texture.WHITE,matrix:null,fill:null},_GraphicsContext.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Texture.WHITE,matrix:null,fill:null};let GraphicsContext=_GraphicsContext;class EventsTickerClass{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(ee){this.removeTickerListener(),this.events=ee,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(ee){this._pauseUpdate=ee}addTickerListener(){this._tickerAdded||!this.domElement||(Ticker.system.add(this._tickerUpdate,this,UPDATE_PRIORITY.INTERACTION),this._tickerAdded=!0)}removeTickerListener(){this._tickerAdded&&(Ticker.system.remove(this._tickerUpdate,this),this._tickerAdded=!1)}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const ee=this.events._rootPointerEvent;this.events.supportsTouchEvents&&ee.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:ee.clientX,clientY:ee.clientY}))}_tickerUpdate(ee){this._deltaTime+=ee.deltaTime,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this._update())}}const EventsTicker=new EventsTickerClass;class FederatedMouseEvent extends FederatedEvent{constructor(){super(...arguments),this.client=new Point,this.movement=new Point,this.offset=new Point,this.global=new Point,this.screen=new Point}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(ee,te,se){return ee.worldTransform.applyInverse(se||this.global,te)}getModifierState(ee){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(ee)}initMouseEvent(ee,te,se,ne,le,ue,ce,he,de,_e,fe,ye,be,Pe,Ne){throw new Error("Method not implemented.")}}class FederatedPointerEvent extends FederatedMouseEvent{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class FederatedWheelEvent extends FederatedMouseEvent{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}FederatedWheelEvent.DOM_DELTA_PIXEL=0,FederatedWheelEvent.DOM_DELTA_LINE=1,FederatedWheelEvent.DOM_DELTA_PAGE=2;const PROPAGATION_LIMIT=2048,tempHitLocation=new Point,tempLocalMapping=new Point;class EventBoundary{constructor(ee){this.dispatch=new EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=ee,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(ee,te){this.mappingTable[ee]||(this.mappingTable[ee]=[]),this.mappingTable[ee].push({fn:te,priority:0}),this.mappingTable[ee].sort((se,ne)=>se.priority-ne.priority)}dispatchEvent(ee,te){ee.propagationStopped=!1,ee.propagationImmediatelyStopped=!1,this.propagate(ee,te),this.dispatch.emit(te||ee.type,ee)}mapEvent(ee){if(!this.rootTarget)return;const te=this.mappingTable[ee.type];if(te)for(let se=0,ne=te.length;se<ne;se++)te[se].fn(ee);else warn(`[EventBoundary]: Event mapping not defined for ${ee.type}`)}hitTest(ee,te){EventsTicker.pauseUpdate=!0;const ne=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",le=this[ne](this.rootTarget,this.rootTarget.eventMode,tempHitLocation.set(ee,te),this.hitTestFn,this.hitPruneFn);return le&&le[0]}propagate(ee,te){if(!ee.target)return;const se=ee.composedPath();ee.eventPhase=ee.CAPTURING_PHASE;for(let ne=0,le=se.length-1;ne<le;ne++)if(ee.currentTarget=se[ne],this.notifyTarget(ee,te),ee.propagationStopped||ee.propagationImmediatelyStopped)return;if(ee.eventPhase=ee.AT_TARGET,ee.currentTarget=ee.target,this.notifyTarget(ee,te),!(ee.propagationStopped||ee.propagationImmediatelyStopped)){ee.eventPhase=ee.BUBBLING_PHASE;for(let ne=se.length-2;ne>=0;ne--)if(ee.currentTarget=se[ne],this.notifyTarget(ee,te),ee.propagationStopped||ee.propagationImmediatelyStopped)return}}all(ee,te,se=this._allInteractiveElements){if(se.length===0)return;ee.eventPhase=ee.BUBBLING_PHASE;const ne=Array.isArray(te)?te:[te];for(let le=se.length-1;le>=0;le--)ne.forEach(ue=>{ee.currentTarget=se[le],this.notifyTarget(ee,ue)})}propagationPath(ee){const te=[ee];for(let se=0;se<PROPAGATION_LIMIT&&ee!==this.rootTarget&&ee.parent;se++){if(!ee.parent)throw new Error("Cannot find propagation path to disconnected target");te.push(ee.parent),ee=ee.parent}return te.reverse(),te}hitTestMoveRecursive(ee,te,se,ne,le,ue=!1){let ce=!1;if(this._interactivePrune(ee))return null;if((ee.eventMode==="dynamic"||te==="dynamic")&&(EventsTicker.pauseUpdate=!1),ee.interactiveChildren&&ee.children){const _e=ee.children;for(let fe=_e.length-1;fe>=0;fe--){const ye=_e[fe],be=this.hitTestMoveRecursive(ye,this._isInteractive(te)?te:ye.eventMode,se,ne,le,ue||le(ee,se));if(be){if(be.length>0&&!be[be.length-1].parent)continue;const Pe=ee.isInteractive();(be.length>0||Pe)&&(Pe&&this._allInteractiveElements.push(ee),be.push(ee)),this._hitElements.length===0&&(this._hitElements=be),ce=!0}}}const he=this._isInteractive(te),de=ee.isInteractive();return de&&de&&this._allInteractiveElements.push(ee),ue||this._hitElements.length>0?null:ce?this._hitElements:he&&!le(ee,se)&&ne(ee,se)?de?[ee]:[]:null}hitTestRecursive(ee,te,se,ne,le){if(this._interactivePrune(ee)||le(ee,se))return null;if((ee.eventMode==="dynamic"||te==="dynamic")&&(EventsTicker.pauseUpdate=!1),ee.interactiveChildren&&ee.children){const he=ee.children,de=se;for(let _e=he.length-1;_e>=0;_e--){const fe=he[_e],ye=this.hitTestRecursive(fe,this._isInteractive(te)?te:fe.eventMode,de,ne,le);if(ye){if(ye.length>0&&!ye[ye.length-1].parent)continue;const be=ee.isInteractive();return(ye.length>0||be)&&ye.push(ee),ye}}}const ue=this._isInteractive(te),ce=ee.isInteractive();return ue&&ne(ee,se)?ce?[ee]:[]:null}_isInteractive(ee){return ee==="static"||ee==="dynamic"}_interactivePrune(ee){return!ee||!ee.visible||!ee.renderable||ee.eventMode==="none"||ee.eventMode==="passive"&&!ee.interactiveChildren}hitPruneFn(ee,te){if(ee.hitArea&&(ee.worldTransform.applyInverse(te,tempLocalMapping),!ee.hitArea.contains(tempLocalMapping.x,tempLocalMapping.y)))return!0;if(ee.effects&&ee.effects.length)for(let se=0;se<ee.effects.length;se++){const ne=ee.effects[se];if(ne.containsPoint&&!ne.containsPoint(te,this.hitTestFn))return!0}return!1}hitTestFn(ee,te){return ee.hitArea?!0:ee!=null&&ee.containsPoint?(ee.worldTransform.applyInverse(te,tempLocalMapping),ee.containsPoint(tempLocalMapping)):!1}notifyTarget(ee,te){var le,ue;te=te??ee.type;const se=`on${te}`;(ue=(le=ee.currentTarget)[se])==null||ue.call(le,ee);const ne=ee.eventPhase===ee.CAPTURING_PHASE||ee.eventPhase===ee.AT_TARGET?`${te}capture`:te;this._notifyListeners(ee,ne),ee.eventPhase===ee.AT_TARGET&&this._notifyListeners(ee,te)}mapPointerDown(ee){if(!(ee instanceof FederatedPointerEvent)){warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const te=this.createPointerEvent(ee);if(this.dispatchEvent(te,"pointerdown"),te.pointerType==="touch")this.dispatchEvent(te,"touchstart");else if(te.pointerType==="mouse"||te.pointerType==="pen"){const ne=te.button===2;this.dispatchEvent(te,ne?"rightdown":"mousedown")}const se=this.trackingData(ee.pointerId);se.pressTargetsByButton[ee.button]=te.composedPath(),this.freeEvent(te)}mapPointerMove(ee){var he,de;if(!(ee instanceof FederatedPointerEvent)){warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const te=this.createPointerEvent(ee);this._isPointerMoveEvent=!1;const se=te.pointerType==="mouse"||te.pointerType==="pen",ne=this.trackingData(ee.pointerId),le=this.findMountedTarget(ne.overTargets);if(((he=ne.overTargets)==null?void 0:he.length)>0&&le!==te.target){const _e=ee.type==="mousemove"?"mouseout":"pointerout",fe=this.createPointerEvent(ee,_e,le);if(this.dispatchEvent(fe,"pointerout"),se&&this.dispatchEvent(fe,"mouseout"),!te.composedPath().includes(le)){const ye=this.createPointerEvent(ee,"pointerleave",le);for(ye.eventPhase=ye.AT_TARGET;ye.target&&!te.composedPath().includes(ye.target);)ye.currentTarget=ye.target,this.notifyTarget(ye),se&&this.notifyTarget(ye,"mouseleave"),ye.target=ye.target.parent;this.freeEvent(ye)}this.freeEvent(fe)}if(le!==te.target){const _e=ee.type==="mousemove"?"mouseover":"pointerover",fe=this.clonePointerEvent(te,_e);this.dispatchEvent(fe,"pointerover"),se&&this.dispatchEvent(fe,"mouseover");let ye=le==null?void 0:le.parent;for(;ye&&ye!==this.rootTarget.parent&&ye!==te.target;)ye=ye.parent;if(!ye||ye===this.rootTarget.parent){const Pe=this.clonePointerEvent(te,"pointerenter");for(Pe.eventPhase=Pe.AT_TARGET;Pe.target&&Pe.target!==le&&Pe.target!==this.rootTarget.parent;)Pe.currentTarget=Pe.target,this.notifyTarget(Pe),se&&this.notifyTarget(Pe,"mouseenter"),Pe.target=Pe.target.parent;this.freeEvent(Pe)}this.freeEvent(fe)}const ue=[],ce=this.enableGlobalMoveEvents??!0;this.moveOnAll?ue.push("pointermove"):this.dispatchEvent(te,"pointermove"),ce&&ue.push("globalpointermove"),te.pointerType==="touch"&&(this.moveOnAll?ue.splice(1,0,"touchmove"):this.dispatchEvent(te,"touchmove"),ce&&ue.push("globaltouchmove")),se&&(this.moveOnAll?ue.splice(1,0,"mousemove"):this.dispatchEvent(te,"mousemove"),ce&&ue.push("globalmousemove"),this.cursor=(de=te.target)==null?void 0:de.cursor),ue.length>0&&this.all(te,ue),this._allInteractiveElements.length=0,this._hitElements.length=0,ne.overTargets=te.composedPath(),this.freeEvent(te)}mapPointerOver(ee){var ue;if(!(ee instanceof FederatedPointerEvent)){warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const te=this.trackingData(ee.pointerId),se=this.createPointerEvent(ee),ne=se.pointerType==="mouse"||se.pointerType==="pen";this.dispatchEvent(se,"pointerover"),ne&&this.dispatchEvent(se,"mouseover"),se.pointerType==="mouse"&&(this.cursor=(ue=se.target)==null?void 0:ue.cursor);const le=this.clonePointerEvent(se,"pointerenter");for(le.eventPhase=le.AT_TARGET;le.target&&le.target!==this.rootTarget.parent;)le.currentTarget=le.target,this.notifyTarget(le),ne&&this.notifyTarget(le,"mouseenter"),le.target=le.target.parent;te.overTargets=se.composedPath(),this.freeEvent(se),this.freeEvent(le)}mapPointerOut(ee){if(!(ee instanceof FederatedPointerEvent)){warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const te=this.trackingData(ee.pointerId);if(te.overTargets){const se=ee.pointerType==="mouse"||ee.pointerType==="pen",ne=this.findMountedTarget(te.overTargets),le=this.createPointerEvent(ee,"pointerout",ne);this.dispatchEvent(le),se&&this.dispatchEvent(le,"mouseout");const ue=this.createPointerEvent(ee,"pointerleave",ne);for(ue.eventPhase=ue.AT_TARGET;ue.target&&ue.target!==this.rootTarget.parent;)ue.currentTarget=ue.target,this.notifyTarget(ue),se&&this.notifyTarget(ue,"mouseleave"),ue.target=ue.target.parent;te.overTargets=null,this.freeEvent(le),this.freeEvent(ue)}this.cursor=null}mapPointerUp(ee){if(!(ee instanceof FederatedPointerEvent)){warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const te=performance.now(),se=this.createPointerEvent(ee);if(this.dispatchEvent(se,"pointerup"),se.pointerType==="touch")this.dispatchEvent(se,"touchend");else if(se.pointerType==="mouse"||se.pointerType==="pen"){const ce=se.button===2;this.dispatchEvent(se,ce?"rightup":"mouseup")}const ne=this.trackingData(ee.pointerId),le=this.findMountedTarget(ne.pressTargetsByButton[ee.button]);let ue=le;if(le&&!se.composedPath().includes(le)){let ce=le;for(;ce&&!se.composedPath().includes(ce);){if(se.currentTarget=ce,this.notifyTarget(se,"pointerupoutside"),se.pointerType==="touch")this.notifyTarget(se,"touchendoutside");else if(se.pointerType==="mouse"||se.pointerType==="pen"){const he=se.button===2;this.notifyTarget(se,he?"rightupoutside":"mouseupoutside")}ce=ce.parent}delete ne.pressTargetsByButton[ee.button],ue=ce}if(ue){const ce=this.clonePointerEvent(se,"click");ce.target=ue,ce.path=null,ne.clicksByButton[ee.button]||(ne.clicksByButton[ee.button]={clickCount:0,target:ce.target,timeStamp:te});const he=ne.clicksByButton[ee.button];if(he.target===ce.target&&te-he.timeStamp<200?++he.clickCount:he.clickCount=1,he.target=ce.target,he.timeStamp=te,ce.detail=he.clickCount,ce.pointerType==="mouse"){const de=ce.button===2;this.dispatchEvent(ce,de?"rightclick":"click")}else ce.pointerType==="touch"&&this.dispatchEvent(ce,"tap");this.dispatchEvent(ce,"pointertap"),this.freeEvent(ce)}this.freeEvent(se)}mapPointerUpOutside(ee){if(!(ee instanceof FederatedPointerEvent)){warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const te=this.trackingData(ee.pointerId),se=this.findMountedTarget(te.pressTargetsByButton[ee.button]),ne=this.createPointerEvent(ee);if(se){let le=se;for(;le;)ne.currentTarget=le,this.notifyTarget(ne,"pointerupoutside"),ne.pointerType==="touch"?this.notifyTarget(ne,"touchendoutside"):(ne.pointerType==="mouse"||ne.pointerType==="pen")&&this.notifyTarget(ne,ne.button===2?"rightupoutside":"mouseupoutside"),le=le.parent;delete te.pressTargetsByButton[ee.button]}this.freeEvent(ne)}mapWheel(ee){if(!(ee instanceof FederatedWheelEvent)){warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const te=this.createWheelEvent(ee);this.dispatchEvent(te),this.freeEvent(te)}findMountedTarget(ee){if(!ee)return null;let te=ee[0];for(let se=1;se<ee.length&&ee[se].parent===te;se++)te=ee[se];return te}createPointerEvent(ee,te,se){const ne=this.allocateEvent(FederatedPointerEvent);return this.copyPointerData(ee,ne),this.copyMouseData(ee,ne),this.copyData(ee,ne),ne.nativeEvent=ee.nativeEvent,ne.originalEvent=ee,ne.target=se??this.hitTest(ne.global.x,ne.global.y)??this._hitElements[0],typeof te=="string"&&(ne.type=te),ne}createWheelEvent(ee){const te=this.allocateEvent(FederatedWheelEvent);return this.copyWheelData(ee,te),this.copyMouseData(ee,te),this.copyData(ee,te),te.nativeEvent=ee.nativeEvent,te.originalEvent=ee,te.target=this.hitTest(te.global.x,te.global.y),te}clonePointerEvent(ee,te){const se=this.allocateEvent(FederatedPointerEvent);return se.nativeEvent=ee.nativeEvent,se.originalEvent=ee.originalEvent,this.copyPointerData(ee,se),this.copyMouseData(ee,se),this.copyData(ee,se),se.target=ee.target,se.path=ee.composedPath().slice(),se.type=te??se.type,se}copyWheelData(ee,te){te.deltaMode=ee.deltaMode,te.deltaX=ee.deltaX,te.deltaY=ee.deltaY,te.deltaZ=ee.deltaZ}copyPointerData(ee,te){ee instanceof FederatedPointerEvent&&te instanceof FederatedPointerEvent&&(te.pointerId=ee.pointerId,te.width=ee.width,te.height=ee.height,te.isPrimary=ee.isPrimary,te.pointerType=ee.pointerType,te.pressure=ee.pressure,te.tangentialPressure=ee.tangentialPressure,te.tiltX=ee.tiltX,te.tiltY=ee.tiltY,te.twist=ee.twist)}copyMouseData(ee,te){ee instanceof FederatedMouseEvent&&te instanceof FederatedMouseEvent&&(te.altKey=ee.altKey,te.button=ee.button,te.buttons=ee.buttons,te.client.copyFrom(ee.client),te.ctrlKey=ee.ctrlKey,te.metaKey=ee.metaKey,te.movement.copyFrom(ee.movement),te.screen.copyFrom(ee.screen),te.shiftKey=ee.shiftKey,te.global.copyFrom(ee.global))}copyData(ee,te){te.isTrusted=ee.isTrusted,te.srcElement=ee.srcElement,te.timeStamp=performance.now(),te.type=ee.type,te.detail=ee.detail,te.view=ee.view,te.which=ee.which,te.layer.copyFrom(ee.layer),te.page.copyFrom(ee.page)}trackingData(ee){return this.mappingState.trackingData[ee]||(this.mappingState.trackingData[ee]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[ee]}allocateEvent(ee){this.eventPool.has(ee)||this.eventPool.set(ee,[]);const te=this.eventPool.get(ee).pop()||new ee(this);return te.eventPhase=te.NONE,te.currentTarget=null,te.path=null,te.target=null,te}freeEvent(ee){if(ee.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const te=ee.constructor;this.eventPool.has(te)||this.eventPool.set(te,[]),this.eventPool.get(te).push(ee)}_notifyListeners(ee,te){const se=ee.currentTarget._events[te];if(se&&ee.currentTarget.isInteractive())if("fn"in se)se.once&&ee.currentTarget.removeListener(te,se.fn,void 0,!0),se.fn.call(se.context,ee);else for(let ne=0,le=se.length;ne<le&&!ee.propagationImmediatelyStopped;ne++)se[ne].once&&ee.currentTarget.removeListener(te,se[ne].fn,void 0,!0),se[ne].fn.call(se[ne].context,ee)}}const MOUSE_POINTER_ID=1,TOUCH_TO_POINTER={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},_EventSystem=class mj{constructor(ee){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=ee,this.rootBoundary=new EventBoundary(null),EventsTicker.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new FederatedPointerEvent(null),this._rootWheelEvent=new FederatedWheelEvent(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...mj.defaultEventFeatures},{set:(te,se,ne)=>(se==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=ne),te[se]=ne,!0)}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(ee){const{canvas:te,resolution:se}=this.renderer;this.setTargetElement(te),this.resolution=se,mj._defaultEventMode=ee.eventMode??"passive",Object.assign(this.features,ee.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(ee){this.resolution=ee}destroy(){this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(ee){ee=ee||"default";let te=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(te=!1),this._currentCursor===ee)return;this._currentCursor=ee;const se=this.cursorStyles[ee];if(se)switch(typeof se){case"string":te&&(this.domElement.style.cursor=se);break;case"function":se(ee);break;case"object":te&&Object.assign(this.domElement.style,se);break}else te&&typeof ee=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,ee)&&(this.domElement.style.cursor=ee)}get pointer(){return this._rootPointerEvent}_onPointerDown(ee){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const te=this._normalizeToPointerData(ee);this.autoPreventDefault&&te[0].isNormalized&&(ee.cancelable||!("cancelable"in ee))&&ee.preventDefault();for(let se=0,ne=te.length;se<ne;se++){const le=te[se],ue=this._bootstrapEvent(this._rootPointerEvent,le);this.rootBoundary.mapEvent(ue)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(ee){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,EventsTicker.pointerMoved();const te=this._normalizeToPointerData(ee);for(let se=0,ne=te.length;se<ne;se++){const le=this._bootstrapEvent(this._rootPointerEvent,te[se]);this.rootBoundary.mapEvent(le)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(ee){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let te=ee.target;ee.composedPath&&ee.composedPath().length>0&&(te=ee.composedPath()[0]);const se=te!==this.domElement?"outside":"",ne=this._normalizeToPointerData(ee);for(let le=0,ue=ne.length;le<ue;le++){const ce=this._bootstrapEvent(this._rootPointerEvent,ne[le]);ce.type+=se,this.rootBoundary.mapEvent(ce)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(ee){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const te=this._normalizeToPointerData(ee);for(let se=0,ne=te.length;se<ne;se++){const le=this._bootstrapEvent(this._rootPointerEvent,te[se]);this.rootBoundary.mapEvent(le)}this.setCursor(this.rootBoundary.cursor)}onWheel(ee){if(!this.features.wheel)return;const te=this.normalizeWheelEvent(ee);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(te)}setTargetElement(ee){this._removeEvents(),this.domElement=ee,EventsTicker.domElement=ee,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;EventsTicker.addTickerListener();const ee=this.domElement.style;ee&&(globalThis.navigator.msPointerEnabled?(ee.msContentZooming="none",ee.msTouchAction="none"):this.supportsPointerEvents&&(ee.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;EventsTicker.removeTickerListener();const ee=this.domElement.style;ee&&(globalThis.navigator.msPointerEnabled?(ee.msContentZooming="",ee.msTouchAction=""):this.supportsPointerEvents&&(ee.touchAction="")),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(ee,te,se){const ne=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},le=1/this.resolution;ee.x=(te-ne.left)*(this.domElement.width/ne.width)*le,ee.y=(se-ne.top)*(this.domElement.height/ne.height)*le}_normalizeToPointerData(ee){const te=[];if(this.supportsTouchEvents&&ee instanceof TouchEvent)for(let se=0,ne=ee.changedTouches.length;se<ne;se++){const le=ee.changedTouches[se];typeof le.button>"u"&&(le.button=0),typeof le.buttons>"u"&&(le.buttons=1),typeof le.isPrimary>"u"&&(le.isPrimary=ee.touches.length===1&&ee.type==="touchstart"),typeof le.width>"u"&&(le.width=le.radiusX||1),typeof le.height>"u"&&(le.height=le.radiusY||1),typeof le.tiltX>"u"&&(le.tiltX=0),typeof le.tiltY>"u"&&(le.tiltY=0),typeof le.pointerType>"u"&&(le.pointerType="touch"),typeof le.pointerId>"u"&&(le.pointerId=le.identifier||0),typeof le.pressure>"u"&&(le.pressure=le.force||.5),typeof le.twist>"u"&&(le.twist=0),typeof le.tangentialPressure>"u"&&(le.tangentialPressure=0),typeof le.layerX>"u"&&(le.layerX=le.offsetX=le.clientX),typeof le.layerY>"u"&&(le.layerY=le.offsetY=le.clientY),le.isNormalized=!0,le.type=ee.type,te.push(le)}else if(!globalThis.MouseEvent||ee instanceof MouseEvent&&(!this.supportsPointerEvents||!(ee instanceof globalThis.PointerEvent))){const se=ee;typeof se.isPrimary>"u"&&(se.isPrimary=!0),typeof se.width>"u"&&(se.width=1),typeof se.height>"u"&&(se.height=1),typeof se.tiltX>"u"&&(se.tiltX=0),typeof se.tiltY>"u"&&(se.tiltY=0),typeof se.pointerType>"u"&&(se.pointerType="mouse"),typeof se.pointerId>"u"&&(se.pointerId=MOUSE_POINTER_ID),typeof se.pressure>"u"&&(se.pressure=.5),typeof se.twist>"u"&&(se.twist=0),typeof se.tangentialPressure>"u"&&(se.tangentialPressure=0),se.isNormalized=!0,te.push(se)}else te.push(ee);return te}normalizeWheelEvent(ee){const te=this._rootWheelEvent;return this._transferMouseData(te,ee),te.deltaX=ee.deltaX,te.deltaY=ee.deltaY,te.deltaZ=ee.deltaZ,te.deltaMode=ee.deltaMode,this.mapPositionToPoint(te.screen,ee.clientX,ee.clientY),te.global.copyFrom(te.screen),te.offset.copyFrom(te.screen),te.nativeEvent=ee,te.type=ee.type,te}_bootstrapEvent(ee,te){return ee.originalEvent=null,ee.nativeEvent=te,ee.pointerId=te.pointerId,ee.width=te.width,ee.height=te.height,ee.isPrimary=te.isPrimary,ee.pointerType=te.pointerType,ee.pressure=te.pressure,ee.tangentialPressure=te.tangentialPressure,ee.tiltX=te.tiltX,ee.tiltY=te.tiltY,ee.twist=te.twist,this._transferMouseData(ee,te),this.mapPositionToPoint(ee.screen,te.clientX,te.clientY),ee.global.copyFrom(ee.screen),ee.offset.copyFrom(ee.screen),ee.isTrusted=te.isTrusted,ee.type==="pointerleave"&&(ee.type="pointerout"),ee.type.startsWith("mouse")&&(ee.type=ee.type.replace("mouse","pointer")),ee.type.startsWith("touch")&&(ee.type=TOUCH_TO_POINTER[ee.type]||ee.type),ee}_transferMouseData(ee,te){ee.isTrusted=te.isTrusted,ee.srcElement=te.srcElement,ee.timeStamp=performance.now(),ee.type=te.type,ee.altKey=te.altKey,ee.button=te.button,ee.buttons=te.buttons,ee.client.x=te.clientX,ee.client.y=te.clientY,ee.ctrlKey=te.ctrlKey,ee.metaKey=te.metaKey,ee.movement.x=te.movementX,ee.movement.y=te.movementY,ee.page.x=te.pageX,ee.page.y=te.pageY,ee.relatedTarget=null,ee.shiftKey=te.shiftKey}};_EventSystem.extension={name:"events",type:[ExtensionType.WebGLSystem,ExtensionType.CanvasSystem,ExtensionType.WebGPUSystem],priority:-1},_EventSystem.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let EventSystem=_EventSystem;const FederatedContainer={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return this.eventMode==="dynamic"||this.eventMode==="static"},set interactive(ie){this.eventMode=ie?"static":"passive"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??EventSystem.defaultEventMode},set eventMode(ie){this._internalEventMode=ie},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(ie,ee,te){const se=typeof te=="boolean"&&te||typeof te=="object"&&te.capture,ne=typeof te=="object"?te.signal:void 0,le=typeof te=="object"?te.once===!0:!1,ue=typeof ee=="function"?void 0:ee;ie=se?`${ie}capture`:ie;const ce=typeof ee=="function"?ee:ee.handleEvent,he=this;ne&&ne.addEventListener("abort",()=>{he.off(ie,ce,ue)}),le?he.once(ie,ce,ue):he.on(ie,ce,ue)},removeEventListener(ie,ee,te){const se=typeof te=="boolean"&&te||typeof te=="object"&&te.capture,ne=typeof ee=="function"?void 0:ee;ie=se?`${ie}capture`:ie,ee=typeof ee=="function"?ee:ee.handleEvent,this.off(ie,ee,ne)},dispatchEvent(ie){if(!(ie instanceof FederatedEvent))throw new Error("Container cannot propagate events outside of the Federated Events API");return ie.defaultPrevented=!1,ie.path=null,ie.target=this,ie.manager.dispatchEvent(ie),!ie.defaultPrevented}};let count=0;class TexturePoolClass{constructor(ee){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=ee||{},this.enableFullScreen=!1}createTexture(ee,te,se){const ne=new TextureSource({...this.textureOptions,width:ee,height:te,resolution:1,antialias:se,autoGarbageCollect:!0});return new Texture({source:ne,label:`texturePool_${count++}`})}getOptimalTexture(ee,te,se=1,ne){let le=Math.ceil(ee*se-1e-6),ue=Math.ceil(te*se-1e-6);le=nextPow2(le),ue=nextPow2(ue);const ce=(le<<17)+(ue<<1)+(ne?1:0);this._texturePool[ce]||(this._texturePool[ce]=[]);let he=this._texturePool[ce].pop();return he||(he=this.createTexture(le,ue,ne)),he.source._resolution=se,he.source.width=le/se,he.source.height=ue/se,he.source.pixelWidth=le,he.source.pixelHeight=ue,he.frame.x=0,he.frame.y=0,he.frame.width=ee,he.frame.height=te,he.updateUvs(),this._poolKeyHash[he.uid]=ce,he}getSameSizeTexture(ee,te=!1){const se=ee.source;return this.getOptimalTexture(ee.width,ee.height,se._resolution,te)}returnTexture(ee){const te=this._poolKeyHash[ee.uid];this._texturePool[te].push(ee)}clear(ee){if(ee=ee!==!1,ee)for(const te in this._texturePool){const se=this._texturePool[te];if(se)for(let ne=0;ne<se.length;ne++)se[ne].destroy(!0)}this._texturePool={}}}const TexturePool=new TexturePoolClass;class FilterPipe{constructor(ee){this._renderer=ee}push(ee,te,se){this._renderer.renderPipes.batch.break(se),se.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:te,filterEffect:ee})}pop(ee,te,se){this._renderer.renderPipes.batch.break(se),se.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(ee){ee.action==="pushFilter"?this._renderer.filter.push(ee):ee.action==="popFilter"&&this._renderer.filter.pop()}destroy(){this._renderer=null}}FilterPipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"filter"};const tempMatrix$1=new Matrix;function getFastGlobalBounds(ie,ee){return ee.clear(),_getGlobalBoundsRecursive(ie,ee),ee.isValid||ee.set(0,0,0,0),ie.isRenderGroupRoot?ee.applyMatrix(ie.renderGroup.localTransform):ee.applyMatrix(ie.renderGroup.worldTransform),ee}function _getGlobalBoundsRecursive(ie,ee){if(ie.localDisplayStatus!==7||!ie.measurable)return;const te=!!ie.effects.length;let se=ee;if((ie.isRenderGroupRoot||te)&&(se=boundsPool.get().clear()),ie.boundsArea)ee.addRect(ie.boundsArea,ie.worldTransform);else{if(ie.renderPipeId){const le=ie.bounds;se.addFrame(le.minX,le.minY,le.maxX,le.maxY,ie.groupTransform)}const ne=ie.children;for(let le=0;le<ne.length;le++)_getGlobalBoundsRecursive(ne[le],se)}if(te){let ne=!1;for(let le=0;le<ie.effects.length;le++)ie.effects[le].addBounds&&(ne||(ne=!0,se.applyMatrix(ie.renderGroup.worldTransform)),ie.effects[le].addBounds(se,!0));ne&&(se.applyMatrix(ie.renderGroup.worldTransform.copyTo(tempMatrix$1).invert()),ee.addBounds(se,ie.relativeGroupTransform)),ee.addBounds(se),boundsPool.return(se)}else ie.isRenderGroupRoot&&(ee.addBounds(se,ie.relativeGroupTransform),boundsPool.return(se))}function getGlobalRenderableBounds(ie,ee){ee.clear();const te=ee.matrix;for(let se=0;se<ie.length;se++){const ne=ie[se];ne.globalDisplayStatus<7||(ee.matrix=ne.worldTransform,ne.addBounds(ee))}return ee.matrix=te,ee}const quadGeometry=new Geometry({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),location:0,format:"float32x2",stride:2*4,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class FilterSystem{constructor(ee){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new UniformGroup({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new BindGroup({}),this.renderer=ee}get activeBackTexture(){var ee;return(ee=this._activeFilterData)==null?void 0:ee.backTexture}push(ee){var ye;const te=this.renderer,se=ee.filterEffect.filters;this._filterStack[this._filterStackIndex]||(this._filterStack[this._filterStackIndex]=this._getFilterData());const ne=this._filterStack[this._filterStackIndex];if(this._filterStackIndex++,se.length===0){ne.skip=!0;return}const le=ne.bounds;ee.renderables?getGlobalRenderableBounds(ee.renderables,le):ee.filterEffect.filterArea?(le.clear(),le.addRect(ee.filterEffect.filterArea),le.applyMatrix(ee.container.worldTransform)):getFastGlobalBounds(ee.container,le);const ue=te.renderTarget.rootRenderTarget.colorTexture.source;let ce=ue._resolution,he=0,de=ue.antialias,_e=!1,fe=!1;for(let be=0;be<se.length;be++){const Pe=se[be];if(ce=Math.min(ce,Pe.resolution),he+=Pe.padding,Pe.antialias!=="inherit"&&(Pe.antialias==="on"?de=!0:de=!1),!!!(Pe.compatibleRenderers&te.type)){fe=!1;break}if(Pe.blendRequired&&!(((ye=te.backBuffer)==null?void 0:ye.useBackBuffer)??!0)){warn("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),fe=!1;break}fe=Pe.enabled||fe,_e=_e||Pe.blendRequired}if(!fe){ne.skip=!0;return}if(le.scale(ce).fit(te.renderTarget.rootViewPort).scale(1/ce).pad(he).ceil(),!le.isPositive){ne.skip=!0;return}ne.skip=!1,ne.bounds=le,ne.blendRequired=_e,ne.container=ee.container,ne.filterEffect=ee.filterEffect,ne.previousRenderSurface=te.renderTarget.renderSurface,ne.inputTexture=TexturePool.getOptimalTexture(le.width,le.height,ce,de),te.renderTarget.bind(ne.inputTexture,!0),te.globalUniforms.push({offset:le})}pop(){const ee=this.renderer;this._filterStackIndex--;const te=this._filterStack[this._filterStackIndex];if(te.skip)return;this._activeFilterData=te;const se=te.inputTexture,ne=te.bounds;let le=Texture.EMPTY;if(ee.renderTarget.finishRenderPass(),te.blendRequired){const ce=this._filterStackIndex>0?this._filterStack[this._filterStackIndex-1].bounds:null,he=ee.renderTarget.getRenderTarget(te.previousRenderSurface);le=this.getBackTexture(he,ne,ce)}te.backTexture=le;const ue=te.filterEffect.filters;if(this._globalFilterBindGroup.setResource(se.source.style,2),this._globalFilterBindGroup.setResource(le.source,3),ee.globalUniforms.pop(),ue.length===1)ue[0].apply(this,se,te.previousRenderSurface,!1),TexturePool.returnTexture(se);else{let ce=te.inputTexture,he=TexturePool.getOptimalTexture(ne.width,ne.height,ce.source._resolution,!1),de=0;for(de=0;de<ue.length-1;++de){ue[de].apply(this,ce,he,!0);const fe=ce;ce=he,he=fe}ue[de].apply(this,ce,te.previousRenderSurface,!1),TexturePool.returnTexture(ce),TexturePool.returnTexture(he)}te.blendRequired&&TexturePool.returnTexture(le)}getBackTexture(ee,te,se){const ne=ee.colorTexture.source._resolution,le=TexturePool.getOptimalTexture(te.width,te.height,ne,!1);let ue=te.minX,ce=te.minY;se&&(ue-=se.minX,ce-=se.minY),ue=Math.floor(ue*ne),ce=Math.floor(ce*ne);const he=Math.ceil(te.width*ne),de=Math.ceil(te.height*ne);return this.renderer.renderTarget.copyToTexture(ee,le,{x:ue,y:ce},{width:he,height:de},{x:0,y:0}),le}applyFilter(ee,te,se,ne){const le=this.renderer,ue=this._filterStack[this._filterStackIndex],ce=ue.bounds,he=Point.shared,_e=ue.previousRenderSurface===se;let fe=this.renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution,ye=this._filterStackIndex-1;for(;ye>0&&this._filterStack[ye].skip;)--ye;ye>0&&(fe=this._filterStack[ye].inputTexture.source._resolution);const be=this._filterGlobalUniforms,Pe=be.uniforms,Ne=Pe.uOutputFrame,we=Pe.uInputSize,De=Pe.uInputPixel,$e=Pe.uInputClamp,Ge=Pe.uGlobalFrame,Be=Pe.uOutputTexture;if(_e){let ut=this._filterStackIndex;for(;ut>0;){ut--;const Ti=this._filterStack[this._filterStackIndex-1];if(!Ti.skip){he.x=Ti.bounds.minX,he.y=Ti.bounds.minY;break}}Ne[0]=ce.minX-he.x,Ne[1]=ce.minY-he.y}else Ne[0]=0,Ne[1]=0;Ne[2]=te.frame.width,Ne[3]=te.frame.height,we[0]=te.source.width,we[1]=te.source.height,we[2]=1/we[0],we[3]=1/we[1],De[0]=te.source.pixelWidth,De[1]=te.source.pixelHeight,De[2]=1/De[0],De[3]=1/De[1],$e[0]=.5*De[2],$e[1]=.5*De[3],$e[2]=te.frame.width*we[2]-.5*De[2],$e[3]=te.frame.height*we[3]-.5*De[3];const ze=this.renderer.renderTarget.rootRenderTarget.colorTexture;Ge[0]=he.x*fe,Ge[1]=he.y*fe,Ge[2]=ze.source.width*fe,Ge[3]=ze.source.height*fe;const $t=this.renderer.renderTarget.getRenderTarget(se);if(le.renderTarget.bind(se,!!ne),se instanceof Texture?(Be[0]=se.frame.width,Be[1]=se.frame.height):(Be[0]=$t.width,Be[1]=$t.height),Be[2]=$t.isRoot?-1:1,be.update(),le.renderPipes.uniformBatch){const ut=le.renderPipes.uniformBatch.getUboResource(be);this._globalFilterBindGroup.setResource(ut,0)}else this._globalFilterBindGroup.setResource(be,0);this._globalFilterBindGroup.setResource(te.source,1),this._globalFilterBindGroup.setResource(te.source.style,2),ee.groups[0]=this._globalFilterBindGroup,le.encoder.draw({geometry:quadGeometry,shader:ee,state:ee._state,topology:"triangle-list"}),le.type===RendererType.WEBGL&&le.renderTarget.finishRenderPass()}_getFilterData(){return{skip:!1,inputTexture:null,bounds:new Bounds,container:null,filterEffect:null,blendRequired:!1,previousRenderSurface:null}}calculateSpriteMatrix(ee,te){const se=this._activeFilterData,ne=ee.set(se.inputTexture._source.width,0,0,se.inputTexture._source.height,se.bounds.minX,se.bounds.minY),le=te.worldTransform.copyTo(Matrix.shared);return le.invert(),ne.prepend(le),ne.scale(1/te.texture.frame.width,1/te.texture.frame.height),ne.translate(te.anchor.x,te.anchor.y),ne}}FilterSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem],name:"filter"};var fragment=`in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;

out vec4 finalColor;

void main(void)
{
    float clip = step(3.5,
        step(uMaskClamp.x, vMaskCoord.x) +
        step(uMaskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, uMaskClamp.z) +
        step(vMaskCoord.y, uMaskClamp.w));

    // TODO look into why this is needed
    float npmAlpha = uAlpha; 
    vec4 original = texture(uTexture, vTextureCoord);
    vec4 masky = texture(uMaskTexture, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * uAlpha * clip);

    finalColor = original;
}
`,vertex=`in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
       
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
    gl_Position = filterVertexPosition(aPosition);
    vTextureCoord = filterTextureCoord(aPosition);
    vMaskCoord = getFilterCoord(aPosition);
}
`,source=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,  
};

struct MaskUniforms {
  uFilterMatrix:mat3x3<f32>,
  uMaskClamp:vec4<f32>,
  uAlpha:f32,
};


@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>,
    @location(1) filterUv : vec2<f32>,
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{

  
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition),
   getFilterCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @location(1) filterUv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

    var maskClamp = filterUniforms.uMaskClamp;

     var clip = step(3.5,
        step(maskClamp.x, filterUv.x) +
        step(maskClamp.y, filterUv.y) +
        step(filterUv.x, maskClamp.z) +
        step(filterUv.y, maskClamp.w));

    var mask = textureSample(uMaskTexture, uSampler, filterUv);
    var source = textureSample(uTexture, uSampler, uv);
    
    var npmAlpha = 0.0;

    var alphaMul = 1.0 - npmAlpha * (1.0 - mask.a);

    var a = (alphaMul * mask.r) * clip;

    return vec4(source.rgb, source.a) * a;
}`;class MaskFilter extends Filter{constructor(ee){const{sprite:te,...se}=ee,ne=new TextureMatrix(te.texture),le=new UniformGroup({uFilterMatrix:{value:new Matrix,type:"mat3x3<f32>"},uMaskClamp:{value:ne.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"}}),ue=GpuProgram.from({vertex:{source,entryPoint:"mainVertex"},fragment:{source,entryPoint:"mainFragment"}}),ce=GlProgram.from({vertex,fragment,name:"mask-filter"});super({...se,gpuProgram:ue,glProgram:ce,resources:{filterUniforms:le,uMaskTexture:te.texture.source}}),this.sprite=te,this._textureMatrix=ne}apply(ee,te,se,ne){this._textureMatrix.texture=this.sprite.texture,ee.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,ee.applyFilter(this,te,se,ne)}}class Graphics extends Container{constructor(ee){ee instanceof GraphicsContext&&(ee={context:ee});const{context:te,roundPixels:se,...ne}=ee||{};super({label:"Graphics",...ne}),this.canBundle=!0,this.renderPipeId="graphics",this._roundPixels=0,te?this._context=te:this._context=this._ownedContext=new GraphicsContext,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=se??!1}set context(ee){ee!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=ee,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}addBounds(ee){ee.addBounds(this._context.bounds)}containsPoint(ee){return this._context.containsPoint(ee)}get roundPixels(){return!!this._roundPixels}set roundPixels(ee){this._roundPixels=ee?1:0}onViewUpdate(){this._didChangeId+=4096,this._didGraphicsUpdate=!0,!this.didViewUpdate&&(this.didViewUpdate=!0,this.renderGroup&&this.renderGroup.onChildViewUpdate(this))}destroy(ee){this._ownedContext&&!ee?this._ownedContext.destroy(ee):(ee===!0||(ee==null?void 0:ee.context)===!0)&&this._context.destroy(ee),this._ownedContext=null,this._context=null,super.destroy(ee)}_callContextMethod(ee,te){return this.context[ee](...te),this}setFillStyle(...ee){return this._callContextMethod("setFillStyle",ee)}setStrokeStyle(...ee){return this._callContextMethod("setStrokeStyle",ee)}fill(...ee){return this._callContextMethod("fill",ee)}stroke(...ee){return this._callContextMethod("stroke",ee)}texture(...ee){return this._callContextMethod("texture",ee)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...ee){return this._callContextMethod("arc",ee)}arcTo(...ee){return this._callContextMethod("arcTo",ee)}arcToSvg(...ee){return this._callContextMethod("arcToSvg",ee)}bezierCurveTo(...ee){return this._callContextMethod("bezierCurveTo",ee)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...ee){return this._callContextMethod("ellipse",ee)}circle(...ee){return this._callContextMethod("circle",ee)}path(...ee){return this._callContextMethod("path",ee)}lineTo(...ee){return this._callContextMethod("lineTo",ee)}moveTo(...ee){return this._callContextMethod("moveTo",ee)}quadraticCurveTo(...ee){return this._callContextMethod("quadraticCurveTo",ee)}rect(...ee){return this._callContextMethod("rect",ee)}roundRect(...ee){return this._callContextMethod("roundRect",ee)}poly(...ee){return this._callContextMethod("poly",ee)}regularPoly(...ee){return this._callContextMethod("regularPoly",ee)}roundPoly(...ee){return this._callContextMethod("roundPoly",ee)}roundShape(...ee){return this._callContextMethod("roundShape",ee)}filletRect(...ee){return this._callContextMethod("filletRect",ee)}chamferRect(...ee){return this._callContextMethod("chamferRect",ee)}star(...ee){return this._callContextMethod("star",ee)}svg(...ee){return this._callContextMethod("svg",ee)}restore(...ee){return this._callContextMethod("restore",ee)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...ee){return this._callContextMethod("rotate",ee)}scaleTransform(...ee){return this._callContextMethod("scale",ee)}setTransform(...ee){return this._callContextMethod("setTransform",ee)}transform(...ee){return this._callContextMethod("transform",ee)}translateTransform(...ee){return this._callContextMethod("translate",ee)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(ee){this._context.fillStyle=ee}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(ee){this._context.strokeStyle=ee}clone(ee=!1){return ee?new Graphics(this._context.clone()):(this._ownedContext=null,new Graphics(this._context))}lineStyle(ee,te,se){deprecation(v8_0_0,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const ne={};return ee&&(ne.width=ee),te&&(ne.color=te),se&&(ne.alpha=se),this.context.strokeStyle=ne,this}beginFill(ee,te){deprecation(v8_0_0,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const se={};return ee&&(se.color=ee),te&&(se.alpha=te),this.context.fillStyle=se,this}endFill(){deprecation(v8_0_0,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const ee=this.context.strokeStyle;return(ee.width!==GraphicsContext.defaultStrokeStyle.width||ee.color!==GraphicsContext.defaultStrokeStyle.color||ee.alpha!==GraphicsContext.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...ee){return deprecation(v8_0_0,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",ee)}drawEllipse(...ee){return deprecation(v8_0_0,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",ee)}drawPolygon(...ee){return deprecation(v8_0_0,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",ee)}drawRect(...ee){return deprecation(v8_0_0,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",ee)}drawRoundedRect(...ee){return deprecation(v8_0_0,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",ee)}drawStar(...ee){return deprecation(v8_0_0,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",ee)}}const _MeshGeometry=class Mk extends Geometry{constructor(...ee){let te=ee[0]??{};te instanceof Float32Array&&(deprecation(v8_0_0,"use new MeshGeometry({ positions, uvs, indices }) instead"),te={positions:te,uvs:ee[1],indices:ee[2]}),te={...Mk.defaultOptions,...te};const se=te.positions||new Float32Array([0,0,1,0,1,1,0,1]),ne=te.uvs||new Float32Array([0,0,1,0,1,1,0,1]),le=te.indices||new Uint32Array([0,1,2,0,2,3]),ue=te.shrinkBuffersToFit,ce=new Buffer({data:se,label:"attribute-mesh-positions",shrinkToFit:ue,usage:BufferUsage.VERTEX|BufferUsage.COPY_DST}),he=new Buffer({data:ne,label:"attribute-mesh-uvs",shrinkToFit:ue,usage:BufferUsage.VERTEX|BufferUsage.COPY_DST}),de=new Buffer({data:le,label:"index-mesh-buffer",shrinkToFit:ue,usage:BufferUsage.INDEX|BufferUsage.COPY_DST});super({attributes:{aPosition:{buffer:ce,format:"float32x2",stride:2*4,offset:0},aUV:{buffer:he,format:"float32x2",stride:2*4,offset:0}},indexBuffer:de,topology:te.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(ee){this.attributes.aPosition.buffer.data=ee}get uvs(){return this.attributes.aUV.buffer.data}set uvs(ee){this.attributes.aUV.buffer.data=ee}get indices(){return this.indexBuffer.data}set indices(ee){this.indexBuffer.data=ee}};_MeshGeometry.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let MeshGeometry=_MeshGeometry;const genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function fontStringFromTextStyle(ie){const ee=typeof ie.fontSize=="number"?`${ie.fontSize}px`:ie.fontSize;let te=ie.fontFamily;Array.isArray(ie.fontFamily)||(te=ie.fontFamily.split(","));for(let se=te.length-1;se>=0;se--){let ne=te[se].trim();!/([\"\'])[^\'\"]+\1/.test(ne)&&!genericFontFamilies.includes(ne)&&(ne=`"${ne}"`),te[se]=ne}return`${ie.fontStyle} ${ie.fontVariant} ${ie.fontWeight} ${ee} ${te.join(",")}`}const contextSettings={willReadFrequently:!0},_CanvasTextMetrics=class dR{static get experimentalLetterSpacingSupported(){let ee=dR._experimentalLetterSpacingSupported;if(ee!==void 0){const te=DOMAdapter.get().getCanvasRenderingContext2D().prototype;ee=dR._experimentalLetterSpacingSupported="letterSpacing"in te||"textLetterSpacing"in te}return ee}constructor(ee,te,se,ne,le,ue,ce,he,de){this.text=ee,this.style=te,this.width=se,this.height=ne,this.lines=le,this.lineWidths=ue,this.lineHeight=ce,this.maxLineWidth=he,this.fontProperties=de}static measureText(ee=" ",te,se=dR._canvas,ne=te.wordWrap){var $e;const le=`${ee}:${te.styleKey}`;if(dR._measurementCache[le])return dR._measurementCache[le];const ue=fontStringFromTextStyle(te),ce=dR.measureFont(ue);ce.fontSize===0&&(ce.fontSize=te.fontSize,ce.ascent=te.fontSize);const he=dR.__context;he.font=ue;const _e=(ne?dR._wordWrap(ee,te,se):ee).split(/(?:\r\n|\r|\n)/),fe=new Array(_e.length);let ye=0;for(let Ge=0;Ge<_e.length;Ge++){const Be=dR._measureText(_e[Ge],te.letterSpacing,he);fe[Ge]=Be,ye=Math.max(ye,Be)}const be=(($e=te._stroke)==null?void 0:$e.width)||0;let Pe=ye+be;te.dropShadow&&(Pe+=te.dropShadow.distance);const Ne=te.lineHeight||ce.fontSize+be;let we=Math.max(Ne,ce.fontSize+be*2)+(_e.length-1)*(Ne+te.leading);return te.dropShadow&&(we+=te.dropShadow.distance),new dR(ee,te,Pe,we,_e,fe,Ne+te.leading,ye,ce)}static _measureText(ee,te,se){let ne=!1;dR.experimentalLetterSpacingSupported&&(dR.experimentalLetterSpacing?(se.letterSpacing=`${te}px`,se.textLetterSpacing=`${te}px`,ne=!0):(se.letterSpacing="0px",se.textLetterSpacing="0px"));let le=se.measureText(ee).width;return le>0&&(ne?le-=te:le+=(dR.graphemeSegmenter(ee).length-1)*te),le}static _wordWrap(ee,te,se=dR._canvas){const ne=se.getContext("2d",contextSettings);let le=0,ue="",ce="";const he=Object.create(null),{letterSpacing:de,whiteSpace:_e}=te,fe=dR._collapseSpaces(_e),ye=dR._collapseNewlines(_e);let be=!fe;const Pe=te.wordWrapWidth+de,Ne=dR._tokenize(ee);for(let we=0;we<Ne.length;we++){let De=Ne[we];if(dR._isNewline(De)){if(!ye){ce+=dR._addLine(ue),be=!fe,ue="",le=0;continue}De=" "}if(fe){const Ge=dR.isBreakingSpace(De),Be=dR.isBreakingSpace(ue[ue.length-1]);if(Ge&&Be)continue}const $e=dR._getFromCache(De,de,he,ne);if($e>Pe)if(ue!==""&&(ce+=dR._addLine(ue),ue="",le=0),dR.canBreakWords(De,te.breakWords)){const Ge=dR.wordWrapSplit(De);for(let Be=0;Be<Ge.length;Be++){let ze=Ge[Be],$t=ze,ut=1;for(;Ge[Be+ut];){const Hi=Ge[Be+ut];if(!dR.canBreakChars($t,Hi,De,Be,te.breakWords))ze+=Hi;else break;$t=Hi,ut++}Be+=ut-1;const Ti=dR._getFromCache(ze,de,he,ne);Ti+le>Pe&&(ce+=dR._addLine(ue),be=!1,ue="",le=0),ue+=ze,le+=Ti}}else{ue.length>0&&(ce+=dR._addLine(ue),ue="",le=0);const Ge=we===Ne.length-1;ce+=dR._addLine(De,!Ge),be=!1,ue="",le=0}else $e+le>Pe&&(be=!1,ce+=dR._addLine(ue),ue="",le=0),(ue.length>0||!dR.isBreakingSpace(De)||be)&&(ue+=De,le+=$e)}return ce+=dR._addLine(ue,!1),ce}static _addLine(ee,te=!0){return ee=dR._trimRight(ee),ee=te?`${ee}
`:ee,ee}static _getFromCache(ee,te,se,ne){let le=se[ee];return typeof le!="number"&&(le=dR._measureText(ee,te,ne)+te,se[ee]=le),le}static _collapseSpaces(ee){return ee==="normal"||ee==="pre-line"}static _collapseNewlines(ee){return ee==="normal"}static _trimRight(ee){if(typeof ee!="string")return"";for(let te=ee.length-1;te>=0;te--){const se=ee[te];if(!dR.isBreakingSpace(se))break;ee=ee.slice(0,-1)}return ee}static _isNewline(ee){return typeof ee!="string"?!1:dR._newlines.includes(ee.charCodeAt(0))}static isBreakingSpace(ee,te){return typeof ee!="string"?!1:dR._breakingSpaces.includes(ee.charCodeAt(0))}static _tokenize(ee){const te=[];let se="";if(typeof ee!="string")return te;for(let ne=0;ne<ee.length;ne++){const le=ee[ne],ue=ee[ne+1];if(dR.isBreakingSpace(le,ue)||dR._isNewline(le)){se!==""&&(te.push(se),se=""),te.push(le);continue}se+=le}return se!==""&&te.push(se),te}static canBreakWords(ee,te){return te}static canBreakChars(ee,te,se,ne,le){return!0}static wordWrapSplit(ee){return dR.graphemeSegmenter(ee)}static measureFont(ee){if(dR._fonts[ee])return dR._fonts[ee];const te=dR._context;te.font=ee;const se=te.measureText(dR.METRICS_STRING+dR.BASELINE_SYMBOL),ne={ascent:se.actualBoundingBoxAscent,descent:se.actualBoundingBoxDescent,fontSize:se.actualBoundingBoxAscent+se.actualBoundingBoxDescent};return dR._fonts[ee]=ne,ne}static clearMetrics(ee=""){ee?delete dR._fonts[ee]:dR._fonts={}}static get _canvas(){if(!dR.__canvas){let ee;try{const te=new OffscreenCanvas(0,0),se=te.getContext("2d",contextSettings);if(se!=null&&se.measureText)return dR.__canvas=te,te;ee=DOMAdapter.get().createCanvas()}catch{ee=DOMAdapter.get().createCanvas()}ee.width=ee.height=10,dR.__canvas=ee}return dR.__canvas}static get _context(){return dR.__context||(dR.__context=dR._canvas.getContext("2d",contextSettings)),dR.__context}};_CanvasTextMetrics.METRICS_STRING="|ÉqÅ",_CanvasTextMetrics.BASELINE_SYMBOL="M",_CanvasTextMetrics.BASELINE_MULTIPLIER=1.4,_CanvasTextMetrics.HEIGHT_MULTIPLIER=2,_CanvasTextMetrics.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const ie=new Intl.Segmenter;return ee=>[...ie.segment(ee)].map(te=>te.segment)}return ie=>[...ie]})(),_CanvasTextMetrics.experimentalLetterSpacing=!1,_CanvasTextMetrics._fonts={},_CanvasTextMetrics._newlines=[10,13],_CanvasTextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288],_CanvasTextMetrics._measurementCache={};let CanvasTextMetrics=_CanvasTextMetrics;const valuesToIterateForKeys=["_fontFamily","_fontStyle","_fontSize","_fontVariant","_fontWeight","_breakWords","_align","_leading","_letterSpacing","_lineHeight","_textBaseline","_whiteSpace","_wordWrap","_wordWrapWidth","_padding","_cssOverrides","_trim"];function generateTextStyleKey(ie){const ee=[];let te=0;for(let se=0;se<valuesToIterateForKeys.length;se++){const ne=valuesToIterateForKeys[se];ee[te++]=ie[ne]}return te=addFillStyleKey(ie._fill,ee,te),te=addStokeStyleKey(ie._stroke,ee,te),ee.join("-")}function addFillStyleKey(ie,ee,te){var se;return ie&&(ee[te++]=ie.color,ee[te++]=ie.alpha,ee[te++]=(se=ie.fill)==null?void 0:se.uid),te}function addStokeStyleKey(ie,ee,te){return ie&&(te=addFillStyleKey(ie,ee,te),ee[te++]=ie.width,ee[te++]=ie.alignment,ee[te++]=ie.cap,ee[te++]=ie.join,ee[te++]=ie.miterLimit),te}const _TextStyle=class hD extends EventEmitter{constructor(ee={}){super(),convertV7Tov8Style(ee);const te={...hD.defaultTextStyle,...ee};for(const se in te){const ne=se;this[ne]=te[se]}this.update()}get align(){return this._align}set align(ee){this._align=ee,this.update()}get breakWords(){return this._breakWords}set breakWords(ee){this._breakWords=ee,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(ee){ee!==null&&typeof ee=="object"?this._dropShadow={...hD.defaultDropShadow,...ee}:this._dropShadow=ee?{...hD.defaultDropShadow}:null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(ee){this._fontFamily=ee,this.update()}get fontSize(){return this._fontSize}set fontSize(ee){typeof ee=="string"?this._fontSize=parseInt(ee,10):this._fontSize=ee,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(ee){this._fontStyle=ee,this.update()}get fontVariant(){return this._fontVariant}set fontVariant(ee){this._fontVariant=ee,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(ee){this._fontWeight=ee,this.update()}get leading(){return this._leading}set leading(ee){this._leading=ee,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(ee){this._letterSpacing=ee,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(ee){this._lineHeight=ee,this.update()}get padding(){return this._padding}set padding(ee){this._padding=ee,this.update()}get trim(){return this._trim}set trim(ee){this._trim=ee,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(ee){this._textBaseline=ee,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(ee){this._whiteSpace=ee,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(ee){this._wordWrap=ee,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(ee){this._wordWrapWidth=ee,this.update()}get fill(){return this._originalFill}set fill(ee){ee!==this._originalFill&&(this._originalFill=ee,this._fill=convertFillInputToFillStyle(ee===0?"black":ee,GraphicsContext.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(ee){ee!==this._originalStroke&&(this._originalStroke=ee,this._stroke=convertFillInputToFillStyle(ee,GraphicsContext.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=generateTextStyleKey(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const ee=hD.defaultTextStyle;for(const te in ee)this[te]=ee[te]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new hD({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(ee=!1){var se,ne,le,ue;if(this.removeAllListeners(),typeof ee=="boolean"?ee:ee==null?void 0:ee.texture){const ce=typeof ee=="boolean"?ee:ee==null?void 0:ee.textureSource;(se=this._fill)!=null&&se.texture&&this._fill.texture.destroy(ce),(ne=this._originalFill)!=null&&ne.texture&&this._originalFill.texture.destroy(ce),(le=this._stroke)!=null&&le.texture&&this._stroke.texture.destroy(ce),(ue=this._originalStroke)!=null&&ue.texture&&this._originalStroke.texture.destroy(ce)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}};_TextStyle.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5},_TextStyle.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let TextStyle=_TextStyle;function convertV7Tov8Style(ie){const ee=ie;if(typeof ee.dropShadow=="boolean"&&ee.dropShadow){const te=TextStyle.defaultDropShadow;ie.dropShadow={alpha:ee.dropShadowAlpha??te.alpha,angle:ee.dropShadowAngle??te.angle,blur:ee.dropShadowBlur??te.blur,color:ee.dropShadowColor??te.color,distance:ee.dropShadowDistance??te.distance}}if(ee.strokeThickness){deprecation(v8_0_0,"strokeThickness is now a part of stroke");const te=ee.stroke;ie.stroke={color:te,width:ee.strokeThickness}}if(Array.isArray(ee.fill)){deprecation(v8_0_0,"gradient fill is now a fill pattern: `new FillGradient(...)`");const te=new FillGradient(0,0,0,ie.fontSize*1.7),se=ee.fill.map(ne=>Color.shared.setValue(ne).toNumber());se.forEach((ne,le)=>{const ue=ee.fillGradientStops[le]??le/se.length;te.addColorStop(ue,ne)}),ie.fill={fill:te}}}class CanvasPoolClass{constructor(ee){this._canvasPool=Object.create(null),this.canvasOptions=ee||{},this.enableFullScreen=!1}_createCanvasAndContext(ee,te){const se=DOMAdapter.get().createCanvas();se.width=ee,se.height=te;const ne=se.getContext("2d");return{canvas:se,context:ne}}getOptimalCanvasAndContext(ee,te,se=1){ee=Math.ceil(ee*se-1e-6),te=Math.ceil(te*se-1e-6),ee=nextPow2(ee),te=nextPow2(te);const ne=(ee<<17)+(te<<1);this._canvasPool[ne]||(this._canvasPool[ne]=[]);let le=this._canvasPool[ne].pop();return le||(le=this._createCanvasAndContext(ee,te)),le}returnCanvasAndContext(ee){const{width:te,height:se}=ee.canvas,ne=(te<<17)+(se<<1);this._canvasPool[ne].push(ee)}clear(){this._canvasPool={}}}const CanvasPool=new CanvasPoolClass;function getCanvasFillStyle(ie,ee){if(ie.texture===Texture.WHITE&&!ie.fill)return Color.shared.setValue(ie.color).toHex();if(ie.fill){if(ie.fill instanceof FillPattern){const te=ie.fill,se=ee.createPattern(te.texture.source.resource,"repeat"),ne=te.transform.copyTo(Matrix.shared);return ne.scale(te.texture.frame.width,te.texture.frame.height),se.setTransform(ne),se}else if(ie.fill instanceof FillGradient){const te=ie.fill;if(te.type==="linear"){const se=ee.createLinearGradient(te.x0,te.y0,te.x1,te.y1);return te.gradientStops.forEach(ne=>{se.addColorStop(ne.offset,Color.shared.setValue(ne.color).toHex())}),se}}}else{const te=ee.createPattern(ie.texture.source.resource,"repeat"),se=ie.matrix.copyTo(Matrix.shared);return se.scale(ie.texture.frame.width,ie.texture.frame.height),te.setTransform(se),te}return warn("FillStyle not recognised",ie),"red"}class AbstractBitmapFont extends EventEmitter{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return deprecation(v8_0_0,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return deprecation(v8_0_0,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return deprecation(v8_0_0,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return deprecation(v8_0_0,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return deprecation(v8_0_0,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(ee=!1){this.emit("destroy",this),this.removeAllListeners();for(const te in this.chars)this.chars[te].texture.destroy();this.chars=null,ee&&(this.pages.forEach(te=>te.texture.destroy(!0)),this.pages=null)}}function resolveCharacters(ie){if(ie==="")return[];typeof ie=="string"&&(ie=[ie]);const ee=[];for(let te=0,se=ie.length;te<se;te++){const ne=ie[te];if(Array.isArray(ne)){if(ne.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${ne.length}.`);if(ne[0].length===0||ne[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const le=ne[0].charCodeAt(0),ue=ne[1].charCodeAt(0);if(ue<le)throw new Error("[BitmapFont]: Invalid character range.");for(let ce=le,he=ue;ce<=he;ce++)ee.push(String.fromCharCode(ce))}else ee.push(...Array.from(ne))}if(ee.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return ee}class DynamicBitmapFont extends AbstractBitmapFont{constructor(ee){super(),this.resolution=1,this.pages=[],this._padding=4,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentPageIndex=-1,this._skipKerning=!1;const te=ee,se=te.style.clone();te.overrideFill&&(se._fill.color=16777215,se._fill.alpha=1,se._fill.texture=Texture.WHITE,se._fill.fill=null);const ne=se.fontSize;se.fontSize=this.baseMeasurementFontSize;const le=fontStringFromTextStyle(se);te.overrideSize?se._stroke&&(se._stroke.width*=this.baseRenderedFontSize/ne):se.fontSize=this.baseRenderedFontSize=ne,this._style=se,this._skipKerning=te.skipKerning??!1,this.resolution=te.resolution??1,this._padding=te.padding??4,this.fontMetrics=CanvasTextMetrics.measureFont(le),this.lineHeight=se.lineHeight||this.fontMetrics.fontSize||se.fontSize}ensureCharacters(ee){var Ne,we;const te=resolveCharacters(ee).filter(De=>!this._currentChars.includes(De)).filter((De,$e,Ge)=>Ge.indexOf(De)===$e);if(!te.length)return;this._currentChars=[...this._currentChars,...te];let se;this._currentPageIndex===-1?se=this._nextPage():se=this.pages[this._currentPageIndex];let{canvas:ne,context:le}=se.canvasAndContext,ue=se.texture.source;const ce=this._style;let he=this._currentX,de=this._currentY;const _e=this.baseRenderedFontSize/this.baseMeasurementFontSize,fe=this._padding*_e,ye=ce.fontStyle==="italic"?2:1;let be=0,Pe=!1;for(let De=0;De<te.length;De++){const $e=te[De],Ge=CanvasTextMetrics.measureText($e,ce,ne,!1);Ge.lineHeight=Ge.height;const Be=ye*Ge.width*_e,ze=Ge.height*_e,$t=Be+fe*2,ut=ze+fe*2;if(Pe=!1,$e!==`
`&&$e!=="\r"&&$e!=="	"&&$e!==" "&&(Pe=!0,be=Math.ceil(Math.max(ut,be))),he+$t>512&&(de+=be,be=ut,he=0,de+be>512)){ue.update();const Hi=this._nextPage();ne=Hi.canvasAndContext.canvas,le=Hi.canvasAndContext.context,ue=Hi.texture.source,de=0}const Ti=Be/_e-(((Ne=ce.dropShadow)==null?void 0:Ne.distance)??0)-(((we=ce._stroke)==null?void 0:we.width)??0);if(this.chars[$e]={id:$e.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:Ti,kerning:{}},Pe){this._drawGlyph(le,Ge,he+fe,de+fe,_e,ce);const Hi=ue.width*_e,bn=ue.height*_e,gd=new Rectangle(he/Hi*ue.width,de/bn*ue.height,$t/Hi*ue.width,ut/bn*ue.height);this.chars[$e].texture=new Texture({source:ue,frame:gd}),he+=Math.ceil($t)}}ue.update(),this._currentX=he,this._currentY=de,this._skipKerning&&this._applyKerning(te,le)}get pageTextures(){return deprecation(v8_0_0,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(ee,te){const se=this._measureCache;for(let ne=0;ne<ee.length;ne++){const le=ee[ne];for(let ue=0;ue<this._currentChars.length;ue++){const ce=this._currentChars[ue];let he=se[le];he||(he=se[le]=te.measureText(le).width);let de=se[ce];de||(de=se[ce]=te.measureText(ce).width);let _e=te.measureText(le+ce).width,fe=_e-(he+de);fe&&(this.chars[le].kerning[ce]=fe),_e=te.measureText(le+ce).width,fe=_e-(he+de),fe&&(this.chars[ce].kerning[le]=fe)}}}_nextPage(){this._currentPageIndex++;const ee=this.resolution,te=CanvasPool.getOptimalCanvasAndContext(512,512,ee);this._setupContext(te.context,this._style,ee);const se=ee*(this.baseRenderedFontSize/this.baseMeasurementFontSize),ne=new Texture({source:new ImageSource({resource:te.canvas,resolution:se,alphaMode:"premultiply-alpha-on-upload"})}),le={canvasAndContext:te,texture:ne};return this.pages[this._currentPageIndex]=le,le}_setupContext(ee,te,se){te.fontSize=this.baseRenderedFontSize,ee.scale(se,se),ee.font=fontStringFromTextStyle(te),te.fontSize=this.baseMeasurementFontSize,ee.textBaseline=te.textBaseline;const ne=te._stroke,le=(ne==null?void 0:ne.width)??0;if(ne&&(ee.lineWidth=le,ee.lineJoin=ne.join,ee.miterLimit=ne.miterLimit,ee.strokeStyle=getCanvasFillStyle(ne,ee)),te._fill&&(ee.fillStyle=getCanvasFillStyle(te._fill,ee)),te.dropShadow){const ue=te.dropShadow,ce=Color.shared.setValue(ue.color).toArray(),he=ue.blur*se,de=ue.distance*se;ee.shadowColor=`rgba(${ce[0]*255},${ce[1]*255},${ce[2]*255},${ue.alpha})`,ee.shadowBlur=he,ee.shadowOffsetX=Math.cos(ue.angle)*de,ee.shadowOffsetY=Math.sin(ue.angle)*de}else ee.shadowColor="black",ee.shadowBlur=0,ee.shadowOffsetX=0,ee.shadowOffsetY=0}_drawGlyph(ee,te,se,ne,le,ue){const ce=te.text,he=te.fontProperties,de=ue._stroke,_e=((de==null?void 0:de.width)??0)*le,fe=se+_e/2,ye=ne-_e/2,be=he.descent*le,Pe=te.lineHeight*le;ue.stroke&&_e&&ee.strokeText(ce,fe,ye+Pe-be),ue._fill&&ee.fillText(ce,fe,ye+Pe-be)}destroy(){super.destroy();for(let ee=0;ee<this.pages.length;ee++){const{canvasAndContext:te,texture:se}=this.pages[ee];CanvasPool.returnCanvasAndContext(te),se.destroy(!0)}this.pages=null}}function getBitmapTextLayout(ie,ee,te){const se={width:0,height:0,offsetY:0,scale:ee.fontSize/te.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};se.offsetY=te.baseLineOffset;let ne=se.lines[0],le=null,ue=!0;const ce={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},he=be=>{const Pe=ne.width;for(let Ne=0;Ne<ce.index;Ne++){const we=be.positions[Ne];ne.chars.push(be.chars[Ne]),ne.charPositions.push(we+Pe)}ne.width+=be.width,ue=!1,ce.width=0,ce.index=0,ce.chars.length=0},de=()=>{let be=ne.chars.length-1,Pe=ne.chars[be];for(;Pe===" ";)ne.width-=te.chars[Pe].xAdvance,Pe=ne.chars[--be];se.width=Math.max(se.width,ne.width),ne={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},ue=!0,se.lines.push(ne),se.height+=te.lineHeight},_e=te.baseMeasurementFontSize/ee.fontSize,fe=ee.letterSpacing*_e,ye=ee.wordWrapWidth*_e;for(let be=0;be<ie.length+1;be++){let Pe;const Ne=be===ie.length;Ne||(Pe=ie[be]);const we=te.chars[Pe]||te.chars[" "];if(/(?:\s)/.test(Pe)||Pe==="\r"||Pe===`
`||Ne){if(!ue&&ee.wordWrap&&ne.width+ce.width-fe>ye?(de(),he(ce),Ne||ne.charPositions.push(0)):(ce.start=ne.width,he(ce),Ne||ne.charPositions.push(0)),Pe==="\r"||Pe===`
`)ne.width!==0&&de();else if(!Ne){const Be=we.xAdvance+(we.kerning[le]||0)+fe;ne.width+=Be,ne.spaceWidth=Be,ne.spacesIndex.push(ne.charPositions.length),ne.chars.push(Pe)}}else{const Ge=we.kerning[le]||0,Be=we.xAdvance+Ge+fe;ce.positions[ce.index++]=ce.width+Ge,ce.chars.push(Pe),ce.width+=Be}le=Pe}return de(),ee.align==="center"?alignCenter(se):ee.align==="right"?alignRight(se):ee.align==="justify"&&alignJustify(se),se}function alignCenter(ie){for(let ee=0;ee<ie.lines.length;ee++){const te=ie.lines[ee],se=ie.width/2-te.width/2;for(let ne=0;ne<te.charPositions.length;ne++)te.charPositions[ne]+=se}}function alignRight(ie){for(let ee=0;ee<ie.lines.length;ee++){const te=ie.lines[ee],se=ie.width-te.width;for(let ne=0;ne<te.charPositions.length;ne++)te.charPositions[ne]+=se}}function alignJustify(ie){const ee=ie.width;for(let te=0;te<ie.lines.length;te++){const se=ie.lines[te];let ne=0,le=se.spacesIndex[ne++],ue=0;const ce=se.spacesIndex.length,de=(ee-se.width)/ce;for(let _e=0;_e<se.charPositions.length;_e++)_e===le&&(le=se.spacesIndex[ne++],ue+=de),se.charPositions[_e]+=ue}}class BitmapFontManagerClass{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1}}getFont(ee,te){var ue;let se=`${te.fontFamily}-bitmap`,ne=!0;if(te._fill.fill&&(se+=te._fill.fill.uid,ne=!1),!Cache.has(se)){const ce=new DynamicBitmapFont({style:te,overrideFill:ne,overrideSize:!0,...this.defaultOptions});ce.once("destroy",()=>Cache.remove(se)),Cache.set(se,ce)}const le=Cache.get(se);return(ue=le.ensureCharacters)==null||ue.call(le,ee),le}getLayout(ee,te){const se=this.getFont(ee,te);return getBitmapTextLayout(ee.split(""),te,se)}measureText(ee,te){return this.getLayout(ee,te)}install(...ee){var de,_e,fe,ye;let te=ee[0];typeof te=="string"&&(te={name:te,style:ee[1],chars:(de=ee[2])==null?void 0:de.chars,resolution:(_e=ee[2])==null?void 0:_e.resolution,padding:(fe=ee[2])==null?void 0:fe.padding,skipKerning:(ye=ee[2])==null?void 0:ye.skipKerning},deprecation(v8_0_0,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const se=te==null?void 0:te.name;if(!se)throw new Error("[BitmapFontManager] Property `name` is required.");te={...this.defaultOptions,...te};const ne=te.style,le=ne instanceof TextStyle?ne:new TextStyle(ne),ue=le._fill.fill!==null&&le._fill.fill!==void 0,ce=new DynamicBitmapFont({style:le,overrideFill:ue,skipKerning:te.skipKerning,padding:te.padding,resolution:te.resolution,overrideSize:!1}),he=resolveCharacters(te.chars);return ce.ensureCharacters(he.join("")),Cache.set(`${se}-bitmap`,ce),ce.once("destroy",()=>Cache.remove(`${se}-bitmap`)),ce}uninstall(ee){const te=`${ee}-bitmap`,se=Cache.get(te);se&&(Cache.remove(te),se.destroy())}}const BitmapFontManager=new BitmapFontManagerClass;function textStyleToCSS(ie){const ee=ie._stroke,te=ie._fill,ne=[`div { ${[`color: ${Color.shared.setValue(te.color).toHex()}`,`font-size: ${ie.fontSize}px`,`font-family: ${ie.fontFamily}`,`font-weight: ${ie.fontWeight}`,`font-style: ${ie.fontStyle}`,`font-variant: ${ie.fontVariant}`,`letter-spacing: ${ie.letterSpacing}px`,`text-align: ${ie.align}`,`padding: ${ie.padding}px`,`white-space: ${ie.whiteSpace==="pre"&&ie.wordWrap?"pre-wrap":ie.whiteSpace}`,...ie.lineHeight?[`line-height: ${ie.lineHeight}px`]:[],...ie.wordWrap?[`word-wrap: ${ie.breakWords?"break-all":"break-word"}`,`max-width: ${ie.wordWrapWidth}px`]:[],...ee?[strokeToCSS(ee)]:[],...ie.dropShadow?[dropShadowToCSS(ie.dropShadow)]:[],...ie.cssOverrides].join(";")} }`];return tagStyleToCSS(ie.tagStyles,ne),ne.join(" ")}function dropShadowToCSS(ie){const ee=Color.shared.setValue(ie.color).setAlpha(ie.alpha).toHexa(),te=Math.round(Math.cos(ie.angle)*ie.distance),se=Math.round(Math.sin(ie.angle)*ie.distance),ne=`${te}px ${se}px`;return ie.blur>0?`text-shadow: ${ne} ${ie.blur}px ${ee}`:`text-shadow: ${ne} ${ee}`}function strokeToCSS(ie){return[`-webkit-text-stroke-width: ${ie.width}px`,`-webkit-text-stroke-color: ${Color.shared.setValue(ie.color).toHex()}`,`text-stroke-width: ${ie.width}px`,`text-stroke-color: ${Color.shared.setValue(ie.color).toHex()}`,"paint-order: stroke"].join(";")}const templates={fontSize:"font-size: {{VALUE}}px",fontFamily:"font-family: {{VALUE}}",fontWeight:"font-weight: {{VALUE}}",fontStyle:"font-style: {{VALUE}}",fontVariant:"font-variant: {{VALUE}}",letterSpacing:"letter-spacing: {{VALUE}}px",align:"text-align: {{VALUE}}",padding:"padding: {{VALUE}}px",whiteSpace:"white-space: {{VALUE}}",lineHeight:"line-height: {{VALUE}}px",wordWrapWidth:"max-width: {{VALUE}}px"},transform$1={fill:ie=>`color: ${Color.shared.setValue(ie).toHex()}`,breakWords:ie=>`word-wrap: ${ie?"break-all":"break-word"}`,stroke:strokeToCSS,dropShadow:dropShadowToCSS};function tagStyleToCSS(ie,ee){for(const te in ie){const se=ie[te],ne=[];for(const le in se)transform$1[le]?ne.push(transform$1[le](se[le])):templates[le]&&ne.push(templates[le].replace("{{VALUE}}",se[le]));ee.push(`${te} { ${ne.join(";")} }`)}}class HTMLTextStyle extends TextStyle{constructor(ee={}){super(ee),this._cssOverrides=[],this.cssOverrides??(this.cssOverrides=ee.cssOverrides),this.tagStyles=ee.tagStyles??{}}set cssOverrides(ee){this._cssOverrides=ee instanceof Array?ee:[ee],this.update()}get cssOverrides(){return this._cssOverrides}_generateKey(){return this._styleKey=generateTextStyleKey(this)+this._cssOverrides.join("-"),this._styleKey}update(){this._cssStyle=null,super.update()}clone(){return new HTMLTextStyle({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides})}get cssStyle(){return this._cssStyle||(this._cssStyle=textStyleToCSS(this)),this._cssStyle}addOverride(...ee){const te=ee.filter(se=>!this.cssOverrides.includes(se));te.length>0&&(this.cssOverrides.push(...te),this.update())}removeOverride(...ee){const te=ee.filter(se=>this.cssOverrides.includes(se));te.length>0&&(this.cssOverrides=this.cssOverrides.filter(se=>!te.includes(se)),this.update())}set fill(ee){typeof ee!="string"&&typeof ee!="number"&&warn("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=ee}set stroke(ee){ee&&typeof ee!="string"&&typeof ee!="number"&&warn("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=ee}}const nssvg="http://www.w3.org/2000/svg",nsxhtml="http://www.w3.org/1999/xhtml";class HTMLTextRenderData{constructor(){this.svgRoot=document.createElementNS(nssvg,"svg"),this.foreignObject=document.createElementNS(nssvg,"foreignObject"),this.domElement=document.createElementNS(nsxhtml,"div"),this.styleElement=document.createElementNS(nsxhtml,"style"),this.image=new Image;const{foreignObject:ee,svgRoot:te,styleElement:se,domElement:ne}=this;ee.setAttribute("width","10000"),ee.setAttribute("height","10000"),ee.style.overflow="hidden",te.appendChild(ee),ee.appendChild(se),ee.appendChild(ne)}}let tempHTMLTextRenderData;function measureHtmlText(ie,ee,te,se){se=se||tempHTMLTextRenderData||(tempHTMLTextRenderData=new HTMLTextRenderData);const{domElement:ne,styleElement:le,svgRoot:ue}=se;ne.innerHTML=`<style>${ee.cssStyle}</style><div>${ie}</div>`,ne.setAttribute("style","transform-origin: top left; display: inline-block"),te&&(le.textContent=te),document.body.appendChild(ue);const ce=ne.getBoundingClientRect();ue.remove();const he=CanvasTextMetrics.measureFont(ee.fontStyle).descent;return{width:ce.width,height:ce.height+he}}function addBits(ie,ee,te){if(ie)for(const se in ie){const ne=se.toLocaleLowerCase(),le=ee[ne];if(le){let ue=ie[se];se==="header"&&(ue=ue.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),te&&le.push(`//----${te}----//`),le.push(ue)}else warn(`${se} placement hook does not exist in shader`)}}const findHooksRx=/\{\{(.*?)\}\}/g;function compileHooks(ie){var se;const ee={};return(((se=ie.match(findHooksRx))==null?void 0:se.map(ne=>ne.replace(/[{()}]/g,"")))??[]).forEach(ne=>{ee[ne]=[]}),ee}function extractInputs(ie,ee){let te;const se=/@in\s+([^;]+);/g;for(;(te=se.exec(ie))!==null;)ee.push(te[1])}function compileInputs(ie,ee,te=!1){const se=[];extractInputs(ee,se),ie.forEach(ce=>{ce.header&&extractInputs(ce.header,se)});const ne=se;te&&ne.sort();const le=ne.map((ce,he)=>`       @location(${he}) ${ce},`).join(`
`);let ue=ee.replace(/@in\s+[^;]+;\s*/g,"");return ue=ue.replace("{{in}}",`
${le}
`),ue}function extractOutputs(ie,ee){let te;const se=/@out\s+([^;]+);/g;for(;(te=se.exec(ie))!==null;)ee.push(te[1])}function extractVariableName(ie){const te=/\b(\w+)\s*:/g.exec(ie);return te?te[1]:""}function stripVariable(ie){const ee=/@.*?\s+/g;return ie.replace(ee,"")}function compileOutputs(ie,ee){const te=[];extractOutputs(ee,te),ie.forEach(he=>{he.header&&extractOutputs(he.header,te)});let se=0;const ne=te.sort().map(he=>he.indexOf("builtin")>-1?he:`@location(${se++}) ${he}`).join(`,
`),le=te.sort().map(he=>`       var ${stripVariable(he)};`).join(`
`),ue=`return VSOutput(
                ${te.sort().map(he=>` ${extractVariableName(he)}`).join(`,
`)});`;let ce=ee.replace(/@out\s+[^;]+;\s*/g,"");return ce=ce.replace("{{struct}}",`
${ne}
`),ce=ce.replace("{{start}}",`
${le}
`),ce=ce.replace("{{return}}",`
${ue}
`),ce}function injectBits(ie,ee){let te=ie;for(const se in ee){const ne=ee[se];ne.join(`
`).length?te=te.replace(`{{${se}}}`,`//-----${se} START-----//
${ne.join(`
`)}
//----${se} FINISH----//`):te=te.replace(`{{${se}}}`,"")}return te}const cacheMap=Object.create(null),bitCacheMap=new Map;let CACHE_UID=0;function compileHighShader({template:ie,bits:ee}){const te=generateCacheId(ie,ee);if(cacheMap[te])return cacheMap[te];const{vertex:se,fragment:ne}=compileInputsAndOutputs(ie,ee);return cacheMap[te]=compileBits(se,ne,ee),cacheMap[te]}function compileHighShaderGl({template:ie,bits:ee}){const te=generateCacheId(ie,ee);return cacheMap[te]||(cacheMap[te]=compileBits(ie.vertex,ie.fragment,ee)),cacheMap[te]}function compileInputsAndOutputs(ie,ee){const te=ee.map(ue=>ue.vertex).filter(ue=>!!ue),se=ee.map(ue=>ue.fragment).filter(ue=>!!ue);let ne=compileInputs(te,ie.vertex,!0);ne=compileOutputs(te,ne);const le=compileInputs(se,ie.fragment,!0);return{vertex:ne,fragment:le}}function generateCacheId(ie,ee){return ee.map(te=>(bitCacheMap.has(te)||bitCacheMap.set(te,CACHE_UID++),bitCacheMap.get(te))).sort((te,se)=>te-se).join("-")+ie.vertex+ie.fragment}function compileBits(ie,ee,te){const se=compileHooks(ie),ne=compileHooks(ee);return te.forEach(le=>{addBits(le.vertex,se,le.name),addBits(le.fragment,ne,le.name)}),{vertex:injectBits(ie,se),fragment:injectBits(ee,ne)}}const vertexGPUTemplate=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,fragmentGPUTemplate=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        return outColor * vColor;
      };
`,vertexGlTemplate=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,fragmentGlTemplate=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
    }
`,globalUniformsBit={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},globalUniformsBitGl={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function compileHighShaderGpuProgram({bits:ie,name:ee}){const te=compileHighShader({template:{fragment:fragmentGPUTemplate,vertex:vertexGPUTemplate},bits:[globalUniformsBit,...ie]});return GpuProgram.from({name:ee,vertex:{source:te.vertex,entryPoint:"main"},fragment:{source:te.fragment,entryPoint:"main"}})}function compileHighShaderGlProgram({bits:ie,name:ee}){return new GlProgram({name:ee,...compileHighShaderGl({template:{vertex:vertexGlTemplate,fragment:fragmentGlTemplate},bits:[globalUniformsBitGl,...ie]})})}const colorBit={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},colorBitGl={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},textureBatchBitGpuCache={};function generateBindingSrc(ie){const ee=[];{let te=0;for(let se=0;se<ie;se++)ee.push(`@group(1) @binding(${te++}) var textureSource${se+1}: texture_2d<f32>;`),ee.push(`@group(1) @binding(${te++}) var textureSampler${se+1}: sampler;`)}return ee.join(`
`)}function generateSampleSrc(ie){const ee=[];{ee.push("switch vTextureId {");for(let te=0;te<ie;te++)te===ie-1?ee.push("  default:{"):ee.push(`  case ${te}:{`),ee.push(`      outColor = textureSampleGrad(textureSource${te+1}, textureSampler${te+1}, vUV, uvDx, uvDy);`),ee.push("      break;}");ee.push("}")}return ee.join(`
`)}function generateTextureBatchBit(ie){return textureBatchBitGpuCache[ie]||(textureBatchBitGpuCache[ie]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;
    
                ${generateBindingSrc(16)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);
    
                ${generateSampleSrc(16)}
            `}}),textureBatchBitGpuCache[ie]}const textureBatchBitGlCache={};function generateSampleGlSrc(ie){const ee=[];for(let te=0;te<ie;te++)te>0&&ee.push("else"),te<ie-1&&ee.push(`if(vTextureId < ${te}.5)`),ee.push("{"),ee.push(`	outColor = texture(uTextures[${te}], vUV);`),ee.push("}");return ee.join(`
`)}function generateTextureBatchBitGl(ie){return textureBatchBitGlCache[ie]||(textureBatchBitGlCache[ie]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;
              
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;
    
                uniform sampler2D uTextures[${ie}];
              
            `,main:`
    
                ${generateSampleGlSrc(16)}
            `}}),textureBatchBitGlCache[ie]}const roundPixelsBit={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor((position * 0.5 + 0.5) * targetSize) / targetSize) * 2.0 - 1.0;
            }
        `}},roundPixelsBitGl={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor((position * 0.5 + 0.5) * targetSize) / targetSize) * 2.0 - 1.0;
            }
        `}},sampleValues=new Int32Array(MAX_TEXTURES);for(let ie=0;ie<MAX_TEXTURES;ie++)sampleValues[ie]=ie;const batchSamplersUniformGroup=new UniformGroup({uTextures:{value:sampleValues,type:"i32",size:MAX_TEXTURES}},{isStatic:!0});class GlBatchAdaptor{constructor(){this._didUpload=!1,this._tempState=State.for2d()}init(ee){const te=compileHighShaderGlProgram({name:"batch",bits:[colorBitGl,generateTextureBatchBitGl(MAX_TEXTURES),roundPixelsBitGl]});this._shader=new Shader({glProgram:te,resources:{batchSamplers:batchSamplersUniformGroup}}),ee.renderer.runners.contextChange.add(this)}contextChange(){this._didUpload=!1}start(ee,te){const se=ee.renderer;se.shader.bind(this._shader,this._didUpload),se.shader.updateUniformGroup(se.globalUniforms.uniformGroup),se.geometry.bind(te,this._shader.glProgram)}execute(ee,te){const se=ee.renderer;this._didUpload=!0,this._tempState.blendMode=te.blendMode,se.state.set(this._tempState);const ne=te.textures.textures;for(let le=0;le<ne.length;le++)se.texture.bind(ne[le],le);se.geometry.draw("triangle-list",te.size,te.start)}destroy(){this._shader.destroy(!0),this._shader=null}}GlBatchAdaptor.extension={type:[ExtensionType.WebGLPipesAdaptor],name:"batch"};const tempState=State.for2d();class GpuBatchAdaptor{init(){const ee=compileHighShaderGpuProgram({name:"batch",bits:[colorBit,generateTextureBatchBit(MAX_TEXTURES),roundPixelsBit]});this._shader=new Shader({gpuProgram:ee,groups:{}})}start(ee,te){const se=ee.renderer,ne=se.encoder,le=this._shader.gpuProgram;this._geometry=te,ne.setGeometry(te),tempState.blendMode="normal",se.pipeline.getPipeline(te,le,tempState);const ue=se.globalUniforms.bindGroup;ne.resetBindGroup(1),ne.setBindGroup(0,ue,le)}execute(ee,te){const se=this._shader.gpuProgram,ne=ee.renderer,le=ne.encoder;if(!te.bindGroup){const he=te.textures;te.bindGroup=getTextureBatchBindGroup(he.textures,he.count)}tempState.blendMode=te.blendMode;const ue=ne.bindGroup.getBindGroup(te.bindGroup,se,1),ce=ne.pipeline.getPipeline(this._geometry,se,tempState);te.bindGroup._touch(ne.textureGC.count),le.setPipeline(ce),le.renderPassEncoder.setBindGroup(1,ue),le.renderPassEncoder.drawIndexed(te.size,1,te.start)}destroy(){this._shader.destroy(!0),this._shader=null}}GpuBatchAdaptor.extension={type:[ExtensionType.WebGPUPipesAdaptor],name:"batch"};class BatcherPipe{constructor(ee,te){this.state=State.for2d(),this._batches=Object.create(null),this._geometries=Object.create(null),this.renderer=ee,this._adaptor=te,this._adaptor.init(this)}buildStart(ee){if(!this._batches[ee.uid]){const te=new Batcher;this._batches[ee.uid]=te,this._geometries[te.uid]=new BatchGeometry}this._activeBatch=this._batches[ee.uid],this._activeGeometry=this._geometries[this._activeBatch.uid],this._activeBatch.begin()}addToBatch(ee){this._activeBatch.add(ee)}break(ee){this._activeBatch.break(ee)}buildEnd(ee){const te=this._activeBatch,se=this._activeGeometry;te.finish(ee),se.indexBuffer.setDataWithSize(te.indexBuffer,te.indexSize,!0),se.buffers[0].setDataWithSize(te.attributeBuffer.float32View,te.attributeSize,!1)}upload(ee){const te=this._batches[ee.uid],se=this._geometries[te.uid];te.dirty&&(te.dirty=!1,se.buffers[0].update(te.attributeSize*4))}execute(ee){if(ee.action==="startBatch"){const te=ee.batcher,se=this._geometries[te.uid];this._adaptor.start(this,se)}this._adaptor.execute(this,ee)}destroy(){this.state=null,this.renderer=null,this._adaptor.destroy(),this._adaptor=null;for(const ee in this._batches)this._batches[ee].destroy();this._batches=null;for(const ee in this._geometries)this._geometries[ee].destroy();this._geometries=null}}BatcherPipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"batch"};const localUniformBit={name:"local-uniform-bit",vertex:{header:`

            struct LocalUniforms {
                uTransformMatrix:mat3x3<f32>,
                uColor:vec4<f32>,
                uRound:f32,
            }

            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `}},localUniformBitGroup2={...localUniformBit,vertex:{...localUniformBit.vertex,header:localUniformBit.vertex.header.replace("group(1)","group(2)")}},localUniformBitGl={name:"local-uniform-bit",vertex:{header:`

            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix = uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `}},textureBit={name:"texture-bit",vertex:{header:`

        struct TextureUniforms {
            uTextureMatrix:mat3x3<f32>,
        }

        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
        `,main:`
            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
            @group(2) @binding(0) var uTexture: texture_2d<f32>;
            @group(2) @binding(1) var uSampler: sampler;

         
        `,main:`
            outColor = textureSample(uTexture, uSampler, vUV);
        `}},textureBitGl={name:"texture-bit",vertex:{header:`
            uniform mat3 uTextureMatrix;
        `,main:`
            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
        `},fragment:{header:`
        uniform sampler2D uTexture;

         
        `,main:`
            outColor = texture(uTexture, vUV);
        `}};function buildInstructions(ie,ee){const te=ie.root,se=ie.instructionSet;se.reset(),ee.batch.buildStart(se),ee.blendMode.buildStart(),ee.colorMask.buildStart(),te.sortableChildren&&te.sortChildren(),collectAllRenderablesAdvanced(te,se,ee,!0),ee.batch.buildEnd(se),ee.blendMode.buildEnd(se)}function collectAllRenderables(ie,ee,te){ie.globalDisplayStatus<7||!ie.includeInBuild||(ie.sortableChildren&&ie.sortChildren(),ie.isSimple?collectAllRenderablesSimple(ie,ee,te):collectAllRenderablesAdvanced(ie,ee,te,!1))}function collectAllRenderablesSimple(ie,ee,te){if(ie.renderPipeId&&(te.blendMode.setBlendMode(ie,ie.groupBlendMode,ee),ie.didViewUpdate=!1,te[ie.renderPipeId].addRenderable(ie,ee)),!ie.isRenderGroupRoot){const se=ie.children,ne=se.length;for(let le=0;le<ne;le++)collectAllRenderables(se[le],ee,te)}}function collectAllRenderablesAdvanced(ie,ee,te,se){if(!se&&ie.isRenderGroupRoot)te.renderGroup.addRenderGroup(ie.renderGroup,ee);else{for(let ue=0;ue<ie.effects.length;ue++){const ce=ie.effects[ue];te[ce.pipe].push(ce,ie,ee)}const ne=ie.renderPipeId;ne&&(te.blendMode.setBlendMode(ie,ie.groupBlendMode,ee),ie.didViewUpdate=!1,te[ne].addRenderable(ie,ee));const le=ie.children;if(le.length)for(let ue=0;ue<le.length;ue++)collectAllRenderables(le[ue],ee,te);for(let ue=ie.effects.length-1;ue>=0;ue--){const ce=ie.effects[ue];te[ce.pipe].pop(ce,ie,ee)}}}const tempBounds$2=new Bounds;class AlphaMaskEffect extends FilterEffect{constructor(){super({filters:[new MaskFilter({sprite:new Sprite(Texture.EMPTY)})]})}get sprite(){return this.filters[0].sprite}set sprite(ee){this.filters[0].sprite=ee}}class AlphaMaskPipe{constructor(ee){this._activeMaskStage=[],this._renderer=ee}push(ee,te,se){const ne=this._renderer;if(ne.renderPipes.batch.break(se),se.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:ee,canBundle:!1,maskedContainer:te}),ee.renderMaskToTexture){const le=ee.mask;le.includeInBuild=!0,collectAllRenderables(le,se,ne.renderPipes),le.includeInBuild=!1}ne.renderPipes.batch.break(se),se.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:ee,maskedContainer:te,canBundle:!1})}pop(ee,te,se){this._renderer.renderPipes.batch.break(se),se.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:ee,canBundle:!1})}execute(ee){const te=this._renderer,se=ee.mask.renderMaskToTexture;if(ee.action==="pushMaskBegin"){const ne=BigPool.get(AlphaMaskEffect);if(se){ee.mask.mask.measurable=!0;const le=getGlobalBounds(ee.mask.mask,!0,tempBounds$2);ee.mask.mask.measurable=!1,le.ceil();const ue=TexturePool.getOptimalTexture(le.width,le.height,1,!1);te.renderTarget.push(ue,!0),te.globalUniforms.push({offset:le,worldColor:4294967295});const ce=ne.sprite;ce.texture=ue,ce.worldTransform.tx=le.minX,ce.worldTransform.ty=le.minY,this._activeMaskStage.push({filterEffect:ne,maskedContainer:ee.maskedContainer,filterTexture:ue})}else ne.sprite=ee.mask.mask,this._activeMaskStage.push({filterEffect:ne,maskedContainer:ee.maskedContainer})}else if(ee.action==="pushMaskEnd"){const ne=this._activeMaskStage[this._activeMaskStage.length-1];se&&(te.renderTarget.pop(),te.globalUniforms.pop()),te.filter.push({renderPipeId:"filter",action:"pushFilter",container:ne.maskedContainer,filterEffect:ne.filterEffect,canBundle:!1})}else if(ee.action==="popMaskEnd"){te.filter.pop();const ne=this._activeMaskStage.pop();se&&TexturePool.returnTexture(ne.filterTexture),BigPool.return(ne.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}AlphaMaskPipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"alphaMask"};class ColorMaskPipe{constructor(ee){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=ee}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(ee,te,se){this._renderer.renderPipes.batch.break(se);const le=this._colorStack;le[this._colorStackIndex]=le[this._colorStackIndex-1]&ee.mask;const ue=this._colorStack[this._colorStackIndex];ue!==this._currentColor&&(this._currentColor=ue,se.add({renderPipeId:"colorMask",colorMask:ue,canBundle:!1})),this._colorStackIndex++}pop(ee,te,se){this._renderer.renderPipes.batch.break(se);const le=this._colorStack;this._colorStackIndex--;const ue=le[this._colorStackIndex-1];ue!==this._currentColor&&(this._currentColor=ue,se.add({renderPipeId:"colorMask",colorMask:ue,canBundle:!1}))}execute(ee){this._renderer.colorMask.setMask(ee.colorMask)}destroy(){this._colorStack=null}}ColorMaskPipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"colorMask"};class StencilMaskPipe{constructor(ee){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=ee}push(ee,te,se){var ne;const le=ee,ue=this._renderer;ue.renderPipes.batch.break(se),ue.renderPipes.blendMode.setBlendMode(le.mask,"none",se),se.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:ee,canBundle:!1});const ce=le.mask;ce.includeInBuild=!0,this._maskHash.has(le)||this._maskHash.set(le,{instructionsStart:0,instructionsLength:0});const he=this._maskHash.get(le);he.instructionsStart=se.instructionSize,collectAllRenderables(ce,se,ue.renderPipes),ce.includeInBuild=!1,ue.renderPipes.batch.break(se),se.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:ee,canBundle:!1});const de=se.instructionSize-he.instructionsStart-1;he.instructionsLength=de;const _e=ue.renderTarget.renderTarget.uid;(ne=this._maskStackHash)[_e]??(ne[_e]=0)}pop(ee,te,se){const ne=ee,le=this._renderer;le.renderPipes.batch.break(se),le.renderPipes.blendMode.setBlendMode(ne.mask,"none",se),se.add({renderPipeId:"stencilMask",action:"popMaskBegin",canBundle:!1});const ue=this._maskHash.get(ee);for(let ce=0;ce<ue.instructionsLength;ce++)se.instructions[se.instructionSize++]=se.instructions[ue.instructionsStart++];se.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(ee){var te;const se=this._renderer,ne=se.renderTarget.renderTarget.uid;let le=(te=this._maskStackHash)[ne]??(te[ne]=0);ee.action==="pushMaskBegin"?(se.renderTarget.ensureDepthStencil(),se.stencil.setStencilMode(STENCIL_MODES.RENDERING_MASK_ADD,le),le++,se.colorMask.setMask(0)):ee.action==="pushMaskEnd"?(se.stencil.setStencilMode(STENCIL_MODES.MASK_ACTIVE,le),se.colorMask.setMask(15)):ee.action==="popMaskBegin"?(se.colorMask.setMask(0),le!==0?se.stencil.setStencilMode(STENCIL_MODES.RENDERING_MASK_REMOVE,le):(se.renderTarget.clear(null,CLEAR.STENCIL),se.stencil.setStencilMode(STENCIL_MODES.DISABLED,le)),le--):ee.action==="popMaskEnd"&&(se.stencil.setStencilMode(STENCIL_MODES.MASK_ACTIVE,le),se.colorMask.setMask(15)),this._maskStackHash[ne]=le}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}StencilMaskPipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"stencilMask"};var BUFFER_TYPE=(ie=>(ie[ie.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",ie[ie.ARRAY_BUFFER=34962]="ARRAY_BUFFER",ie[ie.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",ie))(BUFFER_TYPE||{});class GlBuffer{constructor(ee,te){this.buffer=ee||null,this.updateID=-1,this.byteLength=-1,this.type=te}}class GlBufferSystem{constructor(ee){this._gpuBuffers=Object.create(null),this._boundBufferBases=Object.create(null),this._renderer=ee}destroy(){this._renderer=null,this._gl=null,this._gpuBuffers=null,this._boundBufferBases=null}contextChange(){this._gpuBuffers=Object.create(null),this._gl=this._renderer.gl}getGlBuffer(ee){return this._gpuBuffers[ee.uid]||this.createGLBuffer(ee)}bind(ee){const{_gl:te}=this,se=this.getGlBuffer(ee);te.bindBuffer(se.type,se.buffer)}bindBufferBase(ee,te){const{_gl:se}=this;if(this._boundBufferBases[te]!==ee){const ne=this.getGlBuffer(ee);this._boundBufferBases[te]=ee,se.bindBufferBase(se.UNIFORM_BUFFER,te,ne.buffer)}}bindBufferRange(ee,te,se){const{_gl:ne}=this;se=se||0;const le=this.getGlBuffer(ee);ne.bindBufferRange(ne.UNIFORM_BUFFER,te||0,le.buffer,se*256,256)}updateBuffer(ee){const{_gl:te}=this,se=this.getGlBuffer(ee);if(ee._updateID===se.updateID)return se;se.updateID=ee._updateID,te.bindBuffer(se.type,se.buffer);const ne=ee.data;if(se.byteLength>=ee.data.byteLength)te.bufferSubData(se.type,0,ne,0,ee._updateSize/ne.BYTES_PER_ELEMENT);else{const le=ee.descriptor.usage&BufferUsage.STATIC?te.STATIC_DRAW:te.DYNAMIC_DRAW;se.byteLength=ne.byteLength,te.bufferData(se.type,ne,le)}return se}destroyAll(){const ee=this._gl;for(const te in this._gpuBuffers)ee.deleteBuffer(this._gpuBuffers[te].buffer);this._gpuBuffers=Object.create(null)}onBufferDestroy(ee,te){const se=this._gpuBuffers[ee.uid],ne=this._gl;te||ne.deleteBuffer(se.buffer),this._gpuBuffers[ee.uid]=null}createGLBuffer(ee){const{_gl:te}=this;let se=BUFFER_TYPE.ARRAY_BUFFER;ee.descriptor.usage&BufferUsage.INDEX?se=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:ee.descriptor.usage&BufferUsage.UNIFORM&&(se=BUFFER_TYPE.UNIFORM_BUFFER);const ne=new GlBuffer(te.createBuffer(),se);return this._gpuBuffers[ee.uid]=ne,ee.on("destroy",this.onBufferDestroy,this),ne}}GlBufferSystem.extension={type:[ExtensionType.WebGLSystem],name:"buffer"};const _GlContextSystem=class Pk{constructor(ee){this.supports={uint32Indices:!0,uniformBufferObject:!0,vertexArrayObject:!0,srgbTextures:!0,nonPowOf2wrapping:!0,msaa:!0,nonPowOf2mipmaps:!0},this._renderer=ee,this.extensions=Object.create(null),this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(ee){this.gl=ee,this._renderer.gl=ee}init(ee){if(ee={...Pk.defaultOptions,...ee},ee.context)this.initFromContext(ee.context);else{const te=this._renderer.background.alpha<1,se=ee.premultipliedAlpha??!0,ne=ee.antialias&&!this._renderer.backBuffer.useBackBuffer;this.createContext(ee.preferWebGLVersion,{alpha:te,premultipliedAlpha:se,antialias:ne,stencil:!0,preserveDrawingBuffer:ee.preserveDrawingBuffer,powerPreference:ee.powerPreference??"default"})}}initFromContext(ee){this.gl=ee,this.webGLVersion=ee instanceof DOMAdapter.get().getWebGL2RenderingContext()?2:1,this.getExtensions(),this.validateContext(ee),this._renderer.runners.contextChange.emit(ee);const te=this._renderer.view.canvas;te.addEventListener("webglcontextlost",this.handleContextLost,!1),te.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}createContext(ee,te){let se;const ne=this._renderer.view.canvas;if(ee===2&&(se=ne.getContext("webgl2",te)),!se&&(se=ne.getContext("webgl",te),!se))throw new Error("This browser does not support WebGL. Try using the canvas renderer");this.gl=se,this.initFromContext(this.gl)}getExtensions(){const{gl:ee}=this,te={anisotropicFiltering:ee.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:ee.getExtension("OES_texture_float_linear"),s3tc:ee.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ee.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ee.getExtension("WEBGL_compressed_texture_etc"),etc1:ee.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ee.getExtension("WEBGL_compressed_texture_pvrtc")||ee.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ee.getExtension("WEBGL_compressed_texture_atc"),astc:ee.getExtension("WEBGL_compressed_texture_astc"),bptc:ee.getExtension("EXT_texture_compression_bptc"),rgtc:ee.getExtension("EXT_texture_compression_rgtc"),loseContext:ee.getExtension("WEBGL_lose_context")};this.webGLVersion===1?this.extensions={...te,drawBuffers:ee.getExtension("WEBGL_draw_buffers"),depthTexture:ee.getExtension("WEBGL_depth_texture"),vertexArrayObject:ee.getExtension("OES_vertex_array_object")||ee.getExtension("MOZ_OES_vertex_array_object")||ee.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:ee.getExtension("OES_element_index_uint"),floatTexture:ee.getExtension("OES_texture_float"),floatTextureLinear:ee.getExtension("OES_texture_float_linear"),textureHalfFloat:ee.getExtension("OES_texture_half_float"),textureHalfFloatLinear:ee.getExtension("OES_texture_half_float_linear"),vertexAttribDivisorANGLE:ee.getExtension("ANGLE_instanced_arrays"),srgb:ee.getExtension("EXT_sRGB")}:this.extensions={...te,colorBufferFloat:ee.getExtension("EXT_color_buffer_float")}}handleContextLost(ee){ee.preventDefault(),this._contextLossForced&&(this._contextLossForced=!1,setTimeout(()=>{var te;this.gl.isContextLost()&&((te=this.extensions.loseContext)==null||te.restoreContext())},0))}handleContextRestored(){this._renderer.runners.contextChange.emit(this.gl)}destroy(){var te;const ee=this._renderer.view.canvas;this._renderer=null,ee.removeEventListener("webglcontextlost",this.handleContextLost),ee.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),(te=this.extensions.loseContext)==null||te.loseContext()}forceContextLoss(){var ee;(ee=this.extensions.loseContext)==null||ee.loseContext(),this._contextLossForced=!0}validateContext(ee){const te=ee.getContextAttributes();te&&!te.stencil&&warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const se=this.supports,ne=this.webGLVersion===2,le=this.extensions;se.uint32Indices=ne||!!le.uint32ElementIndex,se.uniformBufferObject=ne,se.vertexArrayObject=ne||!!le.vertexArrayObject,se.srgbTextures=ne||!!le.srgb,se.nonPowOf2wrapping=ne,se.nonPowOf2mipmaps=ne,se.msaa=ne,se.uint32Indices||warn("Provided WebGL context does not support 32 index buffer, large scenes may not render correctly")}};_GlContextSystem.extension={type:[ExtensionType.WebGLSystem],name:"context"},_GlContextSystem.defaultOptions={context:null,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:void 0,preferWebGLVersion:2};let GlContextSystem=_GlContextSystem;function ensureAttributes(ie,ee){for(const te in ie.attributes){const se=ie.attributes[te],ne=ee[te];ne?(se.location??(se.location=ne.location),se.format??(se.format=ne.format),se.offset??(se.offset=ne.offset),se.instance??(se.instance=ne.instance)):warn(`Attribute ${te} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}ensureStartAndStride(ie)}function ensureStartAndStride(ie){const{buffers:ee,attributes:te}=ie,se={},ne={};for(const le in ee){const ue=ee[le];se[ue.uid]=0,ne[ue.uid]=0}for(const le in te){const ue=te[le];se[ue.buffer.uid]+=getAttributeInfoFromFormat(ue.format).stride}for(const le in te){const ue=te[le];ue.stride??(ue.stride=se[ue.buffer.uid]),ue.start??(ue.start=ne[ue.buffer.uid]),ne[ue.buffer.uid]+=getAttributeInfoFromFormat(ue.format).stride}}var GL_FORMATS=(ie=>(ie[ie.RGBA=6408]="RGBA",ie[ie.RGB=6407]="RGB",ie[ie.RG=33319]="RG",ie[ie.RED=6403]="RED",ie[ie.RGBA_INTEGER=36249]="RGBA_INTEGER",ie[ie.RGB_INTEGER=36248]="RGB_INTEGER",ie[ie.RG_INTEGER=33320]="RG_INTEGER",ie[ie.RED_INTEGER=36244]="RED_INTEGER",ie[ie.ALPHA=6406]="ALPHA",ie[ie.LUMINANCE=6409]="LUMINANCE",ie[ie.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",ie[ie.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",ie[ie.DEPTH_STENCIL=34041]="DEPTH_STENCIL",ie))(GL_FORMATS||{}),GL_TARGETS=(ie=>(ie[ie.TEXTURE_2D=3553]="TEXTURE_2D",ie[ie.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",ie[ie.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",ie[ie.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",ie[ie.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",ie[ie.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",ie[ie.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",ie[ie.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",ie[ie.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",ie))(GL_TARGETS||{}),GL_TYPES=(ie=>(ie[ie.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",ie[ie.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",ie[ie.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",ie[ie.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",ie[ie.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",ie[ie.UNSIGNED_INT=5125]="UNSIGNED_INT",ie[ie.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",ie[ie.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",ie[ie.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",ie[ie.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",ie[ie.BYTE=5120]="BYTE",ie[ie.SHORT=5122]="SHORT",ie[ie.INT=5124]="INT",ie[ie.FLOAT=5126]="FLOAT",ie[ie.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",ie[ie.HALF_FLOAT=36193]="HALF_FLOAT",ie))(GL_TYPES||{});const infoMap={uint8x2:GL_TYPES.UNSIGNED_BYTE,uint8x4:GL_TYPES.UNSIGNED_BYTE,sint8x2:GL_TYPES.BYTE,sint8x4:GL_TYPES.BYTE,unorm8x2:GL_TYPES.UNSIGNED_BYTE,unorm8x4:GL_TYPES.UNSIGNED_BYTE,snorm8x2:GL_TYPES.BYTE,snorm8x4:GL_TYPES.BYTE,uint16x2:GL_TYPES.UNSIGNED_SHORT,uint16x4:GL_TYPES.UNSIGNED_SHORT,sint16x2:GL_TYPES.SHORT,sint16x4:GL_TYPES.SHORT,unorm16x2:GL_TYPES.UNSIGNED_SHORT,unorm16x4:GL_TYPES.UNSIGNED_SHORT,snorm16x2:GL_TYPES.SHORT,snorm16x4:GL_TYPES.SHORT,float16x2:GL_TYPES.HALF_FLOAT,float16x4:GL_TYPES.HALF_FLOAT,float32:GL_TYPES.FLOAT,float32x2:GL_TYPES.FLOAT,float32x3:GL_TYPES.FLOAT,float32x4:GL_TYPES.FLOAT,uint32:GL_TYPES.UNSIGNED_INT,uint32x2:GL_TYPES.UNSIGNED_INT,uint32x3:GL_TYPES.UNSIGNED_INT,uint32x4:GL_TYPES.UNSIGNED_INT,sint32:GL_TYPES.INT,sint32x2:GL_TYPES.INT,sint32x3:GL_TYPES.INT,sint32x4:GL_TYPES.INT};function getGlTypeFromFormat(ie){return infoMap[ie]??infoMap.float32}const topologyToGlMap={"point-list":0,"line-list":1,"line-strip":3,"triangle-list":4,"triangle-strip":5};class GlGeometrySystem{constructor(ee){this._geometryVaoHash=Object.create(null),this._renderer=ee,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0}contextChange(){const ee=this.gl=this._renderer.gl;if(!this._renderer.context.supports.vertexArrayObject)throw new Error("[PixiJS] Vertex Array Objects are not supported on this device");const te=this._renderer.context.extensions.vertexArrayObject;te&&(ee.createVertexArray=()=>te.createVertexArrayOES(),ee.bindVertexArray=ne=>te.bindVertexArrayOES(ne),ee.deleteVertexArray=ne=>te.deleteVertexArrayOES(ne));const se=this._renderer.context.extensions.vertexAttribDivisorANGLE;se&&(ee.drawArraysInstanced=(ne,le,ue,ce)=>{se.drawArraysInstancedANGLE(ne,le,ue,ce)},ee.drawElementsInstanced=(ne,le,ue,ce,he)=>{se.drawElementsInstancedANGLE(ne,le,ue,ce,he)},ee.vertexAttribDivisor=(ne,le)=>se.vertexAttribDivisorANGLE(ne,le)),this._activeGeometry=null,this._activeVao=null,this._geometryVaoHash=Object.create(null)}bind(ee,te){const se=this.gl;this._activeGeometry=ee;const ne=this.getVao(ee,te);this._activeVao!==ne&&(this._activeVao=ne,se.bindVertexArray(ne)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const ee=this._activeGeometry,te=this._renderer.buffer;for(let se=0;se<ee.buffers.length;se++){const ne=ee.buffers[se];te.updateBuffer(ne)}}checkCompatibility(ee,te){const se=ee.attributes,ne=te._attributeData;for(const le in ne)if(!se[le])throw new Error(`shader and geometry incompatible, geometry missing the "${le}" attribute`)}getSignature(ee,te){const se=ee.attributes,ne=te._attributeData,le=["g",ee.uid];for(const ue in se)ne[ue]&&le.push(ue,ne[ue].location);return le.join("-")}getVao(ee,te){var se;return((se=this._geometryVaoHash[ee.uid])==null?void 0:se[te._key])||this.initGeometryVao(ee,te)}initGeometryVao(ee,te,se=!0){const ne=this._renderer.gl,le=this._renderer.buffer;this._renderer.shader._getProgramData(te),this.checkCompatibility(ee,te);const ue=this.getSignature(ee,te);this._geometryVaoHash[ee.uid]||(this._geometryVaoHash[ee.uid]=Object.create(null),ee.on("destroy",this.onGeometryDestroy,this));const ce=this._geometryVaoHash[ee.uid];let he=ce[ue];if(he)return ce[te._key]=he,he;ensureAttributes(ee,te._attributeData);const de=ee.buffers;he=ne.createVertexArray(),ne.bindVertexArray(he);for(let _e=0;_e<de.length;_e++){const fe=de[_e];le.bind(fe)}return this.activateVao(ee,te),ce[te._key]=he,ce[ue]=he,ne.bindVertexArray(null),he}onGeometryDestroy(ee,te){const se=this._geometryVaoHash[ee.uid],ne=this.gl;if(se){if(te)for(const le in se)this._activeVao!==se[le]&&this.unbind(),ne.deleteVertexArray(se[le]);this._geometryVaoHash[ee.uid]=null}}destroyAll(ee=!1){const te=this.gl;for(const se in this._geometryVaoHash){if(ee)for(const ne in this._geometryVaoHash[se]){const le=this._geometryVaoHash[se];this._activeVao!==le&&this.unbind(),te.deleteVertexArray(le[ne])}this._geometryVaoHash[se]=null}}activateVao(ee,te){const se=this._renderer.gl,ne=this._renderer.buffer,le=ee.attributes;ee.indexBuffer&&ne.bind(ee.indexBuffer);let ue=null;for(const ce in le){const he=le[ce],de=he.buffer,_e=ne.getGlBuffer(de);if(te._attributeData[ce]){ue!==_e&&(ne.bind(de),ue=_e);const fe=he.location;se.enableVertexAttribArray(fe);const ye=getAttributeInfoFromFormat(he.format);if(se.vertexAttribPointer(fe,ye.size,getGlTypeFromFormat(he.format),ye.normalised,he.stride,he.offset),he.instance)if(this.hasInstance)se.vertexAttribDivisor(fe,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(ee,te,se,ne){const{gl:le}=this._renderer,ue=this._activeGeometry,ce=topologyToGlMap[ue.topology||ee];if(ne||(ne=ue.instanceCount),ue.indexBuffer){const he=ue.indexBuffer.data.BYTES_PER_ELEMENT,de=he===2?le.UNSIGNED_SHORT:le.UNSIGNED_INT;ne>1?le.drawElementsInstanced(ce,te||ue.indexBuffer.data.length,de,(se||0)*he,ne):le.drawElements(ce,te||ue.indexBuffer.data.length,de,(se||0)*he)}else ne>1?le.drawArraysInstanced(ce,se||0,te||ue.getSize(),ne):le.drawArrays(ce,se||0,te||ue.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this._renderer=null,this.gl=null,this._activeVao=null,this._activeGeometry=null}}GlGeometrySystem.extension={type:[ExtensionType.WebGLSystem],name:"geometry"};const bigTriangleGeometry=new Geometry({attributes:{aPosition:[-1,-1,3,-1,-1,3]}}),_GlBackBufferSystem=class wk{constructor(ee){this.useBackBuffer=!1,this._useBackBufferThisRender=!1,this._renderer=ee}init(ee={}){const{useBackBuffer:te,antialias:se}={...wk.defaultOptions,...ee};this.useBackBuffer=te,this._antialias=se,this._renderer.context.supports.msaa||(warn("antialiasing, is not supported on when using the back buffer"),this._antialias=!1),this._state=State.for2d();const ne=new GlProgram({vertex:`
                attribute vec2 aPosition;
                out vec2 vUv;

                void main() {
                    gl_Position = vec4(aPosition, 0.0, 1.0);

                    vUv = (aPosition + 1.0) / 2.0;

                    // flip dem UVs
                    vUv.y = 1.0 - vUv.y;
                }`,fragment:`
                in vec2 vUv;
                out vec4 finalColor;

                uniform sampler2D uTexture;

                void main() {
                    finalColor = texture(uTexture, vUv);
                }`,name:"big-triangle"});this._bigTriangleShader=new Shader({glProgram:ne,resources:{uTexture:Texture.WHITE.source}})}renderStart(ee){const te=this._renderer.renderTarget.getRenderTarget(ee.target);if(this._useBackBufferThisRender=this.useBackBuffer&&!!te.isRoot,this._useBackBufferThisRender){const se=this._renderer.renderTarget.getRenderTarget(ee.target);this._targetTexture=se.colorTexture,ee.target=this._getBackBufferTexture(se.colorTexture)}}renderEnd(){this._presentBackBuffer()}_presentBackBuffer(){const ee=this._renderer;ee.renderTarget.finishRenderPass(),this._useBackBufferThisRender&&(ee.renderTarget.bind(this._targetTexture,!1),this._bigTriangleShader.resources.uTexture=this._backBufferTexture.source,ee.encoder.draw({geometry:bigTriangleGeometry,shader:this._bigTriangleShader,state:this._state}))}_getBackBufferTexture(ee){return this._backBufferTexture=this._backBufferTexture||new Texture({source:new TextureSource({width:ee.width,height:ee.height,resolution:ee._resolution,antialias:this._antialias})}),this._backBufferTexture.source.resize(ee.width,ee.height,ee._resolution),this._backBufferTexture}destroy(){this._backBufferTexture&&(this._backBufferTexture.destroy(),this._backBufferTexture=null)}};_GlBackBufferSystem.extension={type:[ExtensionType.WebGLSystem],name:"backBuffer",priority:1},_GlBackBufferSystem.defaultOptions={useBackBuffer:!1};let GlBackBufferSystem=_GlBackBufferSystem;class GlColorMaskSystem{constructor(ee){this._colorMaskCache=15,this._renderer=ee}setMask(ee){this._colorMaskCache!==ee&&(this._colorMaskCache=ee,this._renderer.gl.colorMask(!!(ee&8),!!(ee&4),!!(ee&2),!!(ee&1)))}}GlColorMaskSystem.extension={type:[ExtensionType.WebGLSystem],name:"colorMask"};class GlEncoderSystem{constructor(ee){this.commandFinished=Promise.resolve(),this._renderer=ee}setGeometry(ee,te){this._renderer.geometry.bind(ee,te.glProgram)}finishRenderPass(){}draw(ee){const te=this._renderer,{geometry:se,shader:ne,state:le,skipSync:ue,topology:ce,size:he,start:de,instanceCount:_e}=ee;te.shader.bind(ne,ue),te.geometry.bind(se,te.shader._activeProgram),le&&te.state.set(le),te.geometry.draw(ce,he,de,_e??se.instanceCount)}destroy(){this._renderer=null}}GlEncoderSystem.extension={type:[ExtensionType.WebGLSystem],name:"encoder"};class GlRenderTarget{constructor(){this.width=-1,this.height=-1,this.msaa=!1,this.msaaRenderBuffer=[]}}const GpuStencilModesToPixi=[];GpuStencilModesToPixi[STENCIL_MODES.NONE]=void 0,GpuStencilModesToPixi[STENCIL_MODES.DISABLED]={stencilWriteMask:0,stencilReadMask:0},GpuStencilModesToPixi[STENCIL_MODES.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}},GpuStencilModesToPixi[STENCIL_MODES.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}},GpuStencilModesToPixi[STENCIL_MODES.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}};class GlStencilSystem{constructor(ee){this._stencilCache={enabled:!1,stencilReference:0,stencilMode:STENCIL_MODES.NONE},this._renderTargetStencilState=Object.create(null),ee.renderTarget.onRenderTargetChange.add(this)}contextChange(ee){this._gl=ee,this._comparisonFuncMapping={always:ee.ALWAYS,never:ee.NEVER,equal:ee.EQUAL,"not-equal":ee.NOTEQUAL,less:ee.LESS,"less-equal":ee.LEQUAL,greater:ee.GREATER,"greater-equal":ee.GEQUAL},this._stencilOpsMapping={keep:ee.KEEP,zero:ee.ZERO,replace:ee.REPLACE,invert:ee.INVERT,"increment-clamp":ee.INCR,"decrement-clamp":ee.DECR,"increment-wrap":ee.INCR_WRAP,"decrement-wrap":ee.DECR_WRAP}}onRenderTargetChange(ee){if(this._activeRenderTarget===ee)return;this._activeRenderTarget=ee;let te=this._renderTargetStencilState[ee.uid];te||(te=this._renderTargetStencilState[ee.uid]={stencilMode:STENCIL_MODES.DISABLED,stencilReference:0}),this.setStencilMode(te.stencilMode,te.stencilReference)}setStencilMode(ee,te){const se=this._renderTargetStencilState[this._activeRenderTarget.uid],ne=this._gl,le=GpuStencilModesToPixi[ee],ue=this._stencilCache;if(se.stencilMode=ee,se.stencilReference=te,ee===STENCIL_MODES.DISABLED){this._stencilCache.enabled&&(this._stencilCache.enabled=!1,ne.disable(ne.STENCIL_TEST));return}this._stencilCache.enabled||(this._stencilCache.enabled=!0,ne.enable(ne.STENCIL_TEST)),(ee!==ue.stencilMode||ue.stencilReference!==te)&&(ue.stencilMode=ee,ue.stencilReference=te,ne.stencilFunc(this._comparisonFuncMapping[le.stencilBack.compare],te,255),ne.stencilOp(ne.KEEP,ne.KEEP,this._stencilOpsMapping[le.stencilBack.passOp]))}}GlStencilSystem.extension={type:[ExtensionType.WebGLSystem],name:"stencil"};class UboSystem{constructor(ee){this._syncFunctionHash=Object.create(null),this._adaptor=ee,this._systemCheck()}_systemCheck(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(ee){const te=this.getUniformGroupData(ee);ee.buffer||(ee.buffer=new Buffer({data:new Float32Array(te.layout.size/4),usage:BufferUsage.UNIFORM|BufferUsage.COPY_DST}))}getUniformGroupData(ee){return this._syncFunctionHash[ee._signature]||this._initUniformGroup(ee)}_initUniformGroup(ee){const te=ee._signature;let se=this._syncFunctionHash[te];if(!se){const ne=Object.keys(ee.uniformStructures).map(ce=>ee.uniformStructures[ce]),le=this._adaptor.createUboElements(ne),ue=this._generateUboSync(le.uboElements);se=this._syncFunctionHash[te]={layout:le,syncFunction:ue}}return this._syncFunctionHash[te]}_generateUboSync(ee){return this._adaptor.generateUboSync(ee)}syncUniformGroup(ee,te,se){const ne=this.getUniformGroupData(ee);return ee.buffer||(ee.buffer=new Buffer({data:new Float32Array(ne.layout.size/4),usage:BufferUsage.UNIFORM|BufferUsage.COPY_DST})),te||(te=ee.buffer.data),se||(se=0),ne.syncFunction(ee.uniforms,te,se),!0}updateUniformGroup(ee){if(ee.isStatic&&!ee._dirtyId)return!1;ee._dirtyId=0;const te=this.syncUniformGroup(ee);return ee.buffer.update(),te}destroy(){this._syncFunctionHash=null}}const WGSL_TO_STD40_SIZE={f32:4,"vec2<f32>":8,"vec3<f32>":12,"vec4<f32>":16,"mat2x2<f32>":16*2,"mat3x3<f32>":16*3,"mat4x4<f32>":16*4};function createUboElementsSTD40(ie){const ee=ie.map(le=>({data:le,offset:0,size:0}));let te=0,se=0,ne=0;for(let le=0;le<ee.length;le++){const ue=ee[le];if(te=WGSL_TO_STD40_SIZE[ue.data.type],!te)throw new Error(`Unknown type ${ue.data.type}`);if(ue.data.size>1&&(te=Math.max(te,16)*ue.data.size),ue.size=te,se%te!==0&&se<16){const ce=se%te%16;se+=ce,ne+=ce}se+te>16?(ne=Math.ceil(ne/16)*16,ue.offset=ne,ne+=te,se=te):(ue.offset=ne,se+=te,ne+=te)}return ne=Math.ceil(ne/16)*16,{uboElements:ee,size:ne}}const uniformParsers=[{type:"mat3x3<f32>",test:ie=>ie.value.a!==void 0,ubo:`
            var matrix = uv[name].toArray(true);
            data[offset] = matrix[0];
            data[offset + 1] = matrix[1];
            data[offset + 2] = matrix[2];
            data[offset + 4] = matrix[3];
            data[offset + 5] = matrix[4];
            data[offset + 6] = matrix[5];
            data[offset + 8] = matrix[6];
            data[offset + 9] = matrix[7];
            data[offset + 10] = matrix[8];
        `,uniform:` 
            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
        `},{type:"vec4<f32>",test:ie=>ie.type==="vec4<f32>"&&ie.size===1&&ie.value.width!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
            data[offset + 2] = v.width;
            data[offset + 3] = v.height;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
                cv[0] = v.x;
                cv[1] = v.y;
                cv[2] = v.width;
                cv[3] = v.height;
                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
            }
        `},{type:"vec2<f32>",test:ie=>ie.type==="vec2<f32>"&&ie.size===1&&ie.value.x!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.x;
            data[offset + 1] = v.y;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.x || cv[1] !== v.y) {
                cv[0] = v.x;
                cv[1] = v.y;
                gl.uniform2f(ud[name].location, v.x, v.y);
            }
        `},{type:"vec4<f32>",test:ie=>ie.type==="vec4<f32>"&&ie.size===1&&ie.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
            data[offset + 3] = v.alpha;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                cv[3] = v.alpha;
                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
            }
        `},{type:"vec3<f32>",test:ie=>ie.type==="vec3<f32>"&&ie.size===1&&ie.value.red!==void 0,ubo:`
            v = uv[name];
            data[offset] = v.red;
            data[offset + 1] = v.green;
            data[offset + 2] = v.blue;
        `,uniform:`
            cv = ud[name].value;
            v = uv[name];
            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
                cv[0] = v.red;
                cv[1] = v.green;
                cv[2] = v.blue;
                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
            }
        `}];function createUboSyncFunction(ie,ee,te,se){const ne=[`
        var v = null;
        var v2 = null;
        var t = 0;
        var index = 0;
        var name = null;
        var arrayOffset = null;
    `];let le=0;for(let ce=0;ce<ie.length;ce++){const he=ie[ce],de=he.data.name;let _e=!1,fe=0;for(let ye=0;ye<uniformParsers.length;ye++)if(uniformParsers[ye].test(he.data)){fe=he.offset/4,ne.push(`name = "${de}";`,`offset += ${fe-le};`,uniformParsers[ye][ee]||uniformParsers[ye].ubo),_e=!0;break}if(!_e)if(he.data.size>1)fe=he.offset/4,ne.push(te(he,fe-le));else{const ye=se[he.data.type];fe=he.offset/4,ne.push(`
                    v = uv.${de};
                    offset += ${fe-le};
                    ${ye};
                `)}le=fe}const ue=ne.join(`
`);return new Function("uv","data","offset",ue)}function loopMatrix(ie,ee){return`
        for (let i = 0; i < ${ie*ee}; i++) {
            data[offset + (((i / ${ie})|0) * 4) + (i % ${ie})] = v[i];
        }
    `}const uboSyncFunctionsSTD40={f32:`
        data[offset] = v;`,i32:`
        data[offset] = v;`,"vec2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];`,"vec3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];`,"vec4<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];`,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 4] = v[2];
        data[offset + 5] = v[3];`,"mat3x3<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];
        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];`,"mat4x4<f32>":`
        for (let i = 0; i < 16; i++) {
            data[offset + i] = v[i];
        }`,"mat3x2<f32>":loopMatrix(3,2),"mat4x2<f32>":loopMatrix(4,2),"mat2x3<f32>":loopMatrix(2,3),"mat4x3<f32>":loopMatrix(4,3),"mat2x4<f32>":loopMatrix(2,4),"mat3x4<f32>":loopMatrix(3,4)},uboSyncFunctionsWGSL={...uboSyncFunctionsSTD40,"mat2x2<f32>":`
        data[offset] = v[0];
        data[offset + 1] = v[1];
        data[offset + 2] = v[2];
        data[offset + 3] = v[3];
    `};function generateArraySyncSTD40(ie,ee){const te=Math.max(WGSL_TO_STD40_SIZE[ie.data.type]/16,1),se=ie.data.value.length/ie.data.size,ne=(4-se%4)%4;return`
        v = uv.${ie.data.name};
        offset += ${ee};

        arrayOffset = offset;

        t = 0;

        for(var i=0; i < ${ie.data.size*te}; i++)
        {
            for(var j = 0; j < ${se}; j++)
            {
                data[arrayOffset++] = v[t++];
            }
            ${ne!==0?`arrayOffset += ${ne};`:""}
        }
    `}function createUboSyncFunctionSTD40(ie){return createUboSyncFunction(ie,"uboStd40",generateArraySyncSTD40,uboSyncFunctionsSTD40)}class GlUboSystem extends UboSystem{constructor(){super({createUboElements:createUboElementsSTD40,generateUboSync:createUboSyncFunctionSTD40})}}GlUboSystem.extension={type:[ExtensionType.WebGLSystem],name:"ubo"};class GlRenderTargetAdaptor{constructor(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new Rectangle}init(ee,te){this._renderer=ee,this._renderTargetSystem=te,ee.runners.contextChange.add(this)}contextChange(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new Rectangle}copyToTexture(ee,te,se,ne,le){const ue=this._renderTargetSystem,ce=this._renderer,he=ue.getGpuRenderTarget(ee),de=ce.gl;return this.finishRenderPass(ee),de.bindFramebuffer(de.FRAMEBUFFER,he.resolveTargetFramebuffer),ce.texture.bind(te,0),de.copyTexSubImage2D(de.TEXTURE_2D,0,le.x,le.y,se.x,se.y,ne.width,ne.height),te}startRenderPass(ee,te=!0,se,ne){const le=this._renderTargetSystem,ue=ee.colorTexture,ce=le.getGpuRenderTarget(ee);let he=ne.y;ee.isRoot&&(he=ue.pixelHeight-ne.height),ee.colorTextures.forEach(fe=>{this._renderer.texture.unbind(fe)});const de=this._renderer.gl;de.bindFramebuffer(de.FRAMEBUFFER,ce.framebuffer);const _e=this._viewPortCache;(_e.x!==ne.x||_e.y!==he||_e.width!==ne.width||_e.height!==ne.height)&&(_e.x=ne.x,_e.y=he,_e.width=ne.width,_e.height=ne.height,de.viewport(ne.x,he,ne.width,ne.height)),!ce.depthStencilRenderBuffer&&(ee.stencil||ee.depth)&&this._initStencil(ce),this.clear(ee,te,se)}finishRenderPass(ee){const se=this._renderTargetSystem.getGpuRenderTarget(ee);if(!se.msaa)return;const ne=this._renderer.gl;ne.bindFramebuffer(ne.FRAMEBUFFER,se.resolveTargetFramebuffer),ne.bindFramebuffer(ne.READ_FRAMEBUFFER,se.framebuffer),ne.blitFramebuffer(0,0,se.width,se.height,0,0,se.width,se.height,ne.COLOR_BUFFER_BIT,ne.NEAREST),ne.bindFramebuffer(ne.FRAMEBUFFER,se.framebuffer)}initGpuRenderTarget(ee){const se=this._renderer.gl,ne=new GlRenderTarget;return CanvasSource.test(ee.colorTexture.resource)?(ne.framebuffer=null,ne):(this._initColor(ee,ne),se.bindFramebuffer(se.FRAMEBUFFER,null),ne)}clear(ee,te,se){if(!te)return;const ne=this._renderTargetSystem;typeof te=="boolean"&&(te=te?CLEAR.ALL:CLEAR.NONE);const le=this._renderer.gl;if(te&CLEAR.COLOR){se??(se=ne.defaultClearColor);const ue=this._clearColorCache,ce=se;(ue[0]!==ce[0]||ue[1]!==ce[1]||ue[2]!==ce[2]||ue[3]!==ce[3])&&(ue[0]=ce[0],ue[1]=ce[1],ue[2]=ce[2],ue[3]=ce[3],le.clearColor(ce[0],ce[1],ce[2],ce[3]))}le.clear(te)}resizeGpuRenderTarget(ee){if(ee.isRoot)return;const se=this._renderTargetSystem.getGpuRenderTarget(ee);this._resizeColor(ee,se),ee.stencil&&this._resizeStencil(se)}_initColor(ee,te){const se=this._renderer,ne=se.gl,le=ne.createFramebuffer();if(te.resolveTargetFramebuffer=le,ne.bindFramebuffer(ne.FRAMEBUFFER,le),te.width=ee.colorTexture.source.pixelWidth,te.height=ee.colorTexture.source.pixelHeight,ee.colorTextures.forEach((ue,ce)=>{const he=ue.source;he.antialias&&(se.context.supports.msaa?te.msaa=!0:warn("[RenderTexture] Antialiasing on textures is not supported in WebGL1")),se.texture.bindSource(he,0);const _e=se.texture.getGlSource(he).texture;ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0+ce,3553,_e,0)}),te.msaa){const ue=ne.createFramebuffer();te.framebuffer=ue,ne.bindFramebuffer(ne.FRAMEBUFFER,ue),ee.colorTextures.forEach((ce,he)=>{const de=ne.createRenderbuffer();te.msaaRenderBuffer[he]=de})}else te.framebuffer=le;this._resizeColor(ee,te)}_resizeColor(ee,te){const se=ee.colorTexture.source;if(te.width=se.pixelWidth,te.height=se.pixelHeight,ee.colorTextures.forEach((ne,le)=>{le!==0&&ne.source.resize(se.width,se.height,se._resolution)}),te.msaa){const ne=this._renderer,le=ne.gl,ue=te.framebuffer;le.bindFramebuffer(le.FRAMEBUFFER,ue),ee.colorTextures.forEach((ce,he)=>{const de=ce.source;ne.texture.bindSource(de,0);const fe=ne.texture.getGlSource(de).internalFormat,ye=te.msaaRenderBuffer[he];le.bindRenderbuffer(le.RENDERBUFFER,ye),le.renderbufferStorageMultisample(le.RENDERBUFFER,4,fe,de.pixelWidth,de.pixelHeight),le.framebufferRenderbuffer(le.FRAMEBUFFER,le.COLOR_ATTACHMENT0+he,le.RENDERBUFFER,ye)})}}_initStencil(ee){if(ee.framebuffer===null)return;const te=this._renderer.gl,se=te.createRenderbuffer();ee.depthStencilRenderBuffer=se,te.bindRenderbuffer(te.RENDERBUFFER,se),te.framebufferRenderbuffer(te.FRAMEBUFFER,te.DEPTH_STENCIL_ATTACHMENT,te.RENDERBUFFER,se),this._resizeStencil(ee)}_resizeStencil(ee){const te=this._renderer.gl;te.bindRenderbuffer(te.RENDERBUFFER,ee.depthStencilRenderBuffer),ee.msaa?te.renderbufferStorageMultisample(te.RENDERBUFFER,4,te.DEPTH24_STENCIL8,ee.width,ee.height):te.renderbufferStorage(te.RENDERBUFFER,this._renderer.context.webGLVersion===2?te.DEPTH24_STENCIL8:te.DEPTH_STENCIL,ee.width,ee.height)}}function calculateProjection(ie,ee,te,se,ne,le){const ue=le?1:-1;return ie.identity(),ie.a=1/se*2,ie.d=ue*(1/ne*2),ie.tx=-1-ee*ie.a,ie.ty=-ue-te*ie.d,ie}const canvasCache=new Map;function getCanvasTexture(ie,ee){if(!canvasCache.has(ie)){const te=new Texture({source:new CanvasSource({resource:ie,...ee})}),se=()=>{canvasCache.get(ie)===te&&canvasCache.delete(ie)};te.once("destroy",se),te.source.once("destroy",se),canvasCache.set(ie,te)}return canvasCache.get(ie)}function isRenderingToScreen(ie){const ee=ie.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&ee instanceof HTMLCanvasElement&&document.body.contains(ee)}const _RenderTarget=class Nk{constructor(ee={}){if(this.uid=uid("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),ee={...Nk.defaultOptions,...ee},this.stencil=ee.stencil,this.depth=ee.depth,this.isRoot=ee.isRoot,typeof ee.colorTextures=="number")for(let te=0;te<ee.colorTextures;te++)this.colorTextures.push(new TextureSource({width:ee.width,height:ee.height,resolution:ee.resolution,antialias:ee.antialias}));else{this.colorTextures=[...ee.colorTextures.map(se=>se.source)];const te=this.colorTexture.source;this.resize(te.width,te.height,te._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(ee.depthStencilTexture||this.stencil)&&(ee.depthStencilTexture instanceof Texture||ee.depthStencilTexture instanceof TextureSource?this.depthStencilTexture=ee.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const ee=this._size;return ee[0]=this.pixelWidth,ee[1]=this.pixelHeight,ee}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(ee){this.resize(ee.width,ee.height,ee._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new TextureSource({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(ee,te,se=this.resolution,ne=!1){this.dirtyId++,this.colorTextures.forEach((le,ue)=>{ne&&ue===0||le.source.resize(ee,te,se)}),this.depthStencilTexture&&this.depthStencilTexture.source.resize(ee,te,se)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};_RenderTarget.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let RenderTarget=_RenderTarget;class RenderTargetSystem{constructor(ee){this.rootViewPort=new Rectangle,this.viewport=new Rectangle,this.onRenderTargetChange=new SystemRunner("onRenderTargetChange"),this.projectionMatrix=new Matrix,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=ee}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:ee,clear:te,clearColor:se,frame:ne}){this._renderTargetStack.length=0,this.push(ee,te,se,ne),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=isRenderingToScreen(this.rootRenderTarget)}bind(ee,te=!0,se,ne){const le=this.getRenderTarget(ee),ue=this.renderTarget!==le;this.renderTarget=le,this.renderSurface=ee;const ce=this.getGpuRenderTarget(le);(le.pixelWidth!==ce.width||le.pixelHeight!==ce.height)&&(this.adaptor.resizeGpuRenderTarget(le),ce.width=le.pixelWidth,ce.height=le.pixelHeight);const he=le.colorTexture,de=this.viewport,_e=he.pixelWidth,fe=he.pixelHeight;if(!ne&&ee instanceof Texture&&(ne=ee.frame),ne){const ye=he._resolution;de.x=ne.x*ye+.5|0,de.y=ne.y*ye+.5|0,de.width=ne.width*ye+.5|0,de.height=ne.height*ye+.5|0}else de.x=0,de.y=0,de.width=_e,de.height=fe;return calculateProjection(this.projectionMatrix,0,0,de.width/he.resolution,de.height/he.resolution,!le.isRoot),this.adaptor.startRenderPass(le,te,se,de),ue&&this.onRenderTargetChange.emit(le),le}clear(ee,te=CLEAR.ALL,se){te&&(ee&&(ee=this.getRenderTarget(ee)),this.adaptor.clear(ee||this.renderTarget,te,se,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(ee,te=CLEAR.ALL,se,ne){const le=this.bind(ee,te,se,ne);return this._renderTargetStack.push({renderTarget:le,frame:ne}),le}pop(){this._renderTargetStack.pop();const ee=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(ee.renderTarget,!1,null,ee.frame)}getRenderTarget(ee){return ee.isTexture&&(ee=ee.source),this._renderSurfaceToRenderTargetHash.get(ee)??this._initRenderTarget(ee)}copyToTexture(ee,te,se,ne,le){se.x<0&&(ne.width+=se.x,le.x-=se.x,se.x=0),se.y<0&&(ne.height+=se.y,le.y-=se.y,se.y=0);const{pixelWidth:ue,pixelHeight:ce}=ee;return ne.width=Math.min(ne.width,ue-se.x),ne.height=Math.min(ne.height,ce-se.y),this.adaptor.copyToTexture(ee,te,se,ne,le)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((ee,te)=>{ee!==te&&ee.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(ee){let te=null;return CanvasSource.test(ee)&&(ee=getCanvasTexture(ee)),ee instanceof RenderTarget?te=ee:ee instanceof TextureSource&&(te=new RenderTarget({colorTextures:[ee]}),CanvasSource.test(ee.source.resource)&&(te.isRoot=!0),ee.on("destroy",()=>{te.destroy()})),this._renderSurfaceToRenderTargetHash.set(ee,te),te}getGpuRenderTarget(ee){return this._gpuRenderTargetHash[ee.uid]||(this._gpuRenderTargetHash[ee.uid]=this.adaptor.initGpuRenderTarget(ee))}}class GlRenderTargetSystem extends RenderTargetSystem{constructor(ee){super(ee),this.adaptor=new GlRenderTargetAdaptor,this.adaptor.init(ee,this)}}GlRenderTargetSystem.extension={type:[ExtensionType.WebGLSystem],name:"renderTarget"};class BufferResource extends EventEmitter{constructor({buffer:ee,offset:te,size:se}){super(),this.uid=uid("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=uid("resource"),this._bufferResource=!0,this.buffer=ee,this.offset=te|0,this.size=se,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=uid("resource"),this.emit("change",this)}destroy(ee=!1){ee&&this.buffer.destroy(),this.buffer=null}}function generateShaderSyncCode(ie,ee){const te=[],se=[`
        var g = s.groups;
        var sS = r.shader;
        var p = s.glProgram;
        var ugS = r.uniformGroup;
        var resources;
    `];let ne=!1,le=0,ue=0;const ce=ee._getProgramData(ie.glProgram);for(const de in ie.groups){const _e=ie.groups[de];te.push(`
            resources = g[${de}].resources;
        `);for(const fe in _e.resources){const ye=_e.resources[fe];if(ye instanceof UniformGroup)ye.ubo?te.push(`
                        sS.bindUniformBlock(
                            resources[${fe}],
                            sS._uniformBindMap[${de}[${fe}],
                            ${le++}
                        );
                    `):te.push(`
                        ugS.updateUniformGroup(resources[${fe}], p, sD);
                    `);else if(ye instanceof BufferResource)te.push(`
                    sS.bindUniformBlock(
                        resources[${fe}],
                        sS._uniformBindMap[${de}[${fe}],
                        ${le++}
                    );
                `);else if(ye instanceof TextureSource){const be=ie._uniformBindMap[de][fe],Pe=ce.uniformData[be];Pe&&(ne||(ne=!0,se.push(`
                        var tS = r.texture;
                        `)),ee._gl.uniform1i(Pe.location,ue),te.push(`
                        tS.bind(resources[${fe}], ${ue});
                    `),ue++)}}}const he=[...se,...te].join(`
`);return new Function("r","s","sD",he)}class GlProgramData{constructor(ee,te){this.program=ee,this.uniformData=te,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBlockBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBlockBindings=null,this.program=null}}function compileShader(ie,ee,te){const se=ie.createShader(ee);return ie.shaderSource(se,te),ie.compileShader(se),se}function booleanArray(ie){const ee=new Array(ie);for(let te=0;te<ee.length;te++)ee[te]=!1;return ee}function defaultValue(ie,ee){switch(ie){case"float":return 0;case"vec2":return new Float32Array(2*ee);case"vec3":return new Float32Array(3*ee);case"vec4":return new Float32Array(4*ee);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*ee);case"ivec3":return new Int32Array(3*ee);case"ivec4":return new Int32Array(4*ee);case"uvec2":return new Uint32Array(2*ee);case"uvec3":return new Uint32Array(3*ee);case"uvec4":return new Uint32Array(4*ee);case"bool":return!1;case"bvec2":return booleanArray(2*ee);case"bvec3":return booleanArray(3*ee);case"bvec4":return booleanArray(4*ee);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}let GL_TABLE=null;const GL_TO_GLSL_TYPES={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},GLSL_TO_VERTEX_TYPES={float:"float32",vec2:"float32x2",vec3:"float32x3",vec4:"float32x4",int:"sint32",ivec2:"sint32x2",ivec3:"sint32x3",ivec4:"sint32x4",uint:"uint32",uvec2:"uint32x2",uvec3:"uint32x3",uvec4:"uint32x4",bool:"uint32",bvec2:"uint32x2",bvec3:"uint32x3",bvec4:"uint32x4"};function mapType(ie,ee){if(!GL_TABLE){const te=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(let se=0;se<te.length;++se){const ne=te[se];GL_TABLE[ie[ne]]=GL_TO_GLSL_TYPES[ne]}}return GL_TABLE[ee]}function mapGlToVertexFormat(ie,ee){const te=mapType(ie,ee);return GLSL_TO_VERTEX_TYPES[te]||"float32"}function extractAttributesFromGlProgram(ie,ee,te=!1){const se={},ne=ee.getProgramParameter(ie,ee.ACTIVE_ATTRIBUTES);for(let ue=0;ue<ne;ue++){const ce=ee.getActiveAttrib(ie,ue);if(ce.name.startsWith("gl_"))continue;const he=mapGlToVertexFormat(ee,ce.type);se[ce.name]={location:0,format:he,stride:getAttributeInfoFromFormat(he).stride,offset:0,instance:!1,start:0}}const le=Object.keys(se);if(te){le.sort((ue,ce)=>ue>ce?1:-1);for(let ue=0;ue<le.length;ue++)se[le[ue]].location=ue,ee.bindAttribLocation(ie,ue,le[ue]);ee.linkProgram(ie)}else for(let ue=0;ue<le.length;ue++)se[le[ue]].location=ee.getAttribLocation(ie,le[ue]);return se}function getUboData(ie,ee){if(!ee.ACTIVE_UNIFORM_BLOCKS)return{};const te={},se=ee.getProgramParameter(ie,ee.ACTIVE_UNIFORM_BLOCKS);for(let ne=0;ne<se;ne++){const le=ee.getActiveUniformBlockName(ie,ne),ue=ee.getUniformBlockIndex(ie,le),ce=ee.getActiveUniformBlockParameter(ie,ne,ee.UNIFORM_BLOCK_DATA_SIZE);te[le]={name:le,index:ue,size:ce}}return te}function getUniformData(ie,ee){const te={},se=ee.getProgramParameter(ie,ee.ACTIVE_UNIFORMS);for(let ne=0;ne<se;ne++){const le=ee.getActiveUniform(ie,ne),ue=le.name.replace(/\[.*?\]$/,""),ce=!!le.name.match(/\[.*?\]$/),he=mapType(ee,le.type);te[ue]={name:ue,index:ne,type:he,size:le.size,isArray:ce,value:defaultValue(he,le.size)}}return te}function logPrettyShaderError(ie,ee){const te=ie.getShaderSource(ee).split(`
`).map((de,_e)=>`${_e}: ${de}`),se=ie.getShaderInfoLog(ee),ne=se.split(`
`),le={},ue=ne.map(de=>parseFloat(de.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(de=>de&&!le[de]?(le[de]=!0,!0):!1),ce=[""];ue.forEach(de=>{te[de-1]=`%c${te[de-1]}%c`,ce.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const he=te.join(`
`);ce[0]=he,console.error(se),console.groupCollapsed("click to view full shader code"),console.warn(...ce),console.groupEnd()}function logProgramError(ie,ee,te,se){ie.getProgramParameter(ee,ie.LINK_STATUS)||(ie.getShaderParameter(te,ie.COMPILE_STATUS)||logPrettyShaderError(ie,te),ie.getShaderParameter(se,ie.COMPILE_STATUS)||logPrettyShaderError(ie,se),console.error("PixiJS Error: Could not initialize shader."),ie.getProgramInfoLog(ee)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",ie.getProgramInfoLog(ee)))}function generateProgram(ie,ee){const te=compileShader(ie,ie.VERTEX_SHADER,ee.vertex),se=compileShader(ie,ie.FRAGMENT_SHADER,ee.fragment),ne=ie.createProgram();ie.attachShader(ne,te),ie.attachShader(ne,se);const le=ee.transformFeedbackVaryings;le&&(typeof ie.transformFeedbackVaryings!="function"?warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):ie.transformFeedbackVaryings(ne,le.names,le.bufferMode==="separate"?ie.SEPARATE_ATTRIBS:ie.INTERLEAVED_ATTRIBS)),ie.linkProgram(ne),ie.getProgramParameter(ne,ie.LINK_STATUS)||logProgramError(ie,ne,te,se),ee._attributeData=extractAttributesFromGlProgram(ne,ie,!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(ee.vertex)),ee._uniformData=getUniformData(ne,ie),ee._uniformBlockData=getUboData(ne,ie),ie.deleteShader(te),ie.deleteShader(se);const ue={};for(const he in ee._uniformData){const de=ee._uniformData[he];ue[he]={location:ie.getUniformLocation(ne,he),value:defaultValue(de.type,de.size)}}return new GlProgramData(ne,ue)}const defaultSyncData={textureCount:0,blockIndex:0};class GlShaderSystem{constructor(ee){this._activeProgram=null,this._programDataHash=Object.create(null),this._nextIndex=0,this._boundUniformsIdsToIndexHash=Object.create(null),this._boundIndexToUniformsHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._renderer=ee}contextChange(ee){this._gl=ee,this._maxBindings=ee.MAX_UNIFORM_BUFFER_BINDINGS?ee.getParameter(ee.MAX_UNIFORM_BUFFER_BINDINGS):0,this._programDataHash=Object.create(null),this._boundUniformsIdsToIndexHash=Object.create(null),this._boundIndexToUniformsHash=Object.create(null),this._activeProgram=null}bind(ee,te){if(this._setProgram(ee.glProgram),te)return;defaultSyncData.textureCount=0,defaultSyncData.blockIndex=0;let se=this._shaderSyncFunctions[ee.glProgram._key];se||(se=this._shaderSyncFunctions[ee.glProgram._key]=this._generateShaderSync(ee,this)),se(this._renderer,ee,defaultSyncData)}updateUniformGroup(ee){this._renderer.uniformGroup.updateUniformGroup(ee,this._activeProgram,defaultSyncData)}bindUniformBlock(ee,te,se=0){const ne=this._renderer.buffer,le=this._getProgramData(this._activeProgram),ue=ee._bufferResource;ue&&this._renderer.ubo.updateUniformGroup(ee),ne.updateBuffer(ee.buffer);let ce=this._boundUniformsIdsToIndexHash[ee.uid];if(ce===void 0){const _e=this._nextIndex++%this._maxBindings,fe=this._boundIndexToUniformsHash[_e];fe&&(this._boundUniformsIdsToIndexHash[fe.uid]=void 0),ce=this._boundUniformsIdsToIndexHash[ee.uid]=_e,this._boundIndexToUniformsHash[_e]=ee,ue?ne.bindBufferRange(ee.buffer,_e,ee.offset):ne.bindBufferBase(ee.buffer,_e)}const he=this._gl,de=this._activeProgram._uniformBlockData[te].index;le.uniformBlockBindings[se]!==ce&&(le.uniformBlockBindings[se]=ce,he.uniformBlockBinding(le.program,de,ce))}_setProgram(ee){if(this._activeProgram===ee)return;this._activeProgram=ee;const te=this._getProgramData(ee);this._gl.useProgram(te.program)}_getProgramData(ee){return this._programDataHash[ee._key]||this._createProgramData(ee)}_createProgramData(ee){const te=ee._key;return this._programDataHash[te]=generateProgram(this._gl,ee),this._programDataHash[te]}destroy(){for(const ee of Object.keys(this._programDataHash))this._programDataHash[ee].destroy(),this._programDataHash[ee]=null;this._programDataHash=null,this._boundUniformsIdsToIndexHash=null}_generateShaderSync(ee,te){return generateShaderSyncCode(ee,te)}}GlShaderSystem.extension={type:[ExtensionType.WebGLSystem],name:"shader"};const UNIFORM_TO_SINGLE_SETTERS={f32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1f(location, v);
        }`,"vec2<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2f(location, v[0], v[1]);
        }`,"vec3<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3f(location, v[0], v[1], v[2]);
        }`,"vec4<f32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4f(location, v[0], v[1], v[2], v[3]);
        }`,i32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<i32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,u32:`if (cv !== v) {
            cu.value = v;
            gl.uniform1ui(location, v);
        }`,"vec2<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2ui(location, v[0], v[1]);
        }`,"vec3<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3ui(location, v[0], v[1], v[2]);
        }`,"vec4<u32>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
        }`,bool:`if (cv !== v) {
            cu.value = v;
            gl.uniform1i(location, v);
        }`,"vec2<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1]) {
            cv[0] = v[0];
            cv[1] = v[1];
            gl.uniform2i(location, v[0], v[1]);
        }`,"vec3<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            gl.uniform3i(location, v[0], v[1], v[2]);
        }`,"vec4<bool>":`if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
            cv[0] = v[0];
            cv[1] = v[1];
            cv[2] = v[2];
            cv[3] = v[3];
            gl.uniform4i(location, v[0], v[1], v[2], v[3]);
        }`,"mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);"},UNIFORM_TO_ARRAY_SETTERS={f32:"gl.uniform1fv(location, v);","vec2<f32>":"gl.uniform2fv(location, v);","vec3<f32>":"gl.uniform3fv(location, v);","vec4<f32>":"gl.uniform4fv(location, v);","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);",i32:"gl.uniform1iv(location, v);","vec2<i32>":"gl.uniform2iv(location, v);","vec3<i32>":"gl.uniform3iv(location, v);","vec4<i32>":"gl.uniform4iv(location, v);",u32:"gl.uniform1iv(location, v);","vec2<u32>":"gl.uniform2iv(location, v);","vec3<u32>":"gl.uniform3iv(location, v);","vec4<u32>":"gl.uniform4iv(location, v);",bool:"gl.uniform1iv(location, v);","vec2<bool>":"gl.uniform2iv(location, v);","vec3<bool>":"gl.uniform3iv(location, v);","vec4<bool>":"gl.uniform4iv(location, v);"};function generateUniformsSync(ie,ee){const te=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
        var name = null;
    `];for(const se in ie.uniforms){if(!ee[se]){ie.uniforms[se]instanceof UniformGroup?ie.uniforms[se].ubo?te.push(`
                        renderer.shader.bindUniformBlock(uv.${se}, "${se}");
                    `):te.push(`
                        renderer.shader.updateUniformGroup(uv.${se});
                    `):ie.uniforms[se]instanceof BufferResource&&te.push(`
                        renderer.shader.bindBufferResource(uv.${se}, "${se}");
                    `);continue}const ne=ie.uniformStructures[se];let le=!1;for(let ue=0;ue<uniformParsers.length;ue++){const ce=uniformParsers[ue];if(ne.type===ce.type&&ce.test(ne)){te.push(`name = "${se}";`,uniformParsers[ue].uniform),le=!0;break}}if(!le){const ce=(ne.size===1?UNIFORM_TO_SINGLE_SETTERS:UNIFORM_TO_ARRAY_SETTERS)[ne.type].replace("location",`ud["${se}"].location`);te.push(`
            cu = ud["${se}"];
            cv = cu.value;
            v = uv["${se}"];
            ${ce};`)}}return new Function("ud","uv","renderer","syncData",te.join(`
`))}class GlUniformGroupSystem{constructor(ee){this._cache={},this._uniformGroupSyncHash={},this._renderer=ee,this.gl=null,this._cache={}}contextChange(ee){this.gl=ee}updateUniformGroup(ee,te,se){const ne=this._renderer.shader._getProgramData(te);(!ee.isStatic||ee._dirtyId!==ne.uniformDirtyGroups[ee.uid])&&(ne.uniformDirtyGroups[ee.uid]=ee._dirtyId,this._getUniformSyncFunction(ee,te)(ne.uniformData,ee.uniforms,this._renderer,se))}_getUniformSyncFunction(ee,te){var se;return((se=this._uniformGroupSyncHash[ee._signature])==null?void 0:se[te._key])||this._createUniformSyncFunction(ee,te)}_createUniformSyncFunction(ee,te){const se=this._uniformGroupSyncHash[ee._signature]||(this._uniformGroupSyncHash[ee._signature]={}),ne=this._getSignature(ee,te._uniformData,"u");return this._cache[ne]||(this._cache[ne]=this._generateUniformsSync(ee,te._uniformData)),se[te._key]=this._cache[ne],se[te._key]}_generateUniformsSync(ee,te){return generateUniformsSync(ee,te)}_getSignature(ee,te,se){const ne=ee.uniforms,le=[`${se}-`];for(const ue in ne)le.push(ue),te[ue]&&le.push(te[ue].type);return le.join("-")}destroy(){this._renderer=null,this._cache=null}}GlUniformGroupSystem.extension={type:[ExtensionType.WebGLSystem],name:"uniformGroup"};function mapWebGLBlendModesToPixi(ie){const ee={};return ee.normal=[ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee.add=[ie.ONE,ie.ONE],ee.multiply=[ie.DST_COLOR,ie.ONE_MINUS_SRC_ALPHA,ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee.screen=[ie.ONE,ie.ONE_MINUS_SRC_COLOR,ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee.none=[0,0],ee["normal-npm"]=[ie.SRC_ALPHA,ie.ONE_MINUS_SRC_ALPHA,ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee["add-npm"]=[ie.SRC_ALPHA,ie.ONE,ie.ONE,ie.ONE],ee["screen-npm"]=[ie.SRC_ALPHA,ie.ONE_MINUS_SRC_COLOR,ie.ONE,ie.ONE_MINUS_SRC_ALPHA],ee.erase=[ie.ZERO,ie.ONE_MINUS_SRC_ALPHA],ee}const BLEND=0,OFFSET=1,CULLING=2,DEPTH_TEST=3,WINDING=4,DEPTH_MASK=5,_GlStateSystem=class Ej{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode="none",this._blendEq=!1,this.map=[],this.map[BLEND]=this.setBlend,this.map[OFFSET]=this.setOffset,this.map[CULLING]=this.setCullFace,this.map[DEPTH_TEST]=this.setDepthTest,this.map[WINDING]=this.setFrontFace,this.map[DEPTH_MASK]=this.setDepthMask,this.checks=[],this.defaultState=State.for2d()}contextChange(ee){this.gl=ee,this.blendModesMap=mapWebGLBlendModesToPixi(ee),this.reset()}set(ee){if(ee=ee||this.defaultState,this.stateId!==ee.data){let te=this.stateId^ee.data,se=0;for(;te;)te&1&&this.map[se].call(this,!!(ee.data&1<<se)),te=te>>1,se++;this.stateId=ee.data}for(let te=0;te<this.checks.length;te++)this.checks[te](this,ee)}forceState(ee){ee=ee||this.defaultState;for(let te=0;te<this.map.length;te++)this.map[te].call(this,!!(ee.data&1<<te));for(let te=0;te<this.checks.length;te++)this.checks[te](this,ee);this.stateId=ee.data}setBlend(ee){this._updateCheck(Ej._checkBlendMode,ee),this.gl[ee?"enable":"disable"](this.gl.BLEND)}setOffset(ee){this._updateCheck(Ej._checkPolygonOffset,ee),this.gl[ee?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(ee){this.gl[ee?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(ee){this.gl.depthMask(ee)}setCullFace(ee){this.gl[ee?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(ee){this.gl.frontFace(this.gl[ee?"CW":"CCW"])}setBlendMode(ee){if(this.blendModesMap[ee]||(ee="normal"),ee===this.blendMode)return;this.blendMode=ee;const te=this.blendModesMap[ee],se=this.gl;te.length===2?se.blendFunc(te[0],te[1]):se.blendFuncSeparate(te[0],te[1],te[2],te[3]),te.length===6?(this._blendEq=!0,se.blendEquationSeparate(te[4],te[5])):this._blendEq&&(this._blendEq=!1,se.blendEquationSeparate(se.FUNC_ADD,se.FUNC_ADD))}setPolygonOffset(ee,te){this.gl.polygonOffset(ee,te)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode="",this.setBlendMode("normal")}_updateCheck(ee,te){const se=this.checks.indexOf(ee);te&&se===-1?this.checks.push(ee):!te&&se!==-1&&this.checks.splice(se,1)}static _checkBlendMode(ee,te){ee.setBlendMode(te.blendMode)}static _checkPolygonOffset(ee,te){ee.setPolygonOffset(1,te.polygonOffset)}destroy(){this.gl=null,this.checks.length=0}};_GlStateSystem.extension={type:[ExtensionType.WebGLSystem],name:"state"};let GlStateSystem=_GlStateSystem;class GlTexture{constructor(ee){this.target=GL_TARGETS.TEXTURE_2D,this.texture=ee,this.width=-1,this.height=-1,this.type=GL_TYPES.UNSIGNED_BYTE,this.internalFormat=GL_FORMATS.RGBA,this.format=GL_FORMATS.RGBA,this.samplerType=0}}const glUploadBufferImageResource={id:"image",upload(ie,ee,te){ee.width===ie.width||ee.height===ie.height?te.texSubImage2D(te.TEXTURE_2D,0,0,0,ee.format,ee.type,ie.resource):te.texImage2D(ee.target,0,ee.internalFormat,ie.width,ie.height,0,ee.format,ee.type,ie.resource),ee.width=ie.width,ee.height=ie.height}},compressedFormatMap={"bc1-rgba-unorm":!0,"bc1-rgba-unorm-srgb":!0,"bc2-rgba-unorm":!0,"bc2-rgba-unorm-srgb":!0,"bc3-rgba-unorm":!0,"bc3-rgba-unorm-srgb":!0,"bc4-r-unorm":!0,"bc4-r-snorm":!0,"bc5-rg-unorm":!0,"bc5-rg-snorm":!0,"bc6h-rgb-ufloat":!0,"bc6h-rgb-float":!0,"bc7-rgba-unorm":!0,"bc7-rgba-unorm-srgb":!0,"etc2-rgb8unorm":!0,"etc2-rgb8unorm-srgb":!0,"etc2-rgb8a1unorm":!0,"etc2-rgb8a1unorm-srgb":!0,"etc2-rgba8unorm":!0,"etc2-rgba8unorm-srgb":!0,"eac-r11unorm":!0,"eac-r11snorm":!0,"eac-rg11unorm":!0,"eac-rg11snorm":!0,"astc-4x4-unorm":!0,"astc-4x4-unorm-srgb":!0,"astc-5x4-unorm":!0,"astc-5x4-unorm-srgb":!0,"astc-5x5-unorm":!0,"astc-5x5-unorm-srgb":!0,"astc-6x5-unorm":!0,"astc-6x5-unorm-srgb":!0,"astc-6x6-unorm":!0,"astc-6x6-unorm-srgb":!0,"astc-8x5-unorm":!0,"astc-8x5-unorm-srgb":!0,"astc-8x6-unorm":!0,"astc-8x6-unorm-srgb":!0,"astc-8x8-unorm":!0,"astc-8x8-unorm-srgb":!0,"astc-10x5-unorm":!0,"astc-10x5-unorm-srgb":!0,"astc-10x6-unorm":!0,"astc-10x6-unorm-srgb":!0,"astc-10x8-unorm":!0,"astc-10x8-unorm-srgb":!0,"astc-10x10-unorm":!0,"astc-10x10-unorm-srgb":!0,"astc-12x10-unorm":!0,"astc-12x10-unorm-srgb":!0,"astc-12x12-unorm":!0,"astc-12x12-unorm-srgb":!0},glUploadCompressedTextureResource={id:"compressed",upload(ie,ee,te){te.pixelStorei(te.UNPACK_ALIGNMENT,4);let se=ie.pixelWidth,ne=ie.pixelHeight;const le=!!compressedFormatMap[ie.format];for(let ue=0;ue<ie.resource.length;ue++){const ce=ie.resource[ue];le?te.compressedTexImage2D(te.TEXTURE_2D,ue,ee.internalFormat,se,ne,0,ce):te.texImage2D(te.TEXTURE_2D,ue,ee.internalFormat,se,ne,0,ee.format,ee.type,ce),se=Math.max(se>>1,1),ne=Math.max(ne>>1,1)}}},glUploadImageResource={id:"image",upload(ie,ee,te,se){const ne=ie.alphaMode==="premultiply-alpha-on-upload";te.pixelStorei(te.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne);const le=ee.width,ue=ee.height,ce=ie.pixelWidth,he=ie.pixelHeight,de=ie.resourceWidth,_e=ie.resourceHeight;de<ce||_e<he?((le!==ce||ue!==he)&&te.texImage2D(ee.target,0,ee.internalFormat,ce,he,0,ee.format,ee.type,null),se===2?te.texSubImage2D(te.TEXTURE_2D,0,0,0,de,_e,ee.format,ee.type,ie.resource):te.texSubImage2D(te.TEXTURE_2D,0,0,0,ee.format,ee.type,ie.resource)):le===ce||ue===he?te.texSubImage2D(te.TEXTURE_2D,0,0,0,ee.format,ee.type,ie.resource):se===2?te.texImage2D(ee.target,0,ee.internalFormat,ce,he,0,ee.format,ee.type,ie.resource):te.texImage2D(ee.target,0,ee.internalFormat,ee.format,ee.type,ie.resource),ee.width=ce,ee.height=he}},glUploadVideoResource={id:"video",upload(ie,ee,te,se){if(!ie.isValid){te.texImage2D(ee.target,0,ee.internalFormat,1,1,0,ee.format,ee.type,null);return}glUploadImageResource.upload(ie,ee,te,se)}},scaleModeToGlFilter={linear:9729,nearest:9728},mipmapScaleModeToGlFilter={linear:{linear:9987,nearest:9985},nearest:{linear:9986,nearest:9984}},wrapModeToGlAddress={"clamp-to-edge":33071,repeat:10497,"mirror-repeat":33648},compareModeToGlCompare={never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519};function applyStyleParams(ie,ee,te,se,ne,le,ue,ce){const he=le;if(!ce||ie.addressModeU!=="repeat"||ie.addressModeV!=="repeat"||ie.addressModeW!=="repeat"){const de=wrapModeToGlAddress[ue?"clamp-to-edge":ie.addressModeU],_e=wrapModeToGlAddress[ue?"clamp-to-edge":ie.addressModeV],fe=wrapModeToGlAddress[ue?"clamp-to-edge":ie.addressModeW];ee[ne](he,ee.TEXTURE_WRAP_S,de),ee[ne](he,ee.TEXTURE_WRAP_T,_e),ee.TEXTURE_WRAP_R&&ee[ne](he,ee.TEXTURE_WRAP_R,fe)}if((!ce||ie.magFilter!=="linear")&&ee[ne](he,ee.TEXTURE_MAG_FILTER,scaleModeToGlFilter[ie.magFilter]),te){if(!ce||ie.mipmapFilter!=="linear"){const de=mipmapScaleModeToGlFilter[ie.minFilter][ie.mipmapFilter];ee[ne](he,ee.TEXTURE_MIN_FILTER,de)}}else ee[ne](he,ee.TEXTURE_MIN_FILTER,scaleModeToGlFilter[ie.minFilter]);if(se&&ie.maxAnisotropy>1){const de=Math.min(ie.maxAnisotropy,ee.getParameter(se.MAX_TEXTURE_MAX_ANISOTROPY_EXT));ee[ne](he,se.TEXTURE_MAX_ANISOTROPY_EXT,de)}ie.compare&&ee[ne](he,ee.TEXTURE_COMPARE_FUNC,compareModeToGlCompare[ie.compare])}function mapFormatToGlFormat(ie){return{r8unorm:ie.RED,r8snorm:ie.RED,r8uint:ie.RED,r8sint:ie.RED,r16uint:ie.RED,r16sint:ie.RED,r16float:ie.RED,rg8unorm:ie.RG,rg8snorm:ie.RG,rg8uint:ie.RG,rg8sint:ie.RG,r32uint:ie.RED,r32sint:ie.RED,r32float:ie.RED,rg16uint:ie.RG,rg16sint:ie.RG,rg16float:ie.RG,rgba8unorm:ie.RGBA,"rgba8unorm-srgb":ie.RGBA,rgba8snorm:ie.RGBA,rgba8uint:ie.RGBA,rgba8sint:ie.RGBA,bgra8unorm:ie.RGBA,"bgra8unorm-srgb":ie.RGBA,rgb9e5ufloat:ie.RGB,rgb10a2unorm:ie.RGBA,rg11b10ufloat:ie.RGB,rg32uint:ie.RG,rg32sint:ie.RG,rg32float:ie.RG,rgba16uint:ie.RGBA,rgba16sint:ie.RGBA,rgba16float:ie.RGBA,rgba32uint:ie.RGBA,rgba32sint:ie.RGBA,rgba32float:ie.RGBA,stencil8:ie.STENCIL_INDEX8,depth16unorm:ie.DEPTH_COMPONENT,depth24plus:ie.DEPTH_COMPONENT,"depth24plus-stencil8":ie.DEPTH_STENCIL,depth32float:ie.DEPTH_COMPONENT,"depth32float-stencil8":ie.DEPTH_STENCIL}}function mapFormatToGlInternalFormat(ie,ee){let te={},se=ie.RGBA;return ie instanceof DOMAdapter.get().getWebGL2RenderingContext()?(te={"rgba8unorm-srgb":ie.SRGB8_ALPHA8,"bgra8unorm-srgb":ie.SRGB8_ALPHA8},se=ie.RGBA8):ee.srgb&&(te={"rgba8unorm-srgb":ee.srgb.SRGB8_ALPHA8_EXT,"bgra8unorm-srgb":ee.srgb.SRGB8_ALPHA8_EXT}),{r8unorm:ie.R8,r8snorm:ie.R8_SNORM,r8uint:ie.R8UI,r8sint:ie.R8I,r16uint:ie.R16UI,r16sint:ie.R16I,r16float:ie.R16F,rg8unorm:ie.RG8,rg8snorm:ie.RG8_SNORM,rg8uint:ie.RG8UI,rg8sint:ie.RG8I,r32uint:ie.R32UI,r32sint:ie.R32I,r32float:ie.R32F,rg16uint:ie.RG16UI,rg16sint:ie.RG16I,rg16float:ie.RG16F,rgba8unorm:ie.RGBA,...te,rgba8snorm:ie.RGBA8_SNORM,rgba8uint:ie.RGBA8UI,rgba8sint:ie.RGBA8I,bgra8unorm:se,rgb9e5ufloat:ie.RGB9_E5,rgb10a2unorm:ie.RGB10_A2,rg11b10ufloat:ie.R11F_G11F_B10F,rg32uint:ie.RG32UI,rg32sint:ie.RG32I,rg32float:ie.RG32F,rgba16uint:ie.RGBA16UI,rgba16sint:ie.RGBA16I,rgba16float:ie.RGBA16F,rgba32uint:ie.RGBA32UI,rgba32sint:ie.RGBA32I,rgba32float:ie.RGBA32F,stencil8:ie.STENCIL_INDEX8,depth16unorm:ie.DEPTH_COMPONENT16,depth24plus:ie.DEPTH_COMPONENT24,"depth24plus-stencil8":ie.DEPTH24_STENCIL8,depth32float:ie.DEPTH_COMPONENT32F,"depth32float-stencil8":ie.DEPTH32F_STENCIL8,...ee.s3tc?{"bc1-rgba-unorm":ee.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,"bc2-rgba-unorm":ee.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,"bc3-rgba-unorm":ee.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT}:{},...ee.s3tc_sRGB?{"bc1-rgba-unorm-srgb":ee.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,"bc2-rgba-unorm-srgb":ee.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,"bc3-rgba-unorm-srgb":ee.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}:{},...ee.rgtc?{"bc4-r-unorm":ee.rgtc.COMPRESSED_RED_RGTC1_EXT,"bc4-r-snorm":ee.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,"bc5-rg-unorm":ee.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,"bc5-rg-snorm":ee.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}:{},...ee.bptc?{"bc6h-rgb-float":ee.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,"bc6h-rgb-ufloat":ee.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,"bc7-rgba-unorm":ee.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,"bc7-rgba-unorm-srgb":ee.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT}:{},...ee.etc?{"etc2-rgb8unorm":ee.etc.COMPRESSED_RGB8_ETC2,"etc2-rgb8unorm-srgb":ee.etc.COMPRESSED_SRGB8_ETC2,"etc2-rgb8a1unorm":ee.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgb8a1unorm-srgb":ee.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgba8unorm":ee.etc.COMPRESSED_RGBA8_ETC2_EAC,"etc2-rgba8unorm-srgb":ee.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,"eac-r11unorm":ee.etc.COMPRESSED_R11_EAC,"eac-rg11unorm":ee.etc.COMPRESSED_SIGNED_RG11_EAC}:{},...ee.astc?{"astc-4x4-unorm":ee.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,"astc-4x4-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,"astc-5x4-unorm":ee.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,"astc-5x4-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,"astc-5x5-unorm":ee.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,"astc-5x5-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,"astc-6x5-unorm":ee.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,"astc-6x5-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,"astc-6x6-unorm":ee.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,"astc-6x6-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,"astc-8x5-unorm":ee.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,"astc-8x5-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,"astc-8x6-unorm":ee.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,"astc-8x6-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,"astc-8x8-unorm":ee.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,"astc-8x8-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,"astc-10x5-unorm":ee.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,"astc-10x5-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,"astc-10x6-unorm":ee.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,"astc-10x6-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,"astc-10x8-unorm":ee.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,"astc-10x8-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,"astc-10x10-unorm":ee.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,"astc-10x10-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,"astc-12x10-unorm":ee.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,"astc-12x10-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,"astc-12x12-unorm":ee.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,"astc-12x12-unorm-srgb":ee.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR}:{}}}function mapFormatToGlType(ie){return{r8unorm:ie.UNSIGNED_BYTE,r8snorm:ie.BYTE,r8uint:ie.UNSIGNED_BYTE,r8sint:ie.BYTE,r16uint:ie.UNSIGNED_SHORT,r16sint:ie.SHORT,r16float:ie.HALF_FLOAT,rg8unorm:ie.UNSIGNED_BYTE,rg8snorm:ie.BYTE,rg8uint:ie.UNSIGNED_BYTE,rg8sint:ie.BYTE,r32uint:ie.UNSIGNED_INT,r32sint:ie.INT,r32float:ie.FLOAT,rg16uint:ie.UNSIGNED_SHORT,rg16sint:ie.SHORT,rg16float:ie.HALF_FLOAT,rgba8unorm:ie.UNSIGNED_BYTE,"rgba8unorm-srgb":ie.UNSIGNED_BYTE,rgba8snorm:ie.BYTE,rgba8uint:ie.UNSIGNED_BYTE,rgba8sint:ie.BYTE,bgra8unorm:ie.UNSIGNED_BYTE,"bgra8unorm-srgb":ie.UNSIGNED_BYTE,rgb9e5ufloat:ie.UNSIGNED_INT_5_9_9_9_REV,rgb10a2unorm:ie.UNSIGNED_INT_2_10_10_10_REV,rg11b10ufloat:ie.UNSIGNED_INT_10F_11F_11F_REV,rg32uint:ie.UNSIGNED_INT,rg32sint:ie.INT,rg32float:ie.FLOAT,rgba16uint:ie.UNSIGNED_SHORT,rgba16sint:ie.SHORT,rgba16float:ie.HALF_FLOAT,rgba32uint:ie.UNSIGNED_INT,rgba32sint:ie.INT,rgba32float:ie.FLOAT,stencil8:ie.UNSIGNED_BYTE,depth16unorm:ie.UNSIGNED_SHORT,depth24plus:ie.UNSIGNED_INT,"depth24plus-stencil8":ie.UNSIGNED_INT_24_8,depth32float:ie.FLOAT,"depth32float-stencil8":ie.FLOAT_32_UNSIGNED_INT_24_8_REV}}const BYTES_PER_PIXEL=4;class GlTextureSystem{constructor(ee){this.managedTextures=[],this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundTextures=[],this._activeTextureLocation=-1,this._boundSamplers=Object.create(null),this._uploads={image:glUploadImageResource,buffer:glUploadBufferImageResource,video:glUploadVideoResource,compressed:glUploadCompressedTextureResource},this._useSeparateSamplers=!1,this._renderer=ee}contextChange(ee){this._gl=ee,this._mapFormatToInternalFormat||(this._mapFormatToInternalFormat=mapFormatToGlInternalFormat(ee,this._renderer.context.extensions),this._mapFormatToType=mapFormatToGlType(ee),this._mapFormatToFormat=mapFormatToGlFormat(ee)),this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundSamplers=Object.create(null);for(let te=0;te<16;te++)this.bind(Texture.EMPTY,te)}initSource(ee){this.bind(ee)}bind(ee,te=0){const se=ee.source;ee?(this.bindSource(se,te),this._useSeparateSamplers&&this._bindSampler(se.style,te)):(this.bindSource(null,te),this._useSeparateSamplers&&this._bindSampler(null,te))}bindSource(ee,te=0){const se=this._gl;if(ee._touched=this._renderer.textureGC.count,this._boundTextures[te]!==ee){this._boundTextures[te]=ee,this._activateLocation(te),ee=ee||Texture.EMPTY.source;const ne=this.getGlSource(ee);se.bindTexture(ne.target,ne.texture)}}_bindSampler(ee,te=0){const se=this._gl;if(!ee){this._boundSamplers[te]=null,se.bindSampler(te,null);return}const ne=this._getGlSampler(ee);this._boundSamplers[te]!==ne&&(this._boundSamplers[te]=ne,se.bindSampler(te,ne))}unbind(ee){const te=ee.source,se=this._boundTextures,ne=this._gl;for(let le=0;le<se.length;le++)if(se[le]===te){this._activateLocation(le);const ue=this.getGlSource(te);ne.bindTexture(ue.target,null),se[le]=null}}_activateLocation(ee){this._activeTextureLocation!==ee&&(this._activeTextureLocation=ee,this._gl.activeTexture(this._gl.TEXTURE0+ee))}_initSource(ee){const te=this._gl,se=new GlTexture(te.createTexture());if(se.type=this._mapFormatToType[ee.format],se.internalFormat=this._mapFormatToInternalFormat[ee.format],se.format=this._mapFormatToFormat[ee.format],ee.autoGenerateMipmaps&&(this._renderer.context.supports.nonPowOf2mipmaps||ee.isPowerOfTwo)){const ne=Math.max(ee.width,ee.height);ee.mipLevelCount=Math.floor(Math.log2(ne))+1}return this._glTextures[ee.uid]=se,this.managedTextures.includes(ee)||(ee.on("update",this.onSourceUpdate,this),ee.on("resize",this.onSourceUpdate,this),ee.on("styleChange",this.onStyleChange,this),ee.on("destroy",this.onSourceDestroy,this),ee.on("unload",this.onSourceUnload,this),ee.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(ee)),this.onSourceUpdate(ee),this.updateStyle(ee,!1),se}onStyleChange(ee){this.updateStyle(ee,!1)}updateStyle(ee,te){const se=this._gl,ne=this.getGlSource(ee);se.bindTexture(se.TEXTURE_2D,ne.texture),this._boundTextures[this._activeTextureLocation]=ee,applyStyleParams(ee.style,se,ee.mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"texParameteri",se.TEXTURE_2D,!this._renderer.context.supports.nonPowOf2wrapping&&!ee.isPowerOfTwo,te)}onSourceUnload(ee){const te=this._glTextures[ee.uid];te&&(this.unbind(ee),this._glTextures[ee.uid]=null,this._gl.deleteTexture(te.texture))}onSourceUpdate(ee){const te=this._gl,se=this.getGlSource(ee);te.bindTexture(te.TEXTURE_2D,se.texture),this._boundTextures[this._activeTextureLocation]=ee,this._uploads[ee.uploadMethodId]?this._uploads[ee.uploadMethodId].upload(ee,se,te,this._renderer.context.webGLVersion):te.texImage2D(te.TEXTURE_2D,0,te.RGBA,ee.pixelWidth,ee.pixelHeight,0,te.RGBA,te.UNSIGNED_BYTE,null),ee.autoGenerateMipmaps&&ee.mipLevelCount>1&&this.onUpdateMipmaps(ee,!1)}onUpdateMipmaps(ee,te=!0){te&&this.bindSource(ee,0);const se=this.getGlSource(ee);this._gl.generateMipmap(se.target)}onSourceDestroy(ee){ee.off("destroy",this.onSourceDestroy,this),ee.off("update",this.onSourceUpdate,this),ee.off("resize",this.onSourceUpdate,this),ee.off("unload",this.onSourceUnload,this),ee.off("styleChange",this.onStyleChange,this),ee.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(ee),1),this.onSourceUnload(ee)}_initSampler(ee){const te=this._gl,se=this._gl.createSampler();return this._glSamplers[ee._resourceId]=se,applyStyleParams(ee,te,this._boundTextures[this._activeTextureLocation].mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"samplerParameteri",se,!1,!0),this._glSamplers[ee._resourceId]}_getGlSampler(ee){return this._glSamplers[ee._resourceId]||this._initSampler(ee)}getGlSource(ee){return this._glTextures[ee.uid]||this._initSource(ee)}generateCanvas(ee){const{pixels:te,width:se,height:ne}=this.getPixels(ee),le=DOMAdapter.get().createCanvas();le.width=se,le.height=ne;const ue=le.getContext("2d");if(ue){const ce=ue.createImageData(se,ne);ce.data.set(te),ue.putImageData(ce,0,0)}return le}getPixels(ee){const te=ee.source.resolution,se=ee.frame,ne=Math.max(Math.round(se.width*te),1),le=Math.max(Math.round(se.height*te),1),ue=new Uint8Array(BYTES_PER_PIXEL*ne*le),ce=this._renderer,he=ce.renderTarget.getRenderTarget(ee),de=ce.renderTarget.getGpuRenderTarget(he),_e=ce.gl;return _e.bindFramebuffer(_e.FRAMEBUFFER,de.resolveTargetFramebuffer),_e.readPixels(Math.round(se.x*te),Math.round(se.y*te),ne,le,_e.RGBA,_e.UNSIGNED_BYTE,ue),{pixels:new Uint8ClampedArray(ue.buffer),width:ne,height:le}}destroy(){this.managedTextures.slice().forEach(ee=>this.onSourceDestroy(ee)),this.managedTextures=null,this._renderer=null}}GlTextureSystem.extension={type:[ExtensionType.WebGLSystem],name:"texture"};class GlGraphicsAdaptor{init(){const ee=new UniformGroup({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new Matrix,type:"mat3x3<f32>"},uRound:{value:0,type:"f32"}}),te=compileHighShaderGlProgram({name:"graphics",bits:[colorBitGl,generateTextureBatchBitGl(MAX_TEXTURES),localUniformBitGl,roundPixelsBitGl]});this.shader=new Shader({glProgram:te,resources:{localUniforms:ee,batchSamplers:batchSamplersUniformGroup}})}execute(ee,te){const se=te.context,ne=se.customShader||this.shader,le=ee.renderer,ue=le.graphicsContext,{geometry:ce,instructions:he}=ue.getContextRenderData(se);ne.groups[0]=le.globalUniforms.bindGroup,le.shader.bind(ne),le.geometry.bind(ce,ne.glProgram);const de=he.instructions;for(let _e=0;_e<he.instructionSize;_e++){const fe=de[_e];if(fe.size){for(let ye=0;ye<fe.textures.textures.length;ye++)le.texture.bind(fe.textures.textures[ye],ye);le.geometry.draw("triangle-list",fe.size,fe.start)}}}destroy(){this.shader.destroy(!0),this.shader=null}}GlGraphicsAdaptor.extension={type:[ExtensionType.WebGLPipesAdaptor],name:"graphics"};class GlMeshAdaptor{init(){const ee=compileHighShaderGlProgram({name:"mesh",bits:[localUniformBitGl,textureBitGl,roundPixelsBitGl]});this._shader=new Shader({glProgram:ee,resources:{uTexture:Texture.EMPTY.source,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new Matrix}}}})}execute(ee,te){const se=ee.renderer;let ne=te._shader;if(ne){if(!ne.glProgram){warn("Mesh shader has no glProgram",te.shader);return}}else{ne=this._shader;const le=te.texture,ue=le.source;ne.resources.uTexture=ue,ne.resources.uSampler=ue.style,ne.resources.textureUniforms.uniforms.uTextureMatrix=le.textureMatrix.mapCoord}ne.groups[100]=se.globalUniforms.bindGroup,ne.groups[101]=ee.localUniformsBindGroup,se.encoder.draw({geometry:te._geometry,shader:ne,state:te.state})}destroy(){this._shader.destroy(!0),this._shader=null}}GlMeshAdaptor.extension={type:[ExtensionType.WebGLPipesAdaptor],name:"mesh"};class CustomRenderPipe{constructor(ee){this._renderer=ee}addRenderable(ee,te){this._renderer.renderPipes.batch.break(te),te.add(ee)}execute(ee){ee.isRenderable&&ee.render(this._renderer)}destroy(){this._renderer=null}}CustomRenderPipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"customRender"};function executeInstructions(ie,ee){const te=ie.instructionSet,se=te.instructions;for(let ne=0;ne<te.instructionSize;ne++){const le=se[ne];ee[le.renderPipeId].execute(le)}}class RenderGroupPipe{constructor(ee){this._renderer=ee}addRenderGroup(ee,te){this._renderer.renderPipes.batch.break(te),te.add(ee)}execute(ee){ee.isRenderable&&(this._renderer.globalUniforms.push({worldTransformMatrix:ee.worldTransform,worldColor:ee.worldColorAlpha}),executeInstructions(ee,this._renderer.renderPipes),this._renderer.globalUniforms.pop())}destroy(){this._renderer=null}}RenderGroupPipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"renderGroup"};function collectRenderGroups(ie,ee=[]){ee.push(ie);for(let te=0;te<ie.renderGroupChildren.length;te++)collectRenderGroups(ie.renderGroupChildren[te],ee);return ee}const tempContainer=new Container;function updateRenderGroupTransforms(ie,ee=!1){updateRenderGroupTransform(ie);const te=ie.childrenToUpdate,se=ie.updateTick;ie.updateTick++;for(const ne in te){const le=te[ne],ue=le.list,ce=le.index;for(let he=0;he<ce;he++)updateTransformAndChildren(ue[he],se,0);le.index=0}if(ee)for(let ne=0;ne<ie.renderGroupChildren.length;ne++)updateRenderGroupTransforms(ie.renderGroupChildren[ne],ee)}function updateRenderGroupTransform(ie){const ee=ie.root;let te;if(ie.renderGroupParent){const se=ie.renderGroupParent;ie.worldTransform.appendFrom(ee.relativeGroupTransform,se.worldTransform),ie.worldColor=mixColors(ee.groupColor,se.worldColor),te=ee.groupAlpha*se.worldAlpha}else ie.worldTransform.copyFrom(ee.localTransform),ie.worldColor=ee.localColor,te=ee.localAlpha;te=te<0?0:te>1?1:te,ie.worldAlpha=te,ie.worldColorAlpha=ie.worldColor+((te*255|0)<<24)}function updateTransformAndChildren(ie,ee,te){if(ee===ie.updateTick)return;ie.updateTick=ee,ie.didChange=!1;const se=ie.localTransform;ie.updateLocalTransform();const ne=ie.parent;if(ne&&!ne.isRenderGroupRoot?(te=te|ie._updateFlags,ie.relativeGroupTransform.appendFrom(se,ne.relativeGroupTransform),te&&updateColorBlendVisibility(ie,ne,te)):(te=ie._updateFlags,ie.relativeGroupTransform.copyFrom(se),te&&updateColorBlendVisibility(ie,tempContainer,te)),!ie.isRenderGroupRoot){const le=ie.children,ue=le.length;for(let he=0;he<ue;he++)updateTransformAndChildren(le[he],ee,te);const ce=ie.renderGroup;ie.renderPipeId&&!ce.structureDidChange&&ce.updateRenderable(ie)}}function updateColorBlendVisibility(ie,ee,te){if(te&UPDATE_COLOR){ie.groupColor=mixColors(ie.localColor,ee.groupColor);let se=ie.localAlpha*ee.groupAlpha;se=se<0?0:se>1?1:se,ie.groupAlpha=se,ie.groupColorAlpha=ie.groupColor+((se*255|0)<<24)}te&UPDATE_BLEND&&(ie.groupBlendMode=ie.localBlendMode==="inherit"?ee.groupBlendMode:ie.localBlendMode),te&UPDATE_VISIBLE&&(ie.globalDisplayStatus=ie.localDisplayStatus&ee.globalDisplayStatus),ie._updateFlags=0}function validateRenderables(ie,ee){const{list:te,index:se}=ie.childrenRenderablesToUpdate;let ne=!1;for(let le=0;le<se;le++){const ue=te[le];if(ne=ee[ue.renderPipeId].validateRenderable(ue),ne)break}return ie.structureDidChange=ne,ne}const tempMatrix=new Matrix;class RenderGroupSystem{constructor(ee){this._renderer=ee}render({container:ee,transform:te}){ee.isRenderGroup=!0;const se=ee.parent,ne=ee.renderGroup.renderGroupParent;ee.parent=null,ee.renderGroup.renderGroupParent=null;const le=this._renderer,ue=collectRenderGroups(ee.renderGroup,[]);let ce=tempMatrix;te&&(ce=ce.copyFrom(ee.renderGroup.localTransform),ee.renderGroup.localTransform.copyFrom(te));const he=le.renderPipes;for(let de=0;de<ue.length;de++){const _e=ue[de];_e.runOnRender(),_e.instructionSet.renderPipes=he,_e.structureDidChange||validateRenderables(_e,he),updateRenderGroupTransforms(_e),_e.structureDidChange?(_e.structureDidChange=!1,buildInstructions(_e,he)):updateRenderables(_e),_e.childrenRenderablesToUpdate.index=0,le.renderPipes.batch.upload(_e.instructionSet)}le.globalUniforms.start({worldTransformMatrix:te?ee.renderGroup.localTransform:ee.renderGroup.worldTransform,worldColor:ee.renderGroup.worldColorAlpha}),executeInstructions(ee.renderGroup,he),he.uniformBatch&&he.uniformBatch.renderEnd(),te&&ee.renderGroup.localTransform.copyFrom(ce),ee.parent=se,ee.renderGroup.renderGroupParent=ne}destroy(){this._renderer=null}}RenderGroupSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"renderGroup"};function updateRenderables(ie){const{list:ee,index:te}=ie.childrenRenderablesToUpdate;for(let se=0;se<te;se++){const ne=ee[se];ne.didViewUpdate&&ie.updateRenderable(ne)}}class BatchableSprite{constructor(){this.vertexSize=4,this.indexSize=6,this.location=0,this.batcher=null,this.batch=null,this.roundPixels=0}get blendMode(){return this.renderable.groupBlendMode}packAttributes(ee,te,se,ne){const le=this.renderable,ue=this.texture,ce=le.groupTransform,he=ce.a,de=ce.b,_e=ce.c,fe=ce.d,ye=ce.tx,be=ce.ty,Pe=this.bounds,Ne=Pe.maxX,we=Pe.minX,De=Pe.maxY,$e=Pe.minY,Ge=ue.uvs,Be=le.groupColorAlpha,ze=ne<<16|this.roundPixels&65535;ee[se+0]=he*we+_e*$e+ye,ee[se+1]=fe*$e+de*we+be,ee[se+2]=Ge.x0,ee[se+3]=Ge.y0,te[se+4]=Be,te[se+5]=ze,ee[se+6]=he*Ne+_e*$e+ye,ee[se+7]=fe*$e+de*Ne+be,ee[se+8]=Ge.x1,ee[se+9]=Ge.y1,te[se+10]=Be,te[se+11]=ze,ee[se+12]=he*Ne+_e*De+ye,ee[se+13]=fe*De+de*Ne+be,ee[se+14]=Ge.x2,ee[se+15]=Ge.y2,te[se+16]=Be,te[se+17]=ze,ee[se+18]=he*we+_e*De+ye,ee[se+19]=fe*De+de*we+be,ee[se+20]=Ge.x3,ee[se+21]=Ge.y3,te[se+22]=Be,te[se+23]=ze}packIndex(ee,te,se){ee[te]=se+0,ee[te+1]=se+1,ee[te+2]=se+2,ee[te+3]=se+0,ee[te+4]=se+2,ee[te+5]=se+3}reset(){this.renderable=null,this.texture=null,this.batcher=null,this.batch=null,this.bounds=null}}class SpritePipe{constructor(ee){this._gpuSpriteHash=Object.create(null),this._renderer=ee}addRenderable(ee,te){const se=this._getGpuSprite(ee);ee._didSpriteUpdate&&this._updateBatchableSprite(ee,se),this._renderer.renderPipes.batch.addToBatch(se)}updateRenderable(ee){const te=this._gpuSpriteHash[ee.uid];ee._didSpriteUpdate&&this._updateBatchableSprite(ee,te),te.batcher.updateElement(te)}validateRenderable(ee){const te=ee._texture,se=this._getGpuSprite(ee);return se.texture._source!==te._source?!se.batcher.checkAndUpdateTexture(se,te):!1}destroyRenderable(ee){const te=this._gpuSpriteHash[ee.uid];BigPool.return(te),this._gpuSpriteHash[ee.uid]=null}_updateBatchableSprite(ee,te){ee._didSpriteUpdate=!1,te.bounds=ee.bounds,te.texture=ee._texture}_getGpuSprite(ee){return this._gpuSpriteHash[ee.uid]||this._initGPUSprite(ee)}_initGPUSprite(ee){const te=BigPool.get(BatchableSprite);return te.renderable=ee,te.texture=ee._texture,te.bounds=ee.bounds,te.roundPixels=this._renderer._roundPixels|ee._roundPixels,this._gpuSpriteHash[ee.uid]=te,ee._didSpriteUpdate=!1,ee.on("destroyed",()=>{this.destroyRenderable(ee)}),te}destroy(){for(const ee in this._gpuSpriteHash)BigPool.return(this._gpuSpriteHash[ee]);this._gpuSpriteHash=null,this._renderer=null}}SpritePipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"sprite"};const _BackgroundSystem=class Dk{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Color(0),this.color=this._backgroundColor,this.alpha=1}init(ee){ee={...Dk.defaultOptions,...ee},this.clearBeforeRender=ee.clearBeforeRender,this.color=ee.background||ee.backgroundColor||this._backgroundColor,this.alpha=ee.backgroundAlpha,this._backgroundColor.setAlpha(ee.backgroundAlpha)}get color(){return this._backgroundColor}set color(ee){this._backgroundColor.setValue(ee)}get alpha(){return this._backgroundColor.alpha}set alpha(ee){this._backgroundColor.setAlpha(ee)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};_BackgroundSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"background",priority:0},_BackgroundSystem.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let BackgroundSystem=_BackgroundSystem;const BLEND_MODE_FILTERS={};extensions.handle(ExtensionType.BlendMode,ie=>{if(!ie.name)throw new Error("BlendMode extension must have a name property");BLEND_MODE_FILTERS[ie.name]=ie.ref},ie=>{delete BLEND_MODE_FILTERS[ie.name]});class BlendModePipe{constructor(ee){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=ee}setBlendMode(ee,te,se){if(this._activeBlendMode===te){this._isAdvanced&&this._renderableList.push(ee);return}this._activeBlendMode=te,this._isAdvanced&&this._endAdvancedBlendMode(se),this._isAdvanced=!!BLEND_MODE_FILTERS[te],this._isAdvanced&&(this._beginAdvancedBlendMode(se),this._renderableList.push(ee))}_beginAdvancedBlendMode(ee){this._renderer.renderPipes.batch.break(ee);const te=this._activeBlendMode;if(!BLEND_MODE_FILTERS[te]){warn(`Unable to assign BlendMode: '${te}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);return}this._filterHash[te]||(this._filterHash[te]=new FilterEffect({filters:[new BLEND_MODE_FILTERS[te]]}));const se={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:this._filterHash[te],canBundle:!1};this._renderableList=se.renderables,ee.add(se)}_endAdvancedBlendMode(ee){this._renderableList=null,this._renderer.renderPipes.batch.break(ee),ee.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(ee){this._isAdvanced&&this._endAdvancedBlendMode(ee)}destroy(){this._renderer=null,this._renderableList=null;for(const ee in this._filterHash)this._filterHash[ee].destroy();this._filterHash=null}}BlendModePipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"blendMode"};const imageTypes={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},_ExtractSystem=class Lk{constructor(ee){this._renderer=ee}_normalizeOptions(ee,te={}){return ee instanceof Container||ee instanceof Texture?{target:ee,...te}:{...te,...ee}}async image(ee){const te=new Image;return te.src=await this.base64(ee),te}async base64(ee){ee=this._normalizeOptions(ee,Lk.defaultImageOptions);const{format:te,quality:se}=ee,ne=this.canvas(ee);if(ne.toBlob!==void 0)return new Promise((le,ue)=>{ne.toBlob(ce=>{if(!ce){ue(new Error("ICanvas.toBlob failed!"));return}const he=new FileReader;he.onload=()=>le(he.result),he.onerror=ue,he.readAsDataURL(ce)},imageTypes[te],se)});if(ne.toDataURL!==void 0)return ne.toDataURL(imageTypes[te],se);if(ne.convertToBlob!==void 0){const le=await ne.convertToBlob({type:imageTypes[te],quality:se});return new Promise((ue,ce)=>{const he=new FileReader;he.onload=()=>ue(he.result),he.onerror=ce,he.readAsDataURL(le)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(ee){ee=this._normalizeOptions(ee);const te=ee.target,se=this._renderer;if(te instanceof Texture)return se.texture.generateCanvas(te);const ne=se.textureGenerator.generateTexture(ee),le=se.texture.generateCanvas(ne);return ne.destroy(),le}pixels(ee){ee=this._normalizeOptions(ee);const te=ee.target,se=this._renderer,ne=te instanceof Texture?te:se.textureGenerator.generateTexture(ee),le=se.texture.getPixels(ne);return te instanceof Container&&ne.destroy(),le}texture(ee){return ee=this._normalizeOptions(ee),ee.target instanceof Texture?ee.target:this._renderer.textureGenerator.generateTexture(ee)}download(ee){ee=this._normalizeOptions(ee);const te=this.canvas(ee),se=document.createElement("a");se.download=ee.filename??"image.png",se.href=te.toDataURL("image/png"),document.body.appendChild(se),se.click(),document.body.removeChild(se)}log(ee){const te=ee.width??200;ee=this._normalizeOptions(ee);const se=this.canvas(ee),ne=se.toDataURL();console.log(`[Pixi Texture] ${se.width}px ${se.height}px`);const le=["font-size: 1px;",`padding: ${te}px 300px;`,`background: url(${ne}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",le)}destroy(){this._renderer=null}};_ExtractSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem],name:"extract"},_ExtractSystem.defaultImageOptions={format:"png",quality:1};let ExtractSystem=_ExtractSystem;class RenderTexture extends Texture{static create(ee){return new Texture({source:new TextureSource(ee)})}resize(ee,te,se){return this.source.resize(ee,te,se),this}}const tempRect=new Rectangle,tempBounds$1=new Bounds,noColor=[0,0,0,0];class GenerateTextureSystem{constructor(ee){this._renderer=ee}generateTexture(ee){var de;ee instanceof Container&&(ee={target:ee,frame:void 0,textureSourceOptions:{},resolution:void 0});const te=ee.resolution||this._renderer.resolution,se=ee.antialias||this._renderer.view.antialias,ne=ee.target;let le=ee.clearColor;le?le=Array.isArray(le)&&le.length===4?le:Color.shared.setValue(le).toArray():le=noColor;const ue=((de=ee.frame)==null?void 0:de.copyTo(tempRect))||getLocalBounds(ne,tempBounds$1).rectangle;ue.width=Math.max(ue.width,1/te)|0,ue.height=Math.max(ue.height,1/te)|0;const ce=RenderTexture.create({...ee.textureSourceOptions,width:ue.width,height:ue.height,resolution:te,antialias:se}),he=Matrix.shared.translate(-ue.x,-ue.y);return this._renderer.render({container:ne,transform:he,target:ce,clearColor:le}),ce}destroy(){this._renderer=null}}GenerateTextureSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem],name:"textureGenerator"};function color32BitToUniform(ie,ee,te){const se=(ie>>24&255)/255;ee[te++]=(ie&255)/255*se,ee[te++]=(ie>>8&255)/255*se,ee[te++]=(ie>>16&255)/255*se,ee[te++]=se}class GlobalUniformSystem{constructor(ee){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=ee}reset(){this._stackIndex=0;for(let ee=0;ee<this._activeUniforms.length;ee++)this._uniformsPool.push(this._activeUniforms[ee]);for(let ee=0;ee<this._activeBindGroups.length;ee++)this._bindGroupPool.push(this._activeBindGroups[ee]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(ee){this.reset(),this.push(ee)}bind({size:ee,projectionMatrix:te,worldTransformMatrix:se,worldColor:ne,offset:le}){const ue=this._renderer.renderTarget.renderTarget,ce=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:ue,worldTransformMatrix:new Matrix,worldColor:4294967295,offset:new Point},he={projectionMatrix:te||this._renderer.renderTarget.projectionMatrix,resolution:ee||ue.size,worldTransformMatrix:se||ce.worldTransformMatrix,worldColor:ne||ce.worldColor,offset:le||ce.offset,bindGroup:null},de=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(de);const _e=de.uniforms;_e.uProjectionMatrix=he.projectionMatrix,_e.uResolution=he.resolution,_e.uWorldTransformMatrix.copyFrom(he.worldTransformMatrix),_e.uWorldTransformMatrix.tx-=he.offset.x,_e.uWorldTransformMatrix.ty-=he.offset.y,color32BitToUniform(he.worldColor,_e.uWorldColorAlpha,0),de.update();let fe;this._renderer.renderPipes.uniformBatch?fe=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(de,!1):(fe=this._bindGroupPool.pop()||new BindGroup,this._activeBindGroups.push(fe),fe.setResource(de,0)),he.bindGroup=fe,this._currentGlobalUniformData=he}push(ee){this.bind(ee),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===RendererType.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new UniformGroup({uProjectionMatrix:{value:new Matrix,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new Matrix,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}GlobalUniformSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"globalUniforms"};let saidHello=!1;const VERSION="8.0.4";function sayHello(ie){if(!saidHello){if(DOMAdapter.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const ee=[`%c  %c  %c  %c  %c PixiJS %c v${VERSION} (${ie}) http://www.pixijs.com/

`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...ee)}else globalThis.console&&globalThis.console.log(`PixiJS ${VERSION} - ${ie} - http://www.pixijs.com/`);saidHello=!0}}class HelloSystem{constructor(ee){this._renderer=ee}init(ee){if(ee.hello){let te=this._renderer.name;this._renderer.type===RendererType.WEBGL&&(te+=` ${this._renderer.context.webGLVersion}`),sayHello(te)}}}HelloSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"hello",priority:-2},HelloSystem.defaultOptions={hello:!1};const _TextureGCSystem=class Uk{constructor(ee){this._renderer=ee,this.count=0,this.checkCount=0}init(ee){ee={...Uk.defaultOptions,...ee},this.checkCountMax=ee.textureGCCheckCountMax,this.maxIdle=ee.textureGCAMaxIdle,this.active=ee.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const ee=this._renderer.texture.managedTextures;for(let te=0;te<ee.length;te++){const se=ee[te];se.autoGarbageCollect&&se.resource&&se._touched>-1&&this.count-se._touched>this.maxIdle&&(se._touched=-1,se.unload())}}destroy(){this._renderer=null}};_TextureGCSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem],name:"textureGC"},_TextureGCSystem.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:60*60,textureGCCheckCountMax:600};let TextureGCSystem=_TextureGCSystem;extensions.add(TextureGCSystem);const _ViewSystem=class Fk{get resolution(){return this.texture.source._resolution}set resolution(ee){this.texture.source.resize(this.texture.source.width,this.texture.source.height,ee)}init(ee){ee={...Fk.defaultOptions,...ee},ee.view&&(deprecation(v8_0_0,"ViewSystem.view has been renamed to ViewSystem.canvas"),ee.canvas=ee.view),this.screen=new Rectangle(0,0,ee.width,ee.height),this.canvas=ee.canvas||DOMAdapter.get().createCanvas(),this.antialias=!!ee.antialias,this.texture=getCanvasTexture(this.canvas,ee),this.renderTarget=new RenderTarget({colorTextures:[this.texture],depth:!!ee.depth,isRoot:!0}),this.texture.source.transparent=ee.backgroundAlpha<1,this.multiView=!!ee.multiView,this.autoDensity&&(this.canvas.style.width=`${this.texture.width}px`,this.canvas.style.height=`${this.texture.height}px`),this.resolution=ee.resolution}resize(ee,te,se){this.texture.source.resize(ee,te,se),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height,this.autoDensity&&(this.canvas.style.width=`${ee}px`,this.canvas.style.height=`${te}px`)}destroy(ee=!1){(typeof ee=="boolean"?ee:!!(ee!=null&&ee.removeView))&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};_ViewSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"view",priority:0},_ViewSystem.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};let ViewSystem=_ViewSystem;const SharedSystems=[BackgroundSystem,GlobalUniformSystem,HelloSystem,ViewSystem,RenderGroupSystem,TextureGCSystem,GenerateTextureSystem,ExtractSystem],SharedRenderPipes=[BlendModePipe,BatcherPipe,SpritePipe,RenderGroupPipe,AlphaMaskPipe,StencilMaskPipe,ColorMaskPipe,CustomRenderPipe],DefaultWebGLSystems=[...SharedSystems,GlUboSystem,GlBackBufferSystem,GlContextSystem,GlBufferSystem,GlTextureSystem,GlRenderTargetSystem,GlGeometrySystem,GlUniformGroupSystem,GlShaderSystem,GlEncoderSystem,GlStateSystem,GlStencilSystem,GlColorMaskSystem],DefaultWebGLPipes=[...SharedRenderPipes],DefaultWebGLAdapters=[GlBatchAdaptor,GlMeshAdaptor,GlGraphicsAdaptor],systems$1=[],renderPipes$1=[],renderPipeAdaptors$1=[];extensions.handleByNamedList(ExtensionType.WebGLSystem,systems$1),extensions.handleByNamedList(ExtensionType.WebGLPipes,renderPipes$1),extensions.handleByNamedList(ExtensionType.WebGLPipesAdaptor,renderPipeAdaptors$1),extensions.add(...DefaultWebGLSystems,...DefaultWebGLPipes,...DefaultWebGLAdapters);class WebGLRenderer extends AbstractRenderer{constructor(){const ee={name:"webgl",type:RendererType.WEBGL,systems:systems$1,renderPipes:renderPipes$1,renderPipeAdaptors:renderPipeAdaptors$1};super(ee)}}const WebGLRenderer$1=Object.freeze(Object.defineProperty({__proto__:null,WebGLRenderer},Symbol.toStringTag,{value:"Module"}));class BindGroupSystem{constructor(ee){this._hash=Object.create(null),this._renderer=ee}contextChange(ee){this._gpu=ee}getBindGroup(ee,te,se){return ee._updateKey(),this._hash[ee._key]||this._createBindGroup(ee,te,se)}_createBindGroup(ee,te,se){const ne=this._gpu.device,le=te.layout[se],ue=[],ce=this._renderer;for(const _e in le){const fe=ee.resources[_e]??ee.resources[le[_e]];let ye;if(fe._resourceType==="uniformGroup"){const be=fe;ce.ubo.updateUniformGroup(be);const Pe=be.buffer;ye={buffer:ce.buffer.getGPUBuffer(Pe),offset:0,size:Pe.descriptor.size}}else if(fe._resourceType==="buffer"){const be=fe;ye={buffer:ce.buffer.getGPUBuffer(be),offset:0,size:be.descriptor.size}}else if(fe._resourceType==="bufferResource"){const be=fe;ye={buffer:ce.buffer.getGPUBuffer(be.buffer),offset:be.offset,size:be.size}}else if(fe._resourceType==="textureSampler"){const be=fe;ye=ce.texture.getGpuSampler(be)}else if(fe._resourceType==="textureSource"){const be=fe;ye=ce.texture.getGpuSource(be).createView({})}ue.push({binding:le[_e],resource:ye})}const he=ce.shader.getProgramData(te).bindGroups[se],de=ne.createBindGroup({layout:he,entries:ue});return this._hash[ee._key]=de,de}destroy(){for(const ee of Object.keys(this._hash))this._hash[ee]=null;this._hash=null,this._renderer=null}}BindGroupSystem.extension={type:[ExtensionType.WebGPUSystem],name:"bindGroup"};class GpuBufferSystem{constructor(){this._gpuBuffers=Object.create(null),this._managedBuffers=[]}contextChange(ee){this._gpu=ee}getGPUBuffer(ee){return this._gpuBuffers[ee.uid]||this.createGPUBuffer(ee)}updateBuffer(ee){const te=this._gpuBuffers[ee.uid]||this.createGPUBuffer(ee),se=ee.data;return ee._updateID&&se&&(ee._updateID=0,this._gpu.device.queue.writeBuffer(te,0,se.buffer,0,(ee._updateSize||se.byteLength)+3&-4)),te}destroyAll(){for(const ee in this._gpuBuffers)this._gpuBuffers[ee].destroy();this._gpuBuffers={}}createGPUBuffer(ee){this._gpuBuffers[ee.uid]||(ee.on("update",this.updateBuffer,this),ee.on("change",this.onBufferChange,this),ee.on("destroy",this.onBufferDestroy,this));const te=this._gpu.device.createBuffer(ee.descriptor);return ee._updateID=0,ee.data&&(fastCopy(ee.data.buffer,te.getMappedRange()),te.unmap()),this._gpuBuffers[ee.uid]=te,this._managedBuffers.push(ee),te}onBufferChange(ee){this._gpuBuffers[ee.uid].destroy(),ee._updateID=0,this._gpuBuffers[ee.uid]=this.createGPUBuffer(ee)}onBufferDestroy(ee){this._managedBuffers.splice(this._managedBuffers.indexOf(ee),1),this._destroyBuffer(ee)}destroy(){this._managedBuffers.forEach(ee=>this._destroyBuffer(ee)),this._managedBuffers=null,this._gpuBuffers=null}_destroyBuffer(ee){this._gpuBuffers[ee.uid].destroy(),ee.off("update",this.updateBuffer,this),ee.off("change",this.onBufferChange,this),ee.off("destroy",this.onBufferDestroy,this),this._gpuBuffers[ee.uid]=null}}GpuBufferSystem.extension={type:[ExtensionType.WebGPUSystem],name:"buffer"};class UboBatch{constructor({minUniformOffsetAlignment:ee}){this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=ee,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(ee){if(ee>this._minUniformOffsetAlignment/4)throw new Error(`UniformBufferBatch: array is too large: ${ee*4}`);const te=this.byteIndex;let se=te+ee*4;if(se=Math.ceil(se/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment,se>this.data.length*4)throw new Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=se,te}addGroup(ee){const te=this.addEmptyGroup(ee.length);for(let se=0;se<ee.length;se++)this.data[te/4+se]=ee[se];return te}destroy(){this._buffer.destroy(),this._buffer=null,this.data=null}}class GpuColorMaskSystem{constructor(ee){this._colorMaskCache=15,this._renderer=ee}setMask(ee){this._colorMaskCache!==ee&&(this._colorMaskCache=ee,this._renderer.pipeline.setColorMask(ee))}destroy(){this._renderer=null,this._colorMaskCache=null}}GpuColorMaskSystem.extension={type:[ExtensionType.WebGPUSystem],name:"colorMask"};class GpuDeviceSystem{constructor(ee){this._renderer=ee}async init(ee){return this._initPromise?this._initPromise:(this._initPromise=this._createDeviceAndAdaptor(ee).then(te=>{this.gpu=te,this._renderer.runners.contextChange.emit(this.gpu)}),this._initPromise)}contextChange(ee){this._renderer.gpu=ee}async _createDeviceAndAdaptor(ee){const te=await navigator.gpu.requestAdapter({powerPreference:ee.powerPreference,forceFallbackAdapter:ee.forceFallbackAdapter}),se=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter(le=>te.features.has(le)),ne=await te.requestDevice({requiredFeatures:se});return{adapter:te,device:ne}}destroy(){this.gpu=null,this._renderer=null}}GpuDeviceSystem.extension={type:[ExtensionType.WebGPUSystem],name:"device"},GpuDeviceSystem.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1};class GpuEncoderSystem{constructor(ee){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=ee}renderStart(){this.commandFinished=new Promise(ee=>{this._resolveCommandFinished=ee}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(ee){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(ee.descriptor)}endRenderPass(){this.renderPassEncoder&&this.renderPassEncoder.end(),this.renderPassEncoder=null}setViewport(ee){this.renderPassEncoder.setViewport(ee.x,ee.y,ee.width,ee.height,0,1)}setPipelineFromGeometryProgramAndState(ee,te,se,ne){const le=this._renderer.pipeline.getPipeline(ee,te,se,ne);this.setPipeline(le)}setPipeline(ee){this._boundPipeline!==ee&&(this._boundPipeline=ee,this.renderPassEncoder.setPipeline(ee))}_setVertexBuffer(ee,te){this._boundVertexBuffer[ee]!==te&&(this._boundVertexBuffer[ee]=te,this.renderPassEncoder.setVertexBuffer(ee,this._renderer.buffer.updateBuffer(te)))}_setIndexBuffer(ee){if(this._boundIndexBuffer===ee)return;this._boundIndexBuffer=ee;const te=ee.data.BYTES_PER_ELEMENT===2?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(ee),te)}resetBindGroup(ee){this._boundBindGroup[ee]=null}setBindGroup(ee,te,se){if(this._boundBindGroup[ee]===te)return;this._boundBindGroup[ee]=te,te._touch(this._renderer.textureGC.count);const ne=this._renderer.bindGroup.getBindGroup(te,se,ee);this.renderPassEncoder.setBindGroup(ee,ne)}setGeometry(ee){for(const te in ee.attributes){const se=ee.attributes[te];this._setVertexBuffer(se.location,se.buffer)}ee.indexBuffer&&this._setIndexBuffer(ee.indexBuffer)}_setShaderBindGroups(ee,te){for(const se in ee.groups){const ne=ee.groups[se];te||this._syncBindGroup(ne),this.setBindGroup(se,ne,ee.gpuProgram)}}_syncBindGroup(ee){for(const te in ee.resources){const se=ee.resources[te];se.isUniformGroup&&this._renderer.ubo.updateUniformGroup(se)}}draw(ee){const{geometry:te,shader:se,state:ne,topology:le,size:ue,start:ce,instanceCount:he,skipSync:de}=ee;this.setPipelineFromGeometryProgramAndState(te,se.gpuProgram,ne,le),this.setGeometry(te),this._setShaderBindGroups(se,de),te.indexBuffer?this.renderPassEncoder.drawIndexed(ue||te.indexBuffer.data.length,he||te.instanceCount,ce||0):this.renderPassEncoder.draw(ue||te.getSize(),he||te.instanceCount,ce||0)}finishRenderPass(){this.renderPassEncoder&&(this.renderPassEncoder.end(),this.renderPassEncoder=null)}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){const ee=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(ee);const te=this._boundPipeline,se={...this._boundVertexBuffer},ne=this._boundIndexBuffer,le={...this._boundBindGroup};this._clearCache();const ue=this._renderer.renderTarget.viewport;this.renderPassEncoder.setViewport(ue.x,ue.y,ue.width,ue.height,0,1),this.setPipeline(te);for(const ce in se)this._setVertexBuffer(ce,se[ce]);for(const ce in le)this.setBindGroup(ce,le[ce],null);this._setIndexBuffer(ne)}_clearCache(){for(let ee=0;ee<16;ee++)this._boundBindGroup[ee]=null,this._boundVertexBuffer[ee]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(ee){this._gpu=ee}}GpuEncoderSystem.extension={type:[ExtensionType.WebGPUSystem],name:"encoder",priority:1};class GpuStencilSystem{constructor(ee){this._renderTargetStencilState=Object.create(null),this._renderer=ee,ee.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(ee){let te=this._renderTargetStencilState[ee.uid];te||(te=this._renderTargetStencilState[ee.uid]={stencilMode:STENCIL_MODES.DISABLED,stencilReference:0}),this._activeRenderTarget=ee,this.setStencilMode(te.stencilMode,te.stencilReference)}setStencilMode(ee,te){const se=this._renderTargetStencilState[this._activeRenderTarget.uid];se.stencilMode=ee,se.stencilReference=te;const ne=this._renderer;ne.pipeline.setStencilMode(ee),ne.encoder.renderPassEncoder.setStencilReference(te)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}GpuStencilSystem.extension={type:[ExtensionType.WebGPUSystem],name:"stencil"};const WGSL_ALIGN_SIZE_DATA={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}};function createUboElementsWGSL(ie){const ee=ie.map(se=>({data:se,offset:0,size:0}));let te=0;for(let se=0;se<ee.length;se++){const ne=ee[se];let le=WGSL_ALIGN_SIZE_DATA[ne.data.type].size;const ue=WGSL_ALIGN_SIZE_DATA[ne.data.type].align;if(!WGSL_ALIGN_SIZE_DATA[ne.data.type])throw new Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${ne.data.type}`);ne.data.size>1&&(le=Math.max(le,ue)*ne.data.size),te=Math.ceil(te/ue)*ue,ne.size=le,ne.offset=te,te+=le}return te=Math.ceil(te/16)*16,{uboElements:ee,size:te}}function generateArraySyncWGSL(ie,ee){const{size:te,align:se}=WGSL_ALIGN_SIZE_DATA[ie.data.type],ne=(se-te)/4;return`
         v = uv.${ie.data.name};
         ${ee!==0?`offset += ${ee};`:""}

         arrayOffset = offset;

         t = 0;

         for(var i=0; i < ${ie.data.size*(te/4)}; i++)
         {
             for(var j = 0; j < ${te/4}; j++)
             {
                 data[arrayOffset++] = v[t++];
             }
             ${ne!==0?`arrayOffset += ${ne};`:""}
         }
     `}function createUboSyncFunctionWGSL(ie){return createUboSyncFunction(ie,"uboWgsl",generateArraySyncWGSL,uboSyncFunctionsWGSL)}class GpuUboSystem extends UboSystem{constructor(){super({createUboElements:createUboElementsWGSL,generateUboSync:createUboSyncFunctionWGSL})}}GpuUboSystem.extension={type:[ExtensionType.WebGPUSystem],name:"ubo"};const minUniformOffsetAlignment=128;class GpuUniformBatchPipe{constructor(ee){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=ee,this._batchBuffer=new UboBatch({minUniformOffsetAlignment});const te=256/minUniformOffsetAlignment;for(let se=0;se<te;se++){let ne=BufferUsage.UNIFORM|BufferUsage.COPY_DST;se===0&&(ne|=BufferUsage.COPY_SRC),this._buffers.push(new Buffer({data:this._batchBuffer.data,usage:ne}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){for(const ee in this._bindGroupHash)this._bindGroupHash[ee]=null;this._batchBuffer.clear()}getUniformBindGroup(ee,te){if(!te&&this._bindGroupHash[ee.uid])return this._bindGroupHash[ee.uid];this._renderer.ubo.ensureUniformGroup(ee);const se=ee.buffer.data,ne=this._batchBuffer.addEmptyGroup(se.length);return this._renderer.ubo.syncUniformGroup(ee,this._batchBuffer.data,ne/4),this._bindGroupHash[ee.uid]=this._getBindGroup(ne/minUniformOffsetAlignment),this._bindGroupHash[ee.uid]}getUboResource(ee){this._renderer.ubo.updateUniformGroup(ee);const te=ee.buffer.data,se=this._batchBuffer.addGroup(te);return this._getBufferResource(se/minUniformOffsetAlignment)}getArrayBindGroup(ee){const te=this._batchBuffer.addGroup(ee);return this._getBindGroup(te/minUniformOffsetAlignment)}getArrayBufferResource(ee){const se=this._batchBuffer.addGroup(ee)/minUniformOffsetAlignment;return this._getBufferResource(se)}_getBufferResource(ee){if(!this._bufferResources[ee]){const te=this._buffers[ee%2];this._bufferResources[ee]=new BufferResource({buffer:te,offset:(ee/2|0)*256,size:minUniformOffsetAlignment})}return this._bufferResources[ee]}_getBindGroup(ee){if(!this._bindGroups[ee]){const te=new BindGroup({0:this._getBufferResource(ee)});this._bindGroups[ee]=te}return this._bindGroups[ee]}_uploadBindGroups(){const ee=this._renderer.buffer,te=this._buffers[0];te.update(this._batchBuffer.byteIndex),ee.updateBuffer(te);const se=this._renderer.gpu.device.createCommandEncoder();for(let ne=1;ne<this._buffers.length;ne++){const le=this._buffers[ne];se.copyBufferToBuffer(ee.getGPUBuffer(te),minUniformOffsetAlignment,ee.getGPUBuffer(le),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([se.finish()])}destroy(){for(let ee=0;ee<this._bindGroups.length;ee++)this._bindGroups[ee].destroy();this._bindGroups=null,this._bindGroupHash=null;for(let ee=0;ee<this._buffers.length;ee++)this._buffers[ee].destroy();this._buffers=null;for(let ee=0;ee<this._bufferResources.length;ee++)this._bufferResources[ee].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._bindGroupHash=null,this._renderer=null}}GpuUniformBatchPipe.extension={type:[ExtensionType.WebGPUPipes],name:"uniformBatch"};const topologyStringToId={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};function getGraphicsStateKey(ie,ee,te,se,ne){return ie<<24|ee<<16|te<<10|se<<5|ne}function getGlobalStateKey(ie,ee,te,se){return te<<6|ie<<3|se<<1|ee}class PipelineSystem{constructor(ee){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._renderer=ee}contextChange(ee){this._gpu=ee,this.setStencilMode(STENCIL_MODES.DISABLED),this._updatePipeHash()}setMultisampleCount(ee){this._multisampleCount!==ee&&(this._multisampleCount=ee,this._updatePipeHash())}setRenderTarget(ee){this._multisampleCount=ee.msaaSamples,this._depthStencilAttachment=ee.descriptor.depthStencilAttachment?1:0,this._updatePipeHash()}setColorMask(ee){this._colorMask!==ee&&(this._colorMask=ee,this._updatePipeHash())}setStencilMode(ee){this._stencilMode!==ee&&(this._stencilMode=ee,this._stencilState=GpuStencilModesToPixi[ee],this._updatePipeHash())}setPipeline(ee,te,se,ne){const le=this.getPipeline(ee,te,se);ne.setPipeline(le)}getPipeline(ee,te,se,ne){ee._layoutKey||(ensureAttributes(ee,te.attributeData),this._generateBufferKey(ee)),ne=ne||ee.topology;const le=getGraphicsStateKey(ee._layoutKey,te._layoutKey,se.data,se._blendModeId,topologyStringToId[ne]);return this._pipeCache[le]?this._pipeCache[le]:(this._pipeCache[le]=this._createPipeline(ee,te,se,ne),this._pipeCache[le])}_createPipeline(ee,te,se,ne){const le=this._gpu.device,ue=this._createVertexBufferLayouts(ee),ce=this._renderer.state.getColorTargets(se);ce[0].writeMask=this._stencilMode===STENCIL_MODES.RENDERING_MASK_ADD?0:this._colorMask;const he=this._renderer.shader.getProgramData(te).pipeline,de={vertex:{module:this._getModule(te.vertex.source),entryPoint:te.vertex.entryPoint,buffers:ue},fragment:{module:this._getModule(te.fragment.source),entryPoint:te.fragment.entryPoint,targets:ce},primitive:{topology:ne,cullMode:se.cullMode},layout:he,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};return this._depthStencilAttachment&&(de.depthStencil={...this._stencilState,format:"depth24plus-stencil8",depthWriteEnabled:se.depthTest,depthCompare:se.depthTest?"less":"always"}),le.createRenderPipeline(de)}_getModule(ee){return this._moduleCache[ee]||this._createModule(ee)}_createModule(ee){const te=this._gpu.device;return this._moduleCache[ee]=te.createShaderModule({code:ee}),this._moduleCache[ee]}_generateBufferKey(ee){const te=[];let se=0;const ne=Object.keys(ee.attributes).sort();for(let ue=0;ue<ne.length;ue++){const ce=ee.attributes[ne[ue]];te[se++]=ce.location,te[se++]=ce.offset,te[se++]=ce.format,te[se++]=ce.stride}const le=te.join("");return ee._layoutKey=createIdFromString(le,"geometry"),ee._layoutKey}_createVertexBufferLayouts(ee){if(this._bufferLayoutsCache[ee._layoutKey])return this._bufferLayoutsCache[ee._layoutKey];const te=[];return ee.buffers.forEach(se=>{const ne={arrayStride:0,stepMode:"vertex",attributes:[]},le=ne.attributes;for(const ue in ee.attributes){const ce=ee.attributes[ue];ce.buffer===se&&(ne.arrayStride=ce.stride,ne.stepMode=ce.instance?"instance":"vertex",le.push({shaderLocation:ce.location,offset:ce.offset,format:ce.format}))}le.length&&te.push(ne)}),this._bufferLayoutsCache[ee._layoutKey]=te,te}_updatePipeHash(){const ee=getGlobalStateKey(this._stencilMode,this._multisampleCount,this._colorMask,this._depthStencilAttachment);this._pipeStateCaches[ee]||(this._pipeStateCaches[ee]=Object.create(null)),this._pipeCache=this._pipeStateCaches[ee]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}PipelineSystem.extension={type:[ExtensionType.WebGPUSystem],name:"pipeline"};class GpuRenderTarget{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}class GpuRenderTargetAdaptor{init(ee,te){this._renderer=ee,this._renderTargetSystem=te}copyToTexture(ee,te,se,ne,le){const ue=this._renderer,ce=this._getGpuColorTexture(ee),he=ue.texture.getGpuSource(te.source);return ue.encoder.commandEncoder.copyTextureToTexture({texture:ce,origin:se},{texture:he,origin:le},ne),te}startRenderPass(ee,te=!0,se,ne){const ue=this._renderTargetSystem.getGpuRenderTarget(ee),ce=this.getDescriptor(ee,te,se);ue.descriptor=ce,this._renderer.pipeline.setRenderTarget(ue),this._renderer.encoder.beginRenderPass(ue),this._renderer.encoder.setViewport(ne)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(ee){const te=this._renderTargetSystem.getGpuRenderTarget(ee);return te.contexts[0]?te.contexts[0].getCurrentTexture():this._renderer.texture.getGpuSource(ee.colorTextures[0].source)}getDescriptor(ee,te,se){typeof te=="boolean"&&(te=te?CLEAR.ALL:CLEAR.NONE);const ne=this._renderTargetSystem,le=ne.getGpuRenderTarget(ee),ue=ee.colorTextures.map((de,_e)=>{const fe=le.contexts[_e];let ye,be;fe?ye=fe.getCurrentTexture().createView():ye=this._renderer.texture.getGpuSource(de).createView({mipLevelCount:1}),le.msaaTextures[_e]&&(be=ye,ye=this._renderer.texture.getTextureView(le.msaaTextures[_e]));const Pe=te&CLEAR.COLOR?"clear":"load";return se??(se=ne.defaultClearColor),{view:ye,resolveTarget:be,clearValue:se,storeOp:"store",loadOp:Pe}});let ce;if((ee.stencil||ee.depth)&&!ee.depthStencilTexture&&(ee.ensureDepthStencilTexture(),ee.depthStencilTexture.source.sampleCount=le.msaa?4:1),ee.depthStencilTexture){const de=te&CLEAR.STENCIL?"clear":"load",_e=te&CLEAR.DEPTH?"clear":"load";ce={view:this._renderer.texture.getGpuSource(ee.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:de,depthClearValue:1,depthLoadOp:_e,depthStoreOp:"store"}}return{colorAttachments:ue,depthStencilAttachment:ce}}clear(ee,te=!0,se,ne){if(!te)return;const{gpu:le,encoder:ue}=this._renderer,ce=le.device;if(ue.commandEncoder===null){const de=ce.createCommandEncoder(),_e=this.getDescriptor(ee,te,se),fe=de.beginRenderPass(_e);fe.setViewport(ne.x,ne.y,ne.width,ne.height,0,1),fe.end();const ye=de.finish();ce.queue.submit([ye])}else this.startRenderPass(ee,te,se,ne)}initGpuRenderTarget(ee){ee.isRoot=!0;const te=new GpuRenderTarget;return ee.colorTextures.forEach((se,ne)=>{if(CanvasSource.test(se.resource)){const le=se.resource.getContext("webgpu"),ue=se.transparent?"premultiplied":"opaque";try{le.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:ue})}catch(ce){console.error(ce)}te.contexts[ne]=le}if(te.msaa=se.source.antialias,se.source.antialias){const le=new TextureSource({width:0,height:0,sampleCount:4});te.msaaTextures[ne]=le}}),te.msaa&&(te.msaaSamples=4,ee.depthStencilTexture&&(ee.depthStencilTexture.source.sampleCount=4)),te}ensureDepthStencilTexture(ee){const te=this._renderTargetSystem.getGpuRenderTarget(ee);ee.depthStencilTexture&&te.msaa&&(ee.depthStencilTexture.source.sampleCount=4)}resizeGpuRenderTarget(ee){const te=this._renderTargetSystem.getGpuRenderTarget(ee);te.width=ee.width,te.height=ee.height,te.msaa&&ee.colorTextures.forEach((se,ne)=>{const le=te.msaaTextures[ne];le==null||le.resize(se.source.width,se.source.height,se.source._resolution)})}}class GpuRenderTargetSystem extends RenderTargetSystem{constructor(ee){super(ee),this.adaptor=new GpuRenderTargetAdaptor,this.adaptor.init(ee,this)}}GpuRenderTargetSystem.extension={type:[ExtensionType.WebGPUSystem],name:"renderTarget"};class GpuShaderSystem{constructor(){this._gpuProgramData=Object.create(null)}contextChange(ee){this._gpu=ee}getProgramData(ee){return this._gpuProgramData[ee._layoutKey]||this._createGPUProgramData(ee)}_createGPUProgramData(ee){const te=this._gpu.device,se=ee.gpuLayout.map(le=>te.createBindGroupLayout({entries:le})),ne={bindGroupLayouts:se};return this._gpuProgramData[ee._layoutKey]={bindGroups:se,pipeline:te.createPipelineLayout(ne)},this._gpuProgramData[ee._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}GpuShaderSystem.extension={type:[ExtensionType.WebGPUSystem],name:"shader"};const GpuBlendModesToPixi={};GpuBlendModesToPixi.normal={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}},GpuBlendModesToPixi.add={alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}},GpuBlendModesToPixi.multiply={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}},GpuBlendModesToPixi.screen={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}},GpuBlendModesToPixi.overlay={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}},GpuBlendModesToPixi.none={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}},GpuBlendModesToPixi["normal-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}},GpuBlendModesToPixi["add-npm"]={alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}},GpuBlendModesToPixi["screen-npm"]={alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}},GpuBlendModesToPixi.erase={alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}};class GpuStateSystem{constructor(){this.defaultState=new State,this.defaultState.blend=!0}contextChange(ee){this.gpu=ee}getColorTargets(ee){return[{format:"bgra8unorm",writeMask:0,blend:GpuBlendModesToPixi[ee.blendMode]||GpuBlendModesToPixi.normal}]}destroy(){this.gpu=null}}GpuStateSystem.extension={type:[ExtensionType.WebGPUSystem],name:"state"};const gpuUploadBufferImageResource={type:"image",upload(ie,ee,te){const se=ie.resource,ne=(ie.pixelWidth|0)*(ie.pixelHeight|0),le=se.byteLength/ne;te.device.queue.writeTexture({texture:ee},se,{offset:0,rowsPerImage:ie.pixelHeight,bytesPerRow:ie.pixelHeight*le},{width:ie.pixelWidth,height:ie.pixelHeight,depthOrArrayLayers:1})}},blockDataMap={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},defaultBlockData={blockBytes:4,blockWidth:1,blockHeight:1},gpuUploadCompressedTextureResource={type:"compressed",upload(ie,ee,te){let se=ie.pixelWidth,ne=ie.pixelHeight;const le=blockDataMap[ie.format]||defaultBlockData;for(let ue=0;ue<ie.resource.length;ue++){const ce=ie.resource[ue],he=Math.ceil(se/le.blockWidth)*le.blockBytes;te.device.queue.writeTexture({texture:ee,mipLevel:ue},ce,{offset:0,bytesPerRow:he},{width:Math.ceil(se/le.blockWidth)*le.blockWidth,height:Math.ceil(ne/le.blockHeight)*le.blockHeight,depthOrArrayLayers:1}),se=Math.max(se>>1,1),ne=Math.max(ne>>1,1)}}},gpuUploadImageResource={type:"image",upload(ie,ee,te){const se=ie.resource;if(!se)return;const ne=Math.min(ee.width,ie.resourceWidth||ie.pixelWidth),le=Math.min(ee.height,ie.resourceHeight||ie.pixelHeight),ue=ie.alphaMode==="premultiply-alpha-on-upload";te.device.queue.copyExternalImageToTexture({source:se},{texture:ee,premultipliedAlpha:ue},{width:ne,height:le})}},gpuUploadVideoResource={type:"video",upload(ie,ee,te){gpuUploadImageResource.upload(ie,ee,te)}};class GpuMipmapGenerator{constructor(ee){this.device=ee,this.sampler=ee.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(ee){let te=this.pipelines[ee];return te||(this.mipmapShaderModule||(this.mipmapShaderModule=this.device.createShaderModule({code:`
                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

                        struct VertexOutput {
                        @builtin(position) position : vec4<f32>,
                        @location(0) texCoord : vec2<f32>,
                        };

                        @vertex
                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
                        var output : VertexOutput;
                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
                        return output;
                        }

                        @group(0) @binding(0) var imgSampler : sampler;
                        @group(0) @binding(1) var img : texture_2d<f32>;

                        @fragment
                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
                        return textureSample(img, imgSampler, texCoord);
                        }
                    `})),te=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:ee}]}}),this.pipelines[ee]=te),te}generateMipmap(ee){const te=this._getMipmapPipeline(ee.format);if(ee.dimension==="3d"||ee.dimension==="1d")throw new Error("Generating mipmaps for non-2d textures is currently unsupported!");let se=ee;const ne=ee.depthOrArrayLayers||1,le=ee.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!le){const he={size:{width:Math.ceil(ee.width/2),height:Math.ceil(ee.height/2),depthOrArrayLayers:ne},format:ee.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:ee.mipLevelCount-1};se=this.device.createTexture(he)}const ue=this.device.createCommandEncoder({}),ce=te.getBindGroupLayout(0);for(let he=0;he<ne;++he){let de=ee.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:he,arrayLayerCount:1}),_e=le?1:0;for(let fe=1;fe<ee.mipLevelCount;++fe){const ye=se.createView({baseMipLevel:_e++,mipLevelCount:1,dimension:"2d",baseArrayLayer:he,arrayLayerCount:1}),be=ue.beginRenderPass({colorAttachments:[{view:ye,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),Pe=this.device.createBindGroup({layout:ce,entries:[{binding:0,resource:this.sampler},{binding:1,resource:de}]});be.setPipeline(te),be.setBindGroup(0,Pe),be.draw(3,1,0,0),be.end(),de=ye}}if(!le){const he={width:Math.ceil(ee.width/2),height:Math.ceil(ee.height/2),depthOrArrayLayers:ne};for(let de=1;de<ee.mipLevelCount;++de)ue.copyTextureToTexture({texture:se,mipLevel:de-1},{texture:ee,mipLevel:de},he),he.width=Math.ceil(he.width/2),he.height=Math.ceil(he.height/2)}return this.device.queue.submit([ue.finish()]),le||se.destroy(),ee}}class GpuTextureSystem{constructor(ee){this.managedTextures=[],this._gpuSources=Object.create(null),this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._textureViewHash=Object.create(null),this._uploads={image:gpuUploadImageResource,buffer:gpuUploadBufferImageResource,video:gpuUploadVideoResource,compressed:gpuUploadCompressedTextureResource},this._renderer=ee}contextChange(ee){this._gpu=ee}initSource(ee){if(ee.autoGenerateMipmaps){const he=Math.max(ee.pixelWidth,ee.pixelHeight);ee.mipLevelCount=Math.floor(Math.log2(he))+1}let te=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;ee.uploadMethodId!=="compressed"&&(te|=GPUTextureUsage.RENDER_ATTACHMENT,te|=GPUTextureUsage.COPY_SRC);const se=blockDataMap[ee.format]||{blockBytes:4,blockWidth:1,blockHeight:1},ne=Math.ceil(ee.pixelWidth/se.blockWidth)*se.blockWidth,le=Math.ceil(ee.pixelHeight/se.blockHeight)*se.blockHeight,ue={label:ee.label,size:{width:ne,height:le},format:ee.format,sampleCount:ee.sampleCount,mipLevelCount:ee.mipLevelCount,dimension:ee.dimension,usage:te},ce=this._gpu.device.createTexture(ue);return this._gpuSources[ee.uid]=ce,this.managedTextures.includes(ee)||(ee.on("update",this.onSourceUpdate,this),ee.on("resize",this.onSourceResize,this),ee.on("destroy",this.onSourceDestroy,this),ee.on("unload",this.onSourceUnload,this),ee.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(ee)),this.onSourceUpdate(ee),ce}onSourceUpdate(ee){const te=this.getGpuSource(ee);te&&(this._uploads[ee.uploadMethodId]&&this._uploads[ee.uploadMethodId].upload(ee,te,this._gpu),ee.autoGenerateMipmaps&&ee.mipLevelCount>1&&this.onUpdateMipmaps(ee))}onSourceUnload(ee){const te=this._gpuSources[ee.uid];te&&(this._gpuSources[ee.uid]=null,te.destroy())}onUpdateMipmaps(ee){this._mipmapGenerator||(this._mipmapGenerator=new GpuMipmapGenerator(this._gpu.device));const te=this.getGpuSource(ee);this._mipmapGenerator.generateMipmap(te)}onSourceDestroy(ee){ee.off("update",this.onSourceUpdate,this),ee.off("unload",this.onSourceUnload,this),ee.off("destroy",this.onSourceDestroy,this),ee.off("resize",this.onSourceResize,this),ee.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(ee),1),this.onSourceUnload(ee)}onSourceResize(ee){const te=this._gpuSources[ee.uid];te?(te.width!==ee.pixelWidth||te.height!==ee.pixelHeight)&&(this._textureViewHash[ee.uid]=null,this._bindGroupHash[ee.uid]=null,this.onSourceUnload(ee),this.initSource(ee)):this.initSource(ee)}_initSampler(ee){return this._gpuSamplers[ee._resourceId]=this._gpu.device.createSampler(ee),this._gpuSamplers[ee._resourceId]}getGpuSampler(ee){return this._gpuSamplers[ee._resourceId]||this._initSampler(ee)}getGpuSource(ee){return this._gpuSources[ee.uid]||this.initSource(ee)}getTextureBindGroup(ee){return this._bindGroupHash[ee.uid]??this._createTextureBindGroup(ee)}_createTextureBindGroup(ee){const te=ee.source,se=te.uid;return this._bindGroupHash[se]=new BindGroup({0:te,1:te.style}),this._bindGroupHash[se]}getTextureView(ee){const te=ee.source;return this._textureViewHash[te.uid]??this._createTextureView(te)}_createTextureView(ee){return this._textureViewHash[ee.uid]=this.getGpuSource(ee).createView(),this._textureViewHash[ee.uid]}generateCanvas(ee){const te=this._renderer,se=te.gpu.device.createCommandEncoder(),ne=DOMAdapter.get().createCanvas();ne.width=ee.source.pixelWidth,ne.height=ee.source.pixelHeight;const le=ne.getContext("webgpu");return le.configure({device:te.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:navigator.gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),se.copyTextureToTexture({texture:te.texture.getGpuSource(ee.source),origin:{x:0,y:0}},{texture:le.getCurrentTexture()},{width:ne.width,height:ne.height}),te.gpu.device.queue.submit([se.finish()]),ne}getPixels(ee){const te=this.generateCanvas(ee),se=CanvasPool.getOptimalCanvasAndContext(te.width,te.height),ne=se.context;ne.drawImage(te,0,0);const{width:le,height:ue}=te,ce=ne.getImageData(0,0,le,ue),he=new Uint8ClampedArray(ce.data.buffer);return CanvasPool.returnCanvasAndContext(se),{pixels:he,width:le,height:ue}}destroy(){this.managedTextures.slice().forEach(ee=>this.onSourceDestroy(ee)),this.managedTextures=null;for(const ee of Object.keys(this._bindGroupHash)){const te=Number(ee),se=this._bindGroupHash[te];se==null||se.destroy(),this._bindGroupHash[te]=null}this._gpu=null,this._mipmapGenerator=null,this._gpuSources=null,this._bindGroupHash=null,this._textureViewHash=null,this._gpuSamplers=null}}GpuTextureSystem.extension={type:[ExtensionType.WebGPUSystem],name:"texture"};class GpuGraphicsAdaptor{init(){const ee=new UniformGroup({uTransformMatrix:{value:new Matrix,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),te=compileHighShaderGpuProgram({name:"graphics",bits:[colorBit,generateTextureBatchBit(MAX_TEXTURES),localUniformBitGroup2,roundPixelsBit]});this.shader=new Shader({gpuProgram:te,resources:{localUniforms:ee}})}execute(ee,te){const se=te.context,ne=se.customShader||this.shader,le=ee.renderer,ue=le.graphicsContext,{geometry:ce,instructions:he}=ue.getContextRenderData(se),de=le.encoder;de.setPipelineFromGeometryProgramAndState(ce,ne.gpuProgram,ee.state),de.setGeometry(ce);const _e=le.globalUniforms.bindGroup;de.setBindGroup(0,_e,ne.gpuProgram);const fe=le.renderPipes.uniformBatch.getUniformBindGroup(ne.resources.localUniforms,!0);de.setBindGroup(2,fe,ne.gpuProgram);const ye=he.instructions;for(let be=0;be<he.instructionSize;be++){const Pe=ye[be];if(ne.groups[1]=Pe.bindGroup,!Pe.gpuBindGroup){const Ne=Pe.textures;Pe.bindGroup=getTextureBatchBindGroup(Ne.textures,Ne.count),Pe.gpuBindGroup=le.bindGroup.getBindGroup(Pe.bindGroup,ne.gpuProgram,1)}de.setBindGroup(1,Pe.bindGroup,ne.gpuProgram),de.renderPassEncoder.drawIndexed(Pe.size,1,Pe.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}GpuGraphicsAdaptor.extension={type:[ExtensionType.WebGPUPipesAdaptor],name:"graphics"};class GpuMeshAdapter{init(){const ee=compileHighShaderGpuProgram({name:"mesh",bits:[localUniformBit,textureBit,roundPixelsBit]});this._shader=new Shader({gpuProgram:ee,resources:{uTexture:Texture.EMPTY._source,uSampler:Texture.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new Matrix}}}})}execute(ee,te){const se=ee.renderer;let ne=te._shader;if(!ne)ne=this._shader,ne.resources.uTexture=te.texture.source,ne.resources.uSampler=te.texture.source.style,ne.resources.textureUniforms.uniforms.uTextureMatrix=te.texture.textureMatrix.mapCoord;else if(!ne.gpuProgram){warn("Mesh shader has no gpuProgram",te.shader);return}const le=ne.gpuProgram;if(le.autoAssignGlobalUniforms&&(ne.groups[0]=se.globalUniforms.bindGroup),le.autoAssignLocalUniforms){const ue=ee.localUniforms;ne.groups[1]=se.renderPipes.uniformBatch.getUniformBindGroup(ue,!0)}se.encoder.draw({geometry:te._geometry,shader:ne,state:te.state})}destroy(){this._shader.destroy(!0),this._shader=null}}GpuMeshAdapter.extension={type:[ExtensionType.WebGPUPipesAdaptor],name:"mesh"};const DefaultWebGPUSystems=[...SharedSystems,GpuUboSystem,GpuEncoderSystem,GpuDeviceSystem,GpuBufferSystem,GpuTextureSystem,GpuRenderTargetSystem,GpuShaderSystem,GpuStateSystem,PipelineSystem,GpuColorMaskSystem,GpuStencilSystem,BindGroupSystem],DefaultWebGPUPipes=[...SharedRenderPipes,GpuUniformBatchPipe],DefaultWebGPUAdapters=[GpuBatchAdaptor,GpuMeshAdapter,GpuGraphicsAdaptor],systems=[],renderPipes=[],renderPipeAdaptors=[];extensions.handleByNamedList(ExtensionType.WebGPUSystem,systems),extensions.handleByNamedList(ExtensionType.WebGPUPipes,renderPipes),extensions.handleByNamedList(ExtensionType.WebGPUPipesAdaptor,renderPipeAdaptors),extensions.add(...DefaultWebGPUSystems,...DefaultWebGPUPipes,...DefaultWebGPUAdapters);class WebGPURenderer extends AbstractRenderer{constructor(){const ee={name:"webgpu",type:RendererType.WEBGPU,systems,renderPipes,renderPipeAdaptors};super(ee)}}const WebGPURenderer$1=Object.freeze(Object.defineProperty({__proto__:null,WebGPURenderer},Symbol.toStringTag,{value:"Module"}));class GraphicsPipe{constructor(ee,te){this.state=State.for2d(),this._graphicsBatchesHash=Object.create(null),this.renderer=ee,this._adaptor=te,this._adaptor.init()}validateRenderable(ee){const te=ee.context,se=!!this._graphicsBatchesHash[ee.uid],ne=this.renderer.graphicsContext.updateGpuContext(te);return!!(ne.isBatchable||se!==ne.isBatchable)}addRenderable(ee,te){const se=this.renderer.graphicsContext.updateGpuContext(ee.context);ee._didGraphicsUpdate&&(ee._didGraphicsUpdate=!1,this._rebuild(ee)),se.isBatchable?this._addToBatcher(ee,te):(this.renderer.renderPipes.batch.break(te),te.add(ee))}updateRenderable(ee){const te=this._graphicsBatchesHash[ee.uid];if(te)for(let se=0;se<te.length;se++){const ne=te[se];ne.batcher.updateElement(ne)}}destroyRenderable(ee){this._graphicsBatchesHash[ee.uid]&&this._removeBatchForRenderable(ee.uid)}execute(ee){if(!ee.isRenderable)return;const te=this.renderer,se=ee.context;if(!te.graphicsContext.getGpuContext(se).batches.length)return;const le=se.customShader||this._adaptor.shader;this.state.blendMode=ee.groupBlendMode;const ue=le.resources.localUniforms.uniforms;ue.uTransformMatrix=ee.groupTransform,ue.uRound=te._roundPixels|ee._roundPixels,color32BitToUniform(ee.groupColorAlpha,ue.uColor,0),this._adaptor.execute(this,ee)}_rebuild(ee){const te=!!this._graphicsBatchesHash[ee.uid],se=this.renderer.graphicsContext.updateGpuContext(ee.context);te&&this._removeBatchForRenderable(ee.uid),se.isBatchable&&this._initBatchesForRenderable(ee),ee.batched=se.isBatchable}_addToBatcher(ee,te){const se=this.renderer.renderPipes.batch,ne=this._getBatchesForRenderable(ee);for(let le=0;le<ne.length;le++){const ue=ne[le];se.addToBatch(ue,te)}}_getBatchesForRenderable(ee){return this._graphicsBatchesHash[ee.uid]||this._initBatchesForRenderable(ee)}_initBatchesForRenderable(ee){const te=ee.context,se=this.renderer.graphicsContext.getGpuContext(te),ne=this.renderer._roundPixels|ee._roundPixels,le=se.batches.map(ue=>{const ce=BigPool.get(BatchableGraphics);return ue.copyTo(ce),ce.renderable=ee,ce.roundPixels=ne,ce});return this._graphicsBatchesHash[ee.uid]=le,ee.on("destroyed",()=>{this.destroyRenderable(ee)}),le}_removeBatchForRenderable(ee){this._graphicsBatchesHash[ee].forEach(te=>{BigPool.return(te)}),this._graphicsBatchesHash[ee]=null}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null;for(const ee in this._graphicsBatchesHash)this._removeBatchForRenderable(ee);this._graphicsBatchesHash=null}}GraphicsPipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"graphics"};const _PlaneGeometry=class Bk extends MeshGeometry{constructor(...ee){super({});let te=ee[0]??{};typeof te=="number"&&(deprecation(v8_0_0,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),te={width:te,height:ee[1],verticesX:ee[2],verticesY:ee[3]}),this.build(te)}build(ee){ee={...Bk.defaultOptions,...ee},this.verticesX=this.verticesX??ee.verticesX,this.verticesY=this.verticesY??ee.verticesY,this.width=this.width??ee.width,this.height=this.height??ee.height;const te=this.verticesX*this.verticesY,se=[],ne=[],le=[],ue=this.verticesX-1,ce=this.verticesY-1,he=this.width/ue,de=this.height/ce;for(let fe=0;fe<te;fe++){const ye=fe%this.verticesX,be=fe/this.verticesX|0;se.push(ye*he,be*de),ne.push(ye/ue,be/ce)}const _e=ue*ce;for(let fe=0;fe<_e;fe++){const ye=fe%ue,be=fe/ue|0,Pe=be*this.verticesX+ye,Ne=be*this.verticesX+ye+1,we=(be+1)*this.verticesX+ye,De=(be+1)*this.verticesX+ye+1;le.push(Pe,Ne,we,Ne,De,we)}this.buffers[0].data=new Float32Array(se),this.buffers[1].data=new Float32Array(ne),this.indexBuffer.data=new Uint32Array(le),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};_PlaneGeometry.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let PlaneGeometry=_PlaneGeometry;class BatchableMesh{constructor(){this.batcher=null,this.batch=null,this.roundPixels=0,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}get blendMode(){return this.mesh.groupBlendMode}reset(){this.mesh=null,this.texture=null,this.batcher=null,this.batch=null}packIndex(ee,te,se){const ne=this.geometry.indices;for(let le=0;le<ne.length;le++)ee[te++]=ne[le]+se}packAttributes(ee,te,se,ne){const le=this.mesh,ue=this.geometry,ce=le.groupTransform,he=ne<<16|this.roundPixels&65535,de=ce.a,_e=ce.b,fe=ce.c,ye=ce.d,be=ce.tx,Pe=ce.ty,Ne=ue.positions,we=ue.getBuffer("aUV"),De=we.data;let $e=De;const Ge=this.texture.textureMatrix;Ge.isSimple||($e=this._transformedUvs,(this._textureMatrixUpdateId!==Ge._updateID||this._uvUpdateId!==we._updateID)&&((!$e||$e.length<De.length)&&($e=this._transformedUvs=new Float32Array(De.length)),this._textureMatrixUpdateId=Ge._updateID,this._uvUpdateId=we._updateID,Ge.multiplyUvs(De,$e)));const Be=le.groupColorAlpha;for(let ze=0;ze<Ne.length;ze+=2){const $t=Ne[ze],ut=Ne[ze+1];ee[se]=de*$t+fe*ut+be,ee[se+1]=_e*$t+ye*ut+Pe,ee[se+2]=$e[ze],ee[se+3]=$e[ze+1],te[se+4]=Be,te[se+5]=he,se+=6}}get vertexSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}class MeshPipe{constructor(ee,te){this.localUniforms=new UniformGroup({uTransformMatrix:{value:new Matrix,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new BindGroup({0:this.localUniforms}),this._meshDataHash=Object.create(null),this._gpuBatchableMeshHash=Object.create(null),this.renderer=ee,this._adaptor=te,this._adaptor.init()}validateRenderable(ee){const te=this._getMeshData(ee),se=te.batched,ne=ee.batched;if(te.batched=ne,se!==ne)return!0;if(ne){const le=ee._geometry;if(le.indices.length!==te.indexSize||le.positions.length!==te.vertexSize)return te.indexSize=le.indices.length,te.vertexSize=le.positions.length,!0;const ue=this._getBatchableMesh(ee),ce=ee.texture;if(ue.texture._source!==ce._source&&ue.texture._source!==ce._source)return!ue.batcher.checkAndUpdateTexture(ue,ce)}return!1}addRenderable(ee,te){const se=this.renderer.renderPipes.batch,{batched:ne}=this._getMeshData(ee);if(ne){const le=this._getBatchableMesh(ee);le.texture=ee._texture,le.geometry=ee._geometry,se.addToBatch(le)}else se.break(te),te.add({renderPipeId:"mesh",mesh:ee})}updateRenderable(ee){if(ee.batched){const te=this._gpuBatchableMeshHash[ee.uid];te.texture=ee._texture,te.geometry=ee._geometry,te.batcher.updateElement(te)}}destroyRenderable(ee){this._meshDataHash[ee.uid]=null;const te=this._gpuBatchableMeshHash[ee.uid];BigPool.return(te),this._gpuBatchableMeshHash[ee.uid]=null}execute({mesh:ee}){if(!ee.isRenderable)return;ee.state.blendMode=ee.groupBlendMode;const te=this.localUniforms;te.uniforms.uTransformMatrix=ee.groupTransform,te.uniforms.uRound=this.renderer._roundPixels|ee._roundPixels,te.update(),color32BitToUniform(ee.groupColorAlpha,te.uniforms.uColor,0),this._adaptor.execute(this,ee)}_getMeshData(ee){return this._meshDataHash[ee.uid]||this._initMeshData(ee)}_initMeshData(ee){var te,se;return this._meshDataHash[ee.uid]={batched:ee.batched,indexSize:(te=ee._geometry.indices)==null?void 0:te.length,vertexSize:(se=ee._geometry.positions)==null?void 0:se.length},ee.on("destroyed",()=>{this.destroyRenderable(ee)}),this._meshDataHash[ee.uid]}_getBatchableMesh(ee){return this._gpuBatchableMeshHash[ee.uid]||this._initBatchableMesh(ee)}_initBatchableMesh(ee){const te=BigPool.get(BatchableMesh);return te.mesh=ee,te.texture=ee._texture,te.roundPixels=this.renderer._roundPixels|ee._roundPixels,this._gpuBatchableMeshHash[ee.uid]=te,te.mesh=ee,te}destroy(){for(const ee in this._gpuBatchableMeshHash)this._gpuBatchableMeshHash[ee]&&BigPool.return(this._gpuBatchableMeshHash[ee]);this._gpuBatchableMeshHash=null,this._meshDataHash=null,this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}MeshPipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"mesh"};const _NineSliceGeometry=class jk extends PlaneGeometry{constructor(ee={}){ee={...jk.defaultOptions,...ee},super({width:ee.width,height:ee.height,verticesX:4,verticesY:4}),this.update(ee)}update(ee){this.width=ee.width??this.width,this.height=ee.height??this.height,this._originalWidth=ee.originalWidth??this._originalWidth,this._originalHeight=ee.originalHeight??this._originalHeight,this._leftWidth=ee.leftWidth??this._leftWidth,this._rightWidth=ee.rightWidth??this._rightWidth,this._topHeight=ee.topHeight??this._topHeight,this._bottomHeight=ee.bottomHeight??this._bottomHeight,this.updateUvs(),this.updatePositions()}updatePositions(){const ee=this.positions,te=this._leftWidth+this._rightWidth,se=this.width>te?1:this.width/te,ne=this._topHeight+this._bottomHeight,le=this.height>ne?1:this.height/ne,ue=Math.min(se,le);ee[9]=ee[11]=ee[13]=ee[15]=this._topHeight*ue,ee[17]=ee[19]=ee[21]=ee[23]=this.height-this._bottomHeight*ue,ee[25]=ee[27]=ee[29]=ee[31]=this.height,ee[2]=ee[10]=ee[18]=ee[26]=this._leftWidth*ue,ee[4]=ee[12]=ee[20]=ee[28]=this.width-this._rightWidth*ue,ee[6]=ee[14]=ee[22]=ee[30]=this.width,this.getBuffer("aPosition").update()}updateUvs(){const ee=this.uvs;ee[0]=ee[8]=ee[16]=ee[24]=0,ee[1]=ee[3]=ee[5]=ee[7]=0,ee[6]=ee[14]=ee[22]=ee[30]=1,ee[25]=ee[27]=ee[29]=ee[31]=1;const te=1/this._originalWidth,se=1/this._originalHeight;ee[2]=ee[10]=ee[18]=ee[26]=te*this._leftWidth,ee[9]=ee[11]=ee[13]=ee[15]=se*this._topHeight,ee[4]=ee[12]=ee[20]=ee[28]=1-te*this._rightWidth,ee[17]=ee[19]=ee[21]=ee[23]=1-se*this._bottomHeight,this.getBuffer("aUV").update()}};_NineSliceGeometry.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let NineSliceGeometry=_NineSliceGeometry;class NineSliceSpritePipe{constructor(ee){this._gpuSpriteHash=Object.create(null),this._renderer=ee}addRenderable(ee,te){const se=this._getGpuSprite(ee);ee._didSpriteUpdate&&this._updateBatchableSprite(ee,se),this._renderer.renderPipes.batch.addToBatch(se)}updateRenderable(ee){const te=this._gpuSpriteHash[ee.uid];ee._didSpriteUpdate&&this._updateBatchableSprite(ee,te),te.batcher.updateElement(te)}validateRenderable(ee){const te=ee._texture,se=this._getGpuSprite(ee);return se.texture._source!==te._source?!se.batcher.checkAndUpdateTexture(se,te):!1}destroyRenderable(ee){const te=this._gpuSpriteHash[ee.uid];BigPool.return(te),this._gpuSpriteHash[ee.uid]=null}_updateBatchableSprite(ee,te){ee._didSpriteUpdate=!1,te.geometry.update(ee),te.texture=ee._texture}_getGpuSprite(ee){return this._gpuSpriteHash[ee.uid]||this._initGPUSprite(ee)}_initGPUSprite(ee){const te=new BatchableMesh;return te.geometry=new NineSliceGeometry,te.mesh=ee,te.texture=ee._texture,te.roundPixels=this._renderer._roundPixels|ee._roundPixels,this._gpuSpriteHash[ee.uid]=te,ee.on("destroyed",()=>{this.destroyRenderable(ee)}),te}destroy(){for(const ee in this._gpuSpriteHash)this._gpuSpriteHash[ee].geometry.destroy();this._gpuSpriteHash=null,this._renderer=null}}NineSliceSpritePipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"nineSliceSprite"};const tilingBit={name:"tiling-bit",vertex:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`
            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
        `},fragment:{header:`
            struct TilingUniforms {
                uMapCoord:mat3x3<f32>,
                uClampFrame:vec4<f32>,
                uClampOffset:vec2<f32>,
                uTextureTransform:mat3x3<f32>,
                uSizeAnchor:vec4<f32>
            };

            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
            @group(2) @binding(1) var uTexture: texture_2d<f32>;
            @group(2) @binding(2) var uSampler: sampler;
        `,main:`

            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
            var unclamped = coord;
            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

            var bias = 0.;

            if(unclamped.x == coord.x && unclamped.y == coord.y)
            {
                bias = -32.;
            } 

            outColor = textureSampleBias(uTexture, uSampler, coord, bias);
        `}},tilingBitGl={name:"tiling-bit",vertex:{header:`
            uniform mat3 uTextureTransform;
            uniform vec4 uSizeAnchor;
        
        `,main:`
            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
        `},fragment:{header:`
            uniform sampler2D uTexture;
            uniform mat3 uMapCoord;
            uniform vec4 uClampFrame;
            uniform vec2 uClampOffset;
        `,main:`

        vec2 coord = vUV + ceil(uClampOffset - vUV);
        coord = (uMapCoord * vec3(coord, 1.0)).xy;
        vec2 unclamped = coord;
        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);
        
        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0
    
        `}};let gpuProgram,glProgram;class TilingSpriteShader extends Shader{constructor(){gpuProgram??(gpuProgram=compileHighShaderGpuProgram({name:"tiling-sprite-shader",bits:[localUniformBit,tilingBit,roundPixelsBit]})),glProgram??(glProgram=compileHighShaderGlProgram({name:"tiling-sprite-shader",bits:[localUniformBitGl,tilingBitGl,roundPixelsBitGl]}));const ee=new UniformGroup({uMapCoord:{value:new Matrix,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new Matrix,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram,gpuProgram,resources:{localUniforms:new UniformGroup({uTransformMatrix:{value:new Matrix,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:ee,uTexture:Texture.EMPTY.source,uSampler:Texture.EMPTY.source.style}})}updateUniforms(ee,te,se,ne,le,ue){const ce=this.resources.tilingUniforms,he=ue.width,de=ue.height,_e=ue.textureMatrix,fe=ce.uniforms.uTextureTransform;fe.set(se.a*he/ee,se.b*he/te,se.c*de/ee,se.d*de/te,se.tx/ee,se.ty/te),fe.invert(),ce.uniforms.uMapCoord=_e.mapCoord,ce.uniforms.uClampFrame=_e.uClampFrame,ce.uniforms.uClampOffset=_e.uClampOffset,ce.uniforms.uTextureTransform=fe,ce.uniforms.uSizeAnchor[0]=ee,ce.uniforms.uSizeAnchor[1]=te,ce.uniforms.uSizeAnchor[2]=ne,ce.uniforms.uSizeAnchor[3]=le,ue&&(this.resources.uTexture=ue.source,this.resources.uSampler=ue.source.style)}}class QuadGeometry extends MeshGeometry{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}function setPositions(ie,ee){const te=ie.anchor.x,se=ie.anchor.y;ee[0]=-te*ie.width,ee[1]=-se*ie.height,ee[2]=(1-te)*ie.width,ee[3]=-se*ie.height,ee[4]=(1-te)*ie.width,ee[5]=(1-se)*ie.height,ee[6]=-te*ie.width,ee[7]=(1-se)*ie.height}function applyMatrix(ie,ee,te,se){let ne=0;const le=ie.length/ee,ue=se.a,ce=se.b,he=se.c,de=se.d,_e=se.tx,fe=se.ty;for(te*=ee;ne<le;){const ye=ie[te],be=ie[te+1];ie[te]=ue*ye+he*be+_e,ie[te+1]=ce*ye+de*be+fe,te+=ee,ne++}}function setUvs(ie,ee){const te=ie.texture,se=te.frame.width,ne=te.frame.height;let le=0,ue=0;ie._applyAnchorToTexture&&(le=ie.anchor.x,ue=ie.anchor.y),ee[0]=ee[6]=-le,ee[2]=ee[4]=1-le,ee[1]=ee[3]=-ue,ee[5]=ee[7]=1-ue;const ce=Matrix.shared;ce.copyFrom(ie._tileTransform.matrix),ce.tx/=ie.width,ce.ty/=ie.height,ce.invert(),ce.scale(ie.width/se,ie.height/ne),applyMatrix(ee,2,0,ce)}const sharedQuad=new QuadGeometry;class TilingSpritePipe{constructor(ee){this._tilingSpriteDataHash=Object.create(null),this._renderer=ee}validateRenderable(ee){const te=this._getTilingSpriteData(ee),se=te.canBatch;this._updateCanBatch(ee);const ne=te.canBatch;if(ne&&ne===se){const{batchableMesh:le}=te;if(le.texture._source!==ee.texture._source)return!le.batcher.checkAndUpdateTexture(le,ee.texture)}return se!==ne}addRenderable(ee,te){const se=this._renderer.renderPipes.batch;this._updateCanBatch(ee);const ne=this._getTilingSpriteData(ee),{geometry:le,canBatch:ue}=ne;if(ue){ne.batchableMesh||(ne.batchableMesh=new BatchableMesh);const ce=ne.batchableMesh;ee._didTilingSpriteUpdate&&(ee._didTilingSpriteUpdate=!1,this._updateBatchableMesh(ee),ce.geometry=le,ce.mesh=ee,ce.texture=ee._texture),ce.roundPixels=this._renderer._roundPixels|ee._roundPixels,se.addToBatch(ce)}else se.break(te),ne.shader||(ne.shader=new TilingSpriteShader),this.updateRenderable(ee),te.add(ee)}execute(ee){const{shader:te}=this._tilingSpriteDataHash[ee.uid];te.groups[0]=this._renderer.globalUniforms.bindGroup;const se=te.resources.localUniforms.uniforms;se.uTransformMatrix=ee.groupTransform,se.uRound=this._renderer._roundPixels|ee._roundPixels,color32BitToUniform(ee.groupColorAlpha,se.uColor,0),this._renderer.encoder.draw({geometry:sharedQuad,shader:te,state:State.default2d})}updateRenderable(ee){const te=this._getTilingSpriteData(ee),{canBatch:se}=te;if(se){const{batchableMesh:ne}=te;ee._didTilingSpriteUpdate&&this._updateBatchableMesh(ee),ne.batcher.updateElement(ne)}else if(ee._didTilingSpriteUpdate){const{shader:ne}=te;ne.updateUniforms(ee.width,ee.height,ee._tileTransform.matrix,ee.anchor.x,ee.anchor.y,ee.texture)}ee._didTilingSpriteUpdate=!1}destroyRenderable(ee){var se;const te=this._getTilingSpriteData(ee);te.batchableMesh=null,(se=te.shader)==null||se.destroy(),this._tilingSpriteDataHash[ee.uid]=null}_getTilingSpriteData(ee){return this._tilingSpriteDataHash[ee.uid]||this._initTilingSpriteData(ee)}_initTilingSpriteData(ee){const te=new MeshGeometry({indices:sharedQuad.indices,positions:sharedQuad.positions.slice(),uvs:sharedQuad.uvs.slice()});return this._tilingSpriteDataHash[ee.uid]={canBatch:!0,renderable:ee,geometry:te},ee.on("destroyed",()=>{this.destroyRenderable(ee)}),this._tilingSpriteDataHash[ee.uid]}_updateBatchableMesh(ee){const te=this._getTilingSpriteData(ee),{geometry:se}=te,ne=ee.texture.source.style;ne.addressMode!=="repeat"&&(ne.addressMode="repeat",ne.update()),setUvs(ee,se.uvs),setPositions(ee,se.positions)}destroy(){for(const ee in this._tilingSpriteDataHash)this.destroyRenderable(this._tilingSpriteDataHash[ee].renderable);this._tilingSpriteDataHash=null,this._renderer=null}_updateCanBatch(ee){const te=this._getTilingSpriteData(ee),se=ee.texture;let ne=!0;return this._renderer.type===RendererType.WEBGL&&(ne=this._renderer.context.supports.nonPowOf2wrapping),te.canBatch=se.textureMatrix.isSimple&&(ne||se.source.isPowerOfTwo),te.canBatch}}TilingSpritePipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"tilingSprite"};const bitmapFontTextParser={test(ie){return typeof ie=="string"&&ie.startsWith("info face=")},parse(ie){const ee=ie.match(/^[a-z]+\s+.+$/gm),te={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const fe in ee){const ye=ee[fe].match(/^[a-z]+/gm)[0],be=ee[fe].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),Pe={};for(const Ne in be){const we=be[Ne].split("="),De=we[0],$e=we[1].replace(/"/gm,""),Ge=parseFloat($e),Be=isNaN(Ge)?$e:Ge;Pe[De]=Be}te[ye].push(Pe)}const se={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[ne]=te.info,[le]=te.common,[ue]=te.distanceField;ue&&(se.distanceField={range:parseInt(ue.distanceRange,10),type:ue.fieldType}),se.fontSize=parseInt(ne.size,10),se.fontFamily=ne.face,se.lineHeight=parseInt(le.lineHeight,10);const ce=te.page;for(let fe=0;fe<ce.length;fe++)se.pages.push({id:parseInt(ce[fe].id,10)||0,file:ce[fe].file});const he={};se.baseLineOffset=se.lineHeight-parseInt(le.base,10);const de=te.char;for(let fe=0;fe<de.length;fe++){const ye=de[fe],be=parseInt(ye.id,10);let Pe=ye.letter??ye.char??String.fromCharCode(be);Pe==="space"&&(Pe=" "),he[be]=Pe,se.chars[Pe]={id:be,page:parseInt(ye.page,10)||0,x:parseInt(ye.x,10),y:parseInt(ye.y,10),width:parseInt(ye.width,10),height:parseInt(ye.height,10),xOffset:parseInt(ye.xoffset,10),yOffset:parseInt(ye.yoffset,10),xAdvance:parseInt(ye.xadvance,10),kerning:{}}}const _e=te.kerning;for(let fe=0;fe<_e.length;fe++){const ye=parseInt(_e[fe].first,10),be=parseInt(_e[fe].second,10),Pe=parseInt(_e[fe].amount,10);se.chars[he[be]].kerning[he[ye]]=Pe}return se}},bitmapFontXMLParser={test(ie){const ee=ie;return typeof ee!="string"&&"getElementsByTagName"in ee&&ee.getElementsByTagName("page").length&&ee.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(ie){const ee={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},te=ie.getElementsByTagName("info")[0],se=ie.getElementsByTagName("common")[0],ne=ie.getElementsByTagName("distanceField")[0];ne&&(ee.distanceField={type:ne.getAttribute("fieldType"),range:parseInt(ne.getAttribute("distanceRange"),10)});const le=ie.getElementsByTagName("page"),ue=ie.getElementsByTagName("char"),ce=ie.getElementsByTagName("kerning");ee.fontSize=parseInt(te.getAttribute("size"),10),ee.fontFamily=te.getAttribute("face"),ee.lineHeight=parseInt(se.getAttribute("lineHeight"),10);for(let de=0;de<le.length;de++)ee.pages.push({id:parseInt(le[de].getAttribute("id"),10)||0,file:le[de].getAttribute("file")});const he={};ee.baseLineOffset=ee.lineHeight-parseInt(se.getAttribute("base"),10);for(let de=0;de<ue.length;de++){const _e=ue[de],fe=parseInt(_e.getAttribute("id"),10);let ye=_e.getAttribute("letter")??_e.getAttribute("char")??String.fromCharCode(fe);ye==="space"&&(ye=" "),he[fe]=ye,ee.chars[ye]={id:fe,page:parseInt(_e.getAttribute("page"),10)||0,x:parseInt(_e.getAttribute("x"),10),y:parseInt(_e.getAttribute("y"),10),width:parseInt(_e.getAttribute("width"),10),height:parseInt(_e.getAttribute("height"),10),xOffset:parseInt(_e.getAttribute("xoffset"),10),yOffset:parseInt(_e.getAttribute("yoffset"),10),xAdvance:parseInt(_e.getAttribute("xadvance"),10),kerning:{}}}for(let de=0;de<ce.length;de++){const _e=parseInt(ce[de].getAttribute("first"),10),fe=parseInt(ce[de].getAttribute("second"),10),ye=parseInt(ce[de].getAttribute("amount"),10);ee.chars[he[fe]].kerning[he[_e]]=ye}return ee}},bitmapFontXMLStringParser={test(ie){return typeof ie=="string"&&ie.includes("<font>")?bitmapFontXMLParser.test(DOMAdapter.get().parseXML(ie)):!1},parse(ie){return bitmapFontXMLParser.parse(DOMAdapter.get().parseXML(ie))}};class BitmapFont extends AbstractBitmapFont{constructor(ee,te){super();const{textures:se,data:ne}=ee;Object.keys(ne.pages).forEach(le=>{const ue=ne.pages[parseInt(le,10)],ce=se[ue.id];this.pages.push({texture:ce})}),Object.keys(ne.chars).forEach(le=>{const ue=ne.chars[le],ce=se[ue.page].source,he=new Rectangle(ue.x,ue.y,ue.width,ue.height),de=new Texture({source:ce,frame:he});this.chars[le]={id:le.codePointAt(0),xOffset:ue.xOffset,yOffset:ue.yOffset,xAdvance:ue.xAdvance,kerning:ue.kerning??{},texture:de}}),this.baseRenderedFontSize=ne.fontSize,this.baseMeasurementFontSize=ne.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:ne.fontSize},this.baseLineOffset=ne.baseLineOffset,this.lineHeight=ne.lineHeight,this.fontFamily=ne.fontFamily,this.distanceField=ne.distanceField??{type:"none",range:0},this.url=te}destroy(){super.destroy();for(let ee=0;ee<this.pages.length;ee++){const{texture:te}=this.pages[ee];te.destroy(!0)}this.pages=null}static install(ee){BitmapFontManager.install(ee)}static uninstall(ee){BitmapFontManager.uninstall(ee)}}const validExtensions=[".xml",".fnt"],bitmapFontCachePlugin={extension:ExtensionType.CacheParser,test:ie=>ie instanceof BitmapFont,getCacheableAssets(ie,ee){const te={};return ie.forEach(se=>{te[se]=ee}),te[`${ee.fontFamily}-bitmap`]=ee,te}},loadBitmapFont={extension:{type:ExtensionType.LoadParser,priority:LoaderParserPriority.Normal},test(ie){return validExtensions.includes(path.extname(ie).toLowerCase())},async testParse(ie){return bitmapFontTextParser.test(ie)||bitmapFontXMLStringParser.test(ie)},async parse(ie,ee,te){const se=bitmapFontTextParser.test(ie)?bitmapFontTextParser.parse(ie):bitmapFontXMLStringParser.parse(ie),{src:ne}=ee,{pages:le}=se,ue=[];for(let _e=0;_e<le.length;++_e){const fe=le[_e].file;let ye=path.join(path.dirname(ne),fe);ye=copySearchParams(ye,ne),ue.push(ye)}const ce=await te.load(ue),he=ue.map(_e=>ce[_e]);return new BitmapFont({data:se,textures:he},ne)},async load(ie,ee){return await(await DOMAdapter.get().fetch(ie)).text()},async unload(ie,ee,te){await Promise.all(ie.pages.map(se=>te.unload(se.texture.source._sourceOrigin))),ie.destroy()}},localUniformMSDFBit={name:"local-uniform-msdf-bit",vertex:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32,
                uRound:f32,
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
        `,main:`
            vColor *= localUniforms.uColor;
            modelMatrix *= localUniforms.uTransformMatrix;
        `,end:`
            if(localUniforms.uRound == 1)
            {
                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
            }
        `},fragment:{header:`
            struct LocalUniforms {
                uColor:vec4<f32>,
                uTransformMatrix:mat3x3<f32>,
                uDistance: f32
            }

            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
         `,main:` 
            outColor = vColor * calculateMSDFAlpha(outColor, localUniforms.uDistance);
        `}},localUniformMSDFBitGl={name:"local-uniform-msdf-bit",vertex:{header:`
            uniform mat3 uTransformMatrix;
            uniform vec4 uColor;
            uniform float uRound;
        `,main:`
            vColor *= uColor;
            modelMatrix *= uTransformMatrix;
        `,end:`
            if(uRound == 1.)
            {
                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
            }
        `},fragment:{header:`
            uniform float uDistance;
         `,main:` 
            outColor = vColor * calculateMSDFAlpha(outColor, uDistance);
        `}},mSDFBit={name:"msdf-bit",fragment:{header:`
            fn calculateMSDFAlpha(msdfColor:vec4<f32>, distance:f32) -> f32 {
                
                // MSDF
                var median = msdfColor.r + msdfColor.g + msdfColor.b -
                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));
            
                // SDF
                median = min(median, msdfColor.a);

                var screenPxDistance = distance * (median - 0.5);
                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                return alpha;
            }
        `}},mSDFBitGl={name:"msdf-bit",fragment:{header:`
            float calculateMSDFAlpha(vec4 msdfColor, float distance) {
                
                // MSDF
                float median = msdfColor.r + msdfColor.g + msdfColor.b -
                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));
               
                // SDF
                median = min(median, msdfColor.a);
            
                float screenPxDistance = distance * (median - 0.5);
                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
           
                if (median < 0.01) {
                    alpha = 0.0;
                } else if (median > 0.99) {
                    alpha = 1.0;
                }

                return alpha;
            }
        `}};class SdfShader extends Shader{constructor(){const ee=new UniformGroup({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new Matrix,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}}),te=compileHighShaderGpuProgram({name:"sdf-shader",bits:[colorBit,generateTextureBatchBit(MAX_TEXTURES),localUniformMSDFBit,mSDFBit,roundPixelsBit]}),se=compileHighShaderGlProgram({name:"sdf-shader",bits:[colorBitGl,generateTextureBatchBitGl(MAX_TEXTURES),localUniformMSDFBitGl,mSDFBitGl,roundPixelsBitGl]});super({glProgram:se,gpuProgram:te,resources:{localUniforms:ee,batchSamplers:batchSamplersUniformGroup}})}}class BitmapTextPipe{constructor(ee){this._gpuBitmapText={},this._renderer=ee}validateRenderable(ee){const te=this._getGpuBitmapText(ee);return ee._didTextUpdate&&(ee._didTextUpdate=!1,this._updateContext(ee,te)),this._renderer.renderPipes.graphics.validateRenderable(te)}addRenderable(ee,te){const se=this._getGpuBitmapText(ee);syncWithProxy(ee,se),ee._didTextUpdate&&(ee._didTextUpdate=!1,this._updateContext(ee,se)),this._renderer.renderPipes.graphics.addRenderable(se,te),se.context.customShader&&this._updateDistanceField(ee)}destroyRenderable(ee){this._destroyRenderableByUid(ee.uid)}_destroyRenderableByUid(ee){BigPool.return(this._gpuBitmapText[ee]),this._gpuBitmapText[ee]=null}updateRenderable(ee){const te=this._getGpuBitmapText(ee);syncWithProxy(ee,te),this._renderer.renderPipes.graphics.updateRenderable(te),te.context.customShader&&this._updateDistanceField(ee)}_updateContext(ee,te){var be;const{context:se}=te,ne=BitmapFontManager.getFont(ee.text,ee._style);se.clear(),ne.distanceField.type!=="none"&&(se.customShader||(this._sdfShader||(this._sdfShader=new SdfShader),se.customShader=this._sdfShader));const le=Array.from(ee.text),ue=ee._style;let ce=(((be=ue._stroke)==null?void 0:be.width)||0)/2;ce+=ne.baseLineOffset;const he=getBitmapTextLayout(le,ue,ne);let de=0;const _e=ue.padding,fe=he.scale;se.translate(-ee._anchor._x*he.width-_e,-ee._anchor._y*(he.height+he.offsetY)-_e).scale(fe,fe);const ye=ue._fill.color;for(let Pe=0;Pe<he.lines.length;Pe++){const Ne=he.lines[Pe];for(let we=0;we<Ne.charPositions.length;we++){const De=le[de++],$e=ne.chars[De];$e!=null&&$e.texture&&se.texture($e.texture,ye||"black",Math.round(Ne.charPositions[we]+$e.xOffset),Math.round(ce+$e.yOffset))}ce+=ne.lineHeight}}_getGpuBitmapText(ee){return this._gpuBitmapText[ee.uid]||this.initGpuText(ee)}initGpuText(ee){const te=BigPool.get(Graphics);return this._gpuBitmapText[ee.uid]=te,this._updateContext(ee,te),ee.on("destroyed",()=>{this.destroyRenderable(ee)}),this._gpuBitmapText[ee.uid]}_updateDistanceField(ee){const te=this._getGpuBitmapText(ee).context,se=ee._style.fontFamily,ne=Cache.get(`${se}-bitmap`),{a:le,b:ue,c:ce,d:he}=ee.groupTransform,de=Math.sqrt(le*le+ue*ue),_e=Math.sqrt(ce*ce+he*he),fe=(Math.abs(de)+Math.abs(_e))/2,ye=ne.baseRenderedFontSize/ee._style.fontSize,be=ee.resolution??this._renderer.resolution,Pe=fe*ne.distanceField.range*(1/ye)*be;te.customShader.resources.localUniforms.uniforms.uDistance=Pe}destroy(){var ee;for(const te in this._gpuBitmapText)this._destroyRenderableByUid(te);this._gpuBitmapText=null,(ee=this._sdfShader)==null||ee.destroy(!0),this._sdfShader=null,this._renderer=null}}BitmapTextPipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"bitmapText"};function syncWithProxy(ie,ee){ee.groupTransform=ie.groupTransform,ee.groupColorAlpha=ie.groupColorAlpha,ee.groupColor=ie.groupColor,ee.groupBlendMode=ie.groupBlendMode,ee.globalDisplayStatus=ie.globalDisplayStatus,ee.groupTransform=ie.groupTransform,ee.localDisplayStatus=ie.localDisplayStatus,ee.groupAlpha=ie.groupAlpha,ee._roundPixels=ie._roundPixels}class HTMLTextPipe{constructor(ee){this._gpuText=Object.create(null),this._renderer=ee}validateRenderable(ee){const te=this._getGpuText(ee),se=ee._getKey();return te.textureNeedsUploading?(te.textureNeedsUploading=!1,!0):te.currentKey!==se}addRenderable(ee){const se=this._getGpuText(ee).batchableSprite;ee._didTextUpdate&&this._updateText(ee),this._renderer.renderPipes.batch.addToBatch(se)}updateRenderable(ee){const se=this._getGpuText(ee).batchableSprite;ee._didTextUpdate&&this._updateText(ee),se.batcher.updateElement(se)}destroyRenderable(ee){this._destroyRenderableById(ee.uid)}_destroyRenderableById(ee){const te=this._gpuText[ee];this._renderer.htmlText.decreaseReferenceCount(te.currentKey),BigPool.return(te.batchableSprite),this._gpuText[ee]=null}_updateText(ee){const te=ee._getKey(),se=this._getGpuText(ee),ne=se.batchableSprite;se.currentKey!==te&&this._updateGpuText(ee).catch(ue=>{console.error(ue)}),ee._didTextUpdate=!1;const le=ee._style.padding;updateQuadBounds(ne.bounds,ee._anchor,ne.texture,le)}async _updateGpuText(ee){ee._didTextUpdate=!1;const te=this._getGpuText(ee);if(te.generatingTexture)return;const se=ee._getKey();this._renderer.htmlText.decreaseReferenceCount(te.currentKey),te.generatingTexture=!0,te.currentKey=se;const ne=ee.resolution??this._renderer.resolution,le=await this._renderer.htmlText.getManagedTexture(ee.text,ne,ee._style,ee._getKey()),ue=te.batchableSprite;ue.texture=te.texture=le,te.generatingTexture=!1,te.textureNeedsUploading=!0,ee.onViewUpdate();const ce=ee._style.padding;updateQuadBounds(ue.bounds,ee._anchor,ue.texture,ce)}_getGpuText(ee){return this._gpuText[ee.uid]||this.initGpuText(ee)}initGpuText(ee){const te={texture:Texture.EMPTY,currentKey:"--",batchableSprite:BigPool.get(BatchableSprite),textureNeedsUploading:!1,generatingTexture:!1},se=te.batchableSprite;return se.renderable=ee,se.texture=Texture.EMPTY,se.bounds={minX:0,maxX:1,minY:0,maxY:0},se.roundPixels=this._renderer._roundPixels|ee._roundPixels,this._gpuText[ee.uid]=te,ee.on("destroyed",()=>{this.destroyRenderable(ee)}),te}destroy(){for(const ee in this._gpuText)this._destroyRenderableById(ee);this._gpuText=null,this._renderer=null}}HTMLTextPipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"htmlText"};function isSafari(){const{userAgent:ie}=DOMAdapter.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(ie)}const tempBounds=new Bounds;function getPo2TextureFromSource(ie,ee,te,se){const ne=tempBounds;ne.minX=0,ne.minY=0,ne.maxX=ie.width/se|0,ne.maxY=ie.height/se|0;const le=TexturePool.getOptimalTexture(ne.width,ne.height,se,!1);return le.source.uploadMethodId="image",le.source.resource=ie,le.source.alphaMode="premultiply-alpha-on-upload",le.frame.width=ee/se,le.frame.height=te/se,le.source.emit("update",le.source),le.updateUvs(),le}function extractFontFamilies(ie,ee){const te=ee.fontFamily,se=[],ne={},le=/font-family:([^;"\s]+)/g,ue=ie.match(le);function ce(he){ne[he]||(se.push(he),ne[he]=!0)}if(Array.isArray(te))for(let he=0;he<te.length;he++)ce(te[he]);else ce(te);ue&&ue.forEach(he=>{const de=he.split(":")[1].trim();ce(de)});for(const he in ee.tagStyles){const de=ee.tagStyles[he].fontFamily;ce(de)}return se}async function loadFontAsBase64(ie){const te=await(await DOMAdapter.get().fetch(ie)).blob(),se=new FileReader;return await new Promise((le,ue)=>{se.onloadend=()=>le(se.result),se.onerror=ue,se.readAsDataURL(te)})}async function loadFontCSS(ie,ee){const te=await loadFontAsBase64(ee);return`@font-face {
        font-family: "${ie.fontFamily}";
        src: url('${te}');
        font-weight: ${ie.fontWeight};
        font-style: ${ie.fontStyle};
    }`}const FontStylePromiseCache=new Map;async function getFontCss(ie,ee,te){const se=ie.filter(ne=>Cache.has(`${ne}-and-url`)).map((ne,le)=>{if(!FontStylePromiseCache.has(ne)){const{url:ue}=Cache.get(`${ne}-and-url`);le===0?FontStylePromiseCache.set(ne,loadFontCSS(ee,ue)):FontStylePromiseCache.set(ne,loadFontCSS({fontWeight:te.fontWeight,fontStyle:te.fontStyle,fontFamily:ne},ue))}return FontStylePromiseCache.get(ne)});return(await Promise.all(se)).join(`
`)}function getSVGUrl(ie,ee,te,se,ne){const{domElement:le,styleElement:ue,svgRoot:ce}=ne;le.innerHTML=`<style>${ee.cssStyle}</style><div>${ie}</div>`,le.setAttribute("style",`transform: scale(${te});transform-origin: top left; display: inline-block`),ue.textContent=se;const{width:he,height:de}=ne.image;return ce.setAttribute("width",he.toString()),ce.setAttribute("height",de.toString()),new XMLSerializer().serializeToString(ce)}function getTemporaryCanvasFromImage(ie,ee){const te=CanvasPool.getOptimalCanvasAndContext(ie.width,ie.height,ee),{context:se}=te;return se.clearRect(0,0,ie.width,ie.height),se.drawImage(ie,0,0),CanvasPool.returnCanvasAndContext(te),te.canvas}function loadSVGImage(ie,ee,te){return new Promise(async se=>{te&&await new Promise(ne=>setTimeout(ne,100)),ie.onload=()=>{se()},ie.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(ee)}`,ie.crossOrigin="anonymous"})}class HTMLTextSystem{constructor(ee){this._activeTextures={},this._renderer=ee,this._createCanvas=ee.type===RendererType.WEBGPU}getTexture(ee){return this._buildTexturePromise(ee.text,ee.resolution,ee.style)}getManagedTexture(ee,te,se,ne){if(this._activeTextures[ne])return this._increaseReferenceCount(ne),this._activeTextures[ne].promise;const le=this._buildTexturePromise(ee,te,se).then(ue=>(this._activeTextures[ne].texture=ue,ue));return this._activeTextures[ne]={texture:null,promise:le,usageCount:1},le}async _buildTexturePromise(ee,te,se){const ne=BigPool.get(HTMLTextRenderData),le=extractFontFamilies(ee,se),ue=await getFontCss(le,se,HTMLTextStyle.defaultTextStyle),ce=measureHtmlText(ee,se,ue,ne),he=Math.ceil(Math.ceil(Math.max(1,ce.width)+se.padding*2)*te),de=Math.ceil(Math.ceil(Math.max(1,ce.height)+se.padding*2)*te),_e=ne.image;_e.width=he|0,_e.height=de|0;const fe=getSVGUrl(ee,se,te,ue,ne);await loadSVGImage(_e,fe,isSafari()&&le.length>0);let ye=_e;this._createCanvas&&(ye=getTemporaryCanvasFromImage(_e,te));const be=getPo2TextureFromSource(ye,_e.width,_e.height,te);return this._createCanvas&&this._renderer.texture.initSource(be.source),BigPool.return(ne),be}_increaseReferenceCount(ee){this._activeTextures[ee].usageCount++}decreaseReferenceCount(ee){const te=this._activeTextures[ee];te&&(te.usageCount--,te.usageCount===0&&(te.texture?this._cleanUp(te):te.promise.then(se=>{te.texture=se,this._cleanUp(te)}).catch(()=>{warn("HTMLTextSystem: Failed to clean texture")}),this._activeTextures[ee]=null))}_cleanUp(ee){TexturePool.returnTexture(ee.texture),ee.texture.source.resource=null,ee.texture.source.uploadMethodId="unknown"}getReferenceCount(ee){return this._activeTextures[ee].usageCount}destroy(){this._activeTextures=null}}HTMLTextSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"htmlText"},HTMLTextSystem.defaultFontOptions={fontFamily:"Arial",fontStyle:"normal",fontWeight:"normal"};class CanvasTextPipe{constructor(ee){this._gpuText=Object.create(null),this._renderer=ee}validateRenderable(ee){const te=this._getGpuText(ee),se=ee._getKey();if(te.currentKey!==se){const ne=ee.resolution??this._renderer.resolution,{width:le,height:ue}=this._renderer.canvasText.getTextureSize(ee.text,ne,ee._style);return!(this._renderer.canvasText.getReferenceCount(te.currentKey)===1&&le===te.texture._source.width&&ue===te.texture._source.height)}return!1}addRenderable(ee,te){const ne=this._getGpuText(ee).batchableSprite;ee._didTextUpdate&&this._updateText(ee),this._renderer.renderPipes.batch.addToBatch(ne)}updateRenderable(ee){const se=this._getGpuText(ee).batchableSprite;ee._didTextUpdate&&this._updateText(ee),se.batcher.updateElement(se)}destroyRenderable(ee){this._destroyRenderableById(ee.uid)}_destroyRenderableById(ee){const te=this._gpuText[ee];this._renderer.canvasText.decreaseReferenceCount(te.currentKey),BigPool.return(te.batchableSprite),this._gpuText[ee]=null}_updateText(ee){const te=ee._getKey(),se=this._getGpuText(ee),ne=se.batchableSprite;se.currentKey!==te&&this._updateGpuText(ee),ee._didTextUpdate=!1;const le=ee._style.padding;updateQuadBounds(ne.bounds,ee._anchor,ne.texture,le)}_updateGpuText(ee){const te=this._getGpuText(ee),se=te.batchableSprite;te.texture&&this._renderer.canvasText.decreaseReferenceCount(te.currentKey);const ne=ee.resolution??this._renderer.resolution;te.texture=se.texture=this._renderer.canvasText.getTexture(ee.text,ne,ee._style,ee._getKey()),te.currentKey=ee._getKey(),se.texture=te.texture}_getGpuText(ee){return this._gpuText[ee.uid]||this.initGpuText(ee)}initGpuText(ee){const te={texture:null,currentKey:"--",batchableSprite:BigPool.get(BatchableSprite)};return te.batchableSprite.renderable=ee,te.batchableSprite.bounds={minX:0,maxX:1,minY:0,maxY:0},te.batchableSprite.roundPixels=this._renderer._roundPixels|ee._roundPixels,this._gpuText[ee.uid]=te,this._updateText(ee),ee.on("destroyed",()=>{this.destroyRenderable(ee)}),te}destroy(){for(const ee in this._gpuText)this._destroyRenderableById(ee);this._gpuText=null,this._renderer=null}}CanvasTextPipe.extension={type:[ExtensionType.WebGLPipes,ExtensionType.WebGPUPipes,ExtensionType.CanvasPipes],name:"text"};function checkRow(ie,ee,te){for(let se=0,ne=4*te*ee;se<ee;++se,ne+=4)if(ie[ne+3]!==0)return!1;return!0}function checkColumn(ie,ee,te,se,ne){const le=4*ee;for(let ue=se,ce=se*le+4*te;ue<=ne;++ue,ce+=le)if(ie[ce+3]!==0)return!1;return!0}function getCanvasBoundingBox(ie,ee=1){const{width:te,height:se}=ie,ne=ie.getContext("2d",{willReadFrequently:!0});if(ne===null)throw new TypeError("Failed to get canvas 2D context");const ue=ne.getImageData(0,0,te,se).data;let ce=0,he=0,de=te-1,_e=se-1;for(;he<se&&checkRow(ue,te,he);)++he;if(he===se)return Rectangle.EMPTY;for(;checkRow(ue,te,_e);)--_e;for(;checkColumn(ue,te,ce,he,_e);)++ce;for(;checkColumn(ue,te,de,he,_e);)--de;return++de,++_e,new Rectangle(ce/ee,he/ee,(de-ce)/ee,(_e-he)/ee)}class CanvasTextSystem{constructor(){this._activeTextures={}}getTextureSize(ee,te,se){const ne=CanvasTextMetrics.measureText(ee||" ",se);let le=Math.ceil(Math.ceil(Math.max(1,ne.width)+se.padding*2)*te),ue=Math.ceil(Math.ceil(Math.max(1,ne.height)+se.padding*2)*te);return le=Math.ceil(le-1e-6),ue=Math.ceil(ue-1e-6),le=nextPow2(le),ue=nextPow2(ue),{width:le,height:ue}}getTexture(ee,te,se,ne){if(this._activeTextures[ne])return this._increaseReferenceCount(ne),this._activeTextures[ne].texture;const le=CanvasTextMetrics.measureText(ee||" ",se),ue=Math.ceil(Math.ceil(Math.max(1,le.width)+se.padding*2)*te),ce=Math.ceil(Math.ceil(Math.max(1,le.height)+se.padding*2)*te),he=CanvasPool.getOptimalCanvasAndContext(ue,ce),{canvas:de}=he;this.renderTextToCanvas(ee,se,te,he);const _e=getPo2TextureFromSource(de,ue,ce,te);if(se.trim){const fe=getCanvasBoundingBox(de,te);_e.frame.copyFrom(fe),_e.updateUvs()}return this._activeTextures[ne]={canvasAndContext:he,texture:_e,usageCount:1},_e}_increaseReferenceCount(ee){this._activeTextures[ee].usageCount++}decreaseReferenceCount(ee){const te=this._activeTextures[ee];if(te.usageCount--,te.usageCount===0){CanvasPool.returnCanvasAndContext(te.canvasAndContext),TexturePool.returnTexture(te.texture);const se=te.texture.source;se.resource=null,se.uploadMethodId="unknown",se.alphaMode="no-premultiply-alpha",this._activeTextures[ee]=null}}getReferenceCount(ee){return this._activeTextures[ee].usageCount}renderTextToCanvas(ee,te,se,ne){var $e,Ge,Be,ze;const{canvas:le,context:ue}=ne,ce=fontStringFromTextStyle(te),he=CanvasTextMetrics.measureText(ee||" ",te),de=he.lines,_e=he.lineHeight,fe=he.lineWidths,ye=he.maxLineWidth,be=he.fontProperties,Pe=le.height;if(ue.resetTransform(),ue.scale(se,se),ue.clearRect(0,0,he.width+4,he.height+4),($e=te._stroke)!=null&&$e.width){const $t=te._stroke;ue.lineWidth=$t.width,ue.miterLimit=$t.miterLimit,ue.lineJoin=$t.join,ue.lineCap=$t.cap}ue.font=ce;let Ne,we;const De=te.dropShadow?2:1;for(let $t=0;$t<De;++$t){const ut=te.dropShadow&&$t===0,Ti=ut?Math.ceil(Math.max(1,Pe)+te.padding*2):0,Hi=Ti*se;if(ut){ue.fillStyle="black",ue.strokeStyle="black";const Pm=te.dropShadow,oE=Pm.color,aE=Pm.alpha;ue.shadowColor=Color.shared.setValue(oE).setAlpha(aE).toRgbaString();const nE=Pm.blur*se,On=Pm.distance*se;ue.shadowBlur=nE,ue.shadowOffsetX=Math.cos(Pm.angle)*On,ue.shadowOffsetY=Math.sin(Pm.angle)*On+Hi}else ue.globalAlpha=((Ge=te._fill)==null?void 0:Ge.alpha)??1,ue.fillStyle=te._fill?getCanvasFillStyle(te._fill,ue):null,(Be=te._stroke)!=null&&Be.width&&(ue.strokeStyle=getCanvasFillStyle(te._stroke,ue)),ue.shadowColor="black";let bn=(_e-be.fontSize)/2;_e-be.fontSize<0&&(bn=0);const gd=((ze=te._stroke)==null?void 0:ze.width)??0;for(let Pm=0;Pm<de.length;Pm++)Ne=gd/2,we=gd/2+Pm*_e+be.ascent+bn,te.align==="right"?Ne+=ye-fe[Pm]:te.align==="center"&&(Ne+=(ye-fe[Pm])/2),te._stroke&&this._drawLetterSpacing(de[Pm],te,ne,Ne+te.padding,we+te.padding-Ti,!0),te._fill!==void 0&&this._drawLetterSpacing(de[Pm],te,ne,Ne+te.padding,we+te.padding-Ti)}}_drawLetterSpacing(ee,te,se,ne,le,ue=!1){const{context:ce}=se,he=te.letterSpacing;let de=!1;if(CanvasTextMetrics.experimentalLetterSpacingSupported&&(CanvasTextMetrics.experimentalLetterSpacing?(ce.letterSpacing=`${he}px`,ce.textLetterSpacing=`${he}px`,de=!0):(ce.letterSpacing="0px",ce.textLetterSpacing="0px")),he===0||de){ue?ce.strokeText(ee,ne,le):ce.fillText(ee,ne,le);return}let _e=ne;const fe=CanvasTextMetrics.graphemeSegmenter(ee);let ye=ce.measureText(ee).width,be=0;for(let Pe=0;Pe<fe.length;++Pe){const Ne=fe[Pe];ue?ce.strokeText(Ne,_e,le):ce.fillText(Ne,_e,le);let we="";for(let De=Pe+1;De<fe.length;++De)we+=fe[De];be=ce.measureText(we).width,_e+=ye-be+he,ye=be}}destroy(){this._activeTextures=null}}CanvasTextSystem.extension={type:[ExtensionType.WebGLSystem,ExtensionType.WebGPUSystem,ExtensionType.CanvasSystem],name:"canvasText"},extensions.add(browserExt,webworkerExt);var S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M(ie){return ie&&ie.__esModule&&Object.prototype.hasOwnProperty.call(ie,"default")?ie.default:ie}var W={exports:{}};(function(ie,ee){(function(){var te,se;se=function(ne){return ie.exports=ne},te={linear:function(ne,le,ue,ce){return ue*ne/ce+le},easeInQuad:function(ne,le,ue,ce){return ue*(ne/=ce)*ne+le},easeOutQuad:function(ne,le,ue,ce){return-ue*(ne/=ce)*(ne-2)+le},easeInOutQuad:function(ne,le,ue,ce){return(ne/=ce/2)<1?ue/2*ne*ne+le:-ue/2*(--ne*(ne-2)-1)+le},easeInCubic:function(ne,le,ue,ce){return ue*(ne/=ce)*ne*ne+le},easeOutCubic:function(ne,le,ue,ce){return ue*((ne=ne/ce-1)*ne*ne+1)+le},easeInOutCubic:function(ne,le,ue,ce){return(ne/=ce/2)<1?ue/2*ne*ne*ne+le:ue/2*((ne-=2)*ne*ne+2)+le},easeInQuart:function(ne,le,ue,ce){return ue*(ne/=ce)*ne*ne*ne+le},easeOutQuart:function(ne,le,ue,ce){return-ue*((ne=ne/ce-1)*ne*ne*ne-1)+le},easeInOutQuart:function(ne,le,ue,ce){return(ne/=ce/2)<1?ue/2*ne*ne*ne*ne+le:-ue/2*((ne-=2)*ne*ne*ne-2)+le},easeInQuint:function(ne,le,ue,ce){return ue*(ne/=ce)*ne*ne*ne*ne+le},easeOutQuint:function(ne,le,ue,ce){return ue*((ne=ne/ce-1)*ne*ne*ne*ne+1)+le},easeInOutQuint:function(ne,le,ue,ce){return(ne/=ce/2)<1?ue/2*ne*ne*ne*ne*ne+le:ue/2*((ne-=2)*ne*ne*ne*ne+2)+le},easeInSine:function(ne,le,ue,ce){return-ue*Math.cos(ne/ce*(Math.PI/2))+ue+le},easeOutSine:function(ne,le,ue,ce){return ue*Math.sin(ne/ce*(Math.PI/2))+le},easeInOutSine:function(ne,le,ue,ce){return-ue/2*(Math.cos(Math.PI*ne/ce)-1)+le},easeInExpo:function(ne,le,ue,ce){return ne===0?le:ue*Math.pow(2,10*(ne/ce-1))+le},easeOutExpo:function(ne,le,ue,ce){return ne===ce?le+ue:ue*(-Math.pow(2,-10*ne/ce)+1)+le},easeInOutExpo:function(ne,le,ue,ce){return(ne/=ce/2)<1?ue/2*Math.pow(2,10*(ne-1))+le:ue/2*(-Math.pow(2,-10*--ne)+2)+le},easeInCirc:function(ne,le,ue,ce){return-ue*(Math.sqrt(1-(ne/=ce)*ne)-1)+le},easeOutCirc:function(ne,le,ue,ce){return ue*Math.sqrt(1-(ne=ne/ce-1)*ne)+le},easeInOutCirc:function(ne,le,ue,ce){return(ne/=ce/2)<1?-ue/2*(Math.sqrt(1-ne*ne)-1)+le:ue/2*(Math.sqrt(1-(ne-=2)*ne)+1)+le},easeInElastic:function(ne,le,ue,ce){var he,de,_e;return _e=1.70158,de=0,he=ue,ne===0||(ne/=ce),de||(de=ce*.3),he<Math.abs(ue)?(he=ue,_e=de/4):_e=de/(2*Math.PI)*Math.asin(ue/he),-(he*Math.pow(2,10*(ne-=1))*Math.sin((ne*ce-_e)*(2*Math.PI)/de))+le},easeOutElastic:function(ne,le,ue,ce){var he,de,_e;return _e=1.70158,de=0,he=ue,ne===0||(ne/=ce),de||(de=ce*.3),he<Math.abs(ue)?(he=ue,_e=de/4):_e=de/(2*Math.PI)*Math.asin(ue/he),he*Math.pow(2,-10*ne)*Math.sin((ne*ce-_e)*(2*Math.PI)/de)+ue+le},easeInOutElastic:function(ne,le,ue,ce){var he,de,_e;return _e=1.70158,de=0,he=ue,ne===0||(ne/=ce/2),de||(de=ce*(.3*1.5)),he<Math.abs(ue)?(he=ue,_e=de/4):_e=de/(2*Math.PI)*Math.asin(ue/he),ne<1?-.5*(he*Math.pow(2,10*(ne-=1))*Math.sin((ne*ce-_e)*(2*Math.PI)/de))+le:he*Math.pow(2,-10*(ne-=1))*Math.sin((ne*ce-_e)*(2*Math.PI)/de)*.5+ue+le},easeInBack:function(ne,le,ue,ce,he){return he===void 0&&(he=1.70158),ue*(ne/=ce)*ne*((he+1)*ne-he)+le},easeOutBack:function(ne,le,ue,ce,he){return he===void 0&&(he=1.70158),ue*((ne=ne/ce-1)*ne*((he+1)*ne+he)+1)+le},easeInOutBack:function(ne,le,ue,ce,he){return he===void 0&&(he=1.70158),(ne/=ce/2)<1?ue/2*(ne*ne*(((he*=1.525)+1)*ne-he))+le:ue/2*((ne-=2)*ne*(((he*=1.525)+1)*ne+he)+2)+le},easeInBounce:function(ne,le,ue,ce){var he;return he=te.easeOutBounce(ce-ne,0,ue,ce),ue-he+le},easeOutBounce:function(ne,le,ue,ce){return(ne/=ce)<1/2.75?ue*(7.5625*ne*ne)+le:ne<2/2.75?ue*(7.5625*(ne-=1.5/2.75)*ne+.75)+le:ne<2.5/2.75?ue*(7.5625*(ne-=2.25/2.75)*ne+.9375)+le:ue*(7.5625*(ne-=2.625/2.75)*ne+.984375)+le},easeInOutBounce:function(ne,le,ue,ce){var he;return ne<ce/2?(he=te.easeInBounce(ne*2,0,ue,ce),he*.5+le):(he=te.easeOutBounce(ne*2-ce,0,ue,ce),he*.5+ue*.5+le)}},se(te)}).call(S)})(W);var O=W.exports;const v=M(O);function x(ie,ee){if(ie){if(typeof ie=="function")return ie;if(typeof ie=="string")return v[ie]}else return v[ee]}class P{constructor(ee){this.viewport=ee,this.touches=[],this.addListeners()}addListeners(){this.viewport.eventMode="static",this.viewport.forceHitArea||(this.viewport.hitArea=new Rectangle(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=ee=>this.handleWheel(ee),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){var ee;(ee=this.viewport.options.events.domElement)==null||ee.removeEventListener("wheel",this.wheelFunction)}down(ee){if(!(this.viewport.pause||!this.viewport.visible)){if(ee.pointerType==="mouse"?this.isMouseDown=!0:this.get(ee.pointerId)||this.touches.push({id:ee.pointerId,last:null}),this.count()===1){this.last=ee.global.clone();const te=this.viewport.plugins.get("decelerate",!0),se=this.viewport.plugins.get("bounce",!0);(!te||!te.isActive())&&(!se||!se.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(ee)&&this.viewport.options.stopPropagation&&ee.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(ee){return Math.abs(ee)>=this.viewport.threshold}move(ee){if(this.viewport.pause||!this.viewport.visible)return;const te=this.viewport.plugins.move(ee);if(this.clickedAvailable&&this.last){const se=ee.global.x-this.last.x,ne=ee.global.y-this.last.y;(this.checkThreshold(se)||this.checkThreshold(ne))&&(this.clickedAvailable=!1)}te&&this.viewport.options.stopPropagation&&ee.stopPropagation()}up(ee){if(this.viewport.pause||!this.viewport.visible)return;ee.pointerType==="mouse"&&(this.isMouseDown=!1),ee.pointerType!=="mouse"&&this.remove(ee.pointerId);const te=this.viewport.plugins.up(ee);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:ee,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),te&&this.viewport.options.stopPropagation&&ee.stopPropagation()}getPointerPosition(ee){const te=new Point;return this.viewport.options.events.mapPositionToPoint(te,ee.clientX,ee.clientY),te}handleWheel(ee){if(this.viewport.pause||!this.viewport.visible)return;const te=this.viewport.toLocal(this.getPointerPosition(ee));this.viewport.left<=te.x&&te.x<=this.viewport.right&&this.viewport.top<=te.y&&te.y<=this.viewport.bottom&&this.viewport.plugins.wheel(ee)&&!this.viewport.options.passiveWheel&&ee.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(ee){for(const te of this.touches)if(te.id===ee)return te;return null}remove(ee){for(let te=0;te<this.touches.length;te++)if(this.touches[te].id===ee){this.touches.splice(te,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const m$1=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class C{constructor(ee){this.viewport=ee,this.list=[],this.plugins={}}add(ee,te,se=m$1.length){const ne=this.plugins[ee];ne&&ne.destroy(),this.plugins[ee]=te;const le=m$1.indexOf(ee);le!==-1&&m$1.splice(le,1),m$1.splice(se,0,ee),this.sort()}get(ee,te){var se;return te&&(se=this.plugins[ee])!=null&&se.paused?null:this.plugins[ee]}update(ee){for(const te of this.list)te.update(ee)}resize(){for(const ee of this.list)ee.resize()}reset(){for(const ee of this.list)ee.reset()}removeAll(){this.list.forEach(ee=>{ee.destroy()}),this.plugins={},this.sort()}remove(ee){var te;this.plugins[ee]&&((te=this.plugins[ee])==null||te.destroy(),delete this.plugins[ee],this.viewport.emit("plugin-remove",ee),this.sort())}pause(ee){var te;(te=this.plugins[ee])==null||te.pause()}resume(ee){var te;(te=this.plugins[ee])==null||te.resume()}sort(){this.list=[];for(const ee of m$1)this.plugins[ee]&&this.list.push(this.plugins[ee])}down(ee){let te=!1;for(const se of this.list)se.down(ee)&&(te=!0);return te}move(ee){let te=!1;for(const se of this.viewport.plugins.list)se.move(ee)&&(te=!0);return te}up(ee){let te=!1;for(const se of this.list)se.up(ee)&&(te=!0);return te}wheel(ee){let te=!1;for(const se of this.list)se.wheel(ee)&&(te=!0);return te}}let u$1=class{constructor(ee){this.parent=ee,this.paused=!1}destroy(){}down(ee){return!1}move(ee){return!1}up(ee){return!1}wheel(ee){return!1}update(ee){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}};const I={removeOnInterrupt:!1,ease:"linear",time:1e3};class k extends u$1{constructor(ee,te={}){super(ee),this.startWidth=null,this.startHeight=null,this.deltaWidth=null,this.deltaHeight=null,this.width=null,this.height=null,this.time=0,this.options=Object.assign({},I,te),this.options.ease=x(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(ee){if(this.paused)return;this.time+=ee;const te=new Point(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const se=this.parent.width,ne=this.parent.height;this.complete(),(se!==this.parent.width||ne!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:te,type:"animate"})}else{const se=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const ne=this.startWidth,le=this.deltaWidth;this.parent.fitWidth(ne+le*se,this.keepCenter,this.height===null)}if(this.height!==null){const ne=this.startHeight,le=this.deltaHeight;this.parent.fitHeight(ne+le*se,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const ne=this.startX,le=this.startY,ue=this.deltaX,ce=this.deltaY,he=new Point(this.parent.x,this.parent.y);this.parent.moveCenter(ne+ue*se,le+ce*se),this.parent.emit("moved",{viewport:this.parent,original:he,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:te,type:"animate"})}}}const Y={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class X extends u$1{constructor(ee,te={}){super(ee),this.options=Object.assign({},Y,te),this.ease=x(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const se=this.options.underflow.toLowerCase();se==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=se.indexOf("left")!==-1?-1:se.indexOf("right")!==-1?1:0,this.underflowY=se.indexOf("top")!==-1?-1:se.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(ee){if(!this.paused){if(this.bounce(),this.toX){const te=this.toX;te.time+=ee,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),te.time>=this.options.time?(this.parent.x=te.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(te.time,te.start,te.delta,this.options.time)}if(this.toY){const te=this.toY;te.time+=ee,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),te.time>=this.options.time?(this.parent.y=te.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(te.time,te.start,te.delta,this.options.time)}}}calcUnderflowX(){let ee;switch(this.underflowX){case-1:ee=0;break;case 1:ee=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:ee=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return ee}calcUnderflowY(){let ee;switch(this.underflowY){case-1:ee=0;break;case 1:ee=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:ee=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return ee}oob(){const ee=this.options.bounceBox;if(ee){const te=typeof ee.x>"u"?0:ee.x,se=typeof ee.y>"u"?0:ee.y,ne=typeof ee.width>"u"?this.parent.worldWidth:ee.width,le=typeof ee.height>"u"?this.parent.worldHeight:ee.height;return{left:this.parent.left<te,right:this.parent.right>ne,top:this.parent.top<se,bottom:this.parent.bottom>le,topLeft:new Point(te*this.parent.scale.x,se*this.parent.scale.y),bottomRight:new Point(ne*this.parent.scale.x-this.parent.screenWidth,le*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new Point(0,0),bottomRight:new Point(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var ee,te;if(this.paused)return;let se,ne=this.parent.plugins.get("decelerate",!0);ne&&(ne.x||ne.y)&&(ne.x&&ne.percentChangeX===((ee=ne.options)==null?void 0:ee.friction)||ne.y&&ne.percentChangeY===((te=ne.options)==null?void 0:te.friction))&&(se=this.oob(),(se.left&&this.left||se.right&&this.right)&&(ne.percentChangeX=this.options.friction),(se.top&&this.top||se.bottom&&this.bottom)&&(ne.percentChangeY=this.options.friction));const le=this.parent.plugins.get("drag",!0)||{},ue=this.parent.plugins.get("pinch",!0)||{};if(ne=ne||{},!(le!=null&&le.active)&&!(ue!=null&&ue.active)&&(!this.toX||!this.toY)&&(!ne.x||!ne.y)){se=se||this.oob();const ce=se.topLeft,he=se.bottomRight;if(!this.toX&&!ne.x){let de=null;se.left&&this.left?de=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-ce.x:se.right&&this.right&&(de=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-he.x),de!==null&&this.parent.x!==de&&(this.toX={time:0,start:this.parent.x,delta:de-this.parent.x,end:de},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!ne.y){let de=null;se.top&&this.top?de=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-ce.y:se.bottom&&this.bottom&&(de=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-he.y),de!==null&&this.parent.y!==de&&(this.toY={time:0,start:this.parent.y,delta:de-this.parent.y,end:de},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const z={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class A extends u$1{constructor(ee,te={}){super(ee),this.options=Object.assign({},z,te),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const ee=this.options.underflow.toLowerCase();ee==="none"?this.noUnderflow=!0:ee==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=ee.indexOf("left")!==-1?-1:ee.indexOf("right")!==-1?1:0,this.underflowY=ee.indexOf("top")!==-1?-1:ee.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const ee=new Point(this.parent.x,this.parent.y),te=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let se=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,se=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,se=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,se=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,te.x=0,se=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,te.x=0,se=!0);se&&this.parent.emit("moved",{viewport:this.parent,original:ee,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let se=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,se=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,se=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,se=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,te.y=0,se=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,te.y=0,se=!0);se&&this.parent.emit("moved",{viewport:this.parent,original:ee,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const T={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class _ extends u$1{constructor(ee,te={}){super(ee),this.options=Object.assign({},T,te),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let ee=this.parent.worldScreenWidth,te=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&ee<this.options.minWidth){const se=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/se,ee=this.parent.worldScreenWidth,te=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&ee>this.options.maxWidth){const se=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/se,ee=this.parent.worldScreenWidth,te=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&te<this.options.minHeight){const se=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/se,ee=this.parent.worldScreenWidth,te=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&te>this.options.maxHeight){const se=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/se,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const ee={x:null,y:null},te={x:null,y:null};if(typeof this.options.minScale=="number")ee.x=this.options.minScale,ee.y=this.options.minScale;else if(this.options.minScale!==null){const le=this.options.minScale;ee.x=typeof le.x>"u"?null:le.x,ee.y=typeof le.y>"u"?null:le.y}if(typeof this.options.maxScale=="number")te.x=this.options.maxScale,te.y=this.options.maxScale;else if(this.options.maxScale!==null){const le=this.options.maxScale;te.x=typeof le.x>"u"?null:le.x,te.y=typeof le.y>"u"?null:le.y}let se=this.parent.scale.x,ne=this.parent.scale.y;ee.x!==null&&se<ee.x&&(se=ee.x),te.x!==null&&se>te.x&&(se=te.x),ee.y!==null&&ne<ee.y&&(ne=ee.y),te.y!==null&&ne>te.y&&(ne=te.y),(se!==this.parent.scale.x||ne!==this.parent.scale.y)&&(this.parent.scale.set(se,ne),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const L={friction:.98,bounce:.8,minSpeed:.01},d=16;class E extends u$1{constructor(ee,te={}){super(ee),this.options=Object.assign({},L,te),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",se=>this.handleMoved(se))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const ee=this.parent.input.count();return(ee===1||ee>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(ee){if(this.saved.length){const te=this.saved[this.saved.length-1];ee.type==="clamp-x"&&ee.original?te.x===ee.original.x&&(te.x=this.parent.x):ee.type==="clamp-y"&&ee.original&&te.y===ee.original.y&&(te.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const ee=performance.now();for(const te of this.saved)if(te.time>=ee-100){const se=ee-te.time;this.x=(this.parent.x-te.x)/se,this.y=(this.parent.y-te.y)/se,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(ee){ee=ee||{},typeof ee.x<"u"&&(this.x=ee.x,this.percentChangeX=this.options.friction),typeof ee.y<"u"&&(this.y=ee.y,this.percentChangeY=this.options.friction)}update(ee){if(this.paused)return;const te=this.x||this.y,se=this.timeSinceRelease,ne=this.timeSinceRelease+ee;if(this.x){const le=this.percentChangeX,ue=Math.log(le);this.parent.x+=this.x*d/ue*(Math.pow(le,ne/d)-Math.pow(le,se/d)),this.x*=Math.pow(this.percentChangeX,ee/d)}if(this.y){const le=this.percentChangeY,ue=Math.log(le);this.parent.y+=this.y*d/ue*(Math.pow(le,ne/d)-Math.pow(le,se/d)),this.y*=Math.pow(this.percentChangeY,ee/d)}this.timeSinceRelease+=ee,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),te&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const D={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class U extends u$1{constructor(ee,te={}){super(ee),this.windowEventHandlers=[],this.options=Object.assign({},D,te),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(ee){const te=ne=>{ee.includes(ne.code)&&(this.keyIsPressed=!0)},se=ne=>{ee.includes(ne.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",se),this.addWindowEventHandler("keydown",te)}addWindowEventHandler(ee,te){typeof window>"u"||(window.addEventListener(ee,te),this.windowEventHandlers.push({event:ee,handler:te}))}destroy(){typeof window>"u"||this.windowEventHandlers.forEach(({event:ee,handler:te})=>{window.removeEventListener(ee,te)})}mouseButtons(ee){!ee||ee==="all"?this.mouse=[!0,!0,!0]:this.mouse=[ee.indexOf("left")!==-1,ee.indexOf("middle")!==-1,ee.indexOf("right")!==-1]}parseUnderflow(){const ee=this.options.underflow.toLowerCase();ee==="center"?(this.underflowX=0,this.underflowY=0):(ee.includes("left")?this.underflowX=-1:ee.includes("right")?this.underflowX=1:this.underflowX=0,ee.includes("top")?this.underflowY=-1:ee.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(ee){const te=ee.pointerType==="mouse",se=this.parent.input.count();return!!((se===1||se>1&&!this.parent.plugins.get("pinch",!0))&&(!te||this.mouse[ee.button]))}checkKeyPress(ee){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&ee.data.pointerType==="touch"}down(ee){return this.paused||!this.options.pressDrag?!1:this.checkButtons(ee)&&this.checkKeyPress(ee)?(this.last={x:ee.global.x,y:ee.global.y},(this.parent.parent||this.parent).toLocal(this.last,void 0,this.last),this.current=ee.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(ee){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===ee.data.pointerId){const te=ee.global.x,se=ee.global.y,ne=this.parent.input.count();if(ne===1||ne>1&&!this.parent.plugins.get("pinch",!0)){const le={x:te,y:se};(this.parent.parent||this.parent).toLocal(le,void 0,le);const ue=le.x-this.last.x,ce=le.y-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(ue)||this.yDirection&&this.parent.input.checkThreshold(ce))return this.xDirection&&(this.parent.x+=(le.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(le.y-this.last.y)*this.options.factor),this.last=le,this.moved||this.parent.emit("drag-start",{event:ee,screen:new Point(this.last.x,this.last.y),world:this.parent.toWorld(new Point(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}else this.moved=!1}return!1}up(ee){if(this.paused)return!1;const te=this.parent.input.touches;if(te.length===1){const se=te[0];return se.last&&(this.last={x:se.last.x,y:se.last.y},this.current=se.id),this.moved=!1,!0}else if(this.last&&this.moved){const se=new Point(this.last.x,this.last.y);return(this.parent.parent||this.parent).toGlobal(se,se,!0),this.parent.emit("drag-end",{event:ee,screen:se,world:this.parent.toWorld(se),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(ee){if(this.paused)return!1;if(this.options.wheel){const te=this.parent.plugins.get("wheel",!0);if(!te||!te.options.wheelZoom&&!ee.ctrlKey){const se=ee.deltaMode?this.options.lineHeight:1,ne=[ee.deltaX,ee.deltaY],[le,ue]=this.options.wheelSwapAxes?ne.reverse():ne;return this.xDirection&&(this.parent.x+=le*se*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=ue*se*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||ee.preventDefault(),this.parent.options.stopPropagation&&ee.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const ee=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,ee.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,ee.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,ee.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,ee.y=0)}}const F={speed:0,acceleration:null,radius:null};class B extends u$1{constructor(ee,te,se={}){super(ee),this.target=te,this.options=Object.assign({},F,se),this.velocity={x:0,y:0}}update(ee){if(this.paused)return;const te=this.parent.center;let se=this.target.x,ne=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-te.y,2)+Math.pow(this.target.x-te.x,2))>this.options.radius){const ce=Math.atan2(this.target.y-te.y,this.target.x-te.x);se=this.target.x-Math.cos(ce)*this.options.radius,ne=this.target.y-Math.sin(ce)*this.options.radius}else return;const le=se-te.x,ue=ne-te.y;if(le||ue)if(this.options.speed)if(this.options.acceleration){const ce=Math.atan2(ne-te.y,se-te.x),he=Math.sqrt(Math.pow(le,2)+Math.pow(ue,2));if(he){const de=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);he>de?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*ee,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*ee,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const _e=Math.cos(ce)*this.velocity.x,fe=Math.sin(ce)*this.velocity.y,ye=Math.abs(_e)>Math.abs(le)?se:te.x+_e,be=Math.abs(fe)>Math.abs(ue)?ne:te.y+fe;this.parent.moveCenter(ye,be),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const ce=Math.atan2(ne-te.y,se-te.x),he=Math.cos(ce)*this.options.speed,de=Math.sin(ce)*this.options.speed,_e=Math.abs(he)>Math.abs(le)?se:te.x+he,fe=Math.abs(de)>Math.abs(ue)?ne:te.y+de;this.parent.moveCenter(_e,fe),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(se,ne),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const N={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class V extends u$1{constructor(ee,te={}){super(ee),this.options=Object.assign({},N,te),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const ee=this.options.distance;ee!==null?(this.left=ee,this.top=ee,this.right=this.parent.screenWidth-ee,this.bottom=this.parent.screenHeight-ee):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(ee){if(this.paused||ee.pointerType!=="mouse"&&ee.pointerId!==1||!this.options.allowButtons&&ee.buttons!==0)return!1;const te=ee.global.x,se=ee.global.y;if(this.radiusSquared){const ne=this.parent.toScreen(this.parent.center);if(Math.pow(ne.x-te,2)+Math.pow(ne.y-se,2)>=this.radiusSquared){const le=Math.atan2(ne.y-se,ne.x-te);this.options.linear?(this.horizontal=Math.round(Math.cos(le))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(le))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(le)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(le)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&te<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&te>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&se<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&se>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const ee=this.parent.plugins.get("decelerate",!0);this.horizontal&&ee&&!this.options.noDecelerate&&ee.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const ee=this.parent.plugins.get("decelerate",!0);this.vertical&&ee&&!this.options.noDecelerate&&ee.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const ee=this.parent.center;this.horizontal&&(ee.x+=this.horizontal*this.options.speed),this.vertical&&(ee.y+=this.vertical*this.options.speed),this.parent.moveCenter(ee),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const Z={noDrag:!1,percent:1,center:null,factor:1,axis:"all"},R=new Point;class j extends u$1{constructor(ee,te={}){super(ee),this.active=!1,this.pinching=!1,this.moved=!1,this.options=Object.assign({},Z,te)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(ee){if(this.paused||!this.active)return!1;const{x:te,y:se}=(this.parent.parent||this.parent).toLocal(ee.global,void 0,R),ne=this.parent.input.touches;if(ne.length>=2){const le=ne[0],ue=ne[1],ce=le.last&&ue.last?Math.sqrt(Math.pow(ue.last.x-le.last.x,2)+Math.pow(ue.last.y-le.last.y,2)):null;if(le.id===ee.pointerId?le.last={x:te,y:se,data:ee}:ue.id===ee.pointerId&&(ue.last={x:te,y:se,data:ee}),ce){let he;const de=new Point(le.last.x+(ue.last.x-le.last.x)/2,le.last.y+(ue.last.y-le.last.y)/2);this.options.center||(he=this.parent.toLocal(de,this.parent.parent||this.parent));let _e=Math.sqrt(Math.pow(ue.last.x-le.last.x,2)+Math.pow(ue.last.y-le.last.y,2));_e=_e===0?_e=1e-10:_e;const fe=(1-ce/_e)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=fe),this.isAxisY()&&(this.parent.scale.y+=fe),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:de});const ye=this.parent.plugins.get("clamp-zoom",!0);if(ye&&ye.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const be=(this.parent.parent||this.parent).toLocal(he,this.parent);this.parent.x+=(de.x-be.x)*this.options.factor,this.parent.y+=(de.y-be.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(de.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(de.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=de,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const K={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class q extends u$1{constructor(ee,te,se,ne={}){super(ee),this.options=Object.assign({},K,ne),this.ease=x(ne.ease,"easeInOutSine"),this.x=te,this.y=se,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const ee=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-ee.x,this.deltaY=this.y-ee.y,this.startX=ee.x,this.startY=ee.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const ee=this.parent.plugins.get("decelerate",!0);ee&&(ee.x||ee.y)&&(ee.percentChangeX=ee.percentChangeY=this.options.friction)}return!1}update(ee){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const te=this.snapping;te.time+=ee;let se,ne,le;const ue=this.startX,ce=this.startY,he=this.deltaX,de=this.deltaY;if(te.time>this.options.time)se=!0,ne=ue+he,le=ce+de;else{const _e=this.ease(te.time,0,1,this.options.time);ne=ue+he*_e,le=ce+de*_e}this.options.topLeft?this.parent.moveCorner(ne,le):this.parent.moveCenter(ne,le),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),se&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const te=this.options.topLeft?this.parent.corner:this.parent.center;(te.x!==this.x||te.y!==this.y)&&this.snapStart()}}}const Q={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class G extends u$1{constructor(ee,te={}){super(ee),this.options=Object.assign({},Q,te),this.ease=x(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=ee.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=ee.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(ee.container.scale.x=this.xScale,ee.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):te.forceStart&&this.createSnapping()}createSnapping(){const ee=this.parent.worldScreenWidth,te=this.parent.worldScreenHeight,se=this.parent.screenWidth/this.xScale,ne=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:ee,startY:te,deltaX:se-ee,deltaY:ne-te},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(ee){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let te;if(!this.options.center&&!this.options.noMove&&(te=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const se=this.snapping;if(se.time+=ee,se.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const le=this.snapping,ue=this.ease(le.time,le.startX,le.deltaX,this.options.time),ce=this.ease(le.time,le.startY,le.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/ue,this.parent.scale.y=this.parent.screenHeight/ce}const ne=this.parent.plugins.get("clamp-zoom",!0);ne&&ne.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(te))}}resume(){this.snapping=null,super.resume()}}const J={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};let $$1=class extends u$1{constructor(ee,te={}){super(ee),this.options=Object.assign({},J,te),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(ee){typeof window>"u"||(window.addEventListener("keydown",te=>{ee.includes(te.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",te=>{ee.includes(te.code)&&(this.keyIsPressed=!1)}))}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const ee=this.smoothingCenter,te=this.smoothing;let se;this.options.center||(se=this.parent.toLocal(ee)),this.isAxisX()&&(this.parent.scale.x+=te.x),this.isAxisY()&&(this.parent.scale.y+=te.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const ne=this.parent.plugins.get("clamp-zoom",!0);if(ne&&ne.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const le=this.parent.parent||this.parent;le.toLocal(se,this.parent,se);const ue=le.toLocal(ee);this.parent.x+=ue.x-se.x,this.parent.y+=ue.y-se.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,typeof this.options.smooth=="number"&&this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(ee){if(this.paused)return;const te=this.parent.input.getPointerPosition(ee),se=-ee.deltaY*(ee.deltaMode?this.options.lineHeight:1)/200,ne=Math.pow(2,(1+this.options.percent)*se);let le;this.options.center||(le=this.parent.toLocal(te)),this.isAxisX()&&(this.parent.scale.x*=ne),this.isAxisY()&&(this.parent.scale.y*=ne),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const ue=this.parent.plugins.get("clamp-zoom",!0);if(ue&&ue.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const ce=this.parent.parent||this.parent;ce.toLocal(le,this.parent,le);const he=ce.toLocal(te);this.parent.x+=he.x-le.x,this.parent.y+=he.y-le.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:ee,viewport:this.parent})}wheel(ee){if(this.paused||!this.checkKeyPress())return!1;if(ee.ctrlKey&&this.options.trackpadPinch)this.pinch(ee);else if(this.options.wheelZoom){const te=this.parent.input.getPointerPosition(ee),se=(this.options.reverse?-1:1)*-ee.deltaY*(ee.deltaMode?this.options.lineHeight:1)/500,ne=Math.pow(2,(1+this.options.percent)*se);if(this.options.smooth){const le={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+le.x)*ne-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+le.y)*ne-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=te}else{let le;this.options.center||(le=this.parent.toLocal(te)),this.isAxisX()&&(this.parent.scale.x*=ne),this.isAxisY()&&(this.parent.scale.y*=ne),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const ue=this.parent.plugins.get("clamp-zoom",!0);if(ue&&ue.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const ce=this.parent.parent||this.parent;ce.toLocal(le,this.parent,le);const he=ce.toLocal(te);this.parent.x+=he.x-le.x,this.parent.y+=he.y-le.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:ee,viewport:this.parent})}return!this.parent.options.passiveWheel}};const tt={screenWidth:typeof window>"u"?0:window.innerWidth,screenHeight:typeof window>"u"?0:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:Ticker.shared,allowPreserveDragOutside:!1};class it extends Container{constructor(ee){super(),this._disableOnContextMenu=te=>te.preventDefault(),this.options={...tt,...ee},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new P(this),this.plugins=new C(this)}destroy(ee){var te;!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&((te=this.options.events.domElement)==null||te.removeEventListener("contextmenu",this._disableOnContextMenu)),this.input.destroy(),super.destroy(ee)}update(ee){this.pause||(this.plugins.update(ee),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new Rectangle(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(ee=typeof window>"u"?0:window.innerWidth,te=typeof window>"u"?0:window.innerHeight,se,ne){this.screenWidth=ee,this.screenHeight=te,typeof se<"u"&&(this._worldWidth=se),typeof ne<"u"&&(this._worldHeight=ne),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(ee){this._worldWidth=ee,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(ee){this._worldHeight=ee,this.plugins.resize()}getVisibleBounds(){return new Rectangle(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(ee,te){return arguments.length===2?this.toLocal(new Point(ee,te)):this.toLocal(ee)}toScreen(ee,te){return arguments.length===2?this.toGlobal(new Point(ee,te)):this.toGlobal(ee)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new Point(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(ee){this.moveCenter(ee)}moveCenter(...ee){let te,se;typeof ee[0]=="number"?(te=ee[0],se=ee[1]):(te=ee[0].x,se=ee[0].y);const ne=(this.worldScreenWidth/2-te)*this.scale.x,le=(this.worldScreenHeight/2-se)*this.scale.y;return(this.x!==ne||this.y!==le)&&(this.position.set(ne,le),this.plugins.reset(),this.dirty=!0),this}get corner(){return new Point(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(ee){this.moveCorner(ee)}moveCorner(...ee){let te,se;return ee.length===1?(te=-ee[0].x*this.scale.x,se=-ee[0].y*this.scale.y):(te=-ee[0]*this.scale.x,se=-ee[1]*this.scale.y),(te!==this.x||se!==this.y)&&(this.position.set(te,se),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(ee){return this.screenWidth/ee}findFitHeight(ee){return this.screenHeight/ee}findFit(ee,te){const se=this.screenWidth/ee,ne=this.screenHeight/te;return Math.min(se,ne)}findCover(ee,te){const se=this.screenWidth/ee,ne=this.screenHeight/te;return Math.max(se,ne)}fitWidth(ee=this.worldWidth,te,se=!0,ne){let le;te&&(le=this.center),this.scale.x=this.screenWidth/ee,se&&(this.scale.y=this.scale.x);const ue=this.plugins.get("clamp-zoom",!0);return!ne&&ue&&ue.clamp(),te&&le&&this.moveCenter(le),this}fitHeight(ee=this.worldHeight,te,se=!0,ne){let le;te&&(le=this.center),this.scale.y=this.screenHeight/ee,se&&(this.scale.x=this.scale.y);const ue=this.plugins.get("clamp-zoom",!0);return!ne&&ue&&ue.clamp(),te&&le&&this.moveCenter(le),this}fitWorld(ee){let te;ee&&(te=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const se=this.plugins.get("clamp-zoom",!0);return se&&se.clamp(),ee&&te&&this.moveCenter(te),this}fit(ee,te=this.worldWidth,se=this.worldHeight){let ne;ee&&(ne=this.center),this.scale.x=this.screenWidth/te,this.scale.y=this.screenHeight/se,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const le=this.plugins.get("clamp-zoom",!0);return le&&le.clamp(),ee&&ne&&this.moveCenter(ne),this}setZoom(ee,te){let se;te&&(se=this.center),this.scale.set(ee);const ne=this.plugins.get("clamp-zoom",!0);return ne&&ne.clamp(),te&&se&&this.moveCenter(se),this}zoomPercent(ee,te){return this.setZoom(this.scale.x+this.scale.x*ee,te)}zoom(ee,te){return this.fitWidth(ee+this.worldScreenWidth,te),this}get scaled(){return this.scale.x}set scaled(ee){this.setZoom(ee,!0)}snapZoom(ee){return this.plugins.add("snap-zoom",new G(this,ee)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new Point(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(ee){this.x=-ee*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(ee){this.x=-ee*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(ee){this.y=-ee*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(ee){this.y=-ee*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(ee){this._dirty=ee}get forceHitArea(){return this._forceHitArea}set forceHitArea(ee){ee?(this._forceHitArea=ee,this.hitArea=ee):(this._forceHitArea=null,this.hitArea=new Rectangle(0,0,this.worldWidth,this.worldHeight))}drag(ee){return this.plugins.add("drag",new U(this,ee)),this}clamp(ee){return this.plugins.add("clamp",new A(this,ee)),this}decelerate(ee){return this.plugins.add("decelerate",new E(this,ee)),this}bounce(ee){return this.plugins.add("bounce",new X(this,ee)),this}pinch(ee){return this.plugins.add("pinch",new j(this,ee)),this}snap(ee,te,se){return this.plugins.add("snap",new q(this,ee,te,se)),this}follow(ee,te){return this.plugins.add("follow",new B(this,ee,te)),this}wheel(ee){return this.plugins.add("wheel",new $$1(this,ee)),this}animate(ee){return this.plugins.add("animate",new k(this,ee)),this}clampZoom(ee){return this.plugins.add("clamp-zoom",new _(this,ee)),this}mouseEdges(ee){return this.plugins.add("mouse-edges",new V(this,ee)),this}get pause(){return!!this._pause}set pause(ee){this._pause=ee,this.lastViewport=null,this.moving=!1,this.zooming=!1,ee&&this.input.pause()}ensureVisible(ee,te,se,ne,le){le&&(se>this.worldScreenWidth||ne>this.worldScreenHeight)&&(this.fit(!0,se,ne),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let ue=!1;ee<this.left?(this.left=ee,ue=!0):ee+se>this.right&&(this.right=ee+se,ue=!0),te<this.top?(this.top=te,ue=!0):te+ne>this.bottom&&(this.bottom=te+ne,ue=!0),ue&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const log$4=(...ie)=>{},containerWidth=276,containerHeight=147,tilesQuantity=16,realSquareSize=8,halfOfRealSquareSize=realSquareSize*.5;function isometricToPlaneScreen(ie,ee,te=0){const se=ie-ee,ne=ie/2+ee/2-te;return[se,ne]}const getRelativeX=ie=>ie-8,getXFromRelative=ie=>ie+8,getRelativeY=ie=>ie-8,getYFromRelative=ie=>ie+8;function composeHeightMap(){let ie="",ee=0,te=0;for(let se=0;se<state.tiles.length;se++)if(state.tiles[se].color==26111){const le=se%tilesQuantity,ue=Math.floor(se/tilesQuantity);ee=Math.max(ee,le),te=Math.max(te,ue)}for(let se=0;se<=te;se++){for(let ne=0;ne<=ee;ne++){const le=state.tiles[ne+se*tilesQuantity];ie+=le.color==26111?"0":"x"}ie+="\r"}return ie||(ie="x\r"),ie}function decodeHeightMap(ie){const ee=[],te=ie.split(/[\n\r]/),se=te.map(ne=>ne.padEnd(tilesQuantity,"x"));log$4({lines:te,paddedLines:se,linesLen:te.length,paddedLinesLen:se.length});for(let ne=se.length;ne<tilesQuantity;ne++)se.push("x".repeat(tilesQuantity));for(const[ne,le]of se.entries()){if(le.length>tilesQuantity)throw new Error(`Invalid heightmap due to high lineQuantity: ${le.length}. Expected: ${tilesQuantity}`);for(const[ue,ce]of le.split("").entries()){if(ce!=="x"&&ce!=="0")throw new Error(`Invalid heightmap due to unknown character on spot: ${ce}`);const he=new HabboTile(ce=="0"?26111:1052688,!1,halfOfRealSquareSize,ue,ne);ee.push(he)}}return ee}const state={store:null,onReferenceChange:null,startX:null,startY:null,endX:null,endY:null,tiles:null,isAnyChange:!1,onTileMapChange:null,onTilemapChange:null};function onPointerUp(){if(state.store.mode!=="move"){if(state.store.isPointerDown){if(state.store.isPointerDown=!1,state.store.mode==="reference"){const ie=HabboTile.originTile;ie&&state.onReferenceChange({x:getRelativeX(ie.tileX),y:getRelativeY(ie.tileY)})}if(state.store.mode!=="reference"){const ie=Math.min(state.startX,state.endX),ee=Math.max(state.startX,state.endX),te=Math.min(state.startY,state.endY),se=Math.max(state.startY,state.endY);for(let ne=ie;ne<=ee;ne++)for(let le=te;le<=se;le++){const ue=state.tiles[ne+le*tilesQuantity];ue.isSelected=!1,ue.color=state.store.mode=="add"?26111:1052688,ue.update()}}}state.isAnyChange&&(state.isAnyChange=!1,state.onTilemapChange(composeHeightMap()))}}const NP=class NP extends Graphics{constructor(te=1052688,se=!1,ne=4,le=0,ue=0){super();dE(this,"isSelected",!1);dE(this,"_isOrigin",!1);this.color=te,this.edgeSize=ne,this.tileX=le,this.tileY=ue,this.isOrigin=se}get isOrigin(){return this._isOrigin}set isOrigin(te){te?(NP.originTile!=null&&(NP.originTile.isOrigin=!1),NP.originTile=this):this._isOrigin&&(NP.originTile=null),this._isOrigin=te,this.update()}update(){let te=this.edgeSize,se=isometricToPlaneScreen(-te,-te,0),ne=isometricToPlaneScreen(+te,-te,0),le=isometricToPlaneScreen(+te,+te,0),ue=isometricToPlaneScreen(-te,+te,0);this.clear(),this.poly([...se,...ne,...le,...ue]),this.fill(this.isSelected?"#aa00ff":this.color),this.stroke({width:1,color:"#222222"}),this._isOrigin&&(te-=1,se=isometricToPlaneScreen(-te,-te,0),ne=isometricToPlaneScreen(+te,-te,0),le=isometricToPlaneScreen(+te,+te,0),ue=isometricToPlaneScreen(-te,+te,0),this.poly([...se,...ne,...le,...ue]),this.stroke({width:Math.max(1,te*.3),color:"#ffffff"}))}};dE(NP,"originTile",null);let HabboTile=NP;function useDrawCanvas(ie,ee,te,se,ne){state.store=ie,state.isAnyChange=!1,state.onTilemapChange=ee,state.onReferenceChange=te;let le=null;reactExports.useEffect(()=>{try{le=new Application,le.init({background:"#e9e9e1",width:containerWidth,height:containerHeight,view:document.getElementById("neighbourhood-coreduo-selector"),autoDensity:!0,resolution:1,antialias:!1}).then(()=>{try{const ue=new it({screenWidth:276,screenHeight:147,worldHeight:141,worldWidth:276,passiveWheel:!1,events:le.renderer.events});ue.decelerate().drag({keyToPress:["AltLeft"]}).clamp({direction:"all"}).clampZoom({minScale:1,maxScale:3});let ce=Number(state.store.zoom||sessionStorage.getItem("neighbourhood-zoom"));ce=Math.max(1,Math.min(3,ce)),ue.on("zoomed-end",()=>{sessionStorage.setItem("neighbourhood-zoom",ue.scaled.toString())}),state.store.mode==="move"&&(ue.pinch(),ue.drag()),BC(ie,"mode",ye=>{ye==="move"?(ue.pinch(),ue.drag()):(ue.plugins.remove("pinch"),ue.drag({keyToPress:["AltLeft"]}))}),window.viewport=ue;const he=new Container;state.tiles=decodeHeightMap(se);let de=-1/0,_e=null;for(let ye=0;ye<tilesQuantity*tilesQuantity;ye++){let be=state.tiles[ye];be||(be=new HabboTile(1052688,!1,halfOfRealSquareSize));const Pe=be.tileX,Ne=be.tileY,we=isometricToPlaneScreen(Pe*realSquareSize,Ne*realSquareSize),De=Pe==getXFromRelative(ne.x)&&Ne==getYFromRelative(ne.y),$e=be.color==26111;be.position.set(we[0],we[1]),state.tiles[Pe+Ne*tilesQuantity]=be,$e&&(de==null||Pe+Ne*tilesQuantity>de)&&(de=Pe+Ne*tilesQuantity),be.isOrigin&&(be.zIndex=1),be.interactive=!0;const Ge=containerWidth/2,Be=(147-he.height)/2+.5,ze=isometricToPlaneScreen(Pe*realSquareSize,Ne*realSquareSize,-realSquareSize),$t={x:Ge+we[0],y:Be+we[1]},ut=ue.toScreen(new Point($t.x,$t.y));De&&(be.isOrigin=!0,_e=[be,ut]),be.on("pointerdown",()=>{if(state.store.mode!=="move")if(state.store.isPointerDown=!0,state.store.mode=="reference"){be.isOrigin=!0,log$4("Setting origin tile"),window.viewport=ue;const Ti=ue.toWorld(be.getGlobalPosition());ue.wheel({center:Ti}),ue.scaled!==1?ue.animate({position:Ti,time:200}):ue.animate({position:ue.toScreen(ue.center),time:200}),state.isAnyChange=!0,log$4({basisX:Ge,basisY:Be,p:we,convertedPos:$t,asWorld:Ti})}else be.isSelected=!0,state.isAnyChange=!0,be.update(),state.startX=Pe,state.startY=Ne,state.endX=Pe,state.endY=Ne}),be.on("pointerover",()=>{if(state.store.mode!=="move"&&state.store.isPointerDown)if(state.store.mode=="reference")be.isOrigin=!0;else{let Ti=Math.min(state.startX,state.endX),Hi=Math.max(state.startX,state.endX),bn=Math.min(state.startY,state.endY),gd=Math.max(state.startY,state.endY);for(let Pm=Ti;Pm<=Hi;Pm++)for(let oE=bn;oE<=gd;oE++){const aE=state.tiles[Pm+oE*tilesQuantity];aE.isSelected=!1,aE.update()}Ti=Math.min(state.startX,Pe),Hi=Math.max(state.startX,Pe),bn=Math.min(state.startY,Ne),gd=Math.max(state.startY,Ne);for(let Pm=Ti;Pm<=Hi;Pm++)for(let oE=bn;oE<=gd;oE++){const aE=state.tiles[Pm+oE*tilesQuantity];aE.isSelected=!0,state.isAnyChange=!0,aE.update()}state.endX=Pe,state.endY=Ne}}),he.position.set(Ge,Be),he.addChild(be),log$4("Adding tile child"),ue.addChild(he)}le.stage.addChild(ue);const fe=ue.toWorld(_e[0].getGlobalPosition());ce!==1&&(ue.snap(fe.x,fe.y,{removeOnComplete:!0,time:0}),ue.setZoom(ce)),ue.wheel({center:fe}),log$4({childrenStg:le.stage.children,childrenContainer:he.children}),document.removeEventListener("pointerup",onPointerUp),document.addEventListener("pointerup",onPointerUp)}catch(ue){console.error(ue)}})}catch(ue){console.error(ue)}return()=>{try{le&&le.destroy({removeView:!1})}catch(ue){console.error("Error destroying app",ue)}}},[])}const MoveIcon=({store:ie})=>{const ee=oe(ie),te=()=>{ie.mode="move";const se=$(".nitro-wired div:has(> .move-icon-container)").find("div:has(> .icon:not(.icon-move))");se.removeClass("active");function ne(le){$(le.currentTarget).addClass("active"),se.off("click",ne)}se.on("click",ne)};return jsxRuntimeExports.jsx("div",{className:"w-full flex justify-end",children:jsxRuntimeExports.jsx("div",{className:clsx("d-flex overflow-hidden position-relative cursor-pointer flex-column gap-2 align-items-center justify-content-center layout-grid-item border border-2 border-muted rounded",ee.mode=="move"&&"active"),onClick:te,children:jsxRuntimeExports.jsx("i",{className:"icon icon-move",style:{backgroundImage:`url(${hotel.images.move16x16})`,width:"25px",height:"25px"}})})})},NeighbourhoodCoreDuoCanvas=({store:ie,onTilemapChange:ee,onRefChange:te})=>{const se=reactExports.useRef(null),ne=oe(ie.reference),le=useMediaQuery("(max-width: 62em)"),ue=$(".nitro-wired div.move-icon-container");return useDrawCanvas(ie,ee,te,ie.heightMap,ne),reactExports.useEffect(()=>{se.current&&se.current.scrollIntoView({behavior:"auto",block:"center",inline:"center"})},[]),jsxRuntimeExports.jsxs("div",{className:clsx("_NeighbourhoodCoreDuoCanvas",styles$a.NeighbourhoodCoreDuoCanvas),children:[le&&ue.length&&reactDomExports.createPortal(jsxRuntimeExports.jsx(MoveIcon,{store:ie}),ue[0]),jsxRuntimeExports.jsx("canvas",{id:"neighbourhood-coreduo-selector"})]})},RefreshFriendRoomListButton$1="_RefreshFriendRoomListButton_zx7vh_1",Spinning="_Spinning_zx7vh_11",spin="_spin_zx7vh_1",PointerNone="_PointerNone_zx7vh_15",styles$9={RefreshFriendRoomListButton:RefreshFriendRoomListButton$1,Spinning,spin,PointerNone};/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const createReactComponent=(ie,ee,te,se)=>{const ne=reactExports.forwardRef(({color:le="currentColor",size:ue=24,stroke:ce=2,title:he,className:de,children:_e,...fe},ye)=>reactExports.createElement("svg",{ref:ye,...defaultAttributes[ie],width:ue,height:ue,className:["tabler-icon",`tabler-icon-${ee}`,de].join(" "),strokeWidth:ce,stroke:le,...fe},[he&&reactExports.createElement("title",{key:"svg-title"},he),...se.map(([be,Pe])=>reactExports.createElement(be,Pe)),...Array.isArray(_e)?_e:[_e]]));return ne.displayName=`${te}`,ne};/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconCheck=createReactComponent("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconCopy=createReactComponent("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconRefresh=createReactComponent("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);const RefreshFriendRoomListButton=()=>{const ee=oe(roomStore).roomFriendsSave;return ee?jsxRuntimeExports.jsx("div",{className:clsx("_RefreshFriendRoomListButton",styles$9.RefreshFriendRoomListButton,ee.isFetching&&styles$9.PointerNone),onClick:()=>{roomStore.roomFriendsSave.forceFetch=!0,HibiscoEvents.emit("FORCE_FETCH_FRIENDS_ROOM_LIST")},children:jsxRuntimeExports.jsx(IconRefresh,{stroke:2,color:"#408CAF",size:16,className:clsx(ee.isFetching&&styles$9.Spinning)})}):null},action=JSON.parse(`[{"name":"randomteleport","description":"Teleportar e espalhar os mobis fonte sobre o mobi especificado.","usage":"randomteleport:%1","explanation":"Teleportar os mobis fontes para o mobi %1.","args":{"1":{"name":"mobi","description":"Mobi onde os mobis fonte serão teleportados.","type":"mobi_name"}}},{"name":"randomstate","description":"Alterar o estado dos mobis fonte de forma aleatória.","usage":"randomstate"},{"name":"enable","description":"Ativar/Desativar o comando :enable no quarto.","usage":"enable:%1","explanation":{"true":"Ativar o comando :enable no quarto.","false":"Desativar o comando :enable no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"fastwalk","description":"Ativar/Desativar a capacidade de andar rápido para todos no quarto.","usage":"fastwalk:%1","explanation":{"true":"Ativar andar rápido no quarto.","false":"Desativar andar rápido no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"handitem","description":"Ativar/Desativar o comando :handitem no quarto.","usage":"handitem:%1","explanation":{"true":"Ativar o comando :handitem no quarto.","false":"Desativar o comando :handitem no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"pullmode","description":"Ativar/Desativar o comando :pull no quarto.","usage":"pullmode:%1","explanation":{"true":"Ativar o comando :pull no quarto.","false":"Desativar o comando :pull no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"pushmode","description":"Ativar/Desativar o comando :push no quarto.","usage":"pushmode:%1","explanation":{"true":"Ativar o comando :push no quarto.","false":"Desativar o comando :push no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"transf","description":"Ativar/Desativar o comando :pet no quarto.","usage":"transf:%1","explanation":{"true":"Ativar o comando :pet no quarto.","false":"Desativar o comando :pet no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"diagonal","description":"Ativar/Desativar andar em diagonal no quarto.","usage":"diagonal:%1","explanation":{"true":"Ativar andar em diagonal no quarto.","false":"Desativar andar em diagonal no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"kickpower","description":"Alterar a distância de tiro da bola.","usage":"kickpower:%1","explanation":"Alterar a distância de tiro da bola para %1.","args":{"1":{"name":"distancia","type":"int","min":1,"max":8,"description":"Distância de tiro da bola, de 1 a 8."}}},{"name":"sit","description":"Ativar/Desativar a capacidade de sentar no quarto.","usage":"sit:%1","explanation":{"true":"Ativar capacidade de sentar no quarto.","false":"Desativar capacidade de sentar no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"lay","description":"Ativar/Desativar a capacidade de deitar no quarto.","usage":"lay:%1","explanation":{"true":"Ativar capacidade de deitar no quarto.","false":"Desativar capacidade de deitar no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"lock","description":"Abrir/Fechar quarto com campainha.","usage":"lock:%1","explanation":{"false":"Deixar quarto aberto, sem campainha.","true":"Fechar quarto com campainha."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"respect","description":"Ativar/Desativar mensagens de respeito para todos no quarto, exceto o remetente e o destinatário.","usage":"respect:%1","explanation":{"true":"Ativar mensagens de respeito no quarto.","false":"Desativar mensagens de respeito no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"roommute","description":"Ativar/Desativar a capacidade de falar no quarto.","usage":"roommute:%1","explanation":{"true":"Ativar capacidade de falar no quarto.","false":"Desativar capacidade de falar no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"tileverificationwired","description":"Ativar/Desativar a verificação de pisos para 'Mobi movido para a localização e estado' no quarto.","usage":"tileverificationwired:%1","explanation":{"true":"Ativar verificação de pisos para 'Mobi movido para a localização e estado' no quarto.","false":"Desativar verificação de pisos para 'Mobi movido para a localização e estado' no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"walkthrough","description":"Ativar/Desativar a capacidade de atravessar através de Habblets no quarto.","usage":"walkthrough:%1","explanation":{"true":"Ativar atravessar através de Habblets no quarto.","false":"Desativar atravessar através de Habblets no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"clickthrough","description":"Ativar/Desativar a capacidade de quem está no quarto clicar em outros Habblets e não exibir a barra de ações (não se aplica ao proprietário do quarto, ele precisará usar o comando :ct).","usage":"clickthrough:%1","explanation":{"true":"Ativar clicar através (:ct) de outros Habblets no quarto.","false":"Desativar clicar através (:ct) outros Habblets no quarto."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"showgroupforum","description":"Abrir o fórum de grupo especificado.","usage":"showgroupforum:%1","explanation":"Abrir fórum do grupo de id %1.","args":{"1":{"name":"id_grupo","type":"int","description":"ID do grupo."}}},{"name":"showgroupforum","description":"Abrir o tópico do fórum de grupo especificado.","usage":"showgroupforum:%1:%2","explanation":"Abrir tópico %2 do fórum do grupo de id %1.","args":{"1":{"name":"id_grupo","type":"int","description":"ID do grupo."},"2":{"name":"topico_id","type":"int","description":"ID do tópico."}}},{"name":"addpoint","description":"Adicionar uma quantidade de pontos à alta pontuação do Habblet fonte.","usage":"addpoint:%1","explanation":"Adicionar %1 pontos à alta pontuação do Habblet fonte.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de pontos para adicionar."}}},{"name":"removepoint","description":"Remover uma quantidade de pontos da alta pontuação do Habblet fonte.","usage":"removepoint:%1","explanation":"Remover %1 pontos da alta pontuação do Habblet fonte.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de pontos para remover."}}},{"name":"setpoint","description":"Definir a pontuação escolhida na alta pontuação do Habblet fonte.","usage":"setpoint:%1","explanation":"Definir para %1 a pontuação do Habblet fonte.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de pontos para setar."}}},{"name":"moonwalk","description":"Ativar/Desativar moonwalk do Habblet fonte.","usage":"moonwalk:%1","explanation":{"true":"Ativar moonwalk.","false":"Desativar moonwalk."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"mute","description":"Desativar a capacidade do Habblet fonte de falar no quarto.","usage":"mute"},{"name":"nomute","description":"Devolve a capacidade do Habblet fonte de falar durante um mute geral no quarto (roommute) ou após o uso do efeito 'mute'.","usage":"nomute"},{"name":"blockchat","description":"Ativar/Desativar o chat do quarto apenas para o Habblet fonte.","usage":"blockchat:%1","explanation":{"true":"Ativar bloqueio de chat.","false":"Desativar bloqueio de chat."},"args":{"1":{"name":"estado","type":"boolean","description":"true para ativar, false para desativar."}}},{"name":"player","description":"Alterar a postura do Habblet fonte para em pé, sentado ou deitado.","usage":"player:%1","explanation":{"stand":"Alterar a postura do Habblet fonte para em pé.","sit":"Alterar a postura do Habblet fonte para sentado.","lay":"Alterar a postura do Habblet fonte para deitado."},"args":{"1":{"type":"enum","name":"postura","description":"Postura para alterar.","options":["stand","sit","lay"]}}},{"name":"tag","description":"Atribuir uma tag oculta ao Habblet fonte.","usage":"tag:%1","explanation":"Setar conteúdo da tag 1 do usuário para \\"%1\\"","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"tag","description":"Atribuir uma tag oculta ao Habblet fonte.","usage":"tag1:%1","explanation":"Setar conteúdo da tag 1 do usuário para \\"%1\\"","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"tag","description":"Atribuir uma tag oculta ao Habblet fonte.","usage":"tag2:%1","explanation":"Setar conteúdo da tag 2 do usuário para \\"%1\\"","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"tag","description":"Atribuir uma tag oculta ao Habblet fonte.","usage":"tag3:%1","explanation":"Setar conteúdo da tag 3 do usuário para \\"%1\\"","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"tag","description":"Atribuir uma tag oculta ao Habblet fonte.","usage":"tag4:%1","explanation":"Setar conteúdo da tag 4 do usuário para \\"%1\\"","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"tag","description":"Atribuir uma tag oculta ao Habblet fonte.","usage":"tag5:%1","explanation":"Setar conteúdo da tag 5 do usuário para \\"%1\\"","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"removetag","description":"Remover tag 1 atribuída ao Habblet fonte.","usage":"removetag"},{"name":"removetag","description":"Remover tag 1 atribuída ao Habblet fonte.","usage":"removetag1"},{"name":"removetag","description":"Remover tag 2 atribuída ao Habblet fonte.","usage":"removetag2"},{"name":"removetag","description":"Remover tag 3 atribuída ao Habblet fonte.","usage":"removetag3"},{"name":"removetag","description":"Remover tag 4 atribuída ao Habblet fonte.","usage":"removetag4"},{"name":"removetag","description":"Remover tag 5 atribuída ao Habblet fonte.","usage":"removetag5"},{"name":"clearpoints","description":"Remove o Habblet fonte dos placares especificados como Mobis fonte.","usage":"clearpoints"}]`),condition=JSON.parse('[{"name":"hasroommute","description":"Se o quarto estiver mutado.","usage":"hasroommute"},{"name":"noroommute","description":"Se o quarto estiver desmutado.","usage":"noroommute"},{"name":"teambluelimit","description":"Se o número de jogadores na equipe AZUL for igual ou menor que a quantidade escolhida.","usage":"teambluelimit:%1","explanation":"Se o número de jogadores na equipe AZUL for igual ou menor que %1.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de jogadores para comparar."}}},{"name":"noteambluelimit","description":"Se o número de jogadores na equipe AZUL for maior do que o número definido.","usage":"noteambluelimit:%1","explanation":"Se o número de jogadores na equipe AZUL for maior do que %1.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de jogadores para comparar."}}},{"name":"teambluescore","description":"Se a pontuação da equipe AZUL for igual ou maior que a pontuação escolhida.","usage":"teambluescore:%1","explanation":"Se a pontuação da equipe AZUL for igual ou maior que %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"noteambluescore","description":"Se a pontuação da equipe AZUL for menor do que a pontuação escolhida.","usage":"noteambluescore:%1","explanation":"Se a pontuação da equipe AZUL for menor do que %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"teamgreenlimit","description":"Se o número de jogadores na equipe VERDE for igual ou menor que a quantidade escolhida.","usage":"teamgreenlimit:%1","explanation":"Se o número de jogadores na equipe VERDE for igual ou menor que %1.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de jogadores para comparar."}}},{"name":"noteamgreenlimit","description":"Se o número de jogadores na equipe VERDE for maior do que o número definido.","usage":"noteamgreenlimit:%1","explanation":"Se o número de jogadores na equipe VERDE for maior do que %1.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de jogadores para comparar."}}},{"name":"teamgreenscore","description":"Se a pontuação da equipe VERDE for igual ou maior que a pontuação escolhida.","usage":"teamgreenscore:%1","explanation":"Se a pontuação da equipe VERDE for igual ou maior que %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"noteamgreenscore","description":"Se a pontuação da equipe VERDE for menor do que a pontuação escolhida.","usage":"noteamgreenscore:%1","explanation":"Se a pontuação da equipe VERDE for menor do que %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"teamredlimit","description":"Se o número de jogadores na equipe VERMELHA for igual ou menor que a quantidade escolhida.","usage":"teamredlimit:%1","explanation":"Se o número de jogadores na equipe VERMELHA for igual ou menor que %1.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de jogadores para comparar."}}},{"name":"noteamredlimit","description":"Se o número de jogadores na equipe VERMELHA for maior do que o número definido.","usage":"noteamredlimit:%1","explanation":"Se o número de jogadores na equipe VERMELHA for maior do que %1.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de jogadores para comparar."}}},{"name":"teamredscore","description":"Se a pontuação da equipe VERMELHA for igual ou maior que a pontuação escolhida.","usage":"teamredscore:%1","explanation":"Se a pontuação da equipe VERMELHA for igual ou maior que %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"noteamredscore","description":"Se a pontuação da equipe VERMELHA for menor do que a pontuação escolhida.","usage":"noteamredscore:%1","explanation":"Se a pontuação da equipe VERMELHA for menor do que %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"teamyellowlimit","description":"Se o número de jogadores na equipe AMARELA for igual ou menor que a quantidade escolhida.","usage":"teamyellowlimit:%1","explanation":"Se o número de jogadores na equipe AMARELA for igual ou menor que %1.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de jogadores para comparar."}}},{"name":"noteamyellowlimit","description":"Se o número de jogadores na equipe AMARELA for maior do que o número definido.","usage":"noteamyellowlimit:%1","explanation":"Se o número de jogadores na equipe AMARELA for maior do que %1.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de jogadores para comparar."}}},{"name":"teamyellowscore","description":"Se a pontuação da equipe AMARELA for igual ou maior que a pontuação escolhida.","usage":"teamyellowscore:%1","explanation":"Se a pontuação da equipe AMARELA for igual ou maior que %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"noteamyellowscore","description":"Se a pontuação da equipe AMARELA for menor do que a pontuação escolhida.","usage":"noteamyellowscore:%1","explanation":"Se a pontuação da equipe AMARELA for menor do que %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"around","description":"Se o Habblet fonte estiver a 1 quadrado de distância dos mobis fonte na ação wired.","usage":"around"},{"name":"notaround","description":"Se o Habblet fonte não estiver a 1 quadrado de distância dos mobis fonte na ação wired.","usage":"notaround"},{"name":"badge","description":"Se o Habblet fonte tiver o emblema especificado.","usage":"badge:%1","explanation":"Se o Habblet fonte tiver o emblema \\"%1\\".","args":{"1":{"type":"int","name":"codigo_emblema","description":"Código do emblema."}}},{"name":"nobadge","description":"Se o Habblet fonte não tiver o emblema especificado.","usage":"nobadge:%1","explanation":"Se o Habblet fonte NÃO tiver o emblema \\"%1\\".","args":{"1":{"type":"int","name":"codigo_emblema","description":"Código do emblema."}}},{"name":"dayclassement","description":"Se o Habblet fonte estiver na alta pontuação diária no wired placar.","usage":"dayclassement"},{"name":"nodayclassement","description":"Se o Habblet fonte não estiver na alta pontuação diária no wired placar.","usage":"nodayclassement"},{"name":"daypointequal","description":"Se a pontuação diária do Habblet fonte no wired placar for igual à quantidade escolhida.","usage":"daypointequal:%1","explanation":"Se a pontuação diária do Habblet fonte no wired placar for igual à %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"daypointgreater","description":"Se a pontuação diária do Habblet fonte no wired placar for maior do que a quantidade escolhida.","usage":"daypointgreater:%1","explanation":"Se a pontuação diária do Habblet fonte no wired placar for maior do que %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"daypointless","description":"Se a pontuação diária do Habblet fonte no wired placar for menor do que a quantidade escolhida.","usage":"daypointless:%1","explanation":"Se a pontuação diária do Habblet fonte no wired placar for menor do que %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"enable","description":"Se o Habblet fonte usar o efeito especificado.","usage":"enable:%1","explanation":"Se o usuário estiver usando o efeito %1.","args":{"1":{"type":"int","name":"enable","description":"Id do efeito (código do enable)."}}},{"name":"noenable","description":"Se o Habblet fonte não tiver usando o efeito especificado.","usage":"noenable:%1","explanation":"Se o usuário NÃO estiver usando o efeito %1.","args":{"1":{"type":"int","name":"enable","description":"Id do efeito (código do enable)."}}},{"name":"favouritegroup","description":"Se o Habblet fonte tiver o grupo especificado como favorito.","usage":"favouritegroup:%1","explanation":"Se o Habblet fonte tiver o grupo de id %1 como favorito.","args":{"1":{"type":"int","name":"id_grupo","description":"Id do grupo para comparar."}}},{"name":"nofavouritegroup","description":"Se o Habblet fonte não tiver o grupo especificado como favorito.","usage":"nofavouritegroup:%1","explanation":"Se o Habblet fonte não tiver o grupo de id %1 como favorito.","args":{"1":{"type":"int","name":"id_grupo","description":"Id do grupo para comparar"}}},{"name":"gender","description":"Se o gênero do visual do Habblet fonte for masculino ou feminino.","usage":"gender:%1","explanation":{"M":"Se o gênero do visual do Habblet fonte for masculino.","F":"Se o gênero do visual do Habblet fonte for feminino."},"args":{"1":{"type":"gender","name":"genero","description":"M para masculino, F para feminino."}}},{"name":"nogender","description":"Se o Habblet fonte não for masculino ou feminino.","usage":"nogender:%1","explanation":{"M":"Se o Habblet fonte não for masculino.","F":"Se o Habblet fonte não for feminino."},"args":{"1":{"type":"gender","name":"genero","description":"M para masculino, F para feminino."}}},{"name":"groupmember","description":"Se o Habblet fonte for membro do grupo especificado.","usage":"groupmember:%1","explanation":"Se o Habblet fonte for membro do grupo de id %1.","args":{"1":{"type":"int","name":"id_grupo","description":"Id do grupo para comparar."}}},{"name":"nogroupmember","description":"Se o Habblet fonte não for membro do grupo especificado.","usage":"nogroupmember:%1","explanation":"Se o Habblet fonte não for membro do grupo de id %1.","args":{"1":{"type":"int","name":"id_grupo","description":"Id do grupo para comparar."}}},{"name":"handitem","description":"Se o Habblet fonte tiver o item de mão especificado.","usage":"handitem:%1","explanation":"Se o Habblet fonte tiver o item de mão de id %1.","args":{"1":{"type":"int","name":"handitem","description":"Id do item de mão (código do handitem)."}}},{"name":"nohanditem","description":"Se o Habblet fonte não tiver o item de mão especificado.","usage":"nohanditem:%1","explanation":"Se o Habblet fonte não tiver o item de mão de id %1.","args":{"1":{"type":"int","name":"handitem","description":"Id do item de mão (código do handitem)."}}},{"name":"hasrights","description":"Se o Habblet fonte tiver direitos no quarto.","usage":"hasrights"},{"name":"norights","description":"Se o Habblet fonte não tiver direitos no quarto.","usage":"norights"},{"name":"hasteam","description":"Se o Habblet fonte fizer parte de uma equipe.","usage":"hasteam"},{"name":"noteam","description":"Se o Habblet fonte não fizer parte de uma equipe.","usage":"noteam"},{"name":"hasvip","description":"Se o Habblet fonte for membro do Club VIP.","usage":"hasvip"},{"name":"novip","description":"Se o Habblet fonte não for membro do Club VIP.","usage":"novip"},{"name":"mission","description":"Se o Habblet fonte tiver exatamente a missão escolhida.","usage":"mission:%1","explanation":"Se o Habblet fonte tiver exatamente a missão \\"%1\\".","args":{"1":{"type":"string","name":"missao","description":"Texto para comparar com a missão."}}},{"name":"nomission","description":"Se o Habblet fonte não tiver exatamente a missão escolhida.","usage":"nomission:%1","explanation":"Se o Habblet fonte não tiver exatamente a missão \\"%1\\".","args":{"1":{"type":"string","name":"missao","description":"Texto para comparar com a missão."}}},{"name":"totalclassement","description":"Se o Habblet fonte estiver na alta pontuação total no wired placar.","usage":"totalclassement"},{"name":"nototalclassement","description":"Se o Habblet fonte não estiver na alta pontuação total no wired placar.","usage":"nototalclassement"},{"name":"totalpointequal","description":"Se a pontuação total do Habblet fonte no wired placar for igual à quantidade escolhida.","usage":"totalpointequal:%1","explanation":"Se a pontuação total do Habblet fonte no wired placar for igual à %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"totalpointgreater","description":"Se a pontuação total do Habblet fonte no wired placar for maior do que a quantidade escolhida.","usage":"totalpointgreater:%1","explanation":"Se a pontuação total do Habblet fonte no wired placar for maior do que %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"totalpointless","description":"Se a pontuação total do Habblet fonte no wired placar for menor do que a quantidade escolhida.","usage":"totalpointless:%1","explanation":"Se a pontuação total do Habblet fonte no wired placar for menor do que %1.","args":{"1":{"type":"int","name":"pontuacao","description":"Pontuação para comparar."}}},{"name":"transform","description":"Se o Habblet fonte estiver com algum :pet ativado.","usage":"transform"},{"name":"notransform","description":"Se o Habblet fonte não estiver com algum :pet ativado.","usage":"notransform"},{"name":"wordmission","description":"Se o Habblet fonte tiver a palavra escolhida em algum lugar de sua missão.","usage":"wordmission:%1","explanation":"Se o Habblet fonte tiver a palavra \\"%1\\" em algum lugar de sua missão.","args":{"1":{"type":"string","name":"palavra","description":"Palavra para pesquisar na missão."}}},{"name":"nowordmission","description":"Se o Habblet fonte não tiver a palavra escolhida em algum lugar de sua missão.","usage":"nowordmission:%1","explanation":"Se o Habblet fonte não tiver a palavra \\"%1\\" em lugar algum de sua missão.","args":{"1":{"type":"string","name":"palavra","description":"Palavra para pesquisar na missão."}}},{"name":"stand","description":"Se o habblet ativador estiver em pé.","usage":"stand"},{"name":"sit","description":"Se o Habblet fonte estiver sentado.","usage":"sit"},{"name":"lay","description":"Se o Habblet fonte estiver deitado.","usage":"lay"},{"name":"username","description":"Se o Habblet fonte possuir o nome especificado.","usage":"username:%1","explanation":"Se o Habblet fonte possuir o nome \\"%1\\".","args":{"1":{"type":"string","name":"username","description":"Username para comparar."}}},{"name":"nousername","description":"Se o Habblet fonte não possuir o nome especificado.","usage":"nousername:%1","explanation":"Se o Habblet fonte não possuir o nome \\"%1\\".","args":{"1":{"type":"string","name":"username","description":"Username para comparar."}}},{"name":"achievementequal","description":"Se o placar de conquistas do Habblet fonte for igual a quantidade escolhida.","usage":"achievementequal:%1","explanation":"Se o placar de conquistas do Habblet fonte for igual a %1.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de pontos de conquistas para comparar."}}},{"name":"achievementunequal","description":"Se o placar de conquistas do Habblet fonte não for igual a quantidade escolhida.","usage":"achievementunequal:%1","explanation":"Se o placar de conquistas do Habblet fonte não for igual a %1.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de pontos de conquistas para comparar."}}},{"name":"achievementless","description":"Se o placar de conquistas do Habblet fonte for menor que a quantidade escolhida.","usage":"achievementless:%1","explanation":"Se o placar de conquistas do Habblet fonte for menor que %1.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade."}}},{"name":"achievementgreater","description":"Se o placar de conquistas do Habblet fonte for maior que a quantidade escolhida.","usage":"achievementgreater:%1","explanation":"Se o placar de conquistas do Habblet fonte for maior que %1.","args":{"1":{"type":"int","name":"quantidade","description":"Quantidade de pontos de conquistas para comparar."}}},{"name":"hastag","description":"Se o Habblet fonte tiver o valor da tag 1 atribuído para o conteúdo especificado.","usage":"hastag:%1","explanation":"Se o conteúdo da tag 1 for \\"%1\\";","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"hastag1","description":"Se o Habblet fonte tiver o valor da tag 1 atribuído para o conteúdo especificado.","usage":"hastag1:%1","explanation":"Se o conteúdo da tag 1 for \\"%1\\";","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"hastag2","description":"Se o Habblet fonte tiver o valor da tag 2 atribuído para o conteúdo especificado.","usage":"hastag2:%1","explanation":"Se o conteúdo da tag 2 for \\"%1\\";","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"hastag3","description":"Se o Habblet fonte tiver o valor da tag 3 atribuído para o conteúdo especificado.","usage":"hastag3:%1","explanation":"Se o conteúdo da tag 3 for \\"%1\\";","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"hastag4","description":"Se o Habblet fonte tiver o valor da tag 4 atribuído para o conteúdo especificado.","usage":"hastag4:%1","explanation":"Se o conteúdo da tag 4 for \\"%1\\";","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"hastag5","description":"Se o Habblet fonte tiver o valor da tag 5 atribuído para o conteúdo especificado.","usage":"hastag5:%1","explanation":"Se o conteúdo da tag 5 for \\"%1\\";","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"nohastag","description":"Se o Habblet fonte NÃO tiver o valor da tag 1 atribuído para o conteúdo especificado.","usage":"nohastag:%1","explanation":"Se o conteúdo da tag 1 NÃO for \\"%1\\".","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"nohastag2","description":"Se o Habblet fonte NÃO tiver o valor da tag 2 atribuído para o conteúdo especificado.","usage":"nohastag2:%1","explanation":"Se o conteúdo da tag 2 NÃO for \\"%1\\".","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"nohastag3","description":"Se o Habblet fonte NÃO tiver o valor da tag 3 atribuído para o conteúdo especificado.","usage":"nohastag3:%1","explanation":"Se o conteúdo da tag 3 NÃO for \\"%1\\".","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"nohastag4","description":"Se o Habblet fonte NÃO tiver o valor da tag 4 atribuído para o conteúdo especificado.","usage":"nohastag4:%1","explanation":"Se o conteúdo da tag 4 NÃO for \\"%1\\".","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}},{"name":"nohastag5","description":"Se o Habblet fonte NÃO tiver o valor da tag 5 atribuído para o conteúdo especificado.","usage":"nohastag5:%1","explanation":"Se o conteúdo da tag 5 NÃO for \\"%1\\".","args":{"1":{"type":"string","name":"texto","description":"Conteúdo da tag."}}}]'),placeholders=[{name:"username",description:"Em variáveis de mensagem, o nome do usuário lendo a mensagem. Em super wired, o nome do usuário que ativou o wired.",explanation:"o nome do usuário que ativou o wired"},{name:"clicked_username",description:"Nome do usuário clicado no wired.",explanation:"o nome do usuário clicado no wired"},{name:"executor",description:"Nome do usuário que ativou o wired.",explanation:"o nome do usuário que ativou o wired"},{name:"executor_tag",description:"Tag 1 do usuário que ativou o wired.",explanation:"a tag 1 do usuário que ativou o wired"},{name:"executor_tag1",description:"Tag 1 do usuário que ativou o wired.",explanation:"a tag 1 do usuário que ativou o wired"},{name:"executor_tag2",description:"Tag 2 do usuário que ativou o wired.",explanation:"a tag 2 do usuário que ativou o wired"},{name:"executor_tag3",description:"Tag 3 do usuário que ativou o wired.",explanation:"a tag 3 do usuário que ativou o wired"},{name:"executor_tag4",description:"Tag 4 do usuário que ativou o wired.",explanation:"a tag 4 do usuário que ativou o wired"},{name:"executor_tag5",description:"Tag 5 do usuário que ativou o wired.",explanation:"a tag 5 do usuário que ativou o wired"},{name:"random_selector_username",description:"Nome de um usuário aleatório na seleção.",explanation:"o nome de um usuário aleatório na seleção"},{name:"random_selector_user_tag",description:"Tag 1 de um usuário aleatório na seleção.",explanation:"a tag 1 de um usuário aleatório na seleção"},{name:"random_selector_user_tag1",description:"Tag 1 de um usuário aleatório na seleção.",explanation:"a tag 1 de um usuário aleatório na seleção"},{name:"random_selector_user_tag2",description:"Tag 2 de um usuário aleatório na seleção.",explanation:"a tag 2 de um usuário aleatório na seleção"},{name:"random_selector_user_tag3",description:"Tag 3 de um usuário aleatório na seleção.",explanation:"a tag 3 de um usuário aleatório na seleção"},{name:"random_selector_user_tag4",description:"Tag 4 de um usuário aleatório na seleção.",explanation:"a tag 4 de um usuário aleatório na seleção"},{name:"random_selector_user_tag5",description:"Tag 5 de um usuário aleatório na seleção.",explanation:"a tag 5 de um usuário aleatório na seleção"},{name:"random_signal_username",description:"Nome de um usuário aleatório do sinal.",explanation:"o nome de um usuário aleatório do sinal"},{name:"random_signal_user_tag",description:"Tag 1 de um usuário aleatório do sinal.",explanation:"a tag 1 de um usuário aleatório do sinal"},{name:"random_signal_user_tag1",description:"Tag 1 de um usuário aleatório do sinal.",explanation:"a tag 1 de um usuário aleatório do sinal"},{name:"random_signal_user_tag2",description:"Tag 2 de um usuário aleatório do sinal.",explanation:"a tag 2 de um usuário aleatório do sinal"},{name:"random_signal_user_tag3",description:"Tag 3 de um usuário aleatório do sinal.",explanation:"a tag 3 de um usuário aleatório do sinal"},{name:"random_signal_user_tag4",description:"Tag 4 de um usuário aleatório do sinal.",explanation:"a tag 4 de um usuário aleatório do sinal"},{name:"random_signal_user_tag5",description:"Tag 5 de um usuário aleatório do sinal.",explanation:"a tag 5 de um usuário aleatório do sinal"},{name:"random_selector_state",description:"Estado de um mobi aleatório na seleção.",explanation:"o estado de um mobi aleatório na seleção"},{name:"random_signal_state",description:"Estado de um mobi aleatório do sinal.",explanation:"o estado de um mobi aleatório do sinal"},{name:"random_selector_furni_id",description:"ID de um mobi aleatório na seleção.",explanation:"o ID de um mobi aleatório na seleção"},{name:"random_signal_furni_id",description:"ID de um mobi aleatório do sinal.",explanation:"o ID de um mobi aleatório do sinal"},{name:"selector_user_count",description:"Quantidade de usuários na seleção.",explanation:"a quantidade de usuários na seleção"},{name:"selector_furni_count",description:"Quantidade de mobis na seleção.",explanation:"a quantidade de mobis na seleção"},{name:"selector_total_count",description:"Quantidade total selecionada.",explanation:"a quantidade total selecionada"},{name:"signal_user_count",description:"Quantidade de usuários no sinal.",explanation:"a quantidade de usuários no sinal"},{name:"signal_furni_count",description:"Quantidade de mobis no sinal.",explanation:"a quantidade de mobis no sinal"},{name:"signal_total_count",description:"Quantidade total sinalizada.",explanation:"a quantidade total sinalizada"},{name:"executor_totalpoints",description:"Pontuação total do usuário que ativou o wired.",explanation:"a pontuação total do usuário que ativou o wired"},{name:"executor_daypoints",description:"Pontuação diária do usuário que ativou o wired.",explanation:"a pontuação diária do usuário que ativou o wired"},{name:"random_selector_user_totalpoints",description:"Pontuação total de um usuário aleatório na seleção.",explanation:"a pontuação total de um usuário aleatório na seleção"},{name:"random_selector_user_daypoints",description:"Pontuação diária de um usuário aleatório na seleção.",explanation:"a pontuação diária de um usuário aleatório na seleção"},{name:"random_signal_user_totalpoints",description:"Pontuação total de um usuário aleatório do sinal.",explanation:"a pontuação total de um usuário aleatório do sinal"},{name:"random_signal_user_daypoints",description:"Pontuação diária de um usuário aleatório do sinal.",explanation:"a pontuação diária de um usuário aleatório do sinal"}],operators=[{name:"equals",description:"Se o primeiro valor for igual ao segundo valor.",usage:"%1:equals:%2",explanation:"Se %1 for igual a%2.",args:{1:{type:"string|int",name:"variavel",description:"Placeholder ou valor para comparar."},2:{type:"string|int",name:"valor",description:"Placeholder ou valor para comparar."}}},{name:"notequals",description:"Se o primeiro valor não for igual ao segundo valor.",usage:"%1:notequals:%2",explanation:"Se %1 não for igual a%2.",args:{1:{type:"string|int",name:"variavel",description:"Placeholder ou valor para comparar."},2:{type:"string|int",name:"valor",description:"Placeholder ou valor para comparar."}}},{name:"greaterthan",description:"Se o primeiro valor for maior que o segundo valor.",usage:"%1:greaterthan:%2",explanation:"Se %1 for maior que %2.",args:{1:{type:"int",name:"variavel",description:"Valor para comparar."},2:{type:"int",name:"valor",description:"Valor para comparar."}}},{name:"lessthan",description:"Se o primeiro valor for menor que o segundo valor.",usage:"%1:lessthan:%2",explanation:"Se %1 for menor que %2.",args:{1:{type:"int",name:"variavel",description:"Valor para comparar."},2:{type:"int",name:"valor",description:"Valor para comparar."}}}],superwiredJson={action,condition,placeholders,operators};var Type=(ie=>(ie.Boolean="boolean",ie.Enum="enum",ie.Gender="gender",ie.Int="int",ie.MobiName="mobi_name",ie.String="string",ie.StringInt="string|int",ie))(Type||{});class Convert{static toSuperWired(ee){return cast(JSON.parse(ee),r("SuperWired"))}static superWiredToJson(ee){return JSON.stringify(uncast(ee,r("SuperWired")),null,2)}}function invalidValue(ie,ee,te,se=""){const ne=prettyTypeName(ie),le=se?` on ${se}`:"",ue=te?` for key "${te}"`:"";throw Error(`Invalid value${ue}${le}. Expected ${ne} but got ${JSON.stringify(ee)}`)}function prettyTypeName(ie){return Array.isArray(ie)?ie.length===2&&ie[0]===void 0?`an optional ${prettyTypeName(ie[1])}`:`one of [${ie.map(ee=>prettyTypeName(ee)).join(", ")}]`:typeof ie=="object"&&ie.literal!==void 0?ie.literal:typeof ie}function jsonToJSProps(ie){if(ie.jsonToJS===void 0){const ee={};ie.props.forEach(te=>ee[te.json]={key:te.js,typ:te.typ}),ie.jsonToJS=ee}return ie.jsonToJS}function jsToJSONProps(ie){if(ie.jsToJSON===void 0){const ee={};ie.props.forEach(te=>ee[te.js]={key:te.json,typ:te.typ}),ie.jsToJSON=ee}return ie.jsToJSON}function transform(ie,ee,te,se="",ne=""){function le(ye,be){return typeof ye==typeof be?be:invalidValue(ye,be,se,ne)}function ue(ye,be){const Pe=ye.length;for(let Ne=0;Ne<Pe;Ne++){const we=ye[Ne];try{return transform(be,we,te)}catch{}}return invalidValue(ye,be,se,ne)}function ce(ye,be){return ye.indexOf(be)!==-1?be:invalidValue(ye.map(Pe=>l(Pe)),be,se,ne)}function he(ye,be){return Array.isArray(be)?be.map(Pe=>transform(Pe,ye,te)):invalidValue(l("array"),be,se,ne)}function de(ye){if(ye===null)return null;const be=new Date(ye);return isNaN(be.valueOf())?invalidValue(l("Date"),ye,se,ne):be}function _e(ye,be,Pe){if(Pe===null||typeof Pe!="object"||Array.isArray(Pe))return invalidValue(l(fe||"object"),Pe,se,ne);const Ne={};return Object.getOwnPropertyNames(ye).forEach(we=>{const De=ye[we],$e=Object.prototype.hasOwnProperty.call(Pe,we)?Pe[we]:void 0;Ne[De.key]=transform($e,De.typ,te,we,fe)}),Object.getOwnPropertyNames(Pe).forEach(we=>{Object.prototype.hasOwnProperty.call(ye,we)||(Ne[we]=transform(Pe[we],be,te,we,fe))}),Ne}if(ee==="any")return ie;if(ee===null)return ie===null?ie:invalidValue(ee,ie,se,ne);if(ee===!1)return invalidValue(ee,ie,se,ne);let fe;for(;typeof ee=="object"&&ee.ref!==void 0;)fe=ee.ref,ee=typeMap[ee.ref];return Array.isArray(ee)?ce(ee,ie):typeof ee=="object"?ee.hasOwnProperty("unionMembers")?ue(ee.unionMembers,ie):ee.hasOwnProperty("arrayItems")?he(ee.arrayItems,ie):ee.hasOwnProperty("props")?_e(te(ee),ee.additional,ie):invalidValue(ee,ie,se,ne):ee===Date&&typeof ie!="number"?de(ie):le(ee,ie)}function cast(ie,ee){return transform(ie,ee,jsonToJSProps)}function uncast(ie,ee){return transform(ie,ee,jsToJSONProps)}function l(ie){return{literal:ie}}function a(ie){return{arrayItems:ie}}function u(...ie){return{unionMembers:ie}}function o(ie,ee){return{props:ie,additional:ee}}function m(ie){return{props:[],additional:ie}}function r(ie){return{ref:ie}}const typeMap={SuperWired:o([{json:"action",js:"action",typ:a(r("Action"))},{json:"condition",js:"condition",typ:a(r("Condition"))},{json:"placeholders",js:"placeholders",typ:a(r("Placeholder"))},{json:"operators",js:"operators",typ:a(r("Operator"))}],!1),Action:o([{json:"name",js:"name",typ:""},{json:"description",js:"description",typ:""},{json:"usage",js:"usage",typ:""},{json:"explanation",js:"explanation",typ:u(void 0,u(r("PurpleExplanation"),""))},{json:"args",js:"args",typ:u(void 0,m(r("Arg")))}],!1),Arg:o([{json:"name",js:"name",typ:u(void 0,"")},{json:"description",js:"description",typ:""},{json:"type",js:"type",typ:r("Type")},{json:"min",js:"min",typ:u(void 0,0)},{json:"max",js:"max",typ:u(void 0,0)},{json:"options",js:"options",typ:u(void 0,a(""))}],!1),PurpleExplanation:o([{json:"true",js:"true",typ:u(void 0,"")},{json:"false",js:"false",typ:u(void 0,"")},{json:"stand",js:"stand",typ:u(void 0,"")},{json:"sit",js:"sit",typ:u(void 0,"")},{json:"lay",js:"lay",typ:u(void 0,"")}],!1),Condition:o([{json:"name",js:"name",typ:""},{json:"description",js:"description",typ:""},{json:"usage",js:"usage",typ:""},{json:"explanation",js:"explanation",typ:u(void 0,u(r("FluffyExplanation"),null,""))},{json:"args",js:"args",typ:u(void 0,r("Args"))}],!1),Args:o([{json:"1",js:"1",typ:r("The1")}],!1),The1:o([{json:"name",js:"name",typ:""},{json:"type",js:"type",typ:r("Type")},{json:"description",js:"description",typ:""}],!1),FluffyExplanation:o([{json:"M",js:"M",typ:""},{json:"F",js:"F",typ:""}],!1),Operator:o([{json:"name",js:"name",typ:""},{json:"description",js:"description",typ:""},{json:"usage",js:"usage",typ:""},{json:"explanation",js:"explanation",typ:""},{json:"args",js:"args",typ:m(r("The1"))}],!1),Placeholder:o([{json:"name",js:"name",typ:""},{json:"description",js:"description",typ:""},{json:"explanation",js:"explanation",typ:""}],!1),Type:["boolean","enum","gender","int","mobi_name","string","string|int"]},superwired=Convert.toSuperWired(JSON.stringify(superwiredJson));class ParsedItem{constructor(ee,te,se,ne,le,ue){this.label=ee,this.value=te,this.explanation=se,this.isAllArgsFilled=ne,this.description=le,this.argsCount=ue}static parse(ee,te){return te.explanation?new ParsedItem(ee,te,this.fillExplanation(ee,te),checkAreAllArgsFilled(ee,te.usage),te.description,this.getArgsCount(te)):new ParsedItem(ee,te,te.description,!0,te.description,this.getArgsCount(te))}static fillExplanation(ee,te){if(!te.explanation)return te.description;const se=te.usage.replace(/%[0-9]+/g,"(.*?)")+"$",ne=new RegExp(se);let ue=ee.match(ne).slice(1);if(ue=ue.map(de=>de.trim()).filter(de=>de.length>0),ue.length===0||!(ue.length===this.getArgsCount(te)))return te.description;let he=te.explanation;if(ee.includes("randomteleport"),typeof he=="string")for(let de=0;de<ue.length;de++){let _e=ue[de];const fe=superwired.placeholders.find(be=>`%${be.name}%`===_e);if(fe&&fe.explanation)_e=fe.explanation;else{const be=/^\d+$/.test(_e);he.includes(`"%${de+1}`)||(be?_e=` ${_e}`:_e.startsWith("{")&&_e.endsWith("}")?_e=`o resultado do cálculo "${_e}"`:_e=`o valor "${_e}"`)}de+1==2&&he.includes("igual a%2")&&_e.startsWith("a")&&(_e=_e.slice(1));const ye=new RegExp(`"%${de+1}"`);fe&&fe.explanation&&ye.test(he)?he=he.replace(`"%${de+1}"`,_e):he=he.replace(`%${de+1}`,_e)}else typeof he=="object"&&(he=he[ue[0]]||"");return he}static getArgsCount(ee){return ee.args?Object.keys(ee.args).length:0}static getItemMatchingByUsage(ee){return[...superwired.operators,...superwired.action,...superwired.condition].find(ne=>this.usageMatches(ee,ne.usage||""))}static usageMatches(ee,te){const se="^"+te.replace(/%[0-9]+/g,"([^:]*?)")+".*$";return new RegExp(se).test(ee)}static createItemLabel(ee,te){const se=te;let ne=se;const le=se.match(/%[0-9]+/g)||[];for(const ue of le){const ce=parseInt(ue.replace(/%/g,"")),he=ee.args[ce];he&&(ne=ne.replace(ue,`{${he.name}}`))}return ne}}function createComposedItem(ie,ee){const te=ee.reduce((he,de)=>he&&de==="",!0);let se=ie.usage,ne=ie.usage,le=ie.usage,ue=ie.usage;for(let he=0;he<ee.length;he++)ue=ue.replace(`%${he+1}`,ee[he]);ne=ue,se=ue,te||(le=ue);const ce=ParsedItem.parse(ne,ie);return{label:ParsedItem.createItemLabel(ie,le),value:se,explanation:ce.explanation}}function createComposedPlaceholder(ie){return{label:`%${ie.name}%`,value:`%${ie.name}%`,explanation:ie.description}}function createComposedOperator(ie){return{label:`:${ie.name}:`,value:`:${ie.name}:`,explanation:ie.description}}function checkAreAllArgsFilled(ie,ee){const te=ee.replace(/%[0-9]+/g,".*?");return new RegExp(te).test(ie)}function composedCodes(ie){return(ie==="action"?superwired.action:superwired.condition).map(se=>{if(!se.args)return createComposedItem(se,[""]);const ne=[];if(Object.keys(se.args).length===1)if(se.args[1].type===Type.Boolean)ne.push(createComposedItem(se,["true"])),ne.push(createComposedItem(se,["false"]));else if(se.args[1].type===Type.Enum)for(const le of se.args[1].options||[])ne.push(createComposedItem(se,[le]));else se.args[1].type===Type.Gender?(ne.push(createComposedItem(se,["M"])),ne.push(createComposedItem(se,["F"]))):ne.push(createComposedItem(se,["",""]));else ne.push(createComposedItem(se,["",""]));return ne}).flat()}function SuperWiredInput({onChange:ie,defaultValue:ee,type:te}){const se=reactExports.useRef(null),ne=composedCodes(te),le=useCombobox({onDropdownClose:()=>le.resetSelectedOption(),defaultOpened:!1}),[ue,ce]=reactExports.useState(ee);reactExports.useEffect(()=>{ie(ue)},[ue,ie]);const[he,de]=reactExports.useState(null);let fe=ne.some($e=>$e.label.toLowerCase().startsWith(ue.toLowerCase().trim()))?ne.filter($e=>$e.label.toLowerCase().startsWith(ue.toLowerCase().trim())):[],ye=fe.map($e=>jsxRuntimeExports.jsxs(Combobox.Option,{value:$e.value,style:{padding:"4px 8px"},children:[jsxRuntimeExports.jsx(Text$1,{className:"combobox-option-text",style:{lineHeight:"normal",fontSize:12},children:$e.label}),jsxRuntimeExports.jsx(Text$1,{style:{lineHeight:"normal",fontSize:11.375,marginLeft:2,opacity:.7},children:$e.explanation})]},$e.label));if((ue.match(/%/g)||[]).length%2!==0){const $e=ue.replace(/%[^:%]*$/,""),Ge=ue.replace(/.*(%[^:%]*)$/,"$1");fe=superwired.placeholders.map(ze=>createComposedPlaceholder(ze)).filter(ze=>ze.label.startsWith(Ge)),ye=fe.map(ze=>jsxRuntimeExports.jsxs(Combobox.Option,{value:$e+ze.value,style:{padding:"4px 8px"},children:[jsxRuntimeExports.jsx(Text$1,{className:"combobox-option-text",style:{lineHeight:"normal",fontSize:12},children:ze.label}),jsxRuntimeExports.jsx(Text$1,{style:{lineHeight:"normal",fontSize:11.375,marginLeft:2,opacity:.7},children:ze.explanation})]},ze.label))}if(ue.match(/^[^:]+:[a-z]*$/gi)&&te==="condition"){const $e=ue.replace(/:[a-z]*$/gi,""),Ge=ue.replace(/.*(:[a-z]*)$/gi,"$1"),ze=superwired.operators.map($t=>createComposedOperator($t)).filter($t=>$t.label.startsWith(Ge));ye.push(...ze.map($t=>jsxRuntimeExports.jsxs(Combobox.Option,{value:$e+$t.value,style:{padding:"4px 8px"},children:[jsxRuntimeExports.jsx(Text$1,{className:"combobox-option-text",style:{lineHeight:"normal",fontSize:12},children:$t.label}),jsxRuntimeExports.jsx(Text$1,{style:{lineHeight:"normal",fontSize:11.375,marginLeft:2,opacity:.7},children:$t.explanation})]},$t.label)))}reactExports.useEffect(()=>{le.selectFirstOption()},[ue,le]);const[Ne,we]=reactExports.useState("");reactExports.useEffect(()=>{const $e=ParsedItem.getItemMatchingByUsage(ue);if(!$e){we("");return}const Ge=ParsedItem.parse(ue,$e);we(Ge.explanation||Ge.description)},[ue,he]);const De=ye.length===0;return jsxRuntimeExports.jsx(MantineProvider,{forceColorScheme:"light",cssVariablesSelector:"#hibisco-root2",withCssVariables:!0,deduplicateCssVariables:!1,getRootElement:()=>document.getElementById("hibisco-root2"),theme:{fontFamily:"Ubuntu Leet"},children:jsxRuntimeExports.jsxs("div",{id:"hibisco-root2",className:"relative",children:[jsxRuntimeExports.jsxs(Combobox,{withinPortal:!1,onOptionSubmit:$e=>{ce($e),le.closeDropdown();const Ge=ne.find(Be=>Be.label===$e);Ge&&de(Ge.value)},store:le,children:[jsxRuntimeExports.jsx(Combobox.Target,{children:jsxRuntimeExports.jsx(TextInput$1,{ref:se,label:"Código Super Wired:",placeholder:"",value:ue,onChange:$e=>{ce($e.currentTarget.value),le.openDropdown()},onClick:()=>le.openDropdown(),onFocus:()=>le.openDropdown(),onBlur:()=>le.closeDropdown(),classNames:{root:"p-0 h-fit w-full box-border",wrapper:"p-0 h-fit w-full box-border",label:"font-bold text-[13px]",input:"text-[12px] px-[8px] py-[4px] h-[28.9px] w-full box-border min-h-[28.9px]"},styles:{root:{fontFamily:"Ubuntu Leet"}}})}),jsxRuntimeExports.jsx(Combobox.Dropdown,{hidden:De,style:{zIndex:402},left:0,children:jsxRuntimeExports.jsx(Combobox.Options,{children:jsxRuntimeExports.jsx(ScrollArea.Autosize,{type:"scroll",mah:200,children:ye})})})]}),jsxRuntimeExports.jsx(Text$1,{w:"100%",style:{fontSize:11.375,opacity:.7},className:!le.dropdownOpened||De?"visible":"hidden",children:Ne})]})})}const waitMs$1=ie=>new Promise(ee=>setTimeout(ee,ie));var server_browser={},reactDomServerLegacy_browser_production_min={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomServerLegacy_browser_production_min;function requireReactDomServerLegacy_browser_production_min(){if(hasRequiredReactDomServerLegacy_browser_production_min)return reactDomServerLegacy_browser_production_min;hasRequiredReactDomServerLegacy_browser_production_min=1;var ie=requireReact();function ee(zn){for(var iE="https://reactjs.org/docs/error-decoder.html?invariant="+zn,cE=1;cE<arguments.length;cE++)iE+="&args[]="+encodeURIComponent(arguments[cE]);return"Minified React error #"+zn+"; visit "+iE+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var te=Object.prototype.hasOwnProperty,se=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ne={},le={};function ue(zn){return te.call(le,zn)?!0:te.call(ne,zn)?!1:se.test(zn)?le[zn]=!0:(ne[zn]=!0,!1)}function ce(zn,iE,cE,_E,wE,IE,GE){this.acceptsBooleans=iE===2||iE===3||iE===4,this.attributeName=_E,this.attributeNamespace=wE,this.mustUseProperty=cE,this.propertyName=zn,this.type=iE,this.sanitizeURL=IE,this.removeEmptyString=GE}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(zn){he[zn]=new ce(zn,0,!1,zn,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(zn){var iE=zn[0];he[iE]=new ce(iE,1,!1,zn[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(zn){he[zn]=new ce(zn,2,!1,zn.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(zn){he[zn]=new ce(zn,2,!1,zn,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(zn){he[zn]=new ce(zn,3,!1,zn.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(zn){he[zn]=new ce(zn,3,!0,zn,null,!1,!1)}),["capture","download"].forEach(function(zn){he[zn]=new ce(zn,4,!1,zn,null,!1,!1)}),["cols","rows","size","span"].forEach(function(zn){he[zn]=new ce(zn,6,!1,zn,null,!1,!1)}),["rowSpan","start"].forEach(function(zn){he[zn]=new ce(zn,5,!1,zn.toLowerCase(),null,!1,!1)});var de=/[\-:]([a-z])/g;function _e(zn){return zn[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(zn){var iE=zn.replace(de,_e);he[iE]=new ce(iE,1,!1,zn,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(zn){var iE=zn.replace(de,_e);he[iE]=new ce(iE,1,!1,zn,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(zn){var iE=zn.replace(de,_e);he[iE]=new ce(iE,1,!1,zn,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(zn){he[zn]=new ce(zn,1,!1,zn.toLowerCase(),null,!1,!1)}),he.xlinkHref=new ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(zn){he[zn]=new ce(zn,1,!1,zn.toLowerCase(),null,!0,!0)});var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];Object.keys(fe).forEach(function(zn){ye.forEach(function(iE){iE=iE+zn.charAt(0).toUpperCase()+zn.substring(1),fe[iE]=fe[zn]})});var be=/["'&<>]/;function Pe(zn){if(typeof zn=="boolean"||typeof zn=="number")return""+zn;zn=""+zn;var iE=be.exec(zn);if(iE){var cE="",_E,wE=0;for(_E=iE.index;_E<zn.length;_E++){switch(zn.charCodeAt(_E)){case 34:iE="&quot;";break;case 38:iE="&amp;";break;case 39:iE="&#x27;";break;case 60:iE="&lt;";break;case 62:iE="&gt;";break;default:continue}wE!==_E&&(cE+=zn.substring(wE,_E)),wE=_E+1,cE+=iE}zn=wE!==_E?cE+zn.substring(wE,_E):cE}return zn}var Ne=/([A-Z])/g,we=/^ms-/,De=Array.isArray;function $e(zn,iE){return{insertionMode:zn,selectedValue:iE}}function Ge(zn,iE,cE){switch(iE){case"select":return $e(1,cE.value!=null?cE.value:cE.defaultValue);case"svg":return $e(2,null);case"math":return $e(3,null);case"foreignObject":return $e(1,null);case"table":return $e(4,null);case"thead":case"tbody":case"tfoot":return $e(5,null);case"colgroup":return $e(7,null);case"tr":return $e(6,null)}return 4<=zn.insertionMode||zn.insertionMode===0?$e(1,null):zn}var Be=new Map;function ze(zn,iE,cE){if(typeof cE!="object")throw Error(ee(62));iE=!0;for(var _E in cE)if(te.call(cE,_E)){var wE=cE[_E];if(wE!=null&&typeof wE!="boolean"&&wE!==""){if(_E.indexOf("--")===0){var IE=Pe(_E);wE=Pe((""+wE).trim())}else{IE=_E;var GE=Be.get(IE);GE!==void 0||(GE=Pe(IE.replace(Ne,"-$1").toLowerCase().replace(we,"-ms-")),Be.set(IE,GE)),IE=GE,wE=typeof wE=="number"?wE===0||te.call(fe,_E)?""+wE:wE+"px":Pe((""+wE).trim())}iE?(iE=!1,zn.push(' style="',IE,":",wE)):zn.push(";",IE,":",wE)}}iE||zn.push('"')}function $t(zn,iE,cE,_E){switch(cE){case"style":ze(zn,iE,_E);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<cE.length)||cE[0]!=="o"&&cE[0]!=="O"||cE[1]!=="n"&&cE[1]!=="N"){if(iE=he.hasOwnProperty(cE)?he[cE]:null,iE!==null){switch(typeof _E){case"function":case"symbol":return;case"boolean":if(!iE.acceptsBooleans)return}switch(cE=iE.attributeName,iE.type){case 3:_E&&zn.push(" ",cE,'=""');break;case 4:_E===!0?zn.push(" ",cE,'=""'):_E!==!1&&zn.push(" ",cE,'="',Pe(_E),'"');break;case 5:isNaN(_E)||zn.push(" ",cE,'="',Pe(_E),'"');break;case 6:!isNaN(_E)&&1<=_E&&zn.push(" ",cE,'="',Pe(_E),'"');break;default:iE.sanitizeURL&&(_E=""+_E),zn.push(" ",cE,'="',Pe(_E),'"')}}else if(ue(cE)){switch(typeof _E){case"function":case"symbol":return;case"boolean":if(iE=cE.toLowerCase().slice(0,5),iE!=="data-"&&iE!=="aria-")return}zn.push(" ",cE,'="',Pe(_E),'"')}}}function ut(zn,iE,cE){if(iE!=null){if(cE!=null)throw Error(ee(60));if(typeof iE!="object"||!("__html"in iE))throw Error(ee(61));iE=iE.__html,iE!=null&&zn.push(""+iE)}}function Ti(zn){var iE="";return ie.Children.forEach(zn,function(cE){cE!=null&&(iE+=cE)}),iE}function Hi(zn,iE,cE,_E){zn.push(Pm(cE));var wE=cE=null,IE;for(IE in iE)if(te.call(iE,IE)){var GE=iE[IE];if(GE!=null)switch(IE){case"children":cE=GE;break;case"dangerouslySetInnerHTML":wE=GE;break;default:$t(zn,_E,IE,GE)}}return zn.push(">"),ut(zn,wE,cE),typeof cE=="string"?(zn.push(Pe(cE)),null):cE}var bn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,gd=new Map;function Pm(zn){var iE=gd.get(zn);if(iE===void 0){if(!bn.test(zn))throw Error(ee(65,zn));iE="<"+zn,gd.set(zn,iE)}return iE}function oE(zn,iE,cE,_E,wE){switch(iE){case"select":zn.push(Pm("select"));var IE=null,GE=null;for(OR in cE)if(te.call(cE,OR)){var ly=cE[OR];if(ly!=null)switch(OR){case"children":IE=ly;break;case"dangerouslySetInnerHTML":GE=ly;break;case"defaultValue":case"value":break;default:$t(zn,_E,OR,ly)}}return zn.push(">"),ut(zn,GE,IE),IE;case"option":GE=wE.selectedValue,zn.push(Pm("option"));var rR=ly=null,RR=null,OR=null;for(IE in cE)if(te.call(cE,IE)){var ZR=cE[IE];if(ZR!=null)switch(IE){case"children":ly=ZR;break;case"selected":RR=ZR;break;case"dangerouslySetInnerHTML":OR=ZR;break;case"value":rR=ZR;default:$t(zn,_E,IE,ZR)}}if(GE!=null)if(cE=rR!==null?""+rR:Ti(ly),De(GE)){for(_E=0;_E<GE.length;_E++)if(""+GE[_E]===cE){zn.push(' selected=""');break}}else""+GE===cE&&zn.push(' selected=""');else RR&&zn.push(' selected=""');return zn.push(">"),ut(zn,OR,ly),ly;case"textarea":zn.push(Pm("textarea")),OR=GE=IE=null;for(ly in cE)if(te.call(cE,ly)&&(rR=cE[ly],rR!=null))switch(ly){case"children":OR=rR;break;case"value":IE=rR;break;case"defaultValue":GE=rR;break;case"dangerouslySetInnerHTML":throw Error(ee(91));default:$t(zn,_E,ly,rR)}if(IE===null&&GE!==null&&(IE=GE),zn.push(">"),OR!=null){if(IE!=null)throw Error(ee(92));if(De(OR)&&1<OR.length)throw Error(ee(93));IE=""+OR}return typeof IE=="string"&&IE[0]===`
`&&zn.push(`
`),IE!==null&&zn.push(Pe(""+IE)),null;case"input":zn.push(Pm("input")),rR=OR=ly=IE=null;for(GE in cE)if(te.call(cE,GE)&&(RR=cE[GE],RR!=null))switch(GE){case"children":case"dangerouslySetInnerHTML":throw Error(ee(399,"input"));case"defaultChecked":rR=RR;break;case"defaultValue":ly=RR;break;case"checked":OR=RR;break;case"value":IE=RR;break;default:$t(zn,_E,GE,RR)}return OR!==null?$t(zn,_E,"checked",OR):rR!==null&&$t(zn,_E,"checked",rR),IE!==null?$t(zn,_E,"value",IE):ly!==null&&$t(zn,_E,"value",ly),zn.push("/>"),null;case"menuitem":zn.push(Pm("menuitem"));for(var SI in cE)if(te.call(cE,SI)&&(IE=cE[SI],IE!=null))switch(SI){case"children":case"dangerouslySetInnerHTML":throw Error(ee(400));default:$t(zn,_E,SI,IE)}return zn.push(">"),null;case"title":zn.push(Pm("title")),IE=null;for(ZR in cE)if(te.call(cE,ZR)&&(GE=cE[ZR],GE!=null))switch(ZR){case"children":IE=GE;break;case"dangerouslySetInnerHTML":throw Error(ee(434));default:$t(zn,_E,ZR,GE)}return zn.push(">"),IE;case"listing":case"pre":zn.push(Pm(iE)),GE=IE=null;for(rR in cE)if(te.call(cE,rR)&&(ly=cE[rR],ly!=null))switch(rR){case"children":IE=ly;break;case"dangerouslySetInnerHTML":GE=ly;break;default:$t(zn,_E,rR,ly)}if(zn.push(">"),GE!=null){if(IE!=null)throw Error(ee(60));if(typeof GE!="object"||!("__html"in GE))throw Error(ee(61));cE=GE.__html,cE!=null&&(typeof cE=="string"&&0<cE.length&&cE[0]===`
`?zn.push(`
`,cE):zn.push(""+cE))}return typeof IE=="string"&&IE[0]===`
`&&zn.push(`
`),IE;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":zn.push(Pm(iE));for(var bI in cE)if(te.call(cE,bI)&&(IE=cE[bI],IE!=null))switch(bI){case"children":case"dangerouslySetInnerHTML":throw Error(ee(399,iE));default:$t(zn,_E,bI,IE)}return zn.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Hi(zn,cE,iE,_E);case"html":return wE.insertionMode===0&&zn.push("<!DOCTYPE html>"),Hi(zn,cE,iE,_E);default:if(iE.indexOf("-")===-1&&typeof cE.is!="string")return Hi(zn,cE,iE,_E);zn.push(Pm(iE)),GE=IE=null;for(RR in cE)if(te.call(cE,RR)&&(ly=cE[RR],ly!=null))switch(RR){case"children":IE=ly;break;case"dangerouslySetInnerHTML":GE=ly;break;case"style":ze(zn,_E,ly);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ue(RR)&&typeof ly!="function"&&typeof ly!="symbol"&&zn.push(" ",RR,'="',Pe(ly),'"')}return zn.push(">"),ut(zn,GE,IE),IE}}function aE(zn,iE,cE){if(zn.push('<!--$?--><template id="'),cE===null)throw Error(ee(395));return zn.push(cE),zn.push('"></template>')}function nE(zn,iE,cE,_E){switch(cE.insertionMode){case 0:case 1:return zn.push('<div hidden id="'),zn.push(iE.segmentPrefix),iE=_E.toString(16),zn.push(iE),zn.push('">');case 2:return zn.push('<svg aria-hidden="true" style="display:none" id="'),zn.push(iE.segmentPrefix),iE=_E.toString(16),zn.push(iE),zn.push('">');case 3:return zn.push('<math aria-hidden="true" style="display:none" id="'),zn.push(iE.segmentPrefix),iE=_E.toString(16),zn.push(iE),zn.push('">');case 4:return zn.push('<table hidden id="'),zn.push(iE.segmentPrefix),iE=_E.toString(16),zn.push(iE),zn.push('">');case 5:return zn.push('<table hidden><tbody id="'),zn.push(iE.segmentPrefix),iE=_E.toString(16),zn.push(iE),zn.push('">');case 6:return zn.push('<table hidden><tr id="'),zn.push(iE.segmentPrefix),iE=_E.toString(16),zn.push(iE),zn.push('">');case 7:return zn.push('<table hidden><colgroup id="'),zn.push(iE.segmentPrefix),iE=_E.toString(16),zn.push(iE),zn.push('">');default:throw Error(ee(397))}}function On(zn,iE){switch(iE.insertionMode){case 0:case 1:return zn.push("</div>");case 2:return zn.push("</svg>");case 3:return zn.push("</math>");case 4:return zn.push("</table>");case 5:return zn.push("</tbody></table>");case 6:return zn.push("</tr></table>");case 7:return zn.push("</colgroup></table>");default:throw Error(ee(397))}}var nh=/[<\u2028\u2029]/g;function Hn(zn){return JSON.stringify(zn).replace(nh,function(iE){switch(iE){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Xp(zn,iE){return iE=iE===void 0?"":iE,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:iE+"P:",segmentPrefix:iE+"S:",boundaryPrefix:iE+"B:",idPrefix:iE,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:zn}}function Jp(zn,iE,cE,_E){return cE.generateStaticMarkup?(zn.push(Pe(iE)),!1):(iE===""?zn=_E:(_E&&zn.push("<!-- -->"),zn.push(Pe(iE)),zn=!0),zn)}var md=Object.assign,eE=Symbol.for("react.element"),hE=Symbol.for("react.portal"),mE=Symbol.for("react.fragment"),fE=Symbol.for("react.strict_mode"),yE=Symbol.for("react.profiler"),AE=Symbol.for("react.provider"),bE=Symbol.for("react.context"),ME=Symbol.for("react.forward_ref"),SE=Symbol.for("react.suspense"),jE=Symbol.for("react.suspense_list"),$E=Symbol.for("react.memo"),zE=Symbol.for("react.lazy"),YE=Symbol.for("react.scope"),HE=Symbol.for("react.debug_trace_mode"),VE=Symbol.for("react.legacy_hidden"),TE=Symbol.for("react.default_value"),xE=Symbol.iterator;function BE(zn){if(zn==null)return null;if(typeof zn=="function")return zn.displayName||zn.name||null;if(typeof zn=="string")return zn;switch(zn){case mE:return"Fragment";case hE:return"Portal";case yE:return"Profiler";case fE:return"StrictMode";case SE:return"Suspense";case jE:return"SuspenseList"}if(typeof zn=="object")switch(zn.$$typeof){case bE:return(zn.displayName||"Context")+".Consumer";case AE:return(zn._context.displayName||"Context")+".Provider";case ME:var iE=zn.render;return zn=zn.displayName,zn||(zn=iE.displayName||iE.name||"",zn=zn!==""?"ForwardRef("+zn+")":"ForwardRef"),zn;case $E:return iE=zn.displayName||null,iE!==null?iE:BE(zn.type)||"Memo";case zE:iE=zn._payload,zn=zn._init;try{return BE(zn(iE))}catch{}}return null}var eR={};function sR(zn,iE){if(zn=zn.contextTypes,!zn)return eR;var cE={},_E;for(_E in zn)cE[_E]=iE[_E];return cE}var ZE=null;function vE(zn,iE){if(zn!==iE){zn.context._currentValue2=zn.parentValue,zn=zn.parent;var cE=iE.parent;if(zn===null){if(cE!==null)throw Error(ee(401))}else{if(cE===null)throw Error(ee(401));vE(zn,cE)}iE.context._currentValue2=iE.value}}function XE(zn){zn.context._currentValue2=zn.parentValue,zn=zn.parent,zn!==null&&XE(zn)}function pR(zn){var iE=zn.parent;iE!==null&&pR(iE),zn.context._currentValue2=zn.value}function CR(zn,iE){if(zn.context._currentValue2=zn.parentValue,zn=zn.parent,zn===null)throw Error(ee(402));zn.depth===iE.depth?vE(zn,iE):CR(zn,iE)}function MR(zn,iE){var cE=iE.parent;if(cE===null)throw Error(ee(402));zn.depth===cE.depth?vE(zn,cE):MR(zn,cE),iE.context._currentValue2=iE.value}function yR(zn){var iE=ZE;iE!==zn&&(iE===null?pR(zn):zn===null?XE(iE):iE.depth===zn.depth?vE(iE,zn):iE.depth>zn.depth?CR(iE,zn):MR(iE,zn),ZE=zn)}var VR={isMounted:function(){return!1},enqueueSetState:function(zn,iE){zn=zn._reactInternals,zn.queue!==null&&zn.queue.push(iE)},enqueueReplaceState:function(zn,iE){zn=zn._reactInternals,zn.replace=!0,zn.queue=[iE]},enqueueForceUpdate:function(){}};function jR(zn,iE,cE,_E){var wE=zn.state!==void 0?zn.state:null;zn.updater=VR,zn.props=cE,zn.state=wE;var IE={queue:[],replace:!1};zn._reactInternals=IE;var GE=iE.contextType;if(zn.context=typeof GE=="object"&&GE!==null?GE._currentValue2:_E,GE=iE.getDerivedStateFromProps,typeof GE=="function"&&(GE=GE(cE,wE),wE=GE==null?wE:md({},wE,GE),zn.state=wE),typeof iE.getDerivedStateFromProps!="function"&&typeof zn.getSnapshotBeforeUpdate!="function"&&(typeof zn.UNSAFE_componentWillMount=="function"||typeof zn.componentWillMount=="function"))if(iE=zn.state,typeof zn.componentWillMount=="function"&&zn.componentWillMount(),typeof zn.UNSAFE_componentWillMount=="function"&&zn.UNSAFE_componentWillMount(),iE!==zn.state&&VR.enqueueReplaceState(zn,zn.state,null),IE.queue!==null&&0<IE.queue.length)if(iE=IE.queue,GE=IE.replace,IE.queue=null,IE.replace=!1,GE&&iE.length===1)zn.state=iE[0];else{for(IE=GE?iE[0]:zn.state,wE=!0,GE=GE?1:0;GE<iE.length;GE++){var ly=iE[GE];ly=typeof ly=="function"?ly.call(zn,IE,cE,_E):ly,ly!=null&&(wE?(wE=!1,IE=md({},IE,ly)):md(IE,ly))}zn.state=IE}else IE.queue=null}var AO={id:1,overflow:""};function pM(zn,iE,cE){var _E=zn.id;zn=zn.overflow;var wE=32-HI(_E)-1;_E&=~(1<<wE),cE+=1;var IE=32-HI(iE)+wE;if(30<IE){var GE=wE-wE%5;return IE=(_E&(1<<GE)-1).toString(32),_E>>=GE,wE-=GE,{id:1<<32-HI(iE)+wE|cE<<wE|_E,overflow:IE+zn}}return{id:1<<IE|cE<<wE|_E,overflow:zn}}var HI=Math.clz32?Math.clz32:LE,xO=Math.log,PE=Math.LN2;function LE(zn){return zn>>>=0,zn===0?32:31-(xO(zn)/PE|0)|0}function GR(zn,iE){return zn===iE&&(zn!==0||1/zn===1/iE)||zn!==zn&&iE!==iE}var zR=typeof Object.is=="function"?Object.is:GR,DR=null,TR=null,cT=null,PR=null,nT=!1,AT=!1,gI=0,_T=null,fT=0;function FT(){if(DR===null)throw Error(ee(321));return DR}function PC(){if(0<fT)throw Error(ee(312));return{memoizedState:null,queue:null,next:null}}function mI(){return PR===null?cT===null?(nT=!1,cT=PR=PC()):(nT=!0,PR=cT):PR.next===null?(nT=!1,PR=PR.next=PC()):(nT=!0,PR=PR.next),PR}function eI(){TR=DR=null,AT=!1,cT=null,fT=0,PR=_T=null}function EI(zn,iE){return typeof iE=="function"?iE(zn):iE}function OO(zn,iE,cE){if(DR=FT(),PR=mI(),nT){var _E=PR.queue;if(iE=_E.dispatch,_T!==null&&(cE=_T.get(_E),cE!==void 0)){_T.delete(_E),_E=PR.memoizedState;do _E=zn(_E,cE.action),cE=cE.next;while(cE!==null);return PR.memoizedState=_E,[_E,iE]}return[PR.memoizedState,iE]}return zn=zn===EI?typeof iE=="function"?iE():iE:cE!==void 0?cE(iE):iE,PR.memoizedState=zn,zn=PR.queue={last:null,dispatch:null},zn=zn.dispatch=aO.bind(null,DR,zn),[PR.memoizedState,zn]}function vI(zn,iE){if(DR=FT(),PR=mI(),iE=iE===void 0?null:iE,PR!==null){var cE=PR.memoizedState;if(cE!==null&&iE!==null){var _E=cE[1];e:if(_E===null)_E=!1;else{for(var wE=0;wE<_E.length&&wE<iE.length;wE++)if(!zR(iE[wE],_E[wE])){_E=!1;break e}_E=!0}if(_E)return cE[0]}}return zn=zn(),PR.memoizedState=[zn,iE],zn}function aO(zn,iE,cE){if(25<=fT)throw Error(ee(301));if(zn===DR)if(AT=!0,zn={action:cE,next:null},_T===null&&(_T=new Map),cE=_T.get(iE),cE===void 0)_T.set(iE,zn);else{for(iE=cE;iE.next!==null;)iE=iE.next;iE.next=zn}}function CO(){throw Error(ee(394))}function VI(){}var NC={readContext:function(zn){return zn._currentValue2},useContext:function(zn){return FT(),zn._currentValue2},useMemo:vI,useReducer:OO,useRef:function(zn){DR=FT(),PR=mI();var iE=PR.memoizedState;return iE===null?(zn={current:zn},PR.memoizedState=zn):iE},useState:function(zn){return OO(EI,zn)},useInsertionEffect:VI,useLayoutEffect:function(){},useCallback:function(zn,iE){return vI(function(){return zn},iE)},useImperativeHandle:VI,useEffect:VI,useDebugValue:VI,useDeferredValue:function(zn){return FT(),zn},useTransition:function(){return FT(),[!1,CO]},useId:function(){var zn=TR.treeContext,iE=zn.overflow;zn=zn.id,zn=(zn&~(1<<32-HI(zn)-1)).toString(32)+iE;var cE=MO;if(cE===null)throw Error(ee(404));return iE=gI++,zn=":"+cE.idPrefix+"R"+zn,0<iE&&(zn+="H"+iE.toString(32)),zn+":"},useMutableSource:function(zn,iE){return FT(),iE(zn._source)},useSyncExternalStore:function(zn,iE,cE){if(cE===void 0)throw Error(ee(407));return cE()}},MO=null,PO=ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function yI(zn){return console.error(zn),null}function oO(){}function UC(zn,iE,cE,_E,wE,IE,GE,ly,rR){var RR=[],OR=new Set;return iE={destination:null,responseState:iE,progressiveChunkSize:_E===void 0?12800:_E,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:OR,pingedTasks:RR,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:wE===void 0?yI:wE,onAllReady:oO,onShellReady:GE===void 0?oO:GE,onShellError:oO,onFatalError:oO},cE=TI(iE,0,null,cE,!1,!1),cE.parentFlushed=!0,zn=RI(iE,zn,null,cE,OR,eR,null,AO),RR.push(zn),iE}function RI(zn,iE,cE,_E,wE,IE,GE,ly){zn.allPendingTasks++,cE===null?zn.pendingRootTasks++:cE.pendingTasks++;var rR={node:iE,ping:function(){var RR=zn.pingedTasks;RR.push(rR),RR.length===1&&tI(zn)},blockedBoundary:cE,blockedSegment:_E,abortSet:wE,legacyContext:IE,context:GE,treeContext:ly};return wE.add(rR),rR}function TI(zn,iE,cE,_E,wE,IE){return{status:0,id:-1,index:iE,parentFlushed:!1,chunks:[],children:[],formatContext:_E,boundary:cE,lastPushedText:wE,textEmbedded:IE}}function lO(zn,iE){if(zn=zn.onError(iE),zn!=null&&typeof zn!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof zn+'" instead');return zn}function uO(zn,iE){var cE=zn.onShellError;cE(iE),cE=zn.onFatalError,cE(iE),zn.destination!==null?(zn.status=2,zn.destination.destroy(iE)):(zn.status=1,zn.fatalError=iE)}function DP(zn,iE,cE,_E,wE){for(DR={},TR=iE,gI=0,zn=cE(_E,wE);AT;)AT=!1,gI=0,fT+=1,PR=null,zn=cE(_E,wE);return eI(),zn}function DN(zn,iE,cE,_E){var wE=cE.render(),IE=_E.childContextTypes;if(IE!=null){var GE=iE.legacyContext;if(typeof cE.getChildContext!="function")_E=GE;else{cE=cE.getChildContext();for(var ly in cE)if(!(ly in IE))throw Error(ee(108,BE(_E)||"Unknown",ly));_E=md({},GE,cE)}iE.legacyContext=_E,NT(zn,iE,wE),iE.legacyContext=GE}else NT(zn,iE,wE)}function LN(zn,iE){if(zn&&zn.defaultProps){iE=md({},iE),zn=zn.defaultProps;for(var cE in zn)iE[cE]===void 0&&(iE[cE]=zn[cE]);return iE}return iE}function JR(zn,iE,cE,_E,wE){if(typeof cE=="function")if(cE.prototype&&cE.prototype.isReactComponent){wE=sR(cE,iE.legacyContext);var IE=cE.contextType;IE=new cE(_E,typeof IE=="object"&&IE!==null?IE._currentValue2:wE),jR(IE,cE,_E,wE),DN(zn,iE,IE,cE)}else{IE=sR(cE,iE.legacyContext),wE=DP(zn,iE,cE,_E,IE);var GE=gI!==0;if(typeof wE=="object"&&wE!==null&&typeof wE.render=="function"&&wE.$$typeof===void 0)jR(wE,cE,_E,IE),DN(zn,iE,wE,cE);else if(GE){_E=iE.treeContext,iE.treeContext=pM(_E,1,0);try{NT(zn,iE,wE)}finally{iE.treeContext=_E}}else NT(zn,iE,wE)}else if(typeof cE=="string"){switch(wE=iE.blockedSegment,IE=oE(wE.chunks,cE,_E,zn.responseState,wE.formatContext),wE.lastPushedText=!1,GE=wE.formatContext,wE.formatContext=Ge(GE,cE,_E),WM(zn,iE,IE),wE.formatContext=GE,cE){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:wE.chunks.push("</",cE,">")}wE.lastPushedText=!1}else{switch(cE){case VE:case HE:case fE:case yE:case mE:NT(zn,iE,_E.children);return;case jE:NT(zn,iE,_E.children);return;case YE:throw Error(ee(343));case SE:e:{cE=iE.blockedBoundary,wE=iE.blockedSegment,IE=_E.fallback,_E=_E.children,GE=new Set;var ly={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:GE,errorDigest:null},rR=TI(zn,wE.chunks.length,ly,wE.formatContext,!1,!1);wE.children.push(rR),wE.lastPushedText=!1;var RR=TI(zn,0,null,wE.formatContext,!1,!1);RR.parentFlushed=!0,iE.blockedBoundary=ly,iE.blockedSegment=RR;try{if(WM(zn,iE,_E),zn.responseState.generateStaticMarkup||RR.lastPushedText&&RR.textEmbedded&&RR.chunks.push("<!-- -->"),RR.status=1,wO(ly,RR),ly.pendingTasks===0)break e}catch(OR){RR.status=4,ly.forceClientRender=!0,ly.errorDigest=lO(zn,OR)}finally{iE.blockedBoundary=cE,iE.blockedSegment=wE}iE=RI(zn,IE,cE,rR,GE,iE.legacyContext,iE.context,iE.treeContext),zn.pingedTasks.push(iE)}return}if(typeof cE=="object"&&cE!==null)switch(cE.$$typeof){case ME:if(_E=DP(zn,iE,cE.render,_E,wE),gI!==0){cE=iE.treeContext,iE.treeContext=pM(cE,1,0);try{NT(zn,iE,_E)}finally{iE.treeContext=cE}}else NT(zn,iE,_E);return;case $E:cE=cE.type,_E=LN(cE,_E),JR(zn,iE,cE,_E,wE);return;case AE:if(wE=_E.children,cE=cE._context,_E=_E.value,IE=cE._currentValue2,cE._currentValue2=_E,GE=ZE,ZE=_E={parent:GE,depth:GE===null?0:GE.depth+1,context:cE,parentValue:IE,value:_E},iE.context=_E,NT(zn,iE,wE),zn=ZE,zn===null)throw Error(ee(403));_E=zn.parentValue,zn.context._currentValue2=_E===TE?zn.context._defaultValue:_E,zn=ZE=zn.parent,iE.context=zn;return;case bE:_E=_E.children,_E=_E(cE._currentValue2),NT(zn,iE,_E);return;case zE:wE=cE._init,cE=wE(cE._payload),_E=LN(cE,_E),JR(zn,iE,cE,_E,void 0);return}throw Error(ee(130,cE==null?cE:typeof cE,""))}}function NT(zn,iE,cE){if(iE.node=cE,typeof cE=="object"&&cE!==null){switch(cE.$$typeof){case eE:JR(zn,iE,cE.type,cE.props,cE.ref);return;case hE:throw Error(ee(257));case zE:var _E=cE._init;cE=_E(cE._payload),NT(zn,iE,cE);return}if(De(cE)){zM(zn,iE,cE);return}if(cE===null||typeof cE!="object"?_E=null:(_E=xE&&cE[xE]||cE["@@iterator"],_E=typeof _E=="function"?_E:null),_E&&(_E=_E.call(cE))){if(cE=_E.next(),!cE.done){var wE=[];do wE.push(cE.value),cE=_E.next();while(!cE.done);zM(zn,iE,wE)}return}throw zn=Object.prototype.toString.call(cE),Error(ee(31,zn==="[object Object]"?"object with keys {"+Object.keys(cE).join(", ")+"}":zn))}typeof cE=="string"?(_E=iE.blockedSegment,_E.lastPushedText=Jp(iE.blockedSegment.chunks,cE,zn.responseState,_E.lastPushedText)):typeof cE=="number"&&(_E=iE.blockedSegment,_E.lastPushedText=Jp(iE.blockedSegment.chunks,""+cE,zn.responseState,_E.lastPushedText))}function zM(zn,iE,cE){for(var _E=cE.length,wE=0;wE<_E;wE++){var IE=iE.treeContext;iE.treeContext=pM(IE,_E,wE);try{WM(zn,iE,cE[wE])}finally{iE.treeContext=IE}}}function WM(zn,iE,cE){var _E=iE.blockedSegment.formatContext,wE=iE.legacyContext,IE=iE.context;try{return NT(zn,iE,cE)}catch(rR){if(eI(),typeof rR=="object"&&rR!==null&&typeof rR.then=="function"){cE=rR;var GE=iE.blockedSegment,ly=TI(zn,GE.chunks.length,null,GE.formatContext,GE.lastPushedText,!0);GE.children.push(ly),GE.lastPushedText=!1,zn=RI(zn,iE.node,iE.blockedBoundary,ly,iE.abortSet,iE.legacyContext,iE.context,iE.treeContext).ping,cE.then(zn,zn),iE.blockedSegment.formatContext=_E,iE.legacyContext=wE,iE.context=IE,yR(IE)}else throw iE.blockedSegment.formatContext=_E,iE.legacyContext=wE,iE.context=IE,yR(IE),rR}}function jC(zn){var iE=zn.blockedBoundary;zn=zn.blockedSegment,zn.status=3,zI(this,iE,zn)}function UN(zn,iE,cE){var _E=zn.blockedBoundary;zn.blockedSegment.status=3,_E===null?(iE.allPendingTasks--,iE.status!==2&&(iE.status=2,iE.destination!==null&&iE.destination.push(null))):(_E.pendingTasks--,_E.forceClientRender||(_E.forceClientRender=!0,zn=cE===void 0?Error(ee(432)):cE,_E.errorDigest=iE.onError(zn),_E.parentFlushed&&iE.clientRenderedBoundaries.push(_E)),_E.fallbackAbortableTasks.forEach(function(wE){return UN(wE,iE,cE)}),_E.fallbackAbortableTasks.clear(),iE.allPendingTasks--,iE.allPendingTasks===0&&(_E=iE.onAllReady,_E()))}function wO(zn,iE){if(iE.chunks.length===0&&iE.children.length===1&&iE.children[0].boundary===null){var cE=iE.children[0];cE.id=iE.id,cE.parentFlushed=!0,cE.status===1&&wO(zn,cE)}else zn.completedSegments.push(iE)}function zI(zn,iE,cE){if(iE===null){if(cE.parentFlushed){if(zn.completedRootSegment!==null)throw Error(ee(389));zn.completedRootSegment=cE}zn.pendingRootTasks--,zn.pendingRootTasks===0&&(zn.onShellError=oO,iE=zn.onShellReady,iE())}else iE.pendingTasks--,iE.forceClientRender||(iE.pendingTasks===0?(cE.parentFlushed&&cE.status===1&&wO(iE,cE),iE.parentFlushed&&zn.completedBoundaries.push(iE),iE.fallbackAbortableTasks.forEach(jC,zn),iE.fallbackAbortableTasks.clear()):cE.parentFlushed&&cE.status===1&&(wO(iE,cE),iE.completedSegments.length===1&&iE.parentFlushed&&zn.partialBoundaries.push(iE)));zn.allPendingTasks--,zn.allPendingTasks===0&&(zn=zn.onAllReady,zn())}function tI(zn){if(zn.status!==2){var iE=ZE,cE=PO.current;PO.current=NC;var _E=MO;MO=zn.responseState;try{var wE=zn.pingedTasks,IE;for(IE=0;IE<wE.length;IE++){var GE=wE[IE],ly=zn,rR=GE.blockedSegment;if(rR.status===0){yR(GE.context);try{NT(ly,GE,GE.node),ly.responseState.generateStaticMarkup||rR.lastPushedText&&rR.textEmbedded&&rR.chunks.push("<!-- -->"),GE.abortSet.delete(GE),rR.status=1,zI(ly,GE.blockedBoundary,rR)}catch(BT){if(eI(),typeof BT=="object"&&BT!==null&&typeof BT.then=="function"){var RR=GE.ping;BT.then(RR,RR)}else{GE.abortSet.delete(GE),rR.status=4;var OR=GE.blockedBoundary,ZR=BT,SI=lO(ly,ZR);if(OR===null?uO(ly,ZR):(OR.pendingTasks--,OR.forceClientRender||(OR.forceClientRender=!0,OR.errorDigest=SI,OR.parentFlushed&&ly.clientRenderedBoundaries.push(OR))),ly.allPendingTasks--,ly.allPendingTasks===0){var bI=ly.onAllReady;bI()}}}finally{}}}wE.splice(0,IE),zn.destination!==null&&NO(zn,zn.destination)}catch(BT){lO(zn,BT),uO(zn,BT)}finally{MO=_E,PO.current=cE,cE===NC&&yR(iE)}}}function _M(zn,iE,cE){switch(cE.parentFlushed=!0,cE.status){case 0:var _E=cE.id=zn.nextSegmentId++;return cE.lastPushedText=!1,cE.textEmbedded=!1,zn=zn.responseState,iE.push('<template id="'),iE.push(zn.placeholderPrefix),zn=_E.toString(16),iE.push(zn),iE.push('"></template>');case 1:cE.status=2;var wE=!0;_E=cE.chunks;var IE=0;cE=cE.children;for(var GE=0;GE<cE.length;GE++){for(wE=cE[GE];IE<wE.index;IE++)iE.push(_E[IE]);wE=yT(zn,iE,wE)}for(;IE<_E.length-1;IE++)iE.push(_E[IE]);return IE<_E.length&&(wE=iE.push(_E[IE])),wE;default:throw Error(ee(390))}}function yT(zn,iE,cE){var _E=cE.boundary;if(_E===null)return _M(zn,iE,cE);if(_E.parentFlushed=!0,_E.forceClientRender)return zn.responseState.generateStaticMarkup||(_E=_E.errorDigest,iE.push("<!--$!-->"),iE.push("<template"),_E&&(iE.push(' data-dgst="'),_E=Pe(_E),iE.push(_E),iE.push('"')),iE.push("></template>")),_M(zn,iE,cE),zn=zn.responseState.generateStaticMarkup?!0:iE.push("<!--/$-->"),zn;if(0<_E.pendingTasks){_E.rootSegmentID=zn.nextSegmentId++,0<_E.completedSegments.length&&zn.partialBoundaries.push(_E);var wE=zn.responseState,IE=wE.nextSuspenseID++;return wE=wE.boundaryPrefix+IE.toString(16),_E=_E.id=wE,aE(iE,zn.responseState,_E),_M(zn,iE,cE),iE.push("<!--/$-->")}if(_E.byteSize>zn.progressiveChunkSize)return _E.rootSegmentID=zn.nextSegmentId++,zn.completedBoundaries.push(_E),aE(iE,zn.responseState,_E.id),_M(zn,iE,cE),iE.push("<!--/$-->");if(zn.responseState.generateStaticMarkup||iE.push("<!--$-->"),cE=_E.completedSegments,cE.length!==1)throw Error(ee(391));return yT(zn,iE,cE[0]),zn=zn.responseState.generateStaticMarkup?!0:iE.push("<!--/$-->"),zn}function LP(zn,iE,cE){return nE(iE,zn.responseState,cE.formatContext,cE.id),yT(zn,iE,cE),On(iE,cE.formatContext)}function UP(zn,iE,cE){for(var _E=cE.completedSegments,wE=0;wE<_E.length;wE++)FP(zn,iE,cE,_E[wE]);if(_E.length=0,zn=zn.responseState,_E=cE.id,cE=cE.rootSegmentID,iE.push(zn.startInlineScript),zn.sentCompleteBoundaryFunction?iE.push('$RC("'):(zn.sentCompleteBoundaryFunction=!0,iE.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),_E===null)throw Error(ee(395));return cE=cE.toString(16),iE.push(_E),iE.push('","'),iE.push(zn.segmentPrefix),iE.push(cE),iE.push('")<\/script>')}function FP(zn,iE,cE,_E){if(_E.status===2)return!0;var wE=_E.id;if(wE===-1){if((_E.id=cE.rootSegmentID)===-1)throw Error(ee(392));return LP(zn,iE,_E)}return LP(zn,iE,_E),zn=zn.responseState,iE.push(zn.startInlineScript),zn.sentCompleteSegmentFunction?iE.push('$RS("'):(zn.sentCompleteSegmentFunction=!0,iE.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),iE.push(zn.segmentPrefix),wE=wE.toString(16),iE.push(wE),iE.push('","'),iE.push(zn.placeholderPrefix),iE.push(wE),iE.push('")<\/script>')}function NO(zn,iE){try{var cE=zn.completedRootSegment;if(cE!==null&&zn.pendingRootTasks===0){yT(zn,iE,cE),zn.completedRootSegment=null;var _E=zn.responseState.bootstrapChunks;for(cE=0;cE<_E.length-1;cE++)iE.push(_E[cE]);cE<_E.length&&iE.push(_E[cE])}var wE=zn.clientRenderedBoundaries,IE;for(IE=0;IE<wE.length;IE++){var GE=wE[IE];_E=iE;var ly=zn.responseState,rR=GE.id,RR=GE.errorDigest,OR=GE.errorMessage,ZR=GE.errorComponentStack;if(_E.push(ly.startInlineScript),ly.sentClientRenderFunction?_E.push('$RX("'):(ly.sentClientRenderFunction=!0,_E.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),rR===null)throw Error(ee(395));if(_E.push(rR),_E.push('"'),RR||OR||ZR){_E.push(",");var SI=Hn(RR||"");_E.push(SI)}if(OR||ZR){_E.push(",");var bI=Hn(OR||"");_E.push(bI)}if(ZR){_E.push(",");var BT=Hn(ZR);_E.push(BT)}if(!_E.push(")<\/script>")){zn.destination=null,IE++,wE.splice(0,IE);return}}wE.splice(0,IE);var DO=zn.completedBoundaries;for(IE=0;IE<DO.length;IE++)if(!UP(zn,iE,DO[IE])){zn.destination=null,IE++,DO.splice(0,IE);return}DO.splice(0,IE);var II=zn.partialBoundaries;for(IE=0;IE<II.length;IE++){var AI=II[IE];e:{wE=zn,GE=iE;var jT=AI.completedSegments;for(ly=0;ly<jT.length;ly++)if(!FP(wE,GE,AI,jT[ly])){ly++,jT.splice(0,ly);var WI=!1;break e}jT.splice(0,ly),WI=!0}if(!WI){zn.destination=null,IE++,II.splice(0,IE);return}}II.splice(0,IE);var xI=zn.completedBoundaries;for(IE=0;IE<xI.length;IE++)if(!UP(zn,iE,xI[IE])){zn.destination=null,IE++,xI.splice(0,IE);return}xI.splice(0,IE)}finally{zn.allPendingTasks===0&&zn.pingedTasks.length===0&&zn.clientRenderedBoundaries.length===0&&zn.completedBoundaries.length===0&&iE.push(null)}}function gM(zn,iE){try{var cE=zn.abortableTasks;cE.forEach(function(_E){return UN(_E,zn,iE)}),cE.clear(),zn.destination!==null&&NO(zn,zn.destination)}catch(_E){lO(zn,_E),uO(zn,_E)}}function GC(){}function kC(zn,iE,cE,_E){var wE=!1,IE=null,GE="",ly={push:function(RR){return RR!==null&&(GE+=RR),!0},destroy:function(RR){wE=!0,IE=RR}},rR=!1;if(zn=UC(zn,Xp(cE,iE?iE.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,GC,void 0,function(){rR=!0}),tI(zn),gM(zn,_E),zn.status===1)zn.status=2,ly.destroy(zn.fatalError);else if(zn.status!==2&&zn.destination===null){zn.destination=ly;try{NO(zn,ly)}catch(RR){lO(zn,RR),uO(zn,RR)}}if(wE)throw IE;if(!rR)throw Error(ee(426));return GE}return reactDomServerLegacy_browser_production_min.renderToNodeStream=function(){throw Error(ee(207))},reactDomServerLegacy_browser_production_min.renderToStaticMarkup=function(zn,iE){return kC(zn,iE,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},reactDomServerLegacy_browser_production_min.renderToStaticNodeStream=function(){throw Error(ee(208))},reactDomServerLegacy_browser_production_min.renderToString=function(zn,iE){return kC(zn,iE,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},reactDomServerLegacy_browser_production_min.version="18.3.1",reactDomServerLegacy_browser_production_min}var reactDomServer_browser_production_min={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomServer_browser_production_min;function requireReactDomServer_browser_production_min(){if(hasRequiredReactDomServer_browser_production_min)return reactDomServer_browser_production_min;hasRequiredReactDomServer_browser_production_min=1;var ie=requireReact();function ee(eh){for(var rE="https://reactjs.org/docs/error-decoder.html?invariant="+eh,uE=1;uE<arguments.length;uE++)rE+="&args[]="+encodeURIComponent(arguments[uE]);return"Minified React error #"+eh+"; visit "+rE+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var te=null,se=0;function ne(eh,rE){if(rE.length!==0)if(512<rE.length)0<se&&(eh.enqueue(new Uint8Array(te.buffer,0,se)),te=new Uint8Array(512),se=0),eh.enqueue(rE);else{var uE=te.length-se;uE<rE.length&&(uE===0?eh.enqueue(te):(te.set(rE.subarray(0,uE),se),eh.enqueue(te),rE=rE.subarray(uE)),te=new Uint8Array(512),se=0),te.set(rE,se),se+=rE.length}}function le(eh,rE){return ne(eh,rE),!0}function ue(eh){te&&0<se&&(eh.enqueue(new Uint8Array(te.buffer,0,se)),te=null,se=0)}var ce=new TextEncoder;function he(eh){return ce.encode(eh)}function de(eh){return ce.encode(eh)}function _e(eh,rE){typeof eh.error=="function"?eh.error(rE):eh.close()}var fe=Object.prototype.hasOwnProperty,ye=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,be={},Pe={};function Ne(eh){return fe.call(Pe,eh)?!0:fe.call(be,eh)?!1:ye.test(eh)?Pe[eh]=!0:(be[eh]=!0,!1)}function we(eh,rE,uE,pE,DE,CE,kE){this.acceptsBooleans=rE===2||rE===3||rE===4,this.attributeName=pE,this.attributeNamespace=DE,this.mustUseProperty=uE,this.propertyName=eh,this.type=rE,this.sanitizeURL=CE,this.removeEmptyString=kE}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(eh){De[eh]=new we(eh,0,!1,eh,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(eh){var rE=eh[0];De[rE]=new we(rE,1,!1,eh[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(eh){De[eh]=new we(eh,2,!1,eh.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(eh){De[eh]=new we(eh,2,!1,eh,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(eh){De[eh]=new we(eh,3,!1,eh.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(eh){De[eh]=new we(eh,3,!0,eh,null,!1,!1)}),["capture","download"].forEach(function(eh){De[eh]=new we(eh,4,!1,eh,null,!1,!1)}),["cols","rows","size","span"].forEach(function(eh){De[eh]=new we(eh,6,!1,eh,null,!1,!1)}),["rowSpan","start"].forEach(function(eh){De[eh]=new we(eh,5,!1,eh.toLowerCase(),null,!1,!1)});var $e=/[\-:]([a-z])/g;function Ge(eh){return eh[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(eh){var rE=eh.replace($e,Ge);De[rE]=new we(rE,1,!1,eh,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(eh){var rE=eh.replace($e,Ge);De[rE]=new we(rE,1,!1,eh,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(eh){var rE=eh.replace($e,Ge);De[rE]=new we(rE,1,!1,eh,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(eh){De[eh]=new we(eh,1,!1,eh.toLowerCase(),null,!1,!1)}),De.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(eh){De[eh]=new we(eh,1,!1,eh.toLowerCase(),null,!0,!0)});var Be={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ze=["Webkit","ms","Moz","O"];Object.keys(Be).forEach(function(eh){ze.forEach(function(rE){rE=rE+eh.charAt(0).toUpperCase()+eh.substring(1),Be[rE]=Be[eh]})});var $t=/["'&<>]/;function ut(eh){if(typeof eh=="boolean"||typeof eh=="number")return""+eh;eh=""+eh;var rE=$t.exec(eh);if(rE){var uE="",pE,DE=0;for(pE=rE.index;pE<eh.length;pE++){switch(eh.charCodeAt(pE)){case 34:rE="&quot;";break;case 38:rE="&amp;";break;case 39:rE="&#x27;";break;case 60:rE="&lt;";break;case 62:rE="&gt;";break;default:continue}DE!==pE&&(uE+=eh.substring(DE,pE)),DE=pE+1,uE+=rE}eh=DE!==pE?uE+eh.substring(DE,pE):uE}return eh}var Ti=/([A-Z])/g,Hi=/^ms-/,bn=Array.isArray,gd=de("<script>"),Pm=de("<\/script>"),oE=de('<script src="'),aE=de('<script type="module" src="'),nE=de('" async=""><\/script>'),On=/(<\/|<)(s)(cript)/gi;function nh(eh,rE,uE,pE){return""+rE+(uE==="s"?"\\u0073":"\\u0053")+pE}function Hn(eh,rE,uE,pE,DE){eh=eh===void 0?"":eh,rE=rE===void 0?gd:de('<script nonce="'+ut(rE)+'">');var CE=[];if(uE!==void 0&&CE.push(rE,he((""+uE).replace(On,nh)),Pm),pE!==void 0)for(uE=0;uE<pE.length;uE++)CE.push(oE,he(ut(pE[uE])),nE);if(DE!==void 0)for(pE=0;pE<DE.length;pE++)CE.push(aE,he(ut(DE[pE])),nE);return{bootstrapChunks:CE,startInlineScript:rE,placeholderPrefix:de(eh+"P:"),segmentPrefix:de(eh+"S:"),boundaryPrefix:eh+"B:",idPrefix:eh,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Xp(eh,rE){return{insertionMode:eh,selectedValue:rE}}function Jp(eh){return Xp(eh==="http://www.w3.org/2000/svg"?2:eh==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function md(eh,rE,uE){switch(rE){case"select":return Xp(1,uE.value!=null?uE.value:uE.defaultValue);case"svg":return Xp(2,null);case"math":return Xp(3,null);case"foreignObject":return Xp(1,null);case"table":return Xp(4,null);case"thead":case"tbody":case"tfoot":return Xp(5,null);case"colgroup":return Xp(7,null);case"tr":return Xp(6,null)}return 4<=eh.insertionMode||eh.insertionMode===0?Xp(1,null):eh}var eE=de("<!-- -->");function hE(eh,rE,uE,pE){return rE===""?pE:(pE&&eh.push(eE),eh.push(he(ut(rE))),!0)}var mE=new Map,fE=de(' style="'),yE=de(":"),AE=de(";");function bE(eh,rE,uE){if(typeof uE!="object")throw Error(ee(62));rE=!0;for(var pE in uE)if(fe.call(uE,pE)){var DE=uE[pE];if(DE!=null&&typeof DE!="boolean"&&DE!==""){if(pE.indexOf("--")===0){var CE=he(ut(pE));DE=he(ut((""+DE).trim()))}else{CE=pE;var kE=mE.get(CE);kE!==void 0||(kE=de(ut(CE.replace(Ti,"-$1").toLowerCase().replace(Hi,"-ms-"))),mE.set(CE,kE)),CE=kE,DE=typeof DE=="number"?DE===0||fe.call(Be,pE)?he(""+DE):he(DE+"px"):he(ut((""+DE).trim()))}rE?(rE=!1,eh.push(fE,CE,yE,DE)):eh.push(AE,CE,yE,DE)}}rE||eh.push(jE)}var ME=de(" "),SE=de('="'),jE=de('"'),$E=de('=""');function zE(eh,rE,uE,pE){switch(uE){case"style":bE(eh,rE,pE);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<uE.length)||uE[0]!=="o"&&uE[0]!=="O"||uE[1]!=="n"&&uE[1]!=="N"){if(rE=De.hasOwnProperty(uE)?De[uE]:null,rE!==null){switch(typeof pE){case"function":case"symbol":return;case"boolean":if(!rE.acceptsBooleans)return}switch(uE=he(rE.attributeName),rE.type){case 3:pE&&eh.push(ME,uE,$E);break;case 4:pE===!0?eh.push(ME,uE,$E):pE!==!1&&eh.push(ME,uE,SE,he(ut(pE)),jE);break;case 5:isNaN(pE)||eh.push(ME,uE,SE,he(ut(pE)),jE);break;case 6:!isNaN(pE)&&1<=pE&&eh.push(ME,uE,SE,he(ut(pE)),jE);break;default:rE.sanitizeURL&&(pE=""+pE),eh.push(ME,uE,SE,he(ut(pE)),jE)}}else if(Ne(uE)){switch(typeof pE){case"function":case"symbol":return;case"boolean":if(rE=uE.toLowerCase().slice(0,5),rE!=="data-"&&rE!=="aria-")return}eh.push(ME,he(uE),SE,he(ut(pE)),jE)}}}var YE=de(">"),HE=de("/>");function VE(eh,rE,uE){if(rE!=null){if(uE!=null)throw Error(ee(60));if(typeof rE!="object"||!("__html"in rE))throw Error(ee(61));rE=rE.__html,rE!=null&&eh.push(he(""+rE))}}function TE(eh){var rE="";return ie.Children.forEach(eh,function(uE){uE!=null&&(rE+=uE)}),rE}var xE=de(' selected=""');function BE(eh,rE,uE,pE){eh.push(vE(uE));var DE=uE=null,CE;for(CE in rE)if(fe.call(rE,CE)){var kE=rE[CE];if(kE!=null)switch(CE){case"children":uE=kE;break;case"dangerouslySetInnerHTML":DE=kE;break;default:zE(eh,pE,CE,kE)}}return eh.push(YE),VE(eh,DE,uE),typeof uE=="string"?(eh.push(he(ut(uE))),null):uE}var eR=de(`
`),sR=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ZE=new Map;function vE(eh){var rE=ZE.get(eh);if(rE===void 0){if(!sR.test(eh))throw Error(ee(65,eh));rE=de("<"+eh),ZE.set(eh,rE)}return rE}var XE=de("<!DOCTYPE html>");function pR(eh,rE,uE,pE,DE){switch(rE){case"select":eh.push(vE("select"));var CE=null,kE=null;for(bR in uE)if(fe.call(uE,bR)){var QE=uE[bR];if(QE!=null)switch(bR){case"children":CE=QE;break;case"dangerouslySetInnerHTML":kE=QE;break;case"defaultValue":case"value":break;default:zE(eh,pE,bR,QE)}}return eh.push(YE),VE(eh,kE,CE),CE;case"option":kE=DE.selectedValue,eh.push(vE("option"));var mR=QE=null,wR=null,bR=null;for(CE in uE)if(fe.call(uE,CE)){var eT=uE[CE];if(eT!=null)switch(CE){case"children":QE=eT;break;case"selected":wR=eT;break;case"dangerouslySetInnerHTML":bR=eT;break;case"value":mR=eT;default:zE(eh,pE,CE,eT)}}if(kE!=null)if(uE=mR!==null?""+mR:TE(QE),bn(kE)){for(pE=0;pE<kE.length;pE++)if(""+kE[pE]===uE){eh.push(xE);break}}else""+kE===uE&&eh.push(xE);else wR&&eh.push(xE);return eh.push(YE),VE(eh,bR,QE),QE;case"textarea":eh.push(vE("textarea")),bR=kE=CE=null;for(QE in uE)if(fe.call(uE,QE)&&(mR=uE[QE],mR!=null))switch(QE){case"children":bR=mR;break;case"value":CE=mR;break;case"defaultValue":kE=mR;break;case"dangerouslySetInnerHTML":throw Error(ee(91));default:zE(eh,pE,QE,mR)}if(CE===null&&kE!==null&&(CE=kE),eh.push(YE),bR!=null){if(CE!=null)throw Error(ee(92));if(bn(bR)&&1<bR.length)throw Error(ee(93));CE=""+bR}return typeof CE=="string"&&CE[0]===`
`&&eh.push(eR),CE!==null&&eh.push(he(ut(""+CE))),null;case"input":eh.push(vE("input")),mR=bR=QE=CE=null;for(kE in uE)if(fe.call(uE,kE)&&(wR=uE[kE],wR!=null))switch(kE){case"children":case"dangerouslySetInnerHTML":throw Error(ee(399,"input"));case"defaultChecked":mR=wR;break;case"defaultValue":QE=wR;break;case"checked":bR=wR;break;case"value":CE=wR;break;default:zE(eh,pE,kE,wR)}return bR!==null?zE(eh,pE,"checked",bR):mR!==null&&zE(eh,pE,"checked",mR),CE!==null?zE(eh,pE,"value",CE):QE!==null&&zE(eh,pE,"value",QE),eh.push(HE),null;case"menuitem":eh.push(vE("menuitem"));for(var GT in uE)if(fe.call(uE,GT)&&(CE=uE[GT],CE!=null))switch(GT){case"children":case"dangerouslySetInnerHTML":throw Error(ee(400));default:zE(eh,pE,GT,CE)}return eh.push(YE),null;case"title":eh.push(vE("title")),CE=null;for(eT in uE)if(fe.call(uE,eT)&&(kE=uE[eT],kE!=null))switch(eT){case"children":CE=kE;break;case"dangerouslySetInnerHTML":throw Error(ee(434));default:zE(eh,pE,eT,kE)}return eh.push(YE),CE;case"listing":case"pre":eh.push(vE(rE)),kE=CE=null;for(mR in uE)if(fe.call(uE,mR)&&(QE=uE[mR],QE!=null))switch(mR){case"children":CE=QE;break;case"dangerouslySetInnerHTML":kE=QE;break;default:zE(eh,pE,mR,QE)}if(eh.push(YE),kE!=null){if(CE!=null)throw Error(ee(60));if(typeof kE!="object"||!("__html"in kE))throw Error(ee(61));uE=kE.__html,uE!=null&&(typeof uE=="string"&&0<uE.length&&uE[0]===`
`?eh.push(eR,he(uE)):eh.push(he(""+uE)))}return typeof CE=="string"&&CE[0]===`
`&&eh.push(eR),CE;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":eh.push(vE(rE));for(var OI in uE)if(fe.call(uE,OI)&&(CE=uE[OI],CE!=null))switch(OI){case"children":case"dangerouslySetInnerHTML":throw Error(ee(399,rE));default:zE(eh,pE,OI,CE)}return eh.push(HE),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return BE(eh,uE,rE,pE);case"html":return DE.insertionMode===0&&eh.push(XE),BE(eh,uE,rE,pE);default:if(rE.indexOf("-")===-1&&typeof uE.is!="string")return BE(eh,uE,rE,pE);eh.push(vE(rE)),kE=CE=null;for(wR in uE)if(fe.call(uE,wR)&&(QE=uE[wR],QE!=null))switch(wR){case"children":CE=QE;break;case"dangerouslySetInnerHTML":kE=QE;break;case"style":bE(eh,pE,QE);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:Ne(wR)&&typeof QE!="function"&&typeof QE!="symbol"&&eh.push(ME,he(wR),SE,he(ut(QE)),jE)}return eh.push(YE),VE(eh,kE,CE),CE}}var CR=de("</"),MR=de(">"),yR=de('<template id="'),VR=de('"></template>'),jR=de("<!--$-->"),AO=de('<!--$?--><template id="'),pM=de('"></template>'),HI=de("<!--$!-->"),xO=de("<!--/$-->"),PE=de("<template"),LE=de('"'),GR=de(' data-dgst="');de(' data-msg="'),de(' data-stck="');var zR=de("></template>");function DR(eh,rE,uE){if(ne(eh,AO),uE===null)throw Error(ee(395));return ne(eh,uE),le(eh,pM)}var TR=de('<div hidden id="'),cT=de('">'),PR=de("</div>"),nT=de('<svg aria-hidden="true" style="display:none" id="'),AT=de('">'),gI=de("</svg>"),_T=de('<math aria-hidden="true" style="display:none" id="'),fT=de('">'),FT=de("</math>"),PC=de('<table hidden id="'),mI=de('">'),eI=de("</table>"),EI=de('<table hidden><tbody id="'),OO=de('">'),vI=de("</tbody></table>"),aO=de('<table hidden><tr id="'),CO=de('">'),VI=de("</tr></table>"),NC=de('<table hidden><colgroup id="'),MO=de('">'),PO=de("</colgroup></table>");function yI(eh,rE,uE,pE){switch(uE.insertionMode){case 0:case 1:return ne(eh,TR),ne(eh,rE.segmentPrefix),ne(eh,he(pE.toString(16))),le(eh,cT);case 2:return ne(eh,nT),ne(eh,rE.segmentPrefix),ne(eh,he(pE.toString(16))),le(eh,AT);case 3:return ne(eh,_T),ne(eh,rE.segmentPrefix),ne(eh,he(pE.toString(16))),le(eh,fT);case 4:return ne(eh,PC),ne(eh,rE.segmentPrefix),ne(eh,he(pE.toString(16))),le(eh,mI);case 5:return ne(eh,EI),ne(eh,rE.segmentPrefix),ne(eh,he(pE.toString(16))),le(eh,OO);case 6:return ne(eh,aO),ne(eh,rE.segmentPrefix),ne(eh,he(pE.toString(16))),le(eh,CO);case 7:return ne(eh,NC),ne(eh,rE.segmentPrefix),ne(eh,he(pE.toString(16))),le(eh,MO);default:throw Error(ee(397))}}function oO(eh,rE){switch(rE.insertionMode){case 0:case 1:return le(eh,PR);case 2:return le(eh,gI);case 3:return le(eh,FT);case 4:return le(eh,eI);case 5:return le(eh,vI);case 6:return le(eh,VI);case 7:return le(eh,PO);default:throw Error(ee(397))}}var UC=de('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),RI=de('$RS("'),TI=de('","'),lO=de('")<\/script>'),uO=de('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),DP=de('$RC("'),DN=de('","'),LN=de('")<\/script>'),JR=de('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),NT=de('$RX("'),zM=de('"'),WM=de(")<\/script>"),jC=de(","),UN=/[<\u2028\u2029]/g;function wO(eh){return JSON.stringify(eh).replace(UN,function(rE){switch(rE){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var zI=Object.assign,tI=Symbol.for("react.element"),_M=Symbol.for("react.portal"),yT=Symbol.for("react.fragment"),LP=Symbol.for("react.strict_mode"),UP=Symbol.for("react.profiler"),FP=Symbol.for("react.provider"),NO=Symbol.for("react.context"),gM=Symbol.for("react.forward_ref"),GC=Symbol.for("react.suspense"),kC=Symbol.for("react.suspense_list"),zn=Symbol.for("react.memo"),iE=Symbol.for("react.lazy"),cE=Symbol.for("react.scope"),_E=Symbol.for("react.debug_trace_mode"),wE=Symbol.for("react.legacy_hidden"),IE=Symbol.for("react.default_value"),GE=Symbol.iterator;function ly(eh){if(eh==null)return null;if(typeof eh=="function")return eh.displayName||eh.name||null;if(typeof eh=="string")return eh;switch(eh){case yT:return"Fragment";case _M:return"Portal";case UP:return"Profiler";case LP:return"StrictMode";case GC:return"Suspense";case kC:return"SuspenseList"}if(typeof eh=="object")switch(eh.$$typeof){case NO:return(eh.displayName||"Context")+".Consumer";case FP:return(eh._context.displayName||"Context")+".Provider";case gM:var rE=eh.render;return eh=eh.displayName,eh||(eh=rE.displayName||rE.name||"",eh=eh!==""?"ForwardRef("+eh+")":"ForwardRef"),eh;case zn:return rE=eh.displayName||null,rE!==null?rE:ly(eh.type)||"Memo";case iE:rE=eh._payload,eh=eh._init;try{return ly(eh(rE))}catch{}}return null}var rR={};function RR(eh,rE){if(eh=eh.contextTypes,!eh)return rR;var uE={},pE;for(pE in eh)uE[pE]=rE[pE];return uE}var OR=null;function ZR(eh,rE){if(eh!==rE){eh.context._currentValue=eh.parentValue,eh=eh.parent;var uE=rE.parent;if(eh===null){if(uE!==null)throw Error(ee(401))}else{if(uE===null)throw Error(ee(401));ZR(eh,uE)}rE.context._currentValue=rE.value}}function SI(eh){eh.context._currentValue=eh.parentValue,eh=eh.parent,eh!==null&&SI(eh)}function bI(eh){var rE=eh.parent;rE!==null&&bI(rE),eh.context._currentValue=eh.value}function BT(eh,rE){if(eh.context._currentValue=eh.parentValue,eh=eh.parent,eh===null)throw Error(ee(402));eh.depth===rE.depth?ZR(eh,rE):BT(eh,rE)}function DO(eh,rE){var uE=rE.parent;if(uE===null)throw Error(ee(402));eh.depth===uE.depth?ZR(eh,uE):DO(eh,uE),rE.context._currentValue=rE.value}function II(eh){var rE=OR;rE!==eh&&(rE===null?bI(eh):eh===null?SI(rE):rE.depth===eh.depth?ZR(rE,eh):rE.depth>eh.depth?BT(rE,eh):DO(rE,eh),OR=eh)}var AI={isMounted:function(){return!1},enqueueSetState:function(eh,rE){eh=eh._reactInternals,eh.queue!==null&&eh.queue.push(rE)},enqueueReplaceState:function(eh,rE){eh=eh._reactInternals,eh.replace=!0,eh.queue=[rE]},enqueueForceUpdate:function(){}};function jT(eh,rE,uE,pE){var DE=eh.state!==void 0?eh.state:null;eh.updater=AI,eh.props=uE,eh.state=DE;var CE={queue:[],replace:!1};eh._reactInternals=CE;var kE=rE.contextType;if(eh.context=typeof kE=="object"&&kE!==null?kE._currentValue:pE,kE=rE.getDerivedStateFromProps,typeof kE=="function"&&(kE=kE(uE,DE),DE=kE==null?DE:zI({},DE,kE),eh.state=DE),typeof rE.getDerivedStateFromProps!="function"&&typeof eh.getSnapshotBeforeUpdate!="function"&&(typeof eh.UNSAFE_componentWillMount=="function"||typeof eh.componentWillMount=="function"))if(rE=eh.state,typeof eh.componentWillMount=="function"&&eh.componentWillMount(),typeof eh.UNSAFE_componentWillMount=="function"&&eh.UNSAFE_componentWillMount(),rE!==eh.state&&AI.enqueueReplaceState(eh,eh.state,null),CE.queue!==null&&0<CE.queue.length)if(rE=CE.queue,kE=CE.replace,CE.queue=null,CE.replace=!1,kE&&rE.length===1)eh.state=rE[0];else{for(CE=kE?rE[0]:eh.state,DE=!0,kE=kE?1:0;kE<rE.length;kE++){var QE=rE[kE];QE=typeof QE=="function"?QE.call(eh,CE,uE,pE):QE,QE!=null&&(DE?(DE=!1,CE=zI({},CE,QE)):zI(CE,QE))}eh.state=CE}else CE.queue=null}var WI={id:1,overflow:""};function xI(eh,rE,uE){var pE=eh.id;eh=eh.overflow;var DE=32-HC(pE)-1;pE&=~(1<<DE),uE+=1;var CE=32-HC(rE)+DE;if(30<CE){var kE=DE-DE%5;return CE=(pE&(1<<kE)-1).toString(32),pE>>=kE,DE-=kE,{id:1<<32-HC(rE)+DE|uE<<DE|pE,overflow:CE+eh}}return{id:1<<CE|uE<<DE|pE,overflow:eh}}var HC=Math.clz32?Math.clz32:_U,VC=Math.log,VF=Math.LN2;function _U(eh){return eh>>>=0,eh===0?32:31-(VC(eh)/VF|0)|0}function BP(eh,rE){return eh===rE&&(eh!==0||1/eh===1/rE)||eh!==eh&&rE!==rE}var zF=typeof Object.is=="function"?Object.is:BP,cO=null,YM=null,jP=null,QR=null,LO=!1,WC=!1,hO=0,YI=null,FN=0;function mM(){if(cO===null)throw Error(ee(321));return cO}function BN(){if(0<FN)throw Error(ee(312));return{memoizedState:null,queue:null,next:null}}function qM(){return QR===null?jP===null?(LO=!1,jP=QR=BN()):(LO=!0,QR=jP):QR.next===null?(LO=!1,QR=QR.next=BN()):(LO=!0,QR=QR.next),QR}function GP(){YM=cO=null,WC=!1,jP=null,FN=0,QR=YI=null}function ZD(eh,rE){return typeof rE=="function"?rE(eh):rE}function UO(eh,rE,uE){if(cO=mM(),QR=qM(),LO){var pE=QR.queue;if(rE=pE.dispatch,YI!==null&&(uE=YI.get(pE),uE!==void 0)){YI.delete(pE),pE=QR.memoizedState;do pE=eh(pE,uE.action),uE=uE.next;while(uE!==null);return QR.memoizedState=pE,[pE,rE]}return[QR.memoizedState,rE]}return eh=eh===ZD?typeof rE=="function"?rE():rE:uE!==void 0?uE(rE):rE,QR.memoizedState=eh,eh=QR.queue={last:null,dispatch:null},eh=eh.dispatch=GN.bind(null,cO,eh),[QR.memoizedState,eh]}function jN(eh,rE){if(cO=mM(),QR=qM(),rE=rE===void 0?null:rE,QR!==null){var uE=QR.memoizedState;if(uE!==null&&rE!==null){var pE=uE[1];e:if(pE===null)pE=!1;else{for(var DE=0;DE<pE.length&&DE<rE.length;DE++)if(!zF(rE[DE],pE[DE])){pE=!1;break e}pE=!0}if(pE)return uE[0]}}return eh=eh(),QR.memoizedState=[eh,rE],eh}function GN(eh,rE,uE){if(25<=FN)throw Error(ee(301));if(eh===cO)if(WC=!0,eh={action:uE,next:null},YI===null&&(YI=new Map),uE=YI.get(rE),uE===void 0)YI.set(rE,eh);else{for(rE=uE;rE.next!==null;)rE=rE.next;rE.next=eh}}function gU(){throw Error(ee(394))}function EM(){}var kP={readContext:function(eh){return eh._currentValue},useContext:function(eh){return mM(),eh._currentValue},useMemo:jN,useReducer:UO,useRef:function(eh){cO=mM(),QR=qM();var rE=QR.memoizedState;return rE===null?(eh={current:eh},QR.memoizedState=eh):rE},useState:function(eh){return UO(ZD,eh)},useInsertionEffect:EM,useLayoutEffect:function(){},useCallback:function(eh,rE){return jN(function(){return eh},rE)},useImperativeHandle:EM,useEffect:EM,useDebugValue:EM,useDeferredValue:function(eh){return mM(),eh},useTransition:function(){return mM(),[!1,gU]},useId:function(){var eh=YM.treeContext,rE=eh.overflow;eh=eh.id,eh=(eh&~(1<<32-HC(eh)-1)).toString(32)+rE;var uE=$P;if(uE===null)throw Error(ee(404));return rE=hO++,eh=":"+uE.idPrefix+"R"+eh,0<rE&&(eh+="H"+rE.toString(32)),eh+":"},useMutableSource:function(eh,rE){return mM(),rE(eh._source)},useSyncExternalStore:function(eh,rE,uE){if(uE===void 0)throw Error(ee(407));return uE()}},$P=null,DT=ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function XM(eh){return console.error(eh),null}function vM(){}function HP(eh,rE,uE,pE,DE,CE,kE,QE,mR){var wR=[],bR=new Set;return rE={destination:null,responseState:rE,progressiveChunkSize:pE===void 0?12800:pE,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:bR,pingedTasks:wR,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:DE===void 0?XM:DE,onAllReady:CE===void 0?vM:CE,onShellReady:kE===void 0?vM:kE,onShellError:QE===void 0?vM:QE,onFatalError:mR===void 0?vM:mR},uE=KM(rE,0,null,uE,!1,!1),uE.parentFlushed=!0,eh=QD(rE,eh,null,uE,bR,rR,null,WI),wR.push(eh),rE}function QD(eh,rE,uE,pE,DE,CE,kE,QE){eh.allPendingTasks++,uE===null?eh.pendingRootTasks++:uE.pendingTasks++;var mR={node:rE,ping:function(){var wR=eh.pingedTasks;wR.push(mR),wR.length===1&&sL(eh)},blockedBoundary:uE,blockedSegment:pE,abortSet:DE,legacyContext:CE,context:kE,treeContext:QE};return DE.add(mR),mR}function KM(eh,rE,uE,pE,DE,CE){return{status:0,id:-1,index:rE,parentFlushed:!1,chunks:[],children:[],formatContext:pE,boundary:uE,lastPushedText:DE,textEmbedded:CE}}function yM(eh,rE){if(eh=eh.onError(rE),eh!=null&&typeof eh!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof eh+'" instead');return eh}function YC(eh,rE){var uE=eh.onShellError;uE(rE),uE=eh.onFatalError,uE(rE),eh.destination!==null?(eh.status=2,_e(eh.destination,rE)):(eh.status=1,eh.fatalError=rE)}function VP(eh,rE,uE,pE,DE){for(cO={},YM=rE,hO=0,eh=uE(pE,DE);WC;)WC=!1,hO=0,FN+=1,QR=null,eh=uE(pE,DE);return GP(),eh}function JD(eh,rE,uE,pE){var DE=uE.render(),CE=pE.childContextTypes;if(CE!=null){var kE=rE.legacyContext;if(typeof uE.getChildContext!="function")pE=kE;else{uE=uE.getChildContext();for(var QE in uE)if(!(QE in CE))throw Error(ee(108,ly(pE)||"Unknown",QE));pE=zI({},kE,uE)}rE.legacyContext=pE,sI(eh,rE,DE),rE.legacyContext=kE}else sI(eh,rE,DE)}function mU(eh,rE){if(eh&&eh.defaultProps){rE=zI({},rE),eh=eh.defaultProps;for(var uE in eh)rE[uE]===void 0&&(rE[uE]=eh[uE]);return rE}return rE}function eL(eh,rE,uE,pE,DE){if(typeof uE=="function")if(uE.prototype&&uE.prototype.isReactComponent){DE=RR(uE,rE.legacyContext);var CE=uE.contextType;CE=new uE(pE,typeof CE=="object"&&CE!==null?CE._currentValue:DE),jT(CE,uE,pE,DE),JD(eh,rE,CE,uE)}else{CE=RR(uE,rE.legacyContext),DE=VP(eh,rE,uE,pE,CE);var kE=hO!==0;if(typeof DE=="object"&&DE!==null&&typeof DE.render=="function"&&DE.$$typeof===void 0)jT(DE,uE,pE,CE),JD(eh,rE,DE,uE);else if(kE){pE=rE.treeContext,rE.treeContext=xI(pE,1,0);try{sI(eh,rE,DE)}finally{rE.treeContext=pE}}else sI(eh,rE,DE)}else if(typeof uE=="string"){switch(DE=rE.blockedSegment,CE=pR(DE.chunks,uE,pE,eh.responseState,DE.formatContext),DE.lastPushedText=!1,kE=DE.formatContext,DE.formatContext=md(kE,uE,pE),tL(eh,rE,CE),DE.formatContext=kE,uE){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:DE.chunks.push(CR,he(uE),MR)}DE.lastPushedText=!1}else{switch(uE){case wE:case _E:case LP:case UP:case yT:sI(eh,rE,pE.children);return;case kC:sI(eh,rE,pE.children);return;case cE:throw Error(ee(343));case GC:e:{uE=rE.blockedBoundary,DE=rE.blockedSegment,CE=pE.fallback,pE=pE.children,kE=new Set;var QE={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:kE,errorDigest:null},mR=KM(eh,DE.chunks.length,QE,DE.formatContext,!1,!1);DE.children.push(mR),DE.lastPushedText=!1;var wR=KM(eh,0,null,DE.formatContext,!1,!1);wR.parentFlushed=!0,rE.blockedBoundary=QE,rE.blockedSegment=wR;try{if(tL(eh,rE,pE),wR.lastPushedText&&wR.textEmbedded&&wR.chunks.push(eE),wR.status=1,$N(QE,wR),QE.pendingTasks===0)break e}catch(bR){wR.status=4,QE.forceClientRender=!0,QE.errorDigest=yM(eh,bR)}finally{rE.blockedBoundary=uE,rE.blockedSegment=DE}rE=QD(eh,CE,uE,mR,kE,rE.legacyContext,rE.context,rE.treeContext),eh.pingedTasks.push(rE)}return}if(typeof uE=="object"&&uE!==null)switch(uE.$$typeof){case gM:if(pE=VP(eh,rE,uE.render,pE,DE),hO!==0){uE=rE.treeContext,rE.treeContext=xI(uE,1,0);try{sI(eh,rE,pE)}finally{rE.treeContext=uE}}else sI(eh,rE,pE);return;case zn:uE=uE.type,pE=mU(uE,pE),eL(eh,rE,uE,pE,DE);return;case FP:if(DE=pE.children,uE=uE._context,pE=pE.value,CE=uE._currentValue,uE._currentValue=pE,kE=OR,OR=pE={parent:kE,depth:kE===null?0:kE.depth+1,context:uE,parentValue:CE,value:pE},rE.context=pE,sI(eh,rE,DE),eh=OR,eh===null)throw Error(ee(403));pE=eh.parentValue,eh.context._currentValue=pE===IE?eh.context._defaultValue:pE,eh=OR=eh.parent,rE.context=eh;return;case NO:pE=pE.children,pE=pE(uE._currentValue),sI(eh,rE,pE);return;case iE:DE=uE._init,uE=DE(uE._payload),pE=mU(uE,pE),eL(eh,rE,uE,pE,void 0);return}throw Error(ee(130,uE==null?uE:typeof uE,""))}}function sI(eh,rE,uE){if(rE.node=uE,typeof uE=="object"&&uE!==null){switch(uE.$$typeof){case tI:eL(eh,rE,uE.type,uE.props,uE.ref);return;case _M:throw Error(ee(257));case iE:var pE=uE._init;uE=pE(uE._payload),sI(eh,rE,uE);return}if(bn(uE)){kN(eh,rE,uE);return}if(uE===null||typeof uE!="object"?pE=null:(pE=GE&&uE[GE]||uE["@@iterator"],pE=typeof pE=="function"?pE:null),pE&&(pE=pE.call(uE))){if(uE=pE.next(),!uE.done){var DE=[];do DE.push(uE.value),uE=pE.next();while(!uE.done);kN(eh,rE,DE)}return}throw eh=Object.prototype.toString.call(uE),Error(ee(31,eh==="[object Object]"?"object with keys {"+Object.keys(uE).join(", ")+"}":eh))}typeof uE=="string"?(pE=rE.blockedSegment,pE.lastPushedText=hE(rE.blockedSegment.chunks,uE,eh.responseState,pE.lastPushedText)):typeof uE=="number"&&(pE=rE.blockedSegment,pE.lastPushedText=hE(rE.blockedSegment.chunks,""+uE,eh.responseState,pE.lastPushedText))}function kN(eh,rE,uE){for(var pE=uE.length,DE=0;DE<pE;DE++){var CE=rE.treeContext;rE.treeContext=xI(CE,pE,DE);try{tL(eh,rE,uE[DE])}finally{rE.treeContext=CE}}}function tL(eh,rE,uE){var pE=rE.blockedSegment.formatContext,DE=rE.legacyContext,CE=rE.context;try{return sI(eh,rE,uE)}catch(mR){if(GP(),typeof mR=="object"&&mR!==null&&typeof mR.then=="function"){uE=mR;var kE=rE.blockedSegment,QE=KM(eh,kE.chunks.length,null,kE.formatContext,kE.lastPushedText,!0);kE.children.push(QE),kE.lastPushedText=!1,eh=QD(eh,rE.node,rE.blockedBoundary,QE,rE.abortSet,rE.legacyContext,rE.context,rE.treeContext).ping,uE.then(eh,eh),rE.blockedSegment.formatContext=pE,rE.legacyContext=DE,rE.context=CE,II(CE)}else throw rE.blockedSegment.formatContext=pE,rE.legacyContext=DE,rE.context=CE,II(CE),mR}}function WF(eh){var rE=eh.blockedBoundary;eh=eh.blockedSegment,eh.status=3,vU(this,rE,eh)}function EU(eh,rE,uE){var pE=eh.blockedBoundary;eh.blockedSegment.status=3,pE===null?(rE.allPendingTasks--,rE.status!==2&&(rE.status=2,rE.destination!==null&&rE.destination.close())):(pE.pendingTasks--,pE.forceClientRender||(pE.forceClientRender=!0,eh=uE===void 0?Error(ee(432)):uE,pE.errorDigest=rE.onError(eh),pE.parentFlushed&&rE.clientRenderedBoundaries.push(pE)),pE.fallbackAbortableTasks.forEach(function(DE){return EU(DE,rE,uE)}),pE.fallbackAbortableTasks.clear(),rE.allPendingTasks--,rE.allPendingTasks===0&&(pE=rE.onAllReady,pE()))}function $N(eh,rE){if(rE.chunks.length===0&&rE.children.length===1&&rE.children[0].boundary===null){var uE=rE.children[0];uE.id=rE.id,uE.parentFlushed=!0,uE.status===1&&$N(eh,uE)}else eh.completedSegments.push(rE)}function vU(eh,rE,uE){if(rE===null){if(uE.parentFlushed){if(eh.completedRootSegment!==null)throw Error(ee(389));eh.completedRootSegment=uE}eh.pendingRootTasks--,eh.pendingRootTasks===0&&(eh.onShellError=vM,rE=eh.onShellReady,rE())}else rE.pendingTasks--,rE.forceClientRender||(rE.pendingTasks===0?(uE.parentFlushed&&uE.status===1&&$N(rE,uE),rE.parentFlushed&&eh.completedBoundaries.push(rE),rE.fallbackAbortableTasks.forEach(WF,eh),rE.fallbackAbortableTasks.clear()):uE.parentFlushed&&uE.status===1&&($N(rE,uE),rE.completedSegments.length===1&&rE.parentFlushed&&eh.partialBoundaries.push(rE)));eh.allPendingTasks--,eh.allPendingTasks===0&&(eh=eh.onAllReady,eh())}function sL(eh){if(eh.status!==2){var rE=OR,uE=DT.current;DT.current=kP;var pE=$P;$P=eh.responseState;try{var DE=eh.pingedTasks,CE;for(CE=0;CE<DE.length;CE++){var kE=DE[CE],QE=eh,mR=kE.blockedSegment;if(mR.status===0){II(kE.context);try{sI(QE,kE,kE.node),mR.lastPushedText&&mR.textEmbedded&&mR.chunks.push(eE),kE.abortSet.delete(kE),mR.status=1,vU(QE,kE.blockedBoundary,mR)}catch(CI){if(GP(),typeof CI=="object"&&CI!==null&&typeof CI.then=="function"){var wR=kE.ping;CI.then(wR,wR)}else{kE.abortSet.delete(kE),mR.status=4;var bR=kE.blockedBoundary,eT=CI,GT=yM(QE,eT);if(bR===null?YC(QE,eT):(bR.pendingTasks--,bR.forceClientRender||(bR.forceClientRender=!0,bR.errorDigest=GT,bR.parentFlushed&&QE.clientRenderedBoundaries.push(bR))),QE.allPendingTasks--,QE.allPendingTasks===0){var OI=QE.onAllReady;OI()}}}finally{}}}DE.splice(0,CE),eh.destination!==null&&rL(eh,eh.destination)}catch(CI){yM(eh,CI),YC(eh,CI)}finally{$P=pE,DT.current=uE,uE===kP&&II(rE)}}}function HN(eh,rE,uE){switch(uE.parentFlushed=!0,uE.status){case 0:var pE=uE.id=eh.nextSegmentId++;return uE.lastPushedText=!1,uE.textEmbedded=!1,eh=eh.responseState,ne(rE,yR),ne(rE,eh.placeholderPrefix),eh=he(pE.toString(16)),ne(rE,eh),le(rE,VR);case 1:uE.status=2;var DE=!0;pE=uE.chunks;var CE=0;uE=uE.children;for(var kE=0;kE<uE.length;kE++){for(DE=uE[kE];CE<DE.index;CE++)ne(rE,pE[CE]);DE=VN(eh,rE,DE)}for(;CE<pE.length-1;CE++)ne(rE,pE[CE]);return CE<pE.length&&(DE=le(rE,pE[CE])),DE;default:throw Error(ee(390))}}function VN(eh,rE,uE){var pE=uE.boundary;if(pE===null)return HN(eh,rE,uE);if(pE.parentFlushed=!0,pE.forceClientRender)pE=pE.errorDigest,le(rE,HI),ne(rE,PE),pE&&(ne(rE,GR),ne(rE,he(ut(pE))),ne(rE,LE)),le(rE,zR),HN(eh,rE,uE);else if(0<pE.pendingTasks){pE.rootSegmentID=eh.nextSegmentId++,0<pE.completedSegments.length&&eh.partialBoundaries.push(pE);var DE=eh.responseState,CE=DE.nextSuspenseID++;DE=de(DE.boundaryPrefix+CE.toString(16)),pE=pE.id=DE,DR(rE,eh.responseState,pE),HN(eh,rE,uE)}else if(pE.byteSize>eh.progressiveChunkSize)pE.rootSegmentID=eh.nextSegmentId++,eh.completedBoundaries.push(pE),DR(rE,eh.responseState,pE.id),HN(eh,rE,uE);else{if(le(rE,jR),uE=pE.completedSegments,uE.length!==1)throw Error(ee(391));VN(eh,rE,uE[0])}return le(rE,xO)}function yU(eh,rE,uE){return yI(rE,eh.responseState,uE.formatContext,uE.id),VN(eh,rE,uE),oO(rE,uE.formatContext)}function RU(eh,rE,uE){for(var pE=uE.completedSegments,DE=0;DE<pE.length;DE++)zN(eh,rE,uE,pE[DE]);if(pE.length=0,eh=eh.responseState,pE=uE.id,uE=uE.rootSegmentID,ne(rE,eh.startInlineScript),eh.sentCompleteBoundaryFunction?ne(rE,DP):(eh.sentCompleteBoundaryFunction=!0,ne(rE,uO)),pE===null)throw Error(ee(395));return uE=he(uE.toString(16)),ne(rE,pE),ne(rE,DN),ne(rE,eh.segmentPrefix),ne(rE,uE),le(rE,LN)}function zN(eh,rE,uE,pE){if(pE.status===2)return!0;var DE=pE.id;if(DE===-1){if((pE.id=uE.rootSegmentID)===-1)throw Error(ee(392));return yU(eh,rE,pE)}return yU(eh,rE,pE),eh=eh.responseState,ne(rE,eh.startInlineScript),eh.sentCompleteSegmentFunction?ne(rE,RI):(eh.sentCompleteSegmentFunction=!0,ne(rE,UC)),ne(rE,eh.segmentPrefix),DE=he(DE.toString(16)),ne(rE,DE),ne(rE,TI),ne(rE,eh.placeholderPrefix),ne(rE,DE),le(rE,lO)}function rL(eh,rE){te=new Uint8Array(512),se=0;try{var uE=eh.completedRootSegment;if(uE!==null&&eh.pendingRootTasks===0){VN(eh,rE,uE),eh.completedRootSegment=null;var pE=eh.responseState.bootstrapChunks;for(uE=0;uE<pE.length-1;uE++)ne(rE,pE[uE]);uE<pE.length&&le(rE,pE[uE])}var DE=eh.clientRenderedBoundaries,CE;for(CE=0;CE<DE.length;CE++){var kE=DE[CE];pE=rE;var QE=eh.responseState,mR=kE.id,wR=kE.errorDigest,bR=kE.errorMessage,eT=kE.errorComponentStack;if(ne(pE,QE.startInlineScript),QE.sentClientRenderFunction?ne(pE,NT):(QE.sentClientRenderFunction=!0,ne(pE,JR)),mR===null)throw Error(ee(395));ne(pE,mR),ne(pE,zM),(wR||bR||eT)&&(ne(pE,jC),ne(pE,he(wO(wR||"")))),(bR||eT)&&(ne(pE,jC),ne(pE,he(wO(bR||"")))),eT&&(ne(pE,jC),ne(pE,he(wO(eT)))),le(pE,WM)}DE.splice(0,CE);var GT=eh.completedBoundaries;for(CE=0;CE<GT.length;CE++)RU(eh,rE,GT[CE]);GT.splice(0,CE),ue(rE),te=new Uint8Array(512),se=0;var OI=eh.partialBoundaries;for(CE=0;CE<OI.length;CE++){var CI=OI[CE];e:{DE=eh,kE=rE;var zP=CI.completedSegments;for(QE=0;QE<zP.length;QE++)if(!zN(DE,kE,CI,zP[QE])){QE++,zP.splice(0,QE);var iL=!1;break e}zP.splice(0,QE),iL=!0}if(!iL){eh.destination=null,CE++,OI.splice(0,CE);return}}OI.splice(0,CE);var qC=eh.completedBoundaries;for(CE=0;CE<qC.length;CE++)RU(eh,rE,qC[CE]);qC.splice(0,CE)}finally{ue(rE),eh.allPendingTasks===0&&eh.pingedTasks.length===0&&eh.clientRenderedBoundaries.length===0&&eh.completedBoundaries.length===0&&rE.close()}}function TU(eh,rE){try{var uE=eh.abortableTasks;uE.forEach(function(pE){return EU(pE,eh,rE)}),uE.clear(),eh.destination!==null&&rL(eh,eh.destination)}catch(pE){yM(eh,pE),YC(eh,pE)}}return reactDomServer_browser_production_min.renderToReadableStream=function(eh,rE){return new Promise(function(uE,pE){var DE,CE,kE=new Promise(function(bR,eT){CE=bR,DE=eT}),QE=HP(eh,Hn(rE?rE.identifierPrefix:void 0,rE?rE.nonce:void 0,rE?rE.bootstrapScriptContent:void 0,rE?rE.bootstrapScripts:void 0,rE?rE.bootstrapModules:void 0),Jp(rE?rE.namespaceURI:void 0),rE?rE.progressiveChunkSize:void 0,rE?rE.onError:void 0,CE,function(){var bR=new ReadableStream({type:"bytes",pull:function(eT){if(QE.status===1)QE.status=2,_e(eT,QE.fatalError);else if(QE.status!==2&&QE.destination===null){QE.destination=eT;try{rL(QE,eT)}catch(GT){yM(QE,GT),YC(QE,GT)}}},cancel:function(){TU(QE)}},{highWaterMark:0});bR.allReady=kE,uE(bR)},function(bR){kE.catch(function(){}),pE(bR)},DE);if(rE&&rE.signal){var mR=rE.signal,wR=function(){TU(QE,mR.reason),mR.removeEventListener("abort",wR)};mR.addEventListener("abort",wR)}sL(QE)})},reactDomServer_browser_production_min.version="18.3.1",reactDomServer_browser_production_min}var hasRequiredServer_browser;function requireServer_browser(){if(hasRequiredServer_browser)return server_browser;hasRequiredServer_browser=1;var ie,ee;return ie=requireReactDomServerLegacy_browser_production_min(),ee=requireReactDomServer_browser_production_min(),server_browser.version=ie.version,server_browser.renderToString=ie.renderToString,server_browser.renderToStaticMarkup=ie.renderToStaticMarkup,server_browser.renderToNodeStream=ie.renderToNodeStream,server_browser.renderToStaticNodeStream=ie.renderToStaticNodeStream,server_browser.renderToReadableStream=ee.renderToReadableStream,server_browser}var server_browserExports=requireServer_browser();const writeIntoInput=(ie,ee,te)=>{function se(ne,le){const ue=Object.getOwnPropertyDescriptor(ne,"value").set,ce=Object.getPrototypeOf(ne),he=Object.getOwnPropertyDescriptor(ce,"value").set;ue&&ue!==he?he.call(ne,le):ue.call(ne,le)}se(ie,ee),ie.dispatchEvent(new Event("input",{bubbles:!0})),te&&setTimeout(()=>{ie.focus(),ie.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,key:"Enter"}))},100)},writeIntoChatInput=(ie,ee)=>{const te=document.querySelector("input.chat-input");writeIntoInput(te,ie,ee)};window.writeIntoChatInput=writeIntoChatInput;const allowedHostnamesForUsers=["zyo.se","habblet.city","youtu.be","youtube.com","www.habbonce.com.br","habbonce.com.br","bubblet.com.br","habbletdreams.com","radiohabblet.com.br","wired.blet.in","pauxis.dev","toolsblet.in","x.com"],delay=ie=>new Promise(ee=>setTimeout(ee,ie));window.copyFigure=ie=>{myself.copyUnitByUsername(ie)};const figureReplacement=`<div style="background: #408CAF; border-radius: 5px; height: 100%; padding: 2px; color: white !important; display: flex; gap: 4px; align-items: center;" onClick="window.copyFigure('$&')"><img src="${hotel.images.clothesHanger}" style="width: 20px; height: 20px; object-fit: scale-down;"/><span>$&</span></div>`,hibiscoFigurePattern=/[MF]=(\w{2}(-\d+)+\.)+(\w{2}(-\d+)+)/,callbackDetectAndInsertFiguresOnInnerText=ie=>{const ee=ie.html();ee.match(hibiscoFigurePattern)&&ie.html(ee.replace(hibiscoFigurePattern,figureReplacement))},urlPattern=/(?:https?:\/\/)?((www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*))/g,callbackDetectAndInsertLinksOnInnerText=(ie,ee=[])=>{let te=ie.text();const se=te.match(urlPattern);if(!(!se||!se.length)){for(const ne of se){const le=ne.startsWith("http")?ne:`http://${ne}`,ue=new URL(le).hostname;if(ee.length&&!ee.includes(ue))continue;const he=`<a href="http://${ne.replace(/(^\w+?:|^)\/\//,"")}" style="color: inherit !important; opacity: 0.8; text-decoration: underline;" target="_blank">${ne}</a>`;te=te.replace(ne,he)}ie.html(te)}},callbackDetectAndInsertLinksOnMottoText=(ie,ee=[])=>{const te=ie.find("> div:not(.hibisco-link)"),se=ie.find("> .hibisco-link");if(se.length){if(se.text().trim()==te.text().trim())return;se.remove()}const ne=te[0].outerHTML;let le=ne;const ue=ne.match(urlPattern);if(!ue||!ue.length)return;for(const he of ue){const de=he.startsWith("http")?he:`http://${he}`,_e=new URL(de).hostname;if(ee.length&&!ee.includes(_e))continue;const ye=`<a href="http://${he.replace(/(^\w+?:|^)\/\//,"")}" style="color: inherit !important; opacity: 0.8; text-decoration: underline;" target="_blank">${he}</a>`;le=le.replace(he,ye)}const ce=$(le);ce.addClass("hibisco-link"),ce.insertAfter(te),te.css({visibility:"hidden",position:"absolute"}),ce.css({visibility:"",position:""})},log$3=(...ie)=>{},wiredRerenderInfo={id:null,roots:[],elements:[]};function areAllRootsConnected(){return wiredRerenderInfo.elements.every(ie=>ie.isConnected)}const changeSelectionToIcons=async(ie,ee=0)=>{const te=(...we)=>{console.debug("changeSelectionToIcons",...we)},se=ie.closest(".nitro-wired");if(!A$2.reworkUi.wired.selectSourceByIcons){te("selectSourceByIcons -> not enabled");return}const le=wiredGlobalConfiguration.getTriggerable().id;if(wiredRerenderInfo.roots.length&&wiredRerenderInfo.id===le&&areAllRootsConnected()){te("selectSourceByIcons -> already rendered",{wiredId:le,wiredRerenderInfo,areAllRootsConnected:areAllRootsConnected(),rootsCount:wiredRerenderInfo.roots.length,elementsCount:wiredRerenderInfo.elements.length,elementsBool:wiredRerenderInfo.elements.every(we=>we.isConnected)});return}te("allowMount",{wiredId:le,wiredRerenderInfo,areAllRootsConnected:areAllRootsConnected(),rootsCount:wiredRerenderInfo.roots.length,elementsCount:wiredRerenderInfo.elements.length,elementsBool:wiredRerenderInfo.elements.every(we=>we.isConnected)});for(const we of wiredRerenderInfo.roots)try{we.unmount()}catch(De){console.error(De)}for(const we of wiredRerenderInfo.elements)try{we.remove()}catch(De){console.error(De)}wiredRerenderInfo.id=le,wiredRerenderInfo.roots=[],wiredRerenderInfo.elements=[];const ue=se.find("div:has(> .wired-button)"),ce=wiredGlobalConfiguration.furniSelectionTypes.length,he=wiredGlobalConfiguration.getTriggerableType(),de=wiredGlobalConfiguration.getTriggerable().code,_e=he==="condition",fe=he==="selector",ye=_e&&de==38||fe&&[12,6].includes(de),be=we=>we<ce;let Pe=-1;const Ne=ue.toArray();if(!se.html()){te("selectSourceByIcons -> nitro-wired html is empty, retrying. this was the retry "+ee),ee<=10?(await waitMs$1(50),await changeSelectionToIcons($(".nitro-wired .wired-button"),++ee)):te("selectSourceByIcons -> nitro-wired html is empty [all retries done]");return}for(const we of Ne){const De=$(we).find(".nitro-slider").length,$e=$(we).find(".text-center").length;if(De||!$e)continue;Pe++;const Ge=be(Pe),Be=Ge?Pe:Pe-ce,ze=$(we),$t=jsxRuntimeExports.jsx(IconSourceSelect,{isMerged:ye,sourceFor:Ge?"furni":"user",nthSelectorForThisSource:Be}),[ut,Ti]=createNodeAndRenderReact($t,`IconSourceSelect-${Pe}`,{width:"100%"});if(!$(".nitro-wired:has(.wired-button)").length){te("selectSourceByIcons -> nitro-wired does not exist, retrying. this was the retry "+ee),ee<=10?(await waitMs$1(50),await changeSelectionToIcons($(".nitro-wired .wired-button"),++ee)):te("selectSourceByIcons -> nitro-wired does not exist [all retries done]");return}if(!ze[0].isConnected){te("selectSourceByIcons -> source does not exist, retrying. this was the retry "+ee),ee<=10?(await waitMs$1(50),await changeSelectionToIcons($(".nitro-wired .wired-button"),++ee)):te("selectSourceByIcons -> source does not exist [all retries done]");return}ze[0].isConnected?(te("selectSourceByIcons -> source is connected"),ze.css({position:"absolute",visibility:"hidden"}),$(ut).insertBefore(ze),wiredRerenderInfo.roots.push(Ti),wiredRerenderInfo.elements.push(ut)):te("selectSourceByIcons -> source is not connected")}};async function updateFriendsRoomList(){HibiscoEvents.emit("STARTED_FETCHING_FRIENDS_ROOM_LIST"),!roomStore.roomFriendsSave||!roomStore.roomFriendsSave.data?roomStore.roomFriendsSave={forceFetch:!1,isFetching:!0,cacheTimestamp:Date.now(),data:new Map}:(roomStore.roomFriendsSave.forceFetch=!1,roomStore.roomFriendsSave.isFetching=!0,roomStore.roomFriendsSave.cacheTimestamp=Date.now()),Message.block("MESSENGER_FOLLOW_FAILED"),Message.block("ROOM_FORWARD"),Message.block("ROOM_INFO");try{for(const ie of roomStore.onlineFriends){if(await yields(),!ie.online||A$2.reworkUi.showRoomOnlyOfRelationship&&ie.relationshipStatus==0)continue;const ee=await myself.findRoomMyFriendIsOn(ie.id);ee&&roomStore.roomFriendsSave.data.set(ie.name,ee)}}catch{myself.bubbleNotificate("Erro ao atualizar lista de quartos com amigos.",hotel.images.friendAll)}finally{Message.unblock("MESSENGER_FOLLOW_FAILED"),Message.unblock("ROOM_FORWARD"),Message.unblock("ROOM_INFO")}HibiscoEvents.emit("FINISHED_FETCHING_FRIENDS_ROOM_LIST")}let purseRenderedElement,purseRenderedRoot=null,purseRendered=null,roomToolsRenderedElement,roomToolsRenderedRoot,roomToolsRendered=null,lastInfostandCollapseRoot=null,customTonerRoot=null;const loadObserverActions=()=>{window.observerIdBeingRegistered=0,keepExecutingActionOnSelector({selector:".nitro-external-image-widget .picture-preview",callback:Be=>{if(!Be.attr("style"))return;const $t=Be[0].style||window.getComputedStyle(Be[0]);if(!$t||!$t.backgroundImage||$t.backgroundImage=="none")return;const ut=$t.backgroundImage.slice(4,-1).replace(/['"]/g,"");if(!ut)return;Be.find("img").remove();const Ti=$("<img></img>");Ti.attr("src",ut),Ti.css({"object-fit":"none",width:"max-content",height:"max-content"}),cssImportant(Ti,"max-width","none"),Be.css({"background-image":"none",overflow:"auto",justifyContent:"start",alignItems:"start",width:"100%",height:"100%"}),Be.removeClass("align-items-center justify-content-center"),Be.closest(".nitro-card").width(338).height(398),Be.append(Ti)}}),keepExecutingActionOnSelector({selector:".motto-content",callback:Be=>{if(!A$2.clickableLinks.motto||Be.siblings().length)return;let $t=allowedHostnamesForUsers;hibiscoStore.isZhang&&($t=[]),callbackDetectAndInsertLinksOnMottoText(Be,$t)}}),keepExecutingActionOnSelector({selector:".nitro-card.nitro-room-info",callback:Be=>{if(!hibiscoStore.isOwner||!A$2.roomFilters){Be.find(".room-filters").remove();return}if(!Be.find(".room-filters").length){const ze=$('<div class="d-flex align-items-center justify-content-center btn btn-secondary btn-sm room-filters">Filtros de quarto</div>');ze.on("click",()=>{Packet.send("ROOM_FILTER_WORDS",[roomStore.room.data.roomId])}),Be.find(".d-flex .btn-secondary:last-child").after(ze)}}}),keepExecutingActionOnSelector({selector:".nitro-card.nitro-room-info",callback:Be=>{if(!hibiscoStore.hasRights||hibiscoStore.isOwner||!A$2.removeRightsOwn){Be.find(".remove-rights-own").length&&Be.find(".remove-rights-own").remove(),!hibiscoStore.isOwner&&Be.find(".room-filters").length&&Be.find(".room-filters").remove();return}if(!Be.find(".remove-rights-own").length){const ze=$('<div class="d-flex align-items-center justify-content-center btn btn-danger btn-sm remove-rights-own">Remover próprios direitos</div>');ze.on("click",()=>{askToConfirm({message:"Você perderá os direitos no quarto de forma irreversível e só poderá voltar a ter se ganhar novamente do(a) dono(a) do quarto.",onConfirm:()=>{Packet.send("ROOM_RIGHTS_REMOVE_OWN",[])},danger:!0})}),Be.find(".content-area").append(ze)}}}),doActionWhenSelectorExists({selector:".chat-content span.message",callback:Be=>{if(A$2.clickableLinks.messages){let ze=allowedHostnamesForUsers;hibiscoStore.isZhang&&(ze=[]),callbackDetectAndInsertLinksOnInnerText(Be,ze)}}}),doActionWhenSelectorExists({selector:".nitro-inventory .layout-grid-item",callback:Be=>{if(Be.attr("hibisco-event"))return;Be.attr("hibisco-event","true");const $t=()=>{Be.attr("hibisco-marked")=="true"?(Be.attr("hibisco-marked",""),Be.addClass("active"),Be.css({backgroundColor:""})):(Be.attr("hibisco-marked","true"),Be.removeClass("active"),Be.css({backgroundColor:"#c9171782"}))};Be.get(0).addEventListener("contextmenu",ut=>{ut.preventDefault(),ut.stopImmediatePropagation(),$t()},!0)}});const ie=Be=>{const ze=Be.attr("style");if(!ze)return;const ut=ze.match(/\/(\w+?)_icon\./);if(!ut)return;const Ti=ut[1],Hi=getFurniInfoByClassname(Ti);if(Hi)return Hi.id};doActionWhenSelectorExists({selector:".nitro-inventory .delete-button",callback:Be=>{if(Be.attr("hibisco-event"))return;Be.attr("hibisco-event","true");const $t=ut=>{const Ti=$(".nitro-inventory .layout-grid-item[hibisco-marked=true]").toArray();if(!Ti.length)return;ut.preventDefault(),ut.stopImmediatePropagation();const Hi=[],bn=[];for(const gd of Ti){const Pm=$(gd),oE=ie(Pm);if(!oE)continue;bn.push(String(oE));const nE=inventory.getAllItemsOfSpriteId(oE).map(On=>String(On.itemId));Hi.push(...nE)}askToConfirm({title:"Cuidado",message:`Você está prestes a excluir todas as unidades de ${bn.length} mobis diferentes do seu inventário (${Hi.length} unidades ao total). Essa ação não poderá ser revertida. Deseja continuar?`,danger:!0,buttonText:"Excluir",onConfirm:async()=>{for(const gd of Ti){const Pm=$(gd);Pm.attr("hibisco-marked",""),Pm.css({backgroundColor:""})}for(const gd of bn)await waitMs$1(200),console.debug("DELETE_INVENTORY_ITEM_PERMANENTLY",[1,gd]),Packet.send("DELETE_INVENTORY_ITEM_PERMANENTLY",[1,gd])}})};Be.get(0).addEventListener("click",$t,!0)}}),doActionWhenSelectorExists({selector:".chat-bubble",callback:Be=>{Be.attr("data-timestamp",String(new Date().getTime()))}}),doActionWhenSelectorExists({selector:".bubble-container",callback:Be=>{Be.get(0).addEventListener("auxclick",ze=>{if(!A$2.followOnRightClickMessage)return;ze.preventDefault(),ze.stopImmediatePropagation();let $t="";const ut=$(Be).find(".username").text().replace(/\[GROUP \d+\]/,"").trim().split(" ");if(ut.length>1?$t=ut[1]:$t=ut[0],$t=$t.slice(0,-1),getUnitByUsername($t)){myself.bubbleNotificate(`Você já está no mesmo quarto que ${$t}!`,hotel.images.empty36TilesRoom);return}myself.bubbleNotificate("Seguindo "+$t+"...",hotel.images.empty36TilesRoom),myself.notificate(":follow "+$t),myself.say(":follow "+$t)},!0)}}),doActionWhenSelectorExists({selector:".nitro-alert",callback:Be=>{const ze=Be.find(".btn-primary");if(!ze.length)return;const $t=ze.text();if(!$t||$t.trim()!=="Confirmar")return;const ut=Be.find(".nitro-card-header-text").text();ut&&ut.trim()==="Por favor confirme a mudança de um não-proprietário!"&&A$2.wiredSkipConfirmation&&ze.trigger("click")}}),doActionWhenSelectorExists({selector:'img[src="https://images.leet.city/c_images/album1584/XPBADGE86.gif"]',callback:Be=>{Be.attr("src","https://images.habblet.city/c_images/album1584/HBT1161.gif")}}),doActionWhenSelectorExists({selector:".bubble-image-container:empty ~ .text-white",callback:Be=>{if(Be.text().trim()=="As conversas nos Quartos talvez estejam sendo monitoradas pela moderação"){const ze=$("<img></img>");ze.attr("src",hotel.images.bichoHabbo),ze.addClass("no-select"),ze.css({height:"40px",width:"40px",minWidth:"40px",minHeight:"40px",objectFit:"scale-down"}),Be.siblings(".bubble-image-container").append(ze)}}}),doActionWhenSelectorExists({selector:".bubble-image-container img",callback:Be=>{Be.css({minWidth:"40px",minHeight:"40px",objectFit:"scale-down"})}}),doActionWhenSelectorExists({selector:".profile-bar > .text-truncate",callback:Be=>{if(!A$2.clickableLinks.profile)return;let ze=allowedHostnamesForUsers;hibiscoStore.isZhang&&(ze=[]),callbackDetectAndInsertLinksOnInnerText(Be,ze)}}),doActionWhenSelectorExists({selector:".message-bubble .text-break",callback:Be=>{if(hibiscoFigurePattern.test(Be.text()))callbackDetectAndInsertFiguresOnInnerText(Be);else if(A$2.clickableLinks.console){let ze=allowedHostnamesForUsers;hibiscoStore.isZhang&&(ze=[]),callbackDetectAndInsertLinksOnInnerText(Be,ze)}}}),doActionWhenSelectorExists({selector:"#area_player, #player2",callback:async Be=>{Be.remove()}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[A$2.hideBalloons],selector:".bubble-container",callback:Be=>{let ze="";const $t=$(Be).find(".username").text().replace(/\[GROUP \d+\]/,"").trim().split(" ");$t.length>1?ze=$t[1]:ze=$t[0],ze=ze.slice(0,-1);const ut=getUnitByUsername(ze),Ti=On=>{On.css({visibility:"hidden",position:"absolute",height:0}),On.removeClass("visible")},Hi=(ut==null?void 0:ut.userType)===RoomObjectType.USER,bn=(ut==null?void 0:ut.userType)===RoomObjectType.BOT||(ut==null?void 0:ut.userType)===RoomObjectType.RENTABLE_BOT,gd=(ut==null?void 0:ut.userType)===RoomObjectType.PET,Pm=A$2.hideBalloons.users,oE=A$2.hideBalloons.bots,aE=A$2.hideBalloons.pets,nE=Pm||oE||aE;if(!w$2){nE&&Ti(Be);return}(Pm&&Hi||oE&&bn||aE&&gd)&&Ti(Be)}}),doActionWhenSelectorExists({selector:".nitro-catalog .catalog-teaser-image",callback:Be=>{Be.css({height:"fit-content"}),!Be.find("img").length?Be.css({position:"absolute",visibility:"hidden"}):Be.css({position:"relative",visibility:"visible"}),Be.is(":first-child")||Be.prependTo(Be.parent())}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[A$2.reworkUi.store],selector:".nitro-catalog .grid:has(> .layout-grid-item)",callback:Be=>{log$3("abdf View store as list");const ze=Be.parent().text().includes("Comprar"),$t=Be.siblings(".catalog-teaser-image").length;if(window.isHabblet&&!$t&&!ze){log$3("No teaser or buy button found");return}const ut=A$2.reworkUi.store.showOptionToShowAsList,Ti=Be.parent().find("#catalog-list-to-grid-switch"),Hi=Ti.length;if(ut&&!Hi){const bn=jsxRuntimeExports.jsx(ListToGridSwitch,{}),gd=$('<div id="catalog-list-to-grid-switch" />');gd.insertBefore(Be),clientExports.createRoot(gd[0]).render(bn)}else!ut&&Hi&&Ti.remove();if(!A$2.reworkUi.store.showAsList){Be.css({"grid-template-columns":"repeat(auto-fill, minmax(40px, 1fr))"}),Be.removeClass("gap-1"),Be.addClass("gap-2");return}Be.css({"grid-template-columns":"1fr"}),Be.removeClass("gap-2"),Be.addClass("gap-1")}}),doActionWhenSelectorExists({selector:".text-decoration-underline",callback:Be=>{if(!A$2.reworkUi.alwaysOpenAdvancedSettings)return;Be.text()==="Mostrar configurações avançadas"&&Be.trigger("click")}}),doActionWhenSelectorExists({selector:".btn-success",callback:Be=>{if(!A$2.reworkUi.ringDoorbellAutomatically)return;Be.text().trim()==="Tocar campainha"&&Be.trigger("click")}}),doActionWhenSelectorExists({selector:".nitro-card-header",callback:Be=>{A$2.reworkUi.minimizeCardsOnDoubleClick&&Be.on("dblclick",()=>{const ze=Be.parent(),$t=ze.height(),ut=ze.css("min-height");ze.attr("data-original-height")?(ze.height(ze.attr("data-original-height")),ze.css("min-height",ze.attr("data-original-min-height")),ze.removeAttr("data-original-height"),ze.removeAttr("data-original-min-height")):(ze.attr("data-original-height",$t),ze.attr("data-original-min-height",ut),ze.height(Be.height()),ze.css("min-height",Be.height()))})}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[A$2.reworkUi.store],selector:".nitro-catalog .btn-primary",callback:Be=>{Be.text().trim()==="Presentear"&&(A$2.reworkUi.store.removeGiftButton?Be.css({position:"absolute",visibility:"hidden"}):Be.css("visibility")==="hidden"&&Be.css({position:"",visibility:""}))}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[A$2.reworkUi.store],selector:".nitro-wired > .nitro-card-header > div",callback:Be=>{if(!A$2.reworkUi.wired.copyAndPasteButtons){Be.find("#CopyPasteWiredComponent").length&&Be.find("#CopyPasteWiredComponent").remove();return}if(Be.find("#CopyPasteWiredComponent").length)return;const $t=$('<div id="CopyPasteWiredComponent" style="position:absolute; left: 4px;"/>');Be.prepend($t),clientExports.createRoot($t[0]).render(jsxRuntimeExports.jsx(CopyPasteWiredComponent,{}))}}),doActionWhenSelectorExists({selector:".nitro-wired .wired-button",rerun_on_hibisco_events:["WIRED_DEFINITION_SET"],callback:changeSelectionToIcons}),doActionWhenSelectorExists({selector:".grid:has(> .nitro-avatar-editor-wardrobe-figure-preview)",rerun_on_snapshot_update:[snapshotKeys(roomStore,"wardrobeLooks")],callback:Be=>{if(!A$2.reworkUi.wardrobeCopyButtons)return;const ze=roomStore.wardrobeLooks;if(!ze.size)return;Be.find(".nitro-avatar-editor-wardrobe-figure-preview").each((ut,Ti)=>{const Hi=ze.get(ut+1);if(!Hi)return;const[bn,gd]=Hi,Pm=gd+"="+bn;$(Ti).css({posotion:"relative"});const oE=jsxRuntimeExports.jsx("div",{className:"copy-wardrobe-figure",style:{position:"absolute",top:4,right:4},children:jsxRuntimeExports.jsx(MantineProvider,{theme:MantineCustomTheme,forceColorScheme:"light",children:jsxRuntimeExports.jsx(CopyButton,{value:Pm,timeout:2e3,children:({copied:nE,copy:On})=>jsxRuntimeExports.jsx(ActionIcon,{color:nE?"teal":"white",variant:"subtle",onClick:()=>{On(),myself.bubbleNotificate("Visual copiado para a area de transferência!",hotel.images.clothing)},children:nE?jsxRuntimeExports.jsx(IconCheck,{color:"#87b972",size:18}):jsxRuntimeExports.jsx(IconCopy,{size:18})})})})}),[aE]=createNodeAndRenderReact(oE);$(Ti).find(".copy-wardrobe-figure").remove(),Ti.appendChild(aE)})}}),doActionWhenSelectorExists({selector:".nitro-friends",callback:async Be=>{(A$2.patches.responsivenessFriendsList||A$2.reworkUi.showSelectOnlineFriendsList||A$2.reworkUi.showSelectOfflineFriendsList)&&(Be.height(360),Be.width(300))}});function ee(Be){const ze=Be.text();if(ze.startsWith("Amigos (")){const $t=ze.replace(/Amigos \(/,"Amigos Online (");$(Be).contents().filter(function(){return this.nodeType==3}).replaceWith($t)}}function te(Be){if(Be.find("#refresh-room-friends").length)return;const $t=jsxRuntimeExports.jsx(RefreshFriendRoomListButton,{}),[ut]=createNodeAndRenderReact($t,"refresh-room-friends");Be.css({display:"flex",justifyContent:"space-between",alignItems:"center"}),Be.append(ut)}const se=Be=>{!hibiscoStore.isZhang&&!hibiscoStore.hasRights||Be.css({userSelect:"text"})};doActionWhenSelectorExists({selector:".nitro-friends-messenger",callback:Be=>{A$2.copyableContent.console&&se(Be)}}),doActionWhenSelectorExists({selector:".nitro-card",callback:Be=>{A$2.copyableContent.nitroCards&&se(Be)}}),doActionWhenSelectorExists({selector:".chat-content .message",callback:Be=>{A$2.copyableContent.messages&&se(Be)}}),doActionWhenSelectorExists({selector:".chat-content .username",callback:Be=>{if(!A$2.copyableContent.username)return;let ze=!1,$t=Be;Be.find("font").length&&($t=Be.find("font")),Be.css({cursor:"pointer"}),Be.on("mouseover",()=>{cssImportant($t,"color","#3246b9")}),Be.on("mouseout",()=>{ze||$t.css({color:""})}),Be.on("click",ut=>{ut.preventDefault(),ut.stopImmediatePropagation();let Ti=Be.text().trim();Ti.endsWith(":")&&(Ti=Ti.slice(0,-1)),Ti.trim().includes(" ")&&(Ti=Ti.split(" ")[1]),navigator.clipboard.writeText(Ti),cssImportant($t,"color","#38761d"),ze=!0,setTimeout(()=>{ze=!1,$t.css({color:""})},2e3)})}}),doActionWhenSelectorExists({selector:".nitro-infostand .icon-profile-sm ~ .text-white, .nitro-infostand .text-white.fw-bold:has(+ svg.fa-icon)",callback:Be=>{if(!A$2.copyableContent.username)return;let ze=!1;Be.css({cursor:"pointer"}),Be.on("mouseover",()=>{cssImportant(Be,"color","#3d85c6")}),Be.on("mouseout",()=>{ze||Be.css({color:""})}),Be.on("click",$t=>{$t.preventDefault(),$t.stopImmediatePropagation();const ut=Be.text().trim();navigator.clipboard.writeText(ut),cssImportant(Be,"color","#93c47d"),ze=!0,setTimeout(()=>{ze=!1,Be.css({color:""})},2e3)})}}),doActionWhenSelectorExists({selector:".nitro-infostand",callback:Be=>{A$2.copyableContent.infostand&&se(Be)}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[snapshotKeys(A$2,"translucentToolbar")],selector:".nitro-toolbar, .nitro-room-tools, .nitro-toolbar-me, .nitro-room-tools-info",callback:Be=>{A$2.translucentToolbar?(Be.css({background:"#2e2e2e99",boxShadow:"none"}),Be.hasClass("nitro-toolbar")&&Be.css({boxShadow:"inset 0 2px 0 0 rgb(66 66 66 / 60%)"})):Be.css({background:"",boxShadow:""})}}),doActionWhenSelectorExists({selector:".nitro-hotel-view",callback:Be=>{if(!A$2.patches.fixLobbyPage)return;Be.css({height:"100vh"});const ze=Be.find(".landing-widgets > .row > .col-3"),$t=Be.find(".landing-widgets > .row > .col-9");ze.text().trim()===""&&(ze.remove(),$t.removeClass("col-9")),$t.css({paddingTop:"20vh"});const ut=$t.find(".col-12");ut.css({gap:"10px",flexWrap:"wrap",justifyContent:"center"}),ut.find(".col-7").css({width:"55%"}),ut.find(".col-5").css({width:"39%"});const bn=ut.find(".widget-slot");bn.css({display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"#00000055",padding:"10px",borderRadius:"10px"});for(const oE of bn.toArray()){const aE=$(oE);aE.children().length===0?aE.css({position:"absolute",visibility:"hidden"}):aE.css({position:"relative",visibility:"visible"})}Be.find("small").css({fontSize:"0.8rem"}),bn.find(".mb-4").css({marginBottom:"0px"})}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[A$2.avatarToolbar],selector:".nitro-toolbar-me .navigation-item",callback:Be=>{A$2.avatarToolbar.removeFilter?Be.css({filter:"none",transition:"transform, filter .2s ease-out"}):Be.css({filter:"",transition:"transform .2s ease-out"}),Be.css("position","relative"),Be.on("mouseenter",function(){A$2.avatarToolbar.useHoverAnimation&&$(this).css("transform","scale(1.1)").css("transition","transform, filter .2s ease-out")}).on("mouseleave",function(){$(this).css("transform","scale(1.0)")})}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[A$2.avatarToolbar],selector:".nitro-toolbar-me .badge",callback:Be=>{A$2.avatarToolbar.disableBadges?Be.css({display:"none"}):Be.css({display:""})}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[A$2.avatarToolbar],selector:".navigation-item.item-avatar .badge",callback:Be=>{A$2.avatarToolbar.disableBadges?Be.css({display:"none"}):Be.css({display:""})}}),doActionWhenSelectorExists({selector:"input.chat-input",callback:Be=>{Be[0].onkeydown=ze=>{const $t=ze.key,ut=Be.val();$t==="Enter"?log$3("Enter pressed, value: ",ut):$t==="ArrowDown"?log$3("Arrow down pressed"):$t==="ArrowUp"&&log$3("Arrow up pressed")}}}),doActionWhenSelectorExists({selector:".nitro-friends",rerun_on_hibisco_events:["FORCE_FETCH_FRIENDS_ROOM_LIST"],callback:async Be=>{if(!hibiscoStore.isZhang||!A$2.reworkUi.showRoomOfFriends)return;const ze=Be.find(".nitro-card-accordion-set-header > .text-black").toArray();for(const Ti of ze){if(!Ti.textContent||!Ti.textContent.trim().startsWith("Amigos"))continue;const Hi=roomStore.friends.size;Ti.innerText=`Amigos (${Hi})`}const $t=roomStore.roomFriendsSave;let ut=$t.forceFetch;if(A$2.reworkUi.updateFriendRoomListOnOpenList){const Ti=$t.cacheTimestamp,bn=Date.now()-Ti,Pm=A$2.reworkUi.updateFriendRoomListCacheInvalidateSeconds*1e3;bn>=Pm&&(ut=!0)}ut&&await updateFriendsRoomList()}}),doActionWhenSelectorExists({selector:".nitro-friends .nitro-card-accordion-set-content",callback:Be=>{if(!A$2.patches.responsivenessFriendsList)return;const ze=Be.find(".wrapper");ze.css({height:"100%",display:"flex",flexDirection:"column"}),ze.children("div:first-child").css({height:"100%"})}}),doActionWhenEventFires({hibisco_events:["STARTED_FETCHING_FRIENDS_ROOM_LIST"],callback:()=>{A$2.reworkUi.notificateFriendsRoomList&&myself.bubbleNotificate("Atualizando lista de quartos com amigos...",hotel.images.friendAll)}}),doActionWhenEventFires({hibisco_events:["FINISHED_FETCHING_FRIENDS_ROOM_LIST"],callback:()=>{A$2.reworkUi.notificateFriendsRoomList&&myself.bubbleNotificate("Lista de quartos com amigos atualizada!",hotel.images.friendAll),roomStore.roomFriendsSave.isFetching=!1}});function ne(){const Be=[],ze=[],$t=$(".nitro-friends .nitro-card-accordion-set-content .friends-container");if(!$t.length)return[Be,ze];let ut=!1;return $t.children().each((Ti,Hi)=>{if(Hi.classList.contains("second_tab")){ut=Hi.textContent.includes("Offline (");return}const bn=Hi.classList.contains("bg-primary");Hi.attributes["data-selected"]=bn,ut?ze.push(Hi):Be.push(Hi)}),[Be,ze]}doActionWhenSelectorExists({rerun_on_messages:["MESSENGER_FRIENDS","MESSENGER_UPDATE"],rerun_on_hibisco_events:["FINISHED_FETCHING_FRIENDS_ROOM_LIST"],rerun_on_snapshot_update:[A$2.reworkUi,roomStore.roomFriendsSave],selector:".nitro-friends .nitro-card-accordion-set-content:has(.friends-container)",callback:async Be=>{const ze=$(Be).find(".friends-container");let $t=null;const ut=[],Ti=[],Hi=[],bn=[];let gd=null;const Pm=[],oE=ze.children().toArray();for(const eE of oE)if(await yields(),eE.classList.contains("second_tab")&&(eE.textContent.startsWith("Amigos (")||eE.textContent.startsWith("Amigos Online (")))$t=eE,ee($(eE)),hibiscoStore.isZhang&&A$2.reworkUi.showRoomOfFriends&&te($(eE));else if(eE.classList.contains("second_tab")&&eE.textContent.includes("Offline ("))gd=eE;else{if(gd){Pm.push(eE);continue}const hE=eE.children[0].textContent.trim(),mE=getFriendByUsername(hE);if(!mE)continue;const fE=mE.relationshipStatus;fE===1?ut.push(eE):fE===2?Ti.push(eE):fE===3?Hi.push(eE):bn.push(eE);const ME=$(eE).find(".icon-follow");if(!ME.length||!roomStore.roomFriendsSave||!roomStore.roomFriendsSave.data)continue;roomStore.roomFriendsSave.isFetching?ME.css({filter:"grayscale(0.7)",opacity:"0.3",pointerEvents:"none"}):ME.css({filter:"",opacity:"",pointerEvents:""});const SE=roomStore.roomFriendsSave.data.get(hE);if(!SE)continue;const jE=SE.data.doorMode,$E=jE==2&&!hibiscoStore.isZhang?"Quarto invisível":SE.data.roomName,zE={0:"open",1:"Trancado com campainha",2:"Invisível",3:"Trancado com senha"},YE={0:"",1:"icon-navigator-room-locked",2:"icon-navigator-room-invisible",3:"icon-navigator-room-password"},HE=zE[jE],TE=`<i class="icon ${YE[jE]}" title="${HE}" style="transform: scale(.75); min-width: 13px;"></i>`,xE=$(`<div class="room-friend-info" style="font-size: 9px; color: #545454; width: 100%; padding-left: 20px; padding-right: 6px; display: flex; gap: 4px; align-items: center; justify-content: end; overflow: hidden;">${TE}<span style="overflow: hidden;white-space: nowrap; text-overflow: ellipsis; text-align: right;">${$E}</span></div>`);try{$(eE).find(".room-friend-info").remove()}catch(BE){console.error(BE)}hibiscoStore.isZhang&&A$2.reworkUi.showRoomOfFriends&&($(eE).css({whiteSpace:"nowrap"}),xE.insertBefore(ME.parent()))}ut.sort((eE,hE)=>{const mE=eE.children[0].textContent.toLowerCase();return hE.children[0].textContent.toLowerCase().localeCompare(mE)}),Ti.sort((eE,hE)=>{const mE=eE.children[0].textContent.toLowerCase();return hE.children[0].textContent.toLowerCase().localeCompare(mE)}),Hi.sort((eE,hE)=>{const mE=eE.children[0].textContent.toLowerCase();return hE.children[0].textContent.toLowerCase().localeCompare(mE)}),bn.sort((eE,hE)=>{const mE=eE.children[0].textContent.toLowerCase();return hE.children[0].textContent.toLowerCase().localeCompare(mE)}),A$2.reworkUi.reorderFriendList&&(bn.forEach(eE=>{eE.remove(),$(eE).insertAfter($t)}),Hi.forEach(eE=>{eE.remove(),$(eE).insertAfter($t)}),Ti.forEach(eE=>{eE.remove(),$(eE).insertAfter($t)}),ut.forEach(eE=>{eE.remove(),$(eE).insertAfter($t)}));const aE=Be.find(".actions-container");if(!aE)return;const nE=aE.find("div:has(> i.icon-friend-invite)")[0],On=aE.find("div:has(> i.icon-friend-delete)")[0],nh=$(`<div style="font-size: 9px"
            class="d-flex align-items-center justify-content-center btn btn-primary btn-sm text-black float-left bg-white btn-actions p-0 px-1">
            Selecionar online</div>`);nh[0].onclick=()=>{log$3("Selecionar online");const eE=ne()[0];if(!eE.length)return;const hE=eE.some(yE=>yE.attributes["data-selected"]),mE=eE.some(yE=>!yE.attributes["data-selected"]),fE=hE&&mE;eE.forEach(yE=>{const AE=!!yE.attributes["data-selected"];fE&&AE&&yE.click(),yE.click()})};const Hn=$(`<div style="font-size: 9px"
            class="d-flex align-items-center justify-content-center btn btn-primary btn-sm text-black float-left bg-white btn-actions p-0 px-1">
            Selecionar offline</div>`);Hn[0].onclick=()=>{log$3("Selecionar offline");const eE=ne()[1],hE=eE.some(yE=>yE.attributes["data-selected"]),mE=eE.some(yE=>!yE.attributes["data-selected"]),fE=hE&&mE;eE.forEach(yE=>{const AE=!!yE.attributes["data-selected"];fE&&AE&&yE.click(),yE.click()})};const Xp=$('<div class="new-bar" style="display: flex; justify-content: space-between; width: 100%; height: 100%; pointer-events: all;"></div>'),Jp=$('<div style="display: flex; gap: 4px;"></div>');Jp.append(nE);const md=$('<div style="display: flex; gap: 4px;"></div>');A$2.reworkUi.showSelectOnlineFriendsList&&md.append(nh),A$2.reworkUi.showSelectOfflineFriendsList&&md.append(Hn),md.append(On),Xp.append(Jp),Xp.append(md),aE.html(Xp[0])}});const le=$('<div class="cursor-pointer navigation-item icon icon-habbo"></div>').on("click",()=>{window.Packet.send("DESKTOP_VIEW",[])}),ue=$('<div class="cursor-pointer navigation-item icon icon-house"></div>').on("click",()=>{createAndClickLink("event:navigator/goto/home")}),ce=$('<div class="cursor-pointer navigation-item icon icon-rooms"></div>').on("click",()=>{createAndClickLink("event:navigator/toggle")}),he=$('<div class="cursor-pointer navigation-item icon icon-inventory"></div>').on("click",()=>{createAndClickLink("event:inventory/toggle")}),de=$('<div class="cursor-pointer navigation-item icon icon-catalog"></div>').on("click",()=>{createAndClickLink("event:catalog/toggle")}),_e=$('<div class="cursor-pointer navigation-item icon icon-camera"></div>').on("click",()=>{createAndClickLink("event:camera/toggle")}),fe=$('<div class="cursor-pointer navigation-item icon icon-friendall"></div>').on("click",()=>{createAndClickLink("event:friends/toggle")}),ye=$('<div class="cursor-pointer navigation-item icon icon-friendsearch"></div>').on("click",()=>{createAndClickLink("event:friends/search")}),be=$(`<div class="cursor-pointer navigation-item icon hibiscus-icon" style="background-image: url(${hotel.images.hibiscoIcon})"></div>`).on("click",()=>{A$2.isWindowVisible=!A$2.isWindowVisible}),Pe={hotel:le,house:ue,navigator:ce,inventory:he,shop:de,friends:fe,search:ye,camera:_e,hibiscus:be},Ne={};doActionWhenSelectorExists({selector:'.nitro-toolbar div:has(> img[src^="chrome-extension://"])',callback:Be=>{const $t=Be.find("img").attr("src");Ne[$t]||(Ne[$t]=Be.clone(!0,!0),Ne[$t][0].onclick=()=>{Be.trigger("click")})}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[A$2.avatarToolbar],selector:".nitro-toolbar-me",callback:Be=>{const ze=A$2.avatarToolbar.showToolbarIcons,$t=[[ze.hotel,Pe.hotel],[ze.house,Pe.house],[ze.navigator,Pe.navigator],[ze.inventory,Pe.inventory],[ze.store,Pe.shop],[ze.friendList,Pe.friends],[ze.friendSearch,Pe.search],[ze.camera,Pe.camera],[ze.hibisco,Pe.hibiscus]];for(const[ut,Ti]of $t)ut&&Be.find(Ti).length===0&&Be.append(Ti);if(ze.extensions)for(const ut in Ne){const Ti=Ne[ut];Be.find(Ti).length===0&&Be.append(Ti)}}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[snapshotKeys(A$2,"chatInputInsideToolbar")],selector:".nitro-room-chatinput-component",callback:Be=>{A$2.chatInputInsideToolbar?Be.css({display:"absolute",bottom:"0px",left:"0px",width:"100%",height:"55px"}):Be.css({display:"",bottom:"",left:"",width:"",height:""})}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[snapshotKeys(A$2,"buttonToCollapsePurse")],selector:"div:has(> .nitro-purse-container)",callback:Be=>{const ze=jsxRuntimeExports.jsx(CollapseSelectorHandler,{mode:"vertical",closeDirection:"up",element:$(".nitro-purse-container")[0],openWidth:0,openHeight:"auto",name:"purse",rounded:!0,openStyle:{width:"198px"},closedStyle:{width:"198px"}});A$2.buttonToCollapsePurse?([purseRenderedElement,purseRenderedRoot]=createNodeAndRenderReact(ze,"PurseButtonCollapse",{zIndex:"70",pointerEvents:"all"}),purseRendered=$(purseRenderedElement),Be.find(purseRendered).length===0&&purseRendered.insertBefore(Be.find(".nitro-purse-container")),Be.find("> div:last-child").css({paddingTop:"4px"})):(purseRenderedRoot&&purseRenderedRoot.unmount(),Be.find(".nitro-purse-container").css({overflow:"",transition:"",padding:"",width:"",height:""}).removeAttr("data-initial-height-set").removeAttr("data-initial-width-set"),Be.find(purseRendered).length&&purseRendered.remove(),Be.css({gap:"",alignItems:""}),Be.find("> div:last-child").css({paddingTop:""}))}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[snapshotKeys(A$2,"buttonToCollapseSideToolbar")],selector:".nitro-room-tools-container",callback:Be=>{const ze=jsxRuntimeExports.jsx(CollapseSelectorHandler,{mode:"horizontal",closeDirection:"left",element:$(".nitro-room-tools")[0],openWidth:37,openHeight:0,name:"room-tools",rounded:!1});A$2.buttonToCollapseSideToolbar?([roomToolsRenderedElement,roomToolsRenderedRoot]=createNodeAndRenderReact(ze,"RoomToolsButtonCollapse",{zIndex:"70",pointerEvents:"all"}),roomToolsRendered=$(roomToolsRenderedElement),Be.find(roomToolsRendered).length===0&&roomToolsRendered.insertBefore(Be.find(".nitro-room-tools")),cssImportant($(".nitro-room-tools-container"),"gap","0px"),$(".nitro-room-tools-container > div:last-child").css({paddingLeft:"4px"})):(roomToolsRenderedRoot&&roomToolsRenderedRoot.unmount(),Be.find(".nitro-room-tools").css({overflow:"",transition:"",padding:"",width:"",height:""}).removeAttr("data-initial-height-set").removeAttr("data-initial-width-set"),Be.find(roomToolsRendered).length&&roomToolsRendered.remove(),$(".nitro-room-tools-container").css({gap:""}),$(".nitro-room-tools-container > div:last-child").css({paddingLeft:""}))}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[A$2.hideCollapsedToolbarIcons],selector:".toolbar-home-bar-button",callback:Be=>{A$2.hideCollapsedToolbarIcons.left?Be.css({position:"absolute",visibility:"hidden"}):Be.css({position:"",visibility:""})}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[A$2.hideCollapsedToolbarIcons],selector:".toolbar-friend-bar-button",callback:Be=>{A$2.hideCollapsedToolbarIcons.right?Be.css({position:"absolute",visibility:"hidden"}):Be.css({position:"",visibility:""})}}),doActionWhenSelectorExists({selector:".item-avatar",callback:Be=>{Be.attr("has-hibisco-contextmenu")||(Be.attr("has-hibisco-contextmenu","true"),Be.on("contextmenu",ze=>{ze.preventDefault(),ze.stopImmediatePropagation(),A$2.isWindowVisible=!A$2.isWindowVisible}))}}),doActionWhenSelectorExists({selector:`.nitro-notification-bubble:has(img[src='${hotel.images.hashtag}'])`,callback:Be=>{const $t=Be.text().trim().split(": ")[0],ut=getFriendByUsername($t);ut&&(Be.off("click"),Be.on("click",()=>{followFriendById(ut.id)}))}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[snapshotKeys(A$2,"passCursorThroughToolbar")],selector:".nitro-toolbar, .nitro-room-tools, .nitro-purse-container",callback:Be=>{A$2.passCursorThroughToolbar?Be.css({pointerEvents:"none"}):Be.css({pointerEvents:""})}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[snapshotKeys(A$2,"passCursorThroughToolbar")],selector:".nitro-toolbar .cursor-pointer, .nitro-room-tools .cursor-pointer, .nitro-purse-container .cursor-pointer",callback:Be=>{A$2.passCursorThroughToolbar?Be.css({pointerEvents:"all"}):Be.css({pointerEvents:""})}}),doActionWhenSelectorExists({selector:".friend-bar-button",callback:Be=>{Be.css({pointerEvents:"all"})}}),doActionWhenSelectorExists({selector:".nitro-toolbar .navigation-item",callback:Be=>{Be.on("mouseenter",function(){A$2.deactivateToolbarItemHoverAnimation&&$(this).css("transform","none").css("filter","none")}).on("mouseleave",function(){$(this).css("transform","").css("filter","")})}}),doActionWhenSelectorExists({rerun_on_snapshot_update:[A$2.optimizations],selector:".nitro-infostand",callback:Be=>{const ze=".nitro-infostand .content-area > div:last-child";if(lastInfostandCollapseRoot&&lastInfostandCollapseRoot.unmount(),!A$2.optimizations.minimalistInfostand){$(ze).css({visibility:"",position:"",width:"",height:"",padding:""}),Be.find("div.d-flex:has(> div.d-flex > img.mx-auto)").css({position:"",visibility:""});return}if($(ze).length===0||!$(ze).text().includes("Compre um"))return;Be.find("div.d-flex:has(> div.d-flex > img.mx-auto)").css({position:"absolute",visibility:"hidden"});const $t=jsxRuntimeExports.jsx(CollapseSelectorHandler,{mode:"vertical",closeDirection:"down",element:$(ze)[0],openWidth:0,openHeight:$(ze).height(),name:"infostand",rounded:!0}),[ut,Ti]=createNodeAndRenderReact($t,"CollapseInfostand");lastInfostandCollapseRoot=Ti,Be.append(ut),cssImportant(Be,"gap","0px")}}),doActionWhenSelectorExists({selector:".nitro-infostand-container",rerun_on_snapshot_update:[A$2.optimizations],callback:Be=>{A$2.optimizations.hideAllInfoStand?Be.css({position:"absolute",visibility:"hidden"}):Be.css({position:"",visibility:""})}}),doActionWhenSelectorExists({selector:".nitro-room-widget-toner:has(.chrome-picker)",rerun_on_snapshot_update:[A$2.mobisInterfaces.toner],callback:Be=>{customTonerRoot&&customTonerRoot.unmount();const ze=Be.find(".chrome-picker");if(!A$2.mobisInterfaces.toner.enabled){ze.css({position:"",visibility:""});return}if(ze.length===0)return;const $t=ze.find("input");if($t.length===0)return;const ut=$t[0],[Ti,Hi]=createNodeAndRenderReact(jsxRuntimeExports.jsx(ColorPickerHibisco,{input:ut}),"ColorPickerHibisco");$(Ti).insertBefore(ze[0]),customTonerRoot=Hi,ze.css({position:"absolute",visibility:"hidden"})}}),doActionWhenEventFires({snapshot_update:[A$2.optimizations],callback:()=>{A$2.optimizations.fixRoomAreaSelector?setupNewAreaManager():undoSetupNewAreaManager()}});let we,De;doActionWhenSelectorExists({selector:".nitro-wired:has(.overflow-auto > canvas:not(#neighbourhood-coreduo-selector)) .wired-button",rerun_on_snapshot_update:[snapshotKeys(A$2.reworkUi.wired,"neighbourhoodRewrite")],rerun_on_hibisco_events:["WIRED_DEFINITION_SET"],callback:Be=>{const $t=Be.closest(".nitro-wired").find(".overflow-auto:has(> canvas:not(#neighbourhood-coreduo-selector))");if(!A$2.reworkUi.wired.neighbourhoodRewrite){$t.css({position:"",visibility:""});return}const ut=Dt({mode:"add",isPointerDown:!1,reference:{x:0,y:0},heightMap:wiredGlobalConfiguration.getTriggerable().stringData});$(".icon-add-tile").on("click",()=>{ut.mode="add"}),$(".icon-remove-tile").on("click",()=>{ut.mode="remove"}),$(".icon-reference-tile").on("click",()=>{ut.mode="reference"}),$(".nitro-wired div:nth-child(1) > input[type=number]").on("input",nE=>{ut.reference.x=parseInt($(nE.target).val()),ut.reference.y=parseInt($(".nitro-wired div:nth-child(2) > input[type=number]").val()),wiredGlobalConfiguration.setReferenceTile({x:ut.reference.x,y:ut.reference.y})}),$(".nitro-wired div:nth-child(2) > input[type=number]").on("input",nE=>{ut.reference.x=parseInt($(".nitro-wired div:nth-child(1) > input[type=number]").val()),ut.reference.y=parseInt($(nE.target).val()),wiredGlobalConfiguration.setReferenceTile({x:ut.reference.x,y:ut.reference.y})}),$(".nitro-wired div:has(> .icon-reference-tile) + div").length||$('<div class="move-icon-container flex grow justify-end"></div>').appendTo($(".nitro-wired div:has(div > .icon-reference-tile)"));const Hi=wiredGlobalConfiguration.getTriggerable().intData[1],bn=wiredGlobalConfiguration.getTriggerable().intData[2];ut.reference.x=Hi,ut.reference.y=bn;const gd=nE=>{wiredGlobalConfiguration.setTileHeightMap(nE),ut.heightMap=nE},Pm=({x:nE,y:On})=>{log$3("onRefChange called:",{x:nE,y:On}),wiredGlobalConfiguration.setReferenceTile({x:nE,y:On}),$(".nitro-wired div:nth-child(1) > input[type=number]").val(nE),$(".nitro-wired div:nth-child(2) > input[type=number]").val(On),ut.reference.x=nE,ut.reference.y=On};we&&we.unmount(),De&&De.isConnected&&De.remove();const[oE,aE]=createNodeAndRenderReact(jsxRuntimeExports.jsx(NeighbourhoodCoreDuoCanvas,{store:ut,onTilemapChange:gd,onRefChange:Pm}));we=aE,De=oE,$(oE).insertBefore($t),$t.css({position:"absolute",visibility:"hidden"})}});let $e,Ge;doActionWhenSelectorExists({selector:".nitro-wired .d-flex > input[type=text]",rerun_on_hibisco_events:["WIRED_DEFINITION_SET"],callback:Be=>{if(!Be.closest(".nitro-wired"))return;const $t=wiredGlobalConfiguration.getTriggerable().code,ut=11,Ti=21,Hi=$t&&[Ti,ut].includes($t),bn=$t==Ti&&wiredGlobalConfiguration.userSelectionTypes.includes(100),gd=$t==ut&&!wiredGlobalConfiguration.furniSelectionTypes.length;if(!A$2.reworkUi.wired.superWiredRewrite||!Hi||bn||gd){$e&&$e.unmount(),Ge&&Ge.isConnected&&Ge.remove(),Be.closest(".d-flex").children().css({visibility:"",position:""});return}const Pm=Be[0];$e&&$e.unmount(),Ge&&Ge.isConnected&&Ge.remove();const[oE,aE]=createNodeAndRenderReact(jsxRuntimeExports.jsx(SuperWiredInput,{defaultValue:wiredGlobalConfiguration.getTriggerable().stringData,type:$t===ut?"condition":"action",onChange:nE=>changeInputValue(Pm,nE)}),"SuperWiredInput");$e=aE,Ge=oE,Be.closest(".d-flex").children().css({visibility:"hidden",position:"absolute"}),$(oE).appendTo(Be.closest(".d-flex"))}}),doActionWhenSelectorExists({selector:".nitro-wired",callback:Be=>{waitForElementToBeRemoved(Be[0]).then(()=>{window.WiredSelectionVisualizer.removeAllWiredShaders()})}})};async function allHandlers(){loadObserverActions();const ie=`<div class="promo-article d-flex flex-row row mx-0" style="height: 150px; margin-bottom: 20px;">
        <div class="promo-article-image"
             style="background-image: url(${hotel.images.hibiscoArticle});"></div>
        <div class="col-8 d-flex flex-column h-100"><h5 class="my-2 fw-bold">Boas vindas ao Hibisco!</h5>
            <div class="">Após 6 meses de muito desenvolvimento, testes e aventuras, agora é oficial: nosso querido Hibisco está finalmente disponível ao público!<br>Agradecemos imensamente a todos que deram apoio, essa conquista é nossa |<br><br></div><a target="_blank" href="https://zyo.se/hibisco"><button class="btn btn-sm mt-auto btn-gainsboro">Acessar Discord</button></a></div>
        </div>
    </div>`;doActionWhenSelectorExists({selector:".promo-articles",callback:he=>{he.append(ie),$(".promo-article").css({height:"150px",marginBottom:"20px"})}}),doActionWhenSelectorExists({selector:".nitro-catalog .grid > .layout-grid-item",callback:he=>{log$3("abdf View store as list (restyle items)");const de=he.attr("style"),_e=he.find(".nitro-catalog-furni-icon");if(!de&&!_e.length){log$3("No style or imgIcon found");return}const ye=(_e.length?_e.attr("src"):de).match(/\/(\w+?)_icon\./);if(!ye){log$3("No classNameMatch found");return}const be=ye[1];if(!getFurniInfoByClassname(be)){log$3("No furniInfo found");return}window.classNameFromBuyOneClick&&be==window.classNameFromBuyOneClick&&A$2.optimizations.fixBuyOneButton&&(log$3("clicking on classNameFromBuyOneClick",window.classNameFromBuyOneClick),fireMouseEvents(he[0],["mousedown"]),window.classNameFromBuyOneClick=null)}}),keepExecutingActionOnSelector({selector:".nitro-toolbar .navigation-item",callback:he=>{const de=A$2.hideToolbarIcons,_e={"icon-habbo":de.hotel,"icon-leet":de.hotel,"icon-house":de.house,"icon-rooms":de.navigator,"icon-inventory":de.inventory,"icon-catalog":de.store,"item-avatar":de.profile,"icon-friendall":de.friendList,"icon-friendsearch":de.friendSearch,"icon-camera":de.camera,"icon-modtools":de.modTools},fe=(be,Pe)=>{Pe?be.css({position:"absolute",visibility:"hidden"}):be.css({position:"",visibility:""})};for(const[be,Pe]of Object.entries(_e))if(he.hasClass(be))return fe(he,Pe);if(he.find("img[src^='chrome-extension://']").length>0)return fe(he,de.extensions);fe(he,de.rest)}}),keepExecutingActionOnSelector({selector:".nitro-inventory .text-truncate",callback:he=>{if(!A$2.reworkUi.breakWiredName)return;const de=he.text(),_e=/WIRED.*:/.test(de),[fe,ye]=de.split(":"),be=`
            <div class="d-flex flex-column">
                <div class="text-truncate" style="font-size: 0.8em; opacity: 0.8;">${fe}</div>
                <div class="text-truncate">${ye}</div>
            </div>`;_e&&he.html(be)}}),doActionWhenSelectorExists({selector:".wordquiz-question",callback:he=>{A$2.useHibiscoPoll&&he.css({visibility:"hidden",position:"absolute"})}}),doActionWhenSelectorExists({selector:".nitro-inventory .text-truncate",callback:he=>{if(!A$2.reworkUi.breakWiredName)return;const de=he.text(),_e=/WIRED.*:/.test(de),[fe,ye]=de.split(":"),be=`
            <div class="d-flex flex-column">
                <div class="text-truncate" style="font-size: 0.7em; opacity: 0.8;">${fe}</div>
                <div class="text-truncate">${ye}</div>
            </div>`;_e&&he.html(be)}}),keepExecutingActionOnSelector({selector:".nitro-inventory input[type=text]",callback:he=>{const de=he.val(),_e=$(".nitro-inventory input ~ .btn-sm:has(> .fa-icon)"),fe=$(".nitro-inventory input ~ .clear-button");if(de)if(_e.css({visibility:"hidden",position:"absolute"}),fe.length)fe.css({visibility:"",position:""});else{const be=$(`<div class="d-flex align-items-center justify-content-center btn btn-primary btn-sm clear-button">
<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 352 512" class="cursor-pointer fa-icon" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>
</div>`);he.after(be),be.on("click",()=>{changeInputValue(he[0],"")})}else _e.css({visibility:"",position:""}),fe.length&&fe.css({visibility:"hidden",position:"absolute"})}}),await keepExecutingActionOnSelector({selector:".nitro-catalog .grid > .layout-grid-item",callback:he=>{const de=he.attr("style"),_e=he.find(".nitro-catalog-furni-icon");if(!de&&!_e.length)return;const ye=(_e.length?_e.attr("src"):de).match(/\/(\w+?)_icon\./);if(!ye)return;const be=_e.length?_e.attr("src"):de.match(/url\("(.+?)"/)[1],Pe=ye[1],Ne=getFurniInfoByClassname(Pe);if(!Ne)return;if(window.classNameFromBuyOneClick&&Pe==window.classNameFromBuyOneClick&&A$2.optimizations.fixBuyOneButton&&(fireMouseEvents(he[0],["mousedown"]),window.classNameFromBuyOneClick=null),he.hasClass("active")){if(window.lastSelectedOffer===Ne)return;window.lastSelectedOffer=Ne,HibiscoEvents.emit("USER_CLICK_SHOP_ITEM",Ne);const Be=catalog.getOfferByProductId(Ne.id)||catalog.getOfferByLocalizationId(Pe);log$3({purchaseOfferId:Ne.purchaseOfferId,search:Be,furniInfo:Ne,className:Pe}),catalog.selectedOfferFurniInfo=Ne,A$2.buyAndPlaceByClick&&(console.debug("setSelectedRoomObjectData",[roomStore.room.data.roomId,Ne.id,10,new Vector3d(-100,-100,-2),new Vector3d(0,0),"OBJECT_PLACE",Ne.id]),window.RoomEngine._roomObjectEventHandler.setSelectedRoomObjectData(roomStore.room.data.roomId,Ne.id,10,new Vector3d(-100,-100,-2),new Vector3d(0,0),"OBJECT_PLACE",Ne.id))}if(!A$2.reworkUi.store.showAsList){const Be=he.find(".nitro-catalog-furni-icon");if(!Be.length)return;const ze=Be.attr("src");he.css({"background-image":`url(${ze})`,"background-repeat":"no-repeat","background-position":"center","background-origin":"content-box",padding:"2px 0px"}),he.html("");return}if(Ne.name.trim()===he.text().trim()||_e.length)return;he.css({background:"none","background-image":"none",padding:"2px","align-items":"start"});const we=jsxRuntimeExports.jsx("img",{className:"nitro-catalog-furni-icon",alt:Ne.name,src:be,style:{height:"100%",aspectRatio:"1 / 1"}}),De=async()=>{if(window.isHabblet)return;const Be=jsxRuntimeExports.jsx("div",{style:{fontSize:"0.8em",paddingTop:"0.5em",whiteSpace:"normal"},className:"side-furni-store-description",children:Ne.description});await delay(50);const ze=$(".nitro-catalog .flex-grow-1 > .text-truncate");ze.children(".side-furni-store-description").length&&ze.children(".side-furni-store-description").text().trim()===Ne.description.trim()||ze.append(server_browserExports.renderToString(Be))},$e=jsxRuntimeExports.jsxs("div",{style:{fontSize:"0.7rem",color:"#303030",width:"100%",height:"100%",display:"flex",justifyContent:"start",alignItems:"center",flexDirection:"row",overflow:"hidden",textOverflow:"ellipsis",gap:"4px"},onClick:De,children:[we,jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"start",flexDirection:"column",overflow:"hidden",width:"100%",height:"100%",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[jsxRuntimeExports.jsx("span",{children:Ne.name}),Ne.description&&jsxRuntimeExports.jsx("span",{style:{fontSize:"0.6rem",color:"#545454",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%"},children:Ne.description})]}),jsxRuntimeExports.jsx(BuyContainer,{})]});he.html("<div></div>"),clientExports.createRoot(he[0]).render($e)}}),$("head").append('<link rel="stylesheet" href="https://unpkg.com/balloon-css/balloon.min.css">'),await keepExecutingActionOnSelector({selector:".friend-bar-item",callback:he=>{const de=he.text().trim(),_e=roomStore.friends;if(!_e.size)return;const fe=_e.findByName(de);if(!fe||!fe.motto||!A$2.reworkUi.tooltipMottoOnOnlineFriends){he.attr("aria-label")&&(he.removeAttr("aria-label"),he.removeAttr("data-balloon-pos"));return}he.attr("aria-label",fe.motto),he.attr("data-balloon-pos","up")}}),doActionWhenSelectorExists({selector:".nitro-inventory input[type='text']",callback:he=>{A$2.reworkUi.inventory.forceSearchValue&&(changeInputValue(he[0],A$2.reworkUi.inventory.forceSearchValue),A$2.reworkUi.inventory.forceSearchValue=null)}}),BC(A$2.reworkUi.inventory,"forceSearchValue",he=>{if(!he)return;const de=$(".nitro-inventory input[type='text']");!de||!de.length||(changeInputValue(de[0],A$2.reworkUi.inventory.forceSearchValue),A$2.reworkUi.inventory.forceSearchValue=null)}),window.infostandType="closed";function ee(he,de){return!!he.find(de).length}const te={userMotto:".motto-content",profileIconOnBottom:".nitro-infostand > div > div:nth-child(4) > div > div.nitro-friends-spritesheet",petStats:".pet-stats"};function se(he){return ee(he,te.userMotto)&&!ee(he,te.profileIconOnBottom)}function ne(he){return ee(he,te.petStats)}function le(he){return ee(he,te.userMotto)&&ee(he,te.profileIconOnBottom)}function ue(he){return!ee(he,te.userMotto)&&ee(he,te.profileIconOnBottom)}function ce(he){if(window.infostandType!==he)switch(window.infostandType=he,he){case"user":HibiscoEvents.emit("USER_CLICK_USER");break;case"bot":HibiscoEvents.emit("USER_CLICK_BOT");break;case"pet":HibiscoEvents.emit("USER_CLICK_PET");break;case"mobi":HibiscoEvents.emit("USER_CLICK_FURNI");break;case"closed":HibiscoEvents.emit("USER_CLOSE_INFOSTAND");break}}setInterval(()=>{const he=$(".nitro-catalog");catalog.interfaceIsOpen=he.length>0,!catalog.interfaceIsOpen&&catalog.selectedOfferFurniInfo!==null&&(catalog.selectedOfferFurniInfo=null,window.RoomEngine.objectEventHandler.resetSelectedObjectData(roomStore.room.data.roomId));const de=$(".nitro-inventory");inventory.interfaceIsOpen=de.length>0;const _e=$(".nitro-infostand-container");if(!_e.length){ce("closed");return}const fe=se(_e),ye=le(_e),be=ne(_e),Pe=ue(_e);let Ne;switch(!0){case fe:Ne="user";break;case ye:Ne="bot";break;case be:Ne="pet";break;case Pe:Ne="mobi";break;default:Ne="unknown";break}ce(Ne)},500),doActionWhenSelectorExists({selector:".nitro-infostand-container",rerun_on_hibisco_events:["USER_CLICK_BOT","USER_CLICK_FURNI","USER_CLICK_PET","USER_CLICK_USER"],callback:he=>{if(!se(he)||!A$2.infostandButtons){try{$(".hibisco-user-infostand").remove()}catch($t){console.error($t)}return}if(document.querySelector(".nitro-infostand-container > div.d-flex.gap-1.justify-content-end.mt-2"))return;const fe=$("#root > div > div.animate__animated > div > div.w-100.h-100 > div.d-flex.flex-column.gap-2.align-items-end.nitro-infostand-container > div > div > div:nth-child(1) > div.d-flex.align-items-center.justify-content-between > div > div.d-inline.text-white.fw-bold.small.text-wrap.goldfish").text().trim(),ye=document.querySelector("#root > div > div.animate__animated > div > div.w-100.h-100 > div.d-flex.flex-column.gap-2.align-items-end.nitro-infostand-container"),be=document.createElement("div");be.classList.add("d-flex","gap-1","justify-content-end","mt-2","hibisco-user-infostand");const Pe=document.createElement("button");Pe.classList.add("btn","btn-secondary","custom-button");const Ne=document.querySelector("input.chat-input");if(!Ne){console.error("Could not find chat input element.");return}const we=document.createElement("button");we.classList.add("btn","btn-primary","btn","btn-sm","btn-dark","btn-push"),we.innerHTML="Empurrar",we.onclick=()=>writeIntoInput(Ne,":push x",!0);const De=document.createElement("button");De.classList.add("btn","btn-primary","btn","btn-sm","btn-dark","btn-pull"),De.innerHTML="Puxar",De.onclick=()=>writeIntoInput(Ne,":pull x",!0);const $e=document.createElement("button");$e.classList.add("btn","btn-primary","btn","btn-sm","btn-dark","btn-kiss"),$e.innerHTML="Beijar",$e.onclick=()=>writeIntoInput(Ne,":kis x",!0);const Ge=document.createElement("button");Ge.classList.add("btn","btn-primary","btn","btn-sm","btn-dark","btn-abracar"),Ge.innerHTML="Abraçar",Ge.onclick=()=>writeIntoInput(Ne,":abracar x",!0);const Be=document.createElement("button");Be.classList.add("btn","btn-primary","btn","btn-sm","btn-dark","btn-abracar"),Be.innerHTML="Socar",Be.onclick=()=>writeIntoInput(Ne,":soco x",!0);const ze=localStorage.getItem("buttonsVisible")==="true";Pe.addEventListener("click",()=>{Pe.innerHTML=ze?"&#x25B2;":"&#x25BC;"}),Pe.style.color="#fff",Pe.style.backgroundColor="#3d3d3d",Pe.style.borderColor="#ffffff",Pe.style.height="25px",Pe.style.textEmphasis=">",be.appendChild(we),be.appendChild(De),be.appendChild(Ge),be.appendChild($e),be.appendChild(Be),ye.appendChild(be)}}),await keepExecutingActionOnSelector({selector:".nitro-wired .wired-button",callback:changeSelectionToIcons}),await keepExecutingActionOnSelector({selector:".nitro-wired",callback:()=>{const he=wiredGlobalConfiguration.getTriggerable().id;window.WiredSelectionVisualizer&&!window.WiredSelectionVisualizer.isWiredSelected(he)&&window.WiredSelectionVisualizer.applyWiredShader(he)}}),keepExecutingActionOnInterval({interval:1e3,callback:async()=>{if(!roomStore.roomFriendsSave||!A$2.reworkUi.updateFriendRoomListOnBackground)return;const he=roomStore.roomFriendsSave.cacheTimestamp,de=Date.now(),fe=A$2.reworkUi.updateFriendRoomListCacheIntervalSecondsOnBackground*1e3;de-he>=fe&&await updateFriendsRoomList()}}),await keepExecutingActionOnSelector({selector:".btn.btn-warning",callback:he=>{he.text()==="Confirmar"&&A$2.reworkUi.store.skipConfirmation&&he.trigger("click")}}),doActionWhenSelectorExists({selector:".nitro-catalog input.quantity-input",rerun_on_hibisco_events:["USER_CLICK_SHOP_ITEM"],rerun_on_messages:["PRODUCT_OFFER"],callback:he=>{A$2.reworkUi.store.defaultQuantity.enabled&&he.val()=="1"&&A$2.reworkUi.store.defaultQuantity.value!=1&&changeInputValue(he[0],A$2.reworkUi.store.defaultQuantity.value)}}),doActionWhenSelectorExists({selector:".nitro-avatar-editor .btn-success",callback:he=>{if(he.text().trim()!=="Salvar mudanças")return;const _e=$('<div class="d-flex align-items-center justify-content-center btn btn-secondary btn-sm w-100">Colar código figure</div>');_e.on("click",()=>{(async()=>await navigator.clipboard.readText())().then(async ye=>{const be=/(\w{2}(-\d+)+\.)+(\w{2}(-\d+)+)$/,Pe=be.source;if(be.test(ye)){if(!new RegExp(`^[MF]=${Pe}`).test(ye)){myself.alert('Código figure não formatado para o hibisco. Está faltando o gênero no início ("M=" ou "F=")');return}const[we,De]=ye.split("=");myself.bubbleNotificate("Copiando código figure...",hotel.images.clothing),await myself.setFigure(we,De),createAndClickLink("event:avatar-editor/toggle"),setTimeout(()=>createAndClickLink("event:avatar-editor/toggle"),1)}else myself.alert("Código figure não encontrado na área de transferência.")}).catch(()=>{myself.alert("Não foi possível ler a área de transferência.")})}),he.before(_e)}})}let oldAreaManagerActivate=null,oldAreaManagerDeactivate=null;const alphaAsPercentage=.2,alphaAsLevel=255*alphaAsPercentage;let originalPixiFilters=null,keyOfFilters=null;function setupNewAreaManager(){if(oldAreaManagerActivate)return;oldAreaManagerActivate=window.RoomEngine.areaSelectionManager().activate,window.RoomEngine.areaSelectionManager().activate=function(...ee){console.debug("Called areaSelectionManager.activate with",ee),window.RoomEngine.areaSelectionManager().getAllFurnis().forEach(te=>{te.originalGetLayerAlpha=te.originalGetLayerAlpha||te.visualization.getLayerAlpha,te.visualization.getLayerAlpha=()=>alphaAsLevel,te.updateCounter++}),oldAreaManagerActivate.call(window.RoomEngine.areaSelectionManager(),...ee)},oldAreaManagerDeactivate=window.RoomEngine.areaSelectionManager().deactivate,window.RoomEngine.areaSelectionManager().deactivate=function(...ee){console.debug("Called areaSelectionManager.deactivate with",ee),window.RoomEngine.areaSelectionManager().getAllFurnis().forEach(te=>{if(roomStore.hiddenWired.has(te.id)){te.visualization.getLayerAlpha=()=>255*.6,te.updateCounter++;return}te.visualization.getLayerAlpha=te.originalGetLayerAlpha||te.visualization.getLayerAlpha,te.updateCounter++}),oldAreaManagerDeactivate.call(window.RoomEngine.areaSelectionManager(),...ee)};const ie=Object.entries(window.RoomEngine.areaSelectionManager()).filter(([,ee])=>Array.isArray(ee));ie&&(keyOfFilters=ie[0][0],originalPixiFilters=window.RoomEngine.areaSelectionManager()[keyOfFilters],window.RoomEngine.areaSelectionManager()[keyOfFilters]=[])}function undoSetupNewAreaManager(){oldAreaManagerActivate&&(window.RoomEngine.areaSelectionManager().activate=oldAreaManagerActivate,window.RoomEngine.areaSelectionManager().deactivate=oldAreaManagerDeactivate,originalPixiFilters&&(window.RoomEngine.areaSelectionManager()[keyOfFilters]=originalPixiFilters),oldAreaManagerActivate=null,oldAreaManagerDeactivate=null,originalPixiFilters=null,keyOfFilters=null)}function wrapperConsole(ie,ee){const te=ie[ee];ie[ee]=function(...se){te.call(ie,...se)}}function wrapperConsole2(ie){return function(...ee){ie.call(this,...ee)}}window.wrapperConsole=wrapperConsole,window.wrapperConsole2=wrapperConsole2,window.vec=Vector3d,window.Vector3d=Vector3d;const wipeStore=(ie=!0,ee=!1)=>{Object.keys(Ir).forEach(te=>{const se=Ir[te];if(te==="isWindowVisible"){A$2[te]=!0;return}if(!(te==="isHibiscoDisabled"&&ee)){if(typeof se=="object"&&!Array.isArray(se)&&se!==null){A$2[te]=_merge({},se);return}A$2[te]=se}}),ie&&myself.bubbleNotificate("Configurações do Hibisco limpas.",hotel.images.hibiscoIcon),loadObserverActions()};BC(A$2,"isHibiscoDisabled",ie=>{if(ie)localStorage.setItem("hibisco-settings-snapshot",JSON.stringify(A$2)),wipeStore(!1,!0);else{const ee=JSON.parse(localStorage.getItem("hibisco-settings-snapshot"));Object.keys(ee).forEach(te=>{let se=ee[te];if(te==="isHibiscoDisabled"&&(se=!1),typeof se=="object"&&!Array.isArray(se)&&se!==null){A$2[te]=_merge({},se);return}A$2[te]=se}),loadObserverActions()}}),zC(A$2,{name:"settingsStore",enabled:!0}),Gr(A$2,()=>{localStorage.setItem("hibisco-settings",JSON.stringify(A$2))}),Gr(A$2.hideEntities,()=>{if(!A$2.hideEntities.users&&!A$2.hideEntities.bots&&!A$2.hideEntities.pets){showAllHiddenUsers();return}hideIntendedEntities()});function hideIntendedEntities(){const ie=jt(roomStore),ee=ie.units.filter(le=>le.userType===RoomObjectType.USER),te=ie.units.filter(le=>[RoomObjectType.BOT,RoomObjectType.RENTABLE_BOT].includes(le.userType)),se=ie.units.filter(le=>le.userType===RoomObjectType.PET),ne=[];A$2.hideEntities.users||ne.push(...ee),A$2.hideEntities.bots||ne.push(...te),A$2.hideEntities.pets||ne.push(...se),hideAllButSomeUnits(ne)}Gr(A$2.forceEffect,()=>{if(!A$2.forceEffect.enabled){makeAllUnitEffect(0);return}const ie=A$2.forceEffect.value;makeAllUnitEffect(Number(ie))}),Gr(A$2.forceDance,()=>{if(!A$2.forceDance.enabled){makeAllUnitDance(0);return}const ie=A$2.forceDance.value;makeAllUnitDance(Number(ie))}),Gr(A$2.forceGesture,()=>{if(!A$2.forceGesture.enabled){clearInterval(A$2.forceGestureInterval);return}const ie=Number(A$2.forceGesture.value),ee=A$2.forceGesture.interval,te=()=>{makeAllUnitDoExpression(ie)};try{clearInterval(A$2.forceGestureInterval)}finally{te(),A$2.forceGestureInterval=setInterval(te,ee*1e3)}}),BC(A$2,"notRenderMobis",()=>{if(!A$2.notRenderMobis){showAllMobis();return}hideAllMobis()}),BC(A$2,"hideAllOrbs",()=>{const ie=[1356481980,1356481982,1356481984,1356481985,1356481986,1356481987,1356481988,1356481989,1356481990,886635055,886635056,1356481991,886635057,886635058,1356481981];if(!A$2.hideAllOrbs){showAllMobis(ie);return}hideAllMobis(ie)}),BC(A$2,"hideAllShadows",()=>{const ie=[886600197,886600198,886621899,886600192,886621898,886600193,886600195,886600196,886600194];if(!A$2.hideAllShadows){showAllMobis(ie);return}hideAllMobis(ie)}),Gr(A$2.hideBalloons,()=>{const ie=jt(roomStore);if(showAllBubbles(),!A$2.hideBalloons.users&&!A$2.hideBalloons.bots&&!A$2.hideBalloons.pets)return;const ee=[];ie.units.forEach(te=>{te.userType===RoomObjectType.USER?A$2.hideBalloons.users||ee.push(te.name):te.userType===RoomObjectType.BOT?A$2.hideBalloons.bots||ee.push(te.name):te.userType===RoomObjectType.PET?A$2.hideBalloons.pets||ee.push(te.name):te.userType===RoomObjectType.RENTABLE_BOT&&(A$2.hideBalloons.bots||ee.push(te.name))}),hideAllBubblesExceptFromSomeUsernames(ee)}),BC(A$2.keepFollowing,"followBetweenRooms",async()=>{if(!A$2.keepFollowing.followBetweenRooms)return;const ie=A$2.keepFollowing.unitToFollow;if(!roomStore.friends.findByName(A$2.keepFollowing.unitToFollow)){A$2.keepFollowing.unitToFollow="";return}(!roomStore.room||!getUnitByUsername(ie))&&followUser(ie)}),BC(A$2.keepFollowing,"walkInRoom",()=>{if(!A$2.keepFollowing.walkInRoom)return;const ie=A$2.keepFollowing.unitToFollow;if(!roomStore.friends.findByName(A$2.keepFollowing.unitToFollow)){A$2.keepFollowing.unitToFollow="";return}const te=getUnitByUsername(ie);te&&walkUpToUser(te)});const BasicSettings$1="_BasicSettings_1juqq_1",styles$8={BasicSettings:BasicSettings$1},Section$1="_Section_17oyk_1",Content="_Content_17oyk_1",Title="_Title_17oyk_1",styles$7={Section:Section$1,Content,Title},Section=({children:ie,title:ee})=>jsxRuntimeExports.jsxs("div",{className:clsx("_Section",styles$7.Section),children:[jsxRuntimeExports.jsx("div",{className:styles$7.Title,children:ee}),jsxRuntimeExports.jsx("div",{className:styles$7.Content,children:ie})]}),VirtualSettingBooleanOr=ie=>ie.reduce((ee,te)=>ee||te,!1),setMultipleStorePaths=(ie,ee)=>{ee.forEach(([te,se])=>{te[se]=ie})};function useVal(ie,ee){return{value:oe(ie)[ee],set:te=>{ie[ee]=te}}}const GroupedSettings$1="_GroupedSettings_1bjf9_1",CaretIcon$1="_CaretIcon_1bjf9_6",CaretIconRotated$1="_CaretIconRotated_1bjf9_10",styles$6={GroupedSettings:GroupedSettings$1,CaretIcon:CaretIcon$1,CaretIconRotated:CaretIconRotated$1};var Collapse={},hasRequiredCollapse;function requireCollapse(){if(hasRequiredCollapse)return Collapse;hasRequiredCollapse=1;function ie(Ne){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ie=function(De){return typeof De}:ie=function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},ie(Ne)}Object.defineProperty(Collapse,"__esModule",{value:!0}),Collapse.Collapse=void 0;var ee=te(requireReact());function te(Ne){return Ne&&Ne.__esModule?Ne:{default:Ne}}function se(Ne,we){if(!(Ne instanceof we))throw new TypeError("Cannot call a class as a function")}function ne(Ne,we){for(var De=0;De<we.length;De++){var $e=we[De];$e.enumerable=$e.enumerable||!1,$e.configurable=!0,"value"in $e&&($e.writable=!0),Object.defineProperty(Ne,$e.key,$e)}}function le(Ne,we,De){return ne(Ne.prototype,we),Ne}function ue(Ne,we){if(typeof we!="function"&&we!==null)throw new TypeError("Super expression must either be null or a function");Ne.prototype=Object.create(we&&we.prototype,{constructor:{value:Ne,writable:!0,configurable:!0}}),we&&ce(Ne,we)}function ce(Ne,we){return ce=Object.setPrototypeOf||function($e,Ge){return $e.__proto__=Ge,$e},ce(Ne,we)}function he(Ne){var we=fe();return function(){var $e=ye(Ne),Ge;if(we){var Be=ye(this).constructor;Ge=Reflect.construct($e,arguments,Be)}else Ge=$e.apply(this,arguments);return de(this,Ge)}}function de(Ne,we){if(we&&(ie(we)==="object"||typeof we=="function"))return we;if(we!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _e(Ne)}function _e(Ne){if(Ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ne}function fe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ye(Ne){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(De){return De.__proto__||Object.getPrototypeOf(De)},ye(Ne)}function be(Ne,we,De){return we in Ne?Object.defineProperty(Ne,we,{value:De,enumerable:!0,configurable:!0,writable:!0}):Ne[we]=De,Ne}var Pe=function(Ne){ue(De,Ne);var we=he(De);function De($e){var Ge;return se(this,De),Ge=we.call(this,$e),be(_e(Ge),"timeout",void 0),be(_e(Ge),"container",void 0),be(_e(Ge),"content",void 0),be(_e(Ge),"onResize",function(){if(clearTimeout(Ge.timeout),!(!Ge.container||!Ge.content)){var Be=Ge.props,ze=Be.isOpened,$t=Be.checkTimeout,ut=Math.floor(Ge.container.clientHeight),Ti=Math.floor(Ge.content.clientHeight),Hi=ze&&Math.abs(Ti-ut)<=1,bn=!ze&&Math.abs(ut)<=1;Hi||bn?Ge.onRest({isFullyOpened:Hi,isFullyClosed:bn,isOpened:ze,containerHeight:ut,contentHeight:Ti}):(Ge.onWork({isFullyOpened:Hi,isFullyClosed:bn,isOpened:ze,containerHeight:ut,contentHeight:Ti}),Ge.timeout=setTimeout(function(){return Ge.onResize()},$t))}}),be(_e(Ge),"onRest",function(Be){var ze=Be.isFullyOpened,$t=Be.isFullyClosed,ut=Be.isOpened,Ti=Be.containerHeight,Hi=Be.contentHeight;if(!(!Ge.container||!Ge.content)){var bn=ut&&Ge.container.style.height==="".concat(Hi,"px"),gd=!ut&&Ge.container.style.height==="0px";if(bn||gd){Ge.container.style.overflow=ut?"initial":"hidden",Ge.container.style.height=ut?"auto":"0px";var Pm=Ge.props.onRest;Pm&&Pm({isFullyOpened:ze,isFullyClosed:$t,isOpened:ut,containerHeight:Ti,contentHeight:Hi})}}}),be(_e(Ge),"onWork",function(Be){var ze=Be.isFullyOpened,$t=Be.isFullyClosed,ut=Be.isOpened,Ti=Be.containerHeight,Hi=Be.contentHeight;if(!(!Ge.container||!Ge.content)){var bn=ut&&Ge.container.style.height==="".concat(Hi,"px"),gd=!ut&&Ge.container.style.height==="0px";if(!(bn||gd)){Ge.container.style.overflow="hidden",Ge.container.style.height=ut?"".concat(Hi,"px"):"0px";var Pm=Ge.props.onWork;Pm&&Pm({isFullyOpened:ze,isFullyClosed:$t,isOpened:ut,containerHeight:Ti,contentHeight:Hi})}}}),be(_e(Ge),"onRefContainer",function(Be){Ge.container=Be}),be(_e(Ge),"onRefContent",function(Be){Ge.content=Be}),$e.initialStyle?Ge.initialStyle=$e.initialStyle:Ge.initialStyle=$e.isOpened?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"},Ge}return le(De,[{key:"componentDidMount",value:function(){this.onResize()}},{key:"shouldComponentUpdate",value:function(Ge){var Be=this.props,ze=Be.theme,$t=Be.isOpened,ut=Be.children;return ut!==Ge.children||$t!==Ge.isOpened||Object.keys(ze).some(function(Ti){return ze[Ti]!==Ge.theme[Ti]})}},{key:"getSnapshotBeforeUpdate",value:function(){if(!this.container||!this.content)return null;if(this.container.style.height==="auto"){var Ge=this.content.clientHeight;this.container.style.height="".concat(Ge,"px")}return null}},{key:"componentDidUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var Ge=this.props,Be=Ge.theme,ze=Ge.children,$t=Ge.isOpened;return ee.default.createElement("div",{ref:this.onRefContainer,className:Be.collapse,style:this.initialStyle,"aria-hidden":!$t},ee.default.createElement("div",{ref:this.onRefContent,className:Be.content},ze))}}]),De}(ee.default.Component);return Collapse.Collapse=Pe,be(Pe,"defaultProps",{theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},initialStyle:void 0,onRest:void 0,onWork:void 0,checkTimeout:50}),Collapse}var UnmountClosed={},hasRequiredUnmountClosed;function requireUnmountClosed(){if(hasRequiredUnmountClosed)return UnmountClosed;hasRequiredUnmountClosed=1;function ie(ut){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ie=function(Hi){return typeof Hi}:ie=function(Hi){return Hi&&typeof Symbol=="function"&&Hi.constructor===Symbol&&Hi!==Symbol.prototype?"symbol":typeof Hi},ie(ut)}Object.defineProperty(UnmountClosed,"__esModule",{value:!0}),UnmountClosed.UnmountClosed=void 0;var ee=le(requireReact()),te=requireCollapse(),se=["isOpened"],ne=["isOpened"];function le(ut){return ut&&ut.__esModule?ut:{default:ut}}function ue(){return ue=Object.assign||function(ut){for(var Ti=1;Ti<arguments.length;Ti++){var Hi=arguments[Ti];for(var bn in Hi)Object.prototype.hasOwnProperty.call(Hi,bn)&&(ut[bn]=Hi[bn])}return ut},ue.apply(this,arguments)}function ce(ut,Ti){var Hi=Object.keys(ut);if(Object.getOwnPropertySymbols){var bn=Object.getOwnPropertySymbols(ut);Ti&&(bn=bn.filter(function(gd){return Object.getOwnPropertyDescriptor(ut,gd).enumerable})),Hi.push.apply(Hi,bn)}return Hi}function he(ut){for(var Ti=1;Ti<arguments.length;Ti++){var Hi=arguments[Ti]!=null?arguments[Ti]:{};Ti%2?ce(Object(Hi),!0).forEach(function(bn){ze(ut,bn,Hi[bn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ut,Object.getOwnPropertyDescriptors(Hi)):ce(Object(Hi)).forEach(function(bn){Object.defineProperty(ut,bn,Object.getOwnPropertyDescriptor(Hi,bn))})}return ut}function de(ut,Ti){if(ut==null)return{};var Hi=_e(ut,Ti),bn,gd;if(Object.getOwnPropertySymbols){var Pm=Object.getOwnPropertySymbols(ut);for(gd=0;gd<Pm.length;gd++)bn=Pm[gd],!(Ti.indexOf(bn)>=0)&&Object.prototype.propertyIsEnumerable.call(ut,bn)&&(Hi[bn]=ut[bn])}return Hi}function _e(ut,Ti){if(ut==null)return{};var Hi={},bn=Object.keys(ut),gd,Pm;for(Pm=0;Pm<bn.length;Pm++)gd=bn[Pm],!(Ti.indexOf(gd)>=0)&&(Hi[gd]=ut[gd]);return Hi}function fe(ut,Ti){if(!(ut instanceof Ti))throw new TypeError("Cannot call a class as a function")}function ye(ut,Ti){for(var Hi=0;Hi<Ti.length;Hi++){var bn=Ti[Hi];bn.enumerable=bn.enumerable||!1,bn.configurable=!0,"value"in bn&&(bn.writable=!0),Object.defineProperty(ut,bn.key,bn)}}function be(ut,Ti,Hi){return ye(ut.prototype,Ti),ut}function Pe(ut,Ti){if(typeof Ti!="function"&&Ti!==null)throw new TypeError("Super expression must either be null or a function");ut.prototype=Object.create(Ti&&Ti.prototype,{constructor:{value:ut,writable:!0,configurable:!0}}),Ti&&Ne(ut,Ti)}function Ne(ut,Ti){return Ne=Object.setPrototypeOf||function(bn,gd){return bn.__proto__=gd,bn},Ne(ut,Ti)}function we(ut){var Ti=Ge();return function(){var bn=Be(ut),gd;if(Ti){var Pm=Be(this).constructor;gd=Reflect.construct(bn,arguments,Pm)}else gd=bn.apply(this,arguments);return De(this,gd)}}function De(ut,Ti){if(Ti&&(ie(Ti)==="object"||typeof Ti=="function"))return Ti;if(Ti!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(ut)}function $e(ut){if(ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut}function Ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Be(ut){return Be=Object.setPrototypeOf?Object.getPrototypeOf:function(Hi){return Hi.__proto__||Object.getPrototypeOf(Hi)},Be(ut)}function ze(ut,Ti,Hi){return Ti in ut?Object.defineProperty(ut,Ti,{value:Hi,enumerable:!0,configurable:!0,writable:!0}):ut[Ti]=Hi,ut}var $t=function(ut){Pe(Hi,ut);var Ti=we(Hi);function Hi(bn){var gd;return fe(this,Hi),gd=Ti.call(this,bn),ze($e(gd),"onWork",function(Pm){var oE=Pm.isOpened,aE=de(Pm,se);gd.setState({isResting:!1,isOpened:oE});var nE=gd.props.onWork;nE&&nE(he({isOpened:oE},aE))}),ze($e(gd),"onRest",function(Pm){var oE=Pm.isOpened,aE=de(Pm,ne);gd.setState({isResting:!0,isOpened:oE,isInitialRender:!1});var nE=gd.props.onRest;nE&&nE(he({isOpened:oE},aE))}),ze($e(gd),"getInitialStyle",function(){var Pm=gd.state,oE=Pm.isOpened,aE=Pm.isInitialRender;return aE?oE?{height:"auto",overflow:"initial"}:{height:"0px",overflow:"hidden"}:{height:"0px",overflow:"hidden"}}),gd.state={isResting:!0,isOpened:bn.isOpened,isInitialRender:!0},gd}return be(Hi,[{key:"componentDidUpdate",value:function(gd){var Pm=this.props.isOpened;gd.isOpened!==Pm&&this.setState({isResting:!1,isOpened:Pm,isInitialRender:!1})}},{key:"render",value:function(){var gd=this.state,Pm=gd.isResting,oE=gd.isOpened;return Pm&&!oE?null:ee.default.createElement(te.Collapse,ue({},this.props,{initialStyle:this.getInitialStyle(),onWork:this.onWork,onRest:this.onRest}))}}]),Hi}(ee.default.PureComponent);return UnmountClosed.UnmountClosed=$t,ze($t,"defaultProps",{onWork:void 0,onRest:void 0}),UnmountClosed}var lib,hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1;var ie=requireCollapse(),ee=ie.Collapse,te=requireUnmountClosed(),se=te.UnmountClosed;return lib=se,se.Collapse=ee,se.UnmountClosed=se,lib}var libExports=requireLib();const OpenCollapsedSettingsHandler$1="_OpenCollapsedSettingsHandler_kkzoi_1",IconContainer="_IconContainer_kkzoi_1",CaretIcon="_CaretIcon_kkzoi_19",CaretIconRotated="_CaretIconRotated_kkzoi_23",styles$5={OpenCollapsedSettingsHandler:OpenCollapsedSettingsHandler$1,IconContainer,CaretIcon,CaretIconRotated},OpenCollapsedSettingsHandler=({handler:ie,isRotated:ee})=>jsxRuntimeExports.jsx("div",{className:clsx(styles$5.OpenCollapsedSettingsHandler),children:ie&&jsxRuntimeExports.jsx("div",{className:styles$5.IconContainer,children:jsxRuntimeExports.jsx(D$1,{size:18,className:clsx(styles$5.CaretIcon,ee&&styles$5.CaretIconRotated),onClick:ie})})}),SettingSwitch=({label:ie,value:ee,isRotated:te,description:se,openCollapsedHandler:ne,onChange:le,isSubSetting:ue,_value:ce})=>jsxRuntimeExports.jsxs("div",{className:clsx(styles$g.SettingCommon,ue&&styles$g.SubSetting),children:[jsxRuntimeExports.jsx(Flex,{justify:"space-between",children:jsxRuntimeExports.jsx(Switch$2,{label:ie,checked:ce!==void 0?ce:ee.value,onChange:he=>(le||ee.set)(he.target.checked),description:se})}),jsxRuntimeExports.jsx(OpenCollapsedSettingsHandler,{handler:ne,isRotated:te})]}),SettingNumberSwitch=({label:ie,value:ee,isRotated:te,description:se,openCollapsedHandler:ne,onChange:le,isSubSetting:ue,max:ce,min:he,numberInputValue:de,step:_e,_value:fe})=>jsxRuntimeExports.jsxs("div",{className:clsx(styles$g.SettingCommon,ue&&styles$g.SubSetting),children:[jsxRuntimeExports.jsxs(Flex,{justify:"space-between",children:[jsxRuntimeExports.jsx(Switch$2,{label:ie,checked:fe!==void 0?fe:ee.value,onChange:ye=>(le||ee.set)(ye.target.checked),description:se}),jsxRuntimeExports.jsx(NumberInput$1,{value:de.value,onChange:ye=>de.set(ye),autoComplete:"off",min:he,max:ce,step:_e,size:"xs",w:"70px",radius:"md"})]}),jsxRuntimeExports.jsx(OpenCollapsedSettingsHandler,{handler:ne,isRotated:te})]}),SettingNumber=({label:ie,value:ee,isRotated:te,description:se,openCollapsedHandler:ne,isSubSetting:le,max:ue,min:ce,step:he})=>jsxRuntimeExports.jsxs("div",{className:clsx(styles$g.SettingCommon,le&&styles$g.SubSetting),children:[jsxRuntimeExports.jsx(Flex,{justify:"space-between",children:jsxRuntimeExports.jsx(NumberInput$1,{label:ie,onChange:de=>ee.set(de),description:se,value:ee.value,autoComplete:"off",min:ce,max:ue,step:he,className:styles$g.NumberInput})}),jsxRuntimeExports.jsx(OpenCollapsedSettingsHandler,{handler:ne,isRotated:te})]}),SettingTextSwitch=({label:ie,value:ee,isRotated:te,description:se,onChange:ne,textInputValue:le,textInputPlaceholder:ue,openCollapsedHandler:ce,isSubSetting:he,_value:de})=>jsxRuntimeExports.jsxs("div",{className:clsx(styles$g.SettingCommon,he&&styles$g.SubSetting),children:[jsxRuntimeExports.jsxs(Flex,{justify:"space-between",children:[jsxRuntimeExports.jsx(Switch$2,{label:ie,checked:de!==void 0?de:ee.value,onChange:_e=>(ne||ee.set)(_e.target.checked),description:se}),jsxRuntimeExports.jsx(TextInput$1,{onChange:_e=>le.set(_e.target.value),value:le.value,autoComplete:"off",placeholder:ue})]}),jsxRuntimeExports.jsx(OpenCollapsedSettingsHandler,{handler:ce,isRotated:te})]}),SettingText=({label:ie,value:ee,isRotated:te,description:se,openCollapsedHandler:ne,isSubSetting:le,placeholder:ue})=>jsxRuntimeExports.jsxs("div",{className:clsx(styles$g.SettingCommon,le&&styles$g.SubSetting),children:[jsxRuntimeExports.jsx(Flex,{justify:"space-between",children:jsxRuntimeExports.jsx(TextInput$1,{label:ie,onChange:ce=>ee.set(ce.target.value),description:se,value:ee.value,autoComplete:"off",placeholder:ue,className:styles$g.TextInput})}),jsxRuntimeExports.jsx(OpenCollapsedSettingsHandler,{handler:ne,isRotated:te})]}),SettingPeerText=({label:ie,value:ee,isRotated:te,description:se,openCollapsedHandler:ne,isSubSetting:le,placeholder:ue,peerValue:ce,peerPlaceholder:he,valueSetter:de,peerValueSetter:_e})=>jsxRuntimeExports.jsxs("div",{className:clsx(styles$g.SettingCommon,le&&styles$g.SubSetting),children:[jsxRuntimeExports.jsxs(Flex,{justify:"space-between",children:[jsxRuntimeExports.jsx(TextInput$1,{label:ie,onChange:fe=>de(fe.target.value),description:se,value:ee,autoComplete:"off",placeholder:ue,w:"100%"}),jsxRuntimeExports.jsx("div",{style:{padding:"0px 5px"},children:jsxRuntimeExports.jsx(d$3,{size:14})}),jsxRuntimeExports.jsx(TextInput$1,{label:ie,onChange:fe=>_e(fe.target.value),value:ce,autoComplete:"off",placeholder:he,w:"100%"})]}),jsxRuntimeExports.jsx(OpenCollapsedSettingsHandler,{handler:ne,isRotated:te})]}),Setting=({type:ie,...ee})=>{switch(ie){case"switch":return jsxRuntimeExports.jsx(SettingSwitch,{...ee});case"switchWithNumberInput":return jsxRuntimeExports.jsx(SettingNumberSwitch,{...ee});case"switchWithTextInput":return jsxRuntimeExports.jsx(SettingTextSwitch,{...ee});case"textInput":return jsxRuntimeExports.jsx(SettingText,{...ee});case"peerTextRaw":return jsxRuntimeExports.jsx(SettingPeerText,{...ee});case"numberInput":return jsxRuntimeExports.jsx(SettingNumber,{...ee})}},GroupedSettings=({children:ie})=>{const[ee,te]=reactExports.useState(!1);let se=ie,ne=[];Array.isArray(ie)&&(se=ie[0],ne=ie.slice(1).flat());const le=se.isMain,ue={openCollapsedHandler:()=>te(!ee),isRotated:ee},ce=jsxRuntimeExports.jsx(Setting,{...se,...le?ue:{}}),he=ne.map((de,_e)=>jsxRuntimeExports.jsx(Setting,{...de,...le?{isSubSetting:!0}:{}},_e));return jsxRuntimeExports.jsxs("div",{className:styles$6.GroupedSettings,children:[ce,le?jsxRuntimeExports.jsx(libExports.Collapse,{isOpened:ee,children:he}):he]})},BasicSettings=()=>{const ie=oe(A$2);return jsxRuntimeExports.jsxs("div",{className:clsx("_BasicSettings",styles$8.BasicSettings),children:[jsxRuntimeExports.jsxs(Section,{title:"Meu avatar",children:[jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Ativar anti-aus",value:useVal(A$2,"antiAusEnabled")},{type:"switch",label:"Não girar avatar ao clicar em usuário",value:useVal(A$2,"preventLookPackets")},{type:"switch",label:'Esconder para todos o meu balão de "digitando"',value:useVal(A$2,"hideMyTypingBalloon")},{type:"switchWithNumberInput",label:"Estilo padrão de balão",value:useVal(A$2.defaultStyleId,"enabled"),min:0,max:45,step:1,numberInputValue:useVal(A$2.defaultStyleId,"value")}]}),jsxRuntimeExports.jsx(GroupedSettings,{children:{type:"switchWithNumberInput",label:"Aplicar efeito ao entrar em quartos",value:useVal(A$2.defaultEnable,"enabled"),numberInputValue:useVal(A$2.defaultEnable,"value"),min:0,max:800,step:1}}),jsxRuntimeExports.jsx(GroupedSettings,{children:{type:"switchWithNumberInput",label:"Usar handitem ao entrar em quartos",value:useVal(A$2.defaultHanditem,"enabled"),numberInputValue:useVal(A$2.defaultHanditem,"value"),min:0,max:2e3,step:1}})]}),jsxRuntimeExports.jsxs(Section,{title:"Utilidades",children:[jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Mutar rádio ao carregar página",value:useVal(A$2,"muteRadioOnStartup")},{type:"switch",label:"Minimizar rádio ao iniciar",value:useVal(A$2,"closeRadioOnStartup")},{type:"switchWithNumberInput",label:"Forçar zoom padrão",value:useVal(A$2.defaultZoom,"enabled"),min:.5,max:20,step:.5,numberInputValue:useVal(A$2.defaultZoom,"value")}]}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,isVirtual:!0,type:"switch",label:"Links clicáveis",_value:VirtualSettingBooleanOr([ie.clickableLinks.messages,ie.clickableLinks.console,ie.clickableLinks.motto]),onChange:ee=>{setMultipleStorePaths(ee,[[A$2.clickableLinks,"messages"],[A$2.clickableLinks,"console"],[A$2.clickableLinks,"motto"]])}},{type:"switch",label:"Links clicáveis em balões",value:useVal(A$2.clickableLinks,"messages")},{type:"switch",label:"Links clicáveis no console (DM do hotel)",value:useVal(A$2.clickableLinks,"console")},{type:"switch",label:"Links clicáveis na missão",value:useVal(A$2.clickableLinks,"motto")},{type:"switch",label:"Links clicáveis no perfil",value:useVal(A$2.clickableLinks,"profile")}]}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switchWithTextInput",label:"Acompanhar usuário",_value:VirtualSettingBooleanOr([ie.keepFollowing.walkInRoom,ie.keepFollowing.followBetweenRooms]),onChange:ee=>{setMultipleStorePaths(ee,[[A$2.keepFollowing,"walkInRoom"],[A$2.keepFollowing,"followBetweenRooms"]])},textInputPlaceholder:"Username",textInputValue:useVal(A$2.keepFollowing,"unitToFollow")},{type:"switch",label:"Seguir entre quartos",value:useVal(A$2.keepFollowing,"followBetweenRooms")},{type:"switch",label:"Andar junto no quarto",value:useVal(A$2.keepFollowing,"walkInRoom")},{type:"numberInput",label:"Intervalo (ms) entre tentativas de :follow",value:useVal(A$2,"followBetweenRoomsIntervalMs"),step:500,min:500,max:1e4}]})]}),jsxRuntimeExports.jsx(Section,{title:"Notificações",children:jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Notificações de mensagens no console",value:useVal(A$2.notifications,"consoleMessages")},{type:"switch",label:"Notificações de likes no quarto (nota do quarto)",value:useVal(A$2.notifications,"roomScore")},{type:"switch",label:"Notificar ao receber direitos",value:useVal(A$2.notifications,"roomRights")},{type:"switch",label:"Ao mencionar um amigo, enviar menção com texto no console",value:useVal(A$2.notifications,"sendMentionsToConsole")},{type:"switch",label:"Notificar menções com texto recebidas no console",value:useVal(A$2.notifications,"receiveMentionsFromConsole")}]})}),jsxRuntimeExports.jsxs(Section,{title:"Comandos",children:[jsxRuntimeExports.jsx(GroupedSettings,{children:{type:"switch",label:"Comando :copy",description:"Copia visual de bots em quartos onde você tiver diretos.",value:useVal(A$2.commands,"copy")}}),jsxRuntimeExports.jsx(GroupedSettings,{children:{type:"switch",label:"Comando :rejoin",value:useVal(A$2.commands,"rejoin")}}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Comando :print",value:useVal(A$2.commands.print,"enabled")},{type:"switch",label:"Fazer download da imagem",value:useVal(A$2.commands.print,"download")},{type:"switch",label:"Abrir imagem em nova aba",value:useVal(A$2.commands.print,"viewNewTab")}]})]})]})},RenderingSettings$1="_RenderingSettings_56l16_1",styles$4={RenderingSettings:RenderingSettings$1},HideEntities=()=>{const ie=oe(A$2),ee=ie.hideEntities.users,te=ie.hideEntities.bots,se=ie.hideEntities.pets,ne=ee||te||se,le=()=>{A$2.hideEntities.users=!ne,A$2.hideEntities.bots=!ne,A$2.hideEntities.pets=!ne};return jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Ocultar entidades",_value:ne,onChange:le},{type:"switch",label:"Ocultar usuários",value:useVal(A$2.hideEntities,"users")},{type:"switch",label:"Ocultar bots",value:useVal(A$2.hideEntities,"bots")},{type:"switch",label:"Ocultar pets",value:useVal(A$2.hideEntities,"pets")}]})},HideBalloons=()=>{const ie=oe(A$2),ee=ie.hideBalloons.users,te=ie.hideBalloons.bots,se=ie.hideBalloons.pets,ne=ee||te||se,le=()=>{A$2.hideBalloons.users=!ne,A$2.hideBalloons.bots=!ne,A$2.hideBalloons.pets=!ne};return jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Ocultar balões de fala",_value:ne,onChange:le},{type:"switch",label:"Ocultar balões de usuários",value:useVal(A$2.hideBalloons,"users")},{type:"switch",label:"Ocultar balões de bots",value:useVal(A$2.hideBalloons,"bots")},{type:"switch",label:"Ocultar balões de pets",value:useVal(A$2.hideBalloons,"pets")}]})},RenderingSettings=()=>{const ie=oe(A$2);return jsxRuntimeExports.jsxs("div",{className:clsx(styles$4.RenderingSettings),children:[jsxRuntimeExports.jsx(Section,{title:"Renderização de mobis",children:jsxRuntimeExports.jsx(GroupedSettings,{children:{type:"switch",label:"Ocultar todos os mobis",value:useVal(A$2,"notRenderMobis")}})}),jsxRuntimeExports.jsxs(Section,{title:"Renderização de balões",children:[jsxRuntimeExports.jsx(GroupedSettings,{children:{label:'Esconder para mim os balões de "digitando"',type:"switch",value:useVal(A$2,"hideOtherTypingBalloon")}}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switchWithNumberInput",label:"Forçar estilo específico de balão de outros usuários",_value:VirtualSettingBooleanOr([ie.forceOtherStyleId.applyInUsers,ie.forceOtherStyleId.applyInBots,ie.forceOtherStyleId.applyInPets]),onChange:ee=>setMultipleStorePaths(ee,[[A$2.forceOtherStyleId,"applyInUsers"],[A$2.forceOtherStyleId,"applyInBots"],[A$2.forceOtherStyleId,"applyInPets"]]),min:0,max:44,step:1,numberInputValue:useVal(A$2.forceOtherStyleId,"value")},{type:"switch",label:"Aplicar em usuários",value:useVal(A$2.forceOtherStyleId,"applyInUsers")},{type:"switch",label:"Aplicar em bots",value:useVal(A$2.forceOtherStyleId,"applyInBots")},{type:"switch",label:"Aplicar em pets",value:useVal(A$2.forceOtherStyleId,"applyInPets")}]}),jsxRuntimeExports.jsx(HideBalloons,{})]}),jsxRuntimeExports.jsxs(Section,{title:"Renderização de entidades",children:[jsxRuntimeExports.jsx(HideEntities,{}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switchWithNumberInput",label:"Forçar efeito em entidades",value:useVal(A$2.forceEffect,"enabled"),min:0,max:700,step:1,numberInputValue:useVal(A$2.forceEffect,"value")},{type:"switchWithNumberInput",label:"Forçar dança em entidades",value:useVal(A$2.forceDance,"enabled"),min:0,max:4,step:1,numberInputValue:useVal(A$2.forceDance,"value")},{type:"switchWithNumberInput",label:"Forçar gesto em entidades",value:useVal(A$2.forceGesture,"enabled"),min:0,max:7,step:1,numberInputValue:useVal(A$2.forceGesture,"value")}]})]})]})},InventorySearchShortcuts$1="_InventorySearchShortcuts_1s2sv_1",styles$3={InventorySearchShortcuts:InventorySearchShortcuts$1},InventorySearchShortcuts=()=>{const ie=oe(A$2.reworkUi.inventory.keybindingsToSearches),ee=A$2.reworkUi.inventory.keybindingsToSearches,te=ee.bindings,se=[];return ie.bindings.forEach((ne,le)=>{const[ue,ce]=ne;se.push({type:"peerTextRaw",label:"",value:ue,peerValue:ce,valueSetter:he=>te[le][0]=he,peerValueSetter:he=>te[le][1]=he,placeholder:"Atalho",peerPlaceholder:"Busca"})}),jsxRuntimeExports.jsx("div",{className:clsx("_InventorySearchShortcuts",styles$3.InventorySearchShortcuts),children:jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Atalhos de busca",isMain:!0,value:useVal(ee,"enabled")},se]})})},UiChangesSettings$1="_UiChangesSettings_5qufg_1",styles$2={UiChangesSettings:UiChangesSettings$1},UiChangesSettings=()=>{const ie=oe(A$2);return jsxRuntimeExports.jsxs(Box,{className:styles$2.UiChangesSettings,children:[jsxRuntimeExports.jsx(Section,{title:"Interface do Hibisco",children:jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Ocultar ícone do Hibisco",value:useVal(A$2.hideToolbarIcons,"hibisco"),description:"Sempre acessível com um clique direito no avatar na toolbar."},{type:"switch",label:"Extra: Ocultar ícone do Habobba",value:useVal(A$2,"hideHabobbaIcon")},{type:"switch",label:"Extra: Ocultar todos os ícones de extensões no toolbar",value:useVal(A$2.hideToolbarIcons,"extensions"),description:"Atalho para 'Toolbar > Ocultar ícones > Extensões'"}]})}),jsxRuntimeExports.jsx(Section,{title:"Otimizações",children:jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Corrigir lags de seleção de área",value:useVal(A$2.optimizations,"fixRoomAreaSelector")},{type:"switch",label:"Seletor de vizinhança reescrito",value:useVal(A$2.reworkUi.wired,"neighbourhoodRewrite"),description:"Créditos ao CoreDuo pela base reescrita do seletor."},{type:"switch",label:"Minificar infostand de mobis",value:useVal(A$2.optimizations,"minimalistInfostand"),description:"Oculta imagem e torna menor a visualização de informações de mobis."},{type:"switch",label:"Converter alertas em notificações",value:useVal(A$2.optimizations,"convertGenericAlertToNotification")},{type:"switch",label:"Ocultar todos os tipos de infostands",value:useVal(A$2.optimizations,"hideAllInfoStand"),description:"Semelhante ao clickthrough"},{type:"switch",label:'Corrigir abertura da loja no botão "Compre um"',value:useVal(A$2.optimizations,"fixBuyOneButton")}]})}),jsxRuntimeExports.jsx(Section,{title:"Inventário",children:jsxRuntimeExports.jsx(InventorySearchShortcuts,{})}),jsxRuntimeExports.jsxs(Section,{title:"Loja",children:[jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Exibir em formato de lista com descrições",value:useVal(A$2.reworkUi.store,"showOptionToShowAsList"),onChange:ee=>{setMultipleStorePaths(ee,[[A$2.reworkUi.store,"showAsList"],[A$2.reworkUi.store,"showOptionToShowAsList"]])}},{type:"switch",label:"Pular confirmação de compra",value:useVal(A$2.reworkUi.store,"skipConfirmation")},{type:"switch",label:"Comprar e colocar mobi no quarto ao clicar no chão",value:useVal(A$2,"buyAndPlaceByClick")},{type:"switchWithNumberInput",label:"Quantidade padrão de compra",value:useVal(A$2.reworkUi.store.defaultQuantity,"enabled"),numberInputValue:useVal(A$2.reworkUi.store.defaultQuantity,"value")}]}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Repor automaticamente quando mobi estiver acabando no inventário",value:useVal(A$2.buyAutomaticallyOnThreshold,"enabled")},{type:"numberInput",label:"Quando no inventário estiver com menos de...",value:useVal(A$2.buyAutomaticallyOnThreshold,"threshold")},{type:"numberInput",label:"Comprar esta quantidade:",value:useVal(A$2.buyAutomaticallyOnThreshold,"quantity")}]}),jsxRuntimeExports.jsx(GroupedSettings,{children:{type:"switch",label:"Remover botão Presentear",value:useVal(A$2.reworkUi.store,"removeGiftButton")}})]}),jsxRuntimeExports.jsxs(Section,{title:"Nitro cards (janelas flutuantes)",children:[jsxRuntimeExports.jsx(GroupedSettings,{children:{type:"switch",label:"Minimizar cartões com duplo clique no header",value:useVal(A$2.reworkUi,"minimizeCardsOnDoubleClick")}}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Soltar item e fechar cartões com tecla Esc",value:useVal(A$2.reworkUi,"closeOnEscape")},{type:"switch",label:"Abrir inventário após soltar item",value:useVal(A$2.reworkUi,"openInventoryAfterDropObject")}]})]}),jsxRuntimeExports.jsxs(Section,{title:"Amigos",children:[jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Adicionar tooltip com missão nos amigos online",value:useVal(A$2.reworkUi,"tooltipMottoOnOnlineFriends")},{type:"switch",label:"Reordenar lista de amigos por relacionamento",value:useVal(A$2.reworkUi,"reorderFriendList")}]}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Mostrar quarto em que os amigos estão",value:useVal(A$2.reworkUi,"showRoomOfFriends")},{type:"switch",label:"Notificar quando estiver atualizando lista de quartos com amigos",value:useVal(A$2.reworkUi,"notificateFriendsRoomList")},{type:"switch",label:"Atualizar lista de quartos com amigos ao abrir a lista de amigos",value:useVal(A$2.reworkUi,"updateFriendRoomListOnOpenList")},{type:"numberInput",label:"Duração de cache da lista de quartos com amigos (em segundos)",value:useVal(A$2.reworkUi,"updateFriendRoomListCacheInvalidateSeconds"),description:"Usado apenas quando a lista de quartos com amigos é atualizada ao abrir a lista de amigos."},{type:"switch",label:"Atualizar lista de quartos com amigos em segundo plano",value:useVal(A$2.reworkUi,"updateFriendRoomListOnBackground")},{type:"numberInput",label:"Intervalo de atualização da lista de quartos com amigos em segundo plano (em segundos)",value:useVal(A$2.reworkUi,"updateFriendRoomListCacheIntervalSecondsOnBackground")}]}),jsxRuntimeExports.jsx(GroupedSettings,{children:{type:"switch",label:"Sempre carregar página com toolbar de amigos minimizada",value:useVal(A$2.reworkUi,"alwaysCloseFriendsToolbarOnLoad")}}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Mostrar botões de selecionar vários na lista de amigos",_value:VirtualSettingBooleanOr([ie.reworkUi.showSelectOnlineFriendsList,ie.reworkUi.showSelectOfflineFriendsList]),onChange:ee=>{setMultipleStorePaths(ee,[[A$2.reworkUi,"showSelectOnlineFriendsList"],[A$2.reworkUi,"showSelectOfflineFriendsList"]])}},{type:"switch",label:"Selecionar todos online",value:useVal(A$2.reworkUi,"showSelectOnlineFriendsList")},{type:"switch",label:"Selecionar todos offline",value:useVal(A$2.reworkUi,"showSelectOfflineFriendsList")}]})]}),jsxRuntimeExports.jsx(Section,{title:"Quartos",children:jsxRuntimeExports.jsx(GroupedSettings,{children:{type:"switch",label:"Tocar campainha automaticamente",value:useVal(A$2.reworkUi,"ringDoorbellAutomatically")}})}),jsxRuntimeExports.jsxs(Section,{title:"Wired",children:[jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Configurações avançadas sempre abertas",value:useVal(A$2.reworkUi,"alwaysOpenAdvancedSettings")},{type:"switch",label:"Destacar mobi do wired aberto",value:useVal(A$2.reworkUi.wired,"highlightOpenWired"),description:"Se você alterar o valor, recarregue a página."},{type:"switch",label:"Botões de copiar e colar configuração wired",value:useVal(A$2.reworkUi.wired,"copyAndPasteButtons")},{type:"switch",label:"Seleção de fontes através de ícones",value:useVal(A$2.reworkUi.wired,"selectSourceByIcons")}]}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Atalhos para categorias na loja",value:useVal(A$2.reworkUi.wired.keyboardShortcuts,"enabled")},{type:"textInput",label:"Ativadores",value:useVal(A$2.reworkUi.wired.keyboardShortcuts,"ativadores")},{type:"textInput",label:"Efeitos",value:useVal(A$2.reworkUi.wired.keyboardShortcuts,"efeitos")},{type:"textInput",label:"Condições",value:useVal(A$2.reworkUi.wired.keyboardShortcuts,"condicoes")},{type:"textInput",label:"Seletores",value:useVal(A$2.reworkUi.wired.keyboardShortcuts,"seletores")},{type:"textInput",label:"Add-ons",value:useVal(A$2.reworkUi.wired.keyboardShortcuts,"addons")},{type:"textInput",label:"Extras",value:useVal(A$2.reworkUi.wired.keyboardShortcuts,"extras")},{type:"textInput",label:"Esferas",value:useVal(A$2.reworkUi.wired.keyboardShortcuts,"esferas")},{type:"textInput",label:"Portas",value:useVal(A$2.reworkUi.wired.keyboardShortcuts,"portas")},{type:"textInput",label:"Pisos Wired",value:useVal(A$2.reworkUi.wired.keyboardShortcuts,"pisoWired")},{type:"textInput",label:"Lajotas Andáveis",value:useVal(A$2.reworkUi.wired.keyboardShortcuts,"lajotaAndavel")}]})]}),jsxRuntimeExports.jsxs(Section,{title:"Geral",children:[jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Tornar texto selecionável",_value:VirtualSettingBooleanOr([ie.copyableContent.console,ie.copyableContent.messages,ie.copyableContent.nitroCards,ie.copyableContent.infostand]),onChange:ee=>{setMultipleStorePaths(ee,[[A$2.copyableContent,"console"],[A$2.copyableContent,"messages"],[A$2.copyableContent,"nitroCards"],[A$2.copyableContent,"infostand"]])}},{type:"switch",label:"Selecionar texto no console",value:useVal(A$2.copyableContent,"console")},{type:"switch",label:"Selecionar texto nas mensagens",value:useVal(A$2.copyableContent,"messages")},{type:"switch",label:"Selecionar texto nos nitro cards",value:useVal(A$2.copyableContent,"nitroCards")},{type:"switch",label:"Selecionar texto no infostand (menu lateral inferior)",value:useVal(A$2.copyableContent,"infostand")}]}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Exibir botão para recolher/expandir visualização de saldo",value:useVal(A$2,"buttonToCollapsePurse")},{type:"switch",label:"Exibir botão para recolher/expandir toolbar lateral",value:useVal(A$2,"buttonToCollapseSideToolbar")}]})]}),jsxRuntimeExports.jsx(Section,{title:"Interfaces de mobis",children:jsxRuntimeExports.jsx(GroupedSettings,{children:{type:"switch",label:"Usar toner de fundo do Hibisco",value:useVal(A$2.mobisInterfaces.toner,"enabled")}})}),jsxRuntimeExports.jsxs(Section,{title:"Toolbar",children:[jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Campo de texto dentro do toolbar",value:useVal(A$2,"chatInputInsideToolbar")},{type:"switch",label:"Toolbar translúcido",value:useVal(A$2,"translucentToolbar")}]}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Ocultar setas de recolher/expandir toolbar",_value:VirtualSettingBooleanOr([ie.hideCollapsedToolbarIcons.left,ie.hideCollapsedToolbarIcons.right]),onChange:ee=>{setMultipleStorePaths(ee,[[A$2.hideCollapsedToolbarIcons,"left"],[A$2.hideCollapsedToolbarIcons,"right"]])}},{type:"switch",label:"Ocultar seta da esquerda",value:useVal(A$2.hideCollapsedToolbarIcons,"left")},{type:"switch",label:"Ocultar seta da direita",value:useVal(A$2.hideCollapsedToolbarIcons,"right")}]}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Passar cursor através da toolbar",value:useVal(A$2,"passCursorThroughToolbar"),description:"O toolbar deixa de interromper as ações do mouse sobre a sala."},{type:"switch",label:"Desativar animação de hover nos ícones",value:useVal(A$2,"deactivateToolbarItemHoverAnimation")}]}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Ocultar ícones da toolbar",_value:VirtualSettingBooleanOr([ie.hideToolbarIcons.hotel,ie.hideToolbarIcons.house,ie.hideToolbarIcons.navigator,ie.hideToolbarIcons.store,ie.hideToolbarIcons.inventory,ie.hideToolbarIcons.hibisco,ie.hideToolbarIcons.camera,ie.hideToolbarIcons.extensions,ie.hideToolbarIcons.friendList,ie.hideToolbarIcons.friendSearch,ie.hideToolbarIcons.modTools,ie.hideToolbarIcons.rest]),onChange:ee=>{setMultipleStorePaths(ee,[[A$2.hideToolbarIcons,"hotel"],[A$2.hideToolbarIcons,"house"],[A$2.hideToolbarIcons,"navigator"],[A$2.hideToolbarIcons,"store"],[A$2.hideToolbarIcons,"inventory"],[A$2.hideToolbarIcons,"hibisco"],[A$2.hideToolbarIcons,"camera"],[A$2.hideToolbarIcons,"extensions"],[A$2.hideToolbarIcons,"friendList"],[A$2.hideToolbarIcons,"friendSearch"],[A$2.hideToolbarIcons,"modTools"],[A$2.hideToolbarIcons,"rest"]])}},{type:"switch",label:"Ocultar ícone do Hotel",value:useVal(A$2.hideToolbarIcons,"hotel")},{type:"switch",label:"Ocultar ícone do Cafofo",value:useVal(A$2.hideToolbarIcons,"house")},{type:"switch",label:"Ocultar ícone do Navegador",value:useVal(A$2.hideToolbarIcons,"navigator")},{type:"switch",label:"Ocultar ícone do Catálogo",value:useVal(A$2.hideToolbarIcons,"store")},{type:"switch",label:"Ocultar ícone do Inventário",value:useVal(A$2.hideToolbarIcons,"inventory")},{type:"switch",label:"Ocultar ícone da Camera",value:useVal(A$2.hideToolbarIcons,"camera")},{type:"switch",label:"Ocultar ícone de Extensões",value:useVal(A$2.hideToolbarIcons,"extensions")},{type:"switch",label:"Ocultar ícone do Hibisco",value:useVal(A$2.hideToolbarIcons,"hibisco"),description:"Sempre acessível com um clique direito no avatar na toolbar."},{type:"switch",label:"Ocultar ícone da Lista de amigos",value:useVal(A$2.hideToolbarIcons,"friendList")},{type:"switch",label:"Ocultar ícone da Pesquisa de amigos",value:useVal(A$2.hideToolbarIcons,"friendSearch")},{type:"switch",label:"Ocultar ícone do Mod Tools",value:useVal(A$2.hideToolbarIcons,"modTools")},{type:"switch",label:"Ocultar demais ícones",value:useVal(A$2.hideToolbarIcons,"rest")}]})]}),jsxRuntimeExports.jsxs(Section,{title:"Toolbar do Avatar",children:[jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Usar animação de hover",value:useVal(A$2.avatarToolbar,"useHoverAnimation")},{type:"switch",label:"Remover filtro cinza",value:useVal(A$2.avatarToolbar,"removeFilter")},{type:"switch",label:"Desativar ícone de notificações de conquistas",value:useVal(A$2.avatarToolbar,"disableBadges")}]}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Mostrar ícones ao clicar no avatar",_value:VirtualSettingBooleanOr([ie.avatarToolbar.showToolbarIcons.hotel,ie.avatarToolbar.showToolbarIcons.house,ie.avatarToolbar.showToolbarIcons.navigator,ie.avatarToolbar.showToolbarIcons.store,ie.avatarToolbar.showToolbarIcons.inventory,ie.avatarToolbar.showToolbarIcons.hibisco,ie.avatarToolbar.showToolbarIcons.camera,ie.avatarToolbar.showToolbarIcons.extensions,ie.avatarToolbar.showToolbarIcons.friendList,ie.avatarToolbar.showToolbarIcons.friendSearch]),onChange:ee=>{setMultipleStorePaths(ee,[[A$2.avatarToolbar.showToolbarIcons,"hotel"],[A$2.avatarToolbar.showToolbarIcons,"house"],[A$2.avatarToolbar.showToolbarIcons,"navigator"],[A$2.avatarToolbar.showToolbarIcons,"store"],[A$2.avatarToolbar.showToolbarIcons,"inventory"],[A$2.avatarToolbar.showToolbarIcons,"hibisco"],[A$2.avatarToolbar.showToolbarIcons,"camera"],[A$2.avatarToolbar.showToolbarIcons,"extensions"],[A$2.avatarToolbar.showToolbarIcons,"friendList"],[A$2.avatarToolbar.showToolbarIcons,"friendSearch"]])}},{type:"switch",label:"Exibir ícone do Lobby do Hotel",value:useVal(A$2.avatarToolbar.showToolbarIcons,"hotel")},{type:"switch",label:"Exibir ícone do Cafofo",value:useVal(A$2.avatarToolbar.showToolbarIcons,"house")},{type:"switch",label:"Exibir ícone do Navegador",value:useVal(A$2.avatarToolbar.showToolbarIcons,"navigator")},{type:"switch",label:"Exibir ícone do Catálogo",value:useVal(A$2.avatarToolbar.showToolbarIcons,"store")},{type:"switch",label:"Exibir ícone do Inventário",value:useVal(A$2.avatarToolbar.showToolbarIcons,"inventory")},{type:"switch",label:"Exibir ícone da Camera",value:useVal(A$2.avatarToolbar.showToolbarIcons,"camera")},{type:"switch",label:"Exibir ícone da Lista de amigos",value:useVal(A$2.avatarToolbar.showToolbarIcons,"friendList")},{type:"switch",label:"Exibir ícone da Pesquisa de amigos",value:useVal(A$2.avatarToolbar.showToolbarIcons,"friendSearch")},{type:"switch",label:"Exibir ícone de Extensões",value:useVal(A$2.avatarToolbar.showToolbarIcons,"extensions")},{type:"switch",label:"Exibir ícone do Hibisco",value:useVal(A$2.avatarToolbar.showToolbarIcons,"hibisco")}]})]})]})},ExperimentalSettings$1="_ExperimentalSettings_e46xq_1",styles$1={ExperimentalSettings:ExperimentalSettings$1},ExperimentalSettings=()=>{const ie=oe(A$2);return jsxRuntimeExports.jsxs("div",{className:clsx(styles$1.ExperimentalSettings),children:[jsxRuntimeExports.jsxs(Section,{title:"Avançado",children:[jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Comando eval ativo",value:useVal(A$2.evalCommand,"enabled"),isMain:!0},{type:"textInput",label:"Prefixo do comando",value:useVal(A$2.evalCommand,"prefix")}]}),jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switchWithTextInput",label:"Override SSO Ticket",value:useVal(A$2.overrideSsoTicket,"enabled"),textInputValue:useVal(A$2.overrideSsoTicket,"value")},{type:"switch",label:"Display SSO Ticket and quit",value:useVal(A$2,"displaySsoTicketAndQuit")}]})]}),jsxRuntimeExports.jsx(Section,{title:"Fixes e patches",children:jsxRuntimeExports.jsxs(GroupedSettings,{children:[{type:"switch",label:"Corrigir responsividade da lista de amigos",value:useVal(A$2.patches,"responsivenessFriendsList")},{type:"switch",label:"Corrigir página do lobby",value:useVal(A$2.patches,"fixLobbyPage")},{type:"switch",label:"Novo Sound Manager",value:useVal(A$2.newSoundManager,"enabled"),description:"Requer atualizar a página para aplicar as mudanças."}]})}),jsxRuntimeExports.jsx(Section,{title:"Outros",children:jsxRuntimeExports.jsxs(GroupedSettings,{children:[{isMain:!0,type:"switch",label:"Comandos de movimentação wired",_value:VirtualSettingBooleanOr([ie.commands.undo,ie.commands.redo,ie.commands.stop]),onChange:ee=>{setMultipleStorePaths(ee,[[A$2.commands,"undo"],[A$2.commands,"redo"],[A$2.commands,"stop"]])}},{type:"switch",label:"Comando :undo",value:useVal(A$2.commands,"undo")},{type:"switch",label:"Comando :redo",value:useVal(A$2.commands,"redo")},{type:"switch",label:"Comando :stop",value:useVal(A$2.commands,"stop")}]})})]})},parents=new Set,coords=new WeakMap,siblings=new WeakMap,animations=new WeakMap,intersections=new WeakMap,intervals=new WeakMap,options=new WeakMap,debounces=new WeakMap,enabled=new WeakSet;let root,scrollX=0,scrollY=0;const TGT="__aa_tgt",DEL="__aa_del",NEW="__aa_new",handleMutations=ie=>{const ee=getElements(ie);ee&&ee.forEach(te=>animate(te))},handleResizes=ie=>{ie.forEach(ee=>{ee.target===root&&updateAllPos(),coords.has(ee.target)&&updatePos(ee.target)})};function observePosition(ie){const ee=intersections.get(ie);ee==null||ee.disconnect();let te=coords.get(ie),se=0;const ne=5;te||(te=getCoords(ie),coords.set(ie,te));const{offsetWidth:le,offsetHeight:ue}=root,he=[te.top-ne,le-(te.left+ne+te.width),ue-(te.top+ne+te.height),te.left-ne].map(_e=>`${-1*Math.floor(_e)}px`).join(" "),de=new IntersectionObserver(()=>{++se>1&&updatePos(ie)},{root,threshold:1,rootMargin:he});de.observe(ie),intersections.set(ie,de)}function updatePos(ie){clearTimeout(debounces.get(ie));const ee=getOptions(ie),te=isPlugin(ee)?500:ee.duration;debounces.set(ie,setTimeout(async()=>{const se=animations.get(ie);try{await(se==null?void 0:se.finished),coords.set(ie,getCoords(ie)),observePosition(ie)}catch{}},te))}function updateAllPos(){clearTimeout(debounces.get(root)),debounces.set(root,setTimeout(()=>{parents.forEach(ie=>forEach(ie,ee=>lowPriority(()=>updatePos(ee))))},100))}function poll(ie){setTimeout(()=>{intervals.set(ie,setInterval(()=>lowPriority(updatePos.bind(null,ie)),2e3))},Math.round(2e3*Math.random()))}function lowPriority(ie){typeof requestIdleCallback=="function"?requestIdleCallback(()=>ie()):requestAnimationFrame(()=>ie())}let mutations,resize;const supportedBrowser=typeof window<"u"&&"ResizeObserver"in window;supportedBrowser&&(root=document.documentElement,mutations=new MutationObserver(handleMutations),resize=new ResizeObserver(handleResizes),window.addEventListener("scroll",()=>{scrollY=window.scrollY,scrollX=window.scrollX}),resize.observe(root));function getElements(ie){return ie.reduce((se,ne)=>[...se,...Array.from(ne.addedNodes),...Array.from(ne.removedNodes)],[]).every(se=>se.nodeName==="#comment")?!1:ie.reduce((se,ne)=>{if(se===!1)return!1;if(ne.target instanceof Element){if(target(ne.target),!se.has(ne.target)){se.add(ne.target);for(let le=0;le<ne.target.children.length;le++){const ue=ne.target.children.item(le);if(ue){if(DEL in ue)return!1;target(ne.target,ue),se.add(ue)}}}if(ne.removedNodes.length)for(let le=0;le<ne.removedNodes.length;le++){const ue=ne.removedNodes[le];if(DEL in ue)return!1;ue instanceof Element&&(se.add(ue),target(ne.target,ue),siblings.set(ue,[ne.previousSibling,ne.nextSibling]))}}return se},new Set)}function target(ie,ee){!ee&&!(TGT in ie)?Object.defineProperty(ie,TGT,{value:ie}):ee&&!(TGT in ee)&&Object.defineProperty(ee,TGT,{value:ie})}function animate(ie){var ee;const te=ie.isConnected,se=coords.has(ie);te&&siblings.has(ie)&&siblings.delete(ie),animations.has(ie)&&((ee=animations.get(ie))===null||ee===void 0||ee.cancel()),NEW in ie?add(ie):se&&te?remain(ie):se&&!te?remove(ie):add(ie)}function raw(ie){return Number(ie.replace(/[^0-9.\-]/g,""))}function getScrollOffset(ie){let ee=ie.parentElement;for(;ee;){if(ee.scrollLeft||ee.scrollTop)return{x:ee.scrollLeft,y:ee.scrollTop};ee=ee.parentElement}return{x:0,y:0}}function getCoords(ie){const ee=ie.getBoundingClientRect(),{x:te,y:se}=getScrollOffset(ie);return{top:ee.top+se,left:ee.left+te,width:ee.width,height:ee.height}}function getTransitionSizes(ie,ee,te){let se=ee.width,ne=ee.height,le=te.width,ue=te.height;const ce=getComputedStyle(ie);if(ce.getPropertyValue("box-sizing")==="content-box"){const de=raw(ce.paddingTop)+raw(ce.paddingBottom)+raw(ce.borderTopWidth)+raw(ce.borderBottomWidth),_e=raw(ce.paddingLeft)+raw(ce.paddingRight)+raw(ce.borderRightWidth)+raw(ce.borderLeftWidth);se-=_e,le-=_e,ne-=de,ue-=de}return[se,le,ne,ue].map(Math.round)}function getOptions(ie){return TGT in ie&&options.has(ie[TGT])?options.get(ie[TGT]):{duration:250,easing:"ease-in-out"}}function getTarget(ie){if(TGT in ie)return ie[TGT]}function isEnabled(ie){const ee=getTarget(ie);return ee?enabled.has(ee):!1}function forEach(ie,...ee){ee.forEach(te=>te(ie,options.has(ie)));for(let te=0;te<ie.children.length;te++){const se=ie.children.item(te);se&&ee.forEach(ne=>ne(se,options.has(se)))}}function getPluginTuple(ie){return Array.isArray(ie)?ie:[ie]}function isPlugin(ie){return typeof ie=="function"}function remain(ie){const ee=coords.get(ie),te=getCoords(ie);if(!isEnabled(ie))return coords.set(ie,te);let se;if(!ee)return;const ne=getOptions(ie);if(typeof ne!="function"){const le=ee.left-te.left,ue=ee.top-te.top,[ce,he,de,_e]=getTransitionSizes(ie,ee,te),fe={transform:`translate(${le}px, ${ue}px)`},ye={transform:"translate(0, 0)"};ce!==he&&(fe.width=`${ce}px`,ye.width=`${he}px`),de!==_e&&(fe.height=`${de}px`,ye.height=`${_e}px`),se=ie.animate([fe,ye],{duration:ne.duration,easing:ne.easing})}else{const[le]=getPluginTuple(ne(ie,"remain",ee,te));se=new Animation(le),se.play()}animations.set(ie,se),coords.set(ie,te),se.addEventListener("finish",updatePos.bind(null,ie))}function add(ie){NEW in ie&&delete ie[NEW];const ee=getCoords(ie);coords.set(ie,ee);const te=getOptions(ie);if(!isEnabled(ie))return;let se;if(typeof te!="function")se=ie.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:te.duration*1.5,easing:"ease-in"});else{const[ne]=getPluginTuple(te(ie,"add",ee));se=new Animation(ne),se.play()}animations.set(ie,se),se.addEventListener("finish",updatePos.bind(null,ie))}function cleanUp(ie,ee){var te;ie.remove(),coords.delete(ie),siblings.delete(ie),animations.delete(ie),(te=intersections.get(ie))===null||te===void 0||te.disconnect(),setTimeout(()=>{if(DEL in ie&&delete ie[DEL],Object.defineProperty(ie,NEW,{value:!0,configurable:!0}),ee&&ie instanceof HTMLElement)for(const se in ee)ie.style[se]=""},0)}function remove(ie){var ee;if(!siblings.has(ie)||!coords.has(ie))return;const[te,se]=siblings.get(ie);Object.defineProperty(ie,DEL,{value:!0,configurable:!0});const ne=window.scrollX,le=window.scrollY;if(se&&se.parentNode&&se.parentNode instanceof Element?se.parentNode.insertBefore(ie,se):te&&te.parentNode?te.parentNode.appendChild(ie):(ee=getTarget(ie))===null||ee===void 0||ee.appendChild(ie),!isEnabled(ie))return cleanUp(ie);const[ue,ce,he,de]=deletePosition(ie),_e=getOptions(ie),fe=coords.get(ie);(ne!==scrollX||le!==scrollY)&&adjustScroll(ie,ne,le,_e);let ye,be={position:"absolute",top:`${ue}px`,left:`${ce}px`,width:`${he}px`,height:`${de}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!isPlugin(_e))Object.assign(ie.style,be),ye=ie.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:_e.duration,easing:"ease-out"});else{const[Pe,Ne]=getPluginTuple(_e(ie,"remove",fe));(Ne==null?void 0:Ne.styleReset)!==!1&&(be=(Ne==null?void 0:Ne.styleReset)||be,Object.assign(ie.style,be)),ye=new Animation(Pe),ye.play()}animations.set(ie,ye),ye.addEventListener("finish",cleanUp.bind(null,ie,be))}function adjustScroll(ie,ee,te,se){const ne=scrollX-ee,le=scrollY-te,ue=document.documentElement.style.scrollBehavior;if(getComputedStyle(root).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+ne,window.scrollY+le),!ie.parentElement)return;const he=ie.parentElement;let de=he.clientHeight,_e=he.clientWidth;const fe=performance.now();function ye(){requestAnimationFrame(()=>{if(!isPlugin(se)){const be=de-he.clientHeight,Pe=_e-he.clientWidth;fe+se.duration>performance.now()?(window.scrollTo({left:window.scrollX-Pe,top:window.scrollY-be}),de=he.clientHeight,_e=he.clientWidth,ye()):document.documentElement.style.scrollBehavior=ue}})}ye()}function deletePosition(ie){const ee=coords.get(ie),[te,,se]=getTransitionSizes(ie,ee,getCoords(ie));let ne=ie.parentElement;for(;ne&&(getComputedStyle(ne).position==="static"||ne instanceof HTMLBodyElement);)ne=ne.parentElement;ne||(ne=document.body);const le=getComputedStyle(ne),ue=coords.get(ne)||getCoords(ne),ce=Math.round(ee.top-ue.top)-raw(le.borderTopWidth),he=Math.round(ee.left-ue.left)-raw(le.borderLeftWidth);return[ce,he,te,se]}function autoAnimate(ie,ee={}){return mutations&&resize&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!isPlugin(ee)&&!ee.disrespectUserMotionPreference||(enabled.add(ie),getComputedStyle(ie).position==="static"&&Object.assign(ie.style,{position:"relative"}),forEach(ie,updatePos,poll,ne=>resize==null?void 0:resize.observe(ne)),isPlugin(ee)?options.set(ie,ee):options.set(ie,{duration:250,easing:"ease-in-out",...ee}),mutations.observe(ie,{childList:!0}),parents.add(ie))),Object.freeze({parent:ie,enable:()=>{enabled.add(ie)},disable:()=>{enabled.delete(ie)},isEnabled:()=>enabled.has(ie)})}function useAutoAnimate(ie){const[ee,te]=reactExports.useState(),se=reactExports.useMemo(()=>ie,[]),ne=reactExports.useCallback(ue=>{ue instanceof HTMLElement?te(autoAnimate(ue,se)):te(void 0)},[se]),le=reactExports.useCallback(ue=>{ee&&(ue?ee.enable():ee.disable())},[ee]);return[ne,le]}const SettingsPane=()=>{const ie=oe(A$2),[ee]=useAutoAnimate({duration:100}),[te,se]=reactExports.useState(!1),ne=le=>{le.preventDefault(),se(!te),te&&ie.activeTab=="experimental"&&(A$2.activeTab="basic")};return jsxRuntimeExports.jsx("div",{className:clsx("_SettingsPane",styles$i.SettingsPane,ie.isHibiscoDisabled&&styles$i.Disabled),ref:ee,children:jsxRuntimeExports.jsxs(Tabs,{variant:"pills",defaultValue:"gallery",value:ie.activeTab,onChange:le=>A$2.activeTab=le,onContextMenu:ne,classNames:{root:styles$i.TabRoot,list:styles$i.TabList,tab:styles$i.Tab,panel:styles$i.TabPanel},children:[jsxRuntimeExports.jsxs(Tabs.List,{children:[jsxRuntimeExports.jsx(Tabs.Tab,{value:"basic",color:"base.1",children:"Básico"}),jsxRuntimeExports.jsx(Tabs.Tab,{value:"rendering",color:"base.1",children:"Renderização"}),jsxRuntimeExports.jsx(Tabs.Tab,{value:"ui-changes",color:"base.1",children:"Interface"}),te&&jsxRuntimeExports.jsx(Tabs.Tab,{value:"experimental",color:"base.1",children:"Experimental"})]}),jsxRuntimeExports.jsx(Tabs.Panel,{value:"basic",children:jsxRuntimeExports.jsx(BasicSettings,{})}),jsxRuntimeExports.jsx(Tabs.Panel,{value:"rendering",children:jsxRuntimeExports.jsx(RenderingSettings,{})}),jsxRuntimeExports.jsx(Tabs.Panel,{value:"ui-changes",children:jsxRuntimeExports.jsx(UiChangesSettings,{})}),jsxRuntimeExports.jsx(Tabs.Panel,{value:"experimental",children:jsxRuntimeExports.jsx(ExperimentalSettings,{})})]})})},ConsolePane$1="_ConsolePane_qpr2g_1",styles={ConsolePane:ConsolePane$1},ConsolePane=()=>jsxRuntimeExports.jsx("div",{className:clsx("_ConsolePane",styles.ConsolePane),children:"ConsolePane Component"}),MiddleContent=()=>{const ie=oe(A$2);return jsxRuntimeExports.jsxs("div",{className:clsx(styles$j.MiddleContent),children:[ie.activePage==="settings"&&jsxRuntimeExports.jsx(SettingsPane,{}),ie.activePage==="console"&&jsxRuntimeExports.jsx(ConsolePane,{})]})},App=()=>jsxRuntimeExports.jsx("div",{className:clsx(styles$k.App),children:jsxRuntimeExports.jsx(MiddleContent,{})}),HibiscoIcon=()=>{const ie=oe(A$2),ee=()=>{A$2.isWindowVisible=!A$2.isWindowVisible},te=reactExports.useRef(null);return reactExports.useEffect(()=>{te.current&&(ie.shouldHideHibiscoIcon?(te.current.parentElement.style.display="none",te.current.parentElement.style.position="absolute"):(te.current.parentElement.style.display="flex",te.current.parentElement.style.position="relative"))},[te.current,ie.shouldHideHibiscoIcon]),reactExports.useEffect(()=>{const se=document.querySelector(".nitro-purse");if(!se)return;const ne=le=>{le.preventDefault(),ee()};se.addEventListener("contextmenu",ne)},[]),reactExports.useEffect(()=>{const se=document.querySelector(".habobba-icon");if(!se)return;const ne=ie.hideHabobbaIcon?"hidden":"visible",le=ie.hideHabobbaIcon?"absolute":"relative";se.style.visibility=ne,se.style.position=le},[ie.hideHabobbaIcon]),reactExports.useEffect(()=>{const se=document.querySelectorAll('.nitro-toolbar div:has(> img[src^="chrome-extension://"])');if(!se)return;const ne=ie.hideAllExtensionsOnToolbar?"hidden":"visible",le=ie.hideAllExtensionsOnToolbar?"absolute":"relative";se.forEach(ue=>{ue.style.visibility=ne,ue.style.position=le})},[ie.hideAllExtensionsOnToolbar]),jsxRuntimeExports.jsx("div",{className:clsx("_HibiscoIcon","cursor-pointer navigation-item icon hibiscus-icon"),ref:te,onClick:ee,style:{backgroundImage:`url(${hotel.images.hibiscoIcon})`}})};var Oops_1,hasRequiredOops;function requireOops(){if(hasRequiredOops)return Oops_1;hasRequiredOops=1;class ie{constructor(se={}){this.undoStack=[],this.redoStack=[],this.maxStackSize=se.maxStackSize||1/0,this.isExecuting=!1,this.changeListeners=new Set,this.commandFactories=new Map,this.transactionStack=[],this.snapshots=new Map,this.snapshotInterval=se.snapshotInterval||10,this.compressThreshold=se.compressThreshold||100,this.lastExecutionTime=0,this.mergeWindow=se.mergeWindow||1e3}execute(se,ne={}){const{silent:le=!1,undoable:ue=!0}=ne;if(!this.isExecuting){this.isExecuting=!0;try{if(typeof se=="string"){const he=this.commandFactories.get(se);if(!he)throw new Error(`Unknown command: ${se}`);se=he()}if(this.transactionStack.length>0){this.transactionStack[this.transactionStack.length-1].push(se);return}const ce=se.execute();if(ue){const he=Date.now();if(this.undoStack.length>0&&he-this.lastExecutionTime<this.mergeWindow&&se.canMerge&&se.canMerge(this.undoStack[this.undoStack.length-1])){const de=se.merge(this.undoStack.pop());this.undoStack.push(de)}else this.undoStack.push(se);this.lastExecutionTime=he,this.redoStack=[],this.undoStack.length>this.maxStackSize&&this.undoStack.shift(),this.undoStack.length%this.snapshotInterval===0&&this.createSnapshot(),this.undoStack.length>this.compressThreshold&&this.compressHistory()}return le||this.notifyListeners(),ce}catch(ce){throw console.error("Error executing command:",ce),ce}finally{this.isExecuting=!1}}}undo(se=1){if(!(this.isExecuting||this.undoStack.length===0)){this.isExecuting=!0;try{const ne=[];for(let le=0;le<se&&this.undoStack.length>0;le++){const ue=this.undoStack.pop();ue.undo(),ne.unshift(ue)}this.redoStack.push(...ne),this.notifyListeners()}catch(ne){console.error("Error undoing command:",ne),this.recoverFromSnapshot()}finally{this.isExecuting=!1}}}redo(se=1){if(!(this.isExecuting||this.redoStack.length===0)){this.isExecuting=!0;try{const ne=[];for(let le=0;le<se&&this.redoStack.length>0;le++){const ue=this.redoStack.pop();ue.execute(),ne.unshift(ue)}this.undoStack.push(...ne),this.notifyListeners()}catch(ne){console.error("Error redoing command:",ne),this.recoverFromSnapshot()}finally{this.isExecuting=!1}}}beginTransaction(){this.transactionStack.push([])}commitTransaction(){if(this.transactionStack.length===0)return;const se=this.transactionStack.pop();if(se.length===1)this.execute(se[0]);else if(se.length>1){const ne=new ee(se);this.execute(ne)}}abortTransaction(){if(this.transactionStack.length===0)return;const se=this.transactionStack.pop();for(let ne=se.length-1;ne>=0;ne--)se[ne].undo()}registerCommand(se,ne){this.commandFactories.set(se,ne)}createSnapshot(){const se={undoStack:this.undoStack.map(ne=>ne.serialize()),redoStack:this.redoStack.map(ne=>ne.serialize())};this.snapshots.set(this.undoStack.length,se)}recoverFromSnapshot(){const se=Array.from(this.snapshots.keys()).sort((ne,le)=>le-ne);for(const ne of se)if(ne<=this.undoStack.length){const le=this.snapshots.get(ne);this.undoStack=le.undoStack.map(ue=>this.deserializeCommand(ue)),this.redoStack=le.redoStack.map(ue=>this.deserializeCommand(ue));break}this.notifyListeners()}deserializeCommand(se){const ne=this.commandFactories.get(se.type);if(!ne)throw new Error(`Unknown command type: ${se.type}`);return ne(se.data)}compressHistory(){const se=[];let ne=null;for(const le of this.undoStack)ne&&ne.canMerge(le)?ne=ne.merge(le):(ne&&se.push(ne),ne=le);ne&&se.push(ne),this.undoStack=se}addChangeListener(se){this.changeListeners.add(se)}removeChangeListener(se){this.changeListeners.delete(se)}notifyListeners(){const se={canUndo:this.canUndo,canRedo:this.canRedo,undoStackSize:this.undoStack.length,redoStackSize:this.redoStack.length};for(const ne of this.changeListeners)ne(se)}clear(){this.undoStack=[],this.redoStack=[],this.snapshots.clear(),this.notifyListeners()}get canUndo(){var se;return((se=this.undoStack)==null?void 0:se.length)>0}get canRedo(){var se;return((se=this.redoStack)==null?void 0:se.length)>0}exportState(){return{undoStack:this.undoStack.map(se=>se.serialize()),redoStack:this.redoStack.map(se=>se.serialize()),maxStackSize:this.maxStackSize,snapshotInterval:this.snapshotInterval,compressThreshold:this.compressThreshold,mergeWindow:this.mergeWindow}}importState(se){if(!se||typeof se!="object")throw new Error("Invalid state object");try{this.undoStack=se.undoStack.map(ne=>this.deserializeCommand(ne)),this.redoStack=se.redoStack.map(ne=>this.deserializeCommand(ne)),this.maxStackSize=se.maxStackSize||this.maxStackSize,this.snapshotInterval=se.snapshotInterval||this.snapshotInterval,this.compressThreshold=se.compressThreshold||this.compressThreshold,this.mergeWindow=se.mergeWindow||this.mergeWindow,this.isExecuting=!1,this.lastExecutionTime=0,this.transactionStack=[],this.snapshots.clear(),this.notifyListeners()}catch(ne){throw new Error("Failed to import state: "+ne.message)}}serializeState(){return JSON.stringify(this.exportState())}deserializeState(se){try{const ne=JSON.parse(se);this.importState(ne)}catch(ne){throw new Error("Failed to deserialize state: "+ne.message)}}}class ee{constructor(se){this.commands=se}execute(){for(const se of this.commands)se.execute()}undo(){for(let se=this.commands.length-1;se>=0;se--)this.commands[se].undo()}serialize(){return{type:"CompositeCommand",data:this.commands.map(se=>se.serialize())}}static deserialize(se,ne){return new ee(se.map(ne))}canMerge(se){return!1}}return Oops_1=ie,Oops_1}var src$1,hasRequiredSrc$1;function requireSrc$1(){return hasRequiredSrc$1||(hasRequiredSrc$1=1,src$1=requireOops()),src$1}var srcExports$1=requireSrc$1();const Oops=getDefaultExportFromCjs(srcExports$1);class BuilderTools{constructor(){dE(this,"height");dE(this,"gradualHeight");dE(this,"state");dE(this,"direction");dE(this,"freezeAvatar");dE(this,"teleportAvatar");dE(this,"changeEqualMobisHeight");dE(this,"changeEqualMobisState");dE(this,"changeEqualMobisDirection");dE(this,"pickEqualMobis");dE(this,"hasSelectedArea");dE(this,"startAreaPoint");dE(this,"endAreaPoint");dE(this,"selectTileMode");dE(this,"copySelectedTileMode");dE(this,"moveSelectedTileMode");dE(this,"pickSelectedTileMode");this.flush()}flush(){this.height=null,this.gradualHeight=null,this.state=null,this.direction=null,this.freezeAvatar=!1,this.teleportAvatar=!1,this.changeEqualMobisHeight=!1,this.changeEqualMobisState=!1,this.changeEqualMobisDirection=!1,this.pickEqualMobis=!1,this.hasSelectedArea=!1,this.startAreaPoint=null,this.endAreaPoint=null,this.selectTileMode=!1,this.copySelectedTileMode=!1,this.moveSelectedTileMode=!1,this.pickSelectedTileMode=!1}compose(){return[this.height!==null,this.height*100,this.gradualHeight!==null,this.gradualHeight*100,this.state!==null,this.state||0,this.direction!==null,this.direction||0,this.freezeAvatar,this.teleportAvatar,this.changeEqualMobisDirection,this.changeEqualMobisHeight,this.changeEqualMobisState,this.pickEqualMobis,this.hasSelectedArea,this.startAreaPoint?this.startAreaPoint.x:0,this.startAreaPoint?this.startAreaPoint.y:0,this.endAreaPoint?this.endAreaPoint.x:0,this.endAreaPoint?this.endAreaPoint.y:0,this.selectTileMode,this.copySelectedTileMode,this.moveSelectedTileMode,this.pickSelectedTileMode]}send(){const ee=Message.waitFor("ROOM_HEIGHT_MAP",!1),te=waitMs$1(500),se=Promise.race([ee,te]);return Packet.send("ROOM_CONSTRUCTION_TOOL",this.compose()),se}}const builderTools=new BuilderTools;window.builderTools=builderTools;function isFurniInThisPosition(ie,ee,te){const ne=jt(roomStore.furnis)[ie];return ne?ne.x===ee&&ne.y===te:!1}function isFurniInThisRotation(ie,ee){const se=jt(roomStore.furnis)[ie];return se?se.direction===ee:!1}function isFurniInThisHeight(ie,ee){const se=jt(roomStore.furnis)[ie];return se?se.z===ee:!1}class WiredMovementOopsCommand{constructor(ee){dE(this,"movement");this.movement=ee;const te=roomStore.furnis.find(se=>se.itemId===ee.furniId);te&&(this.movement.sourceRotation=te.direction/45)}async execute(){const ee=this.movement.furniId,te=this.movement.target;let se=this.movement.sourceRotation+this.movement.rotation;if(se<0&&(se+=8),se>7&&(se-=8),isFurniInThisPosition(ee,te.x,te.y)&&isFurniInThisRotation(ee,se)&&isFurniInThisHeight(ee,te.z)){console.debug("Skipping execute because the furni is already in the target position");return}builderTools.height!==te.z&&(builderTools.height=te.z,builderTools.send()),await waitMs$1(150),await myself.placeItem(ee,te.x,te.y,se),await waitMs$1(150)}async undo(){const ee=this.movement.furniId,te=this.movement.source,se=this.movement.sourceRotation;builderTools.height!==te.z&&(builderTools.height=te.z,builderTools.send()),await waitMs$1(150),myself.placeItem(ee,te.x,te.y,se),await waitMs$1(150)}canMerge(){return!1}}class WiredGroupMovementCommand{constructor(ee){dE(this,"movements");dE(this,"group");dE(this,"isNewlyAdded");dE(this,"shouldStop",!1);dE(this,"isRunning",!1);this.isNewlyAdded=!0,this.movements=ee,this.group=ee.map(te=>new WiredMovementOopsCommand(te))}stop(){this.isRunning&&(this.shouldStop=!0)}setIsRunning(ee){this.isRunning=ee}async execute(){if(this.isNewlyAdded){this.isNewlyAdded=!1;return}try{this.setIsRunning(!0),builderTools.flush();for(const ee of this.group){if(this.shouldStop){this.shouldStop=!1;break}await ee.execute()}builderTools.flush(),builderTools.send()}finally{this.setIsRunning(!1)}}async undo(){try{this.setIsRunning(!0),builderTools.flush();for(const ee of this.group){if(this.shouldStop){this.shouldStop=!1;break}await ee.undo()}builderTools.flush(),builderTools.send()}finally{this.setIsRunning(!1)}}canMerge(){return!1}}class WiredFurniMoveHistoryManager{constructor(){dE(this,"manager");dE(this,"commands");this.manager=new Oops,this.commands=[]}isRunning(){return this.commands.some(ee=>ee.isRunning)}addGroupedFurniMovement(ee){const te=new WiredGroupMovementCommand(ee);this.manager.execute(te),this.commands.push(te)}undo(ee=1){this.manager.undo(ee)}redo(ee=1){this.manager.redo(ee)}stop(){for(const ee of this.commands)ee instanceof WiredGroupMovementCommand&&ee.stop()}}const wiredHistoryManager=new WiredFurniMoveHistoryManager;window.wiredHistoryManager=wiredHistoryManager;const roomInfoStore=Dt({name:"",score:0,owner:"",picture:"",description:"",members:{},notes:[],trophies:new Map,userCommands:[],roomCommands:[],amIOwner:!1,doIHaveRights:!1,pollState:{isVisible:!1,didIVote:!1,hasPollEnded:!1,greenVotes:0,redVotes:0,question:""}});window.roomInfoStore=roomInfoStore;function updateRoomInfoStoreMembers(){const ie=se=>se.toLowerCase()===window.myself.userInfo.username.toLowerCase(),ee=Object.keys(roomInfoStore.members).length===0,te={};for(const se of roomStore.units.values()){if(roomInfoStore.members[se.name]){te[se.name]=roomInfoStore.members[se.name];continue}te[se.name]={timestamp:new Date().getTime(),joinedBeforeMe:!ie(se.name)&&ee,userType:["pet","user","bot","bot"][se.userType]}}roomInfoStore.members=te}const loadInternal$1=()=>{Message.on("UNIT_IDLE",Ge=>{Ge.unitId===myself.roomData.roomIndex&&Ge.isIdle&&A$2.antiAusEnabled&&myself.stopAction()}),Message.on("UNIT_TYPING",(Ge,Be)=>{Ge.isTyping&&A$2.hideOtherTypingBalloon&&Be.preventDefault()}),Message.on("UNIT_CHAT",(Ge,Be)=>{const ze=getUnitByRoomIndex(Ge.roomIndex);if(!ze){console.error("Could not find user in roomStore.");return}const $t=ze.userType===RoomObjectType.USER,ut=[RoomObjectType.BOT,RoomObjectType.RENTABLE_BOT].includes(ze.userType),Ti=ze.userType===RoomObjectType.PET;!ze.name||!$t&&!ut&&!Ti||(A$2.forceOtherStyleId.applyInUsers&&ze.userType===RoomObjectType.USER&&ze.name!==myself.roomData.name?(Be.preventDefault(),Message.simulate("UNIT_CHAT",{roomIndex:Ge.roomIndex,message:Ge.message,gesture:Ge.gesture,styleId:Number(A$2.forceOtherStyleId.value),urls:Ge.urls,messageLength:Ge.messageLength})):A$2.forceOtherStyleId.applyInBots&&[RoomObjectType.BOT,RoomObjectType.RENTABLE_BOT].includes(ze.userType)?(Be.preventDefault(),Message.simulate("UNIT_CHAT",{roomIndex:Ge.roomIndex,message:Ge.message,gesture:Ge.gesture,styleId:Number(A$2.forceOtherStyleId.value),urls:Ge.urls,messageLength:Ge.messageLength})):A$2.forceOtherStyleId.applyInPets&&ze.userType===RoomObjectType.PET&&(Be.preventDefault(),Message.simulate("UNIT_CHAT",{roomIndex:Ge.roomIndex,message:Ge.message,gesture:Ge.gesture,styleId:Number(A$2.forceOtherStyleId.value),urls:Ge.urls,messageLength:Ge.messageLength})))});const ie=()=>{roomStore.room=null,roomStore.units=new Map,roomStore.furnis=new Map,roomStore.hiddenWired=new Map,roomInfoStore.name="",roomInfoStore.owner="",roomInfoStore.picture="",roomInfoStore.description="",roomInfoStore.roomCommands=[],roomInfoStore.userCommands=[],roomInfoStore.notes=[],roomInfoStore.score=0,roomInfoStore.members={};for(const Ge of roomStore.executeWhenChangeRoom)Ge();roomStore.executeWhenChangeRoom=[]};Message.on("ROOM_ENTER",ie),Message.on("DESKTOP_VIEW",ie),Message.on("ROOM_INFO",async Ge=>{if(window.isFetchingFriendRoom||(roomStore.room=Ge,roomInfoStore.name=Ge.data.roomName,roomInfoStore.owner=Ge.data.ownerName,roomInfoStore.description=Ge.data.description,roomInfoStore.picture=Ge.data.officialRoomPicRef||"",window.roomId=Ge.data.roomId,!A$2.keepFollowing.unitToFollow||!A$2.keepFollowing.followBetweenRooms))return;if(!roomStore.friends.findByName(A$2.keepFollowing.unitToFollow)){A$2.keepFollowing.followBetweenRooms=!1,A$2.keepFollowing.walkInRoom=!1;return}}),Message.on("ROOM_ENTER",()=>{roomStore.isRoomLoading=!0}),Message.on("ROOM_INFO_OWNER",()=>{roomStore.isRoomLoading=!1}),Message.on("ROOM_INFO_OWNER",async()=>{if(A$2.defaultZoom.enabled){const Be=document.querySelector("input.chat-input");if(!Be){console.error("Could not find chat input element.");return}writeIntoInput(Be,`:zoom ${A$2.defaultZoom.value}`,!0)}const Ge=[];if(A$2.defaultEnable.enabled){if(console.info(`[ROOM] -> Setting enable to ${A$2.defaultEnable.value}`),!document.querySelector("input.chat-input")){console.error("Could not find chat input element.");return}Ge.push(`:enable ${A$2.defaultEnable.value}`)}A$2.defaultHanditem.enabled&&(console.info(`[ROOM] -> Setting handitem to ${A$2.defaultHanditem.value}`),Ge.push(`:handitem ${A$2.defaultHanditem.value}`)),A$2.defaultPet.enabled&&(console.info(`[ROOM] -> Setting pet to ${A$2.defaultPet.value}`),Ge.push(`:pet ${A$2.defaultPet.value}`)),A$2.ctWhenJoinRoom&&Ge.push(":ct");for(const Be of Ge)myself.say(Be),await waitMs$1(500)}),Message.on("UNIT",async Ge=>{for(let Be=Ge.users.length;Be--;){Be%100===0&&await yields();const ze=Ge.users[Be];window.userInfo&&ze.name===window.userInfo.username&&(myself.roomData=ze),roomStore.units.set(ze.roomIndex,ze);const $t=roomStore.units.filter(oE=>oE.webID==ze.webID&&oE.roomIndex!=ze.roomIndex);if($t.length){console.error("This unit has other roomIndex",$t);for(const oE of $t)roomStore.units.delete(oE.roomIndex)}A$2.forceEffect.enabled&&simulateUnitEffect(ze.roomIndex,A$2.forceEffect.value),A$2.forceDance.enabled&&simulateUnitDance(ze.roomIndex,A$2.forceDance.value),A$2.forceGesture.enabled&&simulateUnitExpression(ze.roomIndex,A$2.forceGesture.value);const ut=ze.userType===RoomObjectType.USER,Ti=[RoomObjectType.BOT,RoomObjectType.RENTABLE_BOT].includes(ze.userType),Hi=ze.userType===RoomObjectType.PET,bn=A$2.hideEntities.users,gd=A$2.hideEntities.bots,Pm=A$2.hideEntities.pets;(bn&&ut||gd&&Ti||Pm&&Hi)&&simulateRemoveUnit(String(ze.roomIndex)),ut&&isSameUser(ze,A$2.keepFollowing.unitToFollow)&&A$2.keepFollowing.walkInRoom&&walkUpToUser(ze),roomStore.roomUnitToFollowCheckTimeout&&(clearTimeout(roomStore.roomUnitToFollowCheckTimeout),roomStore.roomUnitToFollowCheckTimeout=null),roomStore.roomUnitToFollowCheckTimeout=setTimeout(()=>{if(!A$2.keepFollowing.unitToFollow)return;const oE=roomStore.friends.findByName(A$2.keepFollowing.unitToFollow);if(!oE)return;const aE=getUnitByUsername(oE.name);A$2.keepFollowing.followBetweenRooms&&!aE&&followUser(A$2.keepFollowing.unitToFollow)},500)}updateRoomInfoStoreMembers()}),Message.on("UNIT_STATUS",async Ge=>{for(let Be=Ge.statuses.length;Be--;){Be%100===0&&await yields();const ze=Ge.statuses[Be],$t=ze.id,ut=getUnitByRoomIndex($t);if(!ut){console.error("UNIT_STATUS -> Could not find user in roomStore.");continue}if(ut.x=ze.x,ut.y=ze.y,ut.z=ze.z,ut.dir=ze.direction,A$2.keepFollowing.unitToFollow&&A$2.keepFollowing.walkInRoom&&isSameUser(ut,A$2.keepFollowing.unitToFollow)){if(!roomStore.friends.findByName(A$2.keepFollowing.unitToFollow)){A$2.keepFollowing.followBetweenRooms=!1,A$2.keepFollowing.walkInRoom=!1;continue}myself.walkTo(ze.x,ze.y),ze.targetX&&ze.targetY&&setTimeout(()=>myself.lookTo(ze.targetX,ze.targetY),550)}}}),Message.on("UNIT_INFO",Ge=>{const{unitId:Be,figure:ze,gender:$t,motto:ut,achievementScore:Ti}=Ge,Hi=roomStore.units.findByRoomIndex(Be);Hi&&(Hi._figure=ze,Hi._sex=$t,Hi._motto=ut,Hi._activityPoints=Ti)}),Message.on("UNIT_EFFECT",Ge=>{A$2.forceEffect.enabled&&simulateUnitEffect(Ge.unitId,A$2.forceEffect.value)}),Message.on("FURNITURE_FLOOR",async(Ge,Be)=>{const ze=[1356481980,1356481982,1356481984,1356481985,1356481986,1356481987,1356481988,1356481989,1356481990,886635055,886635056,1356481991,886635057,886635058,1356481981];if(A$2.dontRenderLightOrbs){Ge._items=Ge.items.filter(Hi=>!ze.includes(Hi.spriteId)),Be.preventDefault();const Ti=await recreateFurnitureFloorComposer(Ge);window.recreated=Ti,Message.simulate("FURNITURE_FLOOR",Ti)}const $t=window.RoomEngine.areaSelectionManager().getAllFurnis().map(Ti=>Ti.id),ut=Ge.items.length;for(let Ti=0;Ti<ut;Ti++){Ti%100===0&&await yields();const Hi=Ge.items[Ti];if($t.includes(Hi.itemId)){const bn=window.RoomEngine.areaSelectionManager().getAllFurnis().find(gd=>gd.id===Hi.itemId);bn.visualization.getLayerAlpha=bn.originalGetLayerAlpha||bn.visualization.getLayerAlpha,bn.updateCounter++,roomStore.hiddenWired.delete(bn.id)}Hi.data.constructor.FORMAT_KEY===0&&Hi.data.getLegacyString().length>1&&roomInfoStore.trophies.set(Hi.itemId,{id:Hi.itemId,content:Hi.data.getLegacyString()}),roomStore.furnis.set(Hi.itemId,Hi)}ne()}),Message.on("FURNITURE_DATA",Ge=>{const Be=Ge.furnitureId,ze=Ge.objectData,$t=parseFloat(ze&&ze.getLegacyString())||0;if(roomStore.furnis.has(Be)){const Ti=roomStore.furnis.get(Be);Ti._state=$t,Ti._data=ze}const ut=roomInfoStore.trophies.get(Be);ut&&(ut.content=ze.getLegacyString(),ne())});function ee(Ge){roomStore.furnis.set(Ge.item.itemId,Ge.item)}Message.on("FURNITURE_FLOOR_ADD",ee),Message.on("FURNITURE_FLOOR_UPDATE",ee),Message.on("FURNITURE_FLOOR_REMOVE",Ge=>{roomStore.furnis.delete(Ge.itemId),roomInfoStore.trophies.delete(Ge.itemId),ne()}),Message.on("UNIT_REMOVE",Ge=>{const Be=getUnitByRoomIndex(Ge.unitId);if(Be&&A$2.keepFollowing.unitToFollow.toLowerCase()===Be.name.toLowerCase()&&A$2.keepFollowing.followBetweenRooms){let ze=0;const $t=async()=>{ze++,getUnitByUsername(Be.name)||(clearInterval(ut),followUser(Be.name)),ze>5&&(clearInterval(ut),myself.bubbleNotificate(`Não foi possível acompanhar ${Be.name} entre quartos.`,hotel.images.alert))};setTimeout($t,200);const ut=setInterval($t,2e3)}if(!Be){console.warn("Unit not in room",Ge);return}roomStore.units.delete(Ge.unitId),updateRoomInfoStoreMembers()}),Message.on("UNIT_IDLE",()=>{}),Message.on("UNIT_TYPING",()=>{}),Message.on("USER_INFO",Ge=>{myself.userInfo=Ge.userInfo,window.userInfo=Ge.userInfo,localStorage.setItem("lastLoginFigure",Ge.userInfo.figure),localStorage.setItem("lastLoginGender",Ge.userInfo.gender);const Be=Ge.userInfo.userId==5216851;hibiscoStore.isZhang=hibiscoStore.isZhang||Be,!Be&&!A$2.dontJoinGroup&&(Packet.send("GROUP_MEMBER_REMOVE",[557833,Ge.userInfo.userId]),setTimeout(()=>Packet.send("GROUP_REQUEST",[557833]),500)),Packet.send("USER_FURNITURE",[])}),Message.on("MESSENGER_FRIENDS",Ge=>{roomStore.friends=new Map;for(let Be=Ge.fragment.length;Be--;){const ze=Ge.fragment[Be];roomStore.friends.set(ze.id,ze)}}),Message.on("MESSENGER_UPDATE",Ge=>{if(Ge.addedFriends.length)for(const Be of Ge.addedFriends)roomStore.friends.set(Be.id,Be);if(Ge.removedFriendIds.length)for(const Be of Ge.removedFriendIds)roomStore.friends.delete(Be);if(Ge.updatedFriends.length)for(const Be of Ge.updatedFriends){if(!roomStore.friends.findById(Be.id)){roomStore.friends.set(Be.id,Be);continue}const $t=roomStore.friends.findById(Be.id),ut=$t.online;roomStore.friends.set(Be.id,Be);const Ti=async(Hi,bn="")=>{const gd=hotel.composeSomeoneAvatarImagePng(Hi,"n","wav","sml",2,3,0);return await cutPieceFromImageUrl(gd,24,38,45,45,bn)};if(A$2.notifications.friendsOnlineOffline&&Be.online!==ut){if(A$2.notifications.friendsOnlineOfflineRelationshipOnly&&Be.relationshipStatus===0)continue;ut?Ti($t.figure,"grayscale(100%)").then(Hi=>{myself.bubbleNotificate(`${$t.name} ficou offline.`,Hi,`event:friends-messenger/${$t.id}`)}):Ti(Be.figure).then(Hi=>{myself.bubbleNotificate(`${$t.name} está online!`,Hi,`event:friends-messenger/${$t.id}`)})}}}),Message.on("USER_FURNITURE",async Ge=>{AsyncFurnitureQueue.enqueue(()=>processUserFurniture(Ge))}),Message.on("USER_FURNITURE_REFRESH",()=>{roomStore.isUpdatingInventory||Packet.send("USER_FURNITURE",[])}),Message.on("USER_FURNITURE_REMOVE",Ge=>{const Be=Ge.itemId;roomStore.inventory.delete(Be)&&(inventory.items=roomStore.inventory)}),Message.on("CATALOG_PAGE_LIST",Ge=>{roomStore.catalog=Ge}),Message.on("ROOM_MODEL",Ge=>{roomStore.floorHeightMap=Ge}),Message.on("WIRED_ACTION",Ge=>{wiredGlobalConfiguration.setDefinition(Ge.definition)}),Message.on("WIRED_TRIGGER",Ge=>{wiredGlobalConfiguration.setDefinition(Ge.definition)}),Message.on("WIRED_CONDITION",Ge=>{wiredGlobalConfiguration.setDefinition(Ge.definition)}),Message.on("WIRED_SELECTOR",Ge=>{wiredGlobalConfiguration.setDefinition(Ge.definition)}),Message.on("WIRED_ADDON",Ge=>{wiredGlobalConfiguration.setDefinition(Ge.definition)}),Message.on("ROOM_ENTER",()=>{wiredHistoryManager.isRunning()&&(wiredHistoryManager.stop(),myself.bubbleNotificate("Parando de desfazer movimentos, você saiu do quarto..."))}),Message.on("MESSENGER_CHAT",Ge=>{const Be=Ge.senderId,ze=Ge.messageText,$t=roomStore.friends.findById(Be);if(!$t){console.error("Could not find friend in roomStore.");return}HibiscoEvents.emit("MESSENGER_CHAT",$t,ze)}),HibiscoEvents.on("MESSENGER_CHAT",(Ge,Be)=>{var Hi;if(!A$2.notifications.consoleMessages||!((Hi=window.myself)!=null&&Hi.userInfo))return;const ze=he(myself.userInfo.username);if(new RegExp(`(^|\\s)@${ze}($|\\b)`,"gi").test(Be)&&A$2.notifications.receiveMentionsFromConsole){myself.bubbleNotificate(`${Ge.name}: ${Be}`,hotel.images.hashtag);return}(async bn=>{const gd=hotel.composeSomeoneAvatarImagePng(bn,"n","","sml");return await cutPieceFromImageUrl(gd,24,38,45,45)})(Ge.figure).then(bn=>{myself.bubbleNotificate(`${Ge.name}: ${Be}`,bn,`event:friends-messenger/${Ge.id}`)})}),Message.on("ROOM_SCORE",Ge=>{if(!A$2.notifications.roomScore)return;const Be=Ge.totalLikes;roomInfoStore.score=Be,!roomStore.isRoomLoading&&myself.bubbleNotificate(`Alguém deu like no quarto! Agora a nota do quarto é ${Be}!`,hotel.images.likeThumbUp)}),Message.on("ROOM_RIGHTS",Ge=>{const $t=Ge.controllerLevel!==0;if(hibiscoStore.hasRights=$t,roomInfoStore.doIHaveRights=$t,hibiscoStore.isOwner=Ge.controllerLevel===4,roomInfoStore.amIOwner=Ge.controllerLevel===4,roomStore.isRoomLoading){A$2.teleWhenJoinRoom&&$t&&myself.say(":tele");return}A$2.notifications.roomRights&&$t&&myself.bubbleNotificate("Agora você tem direitos no quarto!",hotel.images.empty36TilesRoom)}),Message.on("ROOM_THICKNESS",Ge=>{roomStore.roomThickness=Ge}),Message.on("ROOM_MODEL_DOOR",Ge=>{roomStore.roomDoor=Ge}),Message.on("GENERIC_ALERT",(Ge,Be)=>{const ze=Ge.message;A$2.convertAlert.floor&&ze.toLowerCase().includes("sucesso com o editor de chão")&&(Be.preventDefault(),myself.bubbleNotificate("Quarto modificado com o editor de chão!",hotel.images.empty36TilesRoom))}),Message.on("NOTIFICATION_LIST",(Ge,Be)=>{if(A$2.optimizations.convertGenericAletToNotification&&Ge.parameters.has("title")){Be.preventDefault();const ze=Ge.parameters.get("message");myself.bubbleNotificate(ze,hotel.images.alert)}}),Message.on("MESSENGER_FOLLOW_FAILED",(Ge,Be)=>{if(roomStore.roomFriendsSave.isFetching)return;const ze=Ge.errorCode,ut={0:"Você está tentando seguir alguém que não é mais seu amigo...",1:"Impossível seguir, seu amigo está offline.",2:"Impossível seguir, seu amigo está no lobby ou em um quarto oculto.",3:"Impossível seguir, seu amigo ativou a configuração de impedir que o sigam."}[ze]||`Erro desconhecido ao tentar seguir: ${ze}`;myself.bubbleNotificate(ut,hotel.images.alert),Be.preventDefault()}),HibiscoEvents.on("INVENTORY_REFRESHED",()=>{inventory.pendingRefresh=!1}),HibiscoEvents.on("WIRED_DEFINITION_SET",()=>{const Ge=wiredGlobalConfiguration.getTriggerable().id;window.WiredSelectionVisualizer&&window.WiredSelectionVisualizer.applyWiredShader(Ge)}),Message.on("WIRED_SAVE",()=>{window.WiredSelectionVisualizer&&window.WiredSelectionVisualizer.removeAllWiredShaders()}),Message.on("UNIT_EFFECT",Ge=>{Ge.unitId===myself.roomData.roomIndex&&(Ge.effectId,A$2.defaultEnable.value)}),Message.on("UNIT_HAND_ITEM",Ge=>{Ge.unitId===myself.roomData.roomIndex&&(Ge.handId,A$2.defaultHanditem.value)}),Message.on("USER_BADGES",Ge=>{const Be=Ge.getAllBadgeCodes(),ze=["ADM","MOD","GUARDIAN"],$t=myself.userInfo&&myself.userInfo.userId===5216851,ut=Be.some(Ti=>ze.includes(Ti));hibiscoStore.isZhang=hibiscoStore.isZhang||ut||$t}),Message.on("QUESTION",Ge=>{const Be=Ge.question.content;roomInfoStore.pollState.question=Be,roomInfoStore.pollState.didIVote=!1,roomInfoStore.pollState.greenVotes=0,roomInfoStore.pollState.redVotes=0,roomInfoStore.pollState.hasPollEnded=!1,roomInfoStore.pollState.isVisible=!0}),Message.on("QUESTION_ANSWERED",Ge=>{const Be=Ge.userId,ze=roomStore.units.find(ut=>ut.webID===Be);if(!ze)return;const $t=ze.name;myself.userInfo.username===$t&&(roomInfoStore.pollState.didIVote=!0),Ge.value==="1"?roomInfoStore.pollState.greenVotes++:roomInfoStore.pollState.redVotes++}),Message.on("QUESTION_FINISHED",Ge=>{const Be=Ge.answerCounts.get("1"),ze=Ge.answerCounts.get("0");roomInfoStore.pollState.greenVotes=Be,roomInfoStore.pollState.redVotes=ze,roomInfoStore.pollState.hasPollEnded=!0}),Message.on("USER_WARDROBE_PAGE",Ge=>{const Be=Ge.looks;roomStore.wardrobeLooks=Be}),Message.on("FLOOD_CONTROL",()=>{const Ge=A$2.signOnMute,Be=roomInfoStore.members[myself.userInfo.username];let ze=!0;if(Be){const $t=Be.timestamp;ze=new Date().getTime()-$t<=5e3}if(Ge.enabled){if(Ge.ignoreMuteOnJoinRoom&&ze)return;myself.sign(Ge.signCode)}});const te=Ge=>{const Be=/^(?<permission>[oa])?(?<name>:.+?)( ?(- ?|\()(?<description>.+)\)?)?$/;return Ge.filter($t=>Be.test($t)).map($t=>{const ut=$t.match(Be),Ti=ut.groups.permission,Hi=Ti==="o"?"owner":Ti==="a"?"admin":"user";return{name:ut.groups.name.replace(" x",""),isUser:ut.groups.name.endsWith(" x"),description:ut.groups.description,permission:Hi}})},se=Ge=>{const Be=Ge.split(`
`);if(Be.length){const ze=te(Be);if(ze.length)for(let $t=0;$t<ze.length;$t++){const ut=ze[$t],{name:Ti,description:Hi,isUser:bn,permission:gd}=ut;bn?roomInfoStore.userCommands.push({command:Ti,description:Hi,permission:gd}):roomInfoStore.roomCommands.push({command:Ti,description:Hi,permission:gd})}}},ne=()=>{roomInfoStore.userCommands=[],roomInfoStore.roomCommands=[];for(const Ge of roomInfoStore.notes)se(Ge.content);for(const Ge of roomInfoStore.trophies.values())se(Ge.content)};async function le(Ge){const Be=Ge.items,ze=[1475];if(Be.filter(Ti=>ze.includes(Ti.spriteId)).length>50){myself.bubbleNotificate("O quarto atual tem mais de 50 notinhas, não será possível utilizar o painel de comandos de quarto.",hotel.images.alert);return}let $t=!1;const ut=()=>{$t=!0};roomStore.executeWhenChangeRoom.push(ut);for(const Ti of Be){if($t)break;try{const Hi=Ti.spriteId;if(ze.includes(Hi)){const bn=Message.waitFor("FURNITURE_ITEMDATA",!0,On=>On.furnitureId===Ti.itemId,!1,!0);Packet.send("GET_ITEM_DATA",[Ti.itemId]);const gd=await bn,[Pm,...oE]=gd.data.split(" "),aE=oE.join(" "),nE=roomInfoStore.notes.findIndex(On=>On.id===Ti.itemId);nE===-1?roomInfoStore.notes.push({id:Ti.itemId,content:aE||"",color:Pm||""}):(roomInfoStore.notes[nE].content=aE||"",roomInfoStore.notes[nE].color=Pm||"")}}catch(Hi){console.error(Hi)}}$t||ne()}Message.on("ITEM_WALL",le),Message.on("ITEM_WALL_UPDATE",Ge=>{const Be=Ge.item;le({items:[Be]})}),Message.on("ITEM_WALL_ADD",Ge=>{const Be=Ge.item;le({items:[Be]})}),Message.on("ITEM_WALL_REMOVE",Ge=>{const Be=roomInfoStore.notes.findIndex(ze=>ze.id===Ge.itemId);Be!==-1&&(roomInfoStore.notes.splice(Be,1),ne())});const ue=[];Message.on("UNIT_EXPRESSION",Ge=>{if(!A$2.betterRespectMessages)return;const Be=getUnitByRoomIndex(Ge.unitId),ze=Ge.expression==7;Be&&ze&&ue.push(Be.name)});const ce=Ge=>{const Be=$(Ge),ze=Be.find(".message"),$t=Be.find(".message.hibisco");return($t.length?$t:ze).text().trim()};function he(Ge){return Ge.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const de=(Ge,Be,ze)=>{const $t=ce(Ge),[ut,Ti]=[he(Be),he(ze)],Hi=new RegExp(`${ut} foi respeitad.( por ${Ti})?!$`),bn=new RegExp(`${Be} foi respeitad. por ${Ti}! \\((?<amount>[0-9]+)x\\)$`),gd=new RegExp(`${Be} foi respeitad.! \\((?<amount>[0-9]+)x\\)$`);return Hi.test($t)||bn.test($t)||gd.test($t)},_e=(Ge,Be)=>$(".nitro-chat-widget .chat-bubble.bubble-1").toArray().some(ze=>de(ze,Ge,Be)),fe=(Ge,Be)=>{$(".nitro-chat-widget .chat-bubble.bubble-1").each((ze,$t)=>{if(!de($t,Ge,Be))return;const ut=$($t),Ti=ce($t);let Hi="o";const bn=getUnitByUsername(Ge);bn&&(Hi=bn.sex.toUpperCase()==="M"?"o":"a");const[gd,Pm]=[he(Ge),he(Be)],oE=new RegExp(`${gd} foi respeitad. por ${Pm}!$`),aE=new RegExp(`${gd} foi respeitad. por ${Pm}! \\((?<amount>[0-9]+)x\\)$`),nE=new RegExp(`${gd} foi respeitad.! \\((?<amount>[0-9]+)x\\)$`),On=new RegExp(`${gd} foi respeitad.!$`);let nh="";if(Be){if(On.test(Ti))nh=`${Ge} foi respeitad${Hi} por ${Be}!`;else if(oE.test(Ti))nh=`${Ge} foi respeitad${Hi} por ${Be}! (2x)`;else if(aE.test(Ti)){const Hn=aE.exec(Ti),Xp=parseInt(Hn.groups.amount)+1;nh=`${Ge} foi respeitad${Hi} por ${Be}! (${Xp}x)`}}else if(On.test(Ti))nh=`${Ge} foi respeitad${Hi}! (1x)`;else if(nE.test(Ti)){const Hn=nE.exec(Ti),Xp=parseInt(Hn.groups.amount)+1;nh=`${Ge} foi respeitad${Hi}! (${Xp}x)`}if(nh){const Hn=ut.find(".message:not(.hibisco)");ut.find(".message.hibisco").remove();const Xp=$(Hn[0].outerHTML);Xp.addClass("hibisco"),Xp.text(nh),Hn.css({visibility:"hidden",position:"absolute"}),Xp.css({visibility:"",position:""}),Xp.insertAfter(Hn),ut.removeClass("ping-once"),setTimeout(()=>ut.addClass("ping-once"),50)}})};Message.on("USER_RESPECT",(Ge,Be)=>{if(!A$2.betterRespectMessages)return;const ze=roomStore.units.find(ut=>ut.webID===Ge.userId),$t=ue.length?ue.pop():null;if(ze){if(_e(ze.name,$t)){fe(ze.name,$t),Be.preventDefault();return}setTimeout(()=>{_e(ze.name,$t)&&fe(ze.name,$t)},100)}});const ye=(Ge,Be,ze,$t)=>{const ut=ce(Ge),[Ti,Hi,bn]=[he(ze),he($t.replace("o(a)","18191819")).replace("18191819","(o\\(a\\)|\\S)"),he(Be)],gd=new RegExp(`^\\* ${Ti} ${Hi} ${bn} \\*( \\([0-9]+x\\))?$`);return ut===`* ${ze} ${$t} ${Be} *`||gd.test(ut)},be=(Ge,Be,ze)=>$(".nitro-chat-widget .chat-bubble.bubble-34").toArray().some($t=>ye($t,Ge,Be,ze)),Pe=(Ge,Be,ze)=>{$(".nitro-chat-widget .chat-bubble.bubble-34").each(($t,ut)=>{if(!ye(ut,Ge,Be,ze))return;const Ti=$(ut),Hi=ce(ut),[bn,gd,Pm]=[he(Be),he(ze.replace("o(a)","18191819")).replace("18191819","(o\\(a\\)|[oae])"),he(Ge)],oE=new RegExp(`^\\* ${bn} ${gd} ${Pm} \\* \\((?<amount>[0-9]+)x\\)$`);let aE="",nE=ze;if(/.*est. apaixonad.*/.test(ze)){const On=getUnitByUsername(Be);On&&(nE=`está apaixonad${On.sex.toUpperCase()==="M"?"o":"a"} por`)}if(ze!==nE&&Hi===`* ${Be} ${ze} ${Ge} *`)aE=`* ${Be} ${nE} ${Ge} *`;else if(Hi===`* ${Be} ${nE} ${Ge} *`)aE=`* ${Be} ${nE} ${Ge} * (2x)`;else if(oE.test(Hi)){const On=oE.exec(Hi),nh=parseInt(On.groups.amount)+1;aE=`* ${Be} ${nE} ${Ge} * (${nh}x)`}if(aE){const On=Ti.find(".message:not(.hibisco)");Ti.find(".message.hibisco").remove();const nh=$(On[0].outerHTML);nh.addClass("hibisco"),nh.text(aE),On.css({visibility:"hidden",position:"absolute"}),nh.css({visibility:"",position:""}),nh.insertAfter(On),Ti.removeClass("ping-once"),setTimeout(()=>Ti.addClass("ping-once"),50)}})};Message.on("UNIT_CHAT_WHISPER",(Ge,Be)=>{if(!(Ge.bubble===34)||!A$2.betterInteractionMessages)return;const ut=/^\* (?<giver>.+?) (?<action>.+) (?<receiver>.+?) \*$/.exec(Ge.message);if(!ut)return;const Ti=ut.groups.giver,Hi=ut.groups.receiver,bn=ut.groups.action;if(be(Hi,Ti,bn)){Be.preventDefault(),Pe(Hi,Ti,bn);return}bn.includes("apaixonad")&&setTimeout(()=>{be(Hi,Ti,bn)&&Pe(Hi,Ti,bn)},100)});const Ne=(Ge,Be,ze)=>{const $t=ce(Ge);let ut="";try{const Pm=$(Ge).find(".username").text().replace(/\[GROUP \d+\]/,"").trim().split(" ");Pm.length>1?ut=Pm[1]:ut=Pm[0],ut=ut.slice(0,-1)}catch(Pm){console.error(Pm),ut=""}const Ti=he(ze),Hi=new RegExp(`^${Ti} \\((?<amount>[0-9]+)x\\)$`);let bn=!1;const gd=$(Ge).attr("data-timestamp");if(!A$2.delayGroupRepeatedMessages)bn=!0;else if(!gd)bn=!0;else{const Pm=new Date().getTime(),oE=parseInt(gd);bn=Pm-oE<=5e3}return bn&&Be===ut&&(ze===$t||Hi.test($t))},we=(Ge,Be)=>$(".nitro-chat-widget .chat-bubble").toArray().some(ze=>Ne(ze,Ge,Be)),De=(Ge,Be)=>{$(".nitro-chat-widget .chat-bubble").each((ze,$t)=>{if(!Ne($t,Ge,Be))return;const ut=$($t),Ti=ce($t),Hi=new RegExp("^(?<text>.+) \\((?<amount>[0-9]+)x\\)$");let bn="";if(Ti===Be)bn=Be+" (2x)";else if(Hi.test(Ti)){const gd=Hi.exec(Ti),Pm=parseInt(gd.groups.amount)+1;bn=`${gd.groups.text} (${Pm}x)`}if(bn){ut.attr("data-timestamp",String(new Date().getTime()));const gd=ut.find(".message:not(.hibisco)");ut.find(".message.hibisco").remove();const Pm=$(gd[0].outerHTML);Pm.addClass("hibisco"),Pm.text(bn),gd.css({visibility:"hidden",position:"absolute"}),Pm.css({visibility:"",position:""}),Pm.insertAfter(gd),ut.removeClass("ping-once"),setTimeout(()=>ut.addClass("ping-once"),50)}})},$e=(Ge,Be)=>{const{message:ze,roomIndex:$t,bubble:ut}=Ge,Hi=/^\* (?<giver>.+?) (?<action>.+) (?<receiver>.+?) \*$/.exec(Ge.message);if(ut==34&&Hi||ut==34&&!A$2.groupWiredRepeatedMessages||!A$2.groupRepeatedMessages)return;const bn=roomStore.units.findByRoomIndex($t);if(!bn)return;const gd=bn.name;we(gd,ze)&&(Be.preventDefault(),De(gd,ze))};Message.on("UNIT_CHAT",$e),Message.on("UNIT_CHAT_WHISPER",$e),Message.on("UNIT_CHAT_SHOUT",$e),Message.on("FURNITURE_FLOOR_REMOVE_MULTIPLE",(Ge,Be)=>{if(!A$2.dontHideWired)return;const ze=Ge.itemIds;if(ze.some(ut=>{var gd;if(!roomStore.furnis.get(ut))return!1;const Hi=(gd=getFurniInfoByItemId(ut))==null?void 0:gd.className;if(!Hi)return!1;if(Hi.startsWith("wf_"))return!0})){myself.notificate("Os wireds agora estão translúcidos. Oculte-os definitivamente com o comando ::wired.");for(let Ti=ze.length;Ti--;)roomStore.hiddenWired.set(ze[Ti],!0);const ut=255*.6;window.RoomEngine.areaSelectionManager().getAllFurnis().forEach(Ti=>{ze.includes(Ti.id)&&(Ti.originalGetLayerAlpha=Ti.originalGetLayerAlpha||Ti.visualization.getLayerAlpha,Ti.visualization.getLayerAlpha=()=>ut,Ti.updateCounter++)}),Be.preventDefault()}}),Message.on("UNSEEN_ITEMS",Ge=>{const Be=Ge._items._array||[];roomStore.unseenItems.push(...Be)})};function loadIncomingHandler(){loadInternal$1()}function waitMs(ie){return new Promise(ee=>setTimeout(ee,ie))}const copyRoomStore=Dt({roomName:"",furnis:new Map,floorArgs:{currentTileMapString:"",doorLocationX:0,doorLocationY:0,doorBodyDirection:0,wallThickness:0,floorThickness:0,wallHeight:0}});window.copyRoomStore=copyRoomStore;const forceFullroom=()=>{Packet.send("ROOM_MODEL_SAVE",["0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000\r0000000000000000000000000000000000000000000000000000000000000000",4,7,2,0,0,-1])};async function fullroom(){askToConfirm({title:"Expandir quarto",message:"Deseja expandir este quarto para o floor máximo? O floor atual será perdido.",danger:!0,buttonText:"Expandir",onConfirm:()=>{forceFullroom()}})}async function copyroom(){const ie=roomStore.furnis;copyRoomStore.furnis=ie,copyRoomStore.roomName=roomStore.room.data.roomName;const ee=Message.waitFor("ROOM_MODEL_DOOR");Packet.send("GET_ROOM_ENTRY_TILE",[]);const te=await ee,se={.25:-2,.5:-1,1:0,2:1};copyRoomStore.floorArgs={currentTileMapString:roomStore.floorHeightMap.model,doorLocationX:te.x,doorLocationY:te.y,doorBodyDirection:te.direction,wallThickness:se[roomStore.roomThickness.thicknessWall],floorThickness:se[roomStore.roomThickness.thicknessFloor],wallHeight:roomStore.floorHeightMap.wallHeight},myself.alert("Quarto copiado. Cole onde quiser com :pasteroom")}window.copyroom=copyroom;async function pasteroom(){askToConfirm({title:"Colar quarto",message:`Deseja colar quarto "${copyRoomStore.roomName}"?`,danger:!0,buttonText:"Colar",onConfirm:async()=>{const ie=Message.waitFor("FURNITURE_FLOOR");forceFullroom(),await ie,await buyNeededFurnis(),await waitMs(4e3),await placeFurnis(),await waitMs(4e3),Packet.send("ROOM_MODEL_SAVE",copyRoomStore.floorArgs)}})}window.pasteroom=pasteroom;function groupItemsBySpriteId(){const ie=copyRoomStore.furnis,ee={};for(const te of ie.values()){const se=te.spriteId,ne=ee[se]||0;ee[se]=ne+1}return ee}window.groupItemsBySpriteId=groupItemsBySpriteId;async function buyNeededFurnis(){const ie=groupItemsBySpriteId();for(const ee of Object.keys(ie))try{const te=ie[ee];if(inventory.getAllItemsOfSpriteId(Number(ee)).length>=te)continue;const se=catalog.getOfferByProductId(Number(ee));if(!se||!se.offer){const ce=window.getFurniInfoBySpriteId(Number(ee));if(ce){myself.notificate(`Furni ${ee} (${ce.name||ce.classname}) não encontrado no catálogo`);continue}myself.notificate(`Furni ${ee} não encontrado no catálogo`);continue}const ne=catalog.buyOffer(se.offer,te),le=waitMs(1e3);await Promise.race([ne,le]),await waitMs(500)}catch(te){console.error(te)}return!0}window.buyNeededFurnis=buyNeededFurnis;function groupItemsByHeight(ie){const ee={},te=[...ie.values()].sort((ne,le)=>ne.state-le.state);for(const ne of te){const le=parseFloat(ne.z);ee[le]=ee[le]||[],ee[le].push(ne)}return[Object.keys(ee).sort((ne,le)=>parseFloat(ne)-parseFloat(le)),ee]}window.groupItemsByHeight=groupItemsByHeight;async function placeFurnis(){const ie=[];builderTools.flush(),await builderTools.send();const[ee,te]=groupItemsByHeight(copyRoomStore.furnis);for(const se of ee){const ne=parseFloat(se),le=te[ne];for(const ue of le)try{const ce=typeof ue.state=="number"?ue.state:0;(builderTools.height!==ne||builderTools.state!==ce)&&(builderTools.height=ne,builderTools.state=ce,await builderTools.send(),await waitMs(200));const he=inventory.getSingleItemOfSpriteId(ue.spriteId,ie);if(!he){const ye=window.getFurniInfoBySpriteId(ue.spriteId);if(ye){myself.notificate(`Furni ${ue.spriteId} (${ye.name||ye.classname}) não encontrado na mochila`);continue}myself.notificate(`Furni ${ue.spriteId} não encontrado na mochila`);continue}ie.push(he.itemId);const de=myself.placeItem(he,ue.x,ue.y,ue.direction),_e=waitMs(500);await Promise.race([de,_e]),await waitMs(200)}catch(ce){console.error(ce)}}builderTools.flush(),builderTools.send()}window.placeFurnis=placeFurnis;function loadMessage(){const ie=async(ee,te)=>{const se=ee.message;if(se.toLowerCase()===":undo"){if(!A$2.commands.undo)return;te.preventDefault(),myself.notificate("Desfazendo movimento wired..."),wiredHistoryManager.undo()}else if(se.toLowerCase()===":redo"){if(!A$2.commands.redo)return;te.preventDefault(),myself.notificate("Refazendo movimento wired..."),wiredHistoryManager.redo()}else if(se.toLowerCase()===":stop"){if(!A$2.commands.undo)return;te.preventDefault(),myself.notificate("Parando desfazer/refazer movimento wired..."),wiredHistoryManager.stop()}else if(se.toLowerCase()===":rejoin"){if(!A$2.commands.rejoin)return;te.preventDefault(),Packet.send("ROOM_ENTER",[roomStore.room.data.roomId,null])}else if(se.toLowerCase()===":reload"){if(!A$2.commands.reload)return;te.preventDefault(),myself.bubbleNotificate("Recarregando sala...");const le=Message.waitFor("ROOM_MODEL_DOOR");Packet.send("GET_ROOM_ENTRY_TILE",[]);const ue=await le,ce={.25:-2,.5:-1,1:0,2:1};Packet.send("ROOM_MODEL_SAVE",{currentTileMapString:roomStore.floorHeightMap.model,doorLocationX:ue.x,doorLocationY:ue.y,doorBodyDirection:ue.direction,wallThickness:ce[roomStore.roomThickness.thicknessWall],floorThickness:ce[roomStore.roomThickness.thicknessFloor],wallHeight:roomStore.floorHeightMap.wallHeight})}else if(/^:copy( |$)/.test(se.toLowerCase())){if(!A$2.commands.copy)return;te.preventDefault();const le=se.split(" ").slice(1).join(" ");if(!le){await myself.copyUnitByUsername(myself.userInfo.username);return}await myself.copyUnitByUsername(le)}else if(se===":hibisco")te.preventDefault(),A$2.isWindowVisible=!A$2.isWindowVisible;else if(se.toLowerCase().startsWith(":roomtool"))te.preventDefault(),A$2.isRoomPanelVisible=!A$2.isRoomPanelVisible;else if((hibiscoStore.isZhang||hibiscoStore.isOwner)&&se.toLowerCase()==":copyroom")te.preventDefault(),copyroom();else if((hibiscoStore.isZhang||hibiscoStore.isOwner)&&se.toLowerCase()==":fullroom")te.preventDefault(),fullroom();else if((hibiscoStore.isZhang||hibiscoStore.isOwner)&&se.toLowerCase()==":pasteroom")te.preventDefault(),pasteroom();else if(se===":hibiscobeta"){te.preventDefault();const le=localStorage.getItem("hibisco-beta")==="true";localStorage.setItem("hibisco-beta",le?"false":"true"),window.myself&&window.myself.alert("Modo beta "+(le?"desativado":"ativo")+"! Relogue para ver as alterações.")}else if(se.toLowerCase().startsWith(":print")){if(!A$2.commands.print.enabled)return;if(te.preventDefault(),!A$2.commands.print.download&&!A$2.commands.print.viewNewTab){myself.notificate("Ative uma das opções de visualização ou download nas configurações do comando :print.");return}if(!window.TextureUtils||!window.RoomEngine){myself.notificate("Não é possível tirar screenshot, TextureUtils ou RoomEngine estão indisponíveis. Avise o desenvolvedor.");return}myself.bubbleNotificate("Tirando screenshot...",hotel.images.empty36TilesRoom);const le=window.RoomEngine.createTextureFromRoom(window.roomId,1),ue=new Image,ce=await window.TextureUtils.generateImageUrl(le);ue.src=ce,ue.onload=function(){const he=document.createElement("canvas"),de=he.getContext("2d");he.width=ue.width,he.height=ue.height;const[_e,fe,ye]=getRoomTonerHsl();de.fillStyle=`hsl(${_e}, ${fe}%, ${ye}%)`,de.fillRect(0,0,he.width,he.height),de.drawImage(ue,0,0);const be=he.toDataURL("image/png");if(A$2.commands.print.download){const Pe=document.createElement("a");Pe.href=be,Pe.download=roomStore.room.data.roomName.replace(/\s/g,"_").replace(/\W/g,"")+".png",Pe.click()}A$2.commands.print.viewNewTab&&window.open("").document.write(`<img src="${be}" alt="Exported Image" />`)}}else if(se=="::wired"){te.preventDefault();const le=roomStore.hiddenWired;if(le.size>0){myself.notificate("Ocultando wireds translúcidos...");const ue=Array.from(le.keys());Message.simulate("FURNITURE_FLOOR_REMOVE_MULTIPLE",[ue,0]),le.clear()}else myself.notificate("Não há wireds translúcidos para ocultar!")}if(/@\S+/.test(se)){const le=se.match(/@\S+/)[0].slice(1),ue=roomStore.friends.findByName(le);ue&&A$2.notifications.sendMentionsToConsole&&(ue.online?(myself.bubbleNotificate(`Menção enviada para ${ue.name}`),await myself.sendConsoleMessage(ue.id,se)):myself.bubbleNotificate(`Não foi possível mencionar: ${ue.name} não está online`,hotel.images.alert))}if(!te.isPrevented&&se.length>100){const le=[];let ue="";for(const ce of se.split(" "))ue.length+ce.length>90&&(le.push(ue),ue=""),ue+=ce+" ";le.push(ue);for(const ce of le)Packet.send("UNIT_CHAT",{message:ce.slice(0,100),styleId:ee.styleId})}};Packet.on("UNIT_CHAT",ie),Packet.on("UNIT_CHAT_WHISPER",(ee,te)=>{ee.message=ee.message.split(" ").slice(1).join(" "),ie(ee,te)}),Packet.on("UNIT_CHAT_SHOUT",ie)}class AMessageComposerParser{encodeAsBuffer(){return new EvaWireFormat().encode(this.header,this.getMessagesArray()).getBuffer()}decodeFromBuffer(ee){const te=new EvaWireDataWrapper(this.header,ee);this.decodeFromWrapper(te)}readIntArray(ee){const te=ee.readInt(),se=[];for(let ne=0;ne<te;ne++)se.push(ee.readInt());return se}}const isHabblet$1=window.location.hostname.includes("habblet.city"),composerHeadersByString={ACHIEVEMENT_LIST:219,AUTHENTICATION:-1,BOT_CONFIGURATION:1986,BOT_PICKUP:3323,BOT_PLACE:1592,BOT_SKILL_SAVE:2624,GET_CLUB_OFFERS:3285,GET_CLUB_GIFT_INFO:487,GET_CATALOG_INDEX:1195,GET_CATALOG_PAGE:412,CATALOG_PURCHASE:3492,CATALOG_PURCHASE_GIFT:1411,GET_PRODUCT_OFFER:2594,CLIENT_LATENCY:295,CLIENT_LATENCY_MEASURE:96,CLIENT_POLICY:26979,CLIENT_PONG:2596,CLIENT_TOOLBAR_TOGGLE:2313,CLIENT_VARIABLES:1053,GET_CURRENT_TIMING_CODE:2912,DESKTOP_NEWS:1827,DESKTOP_VIEW:105,GET_BUNDLE_DISCOUNT_RULESET:223,EVENT_TRACKER:3457,FIND_NEW_FRIENDS:516,FURNITURE_ALIASES:3898,FURNITURE_FLOOR_UPDATE:248,FURNITURE_MULTISTATE:99,FURNITURE_PICKUP:3456,FURNITURE_PLACE:1258,FURNITURE_POSTIT_PLACE:2248,FURNITURE_POSTIT_SAVE_STICKY_POLE:3283,FURNITURE_RANDOMSTATE:3617,FURNITURE_WALL_MULTISTATE:210,FURNITURE_WALL_UPDATE:168,GAMES_INIT:2914,GAMES_LIST:741,ACCEPTGAMEINVITE:3802,GAMEUNLOADEDMESSAGE:3207,GETGAMEACHIEVEMENTSMESSAGE:2399,GETGAMESTATUSMESSAGE:3171,GETUSERGAMEACHIEVEMENTSMESSAGE:389,JOINQUEUEMESSAGE:1458,LEAVEQUEUEMESSAGE:2384,RESETRESOLUTIONACHIEVEMENTMESSAGE:3144,GETWEEKLYGAMEREWARDWINNERS:1054,GAME2GETACCOUNTGAMESTATUSMESSAGE:11,GAME2CHECKGAMEDIRECTORYSTATUSMESSAGE:3259,GAME2EXITGAMEMESSAGE:1445,GAME2GAMECHATMESSAGE:2502,GAME2LOADSTAGEREADYMESSAGE:2415,GAME2PLAYAGAINMESSAGE:3196,GAME2REQUESTFULLSTATUSUPDATEMESSAGE:1598,GAME2GETWEEKLYFRIENDSLEADERBOARD:1232,GAME2GETWEEKLYLEADERBOARD:2565,GET_GIFT_WRAPPING_CONFIG:418,GROUP_ADMIN_ADD:2894,GROUP_ADMIN_REMOVE:722,GROUP_CREATE_OPTIONS:798,GROUP_FAVORITE:3549,GET_FORUM_STATS:3149,GET_FORUM_THREADS:873,GET_FORUMS_LIST:436,GET_FORUM_MESSAGES:232,GET_FORUM_THREAD:3900,GET_UNREAD_FORUMS_COUNT:2908,FORUM_MODERATE_MESSAGE:286,FORUM_MODERATE_THREAD:1397,FORUM_POST_MESSAGE:3529,UPDATE_FORUM_READ_MARKER:1855,UPDATE_FORUM_SETTINGS:2214,FORUM_UPDATE_THREAD:3045,GROUP_INFO:2991,GROUP_DELETE:1134,GROUP_MEMBER_REMOVE_CONFIRM:3593,GROUP_MEMBER_REMOVE:593,GROUP_MEMBERS:312,GROUP_MEMBERSHIPS:367,GROUP_REQUEST:998,GROUP_REQUEST_ACCEPT:3386,GROUP_REQUEST_DECLINE:1894,GROUP_SETTINGS:1004,GROUP_PARTS:813,GROUP_BUY:230,GROUP_SAVE_INFORMATION:3137,GROUP_SAVE_BADGE:1991,GROUP_SAVE_COLORS:1764,GROUP_SAVE_PREFERENCES:3435,GROUP_BADGES:21,GROUP_UNBLOCK_MEMBER:2864,GET_BADGE_POINTS_LIMITS:1371,REQUESTABADGE:3077,GETISBADGEREQUESTFULFILLED:1364,ITEM_CLOTHING_REDEEM:3374,ITEM_COLOR_WHEEL_CLICK:2144,ITEM_DICE_CLICK:1990,ITEM_DICE_CLOSE:1533,ITEM_DIMMER_SAVE:1648,ITEM_DIMMER_SETTINGS:2813,ITEM_DIMMER_TOGGLE:2296,ITEM_EXCHANGE_REDEEM:3115,ITEM_PAINT:711,SET_OBJECT_DATA:3608,ITEM_STACK_HELPER:3839,ITEM_WALL_CLICK:210,ITEM_WALL_UPDATE:168,MARKETPLACE_CONFIG:2597,ACCEPT_FRIEND:137,MESSENGER_CHAT:3567,DECLINE_FRIEND:2890,FOLLOW_FRIEND:3997,MESSENGER_FRIENDS:1523,MESSENGER_INIT:2781,MESSENGER_RELATIONSHIPS:2138,SET_RELATIONSHIP_STATUS:3768,REMOVE_FRIEND:1689,REQUEST_FRIEND:3157,GET_FRIEND_REQUESTS:2448,SEND_ROOM_INVITE:1276,HABBO_SEARCH:1210,FRIEND_LIST_UPDATE:1419,MOD_TOOL_USER_INFO:3295,GET_USER_FLAT_CATS:3027,NAVIGATOR_INIT:2110,NAVIGATOR_SEARCH:249,NAVIGATOR_SEARCH_CLOSE:1834,NAVIGATOR_SEARCH_OPEN:637,NAVIGATOR_SEARCH_SAVE:2226,GET_USER_EVENT_CATS:1782,NAVIGATOR_SETTINGS_SAVE:3159,NAVIGATOR_CATEGORY_LIST_MODE:1202,NAVIGATOR_DELETE_SAVED_SEARCH:1954,PET_INFO:2934,PET_PICKUP:1581,PET_PLACE:2647,PET_RESPECT:3202,PET_RIDE:1036,PET_MOVE:3449,PET_OPEN_PACKAGE:3698,PET_SELECTED:549,PETS_BREED:1638,PET_CANCEL_BREEDING:2713,PET_CONFIRM_BREEDING:3382,GET_PET_TRAINING_PANEL:2161,RECYCLER_PRIZES:398,RECYCLER_STATUS:1342,RECYCLER_ITEMS:2771,RELEASE_VERSION:4e3,CALL_FOR_HELP:1691,ROOM_AMBASSADOR_ALERT:2996,ROOM_BAN_GIVE:1477,ROOM_BAN_LIST:2267,ROOM_BAN_REMOVE:992,ROOM_CREATE:2752,ROOM_DELETE:532,ROOM_DOORBELL:1644,ROOM_ENTER:2312,ROOM_FAVORITE:3817,ROOM_FAVORITE_REMOVE:309,CAN_CREATE_ROOM:2128,CANCEL_ROOM_EVENT:2725,EDIT_ROOM_EVENT:3991,COMPETITION_ROOM_SEARCH:433,FORWARD_TO_RANDOM_PROMOTED_ROOM:10,FORWARD_TO_SOME_ROOM:1703,GET_CATEGORIES_WITH_USER_COUNT:3782,GET_GUEST_ROOM:2230,GET_OFFICIAL_ROOMS:1229,GET_POPULAR_ROOM_TAGS:826,GUILD_BASE_SEARCH:2930,MY_FAVOURITE_ROOMS_SEARCH:2578,MY_FREQUENT_ROOM_HISTORY_SEARCH:1002,MY_FRIENDS_ROOM_SEARCH:2266,MY_GUILD_BASES_SEARCH:39,MY_RECOMMENDED_ROOMS:2537,MY_ROOM_HISTORY_SEARCH:2264,MY_ROOM_RIGHTS_SEARCH:272,MY_ROOMS_SEARCH:2277,POPULAR_ROOMS_SEARCH:2758,ROOM_AD_EVENT_TAB_CLICKED:2412,ROOM_AD_EVENT_TAB_VIEWED:2668,ROOM_AD_SEARCH:2809,ROOM_TEXT_SEARCH:3943,ROOMS_WHERE_MY_FRIENDS_ARE:1786,ROOMS_WITH_HIGHEST_SCORE_SEARCH:2939,SET_ROOM_SESSION_TAGS:3305,UPDATE_ROOM_THUMBNAIL:2468,ROOM_KICK:1320,ROOM_LIKE:3582,ROOM_MODEL:2300,GET_OCCUPIED_TILES:1687,GET_ROOM_ENTRY_TILE:3559,ROOM_MODEL_SAVE:875,ROOM_MUTE:3637,ROOM_MUTE_USER:3485,ROOM_RIGHTS_GIVE:808,ROOM_RIGHTS_LIST:3385,ROOM_RIGHTS_REMOVE:2064,ROOM_RIGHTS_REMOVE_ALL:2683,ROOM_RIGHTS_REMOVE_OWN:3182,ROOM_SETTINGS:3129,ROOM_SETTINGS_SAVE:1969,ROOM_SETTINGS_UPDATE_ROOM_CATEGORY_AND_TRADE:1265,ROOM_STAFF_PICK:1918,ROOM_FILTER_WORDS:1911,ROOM_FILTER_WORDS_MODIFY:3001,MYSTERYBOXWAITINGCANCELEDMESSAGE:2012,MYSTERYBOX_OPEN_TROPHY:3074,SECURITY_MACHINE:2490,SECURITY_TICKET:2419,TRADE:1481,TRADE_ACCEPT:3863,TRADE_CANCEL:2341,TRADE_CLOSE:2551,TRADE_CONFIRM:2760,TRADE_ITEM:3107,TRADE_ITEM_REMOVE:3845,TRADE_ITEMS:1263,TRADE_UNACCEPT:1444,UNIT_ACTION:2456,UNIT_CHAT:1314,UNIT_CHAT_SHOUT:2085,UNIT_CHAT_WHISPER:1543,UNIT_DANCE:2080,UNIT_DROP_HAND_ITEM:2814,UNIT_GIVE_HANDITEM:2941,UNIT_LOOK:3301,UNIT_POSTURE:2235,UNIT_SIGN:1975,UNIT_TYPING:1597,UNIT_TYPING_STOP:1474,UNIT_WALK:3320,USER_BADGES:2769,USER_BADGES_CURRENT:2091,USER_BADGES_CURRENT_UPDATE:644,USER_BOTS:3848,USER_CURRENCY:273,USER_EFFECT_ACTIVATE:2959,USER_EFFECT_ENABLE:1752,USER_FIGURE:2730,USER_FURNITURE:3150,REQUESTFURNIINVENTORYWHENNOTINROOM:3500,USER_HOME_ROOM:1740,USER_INFO:357,USER_MOTTO:2228,USER_IGNORED:3878,USER_PETS:3095,USER_PROFILE:3265,USER_PROFILE_BY_NAME:2249,USER_RESPECT:2694,GET_SOUND_SETTINGS:2388,USER_SETTINGS_CAMERA:1461,USER_SETTINGS_CHAT_STYLE:1030,USER_SETTINGS_INVITES:1086,USER_SETTINGS_OLD_CHAT:1262,USER_SETTINGS_VOLUME:1367,USER_SUBSCRIPTION:3166,GET_WARDROBE:2742,SAVE_WARDROBE_OUTFIT:800,USER_TAGS:17,PEER_USERS_CLASSIFICATION:1160,USER_CLASSIFICATION:2285,VISIT_USER:2970,WIRED_ACTION_SAVE:2281,WIRED_APPLY_SNAPSHOT:3373,WIRED_CONDITION_SAVE:3203,WIRED_OPEN:768,WIRED_TRIGGER_SAVE:1520,GET_ITEM_DATA:3964,ONE_WAY_DOOR_CLICK:2765,REMOVE_WALL_ITEM:3336,SET_ITEM_DATA:3666,CATALOG_REDEEM_VOUCHER:339,ROOM_TONER_APPLY:2880,FRIEND_FURNI_CONFIRM_LOCK:3775,MANNEQUIN_SAVE_NAME:2850,MANNEQUIN_SAVE_LOOK:2209,PRESENT_OPEN_PRESENT:3558,CATALOG_SELECT_VIP_GIFT:2276,USER_IGNORE_ID:3314,USER_IGNORE:1117,USER_UNIGNORE:2061,MODTOOL_REQUEST_ROOM_INFO:707,MODTOOL_CHANGE_ROOM_SETTINGS:3260,MODTOOL_REQUEST_USER_CHATLOG:1391,MODTOOL_REQUEST_ROOM_CHATLOG:2587,MODTOOL_SANCTION_ALERT:229,MODTOOL_SANCTION_BAN:2766,MODTOOL_SANCTION_KICK:2582,MODTOOL_SANCTION_TRADELOCK:3742,MODTOOL_ALERTEVENT:1840,MODTOOL_SANCTION_MUTE:1945,MODTOOL_REQUEST_USER_ROOMS:3526,MODTOOL_ROOM_ALERT:3842,MODTOOL_PREFERENCES:31,CLOSE_ISSUE_DEFAULT_ACTION:2717,CLOSE_ISSUES:2067,DEFAULT_SANCTION:1681,GET_CFH_CHATLOG:211,MODTOOL_SANCTION:1392,PICK_ISSUES:15,RELEASE_ISSUES:1572,CONVERT_GLOBAL_ROOM_ID:314,REQUEST_SELL_ITEM:848,REQUEST_MARKETPLACE_ITEM_STATS:3288,MARKETPLACE_SELL_ITEM:3447,MARKETPLACE_REQUEST_OWN_ITEMS:2105,MARKETPLACE_TAKE_BACK_ITEM:434,MARKETPLACE_REDEEM_CREDITS:2650,MARKETPLACE_REQUEST_OFFERS:2407,MARKETPLACE_BUY_OFFER:1603,MARKETPLACE_BUY_TOKENS:1866,CATALOG_REQUESET_PET_BREEDS:1756,APPROVE_NAME:2109,UNIT_GIVE_HANDITEM_PET:2768,PET_MOUNT:1036,PET_SUPPLEMENT:749,FURNITURE_GROUP_INFO:2651,ACHIEVEMENT_RESOLUTION_OPEN:359,USE_PET_PRODUCT:1328,REMOVE_PET_SADDLE:186,TOGGLE_PET_RIDING:1472,TOGGLE_PET_BREEDING:3379,UNSEEN_RESET_CATEGORY:3493,UNSEEN_RESET_ITEMS:2343,COMMUNITY_GOAL_VOTE_COMPOSER:3536,GET_PROMO_ARTICLES:1827,ACCEPT_QUEST:3604,ACTIVATE_QUEST:793,CANCEL_QUEST:3133,FRIEND_REQUEST_QUEST_COMPLETE:1148,GET_COMMUNITY_GOAL_EARNED_PRIZES:2688,GET_COMMUNITY_GOAL_HALL_OF_FAME:2167,GET_COMMUNITY_GOAL_PROGRESS:1145,GET_CONCURRENT_USERS_GOAL_PROGRESS:1343,GET_CONCURRENT_USERS_REWARD:3872,GET_DAILY_QUEST:2486,GET_QUESTS:3333,GET_SEASONAL_QUESTS_ONLY:1190,OPEN_QUEST_TRACKER:2750,REDEEM_COMMUNITY_GOAL_PRIZE:90,REJECT_QUEST:2397,START_CAMPAIGN:1697,GET_BONUS_RARE_INFO:957,CRAFT:3591,CRAFT_SECRET:1251,GET_CRAFTABLE_PRODUCTS:633,GET_CRAFTING_RECIPE:1173,GET_CRAFTING_RECIPES_AVAILABLE:3086,PHOTO_COMPETITION:3959,PUBLISH_PHOTO:2068,PURCHASE_PHOTO:2408,RENDER_ROOM:3226,RENDER_ROOM_THUMBNAIL:1982,REQUEST_CAMERA_CONFIGURATION:796,ADD_JUKEBOX_DISK:753,GET_JUKEBOX_PLAYLIST:1435,GET_NOW_PLAYING:1325,GET_OFFICIAL_SONG_ID:3189,GET_SONG_INFO:3082,GET_SOUND_MACHINE_PLAYLIST:3498,GET_USER_SONG_DISKS:2304,REMOVE_JUKEBOX_DISK:3050,INTERSTITIAL_SHOWN:1109,GET_INTERSTITIAL:2519,CHANGE_USERNAME:2977,CHECK_USERNAME:3950,OPEN_CAMPAIGN_CALENDAR_DOOR_STAFF:3889,OPEN_CAMPAIGN_CALENDAR_DOOR:2257,BUILDERS_CLUB_PLACE_ROOM_ITEM:1051,BUILDERS_CLUB_PLACE_WALL_ITEM:462,BUILDERS_CLUB_QUERY_FURNI_COUNT:2529,GET_CATALOG_PAGE_EXPIRATION:742,GET_CATALOG_PAGE_WITH_EARLIEST_EXP:3135,GET_DIRECT_CLUB_BUY_AVAILABLE:801,GET_HABBO_BASIC_MEMBERSHIP_EXTEND_OFFER:603,GET_HABBO_CLUB_EXTEND_OFFER:2462,GET_IS_OFFER_GIFTABLE:1347,GET_LIMITED_OFFER_APPEARING_NEXT:410,GET_NEXT_TARGETED_OFFER:596,GET_ROOM_AD_PURCHASE_INFO:1075,GET_SEASONAL_CALENDAR_DAILY_OFFER:3257,GET_TARGETED_OFFER:2487,MARK_CATALOG_NEW_ADDITIONS_PAGE_OPENED:2150,PURCHASE_BASIC_MEMBERSHIP_EXTENSION:2735,PURCHASE_ROOM_AD:777,PURCHASE_TARGETED_OFFER:1826,PURCHASE_VIP_MEMBERSHIP_EXTENSION:3407,ROOM_AD_PURCHASE_INITIATED:2283,SET_TARGETTED_OFFER_STATE:2041,SHOP_TARGETED_OFFER_VIEWED:3483,HELPER_TALENT_TRACK:196,TALENT_TRACK_GET_LEVEL:2127,FORWARD_TO_A_COMPETITION_ROOM:172,FORWARD_TO_A_SUBMITTABLE_ROOM:1450,FORWARD_TO_RANDOM_COMPETITION_ROOM:865,GET_IS_USER_PART_OF_COMPETITION:2077,GET_SECONDS_UNTIL:271,ROOM_COMPETITION_INIT:1334,SUBMIT_ROOM_TO_COMPETITION:2595,VOTE_FOR_ROOM:143,GET_GIFT:2436,RESET_PHONE_NUMBER_STATE:2741,SET_PHONE_NUMBER_VERIFICATION_STATUS:1379,TRY_PHONE_NUMBER:790,VERIFY_CODE:2721,CONTROL_YOUTUBE_DISPLAY_PLAYBACK:3005,GET_YOUTUBE_DISPLAY_STATUS:336,SET_YOUTUBE_DISPLAY_PLAYLIST:2069,GO_TO_FLAT:685,CHANGE_QUEUE:3093,CALL_FOR_HELP_FROM_FORUM_MESSAGE:1412,CALL_FOR_HELP_FROM_FORUM_THREAD:534,CALL_FOR_HELP_FROM_IM:2950,CALL_FOR_HELP_FROM_PHOTO:2492,CALL_FOR_HELP_FROM_SELFIE:2755,CHAT_REVIEW_GUIDE_DECIDES:3365,CHAT_REVIEW_GUIDE_DETACHED:2501,CHAT_REVIEW_GUIDE_VOTE:3961,CHAT_REVIEW_SESSION_CREATE:3060,DELETE_PENDING_CALLS_FOR_HELP:3605,GET_CFH_STATUS:2746,GET_FAQ_CATEGORY:3445,GET_FAQ_TEXT:1849,GET_GUIDE_REPORTING_STATUS:3786,GET_PENDING_CALLS_FOR_HELP:3267,GET_QUIZ_QUESTIONS:1296,GUIDE_SESSION_CREATE:3338,GUIDE_SESSION_FEEDBACK:477,GUIDE_SESSION_GET_REQUESTER_ROOM:1052,GUIDE_SESSION_GUIDE_DECIDES:1424,GUIDE_SESSION_INVITE_REQUESTER:234,GUIDE_SESSION_IS_TYPING:519,GUIDE_SESSION_MESSAGE:3899,GUIDE_SESSION_ON_DUTY_UPDATE:1922,GUIDE_SESSION_REPORT:3969,GUIDE_SESSION_REQUESTER_CANCELS:291,GUIDE_SESSION_RESOLVED:887,POST_QUIZ_ANSWERS:3720,SEARCH_FAQS:2031,POLL_ANSWER:3505,POLL_REJECT:1773,POLL_START:109,POLL_VOTE_COUNTER:6200,DISCONNECT:2445,SCR_GET_KICKBACK_INFO:869,COMPOST_PLANT:3835,HARVEST_PET:1521,SET_CLOTHING_CHANGE_DATA:924,GROUP_UNFAVORITE:1820,NEW_USER_EXPERIENCE_GET_GIFTS:1822,NEW_USER_EXPERIENCE_SCRIPT_PROCEED:1299,HANDSHAKE_INIT_DIFFIE:3110,HANDSHAKE_COMPLETE_DIFFIE:773,WELCOME_OPEN_GIFT:2638,WELCOME_GIFT_CHANGE_EMAIL:66,EMAIL_GET_STATUS:2557,EMAIL_CHANGE:3965,APPROVE_ALL_MEMBERSHIP_REQUESTS:882,RENTABLE_SPACE_CANCEL_RENT:1667,RENTABLE_SPACE_RENT:2946,RENTABLE_SPACE_STATUS:872,TRACKING_PERFORMANCE_LOG:3230,TRACKING_LAG_WARNING_REPORT:3847,ROOM_DIRECTORY_ROOM_NETWORK_OPEN_CONNECTION:3736,RENTABLE_EXTEND_RENT_OR_BUYOUT_STRIP_ITEM:2115,RENTABLE_EXTEND_RENT_OR_BUYOUT_FURNI:1071,RENTABLE_GET_RENT_OR_BUYOUT_OFFER:2518,UNIT_CHAT_GROUP_WHISPER:1544,ROOM_CONSTRUCTION_TOOL:isHabblet$1?397:null,WIRED_SELECTOR_SAVE:isHabblet$1?363:null,WIRED_ADDON_SAVE:isHabblet$1?358:null,FURNITURE_CLICK:isHabblet$1?355:null,JOIN_YOUTUBE_VIDEO:350,ADD_YOUTUBE_VIDEO_TO_QUEUE:337,SHOW_YOUTUBE_VIDEO_ALERT:341,REMOVE_YOUTUBE_VIDEO_FROM_QUEUE:338,LEAVE_YOUTUBE_VIDEO:351,DELETE_INVENTORY_ITEM_PERMANENTLY:380},composerHeadersByNumber=Object.fromEntries(Object.entries(composerHeadersByString).map(([ie,ee])=>[ee,ie]));class SecurityTicketComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.UNIT_CHAT);dE(this,"ssoTicket");dE(this,"x");dE(this,"y")}static crypto(te){const se=ne=>"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".indexOf(ne);return te.split("").map(ne=>-1<se(ne)?"NOPQRSTUVWXYZABCDEFGHIJKLMnopqrstuvwxyzabcdefghijklm"[se(ne)]:ne).join("")}setData(te,se,ne){this.ssoTicket=te,this.x=se,this.y=ne}getMessagesArray(){return[this.ssoTicket,this.x,this.y]}decodeFromWrapper(te){const se=te.readString(),ne=te.readInt(),le=te.readString();this.setData(se,ne,le)}}const loadInternal=()=>{Packet.on("UNIT_TYPING",(ee,te)=>{jt(A$2).hideMyTypingBalloon&&te.preventDefault()}),Packet.on("UNIT_CHAT",(ee,te)=>{const se=jt(A$2);se.defaultStyleId.enabled&&(te.preventDefault(),Packet.send("UNIT_CHAT",{message:ee.message,styleId:Number(se.defaultStyleId.value)}))}),Packet.on("UNIT_CHAT_SHOUT",(ee,te)=>{const se=jt(A$2);se.defaultStyleId.enabled&&(te.preventDefault(),Packet.send("UNIT_CHAT_SHOUT",{message:ee.message,styleId:Number(se.defaultStyleId.value)}))}),Packet.on("UNIT_LOOK",(ee,te)=>{jt(A$2).preventLookPackets&&te.preventDefault()}),Packet.on("FURNITURE_PLACE",(ee,te)=>{const se=ee.data.split(" ");HibiscoEvents.emit("PLACE_FROM_CATALOG",{spriteId:parseInt(se[0]),x:parseInt(se[1]),y:parseInt(se[2])},te)}),Packet.on("GET_PRODUCT_OFFER",ee=>{const te=ee.purchaseOfferId;catalog.selectedOfferFurniInfo=getFurniInfoByPurchaseOfferId(te)}),HibiscoEvents.on("PLACE_FROM_CATALOG",async({x:ee,y:te,spriteId:se},ne)=>{if(window.placingFromCatalog)window.placingFromCatalog=!1;else{const fe=inventory.hasFurnitureById(se);let ye=null;if(fe){const be=inventory.getFurnitureById(se);ye=getFurniInfoBySpriteId(be.spriteId)}else ye=getFurniInfoByItemId(se)||getFurniInfoBySpriteId(se);if(A$2.buyAutomaticallyOnThreshold.enabled){const{quantity:be,threshold:Pe}=A$2.buyAutomaticallyOnThreshold;if(inventory.getAllItemsOfSpriteId(ye.id).length<Pe&&!inventory.pendingRefresh){const we=A$2.directCatalog&&hibiscoStore.isZhang,De=catalog.getOfferByProductId(ye.purchaseOfferId)||catalog.getOfferByProductId(ye.id);if(!De&&!we)myself.bubbleNotificate("Item não encontrado no catálogo! Não foi possível repor item.",hotel.images.alert);else if(we){const $e=await catalog.fetchOfferByPurchaseOfferId(ye.purchaseOfferId);$e&&catalog.buyOffer($e,be).then(()=>{inventory.pendingRefresh=!0})}else{const{offer:$e}=De;$e&&catalog.buyOffer($e,be).then(()=>{inventory.pendingRefresh=!0})}}}}if(!catalog.interfaceIsOpen||!catalog.selectedOfferFurniInfo||catalog.selectedOfferFurniInfo.id!==se||!A$2.buyAndPlaceByClick)return;ne.preventDefault();const le=catalog.getOfferByLocalizationId(catalog.selectedOfferFurniInfo.className)||catalog.getOfferByProductId(catalog.selectedOfferFurniInfo.purchaseOfferId)||catalog.getOfferByProductId(catalog.selectedOfferFurniInfo.id);if(console.debug({result:le,purchaseOfferId:catalog.selectedOfferFurniInfo.purchaseOfferId,spriteId:catalog.selectedOfferFurniInfo.id}),!le){myself.bubbleNotificate("Item não encontrado no catálogo! Não foi possível comprar item. [1]",hotel.images.alert);return}const{offer:ue}=le;if(!ue){myself.bubbleNotificate("Oferta inválida encontrada no catálogo! Não foi possível comprar item. [2]",hotel.images.alert);return}if(ue._products.length===0){myself.bubbleNotificate("Oferta inválida encontrada no catálogo! Não foi possível comprar item. [3]",hotel.images.alert);return}const ce=ue._products[0]._furniClassId,he=fe=>fe,de=Array.from(roomStore.inventory.values()).filter(({spriteId:fe})=>String(fe)==String(ce));let _e=null;!de||de.length===0||(de.length>1?_e=de[1]:de.length===1&&(_e=de[0])),_e?(he(`inventoryItem already existed: ${_e.itemId}`),await myself.placeItemFromInventory(_e,ee,te,2),window.RoomEngine._roomObjectEventHandler.setSelectedRoomObjectData(roomStore.room.data.roomId,se,10,new Vector3d(-100,-100),new Vector3d(0,0),"OBJECT_PLACE",se)):(roomStore.whenInventoryItemExistsCallbacks.has(ce)||roomStore.whenInventoryItemExistsCallbacks.set(ce,[]),roomStore.whenInventoryItemExistsCallbacks.get(ce).push(async ye=>{he(`inventoryItem now exists: ${ye.itemId}`),window.placingFromCatalog=!0,await myself.placeItemFromInventory(ye,ee,te,2),window.RoomEngine._roomObjectEventHandler.setSelectedRoomObjectData(roomStore.room.data.roomId,se,10,new Vector3d(-100,-100),new Vector3d(0,0),"OBJECT_PLACE",se)})),he(`Comprando offerId: ${ue._offerId}`),await catalog.buyOffer(ue._offerId,1),HibiscoEvents.once("INVENTORY_REFRESHED",()=>{_e=inventory.getSingleItemOfSpriteId(se)})}),Packet.on("GET_PRODUCT_OFFER",ee=>{const te=ee.purchaseOfferId,se=getFurniInfoByPurchaseOfferId(te)||getFurniInfoBySpriteId(te);catalog.selectedOfferFurniInfo=se,window.lastSelectedOffer=se,HibiscoEvents.emit("USER_CLICK_SHOP_ITEM",se),A$2.buyAndPlaceByClick&&window.RoomEngine._roomObjectEventHandler.setSelectedRoomObjectData(roomStore.room.data.roomId,se.id,10,new Vector3d(-100,-100,-2),new Vector3d(0,0),"OBJECT_PLACE",se.id)}),Packet.on("WIRED_ACTION_SAVE",(ee,te)=>{jt(A$2).reworkUi.wired.selectSourceByIcons&&(te.preventDefault(),ee.furniSelectionTypes=wiredGlobalConfiguration.furniSelectionTypes,ee.userSelectionTypes=wiredGlobalConfiguration.userSelectionTypes,Packet.send("WIRED_ACTION_SAVE",ee.getMessagesArray()))}),Packet.on("WIRED_CONDITION_SAVE",(ee,te)=>{if(!jt(A$2).reworkUi.wired.selectSourceByIcons)return;te.preventDefault();const ne=wiredGlobalConfiguration.isMerged(),le=wiredGlobalConfiguration.getMergedSource();ne&&(ee.ints[0]=le),ee.furniSelectionTypes=wiredGlobalConfiguration.furniSelectionTypes,ee.userSelectionTypes=wiredGlobalConfiguration.userSelectionTypes,Packet.send("WIRED_CONDITION_SAVE",ee.getMessagesArray())}),Packet.on("WIRED_TRIGGER_SAVE",(ee,te)=>{jt(A$2).reworkUi.wired.selectSourceByIcons&&(te.preventDefault(),ee.furniSelectionTypes=wiredGlobalConfiguration.furniSelectionTypes,ee.userSelectionTypes=wiredGlobalConfiguration.userSelectionTypes,Packet.send("WIRED_TRIGGER_SAVE",ee.getMessagesArray()))}),Packet.on("WIRED_SELECTOR_SAVE",(ee,te)=>{const se=jt(A$2);if(se.reworkUi.wired.selectSourceByIcons){te.preventDefault();const le=wiredGlobalConfiguration.isMerged(),ue=wiredGlobalConfiguration.getMergedSource();le&&(ee.ints[0]=ue),ee.furniSelectionTypes=wiredGlobalConfiguration.furniSelectionTypes,ee.userSelectionTypes=wiredGlobalConfiguration.userSelectionTypes}const ne=wiredGlobalConfiguration.isNeighbourhood();if(console.debug({isNeighbourHood:ne,neighbourhoodRewrite:se.reworkUi.wired.neighbourhoodRewrite}),se.reworkUi.wired.neighbourhoodRewrite&&ne){te.preventDefault();const{x:le,y:ue}=wiredGlobalConfiguration.referenceTile;ee.ints[1]=le,ee.ints[2]=ue,ee.string=wiredGlobalConfiguration.tileHeightMap}Packet.send("WIRED_SELECTOR_SAVE",ee.getMessagesArray())}),Packet.on("WIRED_ADDON_SAVE",(ee,te)=>{jt(A$2).reworkUi.wired.selectSourceByIcons&&(te.preventDefault(),ee.furniSelectionTypes=wiredGlobalConfiguration.furniSelectionTypes,ee.userSelectionTypes=wiredGlobalConfiguration.userSelectionTypes,Packet.send("WIRED_ADDON_SAVE",ee.getMessagesArray()))}),window.addEventListener("storageSetItem",ee=>{const{key:te,value:se}=ee.detail;if(te==="max_fps"){const ne=`FPS máximo alterado para ${se}`;myself.bubbleNotificate(ne)}}),Packet.on("SECURITY_TICKET",(ee,te)=>{const se=ue=>new URL(window.location.href).searchParams.get(ue),ne=se("sso");ne&&(A$2.overrideSsoTicket.value=ne);const le=se("view-sso")!==null;if(A$2.displaySsoTicketAndQuit||le){te.preventDefault();const ue=$("<textarea>").css({position:"fixed",top:"50vh",left:"50vw",width:"40vw",height:"10vh",zIndex:9999,background:"black",color:"white",border:"1px solid white",padding:"10px",resize:"none",overflow:"auto",fontFamily:"monospace",transform:"translate(-50%, -50%)"}).text(`https://www.habblet.city/hotelv2?sso=${ee.ssoTicket}`);$("body").html("").css({background:"black",color:"white",fontFamily:"monospace"}).append(ue)}else(A$2.overrideSsoTicket.enabled||ne)&&(ee.ssoTicket=A$2.overrideSsoTicket.value,te.preventDefault(),Packet.send("SECURITY_TICKET",[ee.ssoTicket,34946,SecurityTicketComposer.crypto(ee.ssoTicket)]))}),Packet.on("SAVE_WARDROBE_OUTFIT",ee=>{roomStore.wardrobeLooks.set(ee.id,[ee.figure,ee.gender])});let ie=!1;Packet.on("UNIT_LOOK",()=>{ie=!0,setTimeout(()=>{ie=!1},2e3)}),Packet.on("USER_BADGES_CURRENT",(ee,te)=>{if(ie){ie=!1;const se=roomStore.units.find(ne=>ne.webID===ee.id);se&&(A$2.guardianTools.lastClickedUser=se.name)}hibiscoStore.isZhang&&A$2.blockClick&&te.preventDefault()}),Packet.on("FURNITURE_PICKUP",(ee,te)=>{const se=ee.itemId;roomStore.hiddenWired.has(se)&&(te.preventDefault(),myself.bubbleNotificate("Não é possível coletar esse item enquanto os wireds estiverem ocultos.",hotel.images.alert))}),Packet.on("USER_PROFILE",(ee,te)=>{te.preventDefault();const se=ee.userId;hotel.getProfile(se,!0).then(ne=>{console.debug({profile:ne})})})};function loadOutgoingHandler(){loadMessage(),loadInternal()}function loadHandlers(){loadIncomingHandler(),loadOutgoingHandler()}function _extends(){return _extends=Object.assign?Object.assign.bind():function(ie){for(var ee=1;ee<arguments.length;ee++){var te=arguments[ee];for(var se in te)({}).hasOwnProperty.call(te,se)&&(ie[se]=te[se])}return ie},_extends.apply(null,arguments)}var reservedModifierKeywords=["shift","alt","meta","mod","ctrl"],mappedKeys={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function mapKey(ie){return(ie&&mappedKeys[ie]||ie||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function isHotkeyModifier(ie){return reservedModifierKeywords.includes(ie)}function parseKeysHookInput(ie,ee){return ee===void 0&&(ee=","),ie.split(ee)}function parseHotkey(ie,ee,te){ee===void 0&&(ee="+");var se=ie.toLocaleLowerCase().split(ee).map(function(ue){return mapKey(ue)}),ne={alt:se.includes("alt"),ctrl:se.includes("ctrl")||se.includes("control"),shift:se.includes("shift"),meta:se.includes("meta"),mod:se.includes("mod")},le=se.filter(function(ue){return!reservedModifierKeywords.includes(ue)});return _extends({},ne,{keys:le,description:te,hotkey:ie})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(ie){ie.key!==void 0&&pushToCurrentlyPressedKeys([mapKey(ie.key),mapKey(ie.code)])}),document.addEventListener("keyup",function(ie){ie.key!==void 0&&removeFromCurrentlyPressedKeys([mapKey(ie.key),mapKey(ie.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){currentlyPressedKeys.clear()})})();var currentlyPressedKeys=new Set;function isReadonlyArray(ie){return Array.isArray(ie)}function isHotkeyPressed(ie,ee){ee===void 0&&(ee=",");var te=isReadonlyArray(ie)?ie:ie.split(ee);return te.every(function(se){return currentlyPressedKeys.has(se.trim().toLowerCase())})}function pushToCurrentlyPressedKeys(ie){var ee=Array.isArray(ie)?ie:[ie];currentlyPressedKeys.has("meta")&&currentlyPressedKeys.forEach(function(te){return!isHotkeyModifier(te)&&currentlyPressedKeys.delete(te.toLowerCase())}),ee.forEach(function(te){return currentlyPressedKeys.add(te.toLowerCase())})}function removeFromCurrentlyPressedKeys(ie){var ee=Array.isArray(ie)?ie:[ie];ie==="meta"?currentlyPressedKeys.clear():ee.forEach(function(te){return currentlyPressedKeys.delete(te.toLowerCase())})}function maybePreventDefault(ie,ee,te){(typeof te=="function"&&te(ie,ee)||te===!0)&&ie.preventDefault()}function isHotkeyEnabled(ie,ee,te){return typeof te=="function"?te(ie,ee):te===!0||te===void 0}function isKeyboardEventTriggeredByInput(ie){return isHotkeyEnabledOnTag(ie,["input","textarea","select"])}function isHotkeyEnabledOnTag(ie,ee){ee===void 0&&(ee=!1);var te=ie.target,se=ie.composed,ne=null;return isCustomElement(te)&&se?ne=ie.composedPath()[0]&&ie.composedPath()[0].tagName:ne=te&&te.tagName,isReadonlyArray(ee)?!!(ne&&ee&&ee.some(function(le){var ue;return le.toLowerCase()===((ue=ne)==null?void 0:ue.toLowerCase())})):!!(ne&&ee&&ee)}function isCustomElement(ie){return!!ie.tagName&&!ie.tagName.startsWith("-")&&ie.tagName.includes("-")}function isScopeActive(ie,ee){return ie.length===0&&ee?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):ee?ie.some(function(te){return ee.includes(te)})||ie.includes("*"):!0}var isHotkeyMatchingKeyboardEvent=function(ee,te,se){se===void 0&&(se=!1);var ne=te.alt,le=te.meta,ue=te.mod,ce=te.shift,he=te.ctrl,de=te.keys,_e=ee.key,fe=ee.code,ye=ee.ctrlKey,be=ee.metaKey,Pe=ee.shiftKey,Ne=ee.altKey,we=mapKey(fe),De=_e.toLowerCase();if(!(de!=null&&de.includes(we))&&!(de!=null&&de.includes(De))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(we))return!1;if(!se){if(ne===!Ne&&De!=="alt"||ce===!Pe&&De!=="shift")return!1;if(ue){if(!be&&!ye)return!1}else if(le===!be&&De!=="meta"&&De!=="os"||he===!ye&&De!=="ctrl"&&De!=="control")return!1}return de&&de.length===1&&(de.includes(De)||de.includes(we))?!0:de?isHotkeyPressed(de):!de},BoundHotkeysProxyProvider=reactExports.createContext(void 0),useBoundHotkeysProxy=function(){return reactExports.useContext(BoundHotkeysProxyProvider)};function deepEqual(ie,ee){return ie&&ee&&typeof ie=="object"&&typeof ee=="object"?Object.keys(ie).length===Object.keys(ee).length&&Object.keys(ie).reduce(function(te,se){return te&&deepEqual(ie[se],ee[se])},!0):ie===ee}var HotkeysContext=reactExports.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),useHotkeysContext=function(){return reactExports.useContext(HotkeysContext)};function useDeepEqualMemo(ie){var ee=reactExports.useRef(void 0);return deepEqual(ee.current,ie)||(ee.current=ie),ee.current}var stopPropagation=function(ee){ee.stopPropagation(),ee.preventDefault(),ee.stopImmediatePropagation()},useSafeLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useHotkeys(ie,ee,te,se){var ne=reactExports.useState(null),le=ne[0],ue=ne[1],ce=reactExports.useRef(!1),he=te instanceof Array?se instanceof Array?void 0:se:te,de=isReadonlyArray(ie)?ie.join(he==null?void 0:he.splitKey):ie,_e=te instanceof Array?te:se instanceof Array?se:void 0,fe=reactExports.useCallback(ee,_e??[]),ye=reactExports.useRef(fe);_e?ye.current=fe:ye.current=ee;var be=useDeepEqualMemo(he),Pe=useHotkeysContext(),Ne=Pe.enabledScopes,we=useBoundHotkeysProxy();return useSafeLayoutEffect(function(){if(!((be==null?void 0:be.enabled)===!1||!isScopeActive(Ne,be==null?void 0:be.scopes))){var De=function($t,ut){var Ti;if(ut===void 0&&(ut=!1),!(isKeyboardEventTriggeredByInput($t)&&!isHotkeyEnabledOnTag($t,be==null?void 0:be.enableOnFormTags))){if(le!==null){var Hi=le.getRootNode();if((Hi instanceof Document||Hi instanceof ShadowRoot)&&Hi.activeElement!==le&&!le.contains(Hi.activeElement)){stopPropagation($t);return}}(Ti=$t.target)!=null&&Ti.isContentEditable&&!(be!=null&&be.enableOnContentEditable)||parseKeysHookInput(de,be==null?void 0:be.splitKey).forEach(function(bn){var gd,Pm=parseHotkey(bn,be==null?void 0:be.combinationKey);if(isHotkeyMatchingKeyboardEvent($t,Pm,be==null?void 0:be.ignoreModifiers)||(gd=Pm.keys)!=null&&gd.includes("*")){if(be!=null&&be.ignoreEventWhen!=null&&be.ignoreEventWhen($t)||ut&&ce.current)return;if(maybePreventDefault($t,Pm,be==null?void 0:be.preventDefault),!isHotkeyEnabled($t,Pm,be==null?void 0:be.enabled)){stopPropagation($t);return}ye.current($t,Pm),ut||(ce.current=!0)}})}},$e=function($t){$t.key!==void 0&&(pushToCurrentlyPressedKeys(mapKey($t.code)),((be==null?void 0:be.keydown)===void 0&&(be==null?void 0:be.keyup)!==!0||be!=null&&be.keydown)&&De($t))},Ge=function($t){$t.key!==void 0&&(removeFromCurrentlyPressedKeys(mapKey($t.code)),ce.current=!1,be!=null&&be.keyup&&De($t,!0))},Be=le||(he==null?void 0:he.document)||document;return Be.addEventListener("keyup",Ge),Be.addEventListener("keydown",$e),we&&parseKeysHookInput(de,be==null?void 0:be.splitKey).forEach(function(ze){return we.addHotkey(parseHotkey(ze,be==null?void 0:be.combinationKey,be==null?void 0:be.description))}),function(){Be.removeEventListener("keyup",Ge),Be.removeEventListener("keydown",$e),we&&parseKeysHookInput(de,be==null?void 0:be.splitKey).forEach(function(ze){return we.removeHotkey(parseHotkey(ze,be==null?void 0:be.combinationKey,be==null?void 0:be.description))})}}},[le,de,be,Ne]),ue}const Listener=({shortcut:ie,term:ee,action:te,deps:se,enabled:ne})=>(useHotkeys(ie,le=>{le.preventDefault(),le.stopImmediatePropagation(),te==="wiredCategory"?openWiredCategory(ee):te==="searchTerm"&&openInventoryAndSearch(ee)},{enabled:ne,preventDefault:!0,enableOnFormTags:!0,enableOnContentEditable:!0},se),jsxRuntimeExports.jsx("div",{style:{visibility:"hidden",position:"absolute"}})),HotKeysListener=()=>{const ie=oe(A$2),ee=ie.reworkUi.wired.keyboardShortcuts,te=ee.enabled,se=[];Object.keys(ee).forEach(ue=>{if(ue==="enabled")return;const ce=ee[ue];ce.trim().length&&se.push(jsxRuntimeExports.jsx(Listener,{shortcut:ce,term:ue,action:"wiredCategory",deps:[ee],enabled:te},ue))});const ne=ie.reworkUi.inventory.keybindingsToSearches.bindings,le=ie.reworkUi.inventory.keybindingsToSearches.enabled;return ne.forEach(ue=>{const[ce,he]=ue;!he.trim().length||!ce.trim().length||se.push(jsxRuntimeExports.jsx(Listener,{shortcut:ce,term:he,action:"searchTerm",deps:[ne],enabled:le},he))}),jsxRuntimeExports.jsx("div",{style:{visibility:"hidden",position:"absolute"},children:se})};function setCustomLocalStorage(){const ie=localStorage.setItem.bind(localStorage);localStorage.setItem=function(ee,te){const se=new CustomEvent("storageSetItem",{detail:{key:ee,value:te}});window.dispatchEvent(se),ie(ee,te)}}async function increaseWardrobeSlotsTo20(){const ee=Message.waitFor("USER_WARDROBE_PAGE");Packet.send("GET_WARDROBE",[0]);const se=(await ee).looks.size;if(se>=20){myself.alert("Seu guarda-roupa já possui 20 espaços!");return}for(let ne=se+1;ne<=20;ne++)Packet.send("SAVE_WARDROBE_OUTFIT",[ne,localStorage.getItem("lastLoginFigure"),localStorage.getItem("lastLoginGender")]),await waitMs$1(100);Packet.send("GET_WARDROBE",[0]),myself.alert("Seu guarda-roupa agora possui 20 espaços!")}class BinaryReader{constructor(ee){dE(this,"_buffer");dE(this,"_position");dE(this,"_dataView");this._position=0,this._buffer=ee,this._dataView=new DataView(ee)}readBytes(ee){const te=new BinaryReader(this._dataView.buffer.slice(this._position,this._position+ee));return this._position+=ee,te}readByte(){const ee=this._dataView.getInt8(this._position);return this._position++,ee}readShort(){const ee=this._dataView.getInt16(this._position);return this._position+=2,ee}readInt(){const ee=this._dataView.getInt32(this._position);return this._position+=4,ee}readFloat(){const ee=this._dataView.getFloat32(this._position);return this._position+=4,ee}readDouble(){const ee=this._dataView.getFloat64(this._position);return this._position+=8,ee}toString(){return new TextDecoder().decode(this._dataView.buffer)}toArrayBuffer(){return this._dataView.buffer}readString(){const ee=this.readShort();return this.readBytes(ee).toString()}readBoolean(){return this.readByte()===1}remaining(){return this._dataView.byteLength-this._position}getRemainingBuffer(){return new BinaryReader(this._dataView.buffer.slice(this._position))}}class BinaryWriter{constructor(){dE(this,"_buffer");dE(this,"_position");this._buffer=new Uint8Array,this._position=0}writeByte(ee){const te=new Uint8Array(1);return te[0]=ee,this.appendArray(te),this}writeBytes(ee){const te=new Uint8Array(ee);return this.appendArray(te),this}writeShort(ee){const te=new Uint8Array(2);return te[0]=ee>>8,te[1]=ee&255,this.appendArray(te),this}writeInt(ee){const te=new Uint8Array(4);return te[0]=ee>>24,te[1]=ee>>16,te[2]=ee>>8,te[3]=ee&255,this.appendArray(te),this}writeString(ee,te=!0){const se=new TextEncoder().encode(ee);return te?(this.writeShort(se.length),this.appendArray(se)):this.appendArray(se),this}appendArray(ee){if(!ee)return;const te=new Uint8Array(this.position+ee.length>this._buffer.length?this.position+ee.length:this._buffer.length);te.set(this._buffer),te.set(ee,this.position),this._buffer=te,this.position+=ee.length}getBuffer(){return this._buffer.buffer}get position(){return this._position}set position(ee){this._position=ee}toString(ee){return new TextDecoder(ee).decode(this._buffer)}}class ComposerParser{constructor(){dE(this,"_cancel")}registerCancelCallback(ee){this._cancel=ee}cancel(){this._cancel&&this._cancel()}preventDefault(){this.cancel()}}window.Short=Short;class Composer extends ComposerParser{constructor(te){super();dE(this,"_parsedData");dE(this,"lastComposeDump",[]);dE(this,"_header",0);this._header=te}get header(){return this._header}parse(te){const se=this.getProperties(),ne={};for(const le in se){const ue=se[le];let ce=null;switch(ue){case"undefined":case"null":te.readShort();break;case"byte":ce=te.readByte();break;case"short":ce=te.readShort();break;case"number":ce=te.readInt();break;case"boolean":ce=te.readBoolean();break;case"string":ce=te.readString();break;default:throw new Error(`Unknown type: ${ue}`)}ne[le]=ce}this._parsedData=ne}recursivelyWriteArray(te,se){let ne;if(se instanceof Array)ne=se;else if(typeof ne=="object")ne=Array.from(Object.values(se));else throw new Error(`Unknown type of maybeArray: ${typeof se}`);if(!ne||!ne.length){te.writeInt(0);return}te.writeInt(ne.length);for(let le of ne)if(typeof le=="object"&&(le=Array.from(Object.values(le))),typeof le=="boolean")te.writeByte(le?1:0);else if(typeof le=="string")te.writeString(le);else if(typeof le=="number")te.writeInt(le);else{if(le instanceof Array){this.recursivelyWriteArray(te,le);return}throw new Error(`Unknown type: ${typeof le}`)}}compose(te){const se=new BinaryWriter,ne=this._header;se.writeShort(ne),this.lastComposeDump=[{short:ne}];for(let ue of te){let ce=typeof ue;switch(ce==="object"&&(ue===null?ce="null":ue instanceof Byte?ce="byte":ue instanceof Short?ce="short":ue instanceof ArrayBuffer?ce="arraybuffer":ue instanceof Array?ce="array":ue instanceof Map?ce="map":(ue=Object.values(ue),ce="array")),ce){case"undefined":case"null":se.writeShort(0),this.lastComposeDump.push({short:0});break;case"byte":se.writeByte(ue.value),this.lastComposeDump.push({byte:ue.value});break;case"short":se.writeShort(ue.value),this.lastComposeDump.push({short:ue.value});break;case"number":se.writeInt(ue),this.lastComposeDump.push({int:ue});break;case"boolean":se.writeByte(ue?1:0),this.lastComposeDump.push({byte:ue?1:0});break;case"string":ue?(se.writeString(ue,!0),this.lastComposeDump.push({string:ue})):(se.writeShort(0),this.lastComposeDump.push({short:0}));break;case"arraybuffer":se.writeBytes(ue),this.lastComposeDump.push({arraybuffer:ue});break;case"array":this.recursivelyWriteArray(se,ue);break;case"map":se.writeInt(ue.size);for(const[he,de]of ue)se.writeString(he),se.writeString(de);break}}const le=se.getBuffer();return le?new BinaryWriter().writeInt(le.byteLength).writeBytes(le):null}toString(){const te=composerHeadersByNumber[this._header];return JSON.stringify({[te]:this._parsedData})}}class DumbComposer extends Composer{constructor(ee){super(ee)}getProperties(){return{}}getRawArray(){return[]}}class EventContext{constructor(ee){dE(this,"isPrevented",!1);dE(this,"preventDefault");this.isPrevented=!1,this.preventDefault=()=>ee(this)}}window.location.hostname.includes("hubbe.biz");const isHabblet=window.location.hostname.includes("habblet.city");let messageHeadersByString={ACHIEVEMENT_LIST:305,AUTHENTICATED:2491,AUTHENTICATION:-1,AVAILABILITY_STATUS:2033,BUILDERS_CLUB_EXPIRED:1452,CLUB_OFFERS:2405,CATALOG_PAGE:804,CATALOG_PAGE_LIST:1032,CATALOG_PURCHASE_OK:869,CATALOG_PURCHASE_ERROR:1404,CATALOG_PURCHASE_NOT_ALLOWED:3770,PRODUCT_OFFER:3388,LIMITED_SOLD_OUT:377,CATALOG_PUBLISHED:1866,CFH_RESULT_MESSAGE:3635,CLIENT_LATENCY:10,CLIENT_PING:3928,DESKTOP_CAMPAIGN:1745,DESKTOP_NEWS:286,DESKTOP_VIEW:122,BUNDLE_DISCOUNT_RULESET:2347,FIRST_LOGIN_OF_DAY:793,FURNITURE_ALIASES:1723,FURNITURE_DATA:2547,FURNITURE_FLOOR:1778,FURNITURE_FLOOR_ADD:1534,FURNITURE_FLOOR_REMOVE:2703,FURNITURE_FLOOR_UPDATE:3776,FURNITURE_ITEMDATA:2202,FURNITURE_STATE:2376,FURNITURE_GROUP_CONTEXT_MENU_INFO:3293,FURNITURE_POSTIT_STICKY_POLE_OPEN:2366,GAME_CENTER_ACHIEVEMENTS:2265,GAME_CENTER_GAME_LIST:222,GAME_CENTER_STATUS:2893,GAME_CENTER_IN_ARENA_QUEUE:872,GAME_CENTER_STOP_COUNTER:3191,GAME_CENTER_USER_LEFT_GAME:3138,GAME_CENTER_DIRECTORY_STATUS:2246,GAME_CENTER_STARTING_GAME_FAILED:2142,GAME_CENTER_JOINING_FAILED:1730,GAMESTATUSMESSAGE:3805,GAMEACHIEVEMENTS:1689,GAMEINVITE:904,JOININGQUEUEFAILED:3035,JOINEDQUEUEMESSAGE:2260,LEFTQUEUE:1477,LOAD_GAME_URL:2624,LOADGAME:3654,UNLOADGAME:1715,ACHIEVEMENTRESOLUTIONCOMPLETED:740,ACHIEVEMENTRESOLUTIONPROGRESS:3370,ACHIEVEMENTRESOLUTIONS:66,GENERIC_ALERT:3801,MODERATOR_MESSAGE:2030,GENERIC_ERROR:1600,GIFT_WRAPPER_CONFIG:2234,GROUP_BADGES:2402,GROUP_CREATE_OPTIONS:2159,GROUP_FORUM_DATA:3011,GROUP_FORUM_LIST:3001,GROUP_FORUM_THREADS:1073,GROUP_FORUM_POST:2049,GROUP_FORUM_POST_THREAD:1862,GROUP_FORUM_THREAD_MESSAGES:509,GROUP_FORUM_UNREAD_COUNT:2379,GROUP_FORUM_UPDATE_MESSAGE:324,GROUP_FORUM_UPDATE_THREAD:2528,GROUP_INFO:1702,GROUP_LIST:420,GROUP_MEMBER:265,GROUP_MEMBERS:1200,GROUP_MEMBERS_REFRESH:2445,GROUP_MEMBER_REMOVE_CONFIRM:1876,GROUP_PURCHASED:2808,GROUP_SETTINGS:3965,GROUP_BADGE_PARTS:2238,GROUP_MEMBERSHIP_REQUESTED:1180,GROUP_DETAILS_CHANGED:1459,GROUP_HABBO_JOIN_FAILED:762,GUILD_EDIT_FAILED:3988,GUILD_MEMBER_MGMT_FAILED:818,ITEM_DIMMER_SETTINGS:2710,ITEM_STACK_HELPER:2816,ITEM_WALL:1369,ITEM_WALL_ADD:2187,ITEM_WALL_REMOVE:3208,ITEM_WALL_UPDATE:2009,MARKETPLACE_CONFIG:1823,MESSENGER_ACCEPT_FRIENDS:896,MESSENGER_CHAT:1587,MESSENGER_FIND_FRIENDS:1210,MESSENGER_FOLLOW_FAILED:3048,MESSENGER_FRIEND_NOTIFICATION:3082,MESSENGER_FRIENDS:3130,MESSENGER_INIT:1605,MESSENGER_INSTANCE_MESSAGE_ERROR:3359,MESSENGER_INVITE:3870,MESSENGER_INVITE_ERROR:462,MESSENGER_MESSAGE_ERROR:892,MESSENGER_MINIMAIL_COUNT:2803,MESSENGER_MINIMAIL_NEW:1911,MESSENGER_RELATIONSHIPS:2016,MESSENGER_REQUEST:2219,MESSENGER_REQUEST_ERROR:892,MESSENGER_REQUESTS:280,MESSENGER_SEARCH:973,MESSENGER_UPDATE:2800,MODERATION_REPORT_DISABLED:1651,MODERATION_TOOL:2696,MODERATION_USER_INFO:2866,MOTD_MESSAGES:2035,NAVIGATOR_CATEGORIES:1562,NAVIGATOR_COLLAPSED:1543,NAVIGATOR_EVENT_CATEGORIES:3244,NAVIGATOR_LIFTED:3104,NAVIGATOR_METADATA:3052,NAVIGATOR_OPEN_ROOM_CREATOR:2064,NAVIGATOR_SEARCH:2690,NAVIGATOR_SEARCHES:3984,NAVIGATOR_SETTINGS:518,THUMBNAIL_UPDATE_RESULT:1927,CAN_CREATE_ROOM:378,CATEGORIES_WITH_VISITOR_COUNT:1455,COMPETITION_ROOMS_DATA:3954,CONVERTED_ROOM_ID:1331,GUEST_ROOM_SEARCH_RESULT:52,NOTIFICATION_LIST:1992,NOTIFICATION_OFFER_REWARD_DELIVERED:isHabblet?null:2125,NOTIFICATION_SIMPLE_ALERT:5100,NOTIFICATION_ELEMENT_POINTER:1787,PET_FIGURE_UPDATE:1924,PET_INFO:2901,PET_TRAINING_PANEL:1164,PET_LEVEL_UPDATE:2824,PET_SCRATCH_FAILED:1130,PET_OPEN_PACKAGE_REQUESTED:2380,PET_OPEN_PACKAGE_RESULT:546,PET_BREEDING:1746,PET_CONFIRM_BREEDING_RESULT:1625,PET_GO_TO_BREEDING_NEST_FAILURE:2621,PET_NEST_BREEDING_SUCCESS:2527,PET_CONFIRM_BREEDING_REQUEST:634,PET_BREEDING_RESULT:1553,RECYCLER_PRIZES:3164,RECYCLER_STATUS:3433,RECYCLER_FINISHED:468,ROOM_BAN_LIST:1869,ROOM_BAN_REMOVE:3429,ROOM_CREATED:1304,ROOM_DOORBELL:2309,ROOM_DOORBELL_ACCEPTED:3783,ROOM_DOORBELL_REJECTED:878,ROOM_ENTER:758,ROOM_ENTER_ERROR:899,ROOM_FORWARD:160,ROOM_HEIGHT_MAP:2753,ROOM_HEIGHT_MAP_UPDATE:558,ROOM_INFO:687,ROOM_INFO_OWNER:749,ROOM_MODEL:1301,ROOM_MODEL_BLOCKED_TILES:3990,ROOM_MODEL_DOOR:1664,ROOM_MODEL_NAME:2031,ROOM_MUTED:2533,ROOM_MUTE_USER:826,ROOM_PAINT:2454,ROOM_PROMOTION:2274,ROOM_QUEUE_STATUS:2208,ROOM_RIGHTS:780,ROOM_RIGHTS_CLEAR:2392,ROOM_RIGHTS_LIST:1284,ROOM_RIGHTS_LIST_ADD:2088,ROOM_RIGHTS_LIST_REMOVE:1327,ROOM_RIGHTS_OWNER:339,ROOM_ROLLING:3207,ROOM_SCORE:482,ROOM_SETTINGS:1498,ROOM_SETTINGS_CHAT:1191,ROOM_SETTINGS_SAVE:948,ROOM_SETTINGS_SAVE_ERROR:1555,ROOM_INFO_UPDATED:3297,ROOM_SPECTATOR:1033,ROOM_THICKNESS:3547,ROOM_GET_FILTER_WORDS:2937,ROOM_MESSAGE_NOTIFICATION:1634,ROOM_POPULAR_TAGS_RESULT:2012,INFO_FEED_ENABLE:3284,SECURITY_MACHINE:1488,MYSTERY_BOX_KEYS:2833,GOTMYSTERYBOXPRIZEMESSAGE:3712,CANCELMYSTERYBOXWAITMESSAGE:596,SHOWMYSTERYBOXWAITMESSAGE:3201,TRADE_ACCEPTED:2568,TRADE_CLOSED:1373,TRADE_COMPLETED:1001,TRADE_CONFIRMATION:2720,TRADE_LIST_ITEM:2024,TRADE_NOT_OPEN:3128,TRADE_OPEN:2505,TRADE_OPEN_FAILED:217,TRADE_OTHER_NOT_ALLOWED:1254,TRADE_YOU_NOT_ALLOWED:3058,TRADE_NO_SUCH_ITEM:2873,UNIT:374,UNIT_CHANGE_NAME:2182,UNIT_CHAT:1446,UNIT_CHAT_SHOUT:1036,UNIT_CHAT_WHISPER:2704,UNIT_DANCE:2233,UNIT_EFFECT:1167,UNIT_EXPRESSION:1631,UNIT_HAND_ITEM:1474,UNIT_IDLE:1797,UNIT_INFO:3920,UNIT_NUMBER:2324,UNIT_REMOVE:2661,UNIT_STATUS:1640,UNIT_TYPING:1717,UNSEEN_ITEMS:2103,USER_ACHIEVEMENT_SCORE:1968,USER_BADGES:717,USER_BADGES_ADD:2493,USER_BADGES_CURRENT:1087,USER_BOT_REMOVE:233,USER_BOTS:3086,USER_CHANGE_NAME:118,USER_CLOTHING:1450,USER_CREDITS:3475,USER_CURRENCY:2018,ACTIVITY_POINT_NOTIFICATION:2275,USER_EFFECTS:340,USER_FAVORITE_ROOM:2524,USER_FAVORITE_ROOM_COUNT:151,USER_FIGURE:2429,USER_FURNITURE:994,USER_FURNITURE_ADD:104,USER_FURNITURE_POSTIT_PLACED:1501,USER_FURNITURE_REFRESH:3151,USER_FURNITURE_REMOVE:159,USER_HOME_ROOM:2875,ROOM_EVENT_CANCEL:3479,ROOM_EVENT:1840,USER_IGNORED:126,USER_IGNORED_RESULT:207,USER_INFO:2725,USER_OUTFITS:3315,USER_PERKS:2586,USER_PERMISSIONS:411,USER_PET_ADD:2101,USER_PET_REMOVE:3253,USER_PETS:3522,USER_PROFILE:3898,USER_RESPECT:2815,USER_SANCTION_STATUS:3679,USER_SETTINGS:513,USER_SUBSCRIPTION:954,USER_WARDROBE_PAGE:3315,USER_CLASSIFICATION:966,GET_USER_TAGS:1255,WIRED_ACTION:1434,WIRED_CONDITION:1108,WIRED_ERROR:156,WIRED_OPEN:1830,WIRED_REWARD:178,WIRED_SAVE:1155,WIRED_TRIGGER:383,PLAYING_GAME:448,FURNITURE_STATE_2:3431,REMOVE_BOT_FROM_INVENTORY:233,ADD_BOT_TO_INVENTORY:1352,ACHIEVEMENT_PROGRESSED:2107,MODTOOL_ROOM_INFO:1333,MODTOOL_USER_CHATLOG:3377,MODTOOL_ROOM_CHATLOG:3434,MODTOOL_VISITED_ROOMS_USER:1752,MODERATOR_ACTION_RESULT:2335,ISSUE_DELETED:3192,ISSUE_INFO:3609,ISSUE_PICK_FAILED:3150,CFH_CHATLOG:607,MODERATOR_TOOL_PREFERENCES:1576,LOVELOCK_FURNI_START:3753,LOVELOCK_FURNI_FRIEND_COMFIRMED:382,LOVELOCK_FURNI_FINISHED:770,GIFT_RECEIVER_NOT_FOUND:1517,GIFT_OPENED:56,FLOOD_CONTROL:566,REMAINING_MUTE:826,USER_EFFECT_LIST:340,USER_EFFECT_LIST_ADD:2867,USER_EFFECT_LIST_REMOVE:2228,USER_EFFECT_ACTIVATE:1959,AVATAR_EFFECT_SELECTED:3473,CLUB_GIFT_INFO:619,REDEEM_VOUCHER_ERROR:714,REDEEM_VOUCHER_OK:3336,IN_CLIENT_LINK:2023,BOT_COMMAND_CONFIGURATION:1618,BOT_SKILL_LIST_UPDATE:69,BOT_FORCE_OPEN_CONTEXT_MENU:296,HAND_ITEM_RECEIVED:354,PET_PLACING_ERROR:2913,BOT_ERROR:639,MARKETPLACE_SELL_ITEM:54,MARKETPLACE_ITEM_STATS:725,MARKETPLACE_OWN_ITEMS:3884,MARKETPLACE_CANCEL_SALE:3264,MARKETPLACE_ITEM_POSTED:1359,MARKETPLACE_ITEMS_SEARCHED:680,MARKETPLACE_AFTER_ORDER_STATUS:2032,CATALOG_RECEIVE_PET_BREEDS:3331,CATALOG_APPROVE_NAME_RESULT:1503,OBJECTS_DATA_UPDATE:1453,PET_EXPERIENCE:2156,COMMUNITY_GOAL_VOTE_EVENT:1435,PROMO_ARTICLES:286,COMMUNITY_GOAL_EARNED_PRIZES:3319,COMMUNITY_GOAL_PROGRESS:2525,CONCURRENT_USERS_GOAL_PROGRESS:2737,QUEST_DAILY:1878,QUEST_CANCELLED:3027,QUEST_COMPLETED:949,COMMUNITY_GOAL_HALL_OF_FAME:3005,EPIC_POPUP:3945,SEASONAL_QUESTS:1122,QUESTS:3625,QUEST:230,BONUS_RARE_INFO:1533,CRAFTABLE_PRODUCTS:isHabblet?1:1e3,CRAFTING_RECIPE:2774,CRAFTING_RECIPES_AVAILABLE:2124,CRAFTING_RESULT:618,CAMERA_PUBLISH_STATUS:2057,CAMERA_PURCHASE_OK:2783,CAMERA_STORAGE_URL:3696,CAMERA_SNAPSHOT:isHabblet?null:463,COMPETITION_STATUS:133,INIT_CAMERA:3878,THUMBNAIL_STATUS:3595,ACHIEVEMENT_NOTIFICATION:806,CLUB_GIFT_NOTIFICATION:2188,INTERSTITIAL_MESSAGE:1808,ROOM_AD_ERROR:1759,AVAILABILITY_TIME:600,HOTEL_CLOSED_AND_OPENS:3728,HOTEL_CLOSES_AND_OPENS_AT:2771,HOTEL_WILL_CLOSE_MINUTES:1050,HOTEL_MAINTENANCE:1350,JUKEBOX_PLAYLIST_FULL:105,JUKEBOX_SONG_DISKS:34,NOW_PLAYING:469,OFFICIAL_SONG_ID:1381,PLAYLIST:1748,PLAYLIST_SONG_ADDED:1140,TRAX_SONG_INFO:3365,USER_SONG_DISKS_INVENTORY:2602,CHECK_USER_NAME:563,CFH_SANCTION:2782,CFH_TOPICS:325,CFH_SANCTION_STATUS:2221,CAMPAIGN_CALENDAR_DATA:2531,CAMPAIGN_CALENDAR_DOOR_OPENED:2551,BUILDERS_CLUB_FURNI_COUNT:3828,BUILDERS_CLUB_SUBSCRIPTION:1452,CATALOG_PAGE_EXPIRATION:2668,CATALOG_EARLIEST_EXPIRY:2515,CLUB_GIFT_SELECTED:659,TARGET_OFFER_NOT_FOUND:1237,TARGET_OFFER:119,DIRECT_SMS_CLUB_BUY:195,ROOM_AD_PURCHASE:2468,NOT_ENOUGH_BALANCE:3914,LIMITED_OFFER_APPEARING_NEXT:44,IS_OFFER_GIFTABLE:761,CLUB_EXTENDED_OFFER:3964,SEASONAL_CALENDAR_OFFER:1889,COMPETITION_ENTRY_SUBMIT:1177,COMPETITION_VOTING_INFO:3506,COMPETITION_TIMING_CODE:1745,COMPETITION_USER_PART_OF:3841,COMPETITION_NO_OWNED_ROOMS:2064,COMPETITION_SECONDS_UNTIL:3926,BADGE_POINT_LIMITS:2501,BADGE_REQUEST_FULFILLED:2998,HELPER_TALENT_TRACK:3406,TALENT_TRACK_LEVEL:1203,TALENT_TRACK_LEVEL_UP:638,USER_BANNED:1683,BOT_RECEIVED:3684,PET_LEVEL_NOTIFICATION:859,PET_RECEIVED:1111,MODERATION_CAUTION:1890,YOUTUBE_CONTROL_VIDEO:1554,YOUTUBE_DISPLAY_PLAYLISTS:1112,YOUTUBE_DISPLAY_VIDEO:1411,CFH_DISABLED_NOTIFY:1651,QUESTION:2665,POLL_CONTENTS:2997,POLL_ERROR:662,POLL_OFFER:3785,POLL_ROOM_RESULT:5201,POLL_START_ROOM:5200,QUESTION_ANSWERED:2589,QUESTION_FINISHED:1066,CFH_PENDING_CALLS:1121,GUIDE_ON_DUTY_STATUS:1548,GUIDE_SESSION_ATTACHED:1591,GUIDE_SESSION_DETACHED:138,GUIDE_SESSION_ENDED:1456,GUIDE_SESSION_ERROR:673,GUIDE_SESSION_INVITED_TO_GUIDE_ROOM:219,GUIDE_SESSION_MESSAGE:841,GUIDE_SESSION_PARTNER_IS_TYPING:1016,GUIDE_SESSION_REQUESTER_ROOM:1847,GUIDE_SESSION_STARTED:3209,GUIDE_TICKET_CREATION_RESULT:3285,GUIDE_TICKET_RESOLUTION:2674,GUIDE_REPORTING_STATUS:3463,HOTEL_MERGE_NAME_CHANGE:1663,ISSUE_CLOSE_NOTIFICATION:934,QUIZ_DATA:2927,QUIZ_RESULTS:2772,CFH_PENDING_CALLS_DELETED:77,CFH_REPLY:3796,CHAT_REVIEW_SESSION_DETACHED:30,CHAT_REVIEW_SESSION_OFFERED_TO_GUIDE:735,CHAT_REVIEW_SESSION_RESULTS:3276,CHAT_REVIEW_SESSION_STARTED:143,CHAT_REVIEW_SESSION_VOTING_STATUS:1829,SCR_SEND_KICKBACK_INFO:3277,PET_STATUS:1907,GROUP_DEACTIVATE:3129,PET_RESPECTED:2788,PET_SUPPLEMENT:3441,NOOBNESS_LEVEL:3738,DISCONNECT_REASON:isHabblet?4:4e3,CAN_CREATE_ROOM_EVENT:2599,FAVORITE_GROUP_UDPATE:3403,NO_SUCH_FLAT:84,ROOM_SETTINGS_ERROR:2897,SHOW_ENFORCE_ROOM_CATEGORY:3896,CUSTOM_USER_NOTIFICATION:909,NEW_USER_EXPERIENCE_GIFT_OFFER:3575,RESTORE_CLIENT:isHabblet?null:426,FIREWORK_CHARGE_DATA:isHabblet?null:5210,NEW_USER_EXPERIENCE_NOT_COMPLETE:3639,CONNECTION_ERROR:1004,ACCOUNT_SAFETY_LOCK_STATUS_CHANGE:1243,PHONE_COLLECTION_STATE:2890,PHONE_TRY_NUMBER_RESULT:800,PHONE_TRY_VERIFICATION_CODE_RESULT:91,EXTENDED_PROFILE_CHANGED:876,WELCOME_GIFT_CHANGE_EMAIL_RESULT:2293,WELCOME_GIFT_STATUS:2707,HANDSHAKE_INIT_DIFFIE:1347,HANDSHAKE_COMPLETE_DIFFIE:3885,RENTABLE_SPACE_RENT_OK:2046,RENTABLE_SPACE_STATUS:3559,RENTABLE_SPACE_RENT_FAILED:1868,EMAIL_STATUS:612,CHANGE_EMAIL_RESULT:1815,WEEKLY_GAME_REWARD:2641,WEEKLY_GAME_REWARD_WINNERS:3097,WEEKLY_COMPETITIVE_LEADERBOARD:3512,WEEKLY_COMPETITIVE_FRIENDS_LEADERBOARD:3560,WEEKLY_GAME2_FRIENDS_LEADERBOARD:2270,WEEKLY_GAME2_LEADERBOARD:2196,RENTABLE_FURNI_RENT_OR_BUYOUT_OFFER:35,HANDSHAKE_IDENTITY_ACCOUNT:isHabblet?3523:null,SHOW_YOUTUBE_VIDEO_ALERT:342,JOIN_YOUTUBE_VIDEO:352,LEAVE_YOUTUBE_VIDEO:353,WIRED_ADDON:356,WIRED_MOVEMENTS:isHabblet?360:384,WIRED_SELECTOR:362,HIGH_WIRED_ACTIVITY:364,PROFILE_ROOMS:385,PROFILE_FRIENDS:386,PROFILE_IMAGE_READY:391,GROUP_FORUM_EDIT_POST:394,GROUP_FORUM_DELETE_POST:395,ROOM_AREA_HIDE:401,FURNITURE_FLOOR_REMOVE_MULTIPLE:402,ROOM_AREA_HIDER_SETTINGS:405,USER_RANK_EXTRA_INFO:2727,ROOM_WITHOUT_RIGHTS_LIST:9017,USER_KISS:9003,SET_KISSES_LEFT:9004,OPEN_PINCEL:9005,ADD_ALERT:9006,GET_PINCEL_SELECTED_COLORS:9007,SEND_SOUND:9008,OPEN_ROOM_VIDEO:9009};messageHeadersByString=Object.fromEntries(Object.entries(messageHeadersByString).filter(([ie,ee])=>ee!==null));const messageHeadersByNumber=Object.fromEntries(Object.entries(messageHeadersByString).map(([ie,ee])=>[ee,ie]));class InputConfigSources{constructor(ee){dE(this,"_furniSelections");dE(this,"_userSelections");dE(this,"_defaultFurniSources");dE(this,"_defaultUserSources");this._furniSelections=this.readAllowedSources(ee),this._userSelections=this.readAllowedSources(ee),this._defaultFurniSources=this.readDefaultSources(ee),this._defaultUserSources=this.readDefaultSources(ee)}readAllowedSources(ee){const te=[],se=ee.readInt();for(let ne=0;ne<se;ne++){te[ne]=[];const le=ee.readInt();for(let ue=0;ue<le;ue++)te[ne][ue]=ee.readInt()}return te}readDefaultSources(ee){const te=[],se=ee.readInt();for(let ne=0;ne<se;ne++)te.push(ee.readInt());return te}get amountFurniSelections(){return this._furniSelections.length}getAllowedFurniSources(ee){return this._furniSelections[ee]}get amountUserSelections(){return this._userSelections.length}getAllowedUserSources(ee){return this._userSelections[ee]}get defaultFurniSources(){return this._defaultFurniSources}get defaultUserSources(){return this._defaultUserSources}isUsingAdvancedSettings(ee,te){for(let se=0;se<this._defaultFurniSources.length;se++)if(this._defaultFurniSources[se]!==ee[se])return!0;for(let se=0;se<this._defaultUserSources.length;se++)if(this._defaultUserSources[se]!==te[se])return!0;return!1}allowFurniSelection(){for(let ee=0;ee<this.amountFurniSelections;ee++){const te=this.getAllowedFurniSources(ee);if(te.includes(100)||te.includes(101))return!0}return!1}isFurniSelectionDefault(){return this._defaultFurniSources.includes(100)||this._defaultFurniSources.includes(101)}}class Triggerable{constructor(ee){dE(this,"className");dE(this,"_stuffTypeSelectionEnabled");dE(this,"_furniLimit");dE(this,"_stuffIds");dE(this,"_id");dE(this,"_stringParam");dE(this,"_intParams");dE(this,"_stuffTypeId");dE(this,"_furniSourceTypes",[]);dE(this,"_userSourceTypes",[]);dE(this,"_stuffTypeSelectionCode");dE(this,"_inputSourcesConf");this._stuffIds=[],this._intParams=[],this._stuffTypeSelectionEnabled=ee.readBoolean(),this._furniLimit=ee.readInt();let te=ee.readInt();for(;te>0;)this._stuffIds.push(ee.readInt()),te--;for(this._stuffTypeId=ee.readInt(),this._id=ee.readInt(),this._stringParam=ee.readString(),te=ee.readInt();te>0;)this._intParams.push(ee.readInt()),te--;for(te=ee.readInt();te>0;)this._furniSourceTypes.push(ee.readInt()),te--;for(te=ee.readInt();te>0;)this._userSourceTypes.push(ee.readInt()),te--;this._stuffTypeSelectionCode=ee.readInt(),this._inputSourcesConf=new InputConfigSources(ee)}getBoolean(ee){return this._intParams[ee]===1}get stuffTypeSelectionEnabled(){return this._stuffTypeSelectionEnabled}get stuffTypeSelectionCode(){return this._stuffTypeSelectionCode}set stuffTypeSelectionCode(ee){this._stuffTypeSelectionCode=ee}get maximumItemSelectionCount(){return this._furniLimit}get selectedItems(){return this._stuffIds}get id(){return this._id}get stringData(){return this._stringParam}get intData(){return this._intParams}get code(){return 0}get spriteId(){return this._stuffTypeId}get furniSourceTypes(){return this._furniSourceTypes}get userSourceTypes(){return this._userSourceTypes}get inputSourcesConf(){return this._inputSourcesConf}}class ConditionDefinition extends Triggerable{constructor(te){super(te);dE(this,"className","ConditionDefinition");dE(this,"_type");dE(this,"_quantifierType");dE(this,"_quantifierCode");dE(this,"_isInvert");this._type=te.readInt(),this._quantifierType=te.readInt(),this._quantifierCode=te.readInt(),this._isInvert=te.readBoolean()}get type(){return this._type}get code(){return this._type}get quantifierType(){return this._quantifierType}get quantifierCode(){return this._quantifierCode}get isInvert(){return this._isInvert}}class TriggerDefinition extends Triggerable{constructor(te){super(te);dE(this,"className","TriggerDefinition");dE(this,"_triggerConf");dE(this,"_conflictingActions");this._conflictingActions=[],this._triggerConf=te.readInt();let se=te.readInt();for(;se>0;)this._conflictingActions.push(te.readInt()),se--}get code(){return this._triggerConf}get conflictingActions(){return this._conflictingActions}}class SelectorDefinition extends Triggerable{constructor(te){super(te);dE(this,"className","SelectorDefinition");dE(this,"_type");dE(this,"_isFilter");dE(this,"_isInvert");te&&(this._type=te.readInt(),this._isFilter=te.readBoolean(),this._isInvert=te.readBoolean())}get type(){return this._type}get code(){return this._type}get isFilter(){return this._isFilter}get isInvert(){return this._isInvert}}class WiredActionDefinition extends Triggerable{constructor(te){super(te);dE(this,"className","WiredActionDefinition");dE(this,"_type");dE(this,"_delayInPulses");dE(this,"_conflictingTriggers");this._conflictingTriggers=[],this._type=te.readInt(),this._delayInPulses=te.readInt();let se=te.readInt();for(;se>0;)this._conflictingTriggers.push(te.readInt()),se--}get type(){return this._type}get code(){return this._type}get delayInPulses(){return this._delayInPulses}get conflictingTriggers(){return this._conflictingTriggers}}class WiredFurniActionParser{constructor(){dE(this,"_definition")}flush(){return this._definition=null,!0}parse(ee){return ee?(this._definition=new WiredActionDefinition(ee),!0):!1}get definition(){return this._definition}}class WiredFurniConditionParser{constructor(){dE(this,"_definition")}flush(){return this._definition=null,!0}parse(ee){return ee?(this._definition=new ConditionDefinition(ee),!0):!1}get definition(){return this._definition}}class WiredFurniSelectorParser{constructor(){dE(this,"_definition")}flush(){return this._definition=null,!0}parse(ee){return ee?(this._definition=new SelectorDefinition(ee),!0):!1}get definition(){return this._definition}}class WiredFurniTriggerParser{constructor(){dE(this,"_definition")}flush(){return this._definition=null,!0}parse(ee){return ee?(this._definition=new TriggerDefinition(ee),!0):!1}get definition(){return this._definition}}class AddonDefinition extends Triggerable{constructor(te){super(te);dE(this,"className","AddonDefinition");dE(this,"_type");this._type=te.readInt()}get type(){return this._type}get code(){return this._type}}class WiredFurniAddonParser{constructor(){dE(this,"_definition")}flush(){return this._definition=null,!0}parse(ee){return ee?(this._definition=new AddonDefinition(ee),!0):!1}get definition(){return this._definition}}class UserMoveAction{constructor(ee,te,se,ne,le,ue,ce){dE(this,"_userIndex");dE(this,"_source");dE(this,"_target");dE(this,"_moveType");dE(this,"_animationTime");dE(this,"_bodyDirection");dE(this,"_headDirection");this._userIndex=ee,this._source=te,this._target=se,this._moveType=ne,this._animationTime=le,this._bodyDirection=ue,this._headDirection=ce}get userIndex(){return this._userIndex}get source(){return this._source}get target(){return this._target}get moveType(){return this._moveType}get animationTime(){return this._animationTime}get bodyDirection(){return this._bodyDirection}get headDirection(){return this._headDirection}}class FurniMoveAction{constructor(ee,te,se,ne,le){dE(this,"_furniId");dE(this,"_source");dE(this,"_target");dE(this,"_animationTime");dE(this,"_rotation");this._furniId=ee,this._source=te,this._target=se,this._animationTime=ne,this._rotation=le}get furniId(){return this._furniId}get source(){return this._source}get target(){return this._target}get animationTime(){return this._animationTime}get rotation(){return this._rotation}}class HabbletWiredMovementParser{constructor(){dE(this,"_userMoves");dE(this,"_furniMoves");this._userMoves=[],this._furniMoves=[]}get userMoves(){return this._userMoves}get furniMoves(){return this._furniMoves}static parseUserMove(ee){const te=ee.readInt(),se=ee.readInt(),ne=ee.readInt(),le=ee.readInt(),ue=parseFloat(ee.readString()),ce=parseFloat(ee.readString()),he=ee.readInt(),de=ee.readInt(),_e=ee.readInt(),fe=ee.readInt(),ye=ee.readInt();return new UserMoveAction(he,{x:te,y:se,z:ue},{x:ne,y:le,z:ce},de===0?"mv":"sld",_e,fe,ye)}static parseFurniMove(ee){const te=ee.readInt(),se=ee.readInt(),ne=ee.readInt(),le=ee.readInt(),ue=parseFloat(ee.readString()),ce=parseFloat(ee.readString()),he=ee.readInt(),de=ee.readInt(),_e=ee.readInt(),fe={x:te,y:se,z:ue},ye={x:ne,y:le,z:ce};return new FurniMoveAction(he,fe,ye,de,_e)}flush(){return this._userMoves=[],this._furniMoves=[],!0}parse(ee){if(!ee)return!1;this._userMoves=[],this._furniMoves=[];const te=ee.readInt();for(let se=0;se<te;se++)switch(ee.readInt()){case 0:this.userMoves.push(HabbletWiredMovementParser.parseUserMove(ee));break;case 1:this.furniMoves.push(HabbletWiredMovementParser.parseFurniMove(ee))}return!0}}const NN=class NN{constructor(ee){dE(this,"_rentable");dE(this,"_itemId");dE(this,"_furniType");dE(this,"_ref");dE(this,"_spriteId");dE(this,"_category");dE(this,"_stuffData");dE(this,"_isGroupable");dE(this,"_isRecyclable");dE(this,"_tradable");dE(this,"_sellable");dE(this,"_deletable");dE(this,"_secondsToExpiration");dE(this,"_extra");dE(this,"_flatId");dE(this,"_isWallItem");dE(this,"_hasRentPeriodStarted");dE(this,"_expirationTimeStamp");dE(this,"_slotId");dE(this,"_songId");if(!ee)throw new Error("invalid_wrapper");this.flush(),this.parse(ee)}flush(){return this._rentable=!1,this._itemId=0,this._furniType=null,this._ref=0,this._spriteId=0,this._category=0,this._stuffData=null,this._isGroupable=!1,this._isRecyclable=!1,this._tradable=!1,this._sellable=!1,this._deletable=!1,this._secondsToExpiration=0,this._extra=0,this._flatId=0,this._isWallItem=!1,this._hasRentPeriodStarted=!1,this._expirationTimeStamp=0,this._slotId="",this._songId=-1,!0}parse(ee){return ee?(this._itemId=ee.readInt(),this._furniType=ee.readString(),this._ref=ee.readInt(),this._spriteId=ee.readInt(),this._category=ee.readInt(),this._stuffData=FurnitureDataParser.parseObjectData(ee),this._isRecyclable=ee.readBoolean(),this._tradable=ee.readBoolean(),this._isGroupable=ee.readBoolean(),window.isHubbe&&(this._sellable=ee.readBoolean()),this._deletable=ee.readBoolean(),this._secondsToExpiration=ee.readInt(),this._expirationTimeStamp=0,this.secondsToExpiration>-1?this._rentable=!0:(this._rentable=!1,this._secondsToExpiration=-1),this._hasRentPeriodStarted=ee.readBoolean(),this._flatId=ee.readInt(),this._isWallItem=this._furniType===NN.WALL_ITEM,this._furniType===NN.FLOOR_ITEM&&(this._slotId=ee.readString(),this._extra=ee.readInt()),!0):!1}get itemId(){return this._itemId}get furniType(){return this._furniType}get ref(){return this._ref}get spriteId(){return this._spriteId}get category(){return this._category}get stuffData(){return this._stuffData}get isGroupable(){return this._isGroupable}get isRecycleable(){return this._isRecyclable}get tradable(){return this._tradable}get sellable(){return this._sellable}get secondsToExpiration(){return this._secondsToExpiration}get flatId(){return this._flatId}get slotId(){return this._slotId}get songId(){return this._songId}get extra(){return this._extra}get rentable(){return this._rentable}get isWallItem(){return this._isWallItem}get hasRentPeriodStarted(){return this._hasRentPeriodStarted}get expirationTimeStamp(){return this._expirationTimeStamp}get creationDay(){return 0}get creationMonth(){return 0}get creationYear(){return 0}get isExternalImageFurni(){return this._furniType.indexOf("external_image")!==-1}};dE(NN,"WALL_ITEM","I"),dE(NN,"FLOOR_ITEM","S");let FurnitureListItemParser=NN;class FurnitureListParser{constructor(){dE(this,"_totalFragments");dE(this,"_fragmentNumber");dE(this,"_fragment")}flush(){return this._totalFragments=0,this._fragmentNumber=0,this._fragment=new Map,!0}parse(ee){if(!ee)return!1;this._totalFragments=ee.readInt(),this._fragmentNumber=ee.readInt();let te=ee.readInt();for(;te>0;){const se=new FurnitureListItemParser(ee);se&&this._fragment.set(se.itemId,se),te--}return!0}get totalFragments(){return this._totalFragments}get fragmentNumber(){return this._fragmentNumber}get fragment(){return this._fragment}}class YoutubeDisplayPlaylist{constructor(ee,te,se,ne){dE(this,"_video");dE(this,"_title");dE(this,"_addedByUsername");dE(this,"_addedByPlayerId");this._video=ee,this._title=te,this._addedByUsername=se,this._addedByPlayerId=ne}get video(){return this._video}get title(){return this._title}get addedByUsername(){return this._addedByUsername}get addedByPlayerId(){return this._addedByPlayerId}}class YoutubeDisplayPlaylistsMessageParser{constructor(){dE(this,"_playlists");dE(this,"_selectedVideoId");dE(this,"_roomId")}flush(){return this._playlists=null,this._selectedVideoId=null,this._roomId=-1,!0}get playlists(){return this._playlists}get selectedVideoId(){return this._selectedVideoId}get roomId(){return this._roomId}parse(ee){const te=ee.readInt();this._playlists=[];for(let se=0;se<te;se++)this._playlists.push(new YoutubeDisplayPlaylist(ee.readString(),ee.readString(),ee.readString(),ee.readInt()));return this._selectedVideoId=ee.readString(),this._roomId=ee.readInt(),!0}}class FloorMultipleHideParser{constructor(){dE(this,"_itemIds",[]);this._itemIds=[]}get itemIds(){return this._itemIds}flush(){return this._itemIds=[],!0}parse(ee){if(!ee)return!1;this._itemIds=[];const te=ee.readInt();for(let se=0;se<te;se++){const ne=ee.readInt();this._itemIds.push(ne)}return!0}}class YoutubeDisplayVideoMessageParser{constructor(){dE(this,"_videoId");dE(this,"_startAtSeconds");dE(this,"_state")}flush(){return!0}parse(ee){return this._videoId=ee.readString(),this._startAtSeconds=ee.readInt(),this._state=ee.readInt(),!0}get videoId(){return this._videoId}get state(){return this._state}get startAtSeconds(){return this._startAtSeconds}}class ShowYoutubeAlertParser{constructor(){dE(this,"_alertMessage","");this._alertMessage=""}get itemIds(){return this._alertMessage}flush(){return this._alertMessage="",!0}parse(ee){if(!ee)return!1;const te=ee.readString();return this._alertMessage=te,!0}}class JoinYoutubeVideoParser{constructor(){dE(this,"_users",[]);this._users=[]}get users(){return this._users}flush(){return this._users=[],!0}parse(ee){if(!ee)return!1;this._users=[];const te=ee.readInt();for(let se=0;se<te;se++){const ne=ee.readInt(),le=ee.readInt(),ue=ee.readString(),ce=ee.readString(),he=ee.readBoolean();this._users.push({indexId:ne,playerId:le,username:ue,figure:ce,hasRights:he})}return!0}}class Group{constructor(ee){dE(this,"_groupId");dE(this,"_groupName");dE(this,"_badgeCode");dE(this,"_colorA");dE(this,"_colorB");dE(this,"_favourite");dE(this,"_ownerId");dE(this,"_hasForum");this._groupId=ee.readInt(),this._groupName=ee.readString(),this._badgeCode=ee.readString(),this._colorA=ee.readString(),this._colorB=ee.readString(),this._favourite=ee.readBoolean(),this._ownerId=ee.readInt(),this._hasForum=ee.readBoolean()}get groupId(){return this._groupId}get groupName(){return this._groupName}get badgeCode(){return this._badgeCode}get colorA(){return this._colorA}get colorB(){return this._colorB}get favourite(){return this._favourite}get ownerId(){return this._ownerId}get hasForum(){return this._hasForum}}class UserProfileParser{constructor(){dE(this,"_id");dE(this,"_username","");dE(this,"_figure","");dE(this,"_motto","");dE(this,"_registration","");dE(this,"_achievementPoints");dE(this,"_friendsCount");dE(this,"_isMyFriend");dE(this,"_requestSent");dE(this,"_isOnline");dE(this,"_groups",[]);dE(this,"_secondsSinceLastVisit");dE(this,"_openProfileWindow");dE(this,"_level");dE(this,"_respectPoints");dE(this,"_cautions");dE(this,"_registrationDate");dE(this,"_hideFriends");dE(this,"_avatarImage");dE(this,"_isAvatarImageFit");dE(this,"_headerImage");dE(this,"_isHeaderImageFit");dE(this,"_rankBadges",[]);this.flush()}flush(){return this._id=0,this._username="",this._figure="",this._motto="",this._registration="",this._achievementPoints=0,this._friendsCount=0,this._isMyFriend=!1,this._requestSent=!1,this._isOnline=!1,this._groups=[],this._secondsSinceLastVisit=0,this._openProfileWindow=!1,this._level=0,this._respectPoints=0,this._cautions=0,this._registrationDate="",this._hideFriends=!1,this._avatarImage="",this._isAvatarImageFit=!1,this._headerImage="",this._isHeaderImageFit=!1,this._rankBadges=[],!0}parse(ee){if(!ee)return!1;this._id=ee.readInt(),this._username=ee.readString(),this._figure=ee.readString(),this._motto=ee.readString(),this._registration=ee.readString(),this._achievementPoints=ee.readInt(),this._friendsCount=ee.readInt(),this._isMyFriend=ee.readBoolean(),this._requestSent=ee.readBoolean(),this._isOnline=ee.readBoolean();const te=ee.readInt();for(let ne=0;ne<te;ne++)this._groups.push(new Group(ee));this._secondsSinceLastVisit=ee.readInt(),this._openProfileWindow=ee.readBoolean(),this._level=ee.readInt(),this._respectPoints=ee.readInt(),this._cautions=ee.readInt(),this._registrationDate=ee.readString(),this._hideFriends=ee.readBoolean(),this._avatarImage=ee.readString(),this._isAvatarImageFit=ee.readBoolean(),this._headerImage=ee.readString(),this._isHeaderImageFit=ee.readBoolean();const se=ee.readInt();for(let ne=0;ne<se;ne++)this._rankBadges.push(ee.readString());return!0}get id(){return this._id}get username(){return this._username}get figure(){return this._figure}get motto(){return this._motto}get registration(){return this._registration}get achievementPoints(){return this._achievementPoints}get friendsCount(){return this._friendsCount}get isMyFriend(){return this._isMyFriend}get requestSent(){return this._requestSent}get isOnline(){return this._isOnline}get groups(){return this._groups}get secondsSinceLastVisit(){return this._secondsSinceLastVisit}get openProfileWindow(){return this._openProfileWindow}get level(){return this._level}get respectPoints(){return this._respectPoints}get cautions(){return this._cautions}get registrationDate(){return this._registrationDate}get hideFriends(){return this._hideFriends}get avatarImage(){return this._avatarImage}get isAvatarImageFit(){return this._isAvatarImageFit}get headerImage(){return this._headerImage}get isHeaderImageFit(){return this._isHeaderImageFit}get rankBadges(){return this._rankBadges}}const MessageParsers={INTERSTITIAL_MESSAGE:InterstitialMessageParser,ROOM_AD_ERROR:RoomAdErrorMessageParser,AVAILABILITY_STATUS:AvailabilityStatusMessageParser,AVAILABILITY_TIME:AvailabilityTimeMessageParser,HOTEL_CLOSED_AND_OPENS:HotelClosedAndOpensMessageParser,HOTEL_CLOSES_AND_OPENS_AT:HotelClosesAndWillOpenAtMessageParser,HOTEL_WILL_CLOSE_MINUTES:HotelWillCloseInMinutesMessageParser,HOTEL_MAINTENANCE:MaintenanceStatusMessageParser,USER_CHANGE_NAME:ChangeUserNameResultMessageParser,CHECK_USER_NAME:CheckUserNameResultMessageParser,USER_FIGURE:FigureUpdateParser,USER_WARDROBE_PAGE:UserWardrobePageParser,ADD_BOT_TO_INVENTORY:BotAddedToInventoryParser,USER_BOTS:BotInventoryMessageParser,BOT_RECEIVED:BotReceivedMessageParser,REMOVE_BOT_FROM_INVENTORY:BotRemovedFromInventoryParser,CFH_SANCTION:CfhSanctionMessageParser,CFH_TOPICS:CfhTopicsInitMessageParser,CFH_SANCTION_STATUS:SanctionStatusMessageParser,CAMERA_PUBLISH_STATUS:CameraPublishStatusMessageParser,CAMERA_PURCHASE_OK:CameraPurchaseOKMessageParser,CAMERA_STORAGE_URL:CameraStorageUrlMessageParser,COMPETITION_STATUS:CompetitionStatusMessageParser,INIT_CAMERA:InitCameraMessageParser,THUMBNAIL_STATUS:ThumbnailStatusMessageParser,CAMPAIGN_CALENDAR_DATA:CampaignCalendarDataMessageParser,CAMPAIGN_CALENDAR_DOOR_OPENED:CampaignCalendarDoorOpenedMessageParser,BONUS_RARE_INFO:BonusRareInfoMessageParser,BUILDERS_CLUB_FURNI_COUNT:BuildersClubFurniCountMessageParser,BUILDERS_CLUB_SUBSCRIPTION:BuildersClubSubscriptionStatusMessageParser,BUNDLE_DISCOUNT_RULESET:BundleDiscountRulesetMessageParser,CATALOG_PAGE_EXPIRATION:CatalogPageExpirationParser,CATALOG_PAGE:CatalogPageMessageParser,CATALOG_PAGE_LIST:CatalogIndexMessageParser,CATALOG_EARLIEST_EXPIRY:CatalogPageWithEarliestExpiryMessageParser,CATALOG_PUBLISHED:CatalogPublishedMessageParser,CLUB_GIFT_INFO:ClubGiftInfoParser,CLUB_GIFT_SELECTED:ClubGiftSelectedParser,DIRECT_SMS_CLUB_BUY:DirectSMSClubBuyAvailableMessageParser,GIFT_RECEIVER_NOT_FOUND:GiftReceiverNotFoundParser,GIFT_WRAPPER_CONFIG:GiftWrappingConfigurationParser,CLUB_EXTENDED_OFFER:HabboClubExtendOfferMessageParser,CLUB_OFFERS:HabboClubOffersMessageParser,IS_OFFER_GIFTABLE:IsOfferGiftableMessageParser,LIMITED_SOLD_OUT:LimitedEditionSoldOutParser,LIMITED_OFFER_APPEARING_NEXT:LimitedOfferAppearingNextMessageParser,NOT_ENOUGH_BALANCE:NotEnoughBalanceMessageParser,PRODUCT_OFFER:ProductOfferMessageParser,CATALOG_PURCHASE_ERROR:PurchaseErrorMessageParser,CATALOG_PURCHASE_NOT_ALLOWED:PurchaseNotAllowedMessageParser,CATALOG_PURCHASE_OK:PurchaseOKMessageParser,ROOM_AD_PURCHASE:RoomAdPurchaseInfoEventParser,SEASONAL_CALENDAR_OFFER:SeasonalCalendarDailyOfferMessageParser,CATALOG_RECEIVE_PET_BREEDS:SellablePetPalettesParser,TARGET_OFFER:TargetedOfferParser,TARGET_OFFER_NOT_FOUND:TargetedOfferNotFoundParser,REDEEM_VOUCHER_ERROR:VoucherRedeemErrorMessageParser,REDEEM_VOUCHER_OK:VoucherRedeemOkMessageParser,CLIENT_PING:ClientPingParser,COMPETITION_TIMING_CODE:CurrentTimingCodeMessageParser,COMPETITION_USER_PART_OF:IsUserPartOfCompetitionMessageParser,COMPETITION_NO_OWNED_ROOMS:NavigatorOpenRoomCreatorParser,COMPETITION_SECONDS_UNTIL:SecondsUntilMessageParser,CRAFTING_RECIPE:CraftingRecipeMessageParser,CRAFTING_RECIPES_AVAILABLE:CraftingRecipesAvailableMessageParser,CRAFTING_RESULT:CraftingResultMessageParser,DESKTOP_VIEW:DesktopViewParser,MESSENGER_ACCEPT_FRIENDS:AcceptFriendResultParser,MESSENGER_FIND_FRIENDS:FindFriendsProcessResultParser,MESSENGER_FOLLOW_FAILED:FollowFriendFailedParser,MESSENGER_FRIENDS:FriendListFragmentParser,MESSENGER_UPDATE:FriendListUpdateParser,MESSENGER_FRIEND_NOTIFICATION:FriendNotificationParser,MESSENGER_REQUESTS:FriendRequestsParser,MESSENGER_SEARCH:HabboSearchResultParser,MESSENGER_INSTANCE_MESSAGE_ERROR:InstantMessageErrorParser,MESSENGER_REQUEST_ERROR:MessageErrorParser,MESSENGER_INIT:MessengerInitParser,MESSENGER_MINIMAIL_NEW:MiniMailNewMessageParser,MESSENGER_MINIMAIL_COUNT:MiniMailUnreadCountParser,MESSENGER_CHAT:NewConsoleMessageParser,MESSENGER_REQUEST:NewFriendRequestParser,MESSENGER_INVITE_ERROR:RoomInviteErrorParser,MESSENGER_INVITE:RoomInviteParser,ACHIEVEMENTRESOLUTIONCOMPLETED:AchievementResolutionCompletedMessageParser,ACHIEVEMENTRESOLUTIONPROGRESS:AchievementResolutionProgressMessageParser,ACHIEVEMENTRESOLUTIONS:AchievementResolutionsMessageParser,LOAD_GAME_URL:LoadGameUrlParser,LOADGAME:LoadGameMessageParser,UNLOADGAME:UnloadGameMessageParser,GAME_CENTER_GAME_LIST:GameListMessageParser,GAME_CENTER_ACHIEVEMENTS:UserGameAchievementsMessageParser,GAME_CENTER_STATUS:Game2AccountGameStatusMessageParser,GAME_CENTER_IN_ARENA_QUEUE:Game2InArenaQueueMessageParser,GAME_CENTER_STOP_COUNTER:Game2StopCounterMessageParser,GAME_CENTER_USER_LEFT_GAME:Game2UserLeftGameMessageParser,GAMEACHIEVEMENTS:GameAchievementsMessageParser,GAMEINVITE:GameInviteMessageParser,JOINEDQUEUEMESSAGE:JoinedQueueMessageParser,LEFTQUEUE:LeftQueueMessageParser,WEEKLY_GAME_REWARD:WeeklyGameRewardParser,WEEKLY_GAME_REWARD_WINNERS:WeeklyGameRewardWinnersParser,WEEKLY_COMPETITIVE_LEADERBOARD:Game2WeeklyLeaderboardParser,WEEKLY_COMPETITIVE_FRIENDS_LEADERBOARD:Game2WeeklyLeaderboardParser,WEEKLY_GAME2_FRIENDS_LEADERBOARD:Game2WeeklyLeaderboardParser,WEEKLY_GAME2_LEADERBOARD:Game2WeeklyLeaderboardParser,GROUP_INFO:GroupInformationParser,GROUP_MEMBER_REMOVE_CONFIRM:GroupConfirmMemberRemoveParser,GROUP_MEMBERS:GroupMembersParser,GROUP_CREATE_OPTIONS:GroupBuyDataParser,GROUP_BADGE_PARTS:GroupBadgePartsParser,GROUP_SETTINGS:GroupSettingsParser,GROUP_PURCHASED:GroupPurchasedParser,GROUP_BADGES:HabboGroupBadgesMessageParser,GROUP_DEACTIVATE:HabboGroupDeactivatedMessageParser,GROUP_MEMBERSHIP_REQUESTED:GroupMembershipRequestedMessageParser,GROUP_DETAILS_CHANGED:GroupDetailsChangedMessageParser,GROUP_FORUM_DATA:ForumDataMessageParser,GROUP_FORUM_LIST:GetForumsListMessageParser,GROUP_FORUM_THREADS:GuildForumThreadsParser,GROUP_FORUM_POST:PostMessageMessageParser,GROUP_FORUM_POST_THREAD:PostThreadMessageParser,GROUP_FORUM_THREAD_MESSAGES:ThreadMessagesMessageParser,GROUP_FORUM_UNREAD_COUNT:UnreadForumsCountMessageParser,GROUP_FORUM_UPDATE_MESSAGE:UpdateMessageMessageParser,GROUP_FORUM_UPDATE_THREAD:UpdateThreadMessageParser,CFH_DISABLED_NOTIFY:CallForHelpDisabledNotifyMessageParser,CFH_PENDING_CALLS_DELETED:CallForHelpPendingCallsDeletedMessageParser,CFH_PENDING_CALLS:CallForHelpPendingCallsMessageParser,CFH_REPLY:CallForHelpReplyMessageParser,CFH_RESULT_MESSAGE:CallForHelpResultMessageParser,GUIDE_ON_DUTY_STATUS:GuideOnDutyStatusMessageParser,GUIDE_SESSION_ATTACHED:GuideSessionAttachedMessageParser,GUIDE_SESSION_DETACHED:GuideSessionDetachedMessageParser,GUIDE_SESSION_ENDED:GuideSessionEndedMessageParser,GUIDE_SESSION_INVITED_TO_GUIDE_ROOM:GuideSessionInvitedToGuideRoomMessageParser,GUIDE_SESSION_MESSAGE:GuideSessionMessageMessageParser,GUIDE_SESSION_PARTNER_IS_TYPING:GuideSessionPartnerIsTypingMessageParser,GUIDE_SESSION_REQUESTER_ROOM:GuideSessionRequesterRoomMessageParser,GUIDE_SESSION_STARTED:GuideSessionStartedMessageParser,HOTEL_MERGE_NAME_CHANGE:HotelMergeNameChangeParser,ISSUE_CLOSE_NOTIFICATION:IssueCloseNotificationMessageParser,QUIZ_DATA:QuizDataMessageParser,QUIZ_RESULTS:QuizResultsMessageParser,CHAT_REVIEW_SESSION_DETACHED:ChatReviewSessionDetachedMessageParser,CHAT_REVIEW_SESSION_OFFERED_TO_GUIDE:ChatReviewSessionOfferedToGuideMessageParser,CHAT_REVIEW_SESSION_RESULTS:ChatReviewSessionResultsMessageParser,CHAT_REVIEW_SESSION_STARTED:ChatReviewSessionStartedMessageParser,ACHIEVEMENT_PROGRESSED:AchievementParser,ACHIEVEMENT_LIST:AchievementsParser,USER_ACHIEVEMENT_SCORE:AchievementsScoreParser,USER_EFFECT_ACTIVATE:AvatarEffectActivatedParser,USER_EFFECT_LIST_ADD:AvatarEffectAddedParser,USER_EFFECT_LIST_REMOVE:AvatarEffectExpiredParser,USER_EFFECT_LIST:AvatarEffectsParser,AVATAR_EFFECT_SELECTED:AvatarEffectSelectedParser,USER_BADGES:BadgesParser,USER_BADGES_ADD:BadgeReceivedParser,BADGE_POINT_LIMITS:BadgePointLimitsParser,BADGE_REQUEST_FULFILLED:IsBadgeRequestFulfilledParser,USER_CLOTHING:FigureSetIdsMessageParser,USER_FURNITURE_ADD:FurnitureListAddOrUpdateParser,USER_FURNITURE:FurnitureListParser,USER_FURNITURE_REFRESH:FurnitureListInvalidateParser,USER_FURNITURE_REMOVE:FurnitureListRemovedParser,USER_FURNITURE_POSTIT_PLACED:FurniturePostItPlacedParser,USER_PETS:PetInventoryParser,USER_PET_REMOVE:PetRemovedFromInventoryParser,USER_PET_ADD:PetAddedToInventoryParser,PET_RECEIVED:PetReceivedMessageParser,PET_PLACING_ERROR:PetPlacingErrorEventParser,YOUTUBE_CONTROL_VIDEO:YoutubeControlVideoMessageParser,YOUTUBE_DISPLAY_PLAYLISTS:YoutubeDisplayPlaylistsMessageParser,YOUTUBE_DISPLAY_VIDEO:YoutubeDisplayVideoMessageParser,SHOW_YOUTUBE_VIDEO_ALERT:ShowYoutubeAlertParser,JOIN_YOUTUBE_VIDEO:JoinYoutubeVideoParser,TRADE_ACCEPTED:TradingAcceptParser,TRADE_COMPLETED:TradingCompletedParser,TRADE_CONFIRMATION:TradingConfirmationParser,TRADE_LIST_ITEM:TradingListItemParser,TRADE_NOT_OPEN:TradingNotOpenParser,TRADE_OPEN:TradingOpenParser,TRADE_OTHER_NOT_ALLOWED:TradingOtherNotAllowedParser,TRADE_YOU_NOT_ALLOWED:TradingYouAreNotAllowedParser,TRADE_NO_SUCH_ITEM:TradingNoSuchItemParser,COMMUNITY_GOAL_VOTE_EVENT:CommunityVoteReceivedParser,PROMO_ARTICLES:PromoArticlesMessageParser,MARKETPLACE_AFTER_ORDER_STATUS:MarketplaceBuyOfferResultParser,MARKETPLACE_CANCEL_SALE:MarketplaceCancelOfferResultParser,MARKETPLACE_SELL_ITEM:MarketplaceCanMakeOfferResultParser,MARKETPLACE_CONFIG:MarketplaceConfigurationMessageParser,MARKETPLACE_ITEM_STATS:MarketplaceItemStatsParser,MARKETPLACE_ITEM_POSTED:MarketplaceMakeOfferResultParser,USER_BANNED:UserBannedMessageParser,MODERATION_CAUTION:ModerationCautionParser,MODTOOL_ROOM_INFO:ModeratorRoomInfoMessageParser,MODTOOL_USER_CHATLOG:UserChatlogMessageParser,MODTOOL_ROOM_CHATLOG:RoomChatlogMessageParser,MODERATION_USER_INFO:ModeratorUserInfoMessageParser,MODERATION_TOOL:ModeratorInitMessageParser,MODTOOL_VISITED_ROOMS_USER:RoomVisitsMessageParser,CFH_CHATLOG:CfhChatlogMessageParser,ISSUE_DELETED:IssueDeletedMessageParser,ISSUE_INFO:IssueInfoMessageParser,ISSUE_PICK_FAILED:IssuePickFailedMessageParser,MODERATOR_ACTION_RESULT:ModeratorActionResultMessageParser,MODERATOR_MESSAGE:ModeratorMessageParser,MODERATOR_TOOL_PREFERENCES:ModeratorToolPreferencesMessageParser,MYSTERY_BOX_KEYS:MysteryBoxKeysParser,GOTMYSTERYBOXPRIZEMESSAGE:GotMysteryBoxPrizeMessageParser,CANCELMYSTERYBOXWAITMESSAGE:CancelMysteryBoxWaitMessageParser,SHOWMYSTERYBOXWAITMESSAGE:ShowMysteryBoxWaitMessageParser,CAN_CREATE_ROOM_EVENT:CanCreateRoomEventParser,CATEGORIES_WITH_VISITOR_COUNT:CategoriesWithVisitorCountParser,COMPETITION_ROOMS_DATA:CompetitionRoomsDataMessageParser,CONVERTED_ROOM_ID:ConvertedRoomIdMessageParser,ROOM_DOORBELL:DoorbellMessageParser,USER_FAVORITE_ROOM:FavouriteChangedMessageParser,USER_FAVORITE_ROOM_COUNT:FavouritesMessageParser,ROOM_DOORBELL_REJECTED:FlatAccessDeniedMessageParser,ROOM_CREATED:FlatCreatedMessageParser,ROOM_INFO:GetGuestRoomResultMessageParser,GUEST_ROOM_SEARCH_RESULT:GuestRoomSearchResultMessageParser,USER_HOME_ROOM:NavigatorHomeRoomParser,ROOM_EVENT_CANCEL:RoomEventCancelMessageParser,ROOM_EVENT:RoomEventMessageParser,ROOM_INFO_UPDATED:RoomSettingsUpdatedParser,THUMBNAIL_UPDATE_RESULT:RoomThumbnailUpdateResultMessageParser,NAVIGATOR_EVENT_CATEGORIES:UserEventCatsMessageParser,NAVIGATOR_CATEGORIES:UserFlatCatsMessageParser,NAVIGATOR_COLLAPSED:NavigatorCollapsedParser,NAVIGATOR_LIFTED:NavigatorLiftedParser,NAVIGATOR_METADATA:NavigatorMetadataParser,NAVIGATOR_SEARCHES:NavigatorSearchesParser,NAVIGATOR_SEARCH:NavigatorSearchParser,NAVIGATOR_SETTINGS:NavigatorSettingsParser,GENERIC_ALERT:HabboBroadcastMessageParser,MOTD_MESSAGES:MOTDNotificationParser,NOTIFICATION_LIST:NotificationDialogMessageParser,UNSEEN_ITEMS:UnseenItemsParser,ACHIEVEMENT_NOTIFICATION:AchievementNotificationMessageParser,INFO_FEED_ENABLE:InfoFeedEnableMessageParser,CLUB_GIFT_NOTIFICATION:ClubGiftNotificationParser,ACTIVITY_POINT_NOTIFICATION:ActivityPointNotificationParser,BOT_ERROR:BotErrorEventParser,PET_LEVEL_NOTIFICATION:PetLevelNotificationParser,NOTIFICATION_SIMPLE_ALERT:SimpleAlertMessageParser,NOTIFICATION_ELEMENT_POINTER:ElementPointerMessageParser,USER_PERKS:PerkAllowancesMessageParser,PET_TRAINING_PANEL:PetTrainingMessageParser,PET_LEVEL_UPDATE:PetLevelUpdateMessageParser,PET_SCRATCH_FAILED:PetScratchFailedMessageParser,PET_OPEN_PACKAGE_REQUESTED:OpenPetPackageRequestedMessageParser,PET_OPEN_PACKAGE_RESULT:OpenPetPackageResultMessageParser,PET_BREEDING_RESULT:PetBreedingResultParser,QUESTION:QuestionParser,POLL_CONTENTS:PollContentsParser,POLL_ERROR:PollErrorParser,POLL_OFFER:PollOfferParser,QUESTION_ANSWERED:QuestionAnsweredParser,QUESTION_FINISHED:QuestionFinishedParser,COMMUNITY_GOAL_EARNED_PRIZES:CommunityGoalEarnedPrizesMessageParser,COMMUNITY_GOAL_PROGRESS:CommunityGoalProgressMessageParser,CONCURRENT_USERS_GOAL_PROGRESS:ConcurrentUsersGoalProgressMessageParser,QUEST_DAILY:QuestDailyMessageParser,QUEST_CANCELLED:QuestCancelledMessageParser,QUEST_COMPLETED:QuestCompletedMessageParser,COMMUNITY_GOAL_HALL_OF_FAME:CommunityGoalHallOfFameMessageParser,EPIC_POPUP:EpicPopupMessageParser,SEASONAL_QUESTS:SeasonalQuestsParser,QUESTS:QuestsMessageParser,QUEST:QuestMessageParser,ROOM_ENTER:RoomEnterParser,ROOM_FORWARD:RoomFowardParser,ROOM_DOORBELL_ACCEPTED:RoomDoorbellAcceptedParser,ROOM_RIGHTS_CLEAR:RoomRightsClearParser,ROOM_RIGHTS_OWNER:RoomRightsOwnerParser,ROOM_RIGHTS:RoomRightsParser,BOT_COMMAND_CONFIGURATION:BotCommandConfigurationParser,BOT_SKILL_LIST_UPDATE:BotSkillListUpdateParser,BOT_FORCE_OPEN_CONTEXT_MENU:BotForceOpenContextMenuParser,ROOM_SETTINGS_CHAT:RoomChatSettingsParser,ROOM_INFO_OWNER:RoomEntryInfoMessageParser,ROOM_SCORE:RoomScoreParser,ROOM_ROLLING:ObjectsRollingParser,FURNITURE_FLOOR_ADD:FurnitureFloorAddParser,FURNITURE_FLOOR:FurnitureFloorParser,FURNITURE_FLOOR_REMOVE:FurnitureFloorRemoveParser,FURNITURE_FLOOR_UPDATE:FurnitureFloorUpdateParser,ITEM_WALL_ADD:FurnitureWallAddParser,ITEM_WALL:FurnitureWallParser,ITEM_WALL_REMOVE:FurnitureWallRemoveParser,ITEM_WALL_UPDATE:FurnitureWallUpdateParser,FURNITURE_ALIASES:FurnitureAliasesParser,FURNITURE_DATA:FurnitureDataParser,FURNITURE_ITEMDATA:ItemDataUpdateMessageParser,ITEM_STACK_HELPER:FurnitureStackHeightParser,FURNITURE_STATE:OneWayDoorStatusMessageParser,ITEM_DIMMER_SETTINGS:RoomDimmerPresetsMessageParser,FURNITURE_STATE_2:DiceValueMessageParser,LOVELOCK_FURNI_FINISHED:LoveLockFurniFinishedParser,LOVELOCK_FURNI_FRIEND_COMFIRMED:LoveLockFurniFriendConfirmedParser,LOVELOCK_FURNI_START:LoveLockFurniStartParser,OBJECTS_DATA_UPDATE:ObjectsDataUpdateParser,FURNITURE_GROUP_CONTEXT_MENU_INFO:GroupFurniContextMenuInfoMessageParser,FURNITURE_POSTIT_STICKY_POLE_OPEN:RequestSpamWallPostItMessageParser,ROOM_SPECTATOR:YouAreSpectatorMessageParser,CUSTOM_USER_NOTIFICATION:CustomUserNotificationMessageParser,ROOM_MESSAGE_NOTIFICATION:RoomMessageNotificationMessageParser,ROOM_POPULAR_TAGS_RESULT:PopularRoomTagsResultMessageParser,ROOM_RIGHTS_LIST:FlatControllersParser,ROOM_RIGHTS_LIST_ADD:FlatControllerAddedParser,ROOM_RIGHTS_LIST_REMOVE:FlatControllerRemovedParser,ROOM_BAN_LIST:BannedUsersFromRoomParser,ROOM_SETTINGS:RoomSettingsDataParser,ROOM_SETTINGS_SAVE:RoomSettingsSavedParser,ROOM_SETTINGS_ERROR:RoomSettingsErrorParser,SHOW_ENFORCE_ROOM_CATEGORY:ShowEnforceRoomCategoryDialogParser,ROOM_BAN_REMOVE:UserUnbannedFromRoomParser,ROOM_MUTED:MuteAllInRoomParser,NO_SUCH_FLAT:NoSuchFlatParser,FAVORITE_GROUP_UDPATE:FavoriteMembershipUpdateMessageParser,ROOM_MODEL_DOOR:RoomEntryTileMessageParser,ROOM_HEIGHT_MAP:RoomHeightMapParser,ROOM_HEIGHT_MAP_UPDATE:RoomHeightMapUpdateParser,ROOM_MODEL:FloorHeightMapMessageParser,ROOM_MODEL_NAME:RoomReadyMessageParser,ROOM_PAINT:RoomPaintParser,ROOM_THICKNESS:RoomVisualizationSettingsParser,ROOM_GET_FILTER_WORDS:RoomFilterSettingsMessageParser,ROOM_MODEL_BLOCKED_TILES:RoomOccupiedTilesMessageParser,PET_FIGURE_UPDATE:PetFigureUpdateParser,PET_INFO:PetInfoParser,PET_STATUS:PetStatusUpdateParser,PET_EXPERIENCE:PetExperienceParser,PLAYING_GAME:YouArePlayingGameParser,UNIT_DANCE:RoomUnitDanceParser,UNIT_EFFECT:RoomUnitEffectParser,UNIT:RoomUnitParser,UNIT_EXPRESSION:RoomUnitExpressionParser,UNIT_HAND_ITEM:RoomUnitHandItemParser,UNIT_IDLE:RoomUnitIdleParser,UNIT_INFO:RoomUnitInfoParser,UNIT_NUMBER:RoomUnitNumberParser,UNIT_REMOVE:RoomUnitRemoveParser,UNIT_STATUS:RoomUnitStatusParser,HAND_ITEM_RECEIVED:RoomUnitHandItemReceivedParser,FLOOD_CONTROL:FloodControlParser,REMAINING_MUTE:RemainingMuteParser,UNIT_CHAT:RoomUnitChatParser,UNIT_CHAT_SHOUT:RoomUnitChatParser,UNIT_CHAT_WHISPER:RoomUnitChatParser,UNIT_TYPING:RoomUnitTypingParser,WIRED_ACTION:WiredFurniActionParser,WIRED_CONDITION:WiredFurniConditionParser,WIRED_TRIGGER:WiredFurniTriggerParser,WIRED_OPEN:WiredOpenParser,WIRED_REWARD:WiredRewardResultMessageParser,WIRED_SAVE:WiredSaveSuccessParser,WIRED_ERROR:WiredValidationErrorParser,AUTHENTICATED:AuthenticatedParser,JUKEBOX_PLAYLIST_FULL:JukeboxPlayListFullMessageParser,JUKEBOX_SONG_DISKS:JukeboxSongDisksMessageParser,NOW_PLAYING:NowPlayingMessageParser,OFFICIAL_SONG_ID:OfficialSongIdMessageParser,PLAYLIST:PlayListMessageParser,PLAYLIST_SONG_ADDED:PlayListSongAddedMessageParser,TRAX_SONG_INFO:TraxSongInfoMessageParser,USER_SONG_DISKS_INVENTORY:UserSongDisksInventoryMessageParser,HELPER_TALENT_TRACK:TalentTrackParser,TALENT_TRACK_LEVEL:TalentTrackLevelMessageParser,TALENT_TRACK_LEVEL_UP:TalentLevelUpMessageParser,IN_CLIENT_LINK:InClientLinkParser,USER_IGNORED:IgnoredUsersParser,USER_IGNORED_RESULT:IgnoreResultParser,USER_RESPECT:RespectReceivedParser,USER_PERMISSIONS:UserPermissionsParser,USER_BADGES_CURRENT:UserCurrentBadgesParser,USER_INFO:UserInfoParser,UNIT_CHANGE_NAME:UserNameChangeMessageParser,USER_SETTINGS:UserSettingsParser,USER_PROFILE:UserProfileParser,MESSENGER_RELATIONSHIPS:RelationshipStatusInfoMessageParser,GIFT_OPENED:PresentOpenedMessageParser,USER_CREDITS:UserCreditsParser,USER_CURRENCY:UserCurrencyParser,USER_CLASSIFICATION:UserClassificationMessageParser,GET_USER_TAGS:UserTagsParser,SCR_SEND_KICKBACK_INFO:ScrSendKickbackInfoMessageParser,PET_RESPECTED:PetRespectNotificationParser,PET_SUPPLEMENT:PetSupplementedNotificationParser,GENERIC_ERROR:GenericErrorParser,GROUP_LIST:GuildMembershipsMessageParser,CATALOG_APPROVE_NAME_RESULT:ApproveNameResultParser,CONNECTION_ERROR:ConnectionErrorMessageParser,GUILD_MEMBER_MGMT_FAILED:GuildMemberMgmtFailedMessageParser,EXTENDED_PROFILE_CHANGED:ExtendedProfileChangedMessageParser,NOOBNESS_LEVEL:NoobnessLevelMessageParser,HANDSHAKE_INIT_DIFFIE:InitDiffieHandshakeParser,HANDSHAKE_COMPLETE_DIFFIE:CompleteDiffieHandshakeParser,HANDSHAKE_IDENTITY_ACCOUNT:IdentityAccountsParser,NEW_USER_EXPERIENCE_GIFT_OFFER:NewUserExperienceGiftOfferMessageParser,NEW_USER_EXPERIENCE_NOT_COMPLETE:NewUserExperienceNotCompleteParser,PHONE_COLLECTION_STATE:PhoneCollectionStateParser,PHONE_TRY_NUMBER_RESULT:TryPhoneNumberResultParser,PHONE_TRY_VERIFICATION_CODE_RESULT:TryVerificationCodeResultParser,WELCOME_GIFT_CHANGE_EMAIL_RESULT:WelcomeGiftChangeEmailResultParser,WELCOME_GIFT_STATUS:WelcomeGiftStatusParser,RENTABLE_SPACE_RENT_OK:RentableSpaceRentOkMessageParser,RENTABLE_SPACE_STATUS:RentableSpaceStatusMessageParser,RENTABLE_SPACE_RENT_FAILED:RentableSpaceRentFailedMessageParser,RECYCLER_STATUS:RecyclerStatusMessageParser,RECYCLER_FINISHED:RecyclerFinishedMessageParser,EMAIL_STATUS:EmailStatusParser,RENTABLE_FURNI_RENT_OR_BUYOUT_OFFER:FurniRentOrBuyoutOfferMessageParser,WIRED_MOVEMENTS:HabbletWiredMovementParser,WIRED_SELECTOR:WiredFurniSelectorParser,WIRED_ADDON:WiredFurniAddonParser,FURNITURE_FLOOR_REMOVE_MULTIPLE:FloorMultipleHideParser};var src={exports:{}},hasRequiredSrc;function requireSrc(){return hasRequiredSrc||(hasRequiredSrc=1,function(module){var define_process_env_default={},colorList={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]},c256List={};(typeof process>"u"||!define_process_env_default)&&(globalThis.process={env:{},argv:["--color"]});var isLowMemory=define_process_env_default.CLC_LOW_MEMORY=="1",isC256Disabled=define_process_env_default.CLC_C256=="0",isDisabled=define_process_env_default.NO_COLOR||process.argv.includes("--no-color"),isSupported=!isDisabled&&(define_process_env_default.FORCE_COLOR||process.platform==="win32"||process.argv.includes("--color")||eval("require('tty')").isatty(1)&&define_process_env_default.TERM!=="dumb"||define_process_env_default.CI),TObject=typeof Reflect>"u"?Object:Reflect,fncache={};function extend(ie,ee){var te=ee.join("");return Object.keys(clc.list).forEach(function(se){var ne=te+se;TObject.defineProperty(ie,se,{get(){return fncache[ne]||(fncache[ne]=extend(function(ue){return ie(color[se](ue))},ee.concat(se))),fncache[ne]}})}),ie}function replaceClose(ie,ee,te,se){var ne=ie.substring(se+te.length),le=ne.indexOf(te);return ie.substring(0,se)+ee+(~le?replaceClose(ne,ee,te,le):ne)}function toString(ie){return ie}function getFn(ie){var ee=clc.list[ie];if(!ee||!isSupported)return toString;var te=ee[0],se=ee[1];return function(ne){if(ne===""||ne==null)return"";ne=""+ne;var le=ne.indexOf(se,te.length);return te+(le>-1&&le<ne.length-1?replaceClose(ne,te,se,le):ne)+se}}function color(ie,ee){return getFn(ee)(ie)}function init(){var ie={};isLowMemory||Object.keys(colorList).forEach(function(ee){clc[ee]=color[ee]=extend(getFn(ee),[ee])}),Object.keys(clc.list).forEach(function(ee){color[ee]||Object.defineProperty(color,ee,{get(){return ie[ee]||(ie[ee]=extend(getFn(ee),[ee])),ie[ee]}}),clc[ee]||Object.defineProperty(clc,ee,{get(){return ie[ee]||color[ee]}})})}if(!isC256Disabled)for(var i=0;i<256;i++)c256List["c"+i]=["38;5;"+i,0],c256List["bg"+i]=["48;5;"+i,0];var clc={color,list:Object.assign({},colorList,c256List),log(ie,ee){console.log(color(ie,ee))},isSupported(){return isSupported},enable(){isSupported=!0,init()},disable(){isSupported=!1,init()},strip(ie){return ie.replace(/\x1b\[\d+m/gm,"")}};color.list=clc.list,Object.keys(clc.list).forEach(function(ie){clc.list[ie]=clc.list[ie].map(function(ee){return"\x1B["+ee+"m"}),clc.log[ie]=function(){for(var ee=[],te=0;te<arguments.length;te++)ee.push(arguments[te]);console.log(color[ie](ee.join(" ")))}}),init(),module.exports=clc}(src)),src.exports}var srcExports=requireSrc();const clc=getDefaultExportFromCjs(srcExports),{log:log$2,color,list,isSupported,disable,enable,strip,reset,bold,dim,italic,underline,inverse,hidden,strikethrough,black,red,green,yellow,blue,magenta,cyan,white,gray,grey,redBright,greenBright,yellowBright,blueBright,magentaBright,cyanBright,whiteBright,bgBlack,bgRed,bgGreen,bgYellow,bgBlue,bgMagenta,bgCyan,bgWhite,blackBG,redBG,greenBG,yellowBG,blueBG,magentaBG,cyanBG,whiteBG,bgBlackBright,bgRedBright,bgGreenBright,bgYellowBright,bgBlueBright,bgMagentaBright,bgCyanBright,bgWhiteBright}=clc,log$1=(...ie)=>{};let Message$1=(IO=class{static get initialized(){return!!this._socketConnection}static on(ee,te){const se=async(ne,le)=>{try{await te(ne,le)}catch(ue){console.error("Error in event listener",ue)}};return this._emitter.on(ee,se)}static once(ee,te,se=!0){const ne=this._priorityEmitter.on(ee,async(le,ue)=>{ne();try{await te(le,ue)}catch(ce){console.error("Error in event listener",ce)}return se});return ne}static priorityOn(ee,te,se=!0){return this._priorityEmitter.on(ee,async(ne,le)=>{try{if(await te(ne,le))return!1}catch(ue){return console.error("Error in event listener",ue),se}return se})}static async emit(ee,...te){const se=messageHeadersByNumber[ee];if(!se)return console.error("Message.emit: unknown header",ee);const ne=this._priorityEmitter.events[se];ne&&ne.length?(await Promise.all(ne.map(ce=>{try{return ce(...te)}catch(he){return console.error(he),new Promise(de=>de(!1))}}))).every(ce=>ce===!1)&&this._emitter.emit(se,...te):this._emitter.emit(se,...te)}static waitFor(ee,te=!1,se=()=>!0,ne=!0,le=!1){return new Promise((ue,ce)=>{const he=async(fe,ye)=>(se?se(fe):!0)?(te&&ye.preventDefault(),ue(fe),de(),!0):!1,de=this.priorityOn(ee,he,ne),_e=()=>{de(),ce("Unbound!")};le&&roomStore.executeWhenChangeRoom.push(_e)})}static init(){this._nitroMessages=new NitroMessages,this._communicationManager=new CommunicationManager,this._stateListener=new NitroCommunicationManager(this._communicationManager),this._socketConnection=new SocketConnection(this._communicationManager,this._stateListener),this._socketConnection.registerMessages(this._nitroMessages)}static async getParserForHeader(ee,te){const se=messageHeadersByNumber[ee];if(!se)return console.error("Message.getParserForHeader: unknown header",ee),null;const ne=MessageParsers[se];if(!ne)return console.error("Message.getParserForHeader: no parser for header",se),null;const le=new ne;le.flush();const ue=new EvaWireDataWrapper(ee,te);try{return le.parse(ue)?le:(console.error("Message.getParserForHeader: could not parse the data",se),null)}catch(ce){return console.error("Message.getParserForHeader: error parsing message",ce),null}}static getCustomParserByHeader(ee){return this.customParsersByHeader[ee]}static getEventByHeader(ee){return new Promise(te=>(this._socketConnection._messages._messageIdByEvent.forEach(async(ne,le)=>{if(ne===ee)return te(le)}),te(null)))}static async parseAndProcessBuffer(ee,te){this.initialized||this.init();const se=new BinaryReader(ee);se.readInt();const ne=se.readShort(),le=se.getRemainingBuffer(),ue=messageHeadersByNumber[ne];if(!ue)return console.error("Message.parseAndProcessBuffer: unknown header",ne);if(["CLIENT_PING"].includes(ue))return;const he=await this.getParserForHeader(ne,le);if(!he)return console.error("Message.parseAndProcessBuffer: no parser for header",ue);const de=new EventContext(te);this._blocked.includes(ue)&&te(de),this._blockedOnce.includes(ue)&&(this._blockedOnce=this._blockedOnce.filter(_e=>_e!==ue),te(de)),localStorage.getItem("hibisco-debug")==="true"&&log$1(color.green(`Message.parseAndProcessBuffer: header ${ue}`),he),this.emit(ne,he,de)}static simulate(ee,te){const se=messageHeadersByString[ee];if(!se)return console.error(`Message.simulate: header not found for ${ee}`);const ne=new DumbComposer(se),le=Array.isArray(te)?te:Object.values(te),ce=ne.compose(le).getBuffer();this.sendBuffer(ce)}static simulateStrict(ee,te){const se=messageHeadersByString[ee];if(!se)return console.error(`Message.simulate: header not found for ${ee}`);const ne=new DumbComposer(se),le=Array.isArray(te)?te:Object.values(te),ce=ne.compose(le).getBuffer();this.sendBuffer(ce)}static block(ee){this._blocked.push(ee)}static blockOnce(ee){this._blockedOnce.push(ee)}static unblock(ee){this._blocked=this._blocked.filter(te=>te!==ee)}static sendBuffer(ee){const{isHubbe:te,isLella:se,isHabbok:ne,isIron:le,wss:ue}=window,ce=te||se||ne||le,he=new Blob([ee],{type:"application/octet-stream"});ue.dispatchEvent(new MessageEvent("message",{data:ce?he:ee}))}},dE(IO,"_priorityEmitter",createNanoEvents()),dE(IO,"_emitter",createNanoEvents()),dE(IO,"_blocked",[]),dE(IO,"_blockedOnce",[]),dE(IO,"_nitroMessages"),dE(IO,"_communicationManager"),dE(IO,"_stateListener"),dE(IO,"_socketConnection"),dE(IO,"customParsersByHeader",{994:FurnitureListParser,360:HabbletWiredMovementParser,1434:WiredFurniActionParser,1108:WiredFurniConditionParser,383:WiredFurniTriggerParser,356:WiredFurniAddonParser,362:WiredFurniSelectorParser,1112:YoutubeDisplayPlaylistsMessageParser}),IO);class RoomUnitChatComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.UNIT_CHAT);dE(this,"message");dE(this,"styleId")}setData(te,se){this.message=te,this.styleId=se}getMessagesArray(){return[this.message,this.styleId]}decodeFromWrapper(te){const se=te.readString(),ne=te.readInt();this.setData(se,ne)}}class RoomUnitTypingStartComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.UNIT_TYPING)}getMessagesArray(){return[]}decodeFromWrapper(){}}class RoomUnitLookComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.UNIT_CHAT);dE(this,"x");dE(this,"y")}setData(te,se){this.x=te,this.y=se}getMessagesArray(){return[this.x,this.y]}decodeFromWrapper(te){const se=te.readInt(),ne=te.readInt();this.setData(se,ne)}}class RoomUnitWalkComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.UNIT_CHAT);dE(this,"x");dE(this,"y")}setData(te,se){this.x=te,this.y=se}getMessagesArray(){return[this.x,this.y]}decodeFromWrapper(te){const se=te.readInt(),ne=te.readInt();this.setData(se,ne)}}class WiredActionSaveComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.WIRED_ACTION_SAVE);dE(this,"id");dE(this,"ints");dE(this,"string");dE(this,"stuffs");dE(this,"delayInTicks");dE(this,"selectionCode");dE(this,"furniSelectionTypes");dE(this,"userSelectionTypes")}setData(te,se,ne,le,ue,ce,he,de){this.id=te,this.ints=se,this.string=ne,this.stuffs=le,this.delayInTicks=ue,this.selectionCode=ce,this.furniSelectionTypes=he,this.userSelectionTypes=de}getMessagesArray(){return[this.id,this.ints,this.string,this.stuffs,this.delayInTicks,this.selectionCode,this.furniSelectionTypes,this.userSelectionTypes]}decodeFromWrapper(te){const se=te.readInt(),ne=this.readIntArray(te),le=te.readString(),ue=this.readIntArray(te),ce=te.readInt(),he=te.readInt(),de=this.readIntArray(te),_e=this.readIntArray(te);this.setData(se,ne,le,ue,ce,he,de,_e)}}class WiredConditionSaveComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.WIRED_ACTION_SAVE);dE(this,"id");dE(this,"ints");dE(this,"string");dE(this,"stuffs");dE(this,"selectionCode");dE(this,"quantifierCode");dE(this,"furniSelectionTypes");dE(this,"userSelectionTypes")}setData(te,se,ne,le,ue,ce,he,de){this.id=te,this.ints=se,this.string=ne,this.stuffs=le,this.selectionCode=ue,this.quantifierCode=ce,this.furniSelectionTypes=he,this.userSelectionTypes=de}getMessagesArray(){return[this.id,this.ints,this.string,this.stuffs,this.selectionCode,this.quantifierCode,this.furniSelectionTypes,this.userSelectionTypes]}decodeFromWrapper(te){const se=te.readInt(),ne=this.readIntArray(te),le=te.readString(),ue=this.readIntArray(te),ce=te.readInt(),he=te.readInt(),de=this.readIntArray(te),_e=this.readIntArray(te);this.setData(se,ne,le,ue,ce,he,de,_e)}}class WiredTriggerSaveComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.WIRED_ACTION_SAVE);dE(this,"id");dE(this,"ints");dE(this,"string");dE(this,"stuffs");dE(this,"selectionCode");dE(this,"furniSelectionTypes");dE(this,"userSelectionTypes")}setData(te,se,ne,le,ue,ce,he){this.id=te,this.ints=se,this.string=ne,this.stuffs=le,this.selectionCode=ue,this.furniSelectionTypes=ce,this.userSelectionTypes=he}getMessagesArray(){return[this.id,this.ints,this.string,this.stuffs,this.selectionCode,this.furniSelectionTypes,this.userSelectionTypes]}decodeFromWrapper(te){const se=te.readInt(),ne=this.readIntArray(te),le=te.readString(),ue=this.readIntArray(te),ce=te.readInt(),he=this.readIntArray(te),de=this.readIntArray(te);this.setData(se,ne,le,ue,ce,he,de)}}class WiredSelectorSaveComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.WIRED_ACTION_SAVE);dE(this,"id");dE(this,"ints");dE(this,"string");dE(this,"stuffs");dE(this,"selectionCode");dE(this,"filter");dE(this,"invert");dE(this,"furniSelectionTypes");dE(this,"userSelectionTypes")}setData(te,se,ne,le,ue,ce,he,de,_e){this.id=te,this.ints=se,this.string=ne,this.stuffs=le,this.selectionCode=ue,this.filter=ce,this.invert=he,this.furniSelectionTypes=de,this.userSelectionTypes=_e}getMessagesArray(){return[this.id,this.ints,this.string,this.stuffs,this.selectionCode,this.filter,this.invert,this.furniSelectionTypes,this.userSelectionTypes]}decodeFromWrapper(te){const se=te.readInt(),ne=this.readIntArray(te),le=te.readString(),ue=this.readIntArray(te),ce=te.readInt(),he=te.readBoolean(),de=te.readBoolean(),_e=this.readIntArray(te),fe=this.readIntArray(te);this.setData(se,ne,le,ue,ce,he,de,_e,fe)}}class WiredAddonSaveComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.WIRED_ACTION_SAVE);dE(this,"id");dE(this,"ints");dE(this,"string");dE(this,"stuffs");dE(this,"selectionCode");dE(this,"furniSelectionTypes");dE(this,"userSelectionTypes")}setData(te,se,ne,le,ue,ce,he){this.id=te,this.ints=se,this.string=ne,this.stuffs=le,this.selectionCode=ue,this.furniSelectionTypes=ce,this.userSelectionTypes=he}getMessagesArray(){return[this.id,this.ints,this.string,this.stuffs,this.selectionCode,this.furniSelectionTypes,this.userSelectionTypes]}decodeFromWrapper(te){const se=te.readInt(),ne=this.readIntArray(te),le=te.readString(),ue=this.readIntArray(te),ce=te.readInt(),he=this.readIntArray(te),de=this.readIntArray(te);this.setData(se,ne,le,ue,ce,he,de)}}class GetProductOfferComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.UNIT_CHAT);dE(this,"purchaseOfferId")}setData(te){this.purchaseOfferId=te}getMessagesArray(){return[this.purchaseOfferId]}decodeFromWrapper(te){const se=te.readInt();this.setData(se)}}class FurniturePlaceComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.UNIT_CHAT);dE(this,"data")}setData(te){this.data=te}getMessagesArray(){return[this.data]}decodeFromWrapper(te){const se=te.readString();this.setData(se)}}class SaveWardrobeOutfitComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.SAVE_WARDROBE_OUTFIT);dE(this,"id");dE(this,"figure");dE(this,"gender")}setData(te,se,ne){this.id=te,this.figure=se,this.gender=ne}getMessagesArray(){return[this.id,this.figure,this.gender]}decodeFromWrapper(te){const se=te.readInt(),ne=te.readString(),le=te.readString();this.setData(se,ne,le)}}class UserBadgesCurrentComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.USER_BADGES_CURRENT);dE(this,"id")}setData(te){this.id=te}getMessagesArray(){return[this.id]}decodeFromWrapper(te){const se=te.readInt();this.setData(se)}}class JoinYoutubeVideoComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.JOIN_YOUTUBE_VIDEO)}setData(){}getMessagesArray(){return[]}decodeFromWrapper(){}}class AddYoutubeVideoToQueueComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.ADD_YOUTUBE_VIDEO_TO_QUEUE);dE(this,"youtubeLink")}setData(te){this.youtubeLink=te}getMessagesArray(){return[this.youtubeLink]}decodeFromWrapper(te){const se=te.readString();this.setData(se)}}class ShowYoutubeVideoAlertComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.SHOW_YOUTUBE_VIDEO_ALERT);dE(this,"alertMessage")}setData(te){this.alertMessage=te}getMessagesArray(){return[this.alertMessage]}decodeFromWrapper(te){const se=te.readString();this.setData(se)}}class RemoveYoutubeVideoToQueueComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.REMOVE_YOUTUBE_VIDEO_FROM_QUEUE);dE(this,"youtubeVideoId")}setData(te){this.youtubeVideoId=te}getMessagesArray(){return[this.youtubeVideoId]}decodeFromWrapper(te){const se=te.readString();this.setData(se)}}class LeaveYoutubeVideoComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.LEAVE_YOUTUBE_VIDEO)}setData(){}getMessagesArray(){return[]}decodeFromWrapper(){}}class DeleteInventoryItemPemanentlyComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.DELETE_INVENTORY_ITEM_PERMANENTLY);dE(this,"items")}setData(te){this.items=te}getMessagesArray(){return[this.items]}decodeFromWrapper(te){const se=[];for(let ne=te.readInt();ne--;){const le=te.readString();se.push(le)}this.setData(se)}}class FurniturePickupComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.UNIT_CHAT);dE(this,"x");dE(this,"itemId")}setData(te,se){this.x=te,this.itemId=se}getMessagesArray(){return[this.x,this.itemId]}decodeFromWrapper(te){const se=te.readInt(),ne=te.readInt();this.setData(se,ne)}}class UserProfileComposer extends AMessageComposerParser{constructor(){super();dE(this,"header",composerHeadersByString.USER_PROFILE);dE(this,"userId")}setData(te){this.userId=te}getMessagesArray(){return[this.userId]}decodeFromWrapper(te){const se=te.readInt();this.setData(se)}}const composerParsersByHeader={UNIT_CHAT:RoomUnitChatComposer,UNIT_CHAT_SHOUT:RoomUnitChatComposer,UNIT_CHAT_WHISPER:RoomUnitChatComposer,UNIT_TYPING:RoomUnitTypingStartComposer,UNIT_LOOK:RoomUnitLookComposer,UNIT_WALK:RoomUnitWalkComposer,WIRED_ACTION_SAVE:WiredActionSaveComposer,WIRED_CONDITION_SAVE:WiredConditionSaveComposer,WIRED_TRIGGER_SAVE:WiredTriggerSaveComposer,WIRED_SELECTOR_SAVE:WiredSelectorSaveComposer,WIRED_ADDON_SAVE:WiredAddonSaveComposer,GET_PRODUCT_OFFER:GetProductOfferComposer,FURNITURE_PLACE:FurniturePlaceComposer,SECURITY_TICKET:SecurityTicketComposer,SAVE_WARDROBE_OUTFIT:SaveWardrobeOutfitComposer,USER_BADGES_CURRENT:UserBadgesCurrentComposer,JOIN_YOUTUBE_VIDEO:JoinYoutubeVideoComposer,ADD_YOUTUBE_VIDEO_TO_QUEUE:AddYoutubeVideoToQueueComposer,SHOW_YOUTUBE_VIDEO_ALERT:ShowYoutubeVideoAlertComposer,REMOVE_YOUTUBE_VIDEO_FROM_QUEUE:RemoveYoutubeVideoToQueueComposer,LEAVE_YOUTUBE_VIDEO:LeaveYoutubeVideoComposer,DELETE_INVENTORY_ITEM_PERMANENTLY:DeleteInventoryItemPemanentlyComposer,FURNITURE_PICKUP:FurniturePickupComposer,USER_PROFILE:UserProfileComposer},log=(...ie)=>{};let Packet$1=(KD=class{static on(ee,te){this._emitter.on(ee,te)}static emit(ee,...te){const se=composerHeadersByNumber[ee];if(!se)return console.error("Composer.emit: unknown header",ee);this._emitter.emit(se,...te)}static async parseAndProcessBuffer(ee,te){const se=new BinaryReader(ee);se.readInt();const ne=se.readShort(),le=se.getRemainingBuffer(),ue=composerHeadersByNumber[ne];if(!ue)return console.error("Packet.parseAndProcessBuffer: unknown header",ne);const ce=new EventContext(te);if(this._blocked.includes(ue))return te(ce);if(this._blockedOnce.includes(ue))return this._blockedOnce=this._blockedOnce.filter(ye=>ye!==ue),te(ce);if(localStorage.getItem("hibisco-debug")==="true"&&log(color.red(`Packet.parseAndProcessBuffer: header ${ue}`)),["CLIENT_PONG"].includes(ue))return;const de=composerParsersByHeader[ue];if(!de)return log("Packet: parserClass is false for header",ue);const _e=new de,fe=new EvaWireDataWrapper(ne,le);_e.decodeFromWrapper(fe),localStorage.getItem("hibisco-debug")==="true"&&log(color.red(`Packet.parseAndProcessBuffer: header ${ue}`),_e),this.emit(ne,_e,ce)}static send(ee,te){const se=typeof ee=="number"?ee:composerHeadersByString[ee];if(!se)return console.error("Packet.send: unknown header",ee);const ne=new DumbComposer(se),le=Array.isArray(te)?te:Object.values(te),ue=ne.compose(le);window.wss.ws.send(ue.getBuffer())}static block(ee){this._blocked.push(ee)}static blockOnce(ee){this._blockedOnce.push(ee)}static unblock(ee){this._blocked=this._blocked.filter(te=>te!==ee)}},dE(KD,"_emitter",createNanoEvents()),dE(KD,"_blocked",[]),dE(KD,"_blockedOnce",[]),KD);const releaseInfo={version:"16.0.326",news:["Agora as novidades da versão são exibidas ao atualizar o Hibisco","Nova interface para enquetes do comando :quickpoll","Adicionada opção para não entrar mais no grupo do Hibisco ao logar (está em Utilidades -> Outros)","Adicionada configuração para ativar/desativar botão de remover próprios direitos em quartos alheios","Adicionada configuração para ativar/desativar atalhos de ações com usuários","Adicionada configuração para ativar/desativar acesso à interface filtro de quartos","Ícone de Comandos de Quarto agora usa o tamanho original do ícone","Opção de esconder ícone do Hibisco removida","Função de transformar alertas em notificações agora é específicas para alguns alertas"],bugs:["Erro de posicionamento dos ads e alguns mobis ao usar funções de ocultar mobis","A busca ficava sendo sobrescrita com usernames de locutores","De vez em quando, o Habblet ficava impossibilitado de abrir perfis de usuários","Corrigido bug na loja que fazia com que a janela de Presentar não funcionasse","Foram removidas as mensagens que apareciam ao criarem enquetes e ao votarem nelas"]};window.Packet=Packet$1,window.Message=Message$1,window.roomStore=roomStore,window.settingsStore=A$2,window.snapshot=jt,window.myself=myself,Map.prototype.find=function(ie){for(const[ee,te]of this)if(ie(te,ee,this))return te},Map.prototype.findIndex=function(ie){for(const[ee,te]of this)if(ie(te,ee,this))return ee},Map.prototype.filter=function(ie){const ee=[];for(const[te,se]of this)ie(se,te,this)&&ee.push(se);return ee},Map.prototype.findByName=function(ie){for(const[,ee]of this)if(ee.name.toLowerCase()===ie.toLowerCase())return ee},Map.prototype.findById=function(ie){for(const[,ee]of this)if(ee.id===ie)return ee},Map.prototype.findByItemId=function(ie){for(const[,ee]of this)if(ee.itemId===ie)return ee},Map.prototype.findByRoomIndex=function(ie){for(const[,ee]of this)if(ee.roomIndex===ie)return ee},Map.prototype.filterBySpriteId=function(ie){return this.filter(ee=>ee.spriteId===ie)},window.hibiscoVersion="16.0.326";try{const ie=setInterval(()=>{typeof window.jQuery=="function"&&window.$===window.jQuery&&(allHandlers(),clearInterval(ie))},100),ee=document.createElement("div"),te=document.createElement("div");te.innerHTML=`
<div id="hibisco-root" data-theme="dark" class="absolute draggable-window" style="z-index: 401; position: absolute; top: calc(50vh - 250px); left: calc(50vw - 200px); visibility: visible; pointer-events: all;"></div>`,jt(A$2).reworkUi.alwaysCloseFriendsToolbarOnLoad&&localStorage.setItem("nitro.hide-friend-bar","true");const ne=setInterval(()=>{const le=document.querySelector(".navigation-item");if(window.jQuery,window.$,window.jQuery,le&&window.$===window.jQuery){loadHandlers(),clearInterval(ne),le.parentElement.appendChild(ee),clientExports.createRoot(ee).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(HibiscoIcon,{})})),document.querySelector(".navigation-item").parentElement.appendChild(ee),document.querySelector("#draggable-windows-container").appendChild(te);const ue=()=>{const Pm=oe(hibiscoStore).isZhang,aE="16.0.326"+(localStorage.getItem("hibisco-beta")==="true"?"-beta":"");return jsxRuntimeExports.jsxs(MantineProvider,{theme:MantineCustomTheme,forceColorScheme:"light",cssVariablesSelector:"#hibisco-root",withCssVariables:!0,deduplicateCssVariables:!1,getRootElement:()=>document.getElementById("hibisco-root"),children:[jsxRuntimeExports.jsx(HotKeysListener,{}),jsxRuntimeExports.jsx(MC,{version:aE,title:"Hibisco",isZhang:Pm,increaseWardrobeSlotsTo20,children:jsxRuntimeExports.jsx(App,{})})]})};clientExports.createRoot(document.getElementById("hibisco-root")).render(jsxRuntimeExports.jsx(ue,{})),makeDraggable(document.getElementById("hibisco-root"),".drag-handler"),subscribeToRoomStore(),loadAndParseFurnisInfo().then(()=>{}),setCustomLocalStorage(),A$2.optimizations.fixRoomAreaSelector&&setupNewAreaManager(),document.addEventListener("keydown",Pm=>{const oE=jt(A$2),aE=Pm.key;let nE=null;if(aE==="Escape"){if(oE.reworkUi.dropObjectOnEscape&&roomStore.room&&window.RoomEngine&&window.RoomEngine.objectEventHandler.getSelectedRoomObjectData(roomStore.room.data.roomId)){window.RoomEngine.objectEventHandler.resetSelectedObjectData(roomStore.room.data.roomId),oE.reworkUi.openInventoryAfterDropObject&&window.createAndClickLink("event:inventory/show");return}oE.reworkUi.closeOnEscape&&(document.querySelectorAll(".draggable-window:has(.nitro-card-header-close)").forEach(nh=>{const Hn=parseInt(getComputedStyle(nh).zIndex);if(!isNaN(Hn)){if(!nE){nE=nh;return}Hn>parseInt(getComputedStyle(nE).zIndex)&&(nE=nh)}}),nE!==null&&$(nE).find(".nitro-card-header-close")[0].click())}else if(aE==="Enter"&&document.querySelector(".nitro-wired .btn-success")){if(!oE.reworkUi.wired.saveOnEnter||document.querySelector(".nitro-wired input[data-expanded]")||$("input.chat-input").val().trim().length>0&&oE.reworkUi.wired.ignoreSaveOnEnterWhenChatInputHasText)return;$(".nitro-wired .btn-success").text().trim()==="Pronto"&&$(".nitro-wired .btn-success").click()}},!0);const ce=()=>{A$2.isGuardianToolVisible=!A$2.isGuardianToolVisible},he=()=>oe(hibiscoStore).isZhang?jsxRuntimeExports.jsx("div",{className:"cursor-pointer navigation-item icon guardian-icon",onClick:ce,style:{backgroundImage:`url(${hotel.images.guardianTools})`}}):null,[de]=createNodeAndRenderReact(jsxRuntimeExports.jsx(he,{}),null,{display:"flex",alignItems:"center",justifyContent:"center"});document.querySelector(".navigation-item").parentElement.appendChild(de);const _e=async Pm=>{const{friends:oE,others:aE}=await hotel.searchUsername(Pm);if(!oE.length&&!aE.length)return null;const nE=oE.find(Xp=>Xp.avatarName.toLowerCase()===Pm.toLowerCase()),On=aE.find(Xp=>Xp.avatarName.toLowerCase()===Pm.toLowerCase()),nh=nE||On;if(!nh)return null;const Hn=await hotel.getProfile(nh.avatarId);return{name:Hn.username,id:Hn.id,motto:Hn.motto,figure:Hn.figure,creationDate:Hn.registrationDate,online:Hn.isOnline,level:Hn.level,friendsCount:Hn.friendsCount,groupsCount:Hn.groups.length,achievements:Hn.achievementPoints,respects:Hn.respectPoints}},fe=Pm=>{myself.say(Pm)},ye=document.createElement("div");ye.id="hibisco-root3",document.querySelector("#draggable-windows-container").appendChild(ye);const be=()=>{const Pm=oe(hibiscoStore).isZhang;return jsxRuntimeExports.jsx(MantineProvider,{theme:{fontFamily:"Ubuntu Leet"},forceColorScheme:"light",cssVariablesSelector:"#hibisco-root3",withCssVariables:!0,deduplicateCssVariables:!1,getRootElement:()=>document.getElementById("hibisco-root3"),children:jsxRuntimeExports.jsx($C,{isZhang:Pm,userDataFetcher:_e,sayMessage:fe})})};clientExports.createRoot(ye).render(jsxRuntimeExports.jsx(be,{})),makeDraggable(document.getElementById("hibisco-root3"),".drag-handler");const Pe=()=>{A$2.isRoomPanelVisible=!A$2.isRoomPanelVisible},Ne=()=>oe(roomStore).room?jsxRuntimeExports.jsx("div",{className:"cursor-pointer navigation-item icon room-panel-icon",onClick:Pe,style:{backgroundImage:`url(${hotel.images.roomAdmin})`}}):null,[we]=createNodeAndRenderReact(jsxRuntimeExports.jsx(Ne,{}),null,{display:"flex",alignItems:"center",justifyContent:"center"});document.querySelector(".navigation-item").parentElement.appendChild(we);const De=()=>{const Pm=oe(hibiscoStore);return oe(roomStore).room?jsxRuntimeExports.jsx(MantineProvider,{theme:{fontFamily:"Ubuntu Leet"},forceColorScheme:"light",cssVariablesSelector:"#hibisco-root4",withCssVariables:!0,deduplicateCssVariables:!1,getRootElement:()=>document.getElementById("hibisco-root4"),children:jsxRuntimeExports.jsx(DC,{hasRights:Pm.hasRights,isOwner:Pm.isOwner,roomState:roomInfoStore,userDataFetcher:_e,sayMessage:fe})}):null},$e=document.createElement("div");$e.id="hibisco-root4",document.querySelector("#draggable-windows-container").appendChild($e),clientExports.createRoot($e).render(jsxRuntimeExports.jsx(De,{})),makeDraggable(document.getElementById("hibisco-root4"),".drag-handler");const Ge=()=>jsxRuntimeExports.jsx(MantineProvider,{theme:{fontFamily:"Ubuntu Leet"},forceColorScheme:"light",cssVariablesSelector:"#hibisco-root5",withCssVariables:!0,deduplicateCssVariables:!1,getRootElement:()=>document.getElementById("hibisco-root5"),children:jsxRuntimeExports.jsx(LC,{userDataFetcher:_e,sayMessage:fe})}),Be=document.createElement("div");Be.id="hibisco-root5",A$2.useNewRadio&&(document.querySelector("#draggable-windows-container").appendChild(Be),$("#area_player").remove(),$("#player2").remove(),clientExports.createRoot(Be).render(jsxRuntimeExports.jsx(Ge,{})));const{bugs:ze,news:$t,version:ut}=releaseInfo,Ti=()=>{const[Pm,oE]=reactExports.useState(!1),aE=()=>{oE(!0)};return Pm?null:jsxRuntimeExports.jsx("div",{className:"position-absolute draggable-window",style:{zIndex:402,top:"calc(50dvh - 175px)",left:"calc(50dvw - 175px)",visibility:"visible"},children:jsxRuntimeExports.jsxs("div",{className:`d-flex 
          overflow-hidden position-relative flex-column nitro-card theme-primary-slim nitro-alert nitro-alert-default`,children:[jsxRuntimeExports.jsx("div",{className:"d-flex position-relative flex-column gap-2 align-items-center justify-content-center drag-handler container-fluid nitro-card-header",children:jsxRuntimeExports.jsxs("div",{className:"d-flex w-100 align-items-center justify-content-center",children:[jsxRuntimeExports.jsx("span",{className:"nitro-card-header-text",children:"Hibisco - Nota de Atualização"}),jsxRuntimeExports.jsx("div",{className:"position-absolute end-0 nitro-card-header-close",onClick:aE})]})}),jsxRuntimeExports.jsx("div",{className:"d-flex flex-grow-1 overflow-hidden flex-column justify-content-between container-fluid content-area text-black",children:jsxRuntimeExports.jsxs("div",{className:"d-flex h-100 overflow-auto gap-2 flex-column",children:[jsxRuntimeExports.jsxs("div",{className:"notification-text overflow-y-auto d-flex flex-column w-100",children:[$t.length&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"fw-bold",style:{fontSize:15},children:"Adições:"}),jsxRuntimeExports.jsx("ul",{style:{listStyle:"disc",paddingLeft:20},children:$t.map((nE,On)=>jsxRuntimeExports.jsx("li",{style:{marginBottom:2},children:nE},On))})]}),ze.length&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"fw-bold",style:{fontSize:15,marginTop:10},children:"Correções:"}),jsxRuntimeExports.jsx("ul",{style:{listStyle:"disc",paddingLeft:20},children:ze.map((nE,On)=>jsxRuntimeExports.jsx("li",{style:{marginBottom:2},children:nE},On))})]})]}),jsxRuntimeExports.jsxs("div",{className:"d-flex flex-column align-items-center w-100",children:[jsxRuntimeExports.jsx("hr",{className:"my-2 w-100"}),jsxRuntimeExports.jsx("div",{onClick:aE,className:"d-flex align-items-center justify-content-center btn btn-primary btn-sm",children:"Fechar"})]})]})})]})})};if(localStorage.getItem("lastNoteVersion")!==ut){const Pm=document.createElement("div");Pm.id="hibisco-root6",document.querySelector("#draggable-windows-container").appendChild(Pm),clientExports.createRoot(Pm).render(jsxRuntimeExports.jsx(Ti,{})),makeDraggable(document.getElementById("hibisco-root6"),".drag-handler"),localStorage.setItem("lastNoteVersion",ut)}const bn=()=>jsxRuntimeExports.jsx(MantineProvider,{theme:{fontFamily:"Ubuntu Leet"},forceColorScheme:"light",cssVariablesSelector:"#hibisco-root7",withCssVariables:!0,deduplicateCssVariables:!1,getRootElement:()=>document.getElementById("hibisco-root7"),children:jsxRuntimeExports.jsx(FC,{roomState:roomInfoStore})}),gd=document.createElement("div");gd.id="hibisco-root7",document.querySelector("#draggable-windows-container").appendChild(gd),clientExports.createRoot(gd).render(jsxRuntimeExports.jsx(bn,{}))}},100)}catch(ie){console.error("Hibisco caught error",ie)}extensions.add(AccessibilitySystem),Container.mixin(accessibilityTarget),extensions.add(ResizePlugin),extensions.add(TickerPlugin),extensions.add(EventSystem),Container.mixin(FederatedContainer),extensions.add(GraphicsPipe),extensions.add(GraphicsContextSystem),extensions.add(MeshPipe),extensions.add(CanvasTextSystem),extensions.add(CanvasTextPipe),extensions.add(BitmapTextPipe,loadBitmapFont,bitmapFontCachePlugin),extensions.add(HTMLTextSystem),extensions.add(HTMLTextPipe),extensions.add(TilingSpritePipe),extensions.add(NineSliceSpritePipe),extensions.add(FilterSystem),extensions.add(FilterPipe);const browserAll=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),webworkerAll=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}))})();
